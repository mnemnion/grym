<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="2140pt" height="2803pt"
 viewBox="0.00 0.00 2140.00 2802.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2798.8026)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2798.8026 2136,-2798.8026 2136,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="963.5" cy="-2776.8026" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="963.5" y="-2772.6026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 103</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="963.5" cy="-2704.8026" rx="60.1778" ry="18"/>
<text text-anchor="middle" x="963.5" y="-2700.6026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;11</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M963.5,-2758.6339C963.5,-2750.9335 963.5,-2741.7769 963.5,-2733.2192"/>
<polygon fill="#000000" stroke="#000000" points="967.0001,-2733.2158 963.5,-2723.2158 960.0001,-2733.2159 967.0001,-2733.2158"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="722.5" cy="-2553.2024" rx="62.8772" ry="18"/>
<text text-anchor="middle" x="722.5" y="-2549.0024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Grymback</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M909.7376,-2696.5075C874.443,-2689.0336 828.6641,-2675.3084 794.5,-2650.8026 768.8996,-2632.4394 748.6288,-2602.2007 736.203,-2580.2414"/>
<polygon fill="#000000" stroke="#000000" points="739.2345,-2578.4901 731.3653,-2571.3959 733.093,-2581.849 739.2345,-2578.4901"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="849.5" cy="-2553.2024" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="849.5" y="-2549.0024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;6</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M941.7286,-2687.7673C929.8465,-2677.7965 915.3838,-2664.5011 904.5,-2650.8026 887.0568,-2628.8483 871.8171,-2600.668 861.8312,-2580.2368"/>
<polygon fill="#000000" stroke="#000000" points="864.9661,-2578.6796 857.4941,-2571.1683 858.6512,-2581.6998 864.9661,-2578.6796"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="963.5" cy="-2553.2024" rx="50.0142" ry="18"/>
<text text-anchor="middle" x="963.5" y="-2549.0024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 7&#45;11</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M963.5,-2686.516C963.5,-2660.451 963.5,-2612.3754 963.5,-2581.6383"/>
<polygon fill="#000000" stroke="#000000" points="967.0001,-2581.5538 963.5,-2571.5538 960.0001,-2581.5538 967.0001,-2581.5538"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1267.5" cy="-2553.2024" rx="70.655" ry="18"/>
<text text-anchor="middle" x="1267.5" y="-2549.0024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 12&#45;103</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M994.6047,-2689.2911C1049.7329,-2661.7995 1164.568,-2604.5331 1226.2352,-2573.7806"/>
<polygon fill="#000000" stroke="#000000" points="1227.9095,-2576.8567 1235.2966,-2569.2618 1224.7856,-2570.5924 1227.9095,-2576.8567"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1890.5,-2650.9028 1356.5,-2650.9028 1356.5,-2455.5021 1890.5,-2455.5021 1890.5,-2650.9028"/>
<text text-anchor="middle" x="1623.5" y="-2635.6026" font-family="Inconsolata" font-size="14.00" fill="#000000">* Grymback</text>
<text text-anchor="middle" x="1623.5" y="-2588.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;This is a standalone program to restore grym in the event that a knit</text>
<text text-anchor="middle" x="1623.5" y="-2572.8025" font-family="Inconsolata" font-size="14.00" fill="#000000">results in an unusable grym module.</text>
<text text-anchor="middle" x="1623.5" y="-2541.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">The plan: A =.grym= file in the root directory will contain any</text>
<text text-anchor="middle" x="1623.5" y="-2526.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">knit&#45;modified files from the last pass. &#160;=grym= itself will read and write</text>
<text text-anchor="middle" x="1623.5" y="-2510.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">to the .grym file, maintaining a data structure in the meantime; this will</text>
<text text-anchor="middle" x="1623.5" y="-2495.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">be in Lua&#45;native table format, at first, eventually Clu(den).</text>
<text text-anchor="middle" x="1623.5" y="-2463.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_1&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>section_1&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1021.7583,-2700.2654C1095.5238,-2693.7142 1226.4667,-2679.3963 1346.3406,-2651.0004"/>
<polygon fill="#000000" stroke="#000000" points="1347.5203,-2654.3164 1356.4227,-2648.572 1345.8811,-2647.511 1347.5203,-2654.3164"/>
</g>
<!-- leaf_6 -->
<g id="node7" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="513,-1745.9019 0,-1745.9019 0,-1675.3012 513,-1675.3012 513,-1745.9019"/>
<text text-anchor="middle" x="256.5" y="-1698.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;This is a standalone program to restore grym in the event that a knit</text>
<text text-anchor="middle" x="256.5" y="-1683.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">results in an unusable grym module.</text>
</g>
<!-- block_3&#45;&gt;leaf_6 -->
<g id="edge6" class="edge">
<title>block_3&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M844.6943,-2535.0207C837.6913,-2512.3968 822.3729,-2474.4514 794.5,-2455.6023 693.4863,-2387.2916 617.9505,-2495.4925 522.5,-2419.6023 307.5515,-2248.7025 266.2816,-1884.6763 258.3713,-1756.4537"/>
<polygon fill="#000000" stroke="#000000" points="261.8504,-1755.9901 257.7801,-1746.2083 254.8621,-1756.3934 261.8504,-1755.9901"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="1065.5,-1745.2028 531.5,-1745.2028 531.5,-1676.0003 1065.5,-1676.0003 1065.5,-1745.2028"/>
<text text-anchor="middle" x="798.5" y="-1730.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">The plan: A =.grym= file in the root directory will contain any</text>
<text text-anchor="middle" x="798.5" y="-1714.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">knit&#45;modified files from the last pass. &#160;=grym= itself will read and write</text>
<text text-anchor="middle" x="798.5" y="-1699.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">to the .grym file, maintaining a data structure in the meantime; this will</text>
<text text-anchor="middle" x="798.5" y="-1684.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">be in Lua&#45;native table format, at first, eventually Clu(den).</text>
</g>
<!-- block_4&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>block_4&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M959.9774,-2535.2137C939.7293,-2431.8131 837.9932,-1912.2804 807.2876,-1755.4771"/>
<polygon fill="#000000" stroke="#000000" points="810.642,-1754.3934 805.2854,-1745.2525 803.7725,-1755.7387 810.642,-1754.3934"/>
</g>
<!-- header_8 -->
<g id="node9" class="node">
<title>header_8</title>
<ellipse fill="none" stroke="#000000" cx="1138.5" cy="-1710.6015" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="1138.5" y="-1706.4015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : includes</text>
</g>
<!-- section_5&#45;&gt;header_8 -->
<g id="edge8" class="edge">
<title>section_5&#45;&gt;header_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1255.99,-2535.0292C1240.8295,-2510.0839 1214.6709,-2463.3378 1202.5,-2419.6023 1131.1131,-2163.0775 1134.5536,-1836.1642 1137.4351,-1739.0281"/>
<polygon fill="#000000" stroke="#000000" points="1140.9394,-1738.9453 1137.7614,-1728.8384 1133.943,-1738.7212 1140.9394,-1738.9453"/>
</g>
<!-- block_9 -->
<g id="node10" class="node">
<title>block_9</title>
<ellipse fill="none" stroke="#000000" cx="1267.5" cy="-1710.6015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1267.5" y="-1706.4015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 12&#45;13</text>
</g>
<!-- section_5&#45;&gt;block_9 -->
<g id="edge9" class="edge">
<title>section_5&#45;&gt;block_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1267.5,-2534.8199C1267.5,-2426.4375 1267.5,-1871.0638 1267.5,-1738.8684"/>
<polygon fill="#000000" stroke="#000000" points="1271.0001,-1738.742 1267.5,-1728.7421 1264.0001,-1738.7421 1271.0001,-1738.742"/>
</g>
<!-- block_10 -->
<g id="node11" class="node">
<title>block_10</title>
<ellipse fill="none" stroke="#000000" cx="1397.5" cy="-1710.6015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1397.5" y="-1706.4015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 14&#45;42</text>
</g>
<!-- section_5&#45;&gt;block_10 -->
<g id="edge10" class="edge">
<title>section_5&#45;&gt;block_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1279.001,-2535.0267C1294.1514,-2510.0786 1320.2985,-2463.3292 1332.5,-2419.6023 1404.0754,-2163.0948 1401.2144,-1836.1697 1398.5118,-1739.0294"/>
<polygon fill="#000000" stroke="#000000" points="1402.0044,-1738.7291 1398.2043,-1728.8392 1395.0076,-1738.9403 1402.0044,-1738.7291"/>
</g>
<!-- block_11 -->
<g id="node12" class="node">
<title>block_11</title>
<ellipse fill="none" stroke="#000000" cx="1610.5" cy="-1710.6015" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="1610.5" y="-1706.4015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 43&#45;103</text>
</g>
<!-- section_5&#45;&gt;block_11 -->
<g id="edge11" class="edge">
<title>section_5&#45;&gt;block_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1277.599,-2535.3839C1290.8896,-2513.497 1316.2663,-2476.6863 1347.5,-2455.6023 1391.8898,-2425.6374 1426.5218,-2459.2749 1462.5,-2419.6023 1646.8804,-2216.2893 1624.4361,-1844.2433 1613.8173,-1739.0076"/>
<polygon fill="#000000" stroke="#000000" points="1617.2761,-1738.4333 1612.744,-1728.8568 1610.3149,-1739.1694 1617.2761,-1738.4333"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="2132,-2419.6031 1689,-2419.6031 1689,-1001.6 2132,-1001.6 2132,-2419.6031"/>
<text text-anchor="middle" x="1910.5" y="-2404.4023" font-family="Inconsolata" font-size="14.00" fill="#000000">*** includes</text>
<text text-anchor="middle" x="1910.5" y="-2373.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="1910.5" y="-2357.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1910.5" y="-2326.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;lib/status&quot;</text>
<text text-anchor="middle" x="1910.5" y="-2310.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="1910.5" y="-2295.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;lib/ansi&quot;</text>
<text text-anchor="middle" x="1910.5" y="-2280.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">s.chatty = true</text>
<text text-anchor="middle" x="1910.5" y="-2248.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
<text text-anchor="middle" x="1910.5" y="-2217.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_file = require &quot;pl.file&quot;</text>
<text text-anchor="middle" x="1910.5" y="-2201.802" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_dir = require &quot;pl.dir&quot;</text>
<text text-anchor="middle" x="1910.5" y="-2186.402" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path = require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="1910.5" y="-2171.002" font-family="Inconsolata" font-size="14.00" fill="#000000">local getfiles = pl_dir.getfiles</text>
<text text-anchor="middle" x="1910.5" y="-2155.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">local getdirectories = pl_dir.getdirectories</text>
<text text-anchor="middle" x="1910.5" y="-2140.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">local makepath = pl_dir.makepath</text>
<text text-anchor="middle" x="1910.5" y="-2124.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">local extension = pl_path.extension</text>
<text text-anchor="middle" x="1910.5" y="-2109.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">local dirname = pl_path.dirname</text>
<text text-anchor="middle" x="1910.5" y="-2094.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">local basename = pl_path.basename</text>
<text text-anchor="middle" x="1910.5" y="-2078.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">local read = pl_file.read</text>
<text text-anchor="middle" x="1910.5" y="-2063.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local write = pl_file.write</text>
<text text-anchor="middle" x="1910.5" y="-2047.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">local delete = pl_file.delete</text>
<text text-anchor="middle" x="1910.5" y="-2032.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">local isdir = pl_path.isdir</text>
<text text-anchor="middle" x="1910.5" y="-2001.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local walk = &quot;walk&quot;</text>
<text text-anchor="middle" x="1910.5" y="-1985.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
<text text-anchor="middle" x="1910.5" y="-1954.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">This is pure script, we shouldn&#39;t even need a function</text>
<text text-anchor="middle" x="1910.5" y="-1922.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="1910.5" y="-1891.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local pwd = &quot;&quot;</text>
<text text-anchor="middle" x="1910.5" y="-1860.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">if (arg) then</text>
<text text-anchor="middle" x="1910.5" y="-1844.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">	pwd = table.remove(arg, 1)</text>
<text text-anchor="middle" x="1910.5" y="-1829.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="1910.5" y="-1813.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">	os.exit(&quot;Must be called with a root codex directory&quot;, 1)</text>
<text text-anchor="middle" x="1910.5" y="-1798.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1910.5" y="-1767.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">io.write(&quot;pwd: &quot; .. pwd .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="1910.5" y="-1735.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">local grymback_rc = read(pwd .. &quot;/.grymback&quot;)</text>
<text text-anchor="middle" x="1910.5" y="-1720.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">if not grymback_rc then</text>
<text text-anchor="middle" x="1910.5" y="-1704.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">	s:chat(&quot;No contents in grymback. &#160;No action taken.&quot;)</text>
<text text-anchor="middle" x="1910.5" y="-1689.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">	os.exit()</text>
<text text-anchor="middle" x="1910.5" y="-1674.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="1910.5" y="-1658.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">	for _,v in ipairs(epeg.split(grymback_rc, &quot;\n&quot;)) do</text>
<text text-anchor="middle" x="1910.5" y="-1643.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">		if v ~= &quot;&quot; then</text>
<text text-anchor="middle" x="1910.5" y="-1627.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">			s:chat(&quot;Reverting &quot; .. a.cyan(grymback_rc))</text>
<text text-anchor="middle" x="1910.5" y="-1612.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">			s:chat(&quot;Reading &quot; .. a.green(pwd .. &quot;/tmp&quot; .. v))</text>
<text text-anchor="middle" x="1910.5" y="-1597.001" font-family="Inconsolata" font-size="14.00" fill="#000000">			local new_tmp = read(pwd .. &quot;/tmp&quot; .. v)</text>
<text text-anchor="middle" x="1910.5" y="-1581.601" font-family="Inconsolata" font-size="14.00" fill="#000000">			if new_tmp then</text>
<text text-anchor="middle" x="1910.5" y="-1566.201" font-family="Inconsolata" font-size="14.00" fill="#000000">				s:chat(&quot; &#160;&#45; writing&quot;)</text>
<text text-anchor="middle" x="1910.5" y="-1550.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">				write(v, read(pwd .. &quot;/tmp&quot; .. v))</text>
<text text-anchor="middle" x="1910.5" y="-1535.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">			end</text>
<text text-anchor="middle" x="1910.5" y="-1520.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">		end</text>
<text text-anchor="middle" x="1910.5" y="-1504.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">	end</text>
<text text-anchor="middle" x="1910.5" y="-1489.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1910.5" y="-1473.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
</g>
<!-- section_5&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>section_5&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1276.5454,-2535.1598C1289.0622,-2512.3124 1313.9706,-2473.7428 1347.5,-2455.6023 1478.4282,-2384.7658 1564.9735,-2513.4833 1680.5,-2419.6023 1680.5863,-2419.5322 1680.6726,-2419.462 1680.7588,-2419.3918"/>
<polygon fill="#000000" stroke="#000000" points="1683.2559,-2421.8665 1688.6872,-2412.7697 1678.7685,-2416.4939 1683.2559,-2421.8665"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="1010.5,-739.6007 956.5,-739.6007 956.5,-703.6007 1010.5,-703.6007 1010.5,-739.6007"/>
</g>
<!-- block_9&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>block_9&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1272.6601,-1692.5148C1296.8092,-1603.6516 1389.8265,-1209.2506 1202.5,-1001.6007 1146.9758,-940.0526 1076.6974,-1025.5971 1019.5,-965.6007 963.2277,-906.5748 970.7588,-800.3271 978.3044,-749.7888"/>
<polygon fill="#000000" stroke="#000000" points="981.7647,-750.3151 979.8918,-739.8871 974.8529,-749.207 981.7647,-750.3151"/>
</g>
<!-- codeblock_13 -->
<g id="node14" class="node">
<title>codeblock_13</title>
<ellipse fill="none" stroke="#000000" cx="1105.5" cy="-721.6007" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1105.5" y="-717.4007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 14&#45;39</text>
</g>
<!-- block_10&#45;&gt;codeblock_13 -->
<g id="edge13" class="edge">
<title>block_10&#45;&gt;codeblock_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1402.4993,-1692.4306C1425.6427,-1603.9835 1513.7671,-1214.1547 1332.5,-1001.6007 1290.532,-952.389 1239.2202,-1009.2573 1191.5,-965.6007 1128.3623,-907.8396 1111.569,-800.9096 1107.1089,-749.9876"/>
<polygon fill="#000000" stroke="#000000" points="1110.5758,-749.4239 1106.3129,-739.7245 1103.5968,-749.9652 1110.5758,-749.4239"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="1594.5,-741.5028 1200.5,-741.5028 1200.5,-701.6987 1594.5,-701.6987 1594.5,-741.5028"/>
<text text-anchor="middle" x="1397.5" y="-710.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">This is pure script, we shouldn&#39;t even need a function</text>
</g>
<!-- block_10&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>block_10&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1397.5,-1692.5913C1397.5,-1573.8256 1397.5,-903.2442 1397.5,-751.9348"/>
<polygon fill="#000000" stroke="#000000" points="1401.0001,-751.5676 1397.5,-741.5677 1394.0001,-751.5677 1401.0001,-751.5676"/>
</g>
<!-- codeblock_16 -->
<g id="node17" class="node">
<title>codeblock_16</title>
<ellipse fill="none" stroke="#000000" cx="1689.5" cy="-721.6007" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1689.5" y="-717.4007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 43&#45;72</text>
</g>
<!-- block_11&#45;&gt;codeblock_16 -->
<g id="edge16" class="edge">
<title>block_11&#45;&gt;codeblock_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1611.9386,-1692.5913C1621.4663,-1573.3148 1675.4522,-897.4656 1687.2306,-750.0114"/>
<polygon fill="#000000" stroke="#000000" points="1690.7268,-750.1979 1688.0342,-739.951 1683.749,-749.6405 1690.7268,-750.1979"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1838.5,-965.6007 1784.5,-965.6007 1784.5,-477.6007 1838.5,-477.6007 1838.5,-965.6007"/>
</g>
<!-- block_11&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>block_11&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1606.0903,-1692.5288C1585.9466,-1605.3376 1510.7404,-1223.2982 1680.5,-1001.6007 1707.9508,-965.7515 1747.1956,-1000.7799 1775.5,-965.6007 1776.4856,-964.3757 1777.4504,-963.1357 1778.3946,-961.8812"/>
<polygon fill="#000000" stroke="#000000" points="1781.4643,-963.5994 1784.3338,-953.4005 1775.7305,-959.5839 1781.4643,-963.5994"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="1267.5,-410.801 943.5,-410.801 943.5,-30.7998 1267.5,-30.7998 1267.5,-410.801"/>
<text text-anchor="middle" x="1105.5" y="-395.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1105.5" y="-364.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;lib/status&quot;</text>
<text text-anchor="middle" x="1105.5" y="-348.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="1105.5" y="-333.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;lib/ansi&quot;</text>
<text text-anchor="middle" x="1105.5" y="-318.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">s.chatty = true</text>
<text text-anchor="middle" x="1105.5" y="-286.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
<text text-anchor="middle" x="1105.5" y="-255.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_file = require &quot;pl.file&quot;</text>
<text text-anchor="middle" x="1105.5" y="-239.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_dir = require &quot;pl.dir&quot;</text>
<text text-anchor="middle" x="1105.5" y="-224.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path = require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="1105.5" y="-209.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local getfiles = pl_dir.getfiles</text>
<text text-anchor="middle" x="1105.5" y="-193.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">local getdirectories = pl_dir.getdirectories</text>
<text text-anchor="middle" x="1105.5" y="-178.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local makepath = pl_dir.makepath</text>
<text text-anchor="middle" x="1105.5" y="-162.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local extension = pl_path.extension</text>
<text text-anchor="middle" x="1105.5" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">local dirname = pl_path.dirname</text>
<text text-anchor="middle" x="1105.5" y="-132.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">local basename = pl_path.basename</text>
<text text-anchor="middle" x="1105.5" y="-116.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">local read = pl_file.read</text>
<text text-anchor="middle" x="1105.5" y="-101.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local write = pl_file.write</text>
<text text-anchor="middle" x="1105.5" y="-85.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">local delete = pl_file.delete</text>
<text text-anchor="middle" x="1105.5" y="-70.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">local isdir = pl_path.isdir</text>
<text text-anchor="middle" x="1105.5" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">local walk = &quot;walk&quot;</text>
</g>
<!-- codeblock_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>codeblock_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1105.5,-703.4811C1105.5,-657.5642 1105.5,-532.3675 1105.5,-420.9912"/>
<polygon fill="#000000" stroke="#000000" points="1109.0001,-420.9471 1105.5,-410.9471 1102.0001,-420.9471 1109.0001,-420.9471"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="1900.5,-441.4013 1478.5,-441.4013 1478.5,-.1994 1900.5,-.1994 1900.5,-441.4013"/>
<text text-anchor="middle" x="1689.5" y="-410.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">local pwd = &quot;&quot;</text>
<text text-anchor="middle" x="1689.5" y="-379.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">if (arg) then</text>
<text text-anchor="middle" x="1689.5" y="-363.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;pwd = table.remove(arg, 1)</text>
<text text-anchor="middle" x="1689.5" y="-348.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="1689.5" y="-332.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;os.exit(&quot;Must be called with a root codex directory&quot;, 1)</text>
<text text-anchor="middle" x="1689.5" y="-317.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1689.5" y="-286.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">io.write(&quot;pwd: &quot; .. pwd .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="1689.5" y="-254.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">local grymback_rc = read(pwd .. &quot;/.grymback&quot;)</text>
<text text-anchor="middle" x="1689.5" y="-239.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">if not grymback_rc then</text>
<text text-anchor="middle" x="1689.5" y="-223.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;s:chat(&quot;No contents in grymback. &#160;No action taken.&quot;)</text>
<text text-anchor="middle" x="1689.5" y="-208.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;os.exit()</text>
<text text-anchor="middle" x="1689.5" y="-193.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="1689.5" y="-177.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for _,v in ipairs(epeg.split(grymback_rc, &quot;\n&quot;)) do</text>
<text text-anchor="middle" x="1689.5" y="-162.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if v ~= &quot;&quot; then</text>
<text text-anchor="middle" x="1689.5" y="-146.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;s:chat(&quot;Reverting &quot; .. a.cyan(grymback_rc))</text>
<text text-anchor="middle" x="1689.5" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;s:chat(&quot;Reading &quot; .. a.green(pwd .. &quot;/tmp&quot; .. v))</text>
<text text-anchor="middle" x="1689.5" y="-116.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local new_tmp = read(pwd .. &quot;/tmp&quot; .. v)</text>
<text text-anchor="middle" x="1689.5" y="-100.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if new_tmp then</text>
<text text-anchor="middle" x="1689.5" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(&quot; &#160;&#45; writing&quot;)</text>
<text text-anchor="middle" x="1689.5" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;write(v, read(pwd .. &quot;/tmp&quot; .. v))</text>
<text text-anchor="middle" x="1689.5" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1689.5" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1689.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="1689.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_16&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>codeblock_16&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1689.5,-703.4811C1689.5,-661.7757 1689.5,-554.6668 1689.5,-451.9147"/>
<polygon fill="#000000" stroke="#000000" points="1693.0001,-451.6669 1689.5,-441.6669 1686.0001,-451.667 1693.0001,-451.6669"/>
</g>
</g>
</svg>