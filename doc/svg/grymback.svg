<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="2101pt" height="772pt"
 viewBox="0.00 0.00 2101.00 772.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 768.4008)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-768.4008 2097,-768.4008 2097,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="668" cy="-746.4008" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="668" y="-742.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 103</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="668" cy="-674.4008" rx="60.1778" ry="18"/>
<text text-anchor="middle" x="668" y="-670.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;11</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M668,-728.2322C668,-720.5318 668,-711.3752 668,-702.8174"/>
<polygon fill="#000000" stroke="#000000" points="671.5001,-702.814 668,-692.8141 664.5001,-702.8141 671.5001,-702.814"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="183" cy="-602.4008" rx="62.8772" ry="18"/>
<text text-anchor="middle" x="183" y="-598.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Grymback</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M613.7761,-666.3511C524.1304,-653.0428 345.3478,-626.5019 248.6834,-612.1517"/>
<polygon fill="#000000" stroke="#000000" points="249.1424,-608.6816 238.7369,-610.6751 248.1145,-615.6057 249.1424,-608.6816"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="397" cy="-602.4008" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="397" y="-598.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;6</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M622.9457,-662.4307C573.7014,-649.3473 495.1257,-628.4711 444.8162,-615.1048"/>
<polygon fill="#000000" stroke="#000000" points="445.7117,-611.7213 435.1483,-612.5362 443.9143,-618.4866 445.7117,-611.7213"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="736" cy="-602.4008" rx="50.0142" ry="18"/>
<text text-anchor="middle" x="736" y="-598.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 7&#45;11</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M684.4609,-656.9716C692.897,-648.0393 703.3169,-637.0065 712.575,-627.2037"/>
<polygon fill="#000000" stroke="#000000" points="715.369,-629.3428 719.6907,-619.6695 710.2799,-624.5365 715.369,-629.3428"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1340" cy="-602.4008" rx="70.655" ry="18"/>
<text text-anchor="middle" x="1340" y="-598.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 12&#45;103</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M724.7152,-668.3242C845.6049,-655.3717 1128.6683,-625.0435 1264.5717,-610.4824"/>
<polygon fill="#000000" stroke="#000000" points="1265.3181,-613.9226 1274.8883,-609.3771 1264.5723,-606.9624 1265.3181,-613.9226"/>
</g>
<!-- leaf_6 -->
<g id="node7" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="54,-531.0008 0,-531.0008 0,-495.0008 54,-495.0008 54,-531.0008"/>
</g>
<!-- header_2&#45;&gt;leaf_6 -->
<g id="edge6" class="edge">
<title>header_2&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M142.777,-588.4352C118.5454,-579.0416 87.7016,-565.2974 63,-548.4008 58.6794,-545.4454 54.4156,-541.9425 50.4172,-538.3083"/>
<polygon fill="#000000" stroke="#000000" points="52.7395,-535.6856 43.1099,-531.2673 47.8824,-540.7264 52.7395,-535.6856"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="585.5,-548.3011 72.5,-548.3011 72.5,-477.7004 585.5,-477.7004 585.5,-548.3011"/>
<text text-anchor="middle" x="329" y="-501.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;This is a standalone program to restore grym in the event that a knit</text>
<text text-anchor="middle" x="329" y="-485.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">results in an unusable grym module.</text>
</g>
<!-- block_3&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>block_3&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M383.5654,-584.7382C377.335,-576.5471 369.6288,-566.4157 361.9906,-556.3737"/>
<polygon fill="#000000" stroke="#000000" points="364.7487,-554.2185 355.909,-548.3782 359.1773,-558.4563 364.7487,-554.2185"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="1138,-547.602 604,-547.602 604,-478.3995 1138,-478.3995 1138,-547.602"/>
<text text-anchor="middle" x="871" y="-532.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">The plan: A =.grym= file in the root directory will contain any</text>
<text text-anchor="middle" x="871" y="-517.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">knit&#45;modified files from the last pass. &#160;=grym= itself will read and write</text>
<text text-anchor="middle" x="871" y="-501.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">to the .grym file, maintaining a data structure in the meantime; this will</text>
<text text-anchor="middle" x="871" y="-486.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">be in Lua&#45;native table format, at first, eventually Clu(den).</text>
</g>
<!-- block_4&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>block_4&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M760.1353,-586.4179C774.083,-577.1814 792.3145,-565.1081 809.9529,-553.4275"/>
<polygon fill="#000000" stroke="#000000" points="812.1377,-556.1786 818.5428,-547.7391 808.2727,-550.3423 812.1377,-556.1786"/>
</g>
<!-- header_9 -->
<g id="node10" class="node">
<title>header_9</title>
<ellipse fill="none" stroke="#000000" cx="1211" cy="-513.0008" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="1211" y="-508.8008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : includes</text>
</g>
<!-- section_5&#45;&gt;header_9 -->
<g id="edge9" class="edge">
<title>section_5&#45;&gt;header_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1315.4324,-585.3749C1294.9102,-571.1525 1265.4962,-550.7679 1243.1111,-535.2545"/>
<polygon fill="#000000" stroke="#000000" points="1244.8183,-532.1793 1234.6055,-529.3599 1240.831,-537.9328 1244.8183,-532.1793"/>
</g>
<!-- block_10 -->
<g id="node11" class="node">
<title>block_10</title>
<ellipse fill="none" stroke="#000000" cx="1340" cy="-513.0008" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1340" y="-508.8008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 12&#45;13</text>
</g>
<!-- section_5&#45;&gt;block_10 -->
<g id="edge10" class="edge">
<title>section_5&#45;&gt;block_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1340,-584.3094C1340,-571.9494 1340,-555.322 1340,-541.2324"/>
<polygon fill="#000000" stroke="#000000" points="1343.5001,-541.0653 1340,-531.0653 1336.5001,-541.0653 1343.5001,-541.0653"/>
</g>
<!-- codeblock_11 -->
<g id="node12" class="node">
<title>codeblock_11</title>
<ellipse fill="none" stroke="#000000" cx="1491" cy="-513.0008" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1491" y="-508.8008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 14&#45;39</text>
</g>
<!-- section_5&#45;&gt;codeblock_11 -->
<g id="edge11" class="edge">
<title>section_5&#45;&gt;codeblock_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1368.0481,-585.7949C1392.2622,-571.4588 1427.4273,-550.6392 1453.9534,-534.9343"/>
<polygon fill="#000000" stroke="#000000" points="1455.7679,-537.9275 1462.5897,-529.8212 1452.2017,-531.9041 1455.7679,-537.9275"/>
</g>
<!-- codeblock_12 -->
<g id="node13" class="node">
<title>codeblock_12</title>
<ellipse fill="none" stroke="#000000" cx="1773" cy="-513.0008" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1773" y="-508.8008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 43&#45;72</text>
</g>
<!-- section_5&#45;&gt;codeblock_12 -->
<g id="edge12" class="edge">
<title>section_5&#45;&gt;codeblock_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1395.2796,-590.9874C1474.34,-574.6641 1619.5736,-544.6782 1705.078,-527.0244"/>
<polygon fill="#000000" stroke="#000000" points="1705.8599,-530.4369 1714.9456,-524.9871 1704.4444,-523.5815 1705.8599,-530.4369"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="1238,-238.8004 1184,-238.8004 1184,-202.8004 1238,-202.8004 1238,-238.8004"/>
</g>
<!-- header_9&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>header_9&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1211,-494.7223C1211,-445.3218 1211,-308.8624 1211,-249.2669"/>
<polygon fill="#000000" stroke="#000000" points="1214.5001,-249.0719 1211,-239.0719 1207.5001,-249.0719 1214.5001,-249.0719"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="1311,-238.8004 1257,-238.8004 1257,-202.8004 1311,-202.8004 1311,-238.8004"/>
</g>
<!-- block_10&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>block_10&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1334.3405,-494.9468C1329.9884,-480.5955 1324.0532,-459.953 1320,-441.6007 1304.859,-373.0446 1293.1511,-291.2153 1287.5772,-249.0393"/>
<polygon fill="#000000" stroke="#000000" points="1291.0268,-248.4248 1286.2628,-238.9614 1284.0856,-249.3301 1291.0268,-248.4248"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="1653,-410.801 1329,-410.801 1329,-30.7998 1653,-30.7998 1653,-410.801"/>
<text text-anchor="middle" x="1491" y="-395.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1491" y="-364.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;lib/status&quot;</text>
<text text-anchor="middle" x="1491" y="-348.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="1491" y="-333.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;lib/ansi&quot;</text>
<text text-anchor="middle" x="1491" y="-318.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">s.chatty = true</text>
<text text-anchor="middle" x="1491" y="-286.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
<text text-anchor="middle" x="1491" y="-255.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_file = require &quot;pl.file&quot;</text>
<text text-anchor="middle" x="1491" y="-239.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_dir = require &quot;pl.dir&quot;</text>
<text text-anchor="middle" x="1491" y="-224.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path = require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="1491" y="-209.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local getfiles = pl_dir.getfiles</text>
<text text-anchor="middle" x="1491" y="-193.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">local getdirectories = pl_dir.getdirectories</text>
<text text-anchor="middle" x="1491" y="-178.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local makepath = pl_dir.makepath</text>
<text text-anchor="middle" x="1491" y="-162.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local extension = pl_path.extension</text>
<text text-anchor="middle" x="1491" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">local dirname = pl_path.dirname</text>
<text text-anchor="middle" x="1491" y="-132.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">local basename = pl_path.basename</text>
<text text-anchor="middle" x="1491" y="-116.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">local read = pl_file.read</text>
<text text-anchor="middle" x="1491" y="-101.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local write = pl_file.write</text>
<text text-anchor="middle" x="1491" y="-85.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">local delete = pl_file.delete</text>
<text text-anchor="middle" x="1491" y="-70.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">local isdir = pl_path.isdir</text>
<text text-anchor="middle" x="1491" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">local walk = &quot;walk&quot;</text>
</g>
<!-- codeblock_11&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>codeblock_11&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1491,-494.7223C1491,-478.053 1491,-451.4709 1491,-421.2743"/>
<polygon fill="#000000" stroke="#000000" points="1494.5001,-420.9042 1491,-410.9042 1487.5001,-420.9043 1494.5001,-420.9042"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="2093,-441.4013 1671,-441.4013 1671,-.1994 2093,-.1994 2093,-441.4013"/>
<text text-anchor="middle" x="1882" y="-410.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">local pwd = &quot;&quot;</text>
<text text-anchor="middle" x="1882" y="-379.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">if (arg) then</text>
<text text-anchor="middle" x="1882" y="-363.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;pwd = table.remove(arg, 1)</text>
<text text-anchor="middle" x="1882" y="-348.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="1882" y="-332.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;os.exit(&quot;Must be called with a root codex directory&quot;, 1)</text>
<text text-anchor="middle" x="1882" y="-317.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1882" y="-286.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">io.write(&quot;pwd: &quot; .. pwd .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="1882" y="-254.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">local grymback_rc = read(pwd .. &quot;/.grymback&quot;)</text>
<text text-anchor="middle" x="1882" y="-239.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">if not grymback_rc then</text>
<text text-anchor="middle" x="1882" y="-223.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;s:chat(&quot;No contents in grymback. &#160;No action taken.&quot;)</text>
<text text-anchor="middle" x="1882" y="-208.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;os.exit()</text>
<text text-anchor="middle" x="1882" y="-193.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="1882" y="-177.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for _,v in ipairs(epeg.split(grymback_rc, &quot;\n&quot;)) do</text>
<text text-anchor="middle" x="1882" y="-162.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if v ~= &quot;&quot; then</text>
<text text-anchor="middle" x="1882" y="-146.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;s:chat(&quot;Reverting &quot; .. a.cyan(grymback_rc))</text>
<text text-anchor="middle" x="1882" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;s:chat(&quot;Reading &quot; .. a.green(pwd .. &quot;/tmp&quot; .. v))</text>
<text text-anchor="middle" x="1882" y="-116.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local new_tmp = read(pwd .. &quot;/tmp&quot; .. v)</text>
<text text-anchor="middle" x="1882" y="-100.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if new_tmp then</text>
<text text-anchor="middle" x="1882" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(&quot; &#160;&#45; writing&quot;)</text>
<text text-anchor="middle" x="1882" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;write(v, read(pwd .. &quot;/tmp&quot; .. v))</text>
<text text-anchor="middle" x="1882" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1882" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1882" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="1882" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_12&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>codeblock_12&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1779.8184,-494.7223C1783.8865,-483.8168 1789.5373,-468.6687 1796.1128,-451.0413"/>
<polygon fill="#000000" stroke="#000000" points="1799.4164,-452.1993 1799.6323,-441.6067 1792.8579,-449.7527 1799.4164,-452.1993"/>
</g>
</g>
</svg>