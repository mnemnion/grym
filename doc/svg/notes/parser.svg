<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="17959pt" height="3674pt"
 viewBox="0.00 0.00 17959.00 3674.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 3670.2045)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-3670.2045 17955,-3670.2045 17955,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="7720.5" cy="-3648.2045" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="7720.5" y="-3644.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 155</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="7720.5" cy="-3576.2045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="7720.5" y="-3572.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;124</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7720.5,-3630.0358C7720.5,-3622.3354 7720.5,-3613.1788 7720.5,-3604.6211"/>
<polygon fill="#000000" stroke="#000000" points="7724.0001,-3604.6177 7720.5,-3594.6177 7717.0001,-3604.6178 7724.0001,-3604.6177"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="2708.5" cy="-2543.1032" rx="92.3795" ry="18"/>
<text text-anchor="middle" x="2708.5" y="-2538.9032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : A Grimoire Parser</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7654.5382,-3576.0805C7074.018,-3574.9189 2856.4261,-3565.0092 2809.5,-3522.2045 2525.2432,-3262.9132 2662.8695,-2702.3578 2700.1641,-2571.0314"/>
<polygon fill="#000000" stroke="#000000" points="2703.5564,-2571.899 2702.9629,-2561.3208 2696.8302,-2569.9603 2703.5564,-2571.899"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="2874.5" cy="-2543.1032" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2874.5" y="-2538.9032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;124</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7654.4831,-3576.0725C7082.4152,-3574.8563 2984.3625,-3564.6652 2939.5,-3522.2045 2798.5753,-3388.8245 2856.9837,-2717.5493 2871.5622,-2571.2739"/>
<polygon fill="#000000" stroke="#000000" points="2875.0473,-2571.5966 2872.5705,-2561.2953 2868.0828,-2570.8927 2875.0473,-2571.5966"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="3009.5" cy="-2543.1032" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="3009.5" y="-2538.9032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 3&#45;42</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7669.1989,-3564.9544C7194.5814,-3460.8729 3575.3838,-2667.199 3068.4147,-2556.0229"/>
<polygon fill="#000000" stroke="#000000" points="3068.9083,-2552.548 3058.3907,-2553.8247 3067.4088,-2559.3856 3068.9083,-2552.548"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="7720.5" cy="-2543.1032" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="7720.5" y="-2538.9032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 43&#45;96</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7720.5,-3557.8346C7720.5,-3434.2333 7720.5,-2724.1476 7720.5,-2571.8576"/>
<polygon fill="#000000" stroke="#000000" points="7724.0001,-2571.4902 7720.5,-2561.4903 7717.0001,-2571.4903 7724.0001,-2571.4902"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="11623.5" cy="-2543.1032" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11623.5" y="-2538.9032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 102&#45;124</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7767.7434,-3563.6994C8176.0377,-3455.6263 11104.0076,-2680.6098 11563.0258,-2559.1103"/>
<polygon fill="#000000" stroke="#000000" points="11564.0094,-2562.4706 11572.7808,-2556.5282 11562.2181,-2555.7037 11564.0094,-2562.4706"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="14019.5" cy="-2543.1032" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="14019.5" y="-2538.9032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 125&#45;146</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7786.4418,-3576.0348C8289.6124,-3574.651 11507.7012,-3564.1775 11707.5,-3522.2045 12687.938,-3316.2372 13771.4468,-2690.9239 13982.7028,-2565.2444"/>
<polygon fill="#000000" stroke="#000000" points="13984.7462,-2568.1009 13991.543,-2559.9735 13981.1614,-2562.0885 13984.7462,-2568.1009"/>
</g>
<!-- leaf_127 -->
<g id="node128" class="node">
<title>leaf_127</title>
<polygon fill="none" stroke="#c0c0c0" points="14926.5,-3522.3058 14112.5,-3522.3058 14112.5,-1563.9006 14926.5,-1563.9006 14926.5,-3522.3058"/>
<text text-anchor="middle" x="14519.5" y="-3507.0045" font-family="Inconsolata" font-size="14.00" fill="#000000"> * A Grimoire Parser</text>
<text text-anchor="middle" x="14519.5" y="-3475.6044" font-family="Inconsolata" font-size="14.00" fill="#000000">** Introduction</text>
<text text-anchor="middle" x="14519.5" y="-3444.2044" font-family="Inconsolata" font-size="14.00" fill="#000000">I need a literate toolchain stat. I&#39;m unwilling to write it on</text>
<text text-anchor="middle" x="14519.5" y="-3428.8044" font-family="Inconsolata" font-size="14.00" fill="#000000">Org. I&#39;ve been having fun with Org but it has to go, and now is</text>
<text text-anchor="middle" x="14519.5" y="-3413.4043" font-family="Inconsolata" font-size="14.00" fill="#000000">the time.</text>
<text text-anchor="middle" x="14519.5" y="-3382.0043" font-family="Inconsolata" font-size="14.00" fill="#000000">I need this before the quipu, to write the quipu, so we&#39;re going to</text>
<text text-anchor="middle" x="14519.5" y="-3366.6043" font-family="Inconsolata" font-size="14.00" fill="#000000">forget reusable parsers and general editing structures and everything</text>
<text text-anchor="middle" x="14519.5" y="-3351.2042" font-family="Inconsolata" font-size="14.00" fill="#000000">like that for now. We&#39;re going to cut a fast parser out of Lua and</text>
<text text-anchor="middle" x="14519.5" y="-3335.8042" font-family="Inconsolata" font-size="14.00" fill="#000000">start hooking it up to things. </text>
<text text-anchor="middle" x="14519.5" y="-3304.4042" font-family="Inconsolata" font-size="14.00" fill="#000000">Pegylator is proving remarkably useful for software I thought I was</text>
<text text-anchor="middle" x="14519.5" y="-3289.0042" font-family="Inconsolata" font-size="14.00" fill="#000000">abandoning in mid&#45;February. But I digress.</text>
<text text-anchor="middle" x="14519.5" y="-3257.6041" font-family="Inconsolata" font-size="14.00" fill="#000000">There are important structural similarities between Grimoire and Markdown.</text>
<text text-anchor="middle" x="14519.5" y="-3242.2041" font-family="Inconsolata" font-size="14.00" fill="#000000">More with Org, of course, but Markdown is more widely parsed. Let&#39;s see</text>
<text text-anchor="middle" x="14519.5" y="-3226.8041" font-family="Inconsolata" font-size="14.00" fill="#000000">what we can find.</text>
<text text-anchor="middle" x="14519.5" y="-3195.404" font-family="Inconsolata" font-size="14.00" fill="#000000">Oh hey this looks good:</text>
<text text-anchor="middle" x="14519.5" y="-3164.004" font-family="Inconsolata" font-size="14.00" fill="#000000">[[https://github.com/jgm/lunamark][lunamark]]</text>
<text text-anchor="middle" x="14519.5" y="-3132.604" font-family="Inconsolata" font-size="14.00" fill="#000000">In fact this looks very good. If I can trick lunamark into thinking that</text>
<text text-anchor="middle" x="14519.5" y="-3117.2039" font-family="Inconsolata" font-size="14.00" fill="#000000">Grimoire is just some exotic flavor of Markdown I can get a *lot* of </text>
<text text-anchor="middle" x="14519.5" y="-3101.8039" font-family="Inconsolata" font-size="14.00" fill="#000000">functionality for free.</text>
<text text-anchor="middle" x="14519.5" y="-3070.4039" font-family="Inconsolata" font-size="14.00" fill="#000000">Let&#39;s try this approach and see if it flies. </text>
<text text-anchor="middle" x="14519.5" y="-3039.0038" font-family="Inconsolata" font-size="14.00" fill="#000000">Hmm. There&#39;s a lot of useful code and approaches to lpeg to steal here.</text>
<text text-anchor="middle" x="14519.5" y="-3023.6038" font-family="Inconsolata" font-size="14.00" fill="#000000">But I&#39;m just too well&#45;equipped with my toolchain to want to switch horses.</text>
<text text-anchor="middle" x="14519.5" y="-2992.2038" font-family="Inconsolata" font-size="14.00" fill="#000000">The Node class is a little janky but not particularly broken and is shaping</text>
<text text-anchor="middle" x="14519.5" y="-2976.8037" font-family="Inconsolata" font-size="14.00" fill="#000000">up as my common AST format when in Lualand. If those get out of whack there will</text>
<text text-anchor="middle" x="14519.5" y="-2961.4037" font-family="Inconsolata" font-size="14.00" fill="#000000">be pain sooner or later. That&#39;s worth more than being able to use the lunamark</text>
<text text-anchor="middle" x="14519.5" y="-2946.0037" font-family="Inconsolata" font-size="14.00" fill="#000000">toolchain for export and the like. </text>
<text text-anchor="middle" x="14519.5" y="-2914.6037" font-family="Inconsolata" font-size="14.00" fill="#000000">At least for now. I&#39;ll try to hold on to some of the naming conventions and see</text>
<text text-anchor="middle" x="14519.5" y="-2899.2036" font-family="Inconsolata" font-size="14.00" fill="#000000">if maybe I can talk the author into adapting the module once we&#39;re the popular</text>
<text text-anchor="middle" x="14519.5" y="-2883.8036" font-family="Inconsolata" font-size="14.00" fill="#000000">kids. </text>
<text text-anchor="middle" x="14519.5" y="-2852.4036" font-family="Inconsolata" font-size="14.00" fill="#000000">** Structure</text>
<text text-anchor="middle" x="14519.5" y="-2821.0035" font-family="Inconsolata" font-size="14.00" fill="#000000">We&#39;re going to do this in several passes. </text>
<text text-anchor="middle" x="14519.5" y="-2789.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Chunking</text>
<text text-anchor="middle" x="14519.5" y="-2758.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">Our top&#45;level of structure is determined by [[file:grimoire.org::*Header%20Lines][header lines]], which</text>
<text text-anchor="middle" x="14519.5" y="-2742.8034" font-family="Inconsolata" font-size="14.00" fill="#000000">cooperate to form the structure of a Grimoire document.</text>
<text text-anchor="middle" x="14519.5" y="-2711.4034" font-family="Inconsolata" font-size="14.00" fill="#000000">While we&#39;re doing this, we&#39;ll chunk everything else into arrays</text>
<text text-anchor="middle" x="14519.5" y="-2696.0034" font-family="Inconsolata" font-size="14.00" fill="#000000">of lines, this will split into structure lines, blank lines,</text>
<text text-anchor="middle" x="14519.5" y="-2680.6033" font-family="Inconsolata" font-size="14.00" fill="#000000">and TBD. </text>
<text text-anchor="middle" x="14519.5" y="-2649.2033" font-family="Inconsolata" font-size="14.00" fill="#000000">I believe we can get everything into blocks on this first pass.</text>
<text text-anchor="middle" x="14519.5" y="-2617.8033" font-family="Inconsolata" font-size="14.00" fill="#000000">At this point, the data structure is still flat, but chunky, and</text>
<text text-anchor="middle" x="14519.5" y="-2602.4032" font-family="Inconsolata" font-size="14.00" fill="#000000">we have a separate vector of the header lines and their index</text>
<text text-anchor="middle" x="14519.5" y="-2587.0032" font-family="Inconsolata" font-size="14.00" fill="#000000">into the chunks. </text>
<text text-anchor="middle" x="14519.5" y="-2555.6032" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Ownership</text>
<text text-anchor="middle" x="14519.5" y="-2524.2032" font-family="Inconsolata" font-size="14.00" fill="#000000">We next determine basic ownership. This we do by counting all the stars </text>
<text text-anchor="middle" x="14519.5" y="-2508.8031" font-family="Inconsolata" font-size="14.00" fill="#000000">in the header lines and building a tree accordingly. This is a </text>
<text text-anchor="middle" x="14519.5" y="-2493.4031" font-family="Inconsolata" font-size="14.00" fill="#000000">recursive map of vectors containing chunks. </text>
<text text-anchor="middle" x="14519.5" y="-2462.0031" font-family="Inconsolata" font-size="14.00" fill="#000000">**** Cling Rule</text>
<text text-anchor="middle" x="14519.5" y="-2430.603" font-family="Inconsolata" font-size="14.00" fill="#000000">Various kinds of block have [[file:grimoire.org::*The%20Cling%20Rule][cling rules]] associated with them. How this</text>
<text text-anchor="middle" x="14519.5" y="-2415.203" font-family="Inconsolata" font-size="14.00" fill="#000000">works is still somewhat opaque, no substitute for code in actually</text>
<text text-anchor="middle" x="14519.5" y="-2399.803" font-family="Inconsolata" font-size="14.00" fill="#000000">working it out. </text>
<text text-anchor="middle" x="14519.5" y="-2368.4029" font-family="Inconsolata" font-size="14.00" fill="#000000">We apply these rules, attaching tags to associated lists, tables and</text>
<text text-anchor="middle" x="14519.5" y="-2353.0029" font-family="Inconsolata" font-size="14.00" fill="#000000">code blocks, for example. </text>
<text text-anchor="middle" x="14519.5" y="-2321.6029" font-family="Inconsolata" font-size="14.00" fill="#000000">I think the secret sauce of the cling rule is that it never matters if </text>
<text text-anchor="middle" x="14519.5" y="-2306.2028" font-family="Inconsolata" font-size="14.00" fill="#000000">marks cling up or cling down, tags and names can come before, after, or</text>
<text text-anchor="middle" x="14519.5" y="-2290.8028" font-family="Inconsolata" font-size="14.00" fill="#000000">around the blocks they cling to. </text>
<text text-anchor="middle" x="14519.5" y="-2259.4028" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Block Parsing</text>
<text text-anchor="middle" x="14519.5" y="-2228.0027" font-family="Inconsolata" font-size="14.00" fill="#000000">Next we go into certain kinds of block and parse them.</text>
<text text-anchor="middle" x="14519.5" y="-2196.6027" font-family="Inconsolata" font-size="14.00" fill="#000000">This resolves the inner structure of &#39;structure&#39; lines, which includes</text>
<text text-anchor="middle" x="14519.5" y="-2181.2027" font-family="Inconsolata" font-size="14.00" fill="#000000">all lists, tables, and similar. Some of these will not have been detected</text>
<text text-anchor="middle" x="14519.5" y="-2165.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">yet, when this stage is done, what&#39;s left is prose, and unparsed code,</text>
<text text-anchor="middle" x="14519.5" y="-2150.4026" font-family="Inconsolata" font-size="14.00" fill="#000000">and we know which is which. </text>
<text text-anchor="middle" x="14519.5" y="-2119.0026" font-family="Inconsolata" font-size="14.00" fill="#000000">We haven&#39;t found all code, just code blocks. </text>
<text text-anchor="middle" x="14519.5" y="-2087.6026" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Prose Parsing</text>
<text text-anchor="middle" x="14519.5" y="-2056.2025" font-family="Inconsolata" font-size="14.00" fill="#000000">We next parse these prose regions, looking for structural elements and </text>
<text text-anchor="middle" x="14519.5" y="-2040.8025" font-family="Inconsolata" font-size="14.00" fill="#000000">handling them accordingly. </text>
<text text-anchor="middle" x="14519.5" y="-2009.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Mark Parsing</text>
<text text-anchor="middle" x="14519.5" y="-1978.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">As a final step, we parse within marks. Marks are either tags or names,</text>
<text text-anchor="middle" x="14519.5" y="-1962.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">and both have a complex, TBD internal structure. </text>
<text text-anchor="middle" x="14519.5" y="-1931.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">** Result</text>
<text text-anchor="middle" x="14519.5" y="-1899.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">Code is not parsed by this parser, not explicitly. </text>
<text text-anchor="middle" x="14519.5" y="-1868.4023" font-family="Inconsolata" font-size="14.00" fill="#000000">Eventually, the document will have to be executed within an appropriate </text>
<text text-anchor="middle" x="14519.5" y="-1853.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">sandbox before it can be either tangled or woven. We&#39;ll skip that little</text>
<text text-anchor="middle" x="14519.5" y="-1837.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">refinement, Lua is the runtime for that stage so it&#39;s comfortable to add </text>
<text text-anchor="middle" x="14519.5" y="-1822.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">it later. </text>
<text text-anchor="middle" x="14519.5" y="-1790.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">What we do next depends on whether we&#39;re weaving or tangling. Weaving</text>
<text text-anchor="middle" x="14519.5" y="-1775.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">is less interesting to me, at least for now; I&#39;m hoping that if we get a </text>
<text text-anchor="middle" x="14519.5" y="-1760.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">bit of traction some wonk at Pandoc will add our biological distinctiveness</text>
<text text-anchor="middle" x="14519.5" y="-1744.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">to that collective and we&#39;ll get a big boost in the right direction. </text>
<text text-anchor="middle" x="14519.5" y="-1713.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">Weaving is one of those things we can just iterate on endlesssly, and indeed</text>
<text text-anchor="middle" x="14519.5" y="-1697.802" font-family="Inconsolata" font-size="14.00" fill="#000000">have to, document formats being what they are. </text>
<text text-anchor="middle" x="14519.5" y="-1666.402" font-family="Inconsolata" font-size="14.00" fill="#000000">For simple tangling, we&#39;re interested in marks, edn blocks, and code blocks,</text>
<text text-anchor="middle" x="14519.5" y="-1651.002" font-family="Inconsolata" font-size="14.00" fill="#000000">for now. Lists are the next data structure I&#39;m interested in, with tables in</text>
<text text-anchor="middle" x="14519.5" y="-1635.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">last place. I&#39;m just not a grid kind of thinker. </text>
<text text-anchor="middle" x="14519.5" y="-1572.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_1&#45;&gt;leaf_127 -->
<g id="edge127" class="edge">
<title>section_1&#45;&gt;leaf_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7786.3169,-3576.144C8457.3088,-3575.4696 14034.2074,-3568.4738 14103.5,-3522.2045 14103.686,-3522.0803 14103.8719,-3521.956 14104.0577,-3521.8316"/>
<polygon fill="#000000" stroke="#000000" points="14106.0753,-3524.6921 14112.3642,-3516.1656 14102.1308,-3518.9093 14106.0753,-3524.6921"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="2029.5,-1112.8013 1975.5,-1112.8013 1975.5,-1076.8013 2029.5,-1076.8013 2029.5,-1112.8013"/>
</g>
<!-- block_3&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>block_3&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2876.3729,-2524.9697C2888.5393,-2403.0365 2951.5114,-1703.2524 2809.5,-1564.0019 2748.2662,-1503.9585 2100.2307,-1587.5342 2038.5,-1528.0019 1925.3974,-1418.927 1972.4565,-1200.7256 1993.9696,-1123.0546"/>
<polygon fill="#000000" stroke="#000000" points="1997.4448,-1123.6297 1996.8163,-1113.0536 1990.7123,-1121.7133 1997.4448,-1123.6297"/>
</g>
<!-- header_9 -->
<g id="node10" class="node">
<title>header_9</title>
<ellipse fill="none" stroke="#000000" cx="2116.5" cy="-1094.8013" rx="68.717" ry="18"/>
<text text-anchor="middle" x="2116.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Introduction</text>
</g>
<!-- section_4&#45;&gt;header_9 -->
<g id="edge9" class="edge">
<title>section_4&#45;&gt;header_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3015.5673,-2525.1411C3051.1196,-2416.1928 3221.3611,-1839.4293 2939.5,-1564.0019 2880.2264,-1506.0812 2256.7799,-1582.6771 2194.5,-1528.0019 2074.657,-1422.7923 2098.3681,-1201.2454 2111.2269,-1122.9442"/>
<polygon fill="#000000" stroke="#000000" points="2114.7133,-1123.3209 2112.9532,-1112.8732 2107.8139,-1122.1381 2114.7133,-1123.3209"/>
</g>
<!-- block_10 -->
<g id="node11" class="node">
<title>block_10</title>
<ellipse fill="none" stroke="#000000" cx="2249.5" cy="-1094.8013" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="2249.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 3&#45;8</text>
</g>
<!-- section_4&#45;&gt;block_10 -->
<g id="edge10" class="edge">
<title>section_4&#45;&gt;block_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3015.535,-2525.174C3050.8968,-2416.4199 3220.209,-1840.6033 2939.5,-1564.0019 2838.8253,-1464.8003 2407.8602,-1624.4022 2304.5,-1528.0019 2189.0671,-1420.3418 2225.0185,-1201.2538 2242.4653,-1123.2026"/>
<polygon fill="#000000" stroke="#000000" points="2245.9465,-1123.6826 2244.7867,-1113.1515 2239.1261,-1122.1074 2245.9465,-1123.6826"/>
</g>
<!-- block_11 -->
<g id="node12" class="node">
<title>block_11</title>
<ellipse fill="none" stroke="#000000" cx="2364.5" cy="-1094.8013" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="2364.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 9&#45;13</text>
</g>
<!-- section_4&#45;&gt;block_11 -->
<g id="edge11" class="edge">
<title>section_4&#45;&gt;block_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3015.598,-2524.8723C3050.9062,-2415.5343 3218.0818,-1842.143 2939.5,-1564.0019 2858.3139,-1482.9442 2508.3263,-1606.326 2424.5,-1528.0019 2308.9911,-1420.0747 2341.6827,-1201.1541 2357.9151,-1123.1746"/>
<polygon fill="#000000" stroke="#000000" points="2361.3938,-1123.646 2360.0792,-1113.133 2354.5509,-1122.1712 2361.3938,-1123.646"/>
</g>
<!-- block_12 -->
<g id="node13" class="node">
<title>block_12</title>
<ellipse fill="none" stroke="#000000" cx="2489.5" cy="-1094.8013" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2489.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 14&#45;16</text>
</g>
<!-- section_4&#45;&gt;block_12 -->
<g id="edge12" class="edge">
<title>section_4&#45;&gt;block_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3015.5041,-2524.9651C3050.2656,-2416.1684 3214.8021,-1845.3896 2939.5,-1564.0019 2879.407,-1502.5805 2616.9292,-1587.0472 2554.5,-1528.0019 2439.4608,-1419.1983 2468.5508,-1200.8269 2483.422,-1123.083"/>
<polygon fill="#000000" stroke="#000000" points="2486.895,-1123.5625 2485.4095,-1113.0723 2480.029,-1122.1993 2486.895,-1123.5625"/>
</g>
<!-- block_13 -->
<g id="node14" class="node">
<title>block_13</title>
<ellipse fill="none" stroke="#000000" cx="2619.5" cy="-1094.8013" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2619.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 17&#45;20</text>
</g>
<!-- section_4&#45;&gt;block_13 -->
<g id="edge13" class="edge">
<title>section_4&#45;&gt;block_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3015.3127,-2525.1481C3048.959,-2417.4171 3208.112,-1851.7828 2939.5,-1564.0019 2861.4012,-1480.3297 2765.7841,-1608.5831 2684.5,-1528.0019 2572.05,-1416.5244 2599.5175,-1199.8285 2613.6927,-1122.8034"/>
<polygon fill="#000000" stroke="#000000" points="2617.1483,-1123.3667 2615.5887,-1112.8873 2610.2729,-1122.052 2617.1483,-1123.3667"/>
</g>
<!-- block_14 -->
<g id="node15" class="node">
<title>block_14</title>
<ellipse fill="none" stroke="#000000" cx="2749.5" cy="-1094.8013" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2749.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 21&#45;22</text>
</g>
<!-- section_4&#45;&gt;block_14 -->
<g id="edge14" class="edge">
<title>section_4&#45;&gt;block_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3014.9148,-2524.9798C3045.509,-2418.5684 3186.7648,-1869.2235 2939.5,-1564.0019 2903.1077,-1519.0795 2852.6067,-1571.4795 2814.5,-1528.0019 2710.5844,-1409.4399 2732.3434,-1198.8258 2744.3811,-1122.9913"/>
<polygon fill="#000000" stroke="#000000" points="2747.8867,-1123.2455 2746.0705,-1112.8075 2740.9811,-1122.0999 2747.8867,-1123.2455"/>
</g>
<!-- block_15 -->
<g id="node16" class="node">
<title>block_15</title>
<ellipse fill="none" stroke="#000000" cx="2879.5" cy="-1094.8013" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2879.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 23&#45;24</text>
</g>
<!-- section_4&#45;&gt;block_15 -->
<g id="edge15" class="edge">
<title>section_4&#45;&gt;block_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3008.5864,-2525.0497C3003.5609,-2427.2964 2978.0963,-1951.4866 2939.5,-1564.0019 2922.8156,-1396.4996 2894.3828,-1196.4241 2883.7118,-1123.3251"/>
<polygon fill="#000000" stroke="#000000" points="2887.1255,-1122.48 2882.2129,-1113.093 2880.1994,-1123.4947 2887.1255,-1122.48"/>
</g>
<!-- block_16 -->
<g id="node17" class="node">
<title>block_16</title>
<ellipse fill="none" stroke="#000000" cx="3009.5" cy="-1094.8013" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3009.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 25&#45;28</text>
</g>
<!-- section_4&#45;&gt;block_16 -->
<g id="edge16" class="edge">
<title>section_4&#45;&gt;block_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3009.5,-2525.0534C3009.5,-2373.3563 3009.5,-1312.0402 3009.5,-1123.4307"/>
<polygon fill="#000000" stroke="#000000" points="3013.0001,-1123.2122 3009.5,-1113.2122 3006.0001,-1123.2123 3013.0001,-1123.2122"/>
</g>
<!-- block_17 -->
<g id="node18" class="node">
<title>block_17</title>
<ellipse fill="none" stroke="#000000" cx="3139.5" cy="-1094.8013" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3139.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 29&#45;30</text>
</g>
<!-- section_4&#45;&gt;block_17 -->
<g id="edge17" class="edge">
<title>section_4&#45;&gt;block_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3011.1201,-2525.0534C3024.7365,-2373.3563 3120.0006,-1312.0402 3136.9302,-1123.4307"/>
<polygon fill="#000000" stroke="#000000" points="3140.4393,-1123.4851 3137.8474,-1113.2122 3133.4673,-1122.8593 3140.4393,-1123.4851"/>
</g>
<!-- block_18 -->
<g id="node19" class="node">
<title>block_18</title>
<ellipse fill="none" stroke="#000000" cx="3269.5" cy="-1094.8013" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3269.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 31&#45;33</text>
</g>
<!-- section_4&#45;&gt;block_18 -->
<g id="edge18" class="edge">
<title>section_4&#45;&gt;block_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3013.2383,-2525.1277C3033.8527,-2425.7169 3135.233,-1933.0744 3204.5,-1528.0019 3230.5385,-1375.7289 3256.18,-1192.3565 3265.6601,-1123.1132"/>
<polygon fill="#000000" stroke="#000000" points="3269.1556,-1123.3838 3267.0404,-1113.0023 3262.2199,-1122.4369 3269.1556,-1123.3838"/>
</g>
<!-- block_19 -->
<g id="node20" class="node">
<title>block_19</title>
<ellipse fill="none" stroke="#000000" cx="3399.5" cy="-1094.8013" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3399.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 34&#45;38</text>
</g>
<!-- section_4&#45;&gt;block_19 -->
<g id="edge19" class="edge">
<title>section_4&#45;&gt;block_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3016.4916,-2525.0581C3054.5161,-2426.2533 3238.2492,-1940.2039 3334.5,-1528.0019 3369.6275,-1377.5655 3389.934,-1193.1151 3396.823,-1123.3482"/>
<polygon fill="#000000" stroke="#000000" points="3400.3295,-1123.4503 3397.8136,-1113.1585 3393.3623,-1122.7729 3400.3295,-1123.4503"/>
</g>
<!-- block_20 -->
<g id="node21" class="node">
<title>block_20</title>
<ellipse fill="none" stroke="#000000" cx="3529.5" cy="-1094.8013" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3529.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 39&#45;42</text>
</g>
<!-- section_4&#45;&gt;block_20 -->
<g id="edge20" class="edge">
<title>section_4&#45;&gt;block_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3019.8258,-2525.1386C3075.3327,-2427.7094 3340.3597,-1951.4756 3464.5,-1528.0019 3508.0591,-1379.4108 3523.4464,-1193.1522 3527.9202,-1123.1371"/>
<polygon fill="#000000" stroke="#000000" points="3531.4279,-1123.1174 3528.5472,-1112.9217 3524.4411,-1122.6885 3531.4279,-1123.1174"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="4179.5,-1417.9023 3603.5,-1417.9023 3603.5,-771.7003 4179.5,-771.7003 4179.5,-1417.9023"/>
<text text-anchor="middle" x="3891.5" y="-1402.9018" font-family="Inconsolata" font-size="14.00" fill="#000000">** Introduction</text>
<text text-anchor="middle" x="3891.5" y="-1371.5017" font-family="Inconsolata" font-size="14.00" fill="#000000">I need a literate toolchain stat. I&#39;m unwilling to write it on</text>
<text text-anchor="middle" x="3891.5" y="-1356.1017" font-family="Inconsolata" font-size="14.00" fill="#000000">Org. I&#39;ve been having fun with Org but it has to go, and now is</text>
<text text-anchor="middle" x="3891.5" y="-1340.7017" font-family="Inconsolata" font-size="14.00" fill="#000000">the time.</text>
<text text-anchor="middle" x="3891.5" y="-1309.3016" font-family="Inconsolata" font-size="14.00" fill="#000000">I need this before the quipu, to write the quipu, so we&#39;re going to</text>
<text text-anchor="middle" x="3891.5" y="-1293.9016" font-family="Inconsolata" font-size="14.00" fill="#000000">forget reusable parsers and general editing structures and everything</text>
<text text-anchor="middle" x="3891.5" y="-1278.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">like that for now. We&#39;re going to cut a fast parser out of Lua and</text>
<text text-anchor="middle" x="3891.5" y="-1263.1015" font-family="Inconsolata" font-size="14.00" fill="#000000">start hooking it up to things. </text>
<text text-anchor="middle" x="3891.5" y="-1231.7015" font-family="Inconsolata" font-size="14.00" fill="#000000">Pegylator is proving remarkably useful for software I thought I was</text>
<text text-anchor="middle" x="3891.5" y="-1216.3015" font-family="Inconsolata" font-size="14.00" fill="#000000">abandoning in mid&#45;February. But I digress.</text>
<text text-anchor="middle" x="3891.5" y="-1184.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">There are important structural similarities between Grimoire and Markdown.</text>
<text text-anchor="middle" x="3891.5" y="-1169.5014" font-family="Inconsolata" font-size="14.00" fill="#000000">More with Org, of course, but Markdown is more widely parsed. Let&#39;s see</text>
<text text-anchor="middle" x="3891.5" y="-1154.1014" font-family="Inconsolata" font-size="14.00" fill="#000000">what we can find.</text>
<text text-anchor="middle" x="3891.5" y="-1122.7014" font-family="Inconsolata" font-size="14.00" fill="#000000">Oh hey this looks good:</text>
<text text-anchor="middle" x="3891.5" y="-1091.3013" font-family="Inconsolata" font-size="14.00" fill="#000000">[[https://github.com/jgm/lunamark][lunamark]]</text>
<text text-anchor="middle" x="3891.5" y="-1059.9013" font-family="Inconsolata" font-size="14.00" fill="#000000">In fact this looks very good. If I can trick lunamark into thinking that</text>
<text text-anchor="middle" x="3891.5" y="-1044.5013" font-family="Inconsolata" font-size="14.00" fill="#000000">Grimoire is just some exotic flavor of Markdown I can get a *lot* of </text>
<text text-anchor="middle" x="3891.5" y="-1029.1012" font-family="Inconsolata" font-size="14.00" fill="#000000">functionality for free.</text>
<text text-anchor="middle" x="3891.5" y="-997.7012" font-family="Inconsolata" font-size="14.00" fill="#000000">Let&#39;s try this approach and see if it flies. </text>
<text text-anchor="middle" x="3891.5" y="-966.3012" font-family="Inconsolata" font-size="14.00" fill="#000000">Hmm. There&#39;s a lot of useful code and approaches to lpeg to steal here.</text>
<text text-anchor="middle" x="3891.5" y="-950.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">But I&#39;m just too well&#45;equipped with my toolchain to want to switch horses.</text>
<text text-anchor="middle" x="3891.5" y="-919.5011" font-family="Inconsolata" font-size="14.00" fill="#000000">The Node class is a little janky but not particularly broken and is shaping</text>
<text text-anchor="middle" x="3891.5" y="-904.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">up as my common AST format when in Lualand. If those get out of whack there will</text>
<text text-anchor="middle" x="3891.5" y="-888.701" font-family="Inconsolata" font-size="14.00" fill="#000000">be pain sooner or later. That&#39;s worth more than being able to use the lunamark</text>
<text text-anchor="middle" x="3891.5" y="-873.301" font-family="Inconsolata" font-size="14.00" fill="#000000">toolchain for export and the like. </text>
<text text-anchor="middle" x="3891.5" y="-841.901" font-family="Inconsolata" font-size="14.00" fill="#000000">At least for now. I&#39;ll try to hold on to some of the naming conventions and see</text>
<text text-anchor="middle" x="3891.5" y="-826.501" font-family="Inconsolata" font-size="14.00" fill="#000000">if maybe I can talk the author into adapting the module once we&#39;re the popular</text>
<text text-anchor="middle" x="3891.5" y="-811.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">kids. </text>
<text text-anchor="middle" x="3891.5" y="-779.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_4&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>section_4&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3020.3335,-2525.3138C3087.6494,-2414.7768 3453.5188,-1813.9951 3689.2018,-1426.9883"/>
<polygon fill="#000000" stroke="#000000" points="3692.3588,-1428.5332 3694.5709,-1418.1719 3686.3802,-1424.8923 3692.3588,-1428.5332"/>
</g>
<!-- header_33 -->
<g id="node34" class="node">
<title>header_33</title>
<ellipse fill="none" stroke="#000000" cx="5790.5" cy="-1094.8013" rx="58.0513" ry="18"/>
<text text-anchor="middle" x="5790.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Structure</text>
</g>
<!-- section_5&#45;&gt;header_33 -->
<g id="edge33" class="edge">
<title>section_5&#45;&gt;header_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7667.8076,-2532.2463C7416.8383,-2477.5493 6335.1369,-2207.5219 5857.5,-1528.0019 5767.379,-1399.7893 5778.8923,-1197.5347 5786.8438,-1123.3212"/>
<polygon fill="#000000" stroke="#000000" points="5790.3729,-1123.2632 5788.026,-1112.9316 5783.4178,-1122.4718 5790.3729,-1123.2632"/>
</g>
<!-- block_34 -->
<g id="node35" class="node">
<title>block_34</title>
<ellipse fill="none" stroke="#000000" cx="5922.5" cy="-1094.8013" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="5922.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 43&#45;96</text>
</g>
<!-- section_5&#45;&gt;block_34 -->
<g id="edge34" class="edge">
<title>section_5&#45;&gt;block_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7671.2706,-2531.0706C7436.8262,-2470.9702 6426.7054,-2179.9113 5986.5,-1528.0019 5898.8879,-1398.2553 5910.815,-1196.9346 5918.8323,-1123.1451"/>
<polygon fill="#000000" stroke="#000000" points="5922.3547,-1123.1513 5920.0221,-1112.8164 5915.4007,-1122.3502 5922.3547,-1123.1513"/>
</g>
<!-- section_35 -->
<g id="node36" class="node">
<title>section_35</title>
<ellipse fill="none" stroke="#000000" cx="6061.5" cy="-1094.8013" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="6061.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 47&#45;61</text>
</g>
<!-- section_5&#45;&gt;section_35 -->
<g id="edge35" class="edge">
<title>section_5&#45;&gt;section_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7700.7129,-2525.8291C7528.8059,-2375.7548 6289.9915,-1294.2737 6089.0149,-1118.8218"/>
<polygon fill="#000000" stroke="#000000" points="6091.0964,-1115.9928 6081.2613,-1112.0529 6086.4928,-1121.2661 6091.0964,-1115.9928"/>
</g>
<!-- section_36 -->
<g id="node37" class="node">
<title>section_36</title>
<ellipse fill="none" stroke="#000000" cx="7296.5" cy="-1094.8013" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="7296.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 62&#45;67</text>
</g>
<!-- section_5&#45;&gt;section_36 -->
<g id="edge36" class="edge">
<title>section_5&#45;&gt;section_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7715.2158,-2525.0534C7670.7613,-2373.2053 7359.4789,-1309.9251 7304.7172,-1122.8697"/>
<polygon fill="#000000" stroke="#000000" points="7308.0586,-1121.826 7301.8899,-1113.2122 7301.3406,-1123.7928 7308.0586,-1121.826"/>
</g>
<!-- section_37 -->
<g id="node38" class="node">
<title>section_37</title>
<ellipse fill="none" stroke="#000000" cx="8209.5" cy="-1094.8013" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="8209.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 81&#45;91</text>
</g>
<!-- section_5&#45;&gt;section_37 -->
<g id="edge37" class="edge">
<title>section_5&#45;&gt;section_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7726.5943,-2525.0534C7777.8638,-2373.2053 8136.8663,-1309.9251 8200.0231,-1122.8697"/>
<polygon fill="#000000" stroke="#000000" points="8203.4009,-1123.8064 8203.2838,-1113.2122 8196.7687,-1121.5671 8203.4009,-1123.8064"/>
</g>
<!-- section_38 -->
<g id="node39" class="node">
<title>section_38</title>
<ellipse fill="none" stroke="#000000" cx="9176.5" cy="-1094.8013" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="9176.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 92&#45;96</text>
</g>
<!-- section_5&#45;&gt;section_38 -->
<g id="edge38" class="edge">
<title>section_5&#45;&gt;section_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7738.124,-2525.5724C7889.8255,-2374.6729 8973.9553,-1296.2751 9151.8348,-1119.3361"/>
<polygon fill="#000000" stroke="#000000" points="9154.3119,-1121.8088 9158.9334,-1112.2751 9149.3753,-1116.8459 9154.3119,-1121.8088"/>
</g>
<!-- section_39 -->
<g id="node40" class="node">
<title>section_39</title>
<ellipse fill="none" stroke="#000000" cx="9931.5" cy="-1094.8013" rx="70.655" ry="18"/>
<text text-anchor="middle" x="9931.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 97&#45;101</text>
</g>
<!-- section_5&#45;&gt;section_39 -->
<g id="edge39" class="edge">
<title>section_5&#45;&gt;section_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7746.0952,-2526.3372C7972.8863,-2377.7791 9636.4123,-1288.0967 9897.1576,-1117.2971"/>
<polygon fill="#000000" stroke="#000000" points="9899.3894,-1120.0192 9905.8367,-1111.6119 9895.5537,-1114.1637 9899.3894,-1120.0192"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="10834.5,-1528.2025 10020.5,-1528.2025 10020.5,-661.4001 10834.5,-661.4001 10834.5,-1528.2025"/>
<text text-anchor="middle" x="10427.5" y="-1512.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">** Structure</text>
<text text-anchor="middle" x="10427.5" y="-1481.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">We&#39;re going to do this in several passes. </text>
<text text-anchor="middle" x="10427.5" y="-1450.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Chunking</text>
<text text-anchor="middle" x="10427.5" y="-1418.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">Our top&#45;level of structure is determined by [[file:grimoire.org::*Header%20Lines][header lines]], which</text>
<text text-anchor="middle" x="10427.5" y="-1403.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">cooperate to form the structure of a Grimoire document.</text>
<text text-anchor="middle" x="10427.5" y="-1371.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">While we&#39;re doing this, we&#39;ll chunk everything else into arrays</text>
<text text-anchor="middle" x="10427.5" y="-1356.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">of lines, this will split into structure lines, blank lines,</text>
<text text-anchor="middle" x="10427.5" y="-1341.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">and TBD. </text>
<text text-anchor="middle" x="10427.5" y="-1309.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">I believe we can get everything into blocks on this first pass.</text>
<text text-anchor="middle" x="10427.5" y="-1278.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">At this point, the data structure is still flat, but chunky, and</text>
<text text-anchor="middle" x="10427.5" y="-1262.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">we have a separate vector of the header lines and their index</text>
<text text-anchor="middle" x="10427.5" y="-1247.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">into the chunks. </text>
<text text-anchor="middle" x="10427.5" y="-1216.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Ownership</text>
<text text-anchor="middle" x="10427.5" y="-1184.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">We next determine basic ownership. This we do by counting all the stars </text>
<text text-anchor="middle" x="10427.5" y="-1169.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">in the header lines and building a tree accordingly. This is a </text>
<text text-anchor="middle" x="10427.5" y="-1153.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">recursive map of vectors containing chunks. </text>
<text text-anchor="middle" x="10427.5" y="-1122.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">**** Cling Rule</text>
<text text-anchor="middle" x="10427.5" y="-1091.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">Various kinds of block have [[file:grimoire.org::*The%20Cling%20Rule][cling rules]] associated with them. How this</text>
<text text-anchor="middle" x="10427.5" y="-1075.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">works is still somewhat opaque, no substitute for code in actually</text>
<text text-anchor="middle" x="10427.5" y="-1060.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">working it out. </text>
<text text-anchor="middle" x="10427.5" y="-1028.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">We apply these rules, attaching tags to associated lists, tables and</text>
<text text-anchor="middle" x="10427.5" y="-1013.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">code blocks, for example. </text>
<text text-anchor="middle" x="10427.5" y="-982.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">I think the secret sauce of the cling rule is that it never matters if </text>
<text text-anchor="middle" x="10427.5" y="-966.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">marks cling up or cling down, tags and names can come before, after, or</text>
<text text-anchor="middle" x="10427.5" y="-951.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">around the blocks they cling to. </text>
<text text-anchor="middle" x="10427.5" y="-919.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Block Parsing</text>
<text text-anchor="middle" x="10427.5" y="-888.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">Next we go into certain kinds of block and parse them.</text>
<text text-anchor="middle" x="10427.5" y="-857.001" font-family="Inconsolata" font-size="14.00" fill="#000000">This resolves the inner structure of &#39;structure&#39; lines, which includes</text>
<text text-anchor="middle" x="10427.5" y="-841.601" font-family="Inconsolata" font-size="14.00" fill="#000000">all lists, tables, and similar. Some of these will not have been detected</text>
<text text-anchor="middle" x="10427.5" y="-826.201" font-family="Inconsolata" font-size="14.00" fill="#000000">yet, when this stage is done, what&#39;s left is prose, and unparsed code,</text>
<text text-anchor="middle" x="10427.5" y="-810.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">and we know which is which. </text>
<text text-anchor="middle" x="10427.5" y="-779.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">We haven&#39;t found all code, just code blocks. </text>
<text text-anchor="middle" x="10427.5" y="-748.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Prose Parsing</text>
<text text-anchor="middle" x="10427.5" y="-716.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">We next parse these prose regions, looking for structural elements and </text>
<text text-anchor="middle" x="10427.5" y="-701.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">handling them accordingly. </text>
<text text-anchor="middle" x="10427.5" y="-669.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_5&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>section_5&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7766.3552,-2530.1145C8012.685,-2458.9194 9197.9455,-2098.269 10011.5,-1528.0019 10011.6868,-1527.871 10011.8735,-1527.7399 10012.0603,-1527.6088"/>
<polygon fill="#000000" stroke="#000000" points="10014.327,-1530.2919 10020.4529,-1521.6476 10010.2734,-1524.585 10014.327,-1530.2919"/>
</g>
<!-- header_81 -->
<g id="node82" class="node">
<title>header_81</title>
<ellipse fill="none" stroke="#000000" cx="11270.5" cy="-1094.8013" rx="47.4254" ry="18"/>
<text text-anchor="middle" x="11270.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Result</text>
</g>
<!-- section_6&#45;&gt;header_81 -->
<g id="edge81" class="edge">
<title>section_6&#45;&gt;header_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11617.0496,-2525.0207C11581.9797,-2426.0189 11412.6617,-1939.103 11326.5,-1528.0019 11294.9008,-1377.2335 11278.1899,-1192.978 11272.6355,-1123.3057"/>
<polygon fill="#000000" stroke="#000000" points="11276.1088,-1122.8267 11271.8393,-1113.1302 11269.1301,-1123.3728 11276.1088,-1122.8267"/>
</g>
<!-- block_82 -->
<g id="node83" class="node">
<title>block_82</title>
<ellipse fill="none" stroke="#000000" cx="11401.5" cy="-1094.8013" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="11401.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 102&#45;105</text>
</g>
<!-- section_6&#45;&gt;block_82 -->
<g id="edge82" class="edge">
<title>section_6&#45;&gt;block_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11620.7333,-2525.0534C11597.4691,-2373.2808 11434.6369,-1310.9829 11405.8453,-1123.1496"/>
<polygon fill="#000000" stroke="#000000" points="11409.2969,-1122.5665 11404.3221,-1113.2122 11402.3777,-1123.6271 11409.2969,-1122.5665"/>
</g>
<!-- block_83 -->
<g id="node84" class="node">
<title>block_83</title>
<ellipse fill="none" stroke="#000000" cx="11550.5" cy="-1094.8013" rx="65.0229" ry="18"/>
<text text-anchor="middle" x="11550.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 106&#45;110</text>
</g>
<!-- section_6&#45;&gt;block_83 -->
<g id="edge83" class="edge">
<title>section_6&#45;&gt;block_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11622.5902,-2525.0534C11614.9441,-2373.3563 11561.4497,-1312.0402 11551.943,-1123.4307"/>
<polygon fill="#000000" stroke="#000000" points="11555.427,-1123.0233 11551.428,-1113.2122 11548.4359,-1123.3758 11555.427,-1123.0233"/>
</g>
<!-- block_84 -->
<g id="node85" class="node">
<title>block_84</title>
<ellipse fill="none" stroke="#000000" cx="11697.5" cy="-1094.8013" rx="63.9154" ry="18"/>
<text text-anchor="middle" x="11697.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 111&#45;115</text>
</g>
<!-- section_6&#45;&gt;block_84 -->
<g id="edge84" class="edge">
<title>section_6&#45;&gt;block_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11624.4222,-2525.0534C11632.1731,-2373.3563 11686.4003,-1312.0402 11696.0372,-1123.4307"/>
<polygon fill="#000000" stroke="#000000" points="11699.5444,-1123.3778 11696.5593,-1113.2122 11692.5535,-1123.0206 11699.5444,-1123.3778"/>
</g>
<!-- block_85 -->
<g id="node86" class="node">
<title>block_85</title>
<ellipse fill="none" stroke="#000000" cx="11843.5" cy="-1094.8013" rx="64.2191" ry="18"/>
<text text-anchor="middle" x="11843.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 116&#45;118</text>
</g>
<!-- section_6&#45;&gt;block_85 -->
<g id="edge85" class="edge">
<title>section_6&#45;&gt;block_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11626.2418,-2525.0534C11649.2964,-2373.2808 11810.6616,-1310.9829 11839.1938,-1123.1496"/>
<polygon fill="#000000" stroke="#000000" points="11842.6618,-1123.6245 11840.7033,-1113.2122 11835.7412,-1122.5732 11842.6618,-1123.6245"/>
</g>
<!-- block_86 -->
<g id="node87" class="node">
<title>block_86</title>
<ellipse fill="none" stroke="#000000" cx="11990.5" cy="-1094.8013" rx="65.0229" ry="18"/>
<text text-anchor="middle" x="11990.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 119&#45;124</text>
</g>
<!-- section_6&#45;&gt;block_86 -->
<g id="edge86" class="edge">
<title>section_6&#45;&gt;block_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11629.5694,-2524.9495C11662.6194,-2425.5726 11822.8475,-1937.0067 11916.5,-1528.0019 11951.0929,-1376.9258 11977.3798,-1192.8509 11986.7616,-1123.2664"/>
<polygon fill="#000000" stroke="#000000" points="11990.2642,-1123.4798 11988.1209,-1113.1041 11983.326,-1122.5518 11990.2642,-1123.4798"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="12621.5,-1286.202 12073.5,-1286.202 12073.5,-903.4006 12621.5,-903.4006 12621.5,-1286.202"/>
<text text-anchor="middle" x="12347.5" y="-1270.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">** Result</text>
<text text-anchor="middle" x="12347.5" y="-1239.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">Code is not parsed by this parser, not explicitly. </text>
<text text-anchor="middle" x="12347.5" y="-1208.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">Eventually, the document will have to be executed within an appropriate </text>
<text text-anchor="middle" x="12347.5" y="-1192.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">sandbox before it can be either tangled or woven. We&#39;ll skip that little</text>
<text text-anchor="middle" x="12347.5" y="-1177.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">refinement, Lua is the runtime for that stage so it&#39;s comfortable to add </text>
<text text-anchor="middle" x="12347.5" y="-1161.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">it later. </text>
<text text-anchor="middle" x="12347.5" y="-1130.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">What we do next depends on whether we&#39;re weaving or tangling. Weaving</text>
<text text-anchor="middle" x="12347.5" y="-1115.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">is less interesting to me, at least for now; I&#39;m hoping that if we get a </text>
<text text-anchor="middle" x="12347.5" y="-1099.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">bit of traction some wonk at Pandoc will add our biological distinctiveness</text>
<text text-anchor="middle" x="12347.5" y="-1084.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">to that collective and we&#39;ll get a big boost in the right direction. </text>
<text text-anchor="middle" x="12347.5" y="-1052.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">Weaving is one of those things we can just iterate on endlesssly, and indeed</text>
<text text-anchor="middle" x="12347.5" y="-1037.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">have to, document formats being what they are. </text>
<text text-anchor="middle" x="12347.5" y="-1006.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">For simple tangling, we&#39;re interested in marks, edn blocks, and code blocks,</text>
<text text-anchor="middle" x="12347.5" y="-990.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">for now. Lists are the next data structure I&#39;m interested in, with tables in</text>
<text text-anchor="middle" x="12347.5" y="-975.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">last place. I&#39;m just not a grid kind of thinker. </text>
<text text-anchor="middle" x="12347.5" y="-911.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_6&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>section_6&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11632.523,-2525.0534C11694.9688,-2400.1357 12065.7568,-1658.4051 12247.3707,-1295.1017"/>
<polygon fill="#000000" stroke="#000000" points="12250.5503,-1296.5687 12251.8911,-1286.059 12244.289,-1293.4387 12250.5503,-1296.5687"/>
</g>
<!-- header_93 -->
<g id="node94" class="node">
<title>header_93</title>
<ellipse fill="none" stroke="#000000" cx="13676.5" cy="-1094.8013" rx="100.6507" ry="18"/>
<text text-anchor="middle" x="13676.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Subsequent Actions</text>
</g>
<!-- section_7&#45;&gt;header_93 -->
<g id="edge93" class="edge">
<title>section_7&#45;&gt;header_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14015.2253,-2525.0534C13979.2811,-2373.2808 13727.6981,-1310.9829 13683.2137,-1123.1496"/>
<polygon fill="#000000" stroke="#000000" points="13686.5707,-1122.1364 13680.8602,-1113.2122 13679.7591,-1123.7497 13686.5707,-1122.1364"/>
</g>
<!-- block_94 -->
<g id="node95" class="node">
<title>block_94</title>
<ellipse fill="none" stroke="#000000" cx="13860.5" cy="-1094.8013" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="13860.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 125&#45;146</text>
</g>
<!-- section_7&#45;&gt;block_94 -->
<g id="edge94" class="edge">
<title>section_7&#45;&gt;block_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14017.5184,-2525.0534C14000.8646,-2373.3563 13884.3493,-1312.0402 13863.643,-1123.4307"/>
<polygon fill="#000000" stroke="#000000" points="13867.0917,-1122.7705 13862.5212,-1113.2122 13860.1335,-1123.5345 13867.0917,-1122.7705"/>
</g>
<!-- section_95 -->
<g id="node96" class="node">
<title>section_95</title>
<ellipse fill="none" stroke="#000000" cx="14019.5" cy="-1094.8013" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="14019.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 129&#45;132</text>
</g>
<!-- section_7&#45;&gt;section_95 -->
<g id="edge95" class="edge">
<title>section_7&#45;&gt;section_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14019.5,-2525.0534C14019.5,-2373.3563 14019.5,-1312.0402 14019.5,-1123.4307"/>
<polygon fill="#000000" stroke="#000000" points="14023.0001,-1123.2122 14019.5,-1113.2122 14016.0001,-1123.2123 14023.0001,-1123.2122"/>
</g>
<!-- section_96 -->
<g id="node97" class="node">
<title>section_96</title>
<ellipse fill="none" stroke="#000000" cx="14704.5" cy="-1094.8013" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="14704.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 133&#45;136</text>
</g>
<!-- section_7&#45;&gt;section_96 -->
<g id="edge96" class="edge">
<title>section_7&#45;&gt;section_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14016.0154,-2524.866C13997.3582,-2422.1541 13916.8985,-1908.2204 14103.5,-1564.0019 14232.8178,-1325.453 14540.3818,-1168.0935 14657.8224,-1114.8523"/>
<polygon fill="#000000" stroke="#000000" points="14659.5802,-1117.8996 14667.268,-1110.6094 14656.7119,-1111.5142 14659.5802,-1117.8996"/>
</g>
<!-- section_97 -->
<g id="node98" class="node">
<title>section_97</title>
<ellipse fill="none" stroke="#000000" cx="15604.5" cy="-1094.8013" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="15604.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 137&#45;146</text>
</g>
<!-- section_7&#45;&gt;section_97 -->
<g id="edge97" class="edge">
<title>section_7&#45;&gt;section_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14013.7526,-2525.1101C13980.13,-2415.9792 13819.9502,-1838.3245 14103.5,-1564.0019 14158.2769,-1511.0076 14715.0507,-1548.3515 14788.5,-1528.0019 15120.0068,-1436.1558 15468.7817,-1194.1526 15573.2167,-1118.0523"/>
<polygon fill="#000000" stroke="#000000" points="15575.4366,-1120.7649 15581.4394,-1112.0346 15571.3025,-1115.1161 15575.4366,-1120.7649"/>
</g>
<!-- section_98 -->
<g id="node99" class="node">
<title>section_98</title>
<ellipse fill="none" stroke="#000000" cx="16835.5" cy="-1094.8013" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="16835.5" y="-1090.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 147&#45;155</text>
</g>
<!-- section_7&#45;&gt;section_98 -->
<g id="edge98" class="edge">
<title>section_7&#45;&gt;section_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14013.6389,-2524.9908C13979.3459,-2415.1565 13815.8947,-1834.0697 14103.5,-1564.0019 14167.7076,-1503.7095 15602.0388,-1544.8018 15688.5,-1528.0019 16141.3876,-1440.0033 16649.584,-1190.4901 16794.8017,-1116.0316"/>
<polygon fill="#000000" stroke="#000000" points="16796.5459,-1119.0704 16803.8376,-1111.3839 16793.3441,-1112.8456 16796.5459,-1119.0704"/>
</g>
<!-- leaf_126 -->
<g id="node127" class="node">
<title>leaf_126</title>
<polygon fill="none" stroke="#c0c0c0" points="17596,-1279.1017 16929,-1279.1017 16929,-910.5009 17596,-910.5009 17596,-1279.1017"/>
<text text-anchor="middle" x="17262.5" y="-1264.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">** Subsequent Actions</text>
<text text-anchor="middle" x="17262.5" y="-1232.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">Each of these needs its own document.</text>
<text text-anchor="middle" x="17262.5" y="-1201.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Filtration</text>
<text text-anchor="middle" x="17262.5" y="-1169.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">We normalize certain aspects, including a rigorous and unflinching programme of tab removal. </text>
<text text-anchor="middle" x="17262.5" y="-1138.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Tangling</text>
<text text-anchor="middle" x="17262.5" y="-1107.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">The tangler is the first thing I intend to write. </text>
<text text-anchor="middle" x="17262.5" y="-1075.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Unraveling</text>
<text text-anchor="middle" x="17262.5" y="-1044.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m designing the tangler specifically so that I can unravel from source. </text>
<text text-anchor="middle" x="17262.5" y="-1012.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">How does that work? I intend to work out those details quite soon. </text>
<text text-anchor="middle" x="17262.5" y="-981.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">Having a sense of how the structure is parsed internally is important here.</text>
<text text-anchor="middle" x="17262.5" y="-950.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">This subject has its [[file:unraveler.org::*grym%20unravel][own section]] already.</text>
<text text-anchor="middle" x="17262.5" y="-918.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_7&#45;&gt;leaf_126 -->
<g id="edge126" class="edge">
<title>section_7&#45;&gt;leaf_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14013.6014,-2524.9507C13979.0874,-2414.8799 13814.558,-1832.639 14103.5,-1564.0019 14160.7924,-1510.7356 16849.2969,-1562.5163 16919.5,-1528.0019 17023.121,-1477.0579 17105.1282,-1378.251 17162.9387,-1287.8523"/>
<polygon fill="#000000" stroke="#000000" points="17166.0672,-1289.4538 17168.4576,-1279.1321 17160.1523,-1285.7102 17166.0672,-1289.4538"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="457,-532.101 0,-532.101 0,-461.7002 457,-461.7002 457,-532.101"/>
<text text-anchor="middle" x="228.5" y="-500.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">I need a literate toolchain stat. I&#39;m unwilling to write it on</text>
<text text-anchor="middle" x="228.5" y="-485.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">Org. I&#39;ve been having fun with Org but it has to go, and now is</text>
<text text-anchor="middle" x="228.5" y="-470.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">the time.</text>
</g>
<!-- block_10&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>block_10&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2254.2323,-1076.7704C2270.644,-1009.6421 2317.6431,-772.3959 2194.5,-661.6007 2123.0773,-597.3398 558.3682,-650.2212 465.5,-625.6007 399.2478,-608.0365 331.269,-568.4761 285.202,-537.819"/>
<polygon fill="#000000" stroke="#000000" points="287.1111,-534.885 276.8607,-532.2056 283.2029,-540.6924 287.1111,-534.885"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="974,-531.5018 475,-531.5018 475,-462.2993 974,-462.2993 974,-531.5018"/>
<text text-anchor="middle" x="724.5" y="-516.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">I need this before the quipu, to write the quipu, so we&#39;re going to</text>
<text text-anchor="middle" x="724.5" y="-501.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">forget reusable parsers and general editing structures and everything</text>
<text text-anchor="middle" x="724.5" y="-485.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">like that for now. We&#39;re going to cut a fast parser out of Lua and</text>
<text text-anchor="middle" x="724.5" y="-470.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">start hooking it up to things. </text>
</g>
<!-- block_11&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>block_11&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2368.9714,-1076.7615C2384.4209,-1009.6017 2428.1021,-772.2581 2304.5,-661.6007 2249.7604,-612.594 1053.7781,-643.4197 982.5,-625.6007 910.8067,-607.678 835.9978,-567.6236 785.5109,-536.9252"/>
<polygon fill="#000000" stroke="#000000" points="787.0386,-533.7561 776.686,-531.5037 783.3744,-539.7204 787.0386,-533.7561"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1477,-516.2012 992,-516.2012 992,-477.6 1477,-477.6 1477,-516.2012"/>
<text text-anchor="middle" x="1234.5" y="-501.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">Pegylator is proving remarkably useful for software I thought I was</text>
<text text-anchor="middle" x="1234.5" y="-485.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">abandoning in mid&#45;February. But I digress.</text>
</g>
<!-- block_12&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>block_12&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2493.6946,-1076.7725C2508.1252,-1009.6515 2548.3133,-772.4282 2424.5,-661.6007 2346.7868,-592.0383 1587.4191,-651.9371 1486.5,-625.6007 1404.1631,-604.1137 1317.8757,-552.7809 1270.6807,-521.8293"/>
<polygon fill="#000000" stroke="#000000" points="1272.6026,-518.9042 1262.3331,-516.2989 1268.7365,-524.7397 1272.6026,-518.9042"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="2029.5,-524.101 1495.5,-524.101 1495.5,-469.7001 2029.5,-469.7001 2029.5,-524.101"/>
<text text-anchor="middle" x="1762.5" y="-508.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">There are important structural similarities between Grimoire and Markdown.</text>
<text text-anchor="middle" x="1762.5" y="-493.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">More with Org, of course, but Markdown is more widely parsed. Let&#39;s see</text>
<text text-anchor="middle" x="1762.5" y="-478.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">what we can find.</text>
</g>
<!-- block_13&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>block_13&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2623.6787,-1076.4359C2637.7902,-1009.1363 2676.2848,-774.0939 2554.5,-661.6007 2512.2821,-622.6039 2094.1432,-639.9863 2038.5,-625.6007 1957.0404,-604.5409 1870.2009,-559.9295 1816.1496,-529.1863"/>
<polygon fill="#000000" stroke="#000000" points="1817.8497,-526.1266 1807.4339,-524.1873 1814.3669,-532.1988 1817.8497,-526.1266"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="2225,-514.9006 2048,-514.9006 2048,-478.9006 2225,-478.9006 2225,-514.9006"/>
<text text-anchor="middle" x="2136.5" y="-493.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">Oh hey this looks good:</text>
</g>
<!-- block_14&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>block_14&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2753.6414,-1076.476C2767.6228,-1009.3166 2805.7208,-774.7013 2684.5,-661.6007 2610.9872,-593.0124 2321.6221,-674.0051 2233.5,-625.6007 2192.5624,-603.1143 2163.7686,-555.2288 2148.6883,-524.6305"/>
<polygon fill="#000000" stroke="#000000" points="2151.7331,-522.8836 2144.2759,-515.3576 2145.4122,-525.8913 2151.7331,-522.8836"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="2574,-514.9006 2243,-514.9006 2243,-478.9006 2574,-478.9006 2574,-514.9006"/>
<text text-anchor="middle" x="2408.5" y="-493.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">[[https://github.com/jgm/lunamark][lunamark]]</text>
</g>
<!-- block_15&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>block_15&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2883.3557,-1076.771C2896.3395,-1010.6413 2931.3985,-779.1634 2814.5,-661.6007 2741.2358,-587.9203 2679.4306,-665.5228 2583.5,-625.6007 2524.1177,-600.8885 2466.1876,-551.983 2434.1299,-522.087"/>
<polygon fill="#000000" stroke="#000000" points="2436.2229,-519.2492 2426.5519,-514.9223 2431.4137,-524.3357 2436.2229,-519.2492"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="3112.5,-524.101 2592.5,-524.101 2592.5,-469.7001 3112.5,-469.7001 3112.5,-524.101"/>
<text text-anchor="middle" x="2852.5" y="-508.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">In fact this looks very good. If I can trick lunamark into thinking that</text>
<text text-anchor="middle" x="2852.5" y="-493.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">Grimoire is just some exotic flavor of Markdown I can get a *lot* of </text>
<text text-anchor="middle" x="2852.5" y="-478.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">functionality for free.</text>
</g>
<!-- block_16&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>block_16&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3009.0867,-1076.5097C3007.231,-1015.7833 2997.2331,-815.9703 2944.5,-661.6007 2928.3382,-614.2891 2898.7395,-564.84 2877.4747,-532.6243"/>
<polygon fill="#000000" stroke="#000000" points="2880.1836,-530.3788 2871.716,-524.011 2874.3644,-534.2695 2880.1836,-530.3788"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="3462,-514.9006 3131,-514.9006 3131,-478.9006 3462,-478.9006 3462,-514.9006"/>
<text text-anchor="middle" x="3296.5" y="-493.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">Let&#39;s try this approach and see if it flies. </text>
</g>
<!-- block_17&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>block_17&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3139.9133,-1076.5097C3141.769,-1015.7833 3151.7669,-815.9703 3204.5,-661.6007 3222.2309,-609.6957 3256.1345,-555.2181 3277.4634,-523.7461"/>
<polygon fill="#000000" stroke="#000000" points="3280.6091,-525.3481 3283.3845,-515.1233 3274.8385,-521.3857 3280.6091,-525.3481"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="4014.5,-516.2012 3480.5,-516.2012 3480.5,-477.6 4014.5,-477.6 4014.5,-516.2012"/>
<text text-anchor="middle" x="3747.5" y="-501.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">Hmm. There&#39;s a lot of useful code and approaches to lpeg to steal here.</text>
<text text-anchor="middle" x="3747.5" y="-485.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">But I&#39;m just too well&#45;equipped with my toolchain to want to switch horses.</text>
</g>
<!-- block_18&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>block_18&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3265.9797,-1076.7146C3254.3847,-1011.3586 3224.1343,-784.8067 3334.5,-661.6007 3376.2192,-615.0278 3411.6975,-646.8562 3470.5,-625.6007 3554.6489,-595.1832 3648.2118,-548.9494 3702.2193,-520.9645"/>
<polygon fill="#000000" stroke="#000000" points="3703.9315,-524.0191 3711.1859,-516.2974 3700.6996,-517.8098 3703.9315,-524.0191"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="4608.5,-531.5018 4032.5,-531.5018 4032.5,-462.2993 4608.5,-462.2993 4608.5,-531.5018"/>
<text text-anchor="middle" x="4320.5" y="-516.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">The Node class is a little janky but not particularly broken and is shaping</text>
<text text-anchor="middle" x="4320.5" y="-501.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">up as my common AST format when in Lualand. If those get out of whack there will</text>
<text text-anchor="middle" x="4320.5" y="-485.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">be pain sooner or later. That&#39;s worth more than being able to use the lunamark</text>
<text text-anchor="middle" x="4320.5" y="-470.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">toolchain for export and the like. </text>
</g>
<!-- block_19&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>block_19&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3395.3014,-1076.4143C3381.1207,-1009.0396 3342.4151,-773.7681 3464.5,-661.6007 3510.3324,-619.4915 3962.9943,-640.1903 4023.5,-625.6007 4104.0059,-606.1886 4190.243,-566.478 4248.9355,-536.2712"/>
<polygon fill="#000000" stroke="#000000" points="4250.8491,-539.2214 4258.1137,-531.5093 4247.6254,-533.0079 4250.8491,-539.2214"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="5196,-524.101 4627,-524.101 4627,-469.7001 5196,-469.7001 5196,-524.101"/>
<text text-anchor="middle" x="4911.5" y="-508.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">At least for now. I&#39;ll try to hold on to some of the naming conventions and see</text>
<text text-anchor="middle" x="4911.5" y="-493.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">if maybe I can talk the author into adapting the module once we&#39;re the popular</text>
<text text-anchor="middle" x="4911.5" y="-478.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">kids. </text>
</g>
<!-- block_20&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>block_20&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3525.294,-1076.7598C3510.8231,-1009.5937 3470.5104,-772.2309 3594.5,-661.6007 3636.9331,-623.7397 4562.051,-638.2275 4617.5,-625.6007 4704.7795,-605.7256 4798.2992,-560.11 4855.8535,-528.8887"/>
<polygon fill="#000000" stroke="#000000" points="4857.6823,-531.8778 4864.7753,-524.0076 4854.3225,-525.7368 4857.6823,-531.8778"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="5524.5,-516.8027 5214.5,-516.8027 5214.5,-476.9985 5524.5,-476.9985 5524.5,-516.8027"/>
<text text-anchor="middle" x="5369.5" y="-485.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">We&#39;re going to do this in several passes. </text>
</g>
<!-- block_34&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>block_34&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5926.5246,-1076.5993C5940.098,-1009.8704 5976.9531,-776.5668 5857.5,-661.6007 5805.3041,-611.3655 5600.5577,-653.0099 5533.5,-625.6007 5477.2896,-602.6254 5424.3142,-554.4836 5394.4782,-524.0323"/>
<polygon fill="#000000" stroke="#000000" points="5396.865,-521.4652 5387.4034,-516.6976 5391.8268,-526.3249 5396.865,-521.4652"/>
</g>
<!-- header_41 -->
<g id="node42" class="node">
<title>header_41</title>
<ellipse fill="none" stroke="#000000" cx="5602.5" cy="-496.9006" rx="59.5222" ry="18"/>
<text text-anchor="middle" x="5602.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Chunking</text>
</g>
<!-- section_35&#45;&gt;header_41 -->
<g id="edge41" class="edge">
<title>section_35&#45;&gt;header_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6065.0806,-1076.5546C6077.0376,-1009.6693 6108.3451,-775.8894 5987.5,-661.6007 5884.8013,-564.474 5788.478,-704.9531 5671.5,-625.6007 5636.7795,-602.048 5618.1144,-555.1645 5609.2562,-524.9563"/>
<polygon fill="#000000" stroke="#000000" points="5612.5524,-523.7432 5606.5217,-515.0323 5605.804,-525.6028 5612.5524,-523.7432"/>
</g>
<!-- block_42 -->
<g id="node43" class="node">
<title>block_42</title>
<ellipse fill="none" stroke="#000000" cx="5736.5" cy="-496.9006" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="5736.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 47&#45;51</text>
</g>
<!-- section_35&#45;&gt;block_42 -->
<g id="edge42" class="edge">
<title>section_35&#45;&gt;block_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6064.8563,-1076.4038C6075.8201,-1009.9811 6103.5452,-780.227 5987.5,-661.6007 5928.6194,-601.4106 5868.6758,-676.3667 5801.5,-625.6007 5768.6299,-600.7602 5751.1575,-554.6601 5742.8709,-524.9064"/>
<polygon fill="#000000" stroke="#000000" points="5746.2293,-523.9144 5740.3127,-515.1255 5739.4571,-525.6857 5746.2293,-523.9144"/>
</g>
<!-- block_43 -->
<g id="node44" class="node">
<title>block_43</title>
<ellipse fill="none" stroke="#000000" cx="5866.5" cy="-496.9006" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="5866.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 52&#45;55</text>
</g>
<!-- section_35&#45;&gt;block_43 -->
<g id="edge43" class="edge">
<title>section_35&#45;&gt;block_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6063.3032,-1076.4457C6068.5914,-1012.9586 6078.4113,-799.0608 5987.5,-661.6007 5971.1781,-636.9217 5951.31,-647.5785 5931.5,-625.6007 5904.4833,-595.6277 5885.7175,-552.3703 5875.5242,-524.4438"/>
<polygon fill="#000000" stroke="#000000" points="5878.7853,-523.1672 5872.1571,-514.9017 5872.1842,-525.4965 5878.7853,-523.1672"/>
</g>
<!-- block_44 -->
<g id="node45" class="node">
<title>block_44</title>
<ellipse fill="none" stroke="#000000" cx="5996.5" cy="-496.9006" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="5996.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 56&#45;57</text>
</g>
<!-- section_35&#45;&gt;block_44 -->
<g id="edge44" class="edge">
<title>section_35&#45;&gt;block_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6059.5192,-1076.5809C6050.2207,-991.0493 6010.8804,-629.1782 5999.5594,-525.0426"/>
<polygon fill="#000000" stroke="#000000" points="6003.0257,-524.5419 5998.4654,-514.9788 5996.0667,-525.2985 6003.0257,-524.5419"/>
</g>
<!-- block_45 -->
<g id="node46" class="node">
<title>block_45</title>
<ellipse fill="none" stroke="#000000" cx="6126.5" cy="-496.9006" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="6126.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 58&#45;61</text>
</g>
<!-- section_35&#45;&gt;block_45 -->
<g id="edge45" class="edge">
<title>section_35&#45;&gt;block_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6063.4808,-1076.5809C6072.7793,-991.0493 6112.1196,-629.1782 6123.4406,-525.0426"/>
<polygon fill="#000000" stroke="#000000" points="6126.9333,-525.2985 6124.5346,-514.9788 6119.9743,-524.5419 6126.9333,-525.2985"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="6937,-625.8012 6200,-625.8012 6200,-367.9999 6937,-367.9999 6937,-625.8012"/>
<text text-anchor="middle" x="6568.5" y="-610.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Chunking</text>
<text text-anchor="middle" x="6568.5" y="-579.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">Our top&#45;level of structure is determined by [[file:grimoire.org::*Header%20Lines][header lines]], which</text>
<text text-anchor="middle" x="6568.5" y="-563.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">cooperate to form the structure of a Grimoire document.</text>
<text text-anchor="middle" x="6568.5" y="-532.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">While we&#39;re doing this, we&#39;ll chunk everything else into arrays</text>
<text text-anchor="middle" x="6568.5" y="-516.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">of lines, this will split into structure lines, blank lines,</text>
<text text-anchor="middle" x="6568.5" y="-501.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">and TBD. </text>
<text text-anchor="middle" x="6568.5" y="-470.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">I believe we can get everything into blocks on this first pass.</text>
<text text-anchor="middle" x="6568.5" y="-438.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">At this point, the data structure is still flat, but chunky, and</text>
<text text-anchor="middle" x="6568.5" y="-423.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">we have a separate vector of the header lines and their index</text>
<text text-anchor="middle" x="6568.5" y="-407.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">into the chunks. </text>
<text text-anchor="middle" x="6568.5" y="-376.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_35&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>section_35&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6076.399,-1077.2311C6131.194,-1012.6118 6324.9613,-784.1037 6452.3807,-633.8391"/>
<polygon fill="#000000" stroke="#000000" points="6455.3573,-635.7404 6459.1554,-625.8498 6450.0184,-631.2132 6455.3573,-635.7404"/>
</g>
<!-- header_51 -->
<g id="node52" class="node">
<title>header_51</title>
<ellipse fill="none" stroke="#000000" cx="7019.5" cy="-496.9006" rx="64.8324" ry="18"/>
<text text-anchor="middle" x="7019.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Ownership</text>
</g>
<!-- section_36&#45;&gt;header_51 -->
<g id="edge51" class="edge">
<title>section_36&#45;&gt;header_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7288.2099,-1076.9073C7248.7495,-991.7326 7079.8869,-627.2448 7032.1283,-524.1587"/>
<polygon fill="#000000" stroke="#000000" points="7035.2725,-522.619 7027.893,-515.0168 7028.921,-525.5617 7035.2725,-522.619"/>
</g>
<!-- block_52 -->
<g id="node53" class="node">
<title>block_52</title>
<ellipse fill="none" stroke="#000000" cx="7157.5" cy="-496.9006" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="7157.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 62&#45;67</text>
</g>
<!-- section_36&#45;&gt;block_52 -->
<g id="edge52" class="edge">
<title>section_36&#45;&gt;block_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7292.2641,-1076.5809C7272.3596,-990.9628 7188.0817,-628.4462 7163.9692,-524.7275"/>
<polygon fill="#000000" stroke="#000000" points="7167.3764,-523.9265 7161.7028,-514.9788 7160.5582,-525.5116 7167.3764,-523.9265"/>
</g>
<!-- section_53 -->
<g id="node54" class="node">
<title>section_53</title>
<ellipse fill="none" stroke="#000000" cx="7296.5" cy="-496.9006" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="7296.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 68&#45;80</text>
</g>
<!-- section_36&#45;&gt;section_53 -->
<g id="edge53" class="edge">
<title>section_36&#45;&gt;section_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7296.5,-1076.5809C7296.5,-991.0493 7296.5,-629.1782 7296.5,-525.0426"/>
<polygon fill="#000000" stroke="#000000" points="7300.0001,-524.9788 7296.5,-514.9788 7293.0001,-524.9789 7300.0001,-524.9788"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="7900.5,-555.4007 7380.5,-555.4007 7380.5,-438.4004 7900.5,-438.4004 7900.5,-555.4007"/>
<text text-anchor="middle" x="7640.5" y="-540.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Ownership</text>
<text text-anchor="middle" x="7640.5" y="-508.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">We next determine basic ownership. This we do by counting all the stars </text>
<text text-anchor="middle" x="7640.5" y="-493.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">in the header lines and building a tree accordingly. This is a </text>
<text text-anchor="middle" x="7640.5" y="-478.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">recursive map of vectors containing chunks. </text>
<text text-anchor="middle" x="7640.5" y="-446.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_36&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>section_36&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7306.7952,-1076.9073C7350.6606,-1000.6656 7523.287,-700.6266 7601.552,-564.5955"/>
<polygon fill="#000000" stroke="#000000" points="7604.6151,-566.2899 7606.5683,-555.8766 7598.5476,-562.7989 7604.6151,-566.2899"/>
</g>
<!-- header_64 -->
<g id="node65" class="node">
<title>header_64</title>
<ellipse fill="none" stroke="#000000" cx="7994.5" cy="-496.9006" rx="76.4261" ry="18"/>
<text text-anchor="middle" x="7994.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Block Parsing</text>
</g>
<!-- section_37&#45;&gt;header_64 -->
<g id="edge64" class="edge">
<title>section_37&#45;&gt;header_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8202.9481,-1076.5809C8172.1295,-990.8763 8041.5392,-627.7135 8004.3936,-524.414"/>
<polygon fill="#000000" stroke="#000000" points="8007.6782,-523.2046 8001.0008,-514.9788 8001.0911,-525.5733 8007.6782,-523.2046"/>
</g>
<!-- block_65 -->
<g id="node66" class="node">
<title>block_65</title>
<ellipse fill="none" stroke="#000000" cx="8144.5" cy="-496.9006" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="8144.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 81&#45;84</text>
</g>
<!-- section_37&#45;&gt;block_65 -->
<g id="edge65" class="edge">
<title>section_37&#45;&gt;block_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8207.5192,-1076.5809C8198.2207,-991.0493 8158.8804,-629.1782 8147.5594,-525.0426"/>
<polygon fill="#000000" stroke="#000000" points="8151.0257,-524.5419 8146.4654,-514.9788 8144.0667,-525.2985 8151.0257,-524.5419"/>
</g>
<!-- block_66 -->
<g id="node67" class="node">
<title>block_66</title>
<ellipse fill="none" stroke="#000000" cx="8274.5" cy="-496.9006" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="8274.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 85&#45;89</text>
</g>
<!-- section_37&#45;&gt;block_66 -->
<g id="edge66" class="edge">
<title>section_37&#45;&gt;block_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8211.4808,-1076.5809C8220.7793,-991.0493 8260.1196,-629.1782 8271.4406,-525.0426"/>
<polygon fill="#000000" stroke="#000000" points="8274.9333,-525.2985 8272.5346,-514.9788 8267.9743,-524.5419 8274.9333,-525.2985"/>
</g>
<!-- block_67 -->
<g id="node68" class="node">
<title>block_67</title>
<ellipse fill="none" stroke="#000000" cx="8404.5" cy="-496.9006" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="8404.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 90&#45;91</text>
</g>
<!-- section_37&#45;&gt;block_67 -->
<g id="edge67" class="edge">
<title>section_37&#45;&gt;block_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8215.4424,-1076.5809C8243.366,-990.9628 8361.5976,-628.4462 8395.4245,-524.7275"/>
<polygon fill="#000000" stroke="#000000" points="8398.8307,-525.5712 8398.6039,-514.9788 8392.1757,-523.4007 8398.8307,-525.5712"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="9005,-594.6009 8478,-594.6009 8478,-399.2002 9005,-399.2002 9005,-594.6009"/>
<text text-anchor="middle" x="8741.5" y="-579.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Block Parsing</text>
<text text-anchor="middle" x="8741.5" y="-547.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">Next we go into certain kinds of block and parse them.</text>
<text text-anchor="middle" x="8741.5" y="-516.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">This resolves the inner structure of &#39;structure&#39; lines, which includes</text>
<text text-anchor="middle" x="8741.5" y="-501.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">all lists, tables, and similar. Some of these will not have been detected</text>
<text text-anchor="middle" x="8741.5" y="-485.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">yet, when this stage is done, what&#39;s left is prose, and unparsed code,</text>
<text text-anchor="middle" x="8741.5" y="-470.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">and we know which is which. </text>
<text text-anchor="middle" x="8741.5" y="-438.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">We haven&#39;t found all code, just code blocks. </text>
<text text-anchor="middle" x="8741.5" y="-407.5005" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_37&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>section_37&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8225.1336,-1077.2311C8286.8037,-1007.9217 8516.2352,-750.0698 8647.5848,-602.4493"/>
<polygon fill="#000000" stroke="#000000" points="8650.5071,-604.4304 8654.5397,-594.633 8645.2775,-599.7772 8650.5071,-604.4304"/>
</g>
<!-- header_72 -->
<g id="node73" class="node">
<title>header_72</title>
<ellipse fill="none" stroke="#000000" cx="9100.5" cy="-496.9006" rx="77.8797" ry="18"/>
<text text-anchor="middle" x="9100.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Prose Parsing</text>
</g>
<!-- section_38&#45;&gt;header_72 -->
<g id="edge72" class="edge">
<title>section_38&#45;&gt;header_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9174.184,-1076.5809C9163.3119,-991.0493 9117.314,-629.1782 9104.0772,-525.0426"/>
<polygon fill="#000000" stroke="#000000" points="9107.5311,-524.4576 9102.798,-514.9788 9100.5869,-525.3404 9107.5311,-524.4576"/>
</g>
<!-- block_73 -->
<g id="node74" class="node">
<title>block_73</title>
<ellipse fill="none" stroke="#000000" cx="9252.5" cy="-496.9006" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="9252.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 92&#45;96</text>
</g>
<!-- section_38&#45;&gt;block_73 -->
<g id="edge73" class="edge">
<title>section_38&#45;&gt;block_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9178.816,-1076.5809C9189.6881,-991.0493 9235.686,-629.1782 9248.9228,-525.0426"/>
<polygon fill="#000000" stroke="#000000" points="9252.4131,-525.3404 9250.202,-514.9788 9245.4689,-524.4576 9252.4131,-525.3404"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="9839,-547.5015 9326,-547.5015 9326,-446.2997 9839,-446.2997 9839,-547.5015"/>
<text text-anchor="middle" x="9582.5" y="-532.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Prose Parsing</text>
<text text-anchor="middle" x="9582.5" y="-501.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">We next parse these prose regions, looking for structural elements and </text>
<text text-anchor="middle" x="9582.5" y="-485.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">handling them accordingly. </text>
<text text-anchor="middle" x="9582.5" y="-454.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_38&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>section_38&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9188.6508,-1076.9073C9241.5195,-999.0495 9452.867,-687.8061 9542.2536,-556.1699"/>
<polygon fill="#000000" stroke="#000000" points="9545.2398,-558.0025 9547.962,-547.7633 9539.4488,-554.0701 9545.2398,-558.0025"/>
</g>
<!-- header_76 -->
<g id="node77" class="node">
<title>header_76</title>
<ellipse fill="none" stroke="#000000" cx="9931.5" cy="-496.9006" rx="74.4793" ry="18"/>
<text text-anchor="middle" x="9931.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Mark Parsing</text>
</g>
<!-- section_39&#45;&gt;header_76 -->
<g id="edge76" class="edge">
<title>section_39&#45;&gt;header_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9931.5,-1076.5809C9931.5,-991.0493 9931.5,-629.1782 9931.5,-525.0426"/>
<polygon fill="#000000" stroke="#000000" points="9935.0001,-524.9788 9931.5,-514.9788 9928.0001,-524.9789 9935.0001,-524.9788"/>
</g>
<!-- block_77 -->
<g id="node78" class="node">
<title>block_77</title>
<ellipse fill="none" stroke="#000000" cx="10084.5" cy="-496.9006" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="10084.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 97&#45;101</text>
</g>
<!-- section_39&#45;&gt;block_77 -->
<g id="edge77" class="edge">
<title>section_39&#45;&gt;block_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9933.3044,-1076.6956C9939.6215,-1016.5477 9963.0337,-818.3278 10011.5,-661.6007 10026.9918,-611.5043 10053.5022,-556.3844 10069.9544,-524.3074"/>
<polygon fill="#000000" stroke="#000000" points="10073.2201,-525.6123 10074.7139,-515.1233 10067.0051,-522.3914 10073.2201,-525.6123"/>
</g>
<!-- leaf_79 -->
<g id="node80" class="node">
<title>leaf_79</title>
<polygon fill="none" stroke="#c0c0c0" points="10676,-547.5015 10163,-547.5015 10163,-446.2997 10676,-446.2997 10676,-547.5015"/>
<text text-anchor="middle" x="10419.5" y="-532.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Mark Parsing</text>
<text text-anchor="middle" x="10419.5" y="-501.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">As a final step, we parse within marks. Marks are either tags or names,</text>
<text text-anchor="middle" x="10419.5" y="-485.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">and both have a complex, TBD internal structure. </text>
<text text-anchor="middle" x="10419.5" y="-454.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_39&#45;&gt;leaf_79 -->
<g id="edge79" class="edge">
<title>section_39&#45;&gt;leaf_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9928.6624,-1076.5871C9919.5245,-1010.7934 9897.7009,-782.9275 10011.5,-661.6007 10056.3361,-613.7988 10092.9206,-648.0348 10154.5,-625.6007 10210.1454,-605.3285 10269.6686,-577.0644 10318.177,-552.1857"/>
<polygon fill="#000000" stroke="#000000" points="10319.8195,-555.2766 10327.103,-547.5823 10316.611,-549.0553 10319.8195,-555.2766"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="4926,-246.5007 4189,-246.5007 4189,-191.8998 4926,-191.8998 4926,-246.5007"/>
<text text-anchor="middle" x="4557.5" y="-215.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">Our top&#45;level of structure is determined by [[file:grimoire.org::*Header%20Lines][header lines]], which</text>
<text text-anchor="middle" x="4557.5" y="-200.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">cooperate to form the structure of a Grimoire document.</text>
</g>
<!-- block_42&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>block_42&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5733.2361,-478.5132C5726.9879,-449.4019 5710.3377,-393.4221 5671.5,-368.2004 5602.7405,-323.5471 5015.3045,-346.072 4934.5,-332.2004 4830.363,-314.3234 4714.4761,-276.8128 4639.0311,-249.9106"/>
<polygon fill="#000000" stroke="#000000" points="4640.1713,-246.6013 4629.5768,-246.5194 4637.8078,-253.1903 4640.1713,-246.6013"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="5401,-246.4007 4944,-246.4007 4944,-191.9998 5401,-191.9998 5401,-246.4007"/>
<text text-anchor="middle" x="5172.5" y="-231.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">While we&#39;re doing this, we&#39;ll chunk everything else into arrays</text>
<text text-anchor="middle" x="5172.5" y="-215.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">of lines, this will split into structure lines, blank lines,</text>
<text text-anchor="middle" x="5172.5" y="-200.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">and TBD. </text>
</g>
<!-- block_43&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>block_43&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5863.1096,-478.7035C5856.6838,-449.8594 5839.7895,-394.2469 5801.5,-368.2004 5729.1708,-318.9984 5493.8493,-355.3855 5409.5,-332.2004 5343.2263,-313.9838 5272.8038,-278.0249 5226.1109,-251.5434"/>
<polygon fill="#000000" stroke="#000000" points="5227.8035,-248.4795 5217.3861,-246.5487 5224.3257,-254.5545 5227.8035,-248.4795"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="5876,-237.2002 5419,-237.2002 5419,-201.2002 5876,-201.2002 5876,-237.2002"/>
<text text-anchor="middle" x="5647.5" y="-215.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">I believe we can get everything into blocks on this first pass.</text>
</g>
<!-- block_44&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>block_44&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5991.2171,-478.5468C5982.6189,-451.4534 5963.2881,-400.4848 5931.5,-368.2004 5896.3566,-332.5083 5770.3288,-273.387 5698.5265,-241.3998"/>
<polygon fill="#000000" stroke="#000000" points="5699.7564,-238.1165 5689.1962,-237.26 5696.9174,-244.5149 5699.7564,-238.1165"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="6358.5,-246.4007 5894.5,-246.4007 5894.5,-191.9998 6358.5,-191.9998 6358.5,-246.4007"/>
<text text-anchor="middle" x="6126.5" y="-231.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">At this point, the data structure is still flat, but chunky, and</text>
<text text-anchor="middle" x="6126.5" y="-215.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">we have a separate vector of the header lines and their index</text>
<text text-anchor="middle" x="6126.5" y="-200.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">into the chunks. </text>
</g>
<!-- block_45&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>block_45&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6126.5,-478.6799C6126.5,-433.8304 6126.5,-317.3528 6126.5,-256.8786"/>
<polygon fill="#000000" stroke="#000000" points="6130.0001,-256.619 6126.5,-246.6191 6123.0001,-256.6191 6130.0001,-256.619"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="6896.5,-254.4006 6376.5,-254.4006 6376.5,-183.9999 6896.5,-183.9999 6896.5,-254.4006"/>
<text text-anchor="middle" x="6636.5" y="-223.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">We next determine basic ownership. This we do by counting all the stars </text>
<text text-anchor="middle" x="6636.5" y="-207.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">in the header lines and building a tree accordingly. This is a </text>
<text text-anchor="middle" x="6636.5" y="-192.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">recursive map of vectors containing chunks. </text>
</g>
<!-- block_52&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>block_52&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7153.8391,-478.6736C7147.1348,-450.3023 7130.0729,-395.9608 7093.5,-368.2004 7025.7363,-316.7649 6986.937,-356.8081 6905.5,-332.2004 6840.7739,-312.6422 6770.4103,-282.7572 6717.8864,-258.6323"/>
<polygon fill="#000000" stroke="#000000" points="6719.1695,-255.3696 6708.6236,-254.3526 6716.2335,-261.7242 6719.1695,-255.3696"/>
</g>
<!-- header_55 -->
<g id="node56" class="node">
<title>header_55</title>
<ellipse fill="none" stroke="#000000" cx="6977.5" cy="-219.2002" rx="63.3876" ry="18"/>
<text text-anchor="middle" x="6977.5" y="-215.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Cling Rule</text>
</g>
<!-- section_53&#45;&gt;header_55 -->
<g id="edge55" class="edge">
<title>section_53&#45;&gt;header_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7291.3449,-478.6894C7282.3294,-450.3399 7260.9016,-396.0277 7222.5,-368.2004 7158.9055,-322.1174 7114.1259,-376.8254 7049.5,-332.2004 7019.1175,-311.2209 6998.7322,-272.8177 6987.6268,-246.6614"/>
<polygon fill="#000000" stroke="#000000" points="6990.8296,-245.2458 6983.8234,-237.2982 6984.3442,-247.8802 6990.8296,-245.2458"/>
</g>
<!-- block_56 -->
<g id="node57" class="node">
<title>block_56</title>
<ellipse fill="none" stroke="#000000" cx="7114.5" cy="-219.2002" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="7114.5" y="-215.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 68&#45;73</text>
</g>
<!-- section_53&#45;&gt;block_56 -->
<g id="edge56" class="edge">
<title>section_53&#45;&gt;block_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7288.6881,-479.0059C7276.7836,-452.9351 7252.309,-403.7495 7222.5,-368.2004 7206.4852,-349.1017 7195.5165,-351.2977 7179.5,-332.2004 7157.2588,-305.6812 7138.3943,-270.5204 7126.8093,-246.5064"/>
<polygon fill="#000000" stroke="#000000" points="7129.8811,-244.8147 7122.4456,-237.2672 7123.5516,-247.8042 7129.8811,-244.8147"/>
</g>
<!-- block_57 -->
<g id="node58" class="node">
<title>block_57</title>
<ellipse fill="none" stroke="#000000" cx="7244.5" cy="-219.2002" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="7244.5" y="-215.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 74&#45;76</text>
</g>
<!-- section_53&#45;&gt;block_57 -->
<g id="edge57" class="edge">
<title>section_53&#45;&gt;block_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7293.0881,-478.6799C7284.2365,-431.4088 7260.4849,-304.566 7249.8166,-247.593"/>
<polygon fill="#000000" stroke="#000000" points="7253.2052,-246.673 7247.9244,-237.488 7246.3248,-247.9614 7253.2052,-246.673"/>
</g>
<!-- block_58 -->
<g id="node59" class="node">
<title>block_58</title>
<ellipse fill="none" stroke="#000000" cx="7374.5" cy="-219.2002" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="7374.5" y="-215.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 77&#45;80</text>
</g>
<!-- section_53&#45;&gt;block_58 -->
<g id="edge58" class="edge">
<title>section_53&#45;&gt;block_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7301.6178,-478.6799C7314.9547,-431.197 7350.8424,-303.4274 7366.7391,-246.8311"/>
<polygon fill="#000000" stroke="#000000" points="7370.1302,-247.7009 7369.4648,-237.127 7363.3909,-245.808 7370.1302,-247.7009"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="8262.5,-332.2006 7448.5,-332.2006 7448.5,-106.1999 8262.5,-106.1999 8262.5,-332.2006"/>
<text text-anchor="middle" x="7855.5" y="-317.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">**** Cling Rule</text>
<text text-anchor="middle" x="7855.5" y="-285.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">Various kinds of block have [[file:grimoire.org::*The%20Cling%20Rule][cling rules]] associated with them. How this</text>
<text text-anchor="middle" x="7855.5" y="-270.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">works is still somewhat opaque, no substitute for code in actually</text>
<text text-anchor="middle" x="7855.5" y="-254.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">working it out. </text>
<text text-anchor="middle" x="7855.5" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">We apply these rules, attaching tags to associated lists, tables and</text>
<text text-anchor="middle" x="7855.5" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">code blocks, for example. </text>
<text text-anchor="middle" x="7855.5" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">I think the secret sauce of the cling rule is that it never matters if </text>
<text text-anchor="middle" x="7855.5" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">marks cling up or cling down, tags and names can come before, after, or</text>
<text text-anchor="middle" x="7855.5" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">around the blocks they cling to. </text>
<text text-anchor="middle" x="7855.5" y="-114.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_53&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>section_53&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7302.2751,-478.6508C7312.0344,-450.746 7334.4318,-397.6223 7371.5,-368.2004 7386.3357,-356.425 7409.888,-344.3926 7438.8026,-332.5232"/>
<polygon fill="#000000" stroke="#000000" points="7440.4014,-335.6528 7448.3746,-328.6758 7437.7907,-329.1578 7440.4014,-335.6528"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="6980.5,-70.3004 6166.5,-70.3004 6166.5,.1003 6980.5,.1003 6980.5,-70.3004"/>
<text text-anchor="middle" x="6573.5" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">Various kinds of block have [[file:grimoire.org::*The%20Cling%20Rule][cling rules]] associated with them. How this</text>
<text text-anchor="middle" x="6573.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">works is still somewhat opaque, no substitute for code in actually</text>
<text text-anchor="middle" x="6573.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">working it out. </text>
</g>
<!-- block_56&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>block_56&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7109.4798,-200.8759C7101.4127,-175.1776 7082.9691,-129.0256 7049.5,-106.2001 7029.3645,-92.4679 6993.6872,-81.3022 6950.5972,-72.2462"/>
<polygon fill="#000000" stroke="#000000" points="6951.1944,-68.796 6940.6967,-70.2275 6949.7958,-75.6549 6951.1944,-68.796"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="7490.5,-54.4006 6998.5,-54.4006 6998.5,-15.7995 7490.5,-15.7995 7490.5,-54.4006"/>
<text text-anchor="middle" x="7244.5" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">We apply these rules, attaching tags to associated lists, tables and</text>
<text text-anchor="middle" x="7244.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">code blocks, for example. </text>
</g>
<!-- block_57&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>block_57&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7244.5,-200.875C7244.5,-168.9518 7244.5,-102.8883 7244.5,-64.4971"/>
<polygon fill="#000000" stroke="#000000" points="7248.0001,-64.454 7244.5,-54.454 7241.0001,-64.4541 7248.0001,-64.454"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="8022,-62.3005 7509,-62.3005 7509,-7.8996 8022,-7.8996 8022,-62.3005"/>
<text text-anchor="middle" x="7765.5" y="-47.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">I think the secret sauce of the cling rule is that it never matters if </text>
<text text-anchor="middle" x="7765.5" y="-31.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">marks cling up or cling down, tags and names can come before, after, or</text>
<text text-anchor="middle" x="7765.5" y="-16.2" font-family="Inconsolata" font-size="14.00" fill="#000000">around the blocks they cling to. </text>
</g>
<!-- block_58&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>block_58&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7379.7311,-201.1743C7388.0546,-175.839 7406.8078,-130.125 7439.5,-106.2001 7462.1008,-89.6603 7514.1376,-75.4715 7570.1495,-64.2174"/>
<polygon fill="#000000" stroke="#000000" points="7571.1414,-67.5893 7580.2761,-62.2221 7569.7881,-60.7214 7571.1414,-67.5893"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="8674.5,-239.1023 8280.5,-239.1023 8280.5,-199.2982 8674.5,-199.2982 8674.5,-239.1023"/>
<text text-anchor="middle" x="8477.5" y="-207.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">Next we go into certain kinds of block and parse them.</text>
</g>
<!-- block_65&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>block_65&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8149.8842,-478.6454C8158.6118,-451.6778 8178.1056,-400.8678 8209.5,-368.2004 8213.8478,-363.6763 8357.2234,-284.9609 8432.4361,-243.8161"/>
<polygon fill="#000000" stroke="#000000" points="8434.1623,-246.8614 8441.2565,-238.9922 8430.8035,-240.7198 8434.1623,-246.8614"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="9220,-253.8015 8693,-253.8015 8693,-184.599 9220,-184.599 9220,-253.8015"/>
<text text-anchor="middle" x="8956.5" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">This resolves the inner structure of &#39;structure&#39; lines, which includes</text>
<text text-anchor="middle" x="8956.5" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">all lists, tables, and similar. Some of these will not have been detected</text>
<text text-anchor="middle" x="8956.5" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">yet, when this stage is done, what&#39;s left is prose, and unparsed code,</text>
<text text-anchor="middle" x="8956.5" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">and we know which is which. </text>
</g>
<!-- block_66&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>block_66&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8277.9287,-478.7595C8284.4083,-449.9939 8301.3766,-394.4893 8339.5,-368.2004 8402.7761,-324.5668 8608.9965,-351.0942 8683.5,-332.2004 8751.8886,-314.8573 8825.596,-283.5309 8879.1653,-258.2534"/>
<polygon fill="#000000" stroke="#000000" points="8880.7274,-261.3863 8888.2553,-253.931 8877.7213,-255.0646 8880.7274,-261.3863"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="9569,-237.2002 9238,-237.2002 9238,-201.2002 9569,-201.2002 9569,-237.2002"/>
<text text-anchor="middle" x="9403.5" y="-215.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">We haven&#39;t found all code, just code blocks. </text>
</g>
<!-- block_67&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>block_67&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8407.6174,-478.5162C8413.6344,-449.4093 8429.8426,-393.4353 8468.5,-368.2004 8539.2911,-321.9891 9147.9995,-358.0176 9228.5,-332.2004 9286.1212,-313.7208 9343.1782,-271.1254 9375.7935,-243.8324"/>
<polygon fill="#000000" stroke="#000000" points="9378.1896,-246.3893 9383.5443,-237.2472 9373.6573,-241.0547 9378.1896,-246.3893"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="10100,-246.5007 9587,-246.5007 9587,-191.8998 10100,-191.8998 10100,-246.5007"/>
<text text-anchor="middle" x="9843.5" y="-215.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">We next parse these prose regions, looking for structural elements and </text>
<text text-anchor="middle" x="9843.5" y="-200.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">handling them accordingly. </text>
</g>
<!-- block_73&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>block_73&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9255.8875,-478.9105C9262.2838,-450.3569 9279.0133,-395.1438 9316.5,-368.2004 9411.5858,-299.8579 9464.6251,-363.3652 9577.5,-332.2004 9649.8168,-312.2337 9728.4005,-277.0421 9781.2602,-251.2219"/>
<polygon fill="#000000" stroke="#000000" points="9783.0687,-254.2329 9790.4964,-246.6777 9779.9785,-247.9519 9783.0687,-254.2329"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="10631,-246.5007 10118,-246.5007 10118,-191.8998 10631,-191.8998 10631,-246.5007"/>
<text text-anchor="middle" x="10374.5" y="-215.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">As a final step, we parse within marks. Marks are either tags or names,</text>
<text text-anchor="middle" x="10374.5" y="-200.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">and both have a complex, TBD internal structure. </text>
</g>
<!-- block_77&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>block_77&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10091.0431,-478.5586C10101.2204,-451.9305 10122.9029,-402.0576 10153.5,-368.2004 10198.0954,-318.8534 10262.2828,-277.948 10310.0029,-251.5614"/>
<polygon fill="#000000" stroke="#000000" points="10311.9141,-254.5057 10319.0146,-246.6422 10308.5602,-248.3615 10311.9141,-254.5057"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="11067,-516.8027 10694,-516.8027 10694,-476.9985 11067,-476.9985 11067,-516.8027"/>
<text text-anchor="middle" x="10880.5" y="-485.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">Code is not parsed by this parser, not explicitly. </text>
</g>
<!-- block_82&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>block_82&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11404.9222,-1076.6638C11416.319,-1010.1599 11445.8501,-777.5418 11326.5,-661.6007 11245.665,-583.0747 11180.8567,-665.6082 11075.5,-625.6007 11011.5129,-601.3027 10947.1587,-553.1212 10910.7211,-523.0976"/>
<polygon fill="#000000" stroke="#000000" points="10912.8672,-520.33 10902.945,-516.6152 10908.385,-525.7068 10912.8672,-520.33"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="11612,-531.5018 11085,-531.5018 11085,-462.2993 11612,-462.2993 11612,-531.5018"/>
<text text-anchor="middle" x="11348.5" y="-516.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">Eventually, the document will have to be executed within an appropriate </text>
<text text-anchor="middle" x="11348.5" y="-501.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">sandbox before it can be either tangled or woven. We&#39;ll skip that little</text>
<text text-anchor="middle" x="11348.5" y="-485.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">refinement, Lua is the runtime for that stage so it&#39;s comfortable to add </text>
<text text-anchor="middle" x="11348.5" y="-470.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">it later. </text>
</g>
<!-- block_83&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>block_83&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11550.5023,-1076.5775C11549.8767,-1015.2389 11542.6284,-811.7216 11476.5,-661.6007 11456.1111,-615.3149 11419.8713,-570.5116 11391.1444,-539.3496"/>
<polygon fill="#000000" stroke="#000000" points="11393.4039,-536.6415 11384.0171,-531.7284 11388.2912,-541.4229 11393.4039,-536.6415"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="12171,-531.5018 11630,-531.5018 11630,-462.2993 12171,-462.2993 12171,-531.5018"/>
<text text-anchor="middle" x="11900.5" y="-516.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">What we do next depends on whether we&#39;re weaving or tangling. Weaving</text>
<text text-anchor="middle" x="11900.5" y="-501.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">is less interesting to me, at least for now; I&#39;m hoping that if we get a </text>
<text text-anchor="middle" x="11900.5" y="-485.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">bit of traction some wonk at Pandoc will add our biological distinctiveness</text>
<text text-anchor="middle" x="11900.5" y="-470.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">to that collective and we&#39;ll get a big boost in the right direction. </text>
</g>
<!-- block_84&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>block_84&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11697.4005,-1076.5596C11697.7098,-1015.1646 11704.0007,-811.4894 11770.5,-661.6007 11791.1324,-615.0956 11827.9453,-570.3123 11857.1427,-539.2138"/>
<polygon fill="#000000" stroke="#000000" points="11860.0236,-541.264 11864.3872,-531.6095 11854.9554,-536.4356 11860.0236,-541.264"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="12737.5,-516.2012 12189.5,-516.2012 12189.5,-477.6 12737.5,-477.6 12737.5,-516.2012"/>
<text text-anchor="middle" x="12463.5" y="-501.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">Weaving is one of those things we can just iterate on endlesssly, and indeed</text>
<text text-anchor="middle" x="12463.5" y="-485.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">have to, document formats being what they are. </text>
</g>
<!-- block_85&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>block_85&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11839.9573,-1076.6503C11828.1253,-1010.0993 11797.1294,-777.3377 11916.5,-661.6007 11958.8514,-620.5385 12122.8203,-641.946 12179.5,-625.6007 12268.7401,-599.8658 12365.9289,-550.8165 12420.3265,-521.2637"/>
<polygon fill="#000000" stroke="#000000" points="12422.2352,-524.2092 12429.328,-516.3388 12418.8752,-518.0682 12422.2352,-524.2092"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="13303.5,-540.1009 12755.5,-540.1009 12755.5,-453.7003 13303.5,-453.7003 13303.5,-540.1009"/>
<text text-anchor="middle" x="13029.5" y="-524.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">For simple tangling, we&#39;re interested in marks, edn blocks, and code blocks,</text>
<text text-anchor="middle" x="13029.5" y="-509.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">for now. Lists are the next data structure I&#39;m interested in, with tables in</text>
<text text-anchor="middle" x="13029.5" y="-494.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">last place. I&#39;m just not a grid kind of thinker. </text>
</g>
<!-- block_86&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>block_86&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11986.7812,-1076.7722C11974.1048,-1009.6501 11939.9575,-772.4234 12064.5,-661.6007 12121.1891,-611.1566 12672.7876,-643.6219 12746.5,-625.6007 12816.9002,-608.3894 12891.3057,-573.8262 12946.1469,-544.8486"/>
<polygon fill="#000000" stroke="#000000" points="12947.9422,-547.8579 12955.12,-540.065 12944.6491,-541.6808 12947.9422,-547.8579"/>
</g>
<!-- leaf_99 -->
<g id="node100" class="node">
<title>leaf_99</title>
<polygon fill="none" stroke="#c0c0c0" points="13597,-516.8027 13322,-516.8027 13322,-476.9985 13597,-476.9985 13597,-516.8027"/>
<text text-anchor="middle" x="13459.5" y="-485.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">Each of these needs its own document.</text>
</g>
<!-- block_94&#45;&gt;leaf_99 -->
<g id="edge99" class="edge">
<title>block_94&#45;&gt;leaf_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13863.8312,-1076.4282C13874.7091,-1010.0893 13902.1762,-780.5868 13786.5,-661.6007 13729.6305,-603.1041 13679.6668,-661.6925 13606.5,-625.6007 13556.2354,-600.8062 13509.6166,-554.4021 13482.8776,-524.6135"/>
<polygon fill="#000000" stroke="#000000" points="13485.4414,-522.2292 13476.1971,-517.053 13480.1958,-526.8642 13485.4414,-522.2292"/>
</g>
<!-- header_100 -->
<g id="node101" class="node">
<title>header_100</title>
<ellipse fill="none" stroke="#000000" cx="13671.5" cy="-496.9006" rx="56.113" ry="18"/>
<text text-anchor="middle" x="13671.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Filtration</text>
</g>
<!-- section_95&#45;&gt;header_100 -->
<g id="edge100" class="edge">
<title>section_95&#45;&gt;header_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14022.3519,-1076.7568C14031.6916,-1010.5778 14054.3319,-778.9495 13935.5,-661.6007 13871.5474,-598.4463 13808.5364,-679.3519 13736.5,-625.6007 13703.4788,-600.9614 13686.0496,-554.8038 13677.8131,-524.9833"/>
<polygon fill="#000000" stroke="#000000" points="13681.1691,-523.9812 13675.2727,-515.1788 13674.3929,-525.7371 13681.1691,-523.9812"/>
</g>
<!-- block_101 -->
<g id="node102" class="node">
<title>block_101</title>
<ellipse fill="none" stroke="#000000" cx="13811.5" cy="-496.9006" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="13811.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 129&#45;132</text>
</g>
<!-- section_95&#45;&gt;block_101 -->
<g id="edge101" class="edge">
<title>section_95&#45;&gt;block_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14020.5201,-1076.5871C14023.1689,-1013.5618 14024.6779,-800.991 13935.5,-661.6007 13920.7428,-638.5345 13903.8484,-645.9272 13885.5,-625.6007 13857.8137,-594.9297 13835.7836,-552.2022 13823.1829,-524.5461"/>
<polygon fill="#000000" stroke="#000000" points="13826.2378,-522.8021 13818.9741,-515.0891 13819.8425,-525.6483 13826.2378,-522.8021"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="14562,-540.1009 13895,-540.1009 13895,-453.7003 14562,-453.7003 14562,-540.1009"/>
<text text-anchor="middle" x="14228.5" y="-524.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Filtration</text>
<text text-anchor="middle" x="14228.5" y="-493.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">We normalize certain aspects, including a rigorous and unflinching programme of tab removal. </text>
<text text-anchor="middle" x="14228.5" y="-462.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_95&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>section_95&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14025.8691,-1076.5809C14053.739,-996.8515 14165.5441,-677.0029 14210.0692,-549.6268"/>
<polygon fill="#000000" stroke="#000000" points="14213.4136,-550.6659 14213.4095,-540.0711 14206.8057,-548.356 14213.4136,-550.6659"/>
</g>
<!-- header_104 -->
<g id="node105" class="node">
<title>header_104</title>
<ellipse fill="none" stroke="#000000" cx="14635.5" cy="-496.9006" rx="55.3675" ry="18"/>
<text text-anchor="middle" x="14635.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Tangling</text>
</g>
<!-- section_96&#45;&gt;header_104 -->
<g id="edge104" class="edge">
<title>section_96&#45;&gt;header_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14702.3973,-1076.5809C14692.5266,-991.0493 14650.7653,-629.1782 14638.7477,-525.0426"/>
<polygon fill="#000000" stroke="#000000" points="14642.2097,-524.5116 14637.5863,-514.9788 14635.2559,-525.3142 14642.2097,-524.5116"/>
</g>
<!-- block_105 -->
<g id="node106" class="node">
<title>block_105</title>
<ellipse fill="none" stroke="#000000" cx="14774.5" cy="-496.9006" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="14774.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 133&#45;136</text>
</g>
<!-- section_96&#45;&gt;block_105 -->
<g id="edge105" class="edge">
<title>section_96&#45;&gt;block_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14706.6332,-1076.5809C14716.6469,-991.0493 14759.0134,-629.1782 14771.2052,-525.0426"/>
<polygon fill="#000000" stroke="#000000" points="14774.6968,-525.318 14772.3835,-514.9788 14767.7443,-524.504 14774.6968,-525.318"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="15224.5,-540.1009 14858.5,-540.1009 14858.5,-453.7003 15224.5,-453.7003 15224.5,-540.1009"/>
<text text-anchor="middle" x="15041.5" y="-524.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Tangling</text>
<text text-anchor="middle" x="15041.5" y="-493.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">The tangler is the first thing I intend to write. </text>
<text text-anchor="middle" x="15041.5" y="-462.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_96&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>section_96&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14714.5857,-1076.9073C14759.2909,-997.5921 14940.5122,-676.0717 15012.1523,-548.9689"/>
<polygon fill="#000000" stroke="#000000" points="15015.2565,-550.5896 15017.1176,-540.1595 15009.1584,-547.1524 15015.2565,-550.5896"/>
</g>
<!-- header_108 -->
<g id="node109" class="node">
<title>header_108</title>
<ellipse fill="none" stroke="#000000" cx="15307.5" cy="-496.9006" rx="64.8411" ry="18"/>
<text text-anchor="middle" x="15307.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Unraveling</text>
</g>
<!-- section_97&#45;&gt;header_108 -->
<g id="edge108" class="edge">
<title>section_97&#45;&gt;header_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15595.6114,-1076.9073C15553.3019,-991.7326 15372.2469,-627.2448 15321.0401,-524.1587"/>
<polygon fill="#000000" stroke="#000000" points="15324.0824,-522.4157 15316.499,-515.0168 15317.8132,-525.5298 15324.0824,-522.4157"/>
</g>
<!-- block_109 -->
<g id="node110" class="node">
<title>block_109</title>
<ellipse fill="none" stroke="#000000" cx="15455.5" cy="-496.9006" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="15455.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 137&#45;140</text>
</g>
<!-- section_97&#45;&gt;block_109 -->
<g id="edge109" class="edge">
<title>section_97&#45;&gt;block_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15599.9594,-1076.5809C15578.6229,-990.9628 15488.2819,-628.4462 15462.4346,-524.7275"/>
<polygon fill="#000000" stroke="#000000" points="15465.8195,-523.8357 15460.0052,-514.9788 15459.0272,-525.5284 15465.8195,-523.8357"/>
</g>
<!-- block_110 -->
<g id="node111" class="node">
<title>block_110</title>
<ellipse fill="none" stroke="#000000" cx="15604.5" cy="-496.9006" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="15604.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 141&#45;142</text>
</g>
<!-- section_97&#45;&gt;block_110 -->
<g id="edge110" class="edge">
<title>section_97&#45;&gt;block_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15604.5,-1076.5809C15604.5,-991.0493 15604.5,-629.1782 15604.5,-525.0426"/>
<polygon fill="#000000" stroke="#000000" points="15608.0001,-524.9788 15604.5,-514.9788 15601.0001,-524.9789 15608.0001,-524.9788"/>
</g>
<!-- block_111 -->
<g id="node112" class="node">
<title>block_111</title>
<ellipse fill="none" stroke="#000000" cx="15753.5" cy="-496.9006" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="15753.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 143&#45;144</text>
</g>
<!-- section_97&#45;&gt;block_111 -->
<g id="edge111" class="edge">
<title>section_97&#45;&gt;block_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15609.0406,-1076.5809C15630.3771,-990.9628 15720.7181,-628.4462 15746.5654,-524.7275"/>
<polygon fill="#000000" stroke="#000000" points="15749.9728,-525.5284 15748.9948,-514.9788 15743.1805,-523.8357 15749.9728,-525.5284"/>
</g>
<!-- block_112 -->
<g id="node113" class="node">
<title>block_112</title>
<ellipse fill="none" stroke="#000000" cx="15902.5" cy="-496.9006" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="15902.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 145&#45;146</text>
</g>
<!-- section_97&#45;&gt;block_112 -->
<g id="edge112" class="edge">
<title>section_97&#45;&gt;block_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15613.4185,-1076.9073C15655.8705,-991.7326 15837.5351,-627.2448 15888.9143,-524.1587"/>
<polygon fill="#000000" stroke="#000000" points="15892.1424,-525.528 15893.4707,-515.0168 15885.8774,-522.4055 15892.1424,-525.528"/>
</g>
<!-- leaf_117 -->
<g id="node118" class="node">
<title>leaf_117</title>
<polygon fill="none" stroke="#c0c0c0" points="16576.5,-587.3012 15986.5,-587.3012 15986.5,-406.4999 16576.5,-406.4999 16576.5,-587.3012"/>
<text text-anchor="middle" x="16281.5" y="-571.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Unraveling</text>
<text text-anchor="middle" x="16281.5" y="-540.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m designing the tangler specifically so that I can unravel from source. </text>
<text text-anchor="middle" x="16281.5" y="-509.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">How does that work? I intend to work out those details quite soon. </text>
<text text-anchor="middle" x="16281.5" y="-477.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">Having a sense of how the structure is parsed internally is important here.</text>
<text text-anchor="middle" x="16281.5" y="-446.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">This subject has its [[file:unraveler.org::*grym%20unravel][own section]] already.</text>
<text text-anchor="middle" x="16281.5" y="-414.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_97&#45;&gt;leaf_117 -->
<g id="edge117" class="edge">
<title>section_97&#45;&gt;leaf_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15624.3947,-1077.2311C15704.3731,-1006.5972 16006.0748,-740.1457 16171.4314,-594.109"/>
<polygon fill="#000000" stroke="#000000" points="16174.0225,-596.4902 16179.201,-587.2472 16169.3887,-591.2434 16174.0225,-596.4902"/>
</g>
<!-- header_118 -->
<g id="node119" class="node">
<title>header_118</title>
<ellipse fill="none" stroke="#000000" cx="16695.5" cy="-496.9006" rx="56.795" ry="18"/>
<text text-anchor="middle" x="16695.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Weaving</text>
</g>
<!-- section_98&#45;&gt;header_118 -->
<g id="edge118" class="edge">
<title>section_98&#45;&gt;header_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16831.2336,-1076.5809C16811.1859,-990.9628 16726.3017,-628.4462 16702.0158,-524.7275"/>
<polygon fill="#000000" stroke="#000000" points="16705.4208,-523.9175 16699.7331,-514.9788 16698.6052,-525.5134 16705.4208,-523.9175"/>
</g>
<!-- block_119 -->
<g id="node120" class="node">
<title>block_119</title>
<ellipse fill="none" stroke="#000000" cx="16835.5" cy="-496.9006" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="16835.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 147&#45;150</text>
</g>
<!-- section_98&#45;&gt;block_119 -->
<g id="edge119" class="edge">
<title>section_98&#45;&gt;block_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16835.5,-1076.5809C16835.5,-991.0493 16835.5,-629.1782 16835.5,-525.0426"/>
<polygon fill="#000000" stroke="#000000" points="16839.0001,-524.9788 16835.5,-514.9788 16832.0001,-524.9789 16839.0001,-524.9788"/>
</g>
<!-- block_120 -->
<g id="node121" class="node">
<title>block_120</title>
<ellipse fill="none" stroke="#000000" cx="16984.5" cy="-496.9006" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="16984.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 151&#45;153</text>
</g>
<!-- section_98&#45;&gt;block_120 -->
<g id="edge120" class="edge">
<title>section_98&#45;&gt;block_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16837.868,-1076.7877C16845.9827,-1016.9267 16874.7217,-819.4967 16920.5,-661.6007 16934.899,-611.9365 16958.0834,-556.2686 16972.241,-524.0353"/>
<polygon fill="#000000" stroke="#000000" points="16975.4745,-525.3775 16976.3253,-514.8168 16969.0745,-522.5419 16975.4745,-525.3775"/>
</g>
<!-- block_121 -->
<g id="node122" class="node">
<title>block_121</title>
<ellipse fill="none" stroke="#000000" cx="17133.5" cy="-496.9006" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="17133.5" y="-492.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 154&#45;155</text>
</g>
<!-- section_98&#45;&gt;block_121 -->
<g id="edge121" class="edge">
<title>section_98&#45;&gt;block_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16832.9334,-1076.5877C16824.7634,-1010.7964 16806.1959,-782.9375 16920.5,-661.6007 16964.2586,-615.1499 17008.7435,-664.2824 17059.5,-625.6007 17093.2408,-599.8868 17114.1846,-554.0364 17124.8393,-524.5723"/>
<polygon fill="#000000" stroke="#000000" points="17128.2257,-525.4885 17128.183,-514.8938 17121.6094,-523.2027 17128.2257,-525.4885"/>
</g>
<!-- leaf_125 -->
<g id="node126" class="node">
<title>leaf_125</title>
<polygon fill="none" stroke="#c0c0c0" points="17758,-563.4007 17217,-563.4007 17217,-430.4004 17758,-430.4004 17758,-563.4007"/>
<text text-anchor="middle" x="17487.5" y="-548.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Weaving</text>
<text text-anchor="middle" x="17487.5" y="-516.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">Naturally, we need to weave. </text>
<text text-anchor="middle" x="17487.5" y="-485.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">I don&#39;t know if this ever needs to be more customized than adding Grimoire </text>
<text text-anchor="middle" x="17487.5" y="-470.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">format to a few canonical documentation engines. </text>
<text text-anchor="middle" x="17487.5" y="-438.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">If we want to do fancy stuff with React and that, it does. </text>
</g>
<!-- section_98&#45;&gt;leaf_125 -->
<g id="edge125" class="edge">
<title>section_98&#45;&gt;leaf_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16832.4869,-1076.5338C16822.5919,-1009.576 16798.3286,-775.5749 16920.5,-661.6007 16967.6618,-617.6034 17146.4832,-643.3185 17208.5,-625.6007 17258.0442,-611.4464 17309.9222,-589.65 17355.3191,-567.9939"/>
<polygon fill="#000000" stroke="#000000" points="17357.1147,-571.014 17364.6066,-563.5225 17354.0781,-564.7069 17357.1147,-571.014"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="14100,-239.1023 13433,-239.1023 13433,-199.2982 14100,-199.2982 14100,-239.1023"/>
<text text-anchor="middle" x="13766.5" y="-207.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">We normalize certain aspects, including a rigorous and unflinching programme of tab removal. </text>
</g>
<!-- block_101&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>block_101&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13808.5474,-478.6799C13800.9451,-431.7649 13780.6421,-306.4726 13771.3115,-248.8924"/>
<polygon fill="#000000" stroke="#000000" points="13774.7571,-248.2744 13769.7025,-238.963 13767.8472,-249.3942 13774.7571,-248.2744"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="14484.5,-239.1023 14118.5,-239.1023 14118.5,-199.2982 14484.5,-199.2982 14484.5,-239.1023"/>
<text text-anchor="middle" x="14301.5" y="-207.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">The tangler is the first thing I intend to write. </text>
</g>
<!-- block_105&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>block_105&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M14769.307,-478.5369C14760.2132,-449.9784 14738.5544,-395.385 14699.5,-368.2004 14623.2175,-315.1024 14580.7289,-364.2869 14493.5,-332.2004 14434.6898,-310.5675 14373.4188,-271.0581 14336.3557,-244.9629"/>
<polygon fill="#000000" stroke="#000000" points="14338.0993,-241.9079 14327.9223,-238.9616 14334.0407,-247.6113 14338.0993,-241.9079"/>
</g>
<!-- leaf_113 -->
<g id="node114" class="node">
<title>leaf_113</title>
<polygon fill="none" stroke="#c0c0c0" points="15036.5,-239.1023 14502.5,-239.1023 14502.5,-199.2982 15036.5,-199.2982 15036.5,-239.1023"/>
<text text-anchor="middle" x="14769.5" y="-207.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m designing the tangler specifically so that I can unravel from source. </text>
</g>
<!-- block_109&#45;&gt;leaf_113 -->
<g id="edge113" class="edge">
<title>block_109&#45;&gt;leaf_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15450.7977,-478.7032C15442.2994,-449.8587 15421.4399,-394.2456 15381.5,-368.2004 15318.5986,-327.1818 15118.3026,-350.6093 15045.5,-332.2004 14962.2215,-311.1426 14870.9677,-269.9207 14817.0506,-243.5133"/>
<polygon fill="#000000" stroke="#000000" points="14818.5932,-240.3717 14808.0767,-239.0858 14815.4959,-246.6492 14818.5932,-240.3717"/>
</g>
<!-- leaf_114 -->
<g id="node115" class="node">
<title>leaf_114</title>
<polygon fill="none" stroke="#c0c0c0" points="15540,-237.2002 15055,-237.2002 15055,-201.2002 15540,-201.2002 15540,-237.2002"/>
<text text-anchor="middle" x="15297.5" y="-215.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">How does that work? I intend to work out those details quite soon. </text>
</g>
<!-- block_110&#45;&gt;leaf_114 -->
<g id="edge114" class="edge">
<title>block_110&#45;&gt;leaf_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15597.4586,-478.9255C15586.3597,-452.3152 15562.7007,-401.9556 15530.5,-368.2004 15476.679,-311.7811 15397.3822,-266.9836 15346.5879,-241.7663"/>
<polygon fill="#000000" stroke="#000000" points="15347.9677,-238.5448 15337.4478,-237.2871 15344.8873,-244.8306 15347.9677,-238.5448"/>
</g>
<!-- leaf_115 -->
<g id="node116" class="node">
<title>leaf_115</title>
<polygon fill="none" stroke="#c0c0c0" points="16099,-237.2002 15558,-237.2002 15558,-201.2002 16099,-201.2002 16099,-237.2002"/>
<text text-anchor="middle" x="15828.5" y="-215.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">Having a sense of how the structure is parsed internally is important here.</text>
</g>
<!-- block_111&#45;&gt;leaf_115 -->
<g id="edge115" class="edge">
<title>block_111&#45;&gt;leaf_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15758.421,-478.6799C15771.2142,-431.3106 15805.5873,-304.0383 15820.9276,-247.2385"/>
<polygon fill="#000000" stroke="#000000" points="15824.3325,-248.0547 15823.5609,-237.488 15817.5746,-246.2296 15824.3325,-248.0547"/>
</g>
<!-- leaf_116 -->
<g id="node117" class="node">
<title>leaf_116</title>
<polygon fill="none" stroke="#c0c0c0" points="16707.5,-237.2002 16117.5,-237.2002 16117.5,-201.2002 16707.5,-201.2002 16707.5,-237.2002"/>
<text text-anchor="middle" x="16412.5" y="-215.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">This subject has its [[file:unraveler.org::*grym%20unravel][own section]] already.</text>
</g>
<!-- block_112&#45;&gt;leaf_116 -->
<g id="edge116" class="edge">
<title>block_112&#45;&gt;leaf_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M15908.1738,-478.5213C15917.7975,-450.4432 15940.0164,-397.0912 15977.5,-368.2004 16024.9845,-331.6013 16050.4511,-350.6311 16107.5,-332.2004 16196.2495,-303.5283 16297.4369,-264.8171 16358.0714,-240.9554"/>
<polygon fill="#000000" stroke="#000000" points="16359.4286,-244.1826 16367.4465,-237.257 16356.8598,-237.6709 16359.4286,-244.1826"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="16945,-239.1023 16726,-239.1023 16726,-199.2982 16945,-199.2982 16945,-239.1023"/>
<text text-anchor="middle" x="16835.5" y="-207.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">Naturally, we need to weave. </text>
</g>
<!-- block_119&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>block_119&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16835.5,-478.6799C16835.5,-431.8623 16835.5,-306.9921 16835.5,-249.2516"/>
<polygon fill="#000000" stroke="#000000" points="16839.0001,-248.963 16835.5,-238.963 16832.0001,-248.9631 16839.0001,-248.963"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="17504,-238.5008 16963,-238.5008 16963,-199.8997 17504,-199.8997 17504,-238.5008"/>
<text text-anchor="middle" x="17233.5" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">I don&#39;t know if this ever needs to be more customized than adding Grimoire </text>
<text text-anchor="middle" x="17233.5" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">format to a few canonical documentation engines. </text>
</g>
<!-- block_120&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>block_120&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M16992.5513,-478.6026C17004.577,-452.4629 17029.0036,-403.6748 17058.5,-368.2004 17099.8875,-318.425 17159.098,-271.8989 17196.9213,-244.4933"/>
<polygon fill="#000000" stroke="#000000" points="17199.0353,-247.2843 17205.1191,-238.6102 17194.954,-241.5972 17199.0353,-247.2843"/>
</g>
<!-- leaf_124 -->
<g id="node125" class="node">
<title>leaf_124</title>
<polygon fill="none" stroke="#c0c0c0" points="17951,-237.2002 17522,-237.2002 17522,-201.2002 17951,-201.2002 17951,-237.2002"/>
<text text-anchor="middle" x="17736.5" y="-215.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">If we want to do fancy stuff with React and that, it does. </text>
</g>
<!-- block_121&#45;&gt;leaf_124 -->
<g id="edge124" class="edge">
<title>block_121&#45;&gt;leaf_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M17138.3742,-478.7463C17147.1395,-449.9623 17168.4899,-394.4323 17208.5,-368.2004 17322.6501,-293.3601 17382.8306,-371.657 17513.5,-332.2004 17583.1282,-311.1756 17657.1564,-269.2548 17699.9874,-242.8048"/>
<polygon fill="#000000" stroke="#000000" points="17702.0074,-245.6699 17708.6407,-237.4086 17698.3034,-239.7302 17702.0074,-245.6699"/>
</g>
</g>
</svg>