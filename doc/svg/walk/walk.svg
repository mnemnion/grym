<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="2156pt" height="939pt"
 viewBox="0.00 0.00 2155.50 939.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 935.0011)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-935.0011 2151.5,-935.0011 2151.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="810.5" cy="-913.0011" rx="27" ry="18"/>
<text text-anchor="middle" x="810.5" y="-908.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">88 &#160;</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="810.5" cy="-841.0011" rx="27" ry="18"/>
<text text-anchor="middle" x="810.5" y="-836.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">64 &#160;</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M810.5,-894.8325C810.5,-887.132 810.5,-877.9754 810.5,-869.4177"/>
<polygon fill="#000000" stroke="#000000" points="814.0001,-869.4143 810.5,-859.4144 807.0001,-869.4144 814.0001,-869.4143"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="522.5" cy="-769.0011" rx="27" ry="18"/>
<text text-anchor="middle" x="522.5" y="-764.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">le &#160;</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M783.7789,-837.5409C737.0986,-831.0008 638.0865,-814.9185 558.5,-787.0011 556.6208,-786.3419 554.7138,-785.6064 552.8085,-784.8197"/>
<polygon fill="#000000" stroke="#000000" points="553.9864,-781.5111 543.4328,-780.5766 551.1002,-787.8884 553.9864,-781.5111"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="594.5" cy="-769.0011" rx="27" ry="18"/>
<text text-anchor="middle" x="594.5" y="-764.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">&#45;5 &#160;</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M784.9913,-834.8296C749.6788,-825.9544 684.1807,-808.2897 630.5,-787.0011 628.6488,-786.2669 626.7635,-785.4731 624.8748,-784.6421"/>
<polygon fill="#000000" stroke="#000000" points="626.0848,-781.3442 615.5435,-780.2801 623.1204,-787.6856 626.0848,-781.3442"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="666.5" cy="-769.0011" rx="27" ry="18"/>
<text text-anchor="middle" x="666.5" y="-764.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">30 &#160;</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M788.6295,-830.0658C764.2778,-817.89 724.738,-798.1201 697.2715,-784.3869"/>
<polygon fill="#000000" stroke="#000000" points="698.614,-781.145 688.1045,-779.8033 695.4835,-787.406 698.614,-781.145"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="774.5" cy="-769.0011" rx="27" ry="18"/>
<text text-anchor="middle" x="774.5" y="-764.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">34 &#160;</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M801.7854,-823.5719C797.5403,-815.0818 792.3464,-804.6939 787.6337,-795.2685"/>
<polygon fill="#000000" stroke="#000000" points="790.737,-793.6488 783.1343,-786.2698 784.476,-796.7793 790.737,-793.6488"/>
</g>
<!-- block_6 -->
<g id="node7" class="node">
<title>block_6</title>
<ellipse fill="none" stroke="#000000" cx="846.5" cy="-769.0011" rx="27" ry="18"/>
<text text-anchor="middle" x="846.5" y="-764.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">46 &#160;</text>
</g>
<!-- section_1&#45;&gt;block_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;block_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M819.2146,-823.5719C823.4597,-815.0818 828.6536,-804.6939 833.3663,-795.2685"/>
<polygon fill="#000000" stroke="#000000" points="836.524,-796.7793 837.8657,-786.2698 830.263,-793.6488 836.524,-796.7793"/>
</g>
<!-- block_7 -->
<g id="node8" class="node">
<title>block_7</title>
<ellipse fill="none" stroke="#000000" cx="1050.5" cy="-769.0011" rx="27" ry="18"/>
<text text-anchor="middle" x="1050.5" y="-764.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">49 &#160;</text>
</g>
<!-- section_1&#45;&gt;block_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;block_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M835.2803,-833.567C878.3278,-820.6528 967.0018,-794.0506 1016.0258,-779.3433"/>
<polygon fill="#000000" stroke="#000000" points="1017.282,-782.6207 1025.8545,-776.3947 1015.2705,-775.9159 1017.282,-782.6207"/>
</g>
<!-- block_8 -->
<g id="node9" class="node">
<title>block_8</title>
<ellipse fill="none" stroke="#000000" cx="1444.5" cy="-769.0011" rx="27" ry="18"/>
<text text-anchor="middle" x="1444.5" y="-764.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">64 &#160;</text>
</g>
<!-- section_1&#45;&gt;block_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;block_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M837.3372,-837.9533C937.7864,-826.5459 1291.7142,-786.3522 1407.5213,-773.2006"/>
<polygon fill="#000000" stroke="#000000" points="1408.1149,-776.6557 1417.6561,-772.0496 1407.325,-769.7004 1408.1149,-776.6557"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="1761.5" cy="-769.0011" rx="27" ry="18"/>
<text text-anchor="middle" x="1761.5" y="-764.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">88 &#160;</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M837.4297,-838.9623C971.7263,-828.7947 1568.7761,-783.5922 1724.3389,-771.8145"/>
<polygon fill="#000000" stroke="#000000" points="1724.6446,-775.3015 1734.3518,-771.0565 1724.1161,-768.3215 1724.6446,-775.3015"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="513,-714.9014 0,-714.9014 0,-644.3007 513,-644.3007 513,-714.9014"/>
<text text-anchor="middle" x="256.5" y="-683.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Contains common functions for recursively executing over some part of</text>
<text text-anchor="middle" x="256.5" y="-668.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">a codex. &#160;</text>
</g>
<!-- block_3&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>block_3&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M573.5393,-757.5038C568.6935,-755.1336 563.4925,-752.8116 558.5,-751.0011 522.9325,-738.1023 484.1533,-726.9075 446.6008,-717.4523"/>
<polygon fill="#000000" stroke="#000000" points="447.115,-713.9737 436.5661,-714.9592 445.4271,-720.7672 447.115,-713.9737"/>
</g>
<!-- codeblock_11 -->
<g id="node12" class="node">
<title>codeblock_11</title>
<ellipse fill="none" stroke="#000000" cx="558.5" cy="-679.6011" rx="27" ry="18"/>
<text text-anchor="middle" x="558.5" y="-675.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">29 &#160;</text>
</g>
<!-- block_4&#45;&gt;codeblock_11 -->
<g id="edge11" class="edge">
<title>block_4&#45;&gt;codeblock_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M647.6241,-755.8976C632.7826,-745.3475 611.7964,-729.8753 594.5,-715.0011 589.8167,-710.9736 584.9838,-706.481 580.4387,-702.0846"/>
<polygon fill="#000000" stroke="#000000" points="582.7131,-699.4116 573.1384,-694.8756 577.7946,-704.3924 582.7131,-699.4116"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="657.5,-697.6011 603.5,-697.6011 603.5,-661.6011 657.5,-661.6011 657.5,-697.6011"/>
</g>
<!-- block_4&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>block_4&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M659.3876,-751.3385C654.3262,-738.7695 647.4253,-721.6322 641.6376,-707.2593"/>
<polygon fill="#000000" stroke="#000000" points="644.8269,-705.8095 637.8448,-697.8407 638.3336,-708.4243 644.8269,-705.8095"/>
</g>
<!-- codeblock_14 -->
<g id="node15" class="node">
<title>codeblock_14</title>
<ellipse fill="none" stroke="#000000" cx="702.5" cy="-679.6011" rx="27" ry="18"/>
<text text-anchor="middle" x="702.5" y="-675.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">33 &#160;</text>
</g>
<!-- block_5&#45;&gt;codeblock_14 -->
<g id="edge14" class="edge">
<title>block_5&#45;&gt;codeblock_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M761.6278,-753.0182C750.6384,-739.373 734.6627,-719.5365 722.087,-703.9215"/>
<polygon fill="#000000" stroke="#000000" points="724.5018,-701.34 715.5035,-695.747 719.05,-705.7307 724.5018,-701.34"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="801.5,-697.6011 747.5,-697.6011 747.5,-661.6011 801.5,-661.6011 801.5,-697.6011"/>
</g>
<!-- block_5&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>block_5&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M774.5,-750.9097C774.5,-738.5497 774.5,-721.9223 774.5,-707.8327"/>
<polygon fill="#000000" stroke="#000000" points="778.0001,-707.6656 774.5,-697.6656 771.0001,-707.6656 778.0001,-707.6656"/>
</g>
<!-- codeblock_17 -->
<g id="node18" class="node">
<title>codeblock_17</title>
<ellipse fill="none" stroke="#000000" cx="846.5" cy="-679.6011" rx="27" ry="18"/>
<text text-anchor="middle" x="846.5" y="-675.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">44 &#160;</text>
</g>
<!-- block_6&#45;&gt;codeblock_17 -->
<g id="edge17" class="edge">
<title>block_6&#45;&gt;codeblock_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M846.5,-750.9097C846.5,-738.5497 846.5,-721.9223 846.5,-707.8327"/>
<polygon fill="#000000" stroke="#000000" points="850.0001,-707.6656 846.5,-697.6656 843.0001,-707.6656 850.0001,-707.6656"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="945.5,-699.6011 891.5,-699.6011 891.5,-659.6011 945.5,-659.6011 945.5,-699.6011"/>
</g>
<!-- block_6&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>block_6&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M859.3722,-753.0182C869.4742,-740.4747 883.7899,-722.6995 895.8046,-707.7811"/>
<polygon fill="#000000" stroke="#000000" points="898.6549,-709.8221 902.2015,-699.8384 893.2031,-705.4313 898.6549,-709.8221"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1399.5,-706.9015 963.5,-706.9015 963.5,-652.3006 1399.5,-652.3006 1399.5,-706.9015"/>
<text text-anchor="middle" x="1181.5" y="-691.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">Finds the last match for a literal substring and replaces it</text>
<text text-anchor="middle" x="1181.5" y="-676.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">with =swap=, returning the new string.</text>
</g>
<!-- block_7&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>block_7&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1069.5485,-756.0016C1086.1603,-744.665 1110.9847,-727.7238 1133.0392,-712.6728"/>
<polygon fill="#000000" stroke="#000000" points="1135.0463,-715.5404 1141.3333,-707.0125 1131.1005,-709.7585 1135.0463,-715.5404"/>
</g>
<!-- codeblock_21 -->
<g id="node22" class="node">
<title>codeblock_21</title>
<ellipse fill="none" stroke="#000000" cx="1444.5" cy="-679.6011" rx="27" ry="18"/>
<text text-anchor="middle" x="1444.5" y="-675.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">63 &#160;</text>
</g>
<!-- block_8&#45;&gt;codeblock_21 -->
<g id="edge21" class="edge">
<title>block_8&#45;&gt;codeblock_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1444.5,-750.9097C1444.5,-738.5497 1444.5,-721.9223 1444.5,-707.8327"/>
<polygon fill="#000000" stroke="#000000" points="1448.0001,-707.6656 1444.5,-697.6656 1441.0001,-707.6656 1448.0001,-707.6656"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1543.5,-697.6011 1489.5,-697.6011 1489.5,-661.6011 1543.5,-661.6011 1543.5,-697.6011"/>
</g>
<!-- block_8&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>block_8&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1457.3722,-753.0182C1467.8838,-739.9662 1482.9575,-721.2497 1495.2541,-705.9814"/>
<polygon fill="#000000" stroke="#000000" points="1498.2067,-707.8952 1501.7533,-697.9116 1492.7549,-703.5045 1498.2067,-707.8952"/>
</g>
<!-- header_24 -->
<g id="node25" class="node">
<title>header_24</title>
<ellipse fill="none" stroke="#000000" cx="1689.5" cy="-679.6011" rx="27" ry="18"/>
<text text-anchor="middle" x="1689.5" y="-675.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">ge &#160;</text>
</g>
<!-- section_9&#45;&gt;header_24 -->
<g id="edge24" class="edge">
<title>section_9&#45;&gt;header_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1748.6278,-753.0182C1737.6384,-739.373 1721.6627,-719.5365 1709.087,-703.9215"/>
<polygon fill="#000000" stroke="#000000" points="1711.5018,-701.34 1702.5035,-695.747 1706.05,-705.7307 1711.5018,-701.34"/>
</g>
<!-- block_25 -->
<g id="node26" class="node">
<title>block_25</title>
<ellipse fill="none" stroke="#000000" cx="1761.5" cy="-679.6011" rx="27" ry="18"/>
<text text-anchor="middle" x="1761.5" y="-675.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">66 &#160;</text>
</g>
<!-- section_9&#45;&gt;block_25 -->
<g id="edge25" class="edge">
<title>section_9&#45;&gt;block_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1761.5,-750.9097C1761.5,-738.5497 1761.5,-721.9223 1761.5,-707.8327"/>
<polygon fill="#000000" stroke="#000000" points="1765.0001,-707.6656 1761.5,-697.6656 1758.0001,-707.6656 1765.0001,-707.6656"/>
</g>
<!-- block_26 -->
<g id="node27" class="node">
<title>block_26</title>
<ellipse fill="none" stroke="#000000" cx="1833.5" cy="-679.6011" rx="27" ry="18"/>
<text text-anchor="middle" x="1833.5" y="-675.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">85 &#160;</text>
</g>
<!-- section_9&#45;&gt;block_26 -->
<g id="edge26" class="edge">
<title>section_9&#45;&gt;block_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1774.3722,-753.0182C1785.3616,-739.373 1801.3373,-719.5365 1813.913,-703.9215"/>
<polygon fill="#000000" stroke="#000000" points="1816.95,-705.7307 1820.4965,-695.747 1811.4982,-701.34 1816.95,-705.7307"/>
</g>
<!-- block_27 -->
<g id="node28" class="node">
<title>block_27</title>
<ellipse fill="none" stroke="#000000" cx="2048.5" cy="-679.6011" rx="27" ry="18"/>
<text text-anchor="middle" x="2048.5" y="-675.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">88 &#160;</text>
</g>
<!-- section_9&#45;&gt;block_27 -->
<g id="edge27" class="edge">
<title>section_9&#45;&gt;block_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1785.9695,-761.3789C1837.0984,-745.4523 1955.3704,-708.6108 2014.1122,-690.3128"/>
<polygon fill="#000000" stroke="#000000" points="2015.1782,-693.6467 2023.6848,-687.3309 2013.0964,-686.9634 2015.1782,-693.6467"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="634.5,-608.0016 310.5,-608.0016 310.5,-259.7999 634.5,-259.7999 634.5,-608.0016"/>
<text text-anchor="middle" x="472.5" y="-593.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="472.5" y="-561.601" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;lib/status&quot;</text>
<text text-anchor="middle" x="472.5" y="-546.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="472.5" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;lib/ansi&quot;</text>
<text text-anchor="middle" x="472.5" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">s.chatty = true</text>
<text text-anchor="middle" x="472.5" y="-484.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_file = require &quot;pl.file&quot;</text>
<text text-anchor="middle" x="472.5" y="-468.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_dir = require &quot;pl.dir&quot;</text>
<text text-anchor="middle" x="472.5" y="-453.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path = require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="472.5" y="-437.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">local getfiles = pl_dir.getfiles</text>
<text text-anchor="middle" x="472.5" y="-422.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">local getdirectories = pl_dir.getdirectories</text>
<text text-anchor="middle" x="472.5" y="-407.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local makepath = pl_dir.makepath</text>
<text text-anchor="middle" x="472.5" y="-391.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local extension = pl_path.extension</text>
<text text-anchor="middle" x="472.5" y="-376.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local dirname = pl_path.dirname</text>
<text text-anchor="middle" x="472.5" y="-360.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">local basename = pl_path.basename</text>
<text text-anchor="middle" x="472.5" y="-345.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local read = pl_file.read</text>
<text text-anchor="middle" x="472.5" y="-330.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">local write = pl_file.write</text>
<text text-anchor="middle" x="472.5" y="-314.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">local delete = pl_file.delete</text>
<text text-anchor="middle" x="472.5" y="-299.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">local isdir = pl_path.isdir</text>
<text text-anchor="middle" x="472.5" y="-267.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
</g>
<!-- codeblock_11&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>codeblock_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M552.3151,-661.9309C548.4451,-650.8743 543.0198,-635.3745 536.7989,-617.6013"/>
<polygon fill="#000000" stroke="#000000" points="540.0844,-616.3936 533.4772,-608.1114 533.4775,-618.7062 540.0844,-616.3936"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="752.5,-451.9007 652.5,-451.9007 652.5,-415.9007 752.5,-415.9007 752.5,-451.9007"/>
<text text-anchor="middle" x="702.5" y="-430.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">local W = {}</text>
</g>
<!-- codeblock_14&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>codeblock_14&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M702.5,-661.5341C702.5,-619.2027 702.5,-513.3379 702.5,-462.2972"/>
<polygon fill="#000000" stroke="#000000" points="706.0001,-461.9941 702.5,-451.9941 699.0001,-461.9942 706.0001,-461.9941"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1116,-499.7011 771,-499.7011 771,-368.1004 1116,-368.1004 1116,-499.7011"/>
<text text-anchor="middle" x="943.5" y="-484.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.strHas(substr, str)</text>
<text text-anchor="middle" x="943.5" y="-469.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return L.match(epeg.anyP(substr), str)</text>
<text text-anchor="middle" x="943.5" y="-453.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="943.5" y="-422.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.endsWith(substr, str)</text>
<text text-anchor="middle" x="943.5" y="-407.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return L.match(L.P(string.reverse(substr)),</text>
<text text-anchor="middle" x="943.5" y="-391.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;string.reverse(str))</text>
<text text-anchor="middle" x="943.5" y="-376.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>codeblock_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M853.476,-661.9309C865.9133,-630.4274 892.5915,-562.8516 913.6945,-509.398"/>
<polygon fill="#000000" stroke="#000000" points="917.0144,-510.5199 917.431,-499.9332 910.5034,-507.9494 917.0144,-510.5199"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1716,-530.2012 1147,-530.2012 1147,-337.6003 1716,-337.6003 1716,-530.2012"/>
<text text-anchor="middle" x="1431.5" y="-515.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.subLastFor(match, swap, str)</text>
<text text-anchor="middle" x="1431.5" y="-499.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local trs, hctam = string.reverse(str), string.reverse(match)</text>
<text text-anchor="middle" x="1431.5" y="-484.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local first, last = W.strHas(hctam, trs)</text>
<text text-anchor="middle" x="1431.5" y="-468.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if last then</text>
<text text-anchor="middle" x="1431.5" y="-453.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; There is some way to do this without reversing the string twice,</text>
<text text-anchor="middle" x="1431.5" y="-438.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; but I can&#39;t be arsed to find it. ONE BASED INDEXES ARE A MISTAKE</text>
<text text-anchor="middle" x="1431.5" y="-422.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return string.reverse(trs:sub(1, first &#45; 1) </text>
<text text-anchor="middle" x="1431.5" y="-407.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. string.reverse(swap) .. trs:sub(last, &#45;1))</text>
<text text-anchor="middle" x="1431.5" y="-391.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1431.5" y="-376.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:halt(&quot;didn&#39;t find an instance of &quot; .. match .. &quot; in string: &quot; .. str)</text>
<text text-anchor="middle" x="1431.5" y="-361.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end </text>
<text text-anchor="middle" x="1431.5" y="-345.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_21&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>codeblock_21&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1443.5441,-661.5341C1442.1811,-635.7739 1439.5733,-586.4862 1437.1319,-540.343"/>
<polygon fill="#000000" stroke="#000000" points="1440.6212,-540.0481 1436.5977,-530.2471 1433.631,-540.4181 1440.6212,-540.0481"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1788.5,-451.9007 1734.5,-451.9007 1734.5,-415.9007 1788.5,-415.9007 1788.5,-451.9007"/>
</g>
<!-- block_25&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>block_25&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1761.5,-661.5341C1761.5,-619.2027 1761.5,-513.3379 1761.5,-462.2972"/>
<polygon fill="#000000" stroke="#000000" points="1765.0001,-461.9941 1761.5,-451.9941 1758.0001,-461.9942 1765.0001,-461.9941"/>
</g>
<!-- codeblock_29 -->
<g id="node30" class="node">
<title>codeblock_29</title>
<ellipse fill="none" stroke="#000000" cx="1833.5" cy="-433.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="1833.5" y="-429.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">82 &#160;</text>
</g>
<!-- block_26&#45;&gt;codeblock_29 -->
<g id="edge29" class="edge">
<title>block_26&#45;&gt;codeblock_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1833.5,-661.5341C1833.5,-619.2027 1833.5,-513.3379 1833.5,-462.2972"/>
<polygon fill="#000000" stroke="#000000" points="1837.0001,-461.9941 1833.5,-451.9941 1830.0001,-461.9942 1837.0001,-461.9941"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1932.5,-461.9007 1878.5,-461.9007 1878.5,-405.9007 1932.5,-405.9007 1932.5,-461.9007"/>
</g>
<!-- block_26&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>block_26&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1843.5425,-662.8446C1851.6143,-648.7165 1862.6929,-627.7335 1869.5,-608.201 1885.3724,-562.6565 1895.2728,-507.8515 1900.5829,-472.0112"/>
<polygon fill="#000000" stroke="#000000" points="1904.0665,-472.3749 1902.0226,-461.9791 1897.1375,-471.3805 1904.0665,-472.3749"/>
</g>
<!-- codeblock_32 -->
<g id="node33" class="node">
<title>codeblock_32</title>
<ellipse fill="none" stroke="#000000" cx="2048.5" cy="-433.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="2048.5" y="-429.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">88 &#160;</text>
</g>
<!-- block_27&#45;&gt;codeblock_32 -->
<g id="edge32" class="edge">
<title>block_27&#45;&gt;codeblock_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2048.5,-661.5341C2048.5,-619.2027 2048.5,-513.3379 2048.5,-462.2972"/>
<polygon fill="#000000" stroke="#000000" points="2052.0001,-461.9941 2048.5,-451.9941 2045.0001,-461.9942 2052.0001,-461.9941"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2147.5,-451.9007 2093.5,-451.9007 2093.5,-415.9007 2147.5,-415.9007 2147.5,-451.9007"/>
</g>
<!-- block_27&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>block_27&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2058.5425,-662.8446C2066.6143,-648.7165 2077.6929,-627.7335 2084.5,-608.201 2101.9169,-558.2245 2112.1431,-497.0976 2117.004,-462.113"/>
<polygon fill="#000000" stroke="#000000" points="2120.4816,-462.5129 2118.3423,-452.1363 2113.5438,-461.5822 2120.4816,-462.5129"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="2029.5,-223.401 1565.5,-223.401 1565.5,-.1994 2029.5,-.1994 2029.5,-223.401"/>
<text text-anchor="middle" x="1797.5" y="-208.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.writeOnChange(newest, current, out_file, depth)</text>
<text text-anchor="middle" x="1797.5" y="-193.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If the text has changed, write it</text>
<text text-anchor="middle" x="1797.5" y="-177.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if newest ~= current then</text>
<text text-anchor="middle" x="1797.5" y="-162.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.green((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. out_file))</text>
<text text-anchor="middle" x="1797.5" y="-146.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;write(out_file, newest)</text>
<text text-anchor="middle" x="1797.5" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If the new text is blank, delete the old file</text>
<text text-anchor="middle" x="1797.5" y="-116.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif current ~= &quot;&quot; and newest == &quot;&quot; then</text>
<text text-anchor="middle" x="1797.5" y="-100.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.red((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. out_file))</text>
<text text-anchor="middle" x="1797.5" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;delete(out_file)</text>
<text text-anchor="middle" x="1797.5" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1797.5" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Otherwise do nothing</text>
<text text-anchor="middle" x="1797.5" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. out_file)</text>
<text text-anchor="middle" x="1797.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1797.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_29&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>codeblock_29&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1831.4613,-415.6603C1827.5698,-380.8415 1818.7873,-302.2629 1811.1287,-233.7391"/>
<polygon fill="#000000" stroke="#000000" points="1814.5967,-233.2577 1810.0076,-223.7084 1807.6401,-234.0353 1814.5967,-233.2577"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2119.5,-129.8002 2047.5,-129.8002 2047.5,-93.8002 2119.5,-93.8002 2119.5,-129.8002"/>
<text text-anchor="middle" x="2083.5" y="-108.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">return W</text>
</g>
<!-- codeblock_32&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>codeblock_32&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2050.482,-415.6603C2056.3055,-362.0675 2073.3942,-204.8028 2080.4247,-140.1022"/>
<polygon fill="#000000" stroke="#000000" points="2083.9389,-140.1602 2081.5397,-129.8406 2076.9798,-139.4039 2083.9389,-140.1602"/>
</g>
</g>
</svg>