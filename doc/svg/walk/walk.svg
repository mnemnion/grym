<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="3235pt" height="878pt"
 viewBox="0.00 0.00 3235.00 878.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 874.4011)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-874.4011 3231,-874.4011 3231,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1133" cy="-852.4011" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="1133" y="-848.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 91</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1133" cy="-780.4011" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1133" y="-776.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;64</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1133,-834.2325C1133,-826.5321 1133,-817.3755 1133,-808.8178"/>
<polygon fill="#000000" stroke="#000000" points="1136.5001,-808.8144 1133,-798.8144 1129.5001,-808.8144 1136.5001,-808.8144"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="145" cy="-708.4011" rx="73.3717" ry="18"/>
<text text-anchor="middle" x="145" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Walk module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1073.7885,-776.0861C904.5662,-763.7541 418.6403,-728.3425 225.5302,-714.2697"/>
<polygon fill="#000000" stroke="#000000" points="225.6771,-710.7712 215.4491,-713.5351 225.1683,-717.7527 225.6771,-710.7712"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="545" cy="-708.4011" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="545" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;5</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1076.6201,-773.4975C963.4505,-759.64 709.9783,-728.6026 598.8961,-715.0006"/>
<polygon fill="#000000" stroke="#000000" points="599.2689,-711.5202 588.9176,-713.7788 598.418,-718.4683 599.2689,-711.5202"/>
</g>
<!-- codeblock_4 -->
<g id="node5" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="814" cy="-708.4011" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="814" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 6&#45;29</text>
</g>
<!-- section_1&#45;&gt;codeblock_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;codeblock_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1084.5508,-769.4659C1029.2409,-756.9821 938.5621,-736.5155 877.6041,-722.7569"/>
<polygon fill="#000000" stroke="#000000" points="878.2363,-719.3116 867.7111,-720.524 876.6951,-726.1399 878.2363,-719.3116"/>
</g>
<!-- codeblock_5 -->
<g id="node6" class="node">
<title>codeblock_5</title>
<ellipse fill="none" stroke="#000000" cx="1013" cy="-708.4011" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1013" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 31&#45;33</text>
</g>
<!-- section_1&#45;&gt;codeblock_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;codeblock_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1106.0697,-764.2429C1089.4421,-754.2664 1067.8869,-741.3333 1049.7084,-730.4262"/>
<polygon fill="#000000" stroke="#000000" points="1051.4677,-727.4001 1041.092,-725.2564 1047.8662,-733.4026 1051.4677,-727.4001"/>
</g>
<!-- codeblock_6 -->
<g id="node7" class="node">
<title>codeblock_6</title>
<ellipse fill="none" stroke="#000000" cx="1203" cy="-708.4011" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1203" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 35&#45;44</text>
</g>
<!-- section_1&#45;&gt;codeblock_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;codeblock_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1149.945,-762.9719C1158.5863,-754.0838 1169.2495,-743.1159 1178.7444,-733.3497"/>
<polygon fill="#000000" stroke="#000000" points="1181.2634,-735.7798 1185.7247,-726.17 1176.2444,-730.9002 1181.2634,-735.7798"/>
</g>
<!-- block_7 -->
<g id="node8" class="node">
<title>block_7</title>
<ellipse fill="none" stroke="#000000" cx="1500" cy="-708.4011" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1500" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 47&#45;49</text>
</g>
<!-- section_1&#45;&gt;block_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;block_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1184.0298,-770.3898C1251.7042,-757.1131 1370.8503,-733.7384 1441.9044,-719.7986"/>
<polygon fill="#000000" stroke="#000000" points="1442.8879,-723.1725 1452.027,-717.8127 1441.5403,-716.3034 1442.8879,-723.1725"/>
</g>
<!-- codeblock_8 -->
<g id="node9" class="node">
<title>codeblock_8</title>
<ellipse fill="none" stroke="#000000" cx="1909" cy="-708.4011" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1909" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 50&#45;63</text>
</g>
<!-- section_1&#45;&gt;codeblock_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;codeblock_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1191.0088,-775.0189C1327.4394,-762.3604 1669.0013,-730.669 1826.7601,-716.0316"/>
<polygon fill="#000000" stroke="#000000" points="1827.2477,-719.5015 1836.8815,-715.0925 1826.6009,-712.5315 1827.2477,-719.5015"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="2733" cy="-708.4011" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2733" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 65&#45;91</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1193.2841,-777.6883C1441.479,-766.5196 2384.0944,-724.1019 2657.9628,-711.7778"/>
<polygon fill="#000000" stroke="#000000" points="2658.3604,-715.2635 2668.1929,-711.3174 2658.0456,-708.2706 2658.3604,-715.2635"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="54,-498.1008 0,-498.1008 0,-462.1008 54,-462.1008 54,-498.1008"/>
</g>
<!-- header_2&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>header_2&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M108.6301,-692.5264C92.2861,-683.6032 74.196,-670.9055 63,-654.4011 32.8173,-609.9081 27.0331,-545.3754 26.4244,-508.5991"/>
<polygon fill="#000000" stroke="#000000" points="29.9225,-508.1149 26.3803,-498.1298 22.9225,-508.1445 29.9225,-508.1149"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="585.5,-507.4013 72.5,-507.4013 72.5,-452.8004 585.5,-452.8004 585.5,-507.4013"/>
<text text-anchor="middle" x="329" y="-476.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Contains common functions for recursively executing over some part of</text>
<text text-anchor="middle" x="329" y="-460.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">a codex. &#160;</text>
</g>
<!-- block_3&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>block_3&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M528.7649,-691.2415C493.3961,-653.8586 408.8009,-564.4461 361.8328,-514.8033"/>
<polygon fill="#000000" stroke="#000000" points="364.3239,-512.3436 354.9087,-507.485 359.239,-517.1545 364.3239,-512.3436"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="928,-654.2016 604,-654.2016 604,-306 928,-306 928,-654.2016"/>
<text text-anchor="middle" x="766" y="-639.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="766" y="-607.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;lib/status&quot;</text>
<text text-anchor="middle" x="766" y="-592.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="766" y="-577.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;lib/ansi&quot;</text>
<text text-anchor="middle" x="766" y="-561.601" font-family="Inconsolata" font-size="14.00" fill="#000000">s.chatty = true</text>
<text text-anchor="middle" x="766" y="-530.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_file = require &quot;pl.file&quot;</text>
<text text-anchor="middle" x="766" y="-514.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_dir = require &quot;pl.dir&quot;</text>
<text text-anchor="middle" x="766" y="-499.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path = require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="766" y="-484.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">local getfiles = pl_dir.getfiles</text>
<text text-anchor="middle" x="766" y="-468.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">local getdirectories = pl_dir.getdirectories</text>
<text text-anchor="middle" x="766" y="-453.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">local makepath = pl_dir.makepath</text>
<text text-anchor="middle" x="766" y="-437.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">local extension = pl_path.extension</text>
<text text-anchor="middle" x="766" y="-422.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">local dirname = pl_path.dirname</text>
<text text-anchor="middle" x="766" y="-407.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local basename = pl_path.basename</text>
<text text-anchor="middle" x="766" y="-391.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local read = pl_file.read</text>
<text text-anchor="middle" x="766" y="-376.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local write = pl_file.write</text>
<text text-anchor="middle" x="766" y="-360.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">local delete = pl_file.delete</text>
<text text-anchor="middle" x="766" y="-345.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local isdir = pl_path.isdir</text>
<text text-anchor="middle" x="766" y="-314.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>codeblock_4&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M810.1531,-690.1043C808.6695,-683.0481 806.8234,-674.2673 804.7343,-664.331"/>
<polygon fill="#000000" stroke="#000000" points="808.1435,-663.5347 802.6608,-654.4688 801.2932,-664.9751 808.1435,-663.5347"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="1046,-498.1008 946,-498.1008 946,-462.1008 1046,-462.1008 1046,-498.1008"/>
<text text-anchor="middle" x="996" y="-476.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">local W = {}</text>
</g>
<!-- codeblock_5&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>codeblock_5&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1011.6376,-690.1043C1008.6772,-650.348 1001.6403,-555.8471 998.1043,-508.3608"/>
<polygon fill="#000000" stroke="#000000" points="1001.5783,-507.8804 997.3453,-498.1679 994.5977,-508.4002 1001.5783,-507.8804"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="1409.5,-545.9012 1064.5,-545.9012 1064.5,-414.3005 1409.5,-414.3005 1409.5,-545.9012"/>
<text text-anchor="middle" x="1237" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.strHas(substr, str)</text>
<text text-anchor="middle" x="1237" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return L.match(epeg.anyP(substr), str)</text>
<text text-anchor="middle" x="1237" y="-500.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1237" y="-468.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.endsWith(substr, str)</text>
<text text-anchor="middle" x="1237" y="-453.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return L.match(L.P(string.reverse(substr)),</text>
<text text-anchor="middle" x="1237" y="-437.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;string.reverse(str))</text>
<text text-anchor="middle" x="1237" y="-422.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_6&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>codeblock_6&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1205.7249,-690.1043C1210.0207,-661.2594 1218.6082,-603.5965 1225.6995,-555.9806"/>
<polygon fill="#000000" stroke="#000000" points="1229.1766,-556.3928 1227.1879,-545.9863 1222.253,-555.3617 1229.1766,-556.3928"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="1864,-499.4014 1428,-499.4014 1428,-460.8003 1864,-460.8003 1864,-499.4014"/>
<text text-anchor="middle" x="1646" y="-484.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">Finds the last match for a literal substring and replaces it</text>
<text text-anchor="middle" x="1646" y="-468.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">with =swap=, returning the new string.</text>
</g>
<!-- block_7&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>block_7&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1511.4564,-690.4868C1536.7806,-650.8872 1597.6773,-555.6631 1628.0893,-508.1078"/>
<polygon fill="#000000" stroke="#000000" points="1631.1328,-509.8451 1633.5718,-499.5348 1625.2356,-506.0737 1631.1328,-509.8451"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="2451.5,-576.4013 1882.5,-576.4013 1882.5,-383.8003 2451.5,-383.8003 2451.5,-576.4013"/>
<text text-anchor="middle" x="2167" y="-561.301" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.subLastFor(match, swap, str)</text>
<text text-anchor="middle" x="2167" y="-545.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local trs, hctam = string.reverse(str), string.reverse(match)</text>
<text text-anchor="middle" x="2167" y="-530.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local first, last = W.strHas(hctam, trs)</text>
<text text-anchor="middle" x="2167" y="-515.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if last then</text>
<text text-anchor="middle" x="2167" y="-499.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; There is some way to do this without reversing the string twice,</text>
<text text-anchor="middle" x="2167" y="-484.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; but I can&#39;t be arsed to find it. ONE BASED INDEXES ARE A MISTAKE</text>
<text text-anchor="middle" x="2167" y="-468.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return string.reverse(trs:sub(1, first &#45; 1) </text>
<text text-anchor="middle" x="2167" y="-453.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. string.reverse(swap) .. trs:sub(last, &#45;1))</text>
<text text-anchor="middle" x="2167" y="-438.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2167" y="-422.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:halt(&quot;didn&#39;t find an instance of &quot; .. match .. &quot; in string: &quot; .. str)</text>
<text text-anchor="middle" x="2167" y="-407.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end </text>
<text text-anchor="middle" x="2167" y="-391.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_8&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>codeblock_8&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1928.8164,-690.8659C1955.1391,-667.5733 2003.7404,-624.5667 2050.2095,-583.4469"/>
<polygon fill="#000000" stroke="#000000" points="2052.7767,-585.8488 2057.9463,-576.6008 2048.1379,-580.6065 2052.7767,-585.8488"/>
</g>
<!-- header_17 -->
<g id="node18" class="node">
<title>header_17</title>
<ellipse fill="none" stroke="#000000" cx="2564" cy="-480.1008" rx="94.8539" ry="18"/>
<text text-anchor="middle" x="2564" y="-475.9008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Update on change</text>
</g>
<!-- section_9&#45;&gt;header_17 -->
<g id="edge17" class="edge">
<title>section_9&#45;&gt;header_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2709.0358,-691.6342C2695.952,-681.7474 2680.0181,-668.4465 2668,-654.4011 2628.0032,-607.6573 2594.1906,-543.6042 2576.7294,-507.5911"/>
<polygon fill="#000000" stroke="#000000" points="2579.7177,-505.7269 2572.2465,-498.2147 2573.4024,-508.7463 2579.7177,-505.7269"/>
</g>
<!-- block_18 -->
<g id="node19" class="node">
<title>block_18</title>
<ellipse fill="none" stroke="#000000" cx="2733" cy="-480.1008" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2733" y="-475.9008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 65&#45;66</text>
</g>
<!-- section_9&#45;&gt;block_18 -->
<g id="edge18" class="edge">
<title>section_9&#45;&gt;block_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2733,-690.1043C2733,-650.348 2733,-555.8471 2733,-508.3608"/>
<polygon fill="#000000" stroke="#000000" points="2736.5001,-508.1679 2733,-498.1679 2729.5001,-508.1679 2736.5001,-508.1679"/>
</g>
<!-- codeblock_19 -->
<g id="node20" class="node">
<title>codeblock_19</title>
<ellipse fill="none" stroke="#000000" cx="2898" cy="-480.1008" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2898" y="-475.9008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 67&#45;85</text>
</g>
<!-- section_9&#45;&gt;codeblock_19 -->
<g id="edge19" class="edge">
<title>section_9&#45;&gt;codeblock_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2757.3702,-691.4778C2770.423,-681.64 2786.1968,-668.4365 2798,-654.4011 2837.2017,-607.7858 2869.4433,-543.6859 2885.9857,-507.63"/>
<polygon fill="#000000" stroke="#000000" points="2889.2995,-508.796 2890.2279,-498.2419 2882.9205,-505.9135 2889.2995,-508.796"/>
</g>
<!-- codeblock_20 -->
<g id="node21" class="node">
<title>codeblock_20</title>
<ellipse fill="none" stroke="#000000" cx="3135" cy="-480.1008" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3135" y="-475.9008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 89&#45;91</text>
</g>
<!-- section_9&#45;&gt;codeblock_20 -->
<g id="edge20" class="edge">
<title>section_9&#45;&gt;codeblock_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2791.5897,-700.1892C2855.2063,-690.5103 2952.0185,-673.3294 2984,-654.4011 3046.3591,-617.4938 3096.019,-545.6508 3119.7667,-506.7184"/>
<polygon fill="#000000" stroke="#000000" points="3122.8379,-508.4022 3124.9717,-498.0244 3116.832,-504.8064 3122.8379,-508.4022"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="2583,-152.9003 2529,-152.9003 2529,-116.9003 2583,-116.9003 2583,-152.9003"/>
</g>
<!-- header_17&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>header_17&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2563.5811,-462.0274C2562.272,-405.5362 2558.2497,-231.9744 2556.6581,-163.2987"/>
<polygon fill="#000000" stroke="#000000" points="2560.1552,-163.1275 2556.4244,-153.2113 2553.1571,-163.2897 2560.1552,-163.1275"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="2655,-152.9003 2601,-152.9003 2601,-116.9003 2655,-116.9003 2655,-152.9003"/>
</g>
<!-- block_18&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>block_18&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2726.7503,-462.204C2714.2086,-426.0487 2685.3481,-341.6247 2664,-269.8005 2653.0997,-233.1271 2641.9558,-190.3958 2635.0122,-163.0172"/>
<polygon fill="#000000" stroke="#000000" points="2638.4058,-162.1605 2632.566,-153.3205 2631.6185,-163.8729 2638.4058,-162.1605"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="3137,-269.7009 2673,-269.7009 2673,-.0997 3137,-.0997 3137,-269.7009"/>
<text text-anchor="middle" x="2905" y="-254.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.writeOnChange(newest, current, out_file, depth)</text>
<text text-anchor="middle" x="2905" y="-239.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If the text has changed, write it</text>
<text text-anchor="middle" x="2905" y="-223.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if newest ~= current then</text>
<text text-anchor="middle" x="2905" y="-208.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.green((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. out_file))</text>
<text text-anchor="middle" x="2905" y="-193.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;write(out_file, newest)</text>
<text text-anchor="middle" x="2905" y="-177.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="2905" y="-162.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If the new text is blank, delete the old file</text>
<text text-anchor="middle" x="2905" y="-146.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif current ~= &quot;&quot; and newest == &quot;&quot; then</text>
<text text-anchor="middle" x="2905" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.red((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. out_file))</text>
<text text-anchor="middle" x="2905" y="-116.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;delete(out_file)</text>
<text text-anchor="middle" x="2905" y="-100.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="2905" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2905" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Otherwise do nothing</text>
<text text-anchor="middle" x="2905" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. out_file)</text>
<text text-anchor="middle" x="2905" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return nil</text>
<text text-anchor="middle" x="2905" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2905" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_19&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>codeblock_19&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2898.3665,-462.0274C2899.0583,-427.9138 2900.6157,-351.109 2902.0477,-280.49"/>
<polygon fill="#000000" stroke="#000000" points="2905.5544,-280.1904 2902.258,-270.1215 2898.5559,-280.0484 2905.5544,-280.1904"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="3227,-152.9003 3155,-152.9003 3155,-116.9003 3227,-116.9003 3227,-152.9003"/>
<text text-anchor="middle" x="3191" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">return W</text>
</g>
<!-- codeblock_20&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>codeblock_20&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3137.932,-462.0274C3147.0962,-405.5362 3175.2522,-231.9744 3186.3931,-163.2987"/>
<polygon fill="#000000" stroke="#000000" points="3189.8829,-163.6427 3188.0295,-153.2113 3182.9733,-162.5217 3189.8829,-163.6427"/>
</g>
</g>
</svg>