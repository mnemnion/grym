<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="2710pt" height="969pt"
 viewBox="0.00 0.00 2709.50 969.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 965.2012)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-965.2012 2705.5,-965.2012 2705.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1026.5" cy="-943.2012" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="1026.5" y="-939.0012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 91</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1026.5" cy="-871.2012" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1026.5" y="-867.0012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;64</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1026.5,-925.0325C1026.5,-917.3321 1026.5,-908.1755 1026.5,-899.6178"/>
<polygon fill="#000000" stroke="#000000" points="1030.0001,-899.6144 1026.5,-889.6145 1023.0001,-899.6145 1030.0001,-899.6144"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="529.5" cy="-799.2012" rx="73.3717" ry="18"/>
<text text-anchor="middle" x="529.5" y="-795.0012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Walk module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M968.8638,-865.2991C888.5009,-856.7069 738.3662,-839.3366 611.5,-817.2012 605.3754,-816.1326 599.0151,-814.9203 592.6678,-813.642"/>
<polygon fill="#000000" stroke="#000000" points="593.2413,-810.1866 582.7398,-811.5899 591.8243,-817.0417 593.2413,-810.1866"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="666.5" cy="-799.2012" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="666.5" y="-795.0012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;5</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M970.9054,-863.7652C909.3884,-854.981 807.5625,-838.7883 721.5,-817.2012 717.9278,-816.3052 714.251,-815.2967 710.5727,-814.2264"/>
<polygon fill="#000000" stroke="#000000" points="711.4893,-810.8469 700.9035,-811.2833 709.451,-817.5436 711.4893,-810.8469"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="781.5" cy="-799.2012" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="781.5" y="-795.0012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 6&#45;30</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M983.2629,-858.4948C940.4789,-845.9215 875.0892,-826.7049 830.4263,-813.5795"/>
<polygon fill="#000000" stroke="#000000" points="831.2483,-810.1731 820.6671,-810.7115 829.2746,-816.8891 831.2483,-810.1731"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="961.5" cy="-799.2012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="961.5" y="-795.0012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 31&#45;34</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1010.7653,-853.772C1002.7607,-844.9053 992.8876,-833.969 984.0869,-824.2205"/>
<polygon fill="#000000" stroke="#000000" points="986.6141,-821.7968 977.3151,-816.7194 981.4182,-826.4875 986.6141,-821.7968"/>
</g>
<!-- block_6 -->
<g id="node7" class="node">
<title>block_6</title>
<ellipse fill="none" stroke="#000000" cx="1091.5" cy="-799.2012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1091.5" y="-795.0012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 35&#45;46</text>
</g>
<!-- section_1&#45;&gt;block_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;block_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1042.2347,-853.772C1050.2393,-844.9053 1060.1124,-833.969 1068.9131,-824.2205"/>
<polygon fill="#000000" stroke="#000000" points="1071.5818,-826.4875 1075.6849,-816.7194 1066.3859,-821.7968 1071.5818,-826.4875"/>
</g>
<!-- block_7 -->
<g id="node8" class="node">
<title>block_7</title>
<ellipse fill="none" stroke="#000000" cx="1345.5" cy="-799.2012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1345.5" y="-795.0012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 47&#45;49</text>
</g>
<!-- section_1&#45;&gt;block_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;block_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1074.9492,-860.2659C1132.7357,-847.2232 1229.1293,-825.4667 1289.8997,-811.7505"/>
<polygon fill="#000000" stroke="#000000" points="1290.7209,-815.1532 1299.7049,-809.5374 1289.1797,-808.325 1290.7209,-815.1532"/>
</g>
<!-- block_8 -->
<g id="node9" class="node">
<title>block_8</title>
<ellipse fill="none" stroke="#000000" cx="1785.5" cy="-799.2012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1785.5" y="-795.0012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 50&#45;64</text>
</g>
<!-- section_1&#45;&gt;block_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;block_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1084.4839,-865.7007C1223.8264,-852.4825 1576.6732,-819.0108 1721.7297,-805.2505"/>
<polygon fill="#000000" stroke="#000000" points="1722.1841,-808.7232 1731.8089,-804.2944 1721.523,-801.7545 1722.1841,-808.7232"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="2216.5" cy="-799.2012" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2216.5" y="-795.0012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 65&#45;91</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1086.3278,-867.5814C1285.1294,-855.553 1923.4274,-816.9333 2142.1466,-803.6999"/>
<polygon fill="#000000" stroke="#000000" points="2142.4709,-807.1868 2152.2412,-803.0891 2142.048,-800.1995 2142.4709,-807.1868"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="513,-745.1016 0,-745.1016 0,-690.5007 513,-690.5007 513,-745.1016"/>
<text text-anchor="middle" x="256.5" y="-714.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Contains common functions for recursively executing over some part of</text>
<text text-anchor="middle" x="256.5" y="-698.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">a codex. &#160;</text>
</g>
<!-- block_3&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>block_3&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M632.0945,-787.1271C625.3172,-784.9802 618.2228,-782.8928 611.5,-781.2012 558.7726,-767.9337 500.9654,-756.3716 447.5927,-746.8848"/>
<polygon fill="#000000" stroke="#000000" points="448.1365,-743.4268 437.6807,-745.1376 446.9213,-750.3205 448.1365,-743.4268"/>
</g>
<!-- codeblock_11 -->
<g id="node12" class="node">
<title>codeblock_11</title>
<ellipse fill="none" stroke="#000000" cx="603.5" cy="-717.8012" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="603.5" y="-713.6012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 6&#45;29</text>
</g>
<!-- block_4&#45;&gt;codeblock_11 -->
<g id="edge11" class="edge">
<title>block_4&#45;&gt;codeblock_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M750.0869,-784.8359C721.5637,-771.7921 679.2111,-752.4241 647.3547,-737.8561"/>
<polygon fill="#000000" stroke="#000000" points="648.8008,-734.6688 638.251,-733.6929 645.8896,-741.0348 648.8008,-734.6688"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="748.5,-735.8012 694.5,-735.8012 694.5,-699.8012 748.5,-699.8012 748.5,-735.8012"/>
</g>
<!-- block_4&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>block_4&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M768.4809,-781.5386C760.4159,-770.5971 749.9096,-756.3435 740.878,-744.0907"/>
<polygon fill="#000000" stroke="#000000" points="743.6599,-741.9658 734.9091,-735.9929 738.0252,-746.1192 743.6599,-741.9658"/>
</g>
<!-- codeblock_14 -->
<g id="node15" class="node">
<title>codeblock_14</title>
<ellipse fill="none" stroke="#000000" cx="843.5" cy="-717.8012" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="843.5" y="-713.6012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 31&#45;33</text>
</g>
<!-- block_5&#45;&gt;codeblock_14 -->
<g id="edge14" class="edge">
<title>block_5&#45;&gt;codeblock_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M937.6209,-782.7287C920.1395,-770.6694 896.1903,-754.1485 876.8254,-740.79"/>
<polygon fill="#000000" stroke="#000000" points="878.7843,-737.8894 868.5654,-735.092 874.8094,-743.6514 878.7843,-737.8894"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="992.5,-735.8012 938.5,-735.8012 938.5,-699.8012 992.5,-699.8012 992.5,-735.8012"/>
</g>
<!-- block_5&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>block_5&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M962.3877,-781.1359C962.8952,-770.8081 963.5429,-757.6291 964.1158,-745.9703"/>
<polygon fill="#000000" stroke="#000000" points="967.6196,-745.9757 964.6148,-735.816 960.6281,-745.6321 967.6196,-745.9757"/>
</g>
<!-- codeblock_17 -->
<g id="node18" class="node">
<title>codeblock_17</title>
<ellipse fill="none" stroke="#000000" cx="1087.5" cy="-717.8012" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1087.5" y="-713.6012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 35&#45;44</text>
</g>
<!-- block_6&#45;&gt;codeblock_17 -->
<g id="edge17" class="edge">
<title>block_6&#45;&gt;codeblock_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1090.6123,-781.1359C1090.1048,-770.8081 1089.4571,-757.6291 1088.8842,-745.9703"/>
<polygon fill="#000000" stroke="#000000" points="1092.3719,-745.6321 1088.3852,-735.816 1085.3804,-745.9757 1092.3719,-745.6321"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="1236.5,-735.8012 1182.5,-735.8012 1182.5,-699.8012 1236.5,-699.8012 1236.5,-735.8012"/>
</g>
<!-- block_6&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>block_6&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1116.9213,-783.0958C1133.2698,-772.5832 1154.8631,-758.407 1173.5,-745.2012 1174.9099,-744.2022 1176.3433,-743.1725 1177.7858,-742.1248"/>
<polygon fill="#000000" stroke="#000000" points="1180.0874,-744.7759 1186.0463,-736.0156 1175.925,-739.1478 1180.0874,-744.7759"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1690.5,-737.1017 1254.5,-737.1017 1254.5,-698.5006 1690.5,-698.5006 1690.5,-737.1017"/>
<text text-anchor="middle" x="1472.5" y="-722.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">Finds the last match for a literal substring and replaces it</text>
<text text-anchor="middle" x="1472.5" y="-706.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">with =swap=, returning the new string.</text>
</g>
<!-- block_7&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>block_7&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1370.5911,-783.1192C1388.5548,-771.6054 1413.0874,-755.8814 1433.5807,-742.7463"/>
<polygon fill="#000000" stroke="#000000" points="1435.5549,-745.6382 1442.0854,-737.2953 1431.7776,-739.7448 1435.5549,-745.6382"/>
</g>
<!-- codeblock_21 -->
<g id="node22" class="node">
<title>codeblock_21</title>
<ellipse fill="none" stroke="#000000" cx="1785.5" cy="-717.8012" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1785.5" y="-713.6012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 50&#45;63</text>
</g>
<!-- block_8&#45;&gt;codeblock_21 -->
<g id="edge21" class="edge">
<title>block_8&#45;&gt;codeblock_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1785.5,-781.1359C1785.5,-770.8081 1785.5,-757.6291 1785.5,-745.9703"/>
<polygon fill="#000000" stroke="#000000" points="1789.0001,-745.8159 1785.5,-735.816 1782.0001,-745.816 1789.0001,-745.8159"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1934.5,-735.8012 1880.5,-735.8012 1880.5,-699.8012 1934.5,-699.8012 1934.5,-735.8012"/>
</g>
<!-- block_8&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>block_8&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1812.2457,-783.2613C1829.4252,-772.8148 1852.0777,-758.6499 1871.5,-745.2012 1872.9206,-744.2175 1874.363,-743.2005 1875.8128,-742.1632"/>
<polygon fill="#000000" stroke="#000000" points="1878.1018,-744.825 1884.099,-736.0909 1873.9641,-739.1788 1878.1018,-744.825"/>
</g>
<!-- header_24 -->
<g id="node25" class="node">
<title>header_24</title>
<ellipse fill="none" stroke="#000000" cx="2047.5" cy="-717.8012" rx="94.8539" ry="18"/>
<text text-anchor="middle" x="2047.5" y="-713.6012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Update on change</text>
</g>
<!-- section_9&#45;&gt;header_24 -->
<g id="edge24" class="edge">
<title>section_9&#45;&gt;header_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2183.9151,-783.5064C2157.6039,-770.8335 2120.3286,-752.8796 2091.3902,-738.9412"/>
<polygon fill="#000000" stroke="#000000" points="2092.8402,-735.7548 2082.312,-734.5686 2089.8026,-742.0614 2092.8402,-735.7548"/>
</g>
<!-- block_25 -->
<g id="node26" class="node">
<title>block_25</title>
<ellipse fill="none" stroke="#000000" cx="2216.5" cy="-717.8012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2216.5" y="-713.6012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 65&#45;66</text>
</g>
<!-- section_9&#45;&gt;block_25 -->
<g id="edge25" class="edge">
<title>section_9&#45;&gt;block_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2216.5,-781.1359C2216.5,-770.8081 2216.5,-757.6291 2216.5,-745.9703"/>
<polygon fill="#000000" stroke="#000000" points="2220.0001,-745.8159 2216.5,-735.816 2213.0001,-745.816 2220.0001,-745.8159"/>
</g>
<!-- block_26 -->
<g id="node27" class="node">
<title>block_26</title>
<ellipse fill="none" stroke="#000000" cx="2346.5" cy="-717.8012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2346.5" y="-713.6012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 67&#45;88</text>
</g>
<!-- section_9&#45;&gt;block_26 -->
<g id="edge26" class="edge">
<title>section_9&#45;&gt;block_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2243.1211,-782.5323C2263.0994,-770.0228 2290.6137,-752.7946 2312.2346,-739.2566"/>
<polygon fill="#000000" stroke="#000000" points="2314.1823,-742.1666 2320.8004,-733.8931 2310.4673,-736.2337 2314.1823,-742.1666"/>
</g>
<!-- block_27 -->
<g id="node28" class="node">
<title>block_27</title>
<ellipse fill="none" stroke="#000000" cx="2552.5" cy="-717.8012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2552.5" y="-713.6012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 89&#45;91</text>
</g>
<!-- section_9&#45;&gt;block_27 -->
<g id="edge27" class="edge">
<title>section_9&#45;&gt;block_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2265.7171,-787.2777C2327.573,-772.2924 2433.4136,-746.6513 2497.7618,-731.0621"/>
<polygon fill="#000000" stroke="#000000" points="2498.8252,-734.4058 2507.72,-728.6496 2497.177,-727.6026 2498.8252,-734.4058"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="765.5,-654.2016 441.5,-654.2016 441.5,-306 765.5,-306 765.5,-654.2016"/>
<text text-anchor="middle" x="603.5" y="-639.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="603.5" y="-607.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;lib/status&quot;</text>
<text text-anchor="middle" x="603.5" y="-592.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="603.5" y="-577.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;lib/ansi&quot;</text>
<text text-anchor="middle" x="603.5" y="-561.601" font-family="Inconsolata" font-size="14.00" fill="#000000">s.chatty = true</text>
<text text-anchor="middle" x="603.5" y="-530.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_file = require &quot;pl.file&quot;</text>
<text text-anchor="middle" x="603.5" y="-514.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_dir = require &quot;pl.dir&quot;</text>
<text text-anchor="middle" x="603.5" y="-499.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path = require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="603.5" y="-484.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">local getfiles = pl_dir.getfiles</text>
<text text-anchor="middle" x="603.5" y="-468.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">local getdirectories = pl_dir.getdirectories</text>
<text text-anchor="middle" x="603.5" y="-453.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">local makepath = pl_dir.makepath</text>
<text text-anchor="middle" x="603.5" y="-437.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">local extension = pl_path.extension</text>
<text text-anchor="middle" x="603.5" y="-422.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">local dirname = pl_path.dirname</text>
<text text-anchor="middle" x="603.5" y="-407.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local basename = pl_path.basename</text>
<text text-anchor="middle" x="603.5" y="-391.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local read = pl_file.read</text>
<text text-anchor="middle" x="603.5" y="-376.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local write = pl_file.write</text>
<text text-anchor="middle" x="603.5" y="-360.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">local delete = pl_file.delete</text>
<text text-anchor="middle" x="603.5" y="-345.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local isdir = pl_path.isdir</text>
<text text-anchor="middle" x="603.5" y="-314.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
</g>
<!-- codeblock_11&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>codeblock_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M603.5,-699.5439C603.5,-690.4023 603.5,-678.3443 603.5,-664.5743"/>
<polygon fill="#000000" stroke="#000000" points="607.0001,-664.2622 603.5,-654.2623 600.0001,-664.2623 607.0001,-664.2622"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="893.5,-498.1008 793.5,-498.1008 793.5,-462.1008 893.5,-462.1008 893.5,-498.1008"/>
<text text-anchor="middle" x="843.5" y="-476.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">local W = {}</text>
</g>
<!-- codeblock_14&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>codeblock_14&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M843.5,-699.5439C843.5,-658.3228 843.5,-557.8009 843.5,-508.4205"/>
<polygon fill="#000000" stroke="#000000" points="847.0001,-508.4203 843.5,-498.4203 840.0001,-508.4203 847.0001,-508.4203"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1260,-545.9012 915,-545.9012 915,-414.3005 1260,-414.3005 1260,-545.9012"/>
<text text-anchor="middle" x="1087.5" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.strHas(substr, str)</text>
<text text-anchor="middle" x="1087.5" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return L.match(epeg.anyP(substr), str)</text>
<text text-anchor="middle" x="1087.5" y="-500.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1087.5" y="-468.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.endsWith(substr, str)</text>
<text text-anchor="middle" x="1087.5" y="-453.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return L.match(L.P(string.reverse(substr)),</text>
<text text-anchor="middle" x="1087.5" y="-437.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;string.reverse(str))</text>
<text text-anchor="middle" x="1087.5" y="-422.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>codeblock_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1087.5,-699.5439C1087.5,-669.2358 1087.5,-606.8695 1087.5,-556.3439"/>
<polygon fill="#000000" stroke="#000000" points="1091.0001,-556.0842 1087.5,-546.0842 1084.0001,-556.0843 1091.0001,-556.0842"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="2070,-576.4013 1501,-576.4013 1501,-383.8003 2070,-383.8003 2070,-576.4013"/>
<text text-anchor="middle" x="1785.5" y="-561.301" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.subLastFor(match, swap, str)</text>
<text text-anchor="middle" x="1785.5" y="-545.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local trs, hctam = string.reverse(str), string.reverse(match)</text>
<text text-anchor="middle" x="1785.5" y="-530.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local first, last = W.strHas(hctam, trs)</text>
<text text-anchor="middle" x="1785.5" y="-515.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if last then</text>
<text text-anchor="middle" x="1785.5" y="-499.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; There is some way to do this without reversing the string twice,</text>
<text text-anchor="middle" x="1785.5" y="-484.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; but I can&#39;t be arsed to find it. ONE BASED INDEXES ARE A MISTAKE</text>
<text text-anchor="middle" x="1785.5" y="-468.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return string.reverse(trs:sub(1, first &#45; 1) </text>
<text text-anchor="middle" x="1785.5" y="-453.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. string.reverse(swap) .. trs:sub(last, &#45;1))</text>
<text text-anchor="middle" x="1785.5" y="-438.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1785.5" y="-422.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:halt(&quot;didn&#39;t find an instance of &quot; .. match .. &quot; in string: &quot; .. str)</text>
<text text-anchor="middle" x="1785.5" y="-407.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end </text>
<text text-anchor="middle" x="1785.5" y="-391.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_21&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>codeblock_21&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1785.5,-699.5439C1785.5,-675.0864 1785.5,-629.753 1785.5,-586.6118"/>
<polygon fill="#000000" stroke="#000000" points="1789.0001,-586.5811 1785.5,-576.5812 1782.0001,-586.5812 1789.0001,-586.5811"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="2192.5,-498.1008 2138.5,-498.1008 2138.5,-462.1008 2192.5,-462.1008 2192.5,-498.1008"/>
</g>
<!-- block_25&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>block_25&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2212.0952,-699.7962C2209.0303,-687.1232 2204.9003,-669.7511 2201.5,-654.4011 2190.1143,-603.0026 2177.9382,-542.8161 2171.0668,-508.3047"/>
<polygon fill="#000000" stroke="#000000" points="2174.4921,-507.5835 2169.1114,-498.4566 2167.6261,-508.9468 2174.4921,-507.5835"/>
</g>
<!-- codeblock_29 -->
<g id="node30" class="node">
<title>codeblock_29</title>
<ellipse fill="none" stroke="#000000" cx="2287.5" cy="-480.1008" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2287.5" y="-475.9008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 67&#45;85</text>
</g>
<!-- block_26&#45;&gt;codeblock_29 -->
<g id="edge29" class="edge">
<title>block_26&#45;&gt;codeblock_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2341.9683,-699.5439C2331.7116,-658.2215 2306.6634,-557.3066 2294.4392,-508.0575"/>
<polygon fill="#000000" stroke="#000000" points="2297.7724,-506.9572 2291.9663,-498.0949 2290.9785,-508.6436 2297.7724,-506.9572"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="2436.5,-500.1008 2382.5,-500.1008 2382.5,-460.1008 2436.5,-460.1008 2436.5,-500.1008"/>
</g>
<!-- block_26&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>block_26&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2355.2798,-699.8517C2361.1107,-687.3503 2368.5716,-670.158 2373.5,-654.4011 2388.9646,-604.9588 2399.614,-545.5188 2405.1223,-510.3821"/>
<polygon fill="#000000" stroke="#000000" points="2408.6128,-510.7104 2406.6664,-500.2959 2401.6934,-509.651 2408.6128,-510.7104"/>
</g>
<!-- codeblock_32 -->
<g id="node33" class="node">
<title>codeblock_32</title>
<ellipse fill="none" stroke="#000000" cx="2552.5" cy="-480.1008" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2552.5" y="-475.9008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 89&#45;91</text>
</g>
<!-- block_27&#45;&gt;codeblock_32 -->
<g id="edge32" class="edge">
<title>block_27&#45;&gt;codeblock_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2552.5,-699.5439C2552.5,-658.3228 2552.5,-557.8009 2552.5,-508.4205"/>
<polygon fill="#000000" stroke="#000000" points="2556.0001,-508.4203 2552.5,-498.4203 2549.0001,-508.4203 2556.0001,-508.4203"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2701.5,-498.1008 2647.5,-498.1008 2647.5,-462.1008 2701.5,-462.1008 2701.5,-498.1008"/>
</g>
<!-- block_27&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>block_27&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2583.3456,-702.5898C2602.1607,-691.7223 2625.0952,-675.3327 2638.5,-654.4011 2667.4196,-609.2431 2673.6736,-545.2084 2674.7022,-508.644"/>
<polygon fill="#000000" stroke="#000000" points="2678.2084,-508.2857 2674.8729,-498.2296 2671.2094,-508.1709 2678.2084,-508.2857"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="2508.5,-269.7009 2044.5,-269.7009 2044.5,-.0997 2508.5,-.0997 2508.5,-269.7009"/>
<text text-anchor="middle" x="2276.5" y="-254.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.writeOnChange(newest, current, out_file, depth)</text>
<text text-anchor="middle" x="2276.5" y="-239.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If the text has changed, write it</text>
<text text-anchor="middle" x="2276.5" y="-223.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if newest ~= current then</text>
<text text-anchor="middle" x="2276.5" y="-208.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.green((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. out_file))</text>
<text text-anchor="middle" x="2276.5" y="-193.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;write(out_file, newest)</text>
<text text-anchor="middle" x="2276.5" y="-177.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="2276.5" y="-162.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If the new text is blank, delete the old file</text>
<text text-anchor="middle" x="2276.5" y="-146.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif current ~= &quot;&quot; and newest == &quot;&quot; then</text>
<text text-anchor="middle" x="2276.5" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.red((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. out_file))</text>
<text text-anchor="middle" x="2276.5" y="-116.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;delete(out_file)</text>
<text text-anchor="middle" x="2276.5" y="-100.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="2276.5" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2276.5" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Otherwise do nothing</text>
<text text-anchor="middle" x="2276.5" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. out_file)</text>
<text text-anchor="middle" x="2276.5" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return nil</text>
<text text-anchor="middle" x="2276.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2276.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_29&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>codeblock_29&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2286.9241,-462.0274C2285.837,-427.9138 2283.3896,-351.109 2281.1393,-280.49"/>
<polygon fill="#000000" stroke="#000000" points="2284.6257,-280.0049 2280.8089,-270.1215 2277.6293,-280.2279 2284.6257,-280.0049"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2598.5,-152.9003 2526.5,-152.9003 2526.5,-116.9003 2598.5,-116.9003 2598.5,-152.9003"/>
<text text-anchor="middle" x="2562.5" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">return W</text>
</g>
<!-- codeblock_32&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>codeblock_32&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2553.0236,-462.0274C2554.66,-405.5362 2559.6879,-231.9744 2561.6773,-163.2987"/>
<polygon fill="#000000" stroke="#000000" points="2565.1784,-163.3085 2561.9696,-153.2113 2558.1814,-163.1057 2565.1784,-163.3085"/>
</g>
</g>
</svg>