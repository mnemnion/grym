<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="3095pt" height="878pt"
 viewBox="0.00 0.00 3094.50 878.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 874.4011)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-874.4011 3090.5,-874.4011 3090.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1077.5" cy="-852.4011" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="1077.5" y="-848.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 91</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1077.5" cy="-780.4011" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1077.5" y="-776.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;64</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1077.5,-834.2325C1077.5,-826.5321 1077.5,-817.3755 1077.5,-808.8178"/>
<polygon fill="#000000" stroke="#000000" points="1081.0001,-808.8144 1077.5,-798.8144 1074.0001,-808.8144 1081.0001,-808.8144"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="577.5" cy="-708.4011" rx="73.3717" ry="18"/>
<text text-anchor="middle" x="577.5" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Walk module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1019.7879,-774.5632C938.9269,-766.0164 787.4585,-748.6665 659.5,-726.4011 653.3749,-725.3353 647.0143,-724.1249 640.6668,-722.8478"/>
<polygon fill="#000000" stroke="#000000" points="641.2399,-719.3923 630.7386,-720.7969 639.8238,-726.2476 641.2399,-719.3923"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="700.5" cy="-708.4011" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="700.5" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1018.8317,-775.53C950.9767,-768.8562 836.4278,-754.3694 741.5,-726.4011 739.0858,-725.6898 736.6265,-724.8706 734.1722,-723.982"/>
<polygon fill="#000000" stroke="#000000" points="735.4225,-720.7128 724.8359,-720.2934 732.8503,-727.2231 735.4225,-720.7128"/>
</g>
<!-- codeblock_4 -->
<g id="node5" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="823.5" cy="-708.4011" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="823.5" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 6&#45;29</text>
</g>
<!-- section_1&#45;&gt;codeblock_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;codeblock_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1033.5466,-767.9419C991.4808,-756.0177 927.7688,-737.9576 881.5457,-724.855"/>
<polygon fill="#000000" stroke="#000000" points="882.2442,-721.4152 871.6687,-722.0552 880.3351,-728.1498 882.2442,-721.4152"/>
</g>
<!-- codeblock_5 -->
<g id="node6" class="node">
<title>codeblock_5</title>
<ellipse fill="none" stroke="#000000" cx="991.5" cy="-708.4011" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="991.5" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 31&#45;33</text>
</g>
<!-- section_1&#45;&gt;codeblock_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;codeblock_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1057.1192,-763.3381C1046.0364,-754.0595 1032.1512,-742.4347 1020.0109,-732.2707"/>
<polygon fill="#000000" stroke="#000000" points="1022.2463,-729.5775 1012.3319,-725.8418 1017.7527,-734.9449 1022.2463,-729.5775"/>
</g>
<!-- codeblock_6 -->
<g id="node7" class="node">
<title>codeblock_6</title>
<ellipse fill="none" stroke="#000000" cx="1164.5" cy="-708.4011" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1164.5" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 35&#45;44</text>
</g>
<!-- section_1&#45;&gt;codeblock_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;codeblock_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1098.1178,-763.3381C1109.3294,-754.0595 1123.3761,-742.4347 1135.6576,-732.2707"/>
<polygon fill="#000000" stroke="#000000" points="1137.9534,-734.9139 1143.4259,-725.8418 1133.4904,-729.5211 1137.9534,-734.9139"/>
</g>
<!-- prose_7 -->
<g id="node8" class="node">
<title>prose_7</title>
<ellipse fill="none" stroke="#000000" cx="1433.5" cy="-708.4011" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1433.5" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;prose_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1127.751,-770.238C1198.8858,-755.8512 1327.5519,-729.8288 1392.9622,-716.5998"/>
<polygon fill="#000000" stroke="#000000" points="1393.7909,-720.0031 1402.8986,-714.5902 1392.4032,-713.142 1393.7909,-720.0031"/>
</g>
<!-- codeblock_8 -->
<g id="node9" class="node">
<title>codeblock_8</title>
<ellipse fill="none" stroke="#000000" cx="1828.5" cy="-708.4011" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1828.5" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 50&#45;63</text>
</g>
<!-- section_1&#45;&gt;codeblock_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;codeblock_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1135.4934,-774.8412C1268.0046,-762.137 1593.3089,-730.9494 1746.3654,-716.2755"/>
<polygon fill="#000000" stroke="#000000" points="1747.0182,-719.7291 1756.6385,-715.2906 1746.3501,-712.761 1747.0182,-719.7291"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="2636.5" cy="-708.4011" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2636.5" y="-704.2011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 65&#45;91</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1137.6594,-777.6228C1381.0278,-766.3832 2292.406,-724.2926 2561.3425,-711.8722"/>
<polygon fill="#000000" stroke="#000000" points="2561.5676,-715.3656 2571.3954,-711.4079 2561.2446,-708.373 2561.5676,-715.3656"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="513,-515.4012 0,-515.4012 0,-444.8005 513,-444.8005 513,-515.4012"/>
<text text-anchor="middle" x="256.5" y="-468.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Contains common functions for recursively executing over some part of</text>
<text text-anchor="middle" x="256.5" y="-452.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">a codex. &#160;</text>
</g>
<!-- prose_3&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>prose_3&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M675.5966,-696.7263C670.3409,-694.4727 664.7854,-692.243 659.5,-690.4011 600.0505,-669.6837 580.0225,-679.9867 522.5,-654.4011 442.7717,-618.9385 360.1035,-560.8302 308.5129,-521.5535"/>
<polygon fill="#000000" stroke="#000000" points="310.5715,-518.7216 300.5049,-515.4179 306.3141,-524.2782 310.5715,-518.7216"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="855.5,-654.2016 531.5,-654.2016 531.5,-306 855.5,-306 855.5,-654.2016"/>
<text text-anchor="middle" x="693.5" y="-639.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="693.5" y="-607.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;lib/status&quot;</text>
<text text-anchor="middle" x="693.5" y="-592.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="693.5" y="-577.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;lib/ansi&quot;</text>
<text text-anchor="middle" x="693.5" y="-561.601" font-family="Inconsolata" font-size="14.00" fill="#000000">s.chatty = true</text>
<text text-anchor="middle" x="693.5" y="-530.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_file = require &quot;pl.file&quot;</text>
<text text-anchor="middle" x="693.5" y="-514.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_dir = require &quot;pl.dir&quot;</text>
<text text-anchor="middle" x="693.5" y="-499.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path = require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="693.5" y="-484.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">local getfiles = pl_dir.getfiles</text>
<text text-anchor="middle" x="693.5" y="-468.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">local getdirectories = pl_dir.getdirectories</text>
<text text-anchor="middle" x="693.5" y="-453.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">local makepath = pl_dir.makepath</text>
<text text-anchor="middle" x="693.5" y="-437.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">local extension = pl_path.extension</text>
<text text-anchor="middle" x="693.5" y="-422.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">local dirname = pl_path.dirname</text>
<text text-anchor="middle" x="693.5" y="-407.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local basename = pl_path.basename</text>
<text text-anchor="middle" x="693.5" y="-391.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local read = pl_file.read</text>
<text text-anchor="middle" x="693.5" y="-376.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local write = pl_file.write</text>
<text text-anchor="middle" x="693.5" y="-360.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">local delete = pl_file.delete</text>
<text text-anchor="middle" x="693.5" y="-345.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local isdir = pl_path.isdir</text>
<text text-anchor="middle" x="693.5" y="-314.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>codeblock_4&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M813.2991,-690.4868C809.0956,-683.1048 803.7915,-673.7898 797.7676,-663.211"/>
<polygon fill="#000000" stroke="#000000" points="800.7794,-661.4269 792.7896,-654.4688 794.6964,-664.8907 800.7794,-661.4269"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="973.5,-498.1008 873.5,-498.1008 873.5,-462.1008 973.5,-462.1008 973.5,-498.1008"/>
<text text-anchor="middle" x="923.5" y="-476.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">local W = {}</text>
</g>
<!-- codeblock_5&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>codeblock_5&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M986.0502,-690.1043C974.1588,-650.1806 945.8239,-555.0503 931.7394,-507.7635"/>
<polygon fill="#000000" stroke="#000000" points="935.0904,-506.7527 928.8813,-498.1679 928.3816,-508.751 935.0904,-506.7527"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="1337,-545.9012 992,-545.9012 992,-414.3005 1337,-414.3005 1337,-545.9012"/>
<text text-anchor="middle" x="1164.5" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.strHas(substr, str)</text>
<text text-anchor="middle" x="1164.5" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return L.match(epeg.anyP(substr), str)</text>
<text text-anchor="middle" x="1164.5" y="-500.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1164.5" y="-468.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.endsWith(substr, str)</text>
<text text-anchor="middle" x="1164.5" y="-453.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return L.match(L.P(string.reverse(substr)),</text>
<text text-anchor="middle" x="1164.5" y="-437.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;string.reverse(str))</text>
<text text-anchor="middle" x="1164.5" y="-422.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_6&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>codeblock_6&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1164.5,-690.1043C1164.5,-661.3198 1164.5,-603.8376 1164.5,-556.2795"/>
<polygon fill="#000000" stroke="#000000" points="1168.0001,-555.9863 1164.5,-545.9863 1161.0001,-555.9864 1168.0001,-555.9863"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="1791.5,-507.4013 1355.5,-507.4013 1355.5,-452.8004 1791.5,-452.8004 1791.5,-507.4013"/>
<text text-anchor="middle" x="1573.5" y="-476.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">Finds the last match for a literal substring and replaces it</text>
<text text-anchor="middle" x="1573.5" y="-460.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">with =swap=, returning the new string.</text>
</g>
<!-- prose_7&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>prose_7&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1444.0228,-691.2415C1466.7587,-654.1657 1520.8786,-565.9114 1551.4645,-516.0346"/>
<polygon fill="#000000" stroke="#000000" points="1554.4633,-517.8394 1556.7073,-507.485 1548.4959,-514.1801 1554.4633,-517.8394"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="2379,-576.4013 1810,-576.4013 1810,-383.8003 2379,-383.8003 2379,-576.4013"/>
<text text-anchor="middle" x="2094.5" y="-561.301" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.subLastFor(match, swap, str)</text>
<text text-anchor="middle" x="2094.5" y="-545.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local trs, hctam = string.reverse(str), string.reverse(match)</text>
<text text-anchor="middle" x="2094.5" y="-530.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local first, last = W.strHas(hctam, trs)</text>
<text text-anchor="middle" x="2094.5" y="-515.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if last then</text>
<text text-anchor="middle" x="2094.5" y="-499.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; There is some way to do this without reversing the string twice,</text>
<text text-anchor="middle" x="2094.5" y="-484.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; but I can&#39;t be arsed to find it. ONE BASED INDEXES ARE A MISTAKE</text>
<text text-anchor="middle" x="2094.5" y="-468.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return string.reverse(trs:sub(1, first &#45; 1) </text>
<text text-anchor="middle" x="2094.5" y="-453.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. string.reverse(swap) .. trs:sub(last, &#45;1))</text>
<text text-anchor="middle" x="2094.5" y="-438.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2094.5" y="-422.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:halt(&quot;didn&#39;t find an instance of &quot; .. match .. &quot; in string: &quot; .. str)</text>
<text text-anchor="middle" x="2094.5" y="-407.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end </text>
<text text-anchor="middle" x="2094.5" y="-391.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_8&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>codeblock_8&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1848.9309,-690.8659C1876.1257,-667.5253 1926.3849,-624.3893 1974.3844,-583.1926"/>
<polygon fill="#000000" stroke="#000000" points="1976.756,-585.7696 1982.0648,-576.6008 1972.1969,-580.4577 1976.756,-585.7696"/>
</g>
<!-- header_16 -->
<g id="node17" class="node">
<title>header_16</title>
<ellipse fill="none" stroke="#000000" cx="2491.5" cy="-480.1008" rx="94.8539" ry="18"/>
<text text-anchor="middle" x="2491.5" y="-475.9008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Update on change</text>
</g>
<!-- section_9&#45;&gt;header_16 -->
<g id="edge16" class="edge">
<title>section_9&#45;&gt;header_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2622.3215,-690.7677C2614.1787,-680.3899 2603.9287,-666.8899 2595.5,-654.4011 2561.3547,-603.8085 2525.8035,-541.8825 2506.3811,-507.1221"/>
<polygon fill="#000000" stroke="#000000" points="2509.2654,-505.1073 2501.3452,-498.0702 2503.1483,-508.5105 2509.2654,-505.1073"/>
</g>
<!-- prose_17 -->
<g id="node18" class="node">
<title>prose_17</title>
<ellipse fill="none" stroke="#000000" cx="2636.5" cy="-480.1008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2636.5" y="-475.9008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_17 -->
<g id="edge17" class="edge">
<title>section_9&#45;&gt;prose_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2636.5,-690.1043C2636.5,-650.348 2636.5,-555.8471 2636.5,-508.3608"/>
<polygon fill="#000000" stroke="#000000" points="2640.0001,-508.1679 2636.5,-498.1679 2633.0001,-508.1679 2640.0001,-508.1679"/>
</g>
<!-- codeblock_18 -->
<g id="node19" class="node">
<title>codeblock_18</title>
<ellipse fill="none" stroke="#000000" cx="2764.5" cy="-480.1008" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2764.5" y="-475.9008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 67&#45;85</text>
</g>
<!-- section_9&#45;&gt;codeblock_18 -->
<g id="edge18" class="edge">
<title>section_9&#45;&gt;codeblock_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2651.4228,-690.5129C2659.6152,-680.2754 2669.6698,-666.9972 2677.5,-654.4011 2708.2961,-604.8611 2737.086,-542.9574 2752.5943,-507.8363"/>
<polygon fill="#000000" stroke="#000000" points="2755.984,-508.8205 2756.7877,-498.2562 2749.5714,-506.0135 2755.984,-508.8205"/>
</g>
<!-- codeblock_19 -->
<g id="node20" class="node">
<title>codeblock_19</title>
<ellipse fill="none" stroke="#000000" cx="2994.5" cy="-480.1008" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2994.5" y="-475.9008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 89&#45;91</text>
</g>
<!-- section_9&#45;&gt;codeblock_19 -->
<g id="edge19" class="edge">
<title>section_9&#45;&gt;codeblock_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2699.6086,-702.9778C2744.5517,-696.7202 2804.8326,-683.2708 2850.5,-654.4011 2910.1426,-616.6967 2957.0281,-545.9979 2979.6632,-507.2347"/>
<polygon fill="#000000" stroke="#000000" points="2982.9577,-508.5246 2984.8884,-498.1072 2976.8827,-505.0469 2982.9577,-508.5246"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="2514.5,-152.9003 2460.5,-152.9003 2460.5,-116.9003 2514.5,-116.9003 2514.5,-152.9003"/>
</g>
<!-- prose_17&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>prose_17&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2637.0349,-461.9124C2637.0967,-427.6418 2632.6178,-352.7393 2595.5,-305.8005 2573.3085,-277.7374 2546.1066,-297.5303 2523.5,-269.8005 2498.5365,-239.1797 2490.7674,-192.8693 2488.4174,-163.2588"/>
<polygon fill="#000000" stroke="#000000" points="2491.9032,-162.9226 2487.7749,-153.1652 2484.9173,-163.3673 2491.9032,-162.9226"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="2996.5,-269.7009 2532.5,-269.7009 2532.5,-.0997 2996.5,-.0997 2996.5,-269.7009"/>
<text text-anchor="middle" x="2764.5" y="-254.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.writeOnChange(newest, current, out_file, depth)</text>
<text text-anchor="middle" x="2764.5" y="-239.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If the text has changed, write it</text>
<text text-anchor="middle" x="2764.5" y="-223.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if newest ~= current then</text>
<text text-anchor="middle" x="2764.5" y="-208.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.green((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. out_file))</text>
<text text-anchor="middle" x="2764.5" y="-193.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;write(out_file, newest)</text>
<text text-anchor="middle" x="2764.5" y="-177.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="2764.5" y="-162.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If the new text is blank, delete the old file</text>
<text text-anchor="middle" x="2764.5" y="-146.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif current ~= &quot;&quot; and newest == &quot;&quot; then</text>
<text text-anchor="middle" x="2764.5" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.red((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. out_file))</text>
<text text-anchor="middle" x="2764.5" y="-116.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;delete(out_file)</text>
<text text-anchor="middle" x="2764.5" y="-100.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="2764.5" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2764.5" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Otherwise do nothing</text>
<text text-anchor="middle" x="2764.5" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. out_file)</text>
<text text-anchor="middle" x="2764.5" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return nil</text>
<text text-anchor="middle" x="2764.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2764.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_18&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>codeblock_18&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2764.5,-462.0274C2764.5,-427.9138 2764.5,-351.109 2764.5,-280.49"/>
<polygon fill="#000000" stroke="#000000" points="2768.0001,-280.1214 2764.5,-270.1215 2761.0001,-280.1215 2768.0001,-280.1214"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="3086.5,-152.9003 3014.5,-152.9003 3014.5,-116.9003 3086.5,-116.9003 3086.5,-152.9003"/>
<text text-anchor="middle" x="3050.5" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">return W</text>
</g>
<!-- codeblock_19&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>codeblock_19&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2997.432,-462.0274C3006.5962,-405.5362 3034.7522,-231.9744 3045.8931,-163.2987"/>
<polygon fill="#000000" stroke="#000000" points="3049.3829,-163.6427 3047.5295,-153.2113 3042.4733,-162.5217 3049.3829,-163.6427"/>
</g>
</g>
</svg>