<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="3437pt" height="1174pt"
 viewBox="0.00 0.00 3437.00 1173.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1169.6014)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1169.6014 3433,-1169.6014 3433,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="espalier/node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="600.5" cy="-1147.6014" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="600.5" y="-1143.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 129</text>
</g>
<!-- section_1 -->
<g id="node2" class="espalier/node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="600.5" cy="-1075.6014" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="600.5" y="-1071.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;28</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M600.5,-1129.4327C600.5,-1121.7323 600.5,-1112.5757 600.5,-1104.018"/>
<polygon fill="#000000" stroke="#000000" points="604.0001,-1104.0146 600.5,-1094.0146 597.0001,-1104.0147 604.0001,-1104.0146"/>
</g>
<!-- header_2 -->
<g id="node3" class="espalier/node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="383.5" cy="-1003.6014" rx="47.9186" ry="18"/>
<text text-anchor="middle" x="383.5" y="-999.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Codex</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M559.9385,-1062.1432C522.8904,-1049.8507 468.1587,-1031.6909 429.4959,-1018.8627"/>
<polygon fill="#000000" stroke="#000000" points="430.1335,-1015.3867 419.5401,-1015.5594 427.929,-1022.0305 430.1335,-1015.3867"/>
</g>
<!-- prose_3 -->
<g id="node4" class="espalier/node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="545.5" cy="-1003.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="545.5" y="-999.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M586.9045,-1057.8036C580.1139,-1048.9141 571.7883,-1038.0152 564.3881,-1028.3277"/>
<polygon fill="#000000" stroke="#000000" points="567.0368,-1026.0293 558.185,-1020.2072 561.4741,-1030.2786 567.0368,-1026.0293"/>
</g>
<!-- section_4 -->
<g id="node5" class="espalier/node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="688.5" cy="-1003.6014" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="688.5" y="-999.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 7&#45;28</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M621.3548,-1058.5384C632.862,-1049.1233 647.3219,-1037.2925 659.873,-1027.0235"/>
<polygon fill="#000000" stroke="#000000" points="662.2717,-1029.5832 667.7949,-1020.5419 657.839,-1024.1654 662.2717,-1029.5832"/>
</g>
<!-- section_5 -->
<g id="node6" class="espalier/node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1482.5" cy="-1003.6014" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1482.5" y="-999.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 29&#45;41</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M659.3964,-1070.7935C815.2299,-1058.0724 1238.0858,-1023.5536 1409.1758,-1009.587"/>
<polygon fill="#000000" stroke="#000000" points="1409.6595,-1013.0593 1419.3415,-1008.7572 1409.0899,-1006.0825 1409.6595,-1013.0593"/>
</g>
<!-- leaf_6 -->
<g id="node7" class="espalier/node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="384,-949.6014 319,-949.6014 319,-913.6014 384,-913.6014 384,-949.6014"/>
<text text-anchor="middle" x="351.5" y="-928.1014" font-family="Inconsolata" font-size="14.00" fill="#000000">* Codex</text>
</g>
<!-- header_2&#45;&gt;leaf_6 -->
<g id="edge6" class="edge">
<title>header_2&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M375.5899,-985.8036C372.0016,-977.7301 367.6767,-967.999 363.6876,-959.0234"/>
<polygon fill="#000000" stroke="#000000" points="366.8012,-957.4111 359.5414,-949.6945 360.4045,-960.2541 366.8012,-957.4111"/>
</g>
<!-- raw_7 -->
<g id="node8" class="espalier/node">
<title>raw_7</title>
<ellipse fill="none" stroke="#000000" cx="429.5" cy="-931.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="429.5" y="-927.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_7 -->
<g id="edge7" class="edge">
<title>prose_3&#45;&gt;raw_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M523.6813,-990.0587C505.044,-978.4908 478.108,-961.7719 457.8123,-949.1745"/>
<polygon fill="#000000" stroke="#000000" points="459.6289,-946.1827 449.2867,-943.8828 455.9373,-952.1302 459.6289,-946.1827"/>
</g>
<!-- header_9 -->
<g id="node10" class="espalier/node">
<title>header_9</title>
<ellipse fill="none" stroke="#000000" cx="556.5" cy="-931.6014" rx="81.7474" ry="18"/>
<text text-anchor="middle" x="556.5" y="-927.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Instance Fields</text>
</g>
<!-- section_4&#45;&gt;header_9 -->
<g id="edge9" class="edge">
<title>section_4&#45;&gt;header_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M659.2049,-987.6222C640.7624,-977.5627 616.7134,-964.445 596.5233,-953.4323"/>
<polygon fill="#000000" stroke="#000000" points="598.0074,-950.255 587.5524,-948.539 594.6554,-956.4003 598.0074,-950.255"/>
</g>
<!-- prose_10 -->
<g id="node11" class="espalier/node">
<title>prose_10</title>
<ellipse fill="none" stroke="#000000" cx="688.5" cy="-931.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="688.5" y="-927.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_10 -->
<g id="edge10" class="edge">
<title>section_4&#45;&gt;prose_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M688.5,-985.4327C688.5,-977.7323 688.5,-968.5757 688.5,-960.018"/>
<polygon fill="#000000" stroke="#000000" points="692.0001,-960.0146 688.5,-950.0146 685.0001,-960.0147 692.0001,-960.0146"/>
</g>
<!-- codeblock_11 -->
<g id="node12" class="espalier/node">
<title>codeblock_11</title>
<ellipse fill="none" stroke="#000000" cx="835.5" cy="-931.6014" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="835.5" y="-927.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 12&#45;19</text>
</g>
<!-- section_4&#45;&gt;codeblock_11 -->
<g id="edge11" class="edge">
<title>section_4&#45;&gt;codeblock_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M720.0352,-988.1556C741.4098,-977.6864 769.9051,-963.7295 793.2394,-952.3004"/>
<polygon fill="#000000" stroke="#000000" points="794.7892,-955.4387 802.2303,-947.8968 791.7101,-949.1523 794.7892,-955.4387"/>
</g>
<!-- codeblock_12 -->
<g id="node13" class="espalier/node">
<title>codeblock_12</title>
<ellipse fill="none" stroke="#000000" cx="1091.5" cy="-931.6014" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1091.5" y="-927.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 22&#45;26</text>
</g>
<!-- section_4&#45;&gt;codeblock_12 -->
<g id="edge12" class="edge">
<title>section_4&#45;&gt;codeblock_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M740.7721,-994.2624C811.9488,-981.546 939.6421,-958.7323 1019.7433,-944.4214"/>
<polygon fill="#000000" stroke="#000000" points="1020.5232,-947.8376 1029.7517,-942.6333 1019.292,-940.9467 1020.5232,-947.8376"/>
</g>
<!-- header_18 -->
<g id="node19" class="espalier/node">
<title>header_18</title>
<ellipse fill="none" stroke="#000000" cx="1396.5" cy="-931.6014" rx="36.3165" ry="18"/>
<text text-anchor="middle" x="1396.5" y="-927.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : knit</text>
</g>
<!-- section_5&#45;&gt;header_18 -->
<g id="edge18" class="edge">
<title>section_5&#45;&gt;header_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1461.6818,-986.1722C1450.0192,-976.4081 1435.3587,-964.1342 1422.8964,-953.7007"/>
<polygon fill="#000000" stroke="#000000" points="1424.9924,-950.8908 1415.078,-947.155 1420.4988,-956.2581 1424.9924,-950.8908"/>
</g>
<!-- prose_19 -->
<g id="node20" class="espalier/node">
<title>prose_19</title>
<ellipse fill="none" stroke="#000000" cx="1482.5" cy="-931.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1482.5" y="-927.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_19 -->
<g id="edge19" class="edge">
<title>section_5&#45;&gt;prose_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1482.5,-985.4327C1482.5,-977.7323 1482.5,-968.5757 1482.5,-960.018"/>
<polygon fill="#000000" stroke="#000000" points="1486.0001,-960.0146 1482.5,-950.0146 1479.0001,-960.0147 1486.0001,-960.0146"/>
</g>
<!-- codeblock_20 -->
<g id="node21" class="espalier/node">
<title>codeblock_20</title>
<ellipse fill="none" stroke="#000000" cx="1614.5" cy="-931.6014" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1614.5" y="-927.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 35&#45;39</text>
</g>
<!-- section_5&#45;&gt;codeblock_20 -->
<g id="edge20" class="edge">
<title>section_5&#45;&gt;codeblock_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1512.1234,-987.4432C1530.7118,-977.304 1554.8987,-964.1112 1575.0955,-953.0947"/>
<polygon fill="#000000" stroke="#000000" points="1576.9569,-956.0663 1584.0599,-948.2051 1573.6049,-949.921 1576.9569,-956.0663"/>
</g>
<!-- section_21 -->
<g id="node22" class="espalier/node">
<title>section_21</title>
<ellipse fill="none" stroke="#000000" cx="2458.5" cy="-931.6014" rx="70.655" ry="18"/>
<text text-anchor="middle" x="2458.5" y="-927.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 42&#45;129</text>
</g>
<!-- section_5&#45;&gt;section_21 -->
<g id="edge21" class="edge">
<title>section_5&#45;&gt;section_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1546.1616,-998.905C1718.3268,-986.2043 2192.7782,-951.2038 2380.5381,-937.3527"/>
<polygon fill="#000000" stroke="#000000" points="2380.8915,-940.8362 2390.6069,-936.6099 2380.3765,-933.8552 2380.8915,-940.8362"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="espalier/node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="457,-870.7016 0,-870.7016 0,-784.101 457,-784.101 457,-870.7016"/>
<text text-anchor="middle" x="228.5" y="-823.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">Now that we have some abstractions over the parts of a Codex,</text>
<text text-anchor="middle" x="228.5" y="-808.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">let&#39;s write a class that&#39;s singlehandedly responsible for them.</text>
</g>
<!-- raw_7&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>raw_7&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M407.9895,-920.4501C386.9758,-909.5565 353.5158,-892.2105 321.1485,-875.431"/>
<polygon fill="#000000" stroke="#000000" points="322.5483,-872.2144 312.0595,-870.7192 319.3266,-878.429 322.5483,-872.2144"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="espalier/node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="617.5,-845.4013 475.5,-845.4013 475.5,-809.4013 617.5,-809.4013 617.5,-845.4013"/>
<text text-anchor="middle" x="546.5" y="-823.9013" font-family="Inconsolata" font-size="14.00" fill="#000000">** Instance Fields</text>
</g>
<!-- header_9&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>header_9&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M554.7581,-913.4511C553.2332,-897.5611 550.9921,-874.2085 549.2291,-855.839"/>
<polygon fill="#000000" stroke="#000000" points="552.6948,-855.3131 548.2555,-845.6932 545.7269,-855.9818 552.6948,-855.3131"/>
</g>
<!-- raw_14 -->
<g id="node15" class="espalier/node">
<title>raw_14</title>
<ellipse fill="none" stroke="#000000" cx="662.5" cy="-827.4013" rx="27" ry="18"/>
<text text-anchor="middle" x="662.5" y="-823.2013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_10&#45;&gt;raw_14 -->
<g id="edge14" class="edge">
<title>prose_10&#45;&gt;raw_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M683.9711,-913.4511C679.9633,-897.3889 674.0528,-873.7015 669.4472,-855.2436"/>
<polygon fill="#000000" stroke="#000000" points="672.7939,-854.1987 666.977,-845.3436 666.0021,-855.8934 672.7939,-854.1987"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="espalier/node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="983,-877.8023 708,-877.8023 708,-777.0003 983,-777.0003 983,-877.8023"/>
<text text-anchor="middle" x="845.5" y="-862.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;core/status&quot; ()</text>
<text text-anchor="middle" x="845.5" y="-847.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">s.verbose = true</text>
<text text-anchor="middle" x="845.5" y="-831.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">local Dir &#160;= require &quot;walk/directory&quot;</text>
<text text-anchor="middle" x="845.5" y="-816.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">local File = require &quot;walk/file&quot;</text>
<text text-anchor="middle" x="845.5" y="-800.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">local Path = require &quot;walk/path&quot;</text>
<text text-anchor="middle" x="845.5" y="-785.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">local Deck = require &quot;walk/deck&quot;</text>
</g>
<!-- codeblock_11&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>codeblock_11&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M837.2419,-913.4511C837.9405,-906.1716 838.7894,-897.326 839.6738,-888.1108"/>
<polygon fill="#000000" stroke="#000000" points="843.1705,-888.3115 840.6419,-878.0228 836.2025,-887.6427 843.1705,-888.3115"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="espalier/node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="1346,-854.6017 1001,-854.6017 1001,-800.2008 1346,-800.2008 1346,-854.6017"/>
<text text-anchor="middle" x="1173.5" y="-839.3013" font-family="Inconsolata" font-size="14.00" fill="#000000">local Codex = {}</text>
<text text-anchor="middle" x="1173.5" y="-823.9013" font-family="Inconsolata" font-size="14.00" fill="#000000">Codex.__index = Codex</text>
<text text-anchor="middle" x="1173.5" y="-808.5013" font-family="Inconsolata" font-size="14.00" fill="#000000">local __Codices = {} &#45;&#45; One codex per directory</text>
</g>
<!-- codeblock_12&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>codeblock_12&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1105.7833,-913.4511C1116.7457,-899.5208 1132.2216,-879.8552 1145.6119,-862.8396"/>
<polygon fill="#000000" stroke="#000000" points="1148.5552,-864.7591 1151.989,-854.7361 1143.0542,-860.4301 1148.5552,-864.7591"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="espalier/node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="919,-495.301 406,-495.301 406,-424.7003 919,-424.7003 919,-495.301"/>
<text text-anchor="middle" x="662.5" y="-448.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; docs : &#160;Array keyed by full path name of file, and the spun&#45;up Doc as</text>
<text text-anchor="middle" x="662.5" y="-432.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;the value.</text>
</g>
<!-- raw_14&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>raw_14&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M662.5,-809.1818C662.5,-753.9612 662.5,-587.2655 662.5,-505.8038"/>
<polygon fill="#000000" stroke="#000000" points="666.0001,-505.3646 662.5,-495.3647 659.0001,-505.3647 666.0001,-505.3646"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="espalier/node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1429,-845.4013 1364,-845.4013 1364,-809.4013 1429,-809.4013 1429,-845.4013"/>
<text text-anchor="middle" x="1396.5" y="-823.9013" font-family="Inconsolata" font-size="14.00" fill="#000000">** knit</text>
</g>
<!-- header_18&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>header_18&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1396.5,-913.4511C1396.5,-897.5611 1396.5,-874.2085 1396.5,-855.839"/>
<polygon fill="#000000" stroke="#000000" points="1400.0001,-855.6931 1396.5,-845.6932 1393.0001,-855.6932 1400.0001,-855.6931"/>
</g>
<!-- raw_23 -->
<g id="node24" class="espalier/node">
<title>raw_23</title>
<ellipse fill="none" stroke="#000000" cx="1474.5" cy="-827.4013" rx="27" ry="18"/>
<text text-anchor="middle" x="1474.5" y="-823.2013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_19&#45;&gt;raw_23 -->
<g id="edge23" class="edge">
<title>prose_19&#45;&gt;raw_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1481.1065,-913.4511C1479.8865,-897.5611 1478.0936,-874.2085 1476.6833,-855.839"/>
<polygon fill="#000000" stroke="#000000" points="1480.1597,-855.3959 1475.9044,-845.6932 1473.1802,-855.9318 1480.1597,-855.3959"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="espalier/node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1717.5,-854.6017 1519.5,-854.6017 1519.5,-800.2008 1717.5,-800.2008 1717.5,-854.6017"/>
<text text-anchor="middle" x="1618.5" y="-839.3013" font-family="Inconsolata" font-size="14.00" fill="#000000">function Codex.spin(codex)</text>
<text text-anchor="middle" x="1618.5" y="-823.9013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;codex.orb:spin()</text>
<text text-anchor="middle" x="1618.5" y="-808.5013" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_20&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>codeblock_20&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1615.1967,-913.4511C1615.7072,-900.154 1616.4182,-881.6311 1617.0499,-865.1755"/>
<polygon fill="#000000" stroke="#000000" points="1620.5644,-864.863 1617.4507,-854.7361 1613.5696,-864.5944 1620.5644,-864.863"/>
</g>
<!-- header_26 -->
<g id="node27" class="espalier/node">
<title>header_26</title>
<ellipse fill="none" stroke="#000000" cx="1885.5" cy="-827.4013" rx="60.4895" ry="18"/>
<text text-anchor="middle" x="1885.5" y="-823.2013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : isACodex</text>
</g>
<!-- section_21&#45;&gt;header_26 -->
<g id="edge26" class="edge">
<title>section_21&#45;&gt;header_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2390.8234,-926.4579C2308.3211,-919.3449 2164.9894,-904.262 2044.5,-877.6014 2006.4997,-869.1931 1964.5579,-855.7702 1933.2961,-844.9192"/>
<polygon fill="#000000" stroke="#000000" points="1934.1348,-841.5043 1923.54,-841.4961 1931.8173,-848.1096 1934.1348,-841.5043"/>
</g>
<!-- prose_27 -->
<g id="node28" class="espalier/node">
<title>prose_27</title>
<ellipse fill="none" stroke="#000000" cx="2085.5" cy="-827.4013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2085.5" y="-823.2013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_21&#45;&gt;prose_27 -->
<g id="edge27" class="edge">
<title>section_21&#45;&gt;prose_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2410.8804,-918.2985C2336.3436,-897.4762 2193.5284,-857.5798 2124.6107,-838.3271"/>
<polygon fill="#000000" stroke="#000000" points="2125.1736,-834.8504 2114.6006,-835.5307 2123.2901,-841.5923 2125.1736,-834.8504"/>
</g>
<!-- prose_28 -->
<g id="node29" class="espalier/node">
<title>prose_28</title>
<ellipse fill="none" stroke="#000000" cx="2458.5" cy="-827.4013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2458.5" y="-823.2013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_21&#45;&gt;prose_28 -->
<g id="edge28" class="edge">
<title>section_21&#45;&gt;prose_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2458.5,-913.4511C2458.5,-897.5611 2458.5,-874.2085 2458.5,-855.839"/>
<polygon fill="#000000" stroke="#000000" points="2462.0001,-855.6931 2458.5,-845.6932 2455.0001,-855.6932 2462.0001,-855.6931"/>
</g>
<!-- codeblock_29 -->
<g id="node30" class="espalier/node">
<title>codeblock_29</title>
<ellipse fill="none" stroke="#000000" cx="2659.5" cy="-827.4013" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2659.5" y="-823.2013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 50&#45;87</text>
</g>
<!-- section_21&#45;&gt;codeblock_29 -->
<g id="edge29" class="edge">
<title>section_21&#45;&gt;codeblock_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2489.9063,-915.3201C2524.5137,-897.3793 2580.3072,-868.4555 2618.3776,-848.7195"/>
<polygon fill="#000000" stroke="#000000" points="2620.3839,-851.6218 2627.651,-843.9121 2617.1621,-845.4073 2620.3839,-851.6218"/>
</g>
<!-- codeblock_30 -->
<g id="node31" class="espalier/node">
<title>codeblock_30</title>
<ellipse fill="none" stroke="#000000" cx="2982.5" cy="-827.4013" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="2982.5" y="-823.2013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 89&#45;106</text>
</g>
<!-- section_21&#45;&gt;codeblock_30 -->
<g id="edge30" class="edge">
<title>section_21&#45;&gt;codeblock_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2516.2945,-921.1262C2574.3071,-910.5176 2666.2021,-893.4575 2745.5,-877.6014 2802.4853,-866.2068 2866.9979,-852.4883 2914.3118,-842.274"/>
<polygon fill="#000000" stroke="#000000" points="2915.1035,-845.6838 2924.1381,-840.1496 2913.6243,-838.8418 2915.1035,-845.6838"/>
</g>
<!-- codeblock_31 -->
<g id="node32" class="espalier/node">
<title>codeblock_31</title>
<ellipse fill="none" stroke="#000000" cx="3265.5" cy="-827.4013" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="3265.5" y="-823.2013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 109&#45;112</text>
</g>
<!-- section_21&#45;&gt;codeblock_31 -->
<g id="edge31" class="edge">
<title>section_21&#45;&gt;codeblock_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2528.628,-929.2791C2643.324,-924.6248 2877.8642,-911.5174 3073.5,-877.6014 3118.9976,-869.7138 3169.4804,-856.326 3207.2586,-845.3588"/>
<polygon fill="#000000" stroke="#000000" points="3208.458,-848.6546 3217.0693,-842.4824 3206.4885,-841.9373 3208.458,-848.6546"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="espalier/node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1553.5,-503.9016 1089.5,-503.9016 1089.5,-416.0997 1553.5,-416.0997 1553.5,-503.9016"/>
<text text-anchor="middle" x="1321.5" y="-456.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">Now to work out the specifics of how knitting happens on a deck.</text>
</g>
<!-- raw_23&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>raw_23&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1467.1205,-809.6808C1445.0206,-756.6121 1378.7391,-597.4495 1343.7279,-513.3766"/>
<polygon fill="#000000" stroke="#000000" points="1346.899,-511.8872 1339.8236,-504.0012 1340.437,-514.5783 1346.899,-511.8872"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="espalier/node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="1671.5,-478.0006 1571.5,-478.0006 1571.5,-442.0006 1671.5,-442.0006 1671.5,-478.0006"/>
<text text-anchor="middle" x="1621.5" y="-456.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">*** isACodex</text>
</g>
<!-- header_26&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>header_26&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1842.9154,-814.6551C1789.3992,-797.7977 1701.9368,-767.186 1680.5,-741.2012 1618.8972,-666.5287 1616.7869,-543.4763 1619.3717,-488.3039"/>
<polygon fill="#000000" stroke="#000000" points="1622.8724,-488.3885 1619.9351,-478.209 1615.8833,-487.9984 1622.8724,-488.3885"/>
</g>
<!-- raw_33 -->
<g id="node34" class="espalier/node">
<title>raw_33</title>
<ellipse fill="none" stroke="#000000" cx="1716.5" cy="-460.0006" rx="27" ry="18"/>
<text text-anchor="middle" x="1716.5" y="-455.8006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_27&#45;&gt;raw_33 -->
<g id="edge33" class="edge">
<title>prose_27&#45;&gt;raw_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2059.8902,-815.9211C2033.8309,-804.6389 1992.0453,-787.6389 1954.5,-777.2012 1866.6396,-752.7757 1815.3825,-807.2454 1752.5,-741.2012 1686.1816,-671.5484 1700.1308,-544.3909 1710.4496,-488.0982"/>
<polygon fill="#000000" stroke="#000000" points="1713.9145,-488.6143 1712.377,-478.1316 1707.0419,-487.2851 1713.9145,-488.6143"/>
</g>
<!-- link_34 -->
<g id="node35" class="espalier/node">
<title>link_34</title>
<ellipse fill="none" stroke="#000000" cx="1788.5" cy="-460.0006" rx="27" ry="18"/>
<text text-anchor="middle" x="1788.5" y="-455.8006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_27&#45;&gt;link_34 -->
<g id="edge34" class="edge">
<title>prose_27&#45;&gt;link_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2059.1727,-816.4573C2032.9092,-805.7434 1991.2835,-789.3113 1954.5,-777.2012 1897.5545,-758.4532 1863.7598,-786.5105 1824.5,-741.2012 1761.8016,-668.8417 1773.6032,-544.0789 1782.8855,-488.3366"/>
<polygon fill="#000000" stroke="#000000" points="1786.3929,-488.6007 1784.6855,-478.1444 1779.4996,-487.3832 1786.3929,-488.6007"/>
</g>
<!-- raw_35 -->
<g id="node36" class="espalier/node">
<title>raw_35</title>
<ellipse fill="none" stroke="#000000" cx="1860.5" cy="-460.0006" rx="27" ry="18"/>
<text text-anchor="middle" x="1860.5" y="-455.8006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_27&#45;&gt;raw_35 -->
<g id="edge35" class="edge">
<title>prose_27&#45;&gt;raw_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2059.0555,-817.0075C2009.5339,-797.3068 1906.8502,-755.2453 1896.5,-741.2012 1839.8349,-664.3122 1848.3931,-542.4037 1855.8513,-487.9147"/>
<polygon fill="#000000" stroke="#000000" points="1859.3247,-488.3504 1857.3086,-477.9491 1852.3984,-487.3374 1859.3247,-488.3504"/>
</g>
<!-- prespace_36 -->
<g id="node37" class="espalier/node">
<title>prespace_36</title>
<ellipse fill="none" stroke="#000000" cx="1951.5" cy="-460.0006" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1951.5" y="-455.8006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_27&#45;&gt;prespace_36 -->
<g id="edge36" class="edge">
<title>prose_27&#45;&gt;prespace_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2066.9419,-812.2974C2048.8516,-796.5094 2022.0105,-770.0496 2007.5,-741.2012 1964.691,-656.0922 1954.5913,-541.0724 1952.2201,-488.4332"/>
<polygon fill="#000000" stroke="#000000" points="1955.7075,-488.0375 1951.8225,-478.1807 1948.7128,-488.3088 1955.7075,-488.0375"/>
</g>
<!-- literal_37 -->
<g id="node38" class="espalier/node">
<title>literal_37</title>
<ellipse fill="none" stroke="#000000" cx="2047.5" cy="-460.0006" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2047.5" y="-455.8006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_27&#45;&gt;literal_37 -->
<g id="edge37" class="edge">
<title>prose_27&#45;&gt;literal_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2083.6156,-809.1818C2077.4619,-749.6856 2057.9239,-560.7833 2050.4483,-488.5058"/>
<polygon fill="#000000" stroke="#000000" points="2053.9061,-487.9169 2049.3958,-478.33 2046.9433,-488.6371 2053.9061,-487.9169"/>
</g>
<!-- raw_38 -->
<g id="node39" class="espalier/node">
<title>raw_38</title>
<ellipse fill="none" stroke="#000000" cx="2123.5" cy="-460.0006" rx="27" ry="18"/>
<text text-anchor="middle" x="2123.5" y="-455.8006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_27&#45;&gt;raw_38 -->
<g id="edge38" class="edge">
<title>prose_27&#45;&gt;raw_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2087.3844,-809.1818C2093.5381,-749.6856 2113.0761,-560.7833 2120.5517,-488.5058"/>
<polygon fill="#000000" stroke="#000000" points="2124.0567,-488.6371 2121.6042,-478.33 2117.0939,-487.9169 2124.0567,-488.6371"/>
</g>
<!-- prespace_39 -->
<g id="node40" class="espalier/node">
<title>prespace_39</title>
<ellipse fill="none" stroke="#000000" cx="2214.5" cy="-460.0006" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2214.5" y="-455.8006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_27&#45;&gt;prespace_39 -->
<g id="edge39" class="edge">
<title>prose_27&#45;&gt;prespace_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2103.108,-812.1076C2120.2719,-796.1718 2145.7375,-769.5995 2159.5,-741.2012 2201.0196,-655.5272 2211.1989,-540.7873 2213.6924,-488.3253"/>
<polygon fill="#000000" stroke="#000000" points="2217.1986,-488.2451 2214.1163,-478.1086 2210.2046,-487.9549 2217.1986,-488.2451"/>
</g>
<!-- literal_40 -->
<g id="node41" class="espalier/node">
<title>literal_40</title>
<ellipse fill="none" stroke="#000000" cx="2310.5" cy="-460.0006" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2310.5" y="-455.8006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_27&#45;&gt;literal_40 -->
<g id="edge40" class="edge">
<title>prose_27&#45;&gt;literal_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2116.6177,-822.1625C2158.5656,-813.3476 2232.2753,-791.3303 2269.5,-741.2012 2326.5794,-664.3344 2320.6806,-542.4145 2314.485,-487.9186"/>
<polygon fill="#000000" stroke="#000000" points="2317.9539,-487.4503 2313.2605,-477.9517 2311.0061,-488.3039 2317.9539,-487.4503"/>
</g>
<!-- raw_41 -->
<g id="node42" class="espalier/node">
<title>raw_41</title>
<ellipse fill="none" stroke="#000000" cx="2386.5" cy="-460.0006" rx="27" ry="18"/>
<text text-anchor="middle" x="2386.5" y="-455.8006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_27&#45;&gt;raw_41 -->
<g id="edge41" class="edge">
<title>prose_27&#45;&gt;raw_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2116.3949,-821.6236C2179.5601,-809.1624 2320.0996,-777.8989 2350.5,-741.2012 2411.5791,-667.4697 2400.6191,-543.4201 2391.8344,-488.0993"/>
<polygon fill="#000000" stroke="#000000" points="2395.2433,-487.2652 2390.1285,-477.9868 2388.3408,-488.4297 2395.2433,-487.2652"/>
</g>
<!-- raw_54 -->
<g id="node55" class="espalier/node">
<title>raw_54</title>
<ellipse fill="none" stroke="#000000" cx="2458.5" cy="-460.0006" rx="27" ry="18"/>
<text text-anchor="middle" x="2458.5" y="-455.8006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_54 -->
<g id="edge54" class="edge">
<title>prose_28&#45;&gt;raw_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2458.5,-809.1818C2458.5,-749.6856 2458.5,-560.7833 2458.5,-488.5058"/>
<polygon fill="#000000" stroke="#000000" points="2462.0001,-488.33 2458.5,-478.33 2455.0001,-488.3301 2462.0001,-488.33"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="espalier/node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="2961,-741.4019 2504,-741.4019 2504,-178.5994 2961,-178.5994 2961,-741.4019"/>
<text text-anchor="middle" x="2732.5" y="-726.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">local function isACodex(dir, codex)</text>
<text text-anchor="middle" x="2732.5" y="-710.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local isCo = false</text>
<text text-anchor="middle" x="2732.5" y="-695.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local orbDir, srcDir, libDir, srcLibDir = nil, nil, nil, nil</text>
<text text-anchor="middle" x="2732.5" y="-679.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;codex.root = dir</text>
<text text-anchor="middle" x="2732.5" y="-664.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;dir:getsubdirs()</text>
<text text-anchor="middle" x="2732.5" y="-649.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i, sub in ipairs(dir.subdirs) do</text>
<text text-anchor="middle" x="2732.5" y="-633.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local name = sub:basename()</text>
<text text-anchor="middle" x="2732.5" y="-618.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if name == &quot;orb&quot; then</text>
<text text-anchor="middle" x="2732.5" y="-602.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb(&quot;orb: &quot; .. tostring(sub))</text>
<text text-anchor="middle" x="2732.5" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;orbDir = sub</text>
<text text-anchor="middle" x="2732.5" y="-572.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;codex.orb = sub</text>
<text text-anchor="middle" x="2732.5" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif name == &quot;src&quot; then</text>
<text text-anchor="middle" x="2732.5" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb(&quot;src: &quot; .. tostring(sub))</text>
<text text-anchor="middle" x="2732.5" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;srcDir = Dir(sub)</text>
<text text-anchor="middle" x="2732.5" y="-510.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;codex.src = sub</text>
<text text-anchor="middle" x="2732.5" y="-495.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;srcDir:getsubdirs()</text>
<text text-anchor="middle" x="2732.5" y="-479.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for j, subsub in ipairs(sub.subdirs) do</text>
<text text-anchor="middle" x="2732.5" y="-464.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local subname = subsub:basename()</text>
<text text-anchor="middle" x="2732.5" y="-448.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if subname == &quot;lib&quot; then</text>
<text text-anchor="middle" x="2732.5" y="-433.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb(&quot;src/lib: &quot; .. tostring(subsub))</text>
<text text-anchor="middle" x="2732.5" y="-418.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;subLibDir = subsub</text>
<text text-anchor="middle" x="2732.5" y="-402.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2732.5" y="-387.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2732.5" y="-371.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45;]]</text>
<text text-anchor="middle" x="2732.5" y="-356.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif name == &quot;lib&quot; then</text>
<text text-anchor="middle" x="2732.5" y="-341.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb(&quot;lib: &quot; .. tostring(sub))</text>
<text text-anchor="middle" x="2732.5" y="-325.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libDir = sub</text>
<text text-anchor="middle" x="2732.5" y="-310.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;codex.lib = sub</text>
<text text-anchor="middle" x="2732.5" y="-294.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2732.5" y="-279.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="2732.5" y="-264.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if orbDir and srcDir and libDir and subLibDir then</text>
<text text-anchor="middle" x="2732.5" y="-248.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; check equality of /lib and /src/lib</text>
<text text-anchor="middle" x="2732.5" y="-233.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;codex.codex = true</text>
<text text-anchor="middle" x="2732.5" y="-217.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="2732.5" y="-202.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return codex</text>
<text text-anchor="middle" x="2732.5" y="-187.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_29&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>codeblock_29&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2663.1201,-809.1818C2665.8003,-795.6923 2669.8024,-775.5507 2674.5564,-751.6243"/>
<polygon fill="#000000" stroke="#000000" points="2678.0467,-752.0171 2676.5627,-741.5267 2671.1809,-750.6528 2678.0467,-752.0171"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="espalier/node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3275.5,-587.4014 2979.5,-587.4014 2979.5,-332.5998 3275.5,-332.5998 3275.5,-587.4014"/>
<text text-anchor="middle" x="3127.5" y="-572.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(dir)</text>
<text text-anchor="middle" x="3127.5" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(dir) == &quot;string&quot; then</text>
<text text-anchor="middle" x="3127.5" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;dir = Dir(dir)</text>
<text text-anchor="middle" x="3127.5" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="3127.5" y="-510.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if __Codices[dir] then</text>
<text text-anchor="middle" x="3127.5" y="-495.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return __Codices[dir]</text>
<text text-anchor="middle" x="3127.5" y="-479.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="3127.5" y="-464.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local codex = setmetatable({}, Codex)</text>
<text text-anchor="middle" x="3127.5" y="-448.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;codex = isACodex(dir, codex)</text>
<text text-anchor="middle" x="3127.5" y="-433.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if codex.orb then</text>
<text text-anchor="middle" x="3127.5" y="-418.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;codex.orb = Deck(codex, codex.orb)</text>
<text text-anchor="middle" x="3127.5" y="-402.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="3127.5" y="-387.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;codex.docs = {}</text>
<text text-anchor="middle" x="3127.5" y="-371.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;codex.srcs = {}</text>
<text text-anchor="middle" x="3127.5" y="-356.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return codex</text>
<text text-anchor="middle" x="3127.5" y="-341.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_30&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>codeblock_30&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2989.5918,-809.4321C3004.7537,-771.0148 3041.5305,-677.8299 3073.2945,-597.3463"/>
<polygon fill="#000000" stroke="#000000" points="3076.726,-598.1854 3077.1415,-587.5987 3070.2148,-595.6156 3076.726,-598.1854"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="espalier/node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="3429,-479.3012 3294,-479.3012 3294,-440.7 3429,-440.7 3429,-479.3012"/>
<text text-anchor="middle" x="3361.5" y="-464.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">Codex.idEst = new</text>
<text text-anchor="middle" x="3361.5" y="-448.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_31&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>codeblock_31&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3270.2607,-809.1818C3285.7305,-749.9775 3334.6825,-562.6334 3353.7716,-489.5778"/>
<polygon fill="#000000" stroke="#000000" points="3357.222,-490.2173 3356.3638,-479.6572 3350.4494,-488.4476 3357.222,-490.2173"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="espalier/node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="1628,-142.7004 1171,-142.7004 1171,-72.0997 1628,-72.0997 1628,-142.7004"/>
<text text-anchor="middle" x="1399.5" y="-95.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Used in our constructor to determine to what degree the local</text>
<text text-anchor="middle" x="1399.5" y="-80.2" font-family="Inconsolata" font-size="14.00" fill="#000000">directory fits the Codex format. &#160;If it meets all the </text>
</g>
<!-- raw_33&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>raw_33&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1720.3349,-442.1342C1729.7133,-393.1802 1748.3606,-255.4503 1680.5,-178.8001 1669.1231,-165.9496 1643.867,-154.8788 1612.9337,-145.5514"/>
<polygon fill="#000000" stroke="#000000" points="1613.7399,-142.141 1603.1605,-142.7126 1611.7873,-148.8631 1613.7399,-142.141"/>
</g>
<!-- anchortext_43 -->
<g id="node44" class="espalier/node">
<title>anchortext_43</title>
<ellipse fill="none" stroke="#000000" cx="1697.5" cy="-107.4" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="1697.5" y="-103.2" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_34&#45;&gt;anchortext_43 -->
<g id="edge43" class="edge">
<title>link_34&#45;&gt;anchortext_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1789.3822,-441.7325C1790.938,-395.6683 1790.9385,-271.8219 1752.5,-178.8001 1745.3741,-161.5552 1732.9526,-144.8833 1721.7153,-131.9926"/>
<polygon fill="#000000" stroke="#000000" points="1724.2311,-129.5563 1714.9295,-124.4836 1719.0375,-134.2496 1724.2311,-129.5563"/>
</g>
<!-- url_44 -->
<g id="node45" class="espalier/node">
<title>url_44</title>
<ellipse fill="none" stroke="#000000" cx="1793.5" cy="-107.4" rx="27" ry="18"/>
<text text-anchor="middle" x="1793.5" y="-103.2" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_34&#45;&gt;url_44 -->
<g id="edge44" class="edge">
<title>link_34&#45;&gt;url_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1788.7618,-441.5397C1789.5819,-383.703 1792.1057,-205.728 1793.0956,-135.9185"/>
<polygon fill="#000000" stroke="#000000" points="1796.5986,-135.7268 1793.2408,-125.6782 1789.5993,-135.6275 1796.5986,-135.7268"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="espalier/node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="1892.5,-127.3021 1838.5,-127.3021 1838.5,-87.4979 1892.5,-87.4979 1892.5,-127.3021"/>
<text text-anchor="middle" x="1865.5" y="-95.9" font-family="Inconsolata" font-size="14.00" fill="#000000">then</text>
</g>
<!-- raw_35&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>raw_35&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1860.7618,-441.5397C1861.576,-384.1232 1864.0691,-208.3072 1865.0738,-137.4568"/>
<polygon fill="#000000" stroke="#000000" points="1868.5741,-137.4542 1865.2163,-127.4056 1861.5748,-137.3549 1868.5741,-137.4542"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="espalier/node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="1973.5,-125.4 1919.5,-125.4 1919.5,-89.4 1973.5,-89.4 1973.5,-125.4"/>
<text text-anchor="middle" x="1946.5" y="-103.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_36&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>prespace_36&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1951.2382,-441.5397C1950.4181,-383.703 1947.8943,-205.728 1946.9044,-135.9185"/>
<polygon fill="#000000" stroke="#000000" points="1950.4007,-135.6275 1946.7592,-125.6782 1943.4014,-135.7268 1950.4007,-135.6275"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="espalier/node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="2085,-125.4 1992,-125.4 1992,-89.4 2085,-89.4 2085,-125.4"/>
<text text-anchor="middle" x="2038.5" y="-103.9" font-family="Inconsolata" font-size="14.00" fill="#000000">codex.codex</text>
</g>
<!-- literal_37&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>literal_37&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2047.0288,-441.5397C2045.5525,-383.703 2041.0098,-205.728 2039.2279,-135.9185"/>
<polygon fill="#000000" stroke="#000000" points="2042.7207,-135.5856 2038.9665,-125.6782 2035.7229,-135.7643 2042.7207,-135.5856"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="espalier/node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="2189.5,-125.4 2103.5,-125.4 2103.5,-89.4 2189.5,-89.4 2189.5,-125.4"/>
<text text-anchor="middle" x="2146.5" y="-103.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> is set to</text>
</g>
<!-- raw_38&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>raw_38&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2124.7042,-441.5397C2128.4769,-383.703 2140.0861,-205.728 2144.6398,-135.9185"/>
<polygon fill="#000000" stroke="#000000" points="2148.1493,-135.8848 2145.3077,-125.6782 2141.1641,-135.4291 2148.1493,-135.8848"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="espalier/node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="2261.5,-125.4 2207.5,-125.4 2207.5,-89.4 2261.5,-89.4 2261.5,-125.4"/>
<text text-anchor="middle" x="2234.5" y="-103.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_39&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>prespace_39&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2215.5471,-441.5397C2218.8277,-383.703 2228.9227,-205.728 2232.8824,-135.9185"/>
<polygon fill="#000000" stroke="#000000" points="2236.3912,-135.8604 2233.4632,-125.6782 2229.4025,-135.4639 2236.3912,-135.8604"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="espalier/node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="2337.5,-125.4 2283.5,-125.4 2283.5,-89.4 2337.5,-89.4 2337.5,-125.4"/>
<text text-anchor="middle" x="2310.5" y="-103.9" font-family="Inconsolata" font-size="14.00" fill="#000000">true</text>
</g>
<!-- literal_40&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>literal_40&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2310.5,-441.5397C2310.5,-383.703 2310.5,-205.728 2310.5,-135.9185"/>
<polygon fill="#000000" stroke="#000000" points="2314.0001,-135.6781 2310.5,-125.6782 2307.0001,-135.6782 2314.0001,-135.6781"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="espalier/node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="2411.5,-125.4 2357.5,-125.4 2357.5,-89.4 2411.5,-89.4 2411.5,-125.4"/>
<text text-anchor="middle" x="2384.5" y="-103.9" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_41&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>raw_41&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2386.3953,-441.5397C2386.0672,-383.703 2385.0577,-205.728 2384.6618,-135.9185"/>
<polygon fill="#000000" stroke="#000000" points="2388.1604,-135.6581 2384.6037,-125.6782 2381.1606,-135.6979 2388.1604,-135.6581"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="espalier/node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="1730,-36 1665,-36 1665,0 1730,0 1730,-36"/>
<text text-anchor="middle" x="1697.5" y="-14.5" font-family="Inconsolata" font-size="14.00" fill="#000000">critera</text>
</g>
<!-- anchortext_43&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>anchortext_43&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1697.5,-89.3086C1697.5,-76.9487 1697.5,-60.3213 1697.5,-46.2316"/>
<polygon fill="#000000" stroke="#000000" points="1701.0001,-46.0645 1697.5,-36.0645 1694.0001,-46.0646 1701.0001,-46.0645"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="espalier/node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="1826,-36 1761,-36 1761,0 1826,0 1826,-36"/>
<text text-anchor="middle" x="1793.5" y="-14.5" font-family="Inconsolata" font-size="14.00" fill="#000000">httk://</text>
</g>
<!-- url_44&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>url_44&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1793.5,-89.3086C1793.5,-76.9487 1793.5,-60.3213 1793.5,-46.2316"/>
<polygon fill="#000000" stroke="#000000" points="1797.0001,-46.0645 1793.5,-36.0645 1790.0001,-46.0646 1797.0001,-46.0645"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="espalier/node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="2873,-127.3021 2430,-127.3021 2430,-87.4979 2873,-87.4979 2873,-127.3021"/>
<text text-anchor="middle" x="2651.5" y="-95.9" font-family="Inconsolata" font-size="14.00" fill="#000000">Any partial matches are added to the Codex as they are found.</text>
</g>
<!-- raw_54&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>raw_54&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2455.3037,-442.0485C2447.8071,-394.0395 2434.0128,-260.7823 2494.5,-178.8001 2510.5788,-157.0074 2534.8934,-141.7012 2559.6173,-131.0183"/>
<polygon fill="#000000" stroke="#000000" points="2561.1626,-134.1679 2569.0967,-127.1465 2558.5157,-127.6876 2561.1626,-134.1679"/>
</g>
</g>
</svg>