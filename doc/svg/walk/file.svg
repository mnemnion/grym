<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="1709pt" height="634pt"
 viewBox="0.00 0.00 1709.00 633.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 629.8005)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-629.8005 1705,-629.8005 1705,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="663" cy="-607.8005" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="663" y="-603.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 59</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="663" cy="-535.8005" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="663" y="-531.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;59</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M663,-589.6319C663,-581.9315 663,-572.7749 663,-564.2172"/>
<polygon fill="#000000" stroke="#000000" points="666.5001,-564.2138 663,-554.2138 659.5001,-564.2138 666.5001,-564.2138"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="93" cy="-463.8005" rx="36.7923" ry="18"/>
<text text-anchor="middle" x="93" y="-459.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : File</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M603.2057,-532.2242C508.8487,-525.9382 319.9008,-510.7419 162,-481.8005 153.064,-480.1627 143.5814,-477.9848 134.5998,-475.711"/>
<polygon fill="#000000" stroke="#000000" points="135.2884,-472.2734 124.728,-473.1268 133.5156,-479.0452 135.2884,-472.2734"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="203" cy="-463.8005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="203" y="-459.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M603.7106,-531.5873C523.8868,-525.0883 377.8102,-510.2771 256,-481.8005 250.5591,-480.5286 244.8885,-478.9199 239.366,-477.19"/>
<polygon fill="#000000" stroke="#000000" points="240.2599,-473.7994 229.6668,-473.9916 238.0676,-480.4473 240.2599,-473.7994"/>
</g>
<!-- codeblock_4 -->
<g id="node5" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="338" cy="-463.8005" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="338" y="-459.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 4&#45;10</text>
</g>
<!-- section_1&#45;&gt;codeblock_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;codeblock_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M614.3442,-525.0214C557.8996,-512.5168 464.6277,-491.8534 402.2609,-478.0368"/>
<polygon fill="#000000" stroke="#000000" points="402.6644,-474.5414 392.144,-475.7955 401.1502,-481.3757 402.6644,-474.5414"/>
</g>
<!-- codeblock_5 -->
<g id="node6" class="node">
<title>codeblock_5</title>
<ellipse fill="none" stroke="#000000" cx="577" cy="-463.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="577" y="-459.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 12&#45;16</text>
</g>
<!-- section_1&#45;&gt;codeblock_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;codeblock_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M642.6192,-518.7375C631.5364,-509.4589 617.6512,-497.8341 605.5109,-487.6701"/>
<polygon fill="#000000" stroke="#000000" points="607.7463,-484.9769 597.8319,-481.2412 603.2527,-490.3443 607.7463,-484.9769"/>
</g>
<!-- codeblock_6 -->
<g id="node7" class="node">
<title>codeblock_6</title>
<ellipse fill="none" stroke="#000000" cx="787" cy="-463.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="787" y="-459.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 19&#45;23</text>
</g>
<!-- section_1&#45;&gt;codeblock_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;codeblock_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M690.828,-519.6423C708.0098,-509.6658 730.2835,-496.7327 749.068,-485.8256"/>
<polygon fill="#000000" stroke="#000000" points="751.0811,-488.7039 757.9716,-480.6558 747.5662,-482.6504 751.0811,-488.7039"/>
</g>
<!-- codeblock_7 -->
<g id="node8" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="1016" cy="-463.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1016" y="-459.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 25&#45;29</text>
</g>
<!-- section_1&#45;&gt;codeblock_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;codeblock_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M713.2014,-525.5611C774.7039,-513.0167 879.1718,-491.7088 947.8829,-477.6941"/>
<polygon fill="#000000" stroke="#000000" points="948.653,-481.1092 957.7517,-475.6812 947.254,-474.2504 948.653,-481.1092"/>
</g>
<!-- codeblock_8 -->
<g id="node9" class="node">
<title>codeblock_8</title>
<ellipse fill="none" stroke="#000000" cx="1290" cy="-463.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1290" y="-459.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 31&#45;54</text>
</g>
<!-- section_1&#45;&gt;codeblock_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;codeblock_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M719.7479,-529.284C831.7183,-516.4262 1081.3542,-487.7599 1209.9802,-472.9894"/>
<polygon fill="#000000" stroke="#000000" points="1210.6235,-476.4386 1220.1589,-471.8206 1209.8249,-469.4843 1210.6235,-476.4386"/>
</g>
<!-- codeblock_9 -->
<g id="node10" class="node">
<title>codeblock_9</title>
<ellipse fill="none" stroke="#000000" cx="1559" cy="-463.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1559" y="-459.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 56&#45;59</text>
</g>
<!-- section_1&#45;&gt;codeblock_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;codeblock_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M722.6624,-531.7365C845.1668,-523.2917 1133.9127,-502.8712 1376,-481.8005 1409.4332,-478.8906 1446.2666,-475.3353 1478.07,-472.1553"/>
<polygon fill="#000000" stroke="#000000" points="1478.6081,-475.619 1488.2084,-471.1374 1477.9087,-468.654 1478.6081,-475.619"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="58,-260.9003 0,-260.9003 0,-224.9003 58,-224.9003 58,-260.9003"/>
<text text-anchor="middle" x="29" y="-239.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">* File</text>
</g>
<!-- header_2&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>header_2&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M83.2962,-446.2299C77.895,-435.873 71.395,-422.373 67,-409.8005 50.4085,-362.3384 39.1498,-304.712 33.4218,-271.0871"/>
<polygon fill="#000000" stroke="#000000" points="36.8472,-270.3484 31.7567,-261.0566 29.9417,-271.4948 36.8472,-270.3484"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="103" cy="-242.9003" rx="27" ry="18"/>
<text text-anchor="middle" x="103" y="-238.7003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_3&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M180.7101,-450.4989C166.6113,-440.9276 149.1854,-426.7465 139,-409.8005 112.8885,-366.3575 105.5977,-306.4869 103.6348,-271.5163"/>
<polygon fill="#000000" stroke="#000000" points="107.1119,-270.9228 103.1677,-261.0895 100.1189,-271.2362 107.1119,-270.9228"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="423.5,-285.4004 148.5,-285.4004 148.5,-200.4001 423.5,-200.4001 423.5,-285.4004"/>
<text text-anchor="middle" x="286" y="-270.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local Path = require &quot;walk/path&quot;</text>
<text text-anchor="middle" x="286" y="-254.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local Dir &#160;= require &quot;walk/directory&quot;</text>
<text text-anchor="middle" x="286" y="-239.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">local lfs = require &quot;lfs&quot;</text>
<text text-anchor="middle" x="286" y="-224.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path = require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="286" y="-208.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">local isfile = pl_path.isfile</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>codeblock_4&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M333.7446,-445.7233C326.1131,-413.3042 309.8321,-344.1411 298.4135,-295.6336"/>
<polygon fill="#000000" stroke="#000000" points="301.7538,-294.5487 296.0555,-285.6168 294.9401,-296.1528 301.7538,-294.5487"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="674.5,-270.1007 441.5,-270.1007 441.5,-215.6998 674.5,-215.6998 674.5,-270.1007"/>
<text text-anchor="middle" x="558" y="-254.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function __tostring(file)</text>
<text text-anchor="middle" x="558" y="-239.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return file.path.str</text>
<text text-anchor="middle" x="558" y="-224.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_5&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>codeblock_5&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M575.4452,-445.7233C572.3405,-409.6281 565.3182,-327.9835 561.1921,-280.0128"/>
<polygon fill="#000000" stroke="#000000" points="564.6775,-279.6917 560.3333,-270.0285 557.7033,-280.2916 564.6775,-279.6917"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="919,-270.1007 693,-270.1007 693,-215.6998 919,-215.6998 919,-270.1007"/>
<text text-anchor="middle" x="806" y="-254.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local File = {}</text>
<text text-anchor="middle" x="806" y="-239.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">local __Files = {}</text>
<text text-anchor="middle" x="806" y="-224.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">File.it = require &quot;core/check&quot;</text>
</g>
<!-- codeblock_6&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>codeblock_6&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M788.5548,-445.7233C791.6595,-409.6281 798.6818,-327.9835 802.8079,-280.0128"/>
<polygon fill="#000000" stroke="#000000" points="806.2967,-280.2916 803.6667,-270.0285 799.3225,-279.6917 806.2967,-280.2916"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1170.5,-270.1007 937.5,-270.1007 937.5,-215.6998 1170.5,-215.6998 1170.5,-270.1007"/>
<text text-anchor="middle" x="1054" y="-254.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">function File.exists(file)</text>
<text text-anchor="middle" x="1054" y="-239.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return isfile(file.path.str)</text>
<text text-anchor="middle" x="1054" y="-224.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>codeblock_7&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1019.1097,-445.7233C1025.3189,-409.6281 1039.3637,-327.9835 1047.6158,-280.0128"/>
<polygon fill="#000000" stroke="#000000" points="1051.0872,-280.4771 1049.3333,-270.0285 1044.1886,-279.2903 1051.0872,-280.4771"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="1555,-409.7009 1189,-409.7009 1189,-76.0997 1555,-76.0997 1555,-409.7009"/>
<text text-anchor="middle" x="1372" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">local FileMeta = { __index = File,</text>
<text text-anchor="middle" x="1372" y="-363.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;__tostring = __tostring}</text>
<text text-anchor="middle" x="1372" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(file_path)</text>
<text text-anchor="middle" x="1372" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;file_str = tostring(file_path)</text>
<text text-anchor="middle" x="1372" y="-301.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if __Files[file_str] then</text>
<text text-anchor="middle" x="1372" y="-285.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return nil, &quot;won&#39;t make the same file twice&quot;</text>
<text text-anchor="middle" x="1372" y="-270.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1372" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local file = setmetatable({}, FileMeta)</text>
<text text-anchor="middle" x="1372" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(file_path) == &quot;string&quot; then</text>
<text text-anchor="middle" x="1372" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;file.path = Path(file_path)</text>
<text text-anchor="middle" x="1372" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif file_path.idEst == Path</text>
<text text-anchor="middle" x="1372" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;and not file_path.isDir then</text>
<text text-anchor="middle" x="1372" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;file.path = file_path</text>
<text text-anchor="middle" x="1372" y="-146.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1372" y="-131.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;__Files[file_str] = true</text>
<text text-anchor="middle" x="1372" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return file</text>
<text text-anchor="middle" x="1372" y="-84.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_8&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>codeblock_8&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1296.7104,-445.7233C1299.3754,-438.5442 1302.7092,-429.5632 1306.4805,-419.4037"/>
<polygon fill="#000000" stroke="#000000" points="1309.8614,-420.353 1310.0603,-409.76 1303.2989,-417.9169 1309.8614,-420.353"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1701,-262.2008 1573,-262.2008 1573,-223.5997 1701,-223.5997 1701,-262.2008"/>
<text text-anchor="middle" x="1637" y="-247.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">File.idEst = new</text>
<text text-anchor="middle" x="1637" y="-231.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_9&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>codeblock_9&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1565.3831,-445.7233C1578.8741,-407.5161 1610.3857,-318.2734 1626.741,-271.9542"/>
<polygon fill="#000000" stroke="#000000" points="1630.0541,-273.0833 1630.0834,-262.4885 1623.4535,-270.7526 1630.0541,-273.0833"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="130,-40 76,-40 76,0 130,0 130,-40"/>
</g>
<!-- raw_11&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M103,-224.6594C103,-186.3644 103,-97.259 103,-50.2615"/>
<polygon fill="#000000" stroke="#000000" points="106.5001,-50.0893 103,-40.0893 99.5001,-50.0893 106.5001,-50.0893"/>
</g>
</g>
</svg>