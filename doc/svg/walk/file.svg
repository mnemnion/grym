<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="2986pt" height="618pt"
 viewBox="0.00 0.00 2986.00 617.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 613.8005)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-613.8005 2982,-613.8005 2982,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1221" cy="-591.8005" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="1221" y="-587.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 91</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1221" cy="-519.8005" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1221" y="-515.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;91</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1221,-573.6319C1221,-565.9315 1221,-556.7749 1221,-548.2172"/>
<polygon fill="#000000" stroke="#000000" points="1224.5001,-548.2138 1221,-538.2138 1217.5001,-548.2138 1224.5001,-548.2138"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="81" cy="-447.8005" rx="36.7923" ry="18"/>
<text text-anchor="middle" x="81" y="-443.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : File</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1160.2789,-517.9082C966.1597,-511.6664 362.0464,-490.7016 168,-465.8005 153.4735,-463.9364 137.7541,-460.9788 123.7251,-457.9953"/>
<polygon fill="#000000" stroke="#000000" points="124.367,-454.553 113.8499,-455.8336 122.8701,-461.3911 124.367,-454.553"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="209" cy="-447.8005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="209" y="-443.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1160.4023,-518.1833C979.0169,-513.0543 442.3035,-495.7023 270,-465.8005 262.2843,-464.4615 254.162,-462.4829 246.4504,-460.3219"/>
<polygon fill="#000000" stroke="#000000" points="247.2003,-456.8939 236.6182,-457.4144 245.2152,-463.6065 247.2003,-456.8939"/>
</g>
<!-- codeblock_4 -->
<g id="node5" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="352" cy="-447.8005" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="352" y="-443.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 4&#45;12</text>
</g>
<!-- section_1&#45;&gt;codeblock_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;codeblock_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1160.5667,-517.2647C1032.1714,-511.486 722.8467,-495.4893 465,-465.8005 450.9457,-464.1823 435.9662,-462.0715 421.6638,-459.8673"/>
<polygon fill="#000000" stroke="#000000" points="421.8144,-456.348 411.392,-458.2516 420.7266,-463.263 421.8144,-456.348"/>
</g>
<!-- codeblock_5 -->
<g id="node6" class="node">
<title>codeblock_5</title>
<ellipse fill="none" stroke="#000000" cx="551" cy="-447.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="551" y="-443.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 14&#45;16</text>
</g>
<!-- section_1&#45;&gt;codeblock_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;codeblock_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1162.4334,-514.8541C1062.5107,-506.2233 852.7405,-487.2711 676,-465.8005 659.7781,-463.8299 642.4067,-461.481 625.93,-459.1411"/>
<polygon fill="#000000" stroke="#000000" points="626.2006,-455.6442 615.8049,-457.6889 625.2067,-462.5733 626.2006,-455.6442"/>
</g>
<!-- codeblock_6 -->
<g id="node7" class="node">
<title>codeblock_6</title>
<ellipse fill="none" stroke="#000000" cx="762" cy="-447.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="762" y="-443.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 18&#45;22</text>
</g>
<!-- section_1&#45;&gt;codeblock_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;codeblock_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1166.9971,-511.3295C1085.1101,-498.4845 929.2838,-474.0411 836.619,-459.5055"/>
<polygon fill="#000000" stroke="#000000" points="836.8929,-456.0057 826.4713,-457.9137 835.808,-462.9211 836.8929,-456.0057"/>
</g>
<!-- codeblock_7 -->
<g id="node8" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="1010" cy="-447.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1010" y="-443.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 25&#45;29</text>
</g>
<!-- section_1&#45;&gt;codeblock_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;codeblock_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1180.8159,-506.0884C1147.4484,-494.7024 1099.7097,-478.4124 1063.1781,-465.9466"/>
<polygon fill="#000000" stroke="#000000" points="1064.2658,-462.6197 1053.6713,-462.7026 1062.0052,-469.2446 1064.2658,-462.6197"/>
</g>
<!-- codeblock_8 -->
<g id="node9" class="node">
<title>codeblock_8</title>
<ellipse fill="none" stroke="#000000" cx="1221" cy="-447.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1221" y="-443.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 31&#45;35</text>
</g>
<!-- section_1&#45;&gt;codeblock_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;codeblock_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1221,-501.6319C1221,-493.9315 1221,-484.7749 1221,-476.2172"/>
<polygon fill="#000000" stroke="#000000" points="1224.5001,-476.2138 1221,-466.2138 1217.5001,-476.2138 1224.5001,-476.2138"/>
</g>
<!-- codeblock_9 -->
<g id="node10" class="node">
<title>codeblock_9</title>
<ellipse fill="none" stroke="#000000" cx="1433" cy="-447.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1433" y="-443.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 37&#45;41</text>
</g>
<!-- section_1&#45;&gt;codeblock_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;codeblock_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1261.3746,-506.0884C1294.9002,-494.7024 1342.8652,-478.4124 1379.5698,-465.9466"/>
<polygon fill="#000000" stroke="#000000" points="1380.7784,-469.2326 1389.1217,-462.7026 1378.5273,-462.6044 1380.7784,-469.2326"/>
</g>
<!-- codeblock_10 -->
<g id="node11" class="node">
<title>codeblock_10</title>
<ellipse fill="none" stroke="#000000" cx="1670" cy="-447.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1670" y="-443.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 43&#45;47</text>
</g>
<!-- section_1&#45;&gt;codeblock_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;codeblock_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1274.7139,-511.1872C1354.8107,-498.3431 1505.7888,-474.1328 1596.1955,-459.6356"/>
<polygon fill="#000000" stroke="#000000" points="1596.7808,-463.0865 1606.1005,-458.0472 1595.6725,-456.1748 1596.7808,-463.0865"/>
</g>
<!-- codeblock_11 -->
<g id="node12" class="node">
<title>codeblock_11</title>
<ellipse fill="none" stroke="#000000" cx="1916" cy="-447.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1916" y="-443.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 49&#45;53</text>
</g>
<!-- section_1&#45;&gt;codeblock_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;codeblock_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1278.8157,-514.1836C1376.9585,-504.5997 1582.4138,-484.3246 1756,-465.8005 1782.1329,-463.0118 1810.6517,-459.8436 1836.279,-456.9508"/>
<polygon fill="#000000" stroke="#000000" points="1836.7763,-460.4169 1846.3194,-455.8148 1835.9893,-453.4613 1836.7763,-460.4169"/>
</g>
<!-- codeblock_12 -->
<g id="node13" class="node">
<title>codeblock_12</title>
<ellipse fill="none" stroke="#000000" cx="2185" cy="-447.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2185" y="-443.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 57&#45;61</text>
</g>
<!-- section_1&#45;&gt;codeblock_12 -->
<g id="edge12" class="edge">
<title>section_1&#45;&gt;codeblock_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1280.8135,-516.2586C1411.6671,-508.3796 1733.1516,-488.3122 2002,-465.8005 2035.4426,-463.0003 2072.2776,-459.4646 2104.0798,-456.2696"/>
<polygon fill="#000000" stroke="#000000" points="2104.62,-459.733 2114.2176,-455.2456 2103.9165,-452.7684 2104.62,-459.733"/>
</g>
<!-- codeblock_13 -->
<g id="node14" class="node">
<title>codeblock_13</title>
<ellipse fill="none" stroke="#000000" cx="2503" cy="-447.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2503" y="-443.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 64&#45;86</text>
</g>
<!-- section_1&#45;&gt;codeblock_13 -->
<g id="edge13" class="edge">
<title>section_1&#45;&gt;codeblock_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1281.4001,-517.2456C1442.3339,-510.3185 1894.8518,-490.0607 2271,-465.8005 2320.4637,-462.6103 2375.8047,-458.3434 2420.0276,-454.7647"/>
<polygon fill="#000000" stroke="#000000" points="2420.4679,-458.2406 2430.1514,-453.9418 2419.9007,-451.2636 2420.4679,-458.2406"/>
</g>
<!-- codeblock_14 -->
<g id="node15" class="node">
<title>codeblock_14</title>
<ellipse fill="none" stroke="#000000" cx="2795" cy="-447.8005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2795" y="-443.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 88&#45;91</text>
</g>
<!-- section_1&#45;&gt;codeblock_14 -->
<g id="edge14" class="edge">
<title>section_1&#45;&gt;codeblock_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1281.7322,-518.4367C1473.6677,-513.905 2084.3382,-497.791 2589,-465.8005 2629.9366,-463.2056 2675.367,-459.3413 2713.1253,-455.8578"/>
<polygon fill="#000000" stroke="#000000" points="2713.9288,-459.2982 2723.5615,-454.8867 2713.2802,-452.3283 2713.9288,-459.2982"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="58,-252.9003 0,-252.9003 0,-216.9003 58,-216.9003 58,-252.9003"/>
<text text-anchor="middle" x="29" y="-231.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">* File</text>
</g>
<!-- header_2&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>header_2&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M76.248,-429.8222C73.4973,-419.3295 69.9973,-405.8295 67,-393.8005 55.601,-348.0541 42.9853,-294.7275 35.538,-262.9478"/>
<polygon fill="#000000" stroke="#000000" points="38.9058,-261.9782 33.2197,-253.0385 32.0898,-263.5729 38.9058,-261.9782"/>
</g>
<!-- raw_16 -->
<g id="node17" class="node">
<title>raw_16</title>
<ellipse fill="none" stroke="#000000" cx="103" cy="-234.9003" rx="27" ry="18"/>
<text text-anchor="middle" x="103" y="-230.7003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_16 -->
<g id="edge16" class="edge">
<title>prose_3&#45;&gt;raw_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M185.3588,-435.337C169.8496,-425.9499 150.3989,-411.6528 139,-393.8005 113.1764,-353.3573 105.7691,-296.7384 103.7102,-263.1411"/>
<polygon fill="#000000" stroke="#000000" points="107.2029,-262.9063 103.2131,-253.0915 100.2115,-263.2522 107.2029,-262.9063"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="493.5,-292.7007 148.5,-292.7007 148.5,-177.0999 493.5,-177.0999 493.5,-292.7007"/>
<text text-anchor="middle" x="321" y="-277.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">local Path = require &quot;walk/path&quot;</text>
<text text-anchor="middle" x="321" y="-262.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local lfs = require &quot;lfs&quot;</text>
<text text-anchor="middle" x="321" y="-246.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path = require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="321" y="-231.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_file = require &quot;pl.file&quot;</text>
<text text-anchor="middle" x="321" y="-216.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">local read, write = pl_file.read, pl_file.write</text>
<text text-anchor="middle" x="321" y="-200.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">local extension = pl_path.extension</text>
<text text-anchor="middle" x="321" y="-185.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local isfile = pl_path.isfile</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>codeblock_4&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M349.357,-429.6488C345.309,-401.8483 337.3646,-347.2882 330.912,-302.9731"/>
<polygon fill="#000000" stroke="#000000" points="334.3382,-302.2126 329.4338,-292.8213 327.4113,-303.2213 334.3382,-302.2126"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="590.5,-252.9003 511.5,-252.9003 511.5,-216.9003 590.5,-216.9003 590.5,-252.9003"/>
<text text-anchor="middle" x="551" y="-231.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">local new</text>
</g>
<!-- codeblock_5&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>codeblock_5&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M551,-429.6488C551,-392.4898 551,-307.5227 551,-263.1141"/>
<polygon fill="#000000" stroke="#000000" points="554.5001,-263.006 551,-253.0061 547.5001,-263.0061 554.5001,-263.006"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="841.5,-262.1007 608.5,-262.1007 608.5,-207.6998 841.5,-207.6998 841.5,-262.1007"/>
<text text-anchor="middle" x="725" y="-246.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function __tostring(file)</text>
<text text-anchor="middle" x="725" y="-231.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return file.path.str</text>
<text text-anchor="middle" x="725" y="-216.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_6&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>codeblock_6&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M758.8454,-429.6488C752.8015,-394.8717 739.48,-318.2193 731.4703,-272.1308"/>
<polygon fill="#000000" stroke="#000000" points="734.9102,-271.4826 729.7496,-262.2295 728.0136,-272.6812 734.9102,-271.4826"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1086,-262.1007 860,-262.1007 860,-207.6998 1086,-207.6998 1086,-262.1007"/>
<text text-anchor="middle" x="973" y="-246.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local File = {}</text>
<text text-anchor="middle" x="973" y="-231.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">local __Files = {}</text>
<text text-anchor="middle" x="973" y="-216.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">File.it = require &quot;core/check&quot;</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>codeblock_7&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1006.8454,-429.6488C1000.8015,-394.8717 987.48,-318.2193 979.4703,-272.1308"/>
<polygon fill="#000000" stroke="#000000" points="982.9102,-271.4826 977.7496,-262.2295 976.0136,-272.6812 982.9102,-271.4826"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1337.5,-262.1007 1104.5,-262.1007 1104.5,-207.6998 1337.5,-207.6998 1337.5,-262.1007"/>
<text text-anchor="middle" x="1221" y="-246.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">function File.parentPath(file)</text>
<text text-anchor="middle" x="1221" y="-231.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return file.path:parentDir()</text>
<text text-anchor="middle" x="1221" y="-216.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_8&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>codeblock_8&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1221,-429.6488C1221,-394.9448 1221,-318.5412 1221,-272.4217"/>
<polygon fill="#000000" stroke="#000000" points="1224.5001,-272.2295 1221,-262.2295 1217.5001,-272.2296 1224.5001,-272.2295"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1588.5,-262.1007 1355.5,-262.1007 1355.5,-207.6998 1588.5,-207.6998 1588.5,-262.1007"/>
<text text-anchor="middle" x="1472" y="-246.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">function File.exists(file)</text>
<text text-anchor="middle" x="1472" y="-231.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return isfile(file.path.str)</text>
<text text-anchor="middle" x="1472" y="-216.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_9&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>codeblock_9&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1436.3251,-429.6488C1442.6957,-394.8717 1456.7373,-318.2193 1465.1799,-272.1308"/>
<polygon fill="#000000" stroke="#000000" points="1468.6345,-272.6965 1466.9937,-262.2295 1461.749,-271.4352 1468.6345,-272.6965"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1861,-262.1007 1607,-262.1007 1607,-207.6998 1861,-207.6998 1861,-262.1007"/>
<text text-anchor="middle" x="1734" y="-246.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">function File.extension(file)</text>
<text text-anchor="middle" x="1734" y="-231.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return extension(file.path.str)</text>
<text text-anchor="middle" x="1734" y="-216.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_10&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>codeblock_10&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1675.4566,-429.6488C1685.9329,-394.7987 1709.0503,-317.8971 1722.8953,-271.8407"/>
<polygon fill="#000000" stroke="#000000" points="1726.2575,-272.8138 1725.7845,-262.2295 1719.5538,-270.7986 1726.2575,-272.8138"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="2098.5,-262.1007 1879.5,-262.1007 1879.5,-207.6998 2098.5,-207.6998 2098.5,-262.1007"/>
<text text-anchor="middle" x="1989" y="-246.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">function File.read(file)</text>
<text text-anchor="middle" x="1989" y="-231.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return read(file.path.str)</text>
<text text-anchor="middle" x="1989" y="-216.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_11&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>codeblock_11&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1922.2239,-429.6488C1934.1735,-394.7987 1960.5418,-317.8971 1976.3337,-271.8407"/>
<polygon fill="#000000" stroke="#000000" points="1979.6965,-272.8242 1979.6292,-262.2295 1973.0749,-270.5537 1979.6965,-272.8242"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="2447.5,-262.1007 2116.5,-262.1007 2116.5,-207.6998 2447.5,-207.6998 2447.5,-262.1007"/>
<text text-anchor="middle" x="2282" y="-246.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">function File.write(file, doc)</text>
<text text-anchor="middle" x="2282" y="-231.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return write(file.path.str, tostring(doc))</text>
<text text-anchor="middle" x="2282" y="-216.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_12&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>codeblock_12&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2193.2702,-429.6488C2209.1816,-394.7256 2244.3326,-317.5744 2265.3013,-271.5515"/>
<polygon fill="#000000" stroke="#000000" points="2268.5873,-272.7807 2269.5484,-262.2295 2262.2173,-269.8784 2268.5873,-272.7807"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="2832,-393.7009 2466,-393.7009 2466,-76.0997 2832,-76.0997 2832,-393.7009"/>
<text text-anchor="middle" x="2649" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">local FileMeta = { __index = File,</text>
<text text-anchor="middle" x="2649" y="-363.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;__tostring = __tostring}</text>
<text text-anchor="middle" x="2649" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">new = function (file_path)</text>
<text text-anchor="middle" x="2649" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;file_str = tostring(file_path)</text>
<text text-anchor="middle" x="2649" y="-301.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if __Files[file_str] then</text>
<text text-anchor="middle" x="2649" y="-285.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return nil, &quot;won&#39;t make the same file twice&quot;</text>
<text text-anchor="middle" x="2649" y="-270.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="2649" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local file = setmetatable({}, FileMeta)</text>
<text text-anchor="middle" x="2649" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(file_path) == &quot;string&quot; then</text>
<text text-anchor="middle" x="2649" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;file.path = Path(file_path)</text>
<text text-anchor="middle" x="2649" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elseif file_path.idEst == Path</text>
<text text-anchor="middle" x="2649" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;and not file_path.isDir then</text>
<text text-anchor="middle" x="2649" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;file.path = file_path</text>
<text text-anchor="middle" x="2649" y="-146.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="2649" y="-131.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;__Files[file_str] = true</text>
<text text-anchor="middle" x="2649" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return file</text>
<text text-anchor="middle" x="2649" y="-84.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_13&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>codeblock_13&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2515.1968,-430.015C2520.3304,-422.529 2526.8259,-413.0571 2534.1748,-402.3408"/>
<polygon fill="#000000" stroke="#000000" points="2537.1834,-404.1422 2539.9525,-393.9156 2531.4104,-400.1832 2537.1834,-404.1422"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="2978,-254.2008 2850,-254.2008 2850,-215.5997 2978,-215.5997 2978,-254.2008"/>
<text text-anchor="middle" x="2914" y="-239.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">File.idEst = new</text>
<text text-anchor="middle" x="2914" y="-223.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_14&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>codeblock_14&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2812.5243,-429.8024C2821.7343,-419.7445 2832.7836,-406.6728 2841,-393.8005 2868.2373,-351.1292 2890.964,-296.6292 2903.5,-263.8147"/>
<polygon fill="#000000" stroke="#000000" points="2906.81,-264.9562 2907.057,-254.3642 2900.2587,-262.4903 2906.81,-264.9562"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="130,-40 76,-40 76,0 130,0 130,-40"/>
</g>
<!-- raw_16&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>raw_16&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M103,-216.578C103,-179.5544 103,-95.5124 103,-50.2363"/>
<polygon fill="#000000" stroke="#000000" points="106.5001,-50.1388 103,-40.1388 99.5001,-50.1388 106.5001,-50.1388"/>
</g>
</g>
</svg>