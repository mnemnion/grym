<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="9822pt" height="1429pt"
 viewBox="0.00 0.00 9821.50 1429.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1425.2018)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1425.2018 9817.5,-1425.2018 9817.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="2735" cy="-1403.2018" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="2735" y="-1399.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 245</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="2735" cy="-1331.2018" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2735" y="-1327.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;212</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2735,-1385.0332C2735,-1377.3328 2735,-1368.1762 2735,-1359.6184"/>
<polygon fill="#000000" stroke="#000000" points="2738.5001,-1359.615 2735,-1349.6151 2731.5001,-1359.6151 2738.5001,-1359.615"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="726" cy="-1259.2018" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="726" y="-1255.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : loader</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2669.1395,-1330.2126C2380.3331,-1325.7347 1224.1612,-1306.3116 862,-1277.2018 834.7704,-1275.0131 804.6403,-1271.1724 779.6748,-1267.5994"/>
<polygon fill="#000000" stroke="#000000" points="780.0709,-1264.1202 769.6709,-1266.1428 779.0622,-1271.0472 780.0709,-1264.1202"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="903" cy="-1259.2018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="903" y="-1255.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2669.2093,-1330.8263C2392.1656,-1328.9902 1319.3465,-1319.2544 984,-1277.2018 970.2179,-1275.4735 955.3268,-1272.4936 942.1173,-1269.4501"/>
<polygon fill="#000000" stroke="#000000" points="942.9292,-1266.0456 932.39,-1267.13 941.3051,-1272.8546 942.9292,-1266.0456"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1025" cy="-1259.2018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1025" y="-1255.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2670.0541,-1328.4672C2390.9576,-1316.7158 1297.2146,-1270.6635 1067.4806,-1260.9905"/>
<polygon fill="#000000" stroke="#000000" points="1067.3391,-1257.4815 1057.2007,-1260.5576 1067.0446,-1264.4753 1067.3391,-1257.4815"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="2438" cy="-1259.2018" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2438" y="-1255.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 10&#45;30</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2685.6231,-1319.2317C2633.9139,-1306.6961 2552.6948,-1287.0066 2497.4877,-1273.6231"/>
<polygon fill="#000000" stroke="#000000" points="2498.0381,-1270.1552 2487.495,-1271.2006 2496.3888,-1276.9581 2498.0381,-1270.1552"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="3041" cy="-1259.2018" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3041" y="-1255.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 31&#45;80</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2784.8452,-1319.4735C2838.4449,-1306.8618 2923.6602,-1286.8112 2980.9227,-1273.3376"/>
<polygon fill="#000000" stroke="#000000" points="2981.9894,-1276.6823 2990.9219,-1270.9849 2980.386,-1269.8684 2981.9894,-1276.6823"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="5562" cy="-1259.2018" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5562" y="-1255.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 126&#45;161</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2800.7186,-1329.528C3176.634,-1319.954 5052.4867,-1272.1784 5476.6553,-1261.3754"/>
<polygon fill="#000000" stroke="#000000" points="5476.7942,-1264.8731 5486.7018,-1261.1196 5476.6159,-1257.8754 5476.7942,-1264.8731"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="7507" cy="-1259.2018" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7507" y="-1255.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 178&#45;199</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2800.6425,-1330.2114C3324.8141,-1322.3027 6826.4906,-1269.4693 7421.2262,-1260.496"/>
<polygon fill="#000000" stroke="#000000" points="7421.492,-1263.9925 7431.438,-1260.3419 7421.3863,-1256.9932 7421.492,-1263.9925"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="9223" cy="-1259.2018" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9223" y="-1255.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 213&#45;245</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2800.7959,-1330.4716C3432.8136,-1323.4579 8420.5928,-1268.1065 9137.3314,-1260.1525"/>
<polygon fill="#000000" stroke="#000000" points="9137.612,-1263.6497 9147.5725,-1260.0389 9137.5343,-1256.6501 9137.612,-1263.6497"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="721,-1205.2018 649,-1205.2018 649,-1169.2018 721,-1169.2018 721,-1205.2018"/>
<text text-anchor="middle" x="685" y="-1183.7018" font-family="Inconsolata" font-size="14.00" fill="#000000">* loader</text>
</g>
<!-- header_2&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>header_2&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M715.8652,-1241.4041C711.1699,-1233.1587 705.4902,-1223.1846 700.2897,-1214.0519"/>
<polygon fill="#000000" stroke="#000000" points="703.2929,-1212.2528 695.303,-1205.2949 697.21,-1215.7167 703.2929,-1212.2528"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="766" cy="-1187.2018" rx="27" ry="18"/>
<text text-anchor="middle" x="766" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_3&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M879.4489,-1246.8246C856.5196,-1234.7742 821.5601,-1216.4013 796.5117,-1203.2372"/>
<polygon fill="#000000" stroke="#000000" points="797.923,-1200.025 787.4427,-1198.471 794.6664,-1206.2214 797.923,-1200.025"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="838" cy="-1187.2018" rx="27" ry="18"/>
<text text-anchor="middle" x="838" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_4&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M996.7815,-1250.239C966.1521,-1240.2504 915.9919,-1223.1315 874,-1205.2018 872.2167,-1204.4404 870.3969,-1203.6325 868.5697,-1202.7972"/>
<polygon fill="#000000" stroke="#000000" points="870.0375,-1199.6196 859.504,-1198.4804 867.028,-1205.9397 870.0375,-1199.6196"/>
</g>
<!-- prespace_14 -->
<g id="node15" class="node">
<title>prespace_14</title>
<ellipse fill="none" stroke="#000000" cx="929" cy="-1187.2018" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="929" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_4&#45;&gt;prespace_14 -->
<g id="edge14" class="edge">
<title>prose_4&#45;&gt;prespace_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1005.573,-1244.6315C992.0746,-1234.5077 973.8362,-1220.829 958.5453,-1209.3608"/>
<polygon fill="#000000" stroke="#000000" points="960.5024,-1206.4536 950.4024,-1203.2536 956.3024,-1212.0537 960.5024,-1206.4536"/>
</g>
<!-- literal_15 -->
<g id="node16" class="node">
<title>literal_15</title>
<ellipse fill="none" stroke="#000000" cx="1025" cy="-1187.2018" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1025" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_4&#45;&gt;literal_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;literal_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1025,-1241.0332C1025,-1233.3328 1025,-1224.1762 1025,-1215.6184"/>
<polygon fill="#000000" stroke="#000000" points="1028.5001,-1215.615 1025,-1205.6151 1021.5001,-1215.6151 1028.5001,-1215.615"/>
</g>
<!-- raw_16 -->
<g id="node17" class="node">
<title>raw_16</title>
<ellipse fill="none" stroke="#000000" cx="1237" cy="-1187.2018" rx="27" ry="18"/>
<text text-anchor="middle" x="1237" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_16 -->
<g id="edge16" class="edge">
<title>prose_4&#45;&gt;raw_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1052.7153,-1249.7891C1091.3907,-1236.654 1161.4808,-1212.8498 1203.1816,-1198.6873"/>
<polygon fill="#000000" stroke="#000000" points="1204.5408,-1201.9221 1212.8841,-1195.3921 1202.2897,-1195.2939 1204.5408,-1201.9221"/>
</g>
<!-- header_21 -->
<g id="node22" class="node">
<title>header_21</title>
<ellipse fill="none" stroke="#000000" cx="1813" cy="-1187.2018" rx="51.2759" ry="18"/>
<text text-anchor="middle" x="1813" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : imports</text>
</g>
<!-- section_5&#45;&gt;header_21 -->
<g id="edge21" class="edge">
<title>section_5&#45;&gt;header_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2377.2197,-1252.1999C2257.0981,-1238.3619 1990.6803,-1207.6706 1872.0111,-1193.9999"/>
<polygon fill="#000000" stroke="#000000" points="1872.3537,-1190.5163 1862.0188,-1192.8488 1871.5525,-1197.4703 1872.3537,-1190.5163"/>
</g>
<!-- prose_22 -->
<g id="node23" class="node">
<title>prose_22</title>
<ellipse fill="none" stroke="#000000" cx="2041" cy="-1187.2018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2041" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_22 -->
<g id="edge22" class="edge">
<title>section_5&#45;&gt;prose_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2383.2157,-1249.2661C2302.5255,-1234.6321 2153.5466,-1207.6133 2081.7642,-1194.5948"/>
<polygon fill="#000000" stroke="#000000" points="2082.2149,-1191.1195 2071.7508,-1192.7788 2080.9657,-1198.0072 2082.2149,-1191.1195"/>
</g>
<!-- codeblock_23 -->
<g id="node24" class="node">
<title>codeblock_23</title>
<ellipse fill="none" stroke="#000000" cx="2438" cy="-1187.2018" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2438" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 17&#45;24</text>
</g>
<!-- section_5&#45;&gt;codeblock_23 -->
<g id="edge23" class="edge">
<title>section_5&#45;&gt;codeblock_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2438,-1241.0332C2438,-1233.3328 2438,-1224.1762 2438,-1215.6184"/>
<polygon fill="#000000" stroke="#000000" points="2441.5001,-1215.615 2438,-1205.6151 2434.5001,-1215.6151 2441.5001,-1215.615"/>
</g>
<!-- codeblock_24 -->
<g id="node25" class="node">
<title>codeblock_24</title>
<ellipse fill="none" stroke="#000000" cx="2635" cy="-1187.2018" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2635" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 26&#45;28</text>
</g>
<!-- section_5&#45;&gt;codeblock_24 -->
<g id="edge24" class="edge">
<title>section_5&#45;&gt;codeblock_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2477.8659,-1244.6315C2508.3598,-1233.4866 2550.6416,-1218.0333 2583.665,-1205.9638"/>
<polygon fill="#000000" stroke="#000000" points="2584.9627,-1209.2161 2593.1536,-1202.4959 2582.5597,-1202.6414 2584.9627,-1209.2161"/>
</g>
<!-- header_42 -->
<g id="node43" class="node">
<title>header_42</title>
<ellipse fill="none" stroke="#000000" cx="2929" cy="-1187.2018" rx="61.3032" ry="18"/>
<text text-anchor="middle" x="2929" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : SQL code</text>
</g>
<!-- section_6&#45;&gt;header_42 -->
<g id="edge42" class="edge">
<title>section_6&#45;&gt;header_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3015.0234,-1242.5026C2999.7567,-1232.6883 2980.2634,-1220.1568 2963.6944,-1209.5053"/>
<polygon fill="#000000" stroke="#000000" points="2965.1402,-1206.274 2954.8357,-1203.8105 2961.3548,-1212.1622 2965.1402,-1206.274"/>
</g>
<!-- prose_43 -->
<g id="node44" class="node">
<title>prose_43</title>
<ellipse fill="none" stroke="#000000" cx="3041" cy="-1187.2018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3041" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_43 -->
<g id="edge43" class="edge">
<title>section_6&#45;&gt;prose_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3041,-1241.0332C3041,-1233.3328 3041,-1224.1762 3041,-1215.6184"/>
<polygon fill="#000000" stroke="#000000" points="3044.5001,-1215.615 3041,-1205.6151 3037.5001,-1215.6151 3044.5001,-1215.615"/>
</g>
<!-- section_44 -->
<g id="node45" class="node">
<title>section_44</title>
<ellipse fill="none" stroke="#000000" cx="3323" cy="-1187.2018" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3323" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 36&#45;80</text>
</g>
<!-- section_6&#45;&gt;section_44 -->
<g id="edge44" class="edge">
<title>section_6&#45;&gt;section_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3089.1571,-1246.9064C3137.7784,-1234.4924 3212.9141,-1215.3089 3264.8336,-1202.0528"/>
<polygon fill="#000000" stroke="#000000" points="3265.7461,-1205.4322 3274.5695,-1199.5671 3264.0144,-1198.6497 3265.7461,-1205.4322"/>
</g>
<!-- section_45 -->
<g id="node46" class="node">
<title>section_45</title>
<ellipse fill="none" stroke="#000000" cx="4037" cy="-1187.2018" rx="70.655" ry="18"/>
<text text-anchor="middle" x="4037" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 81&#45;125</text>
</g>
<!-- section_6&#45;&gt;section_45 -->
<g id="edge45" class="edge">
<title>section_6&#45;&gt;section_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3104.8194,-1254.5884C3279.8864,-1241.9329 3767.3253,-1206.6964 3958.5691,-1192.8715"/>
<polygon fill="#000000" stroke="#000000" points="3959.0989,-1196.3424 3968.8204,-1192.1305 3958.5941,-1189.3607 3959.0989,-1196.3424"/>
</g>
<!-- header_63 -->
<g id="node64" class="node">
<title>header_63</title>
<ellipse fill="none" stroke="#000000" cx="5145" cy="-1187.2018" rx="110.9288" ry="18"/>
<text text-anchor="middle" x="5145" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Environment Variables</text>
</g>
<!-- section_7&#45;&gt;header_63 -->
<g id="edge63" class="edge">
<title>section_7&#45;&gt;header_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5500.4702,-1248.578C5429.2084,-1236.2738 5311.3425,-1215.9228 5231.0309,-1202.0561"/>
<polygon fill="#000000" stroke="#000000" points="5231.3885,-1198.5661 5220.9388,-1200.3135 5230.1975,-1205.464 5231.3885,-1198.5661"/>
</g>
<!-- prose_64 -->
<g id="node65" class="node">
<title>prose_64</title>
<ellipse fill="none" stroke="#000000" cx="5562" cy="-1187.2018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5562" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_64 -->
<g id="edge64" class="edge">
<title>section_7&#45;&gt;prose_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5562,-1241.0332C5562,-1233.3328 5562,-1224.1762 5562,-1215.6184"/>
<polygon fill="#000000" stroke="#000000" points="5565.5001,-1215.615 5562,-1205.6151 5558.5001,-1215.6151 5565.5001,-1215.615"/>
</g>
<!-- codeblock_65 -->
<g id="node66" class="node">
<title>codeblock_65</title>
<ellipse fill="none" stroke="#000000" cx="6046" cy="-1187.2018" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6046" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 134&#45;159</text>
</g>
<!-- section_7&#45;&gt;codeblock_65 -->
<g id="edge65" class="edge">
<title>section_7&#45;&gt;codeblock_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5626.2715,-1249.6408C5713.6038,-1236.6492 5869.7592,-1213.4194 5965.0061,-1199.2505"/>
<polygon fill="#000000" stroke="#000000" points="5965.7926,-1202.6721 5975.1688,-1197.7387 5964.7626,-1195.7483 5965.7926,-1202.6721"/>
</g>
<!-- section_66 -->
<g id="node67" class="node">
<title>section_66</title>
<ellipse fill="none" stroke="#000000" cx="6843" cy="-1187.2018" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6843" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 162&#45;177</text>
</g>
<!-- section_7&#45;&gt;section_66 -->
<g id="edge66" class="edge">
<title>section_7&#45;&gt;section_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5635.9404,-1255.0459C5858.9351,-1242.5122 6523.9237,-1205.1358 6759.2953,-1191.9065"/>
<polygon fill="#000000" stroke="#000000" points="6759.717,-1195.3884 6769.5048,-1191.3327 6759.3241,-1188.3995 6759.717,-1195.3884"/>
</g>
<!-- header_103 -->
<g id="node104" class="node">
<title>header_103</title>
<ellipse fill="none" stroke="#000000" cx="7295" cy="-1187.2018" rx="74.5312" ry="18"/>
<text text-anchor="middle" x="7295" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.load()</text>
</g>
<!-- section_8&#45;&gt;header_103 -->
<g id="edge103" class="edge">
<title>section_8&#45;&gt;header_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7463.5871,-1244.4578C7430.1469,-1233.1008 7383.7595,-1217.3465 7348.1065,-1205.238"/>
<polygon fill="#000000" stroke="#000000" points="7348.9493,-1201.8279 7338.3549,-1201.9261 7346.6981,-1208.4561 7348.9493,-1201.8279"/>
</g>
<!-- prose_104 -->
<g id="node105" class="node">
<title>prose_104</title>
<ellipse fill="none" stroke="#000000" cx="7507" cy="-1187.2018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7507" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_104 -->
<g id="edge104" class="edge">
<title>section_8&#45;&gt;prose_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7507,-1241.0332C7507,-1233.3328 7507,-1224.1762 7507,-1215.6184"/>
<polygon fill="#000000" stroke="#000000" points="7510.5001,-1215.615 7507,-1205.6151 7503.5001,-1215.6151 7510.5001,-1215.615"/>
</g>
<!-- codeblock_105 -->
<g id="node106" class="node">
<title>codeblock_105</title>
<ellipse fill="none" stroke="#000000" cx="7790" cy="-1187.2018" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7790" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 182&#45;197</text>
</g>
<!-- section_8&#45;&gt;codeblock_105 -->
<g id="edge105" class="edge">
<title>section_8&#45;&gt;codeblock_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7558.9066,-1245.9959C7605.5807,-1234.1212 7674.3482,-1216.6256 7724.7326,-1203.8069"/>
<polygon fill="#000000" stroke="#000000" points="7725.7241,-1207.1663 7734.5524,-1201.3086 7723.9981,-1200.3824 7725.7241,-1207.1663"/>
</g>
<!-- section_106 -->
<g id="node107" class="node">
<title>section_106</title>
<ellipse fill="none" stroke="#000000" cx="8449" cy="-1187.2018" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8449" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 200&#45;212</text>
</g>
<!-- section_8&#45;&gt;section_106 -->
<g id="edge106" class="edge">
<title>section_8&#45;&gt;section_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7578.9642,-1253.7014C7750.9739,-1240.5541 8185.1251,-1207.3706 8366.9299,-1193.4747"/>
<polygon fill="#000000" stroke="#000000" points="8367.263,-1196.9595 8376.9671,-1192.7075 8366.7295,-1189.9799 8367.263,-1196.9595"/>
</g>
<!-- header_124 -->
<g id="node125" class="node">
<title>header_124</title>
<ellipse fill="none" stroke="#000000" cx="9013" cy="-1187.2018" rx="159.5865" ry="18"/>
<text text-anchor="middle" x="9013" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.commitCodex(conn, codex)</text>
</g>
<!-- section_9&#45;&gt;header_124 -->
<g id="edge124" class="edge">
<title>section_9&#45;&gt;header_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9179.7425,-1244.3707C9148.9254,-1233.8048 9107.1032,-1219.4658 9073.0538,-1207.7917"/>
<polygon fill="#000000" stroke="#000000" points="9073.8104,-1204.3511 9063.2158,-1204.4186 9071.5401,-1210.9728 9073.8104,-1204.3511"/>
</g>
<!-- prose_125 -->
<g id="node126" class="node">
<title>prose_125</title>
<ellipse fill="none" stroke="#000000" cx="9223" cy="-1187.2018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9223" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_125 -->
<g id="edge125" class="edge">
<title>section_9&#45;&gt;prose_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9223,-1241.0332C9223,-1233.3328 9223,-1224.1762 9223,-1215.6184"/>
<polygon fill="#000000" stroke="#000000" points="9226.5001,-1215.615 9223,-1205.6151 9219.5001,-1215.6151 9226.5001,-1215.615"/>
</g>
<!-- codeblock_126 -->
<g id="node127" class="node">
<title>codeblock_126</title>
<ellipse fill="none" stroke="#000000" cx="9414" cy="-1187.2018" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9414" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 217&#45;240</text>
</g>
<!-- section_9&#45;&gt;codeblock_126 -->
<g id="edge126" class="edge">
<title>section_9&#45;&gt;codeblock_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9263.5062,-1243.9325C9292.3846,-1233.0464 9331.4403,-1218.3238 9362.5277,-1206.605"/>
<polygon fill="#000000" stroke="#000000" points="9363.7769,-1209.8746 9371.8995,-1203.0721 9361.3077,-1203.3245 9363.7769,-1209.8746"/>
</g>
<!-- codeblock_127 -->
<g id="node128" class="node">
<title>codeblock_127</title>
<ellipse fill="none" stroke="#000000" cx="9683" cy="-1187.2018" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9683" y="-1183.0018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 243&#45;245</text>
</g>
<!-- section_9&#45;&gt;codeblock_127 -->
<g id="edge127" class="edge">
<title>section_9&#45;&gt;codeblock_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9286.4781,-1249.2661C9369.065,-1236.3395 9513.3914,-1213.7492 9603.2706,-1199.6812"/>
<polygon fill="#000000" stroke="#000000" points="9604.0746,-1203.098 9613.4131,-1198.0937 9602.9921,-1196.1822 9604.0746,-1203.098"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="436,-980.0026 0,-980.0026 0,-908.2003 436,-908.2003 436,-980.0026"/>
<text text-anchor="middle" x="218" y="-916.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m less than convinced that I&#39;ve given this the right name.</text>
</g>
<!-- raw_11&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M745.1718,-1175.3065C740.3191,-1172.957 735.0818,-1170.744 730,-1169.2018 607.829,-1132.125 562.0862,-1184.1062 445,-1133.2018 368.2947,-1099.8534 297.2054,-1032.2636 255.7,-987.5853"/>
<polygon fill="#000000" stroke="#000000" points="258.1409,-985.0688 248.7982,-980.0723 252.9859,-989.8044 258.1409,-985.0688"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="806,-964.0035 454,-964.0035 454,-924.1994 806,-924.1994 806,-964.0035"/>
<text text-anchor="middle" x="630" y="-932.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">Among other things this will have a function for</text>
</g>
<!-- raw_13&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>raw_13&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M824.3525,-1171.2513C789.6075,-1130.643 697.4686,-1022.9554 653.712,-971.8149"/>
<polygon fill="#000000" stroke="#000000" points="656.2816,-969.4345 647.121,-964.1116 650.9628,-973.9854 656.2816,-969.4345"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="878,-962.1015 824,-962.1015 824,-926.1015 878,-926.1015 878,-962.1015"/>
<text text-anchor="middle" x="851" y="-940.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_14&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>prespace_14&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M912.2769,-1170.1182C903.4354,-1160.1324 893.1646,-1146.8379 887,-1133.2018 862.8171,-1079.7094 854.8715,-1010.5924 852.2661,-972.4791"/>
<polygon fill="#000000" stroke="#000000" points="855.7384,-971.9136 851.6402,-962.1435 848.7512,-972.3368 855.7384,-971.9136"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="1017.5,-962.1015 896.5,-962.1015 896.5,-926.1015 1017.5,-926.1015 1017.5,-962.1015"/>
<text text-anchor="middle" x="957" y="-940.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">package.loaders</text>
</g>
<!-- literal_15&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>literal_15&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1019.9998,-1169.3261C1008.2882,-1127.4571 979.0054,-1022.7708 964.8738,-972.2502"/>
<polygon fill="#000000" stroke="#000000" points="968.1645,-971.0213 962.1,-962.3338 961.4232,-972.907 968.1645,-971.0213"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1576.5,-971.3019 1035.5,-971.3019 1035.5,-916.901 1576.5,-916.901 1576.5,-971.3019"/>
<text text-anchor="middle" x="1306" y="-956.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">, but this</text>
<text text-anchor="middle" x="1306" y="-940.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">file will contain everything needed to manipulate modules, including things</text>
<text text-anchor="middle" x="1306" y="-925.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">needed only by the compiler.</text>
</g>
<!-- raw_16&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_16&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1242.0737,-1169.3261C1253.3012,-1129.7697 1280.4431,-1034.1433 1295.4994,-981.0973"/>
<polygon fill="#000000" stroke="#000000" points="1298.8888,-981.9737 1298.2523,-971.398 1292.1548,-980.0623 1298.8888,-981.9737"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1687.5,-962.1015 1594.5,-962.1015 1594.5,-926.1015 1687.5,-926.1015 1687.5,-962.1015"/>
<text text-anchor="middle" x="1641" y="-940.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">*** imports</text>
</g>
<!-- header_21&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>header_21&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1770.63,-1176.9151C1745.932,-1168.8654 1716.002,-1155.2418 1697,-1133.2018 1656.9619,-1086.7626 1645.5363,-1012.7589 1642.285,-972.4804"/>
<polygon fill="#000000" stroke="#000000" points="1645.7626,-972.0342 1641.5811,-962.2994 1638.7793,-972.517 1645.7626,-972.0342"/>
</g>
<!-- raw_26 -->
<g id="node27" class="node">
<title>raw_26</title>
<ellipse fill="none" stroke="#000000" cx="1733" cy="-944.1015" rx="27" ry="18"/>
<text text-anchor="middle" x="1733" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_22&#45;&gt;raw_26 -->
<g id="edge26" class="edge">
<title>prose_22&#45;&gt;raw_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2009.5723,-1182.9627C1941.6517,-1173.5202 1785.912,-1150.2472 1769,-1133.2018 1726.4336,-1090.2996 1726.0412,-1013.6474 1729.4799,-972.3361"/>
<polygon fill="#000000" stroke="#000000" points="1732.9853,-972.4481 1730.4661,-962.1571 1726.0179,-971.7729 1732.9853,-972.4481"/>
</g>
<!-- prespace_27 -->
<g id="node28" class="node">
<title>prespace_27</title>
<ellipse fill="none" stroke="#000000" cx="1824" cy="-944.1015" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1824" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_22&#45;&gt;prespace_27 -->
<g id="edge27" class="edge">
<title>prose_22&#45;&gt;prespace_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2010.6913,-1180.5573C1969.3372,-1170.9199 1898.2706,-1152.1366 1880,-1133.2018 1837.1149,-1088.7576 1826.8617,-1013.0609 1824.5463,-972.2192"/>
<polygon fill="#000000" stroke="#000000" points="1828.0395,-971.9867 1824.0981,-962.1523 1821.0465,-972.2981 1828.0395,-971.9867"/>
</g>
<!-- literal_28 -->
<g id="node29" class="node">
<title>literal_28</title>
<ellipse fill="none" stroke="#000000" cx="1920" cy="-944.1015" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1920" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_22&#45;&gt;literal_28 -->
<g id="edge28" class="edge">
<title>prose_22&#45;&gt;literal_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2015.1281,-1176.4327C1996.9136,-1167.5102 1973.4643,-1153.0685 1960,-1133.2018 1926.5302,-1083.8168 1920.2564,-1011.8231 1919.5471,-972.4411"/>
<polygon fill="#000000" stroke="#000000" points="1923.0458,-972.2195 1919.4766,-962.244 1916.0459,-972.268 1923.0458,-972.2195"/>
</g>
<!-- raw_29 -->
<g id="node30" class="node">
<title>raw_29</title>
<ellipse fill="none" stroke="#000000" cx="1996" cy="-944.1015" rx="27" ry="18"/>
<text text-anchor="middle" x="1996" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_22&#45;&gt;raw_29 -->
<g id="edge29" class="edge">
<title>prose_22&#45;&gt;raw_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2037.6177,-1168.9298C2029.8129,-1126.7665 2010.5021,-1022.4453 2001.1882,-972.1293"/>
<polygon fill="#000000" stroke="#000000" points="2004.622,-971.4498 1999.3602,-962.2539 1997.7389,-972.7239 2004.622,-971.4498"/>
</g>
<!-- prespace_30 -->
<g id="node31" class="node">
<title>prespace_30</title>
<ellipse fill="none" stroke="#000000" cx="2087" cy="-944.1015" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2087" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_22&#45;&gt;prespace_30 -->
<g id="edge30" class="edge">
<title>prose_22&#45;&gt;prespace_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2044.4575,-1168.9298C2052.4357,-1126.7665 2072.1756,-1022.4453 2081.6965,-972.1293"/>
<polygon fill="#000000" stroke="#000000" points="2085.1448,-972.7303 2083.5652,-962.2539 2078.2669,-971.4288 2085.1448,-972.7303"/>
</g>
<!-- literal_31 -->
<g id="node32" class="node">
<title>literal_31</title>
<ellipse fill="none" stroke="#000000" cx="2183" cy="-944.1015" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2183" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_22&#45;&gt;literal_31 -->
<g id="edge31" class="edge">
<title>prose_22&#45;&gt;literal_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2070.2932,-1179.0186C2093.2824,-1171.0667 2124.2691,-1156.6881 2142,-1133.2018 2178.1541,-1085.3124 2183.8163,-1012.1888 2183.9362,-972.3601"/>
<polygon fill="#000000" stroke="#000000" points="2187.4355,-972.259 2183.8486,-962.2898 2180.4358,-972.3199 2187.4355,-972.259"/>
</g>
<!-- raw_32 -->
<g id="node33" class="node">
<title>raw_32</title>
<ellipse fill="none" stroke="#000000" cx="2259" cy="-944.1015" rx="27" ry="18"/>
<text text-anchor="middle" x="2259" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_22&#45;&gt;raw_32 -->
<g id="edge32" class="edge">
<title>prose_22&#45;&gt;raw_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2072.0228,-1181.9893C2118.4611,-1173.5518 2202.7715,-1155.5684 2223,-1133.2018 2263.4356,-1088.4923 2264.7616,-1012.9042 2262.0168,-972.1497"/>
<polygon fill="#000000" stroke="#000000" points="2265.4994,-971.7924 2261.2084,-962.1055 2258.522,-972.354 2265.4994,-971.7924"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="2572,-994.7024 2304,-994.7024 2304,-893.5005 2572,-893.5005 2572,-994.7024"/>
<text text-anchor="middle" x="2438" y="-979.7015" font-family="Inconsolata" font-size="14.00" fill="#000000">local sql = require &quot;sqlayer&quot;</text>
<text text-anchor="middle" x="2438" y="-964.3015" font-family="Inconsolata" font-size="14.00" fill="#000000">local Dir = require &quot;walk/directory&quot;</text>
<text text-anchor="middle" x="2438" y="-932.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">local sha = require &quot;sha3&quot; . sha512</text>
<text text-anchor="middle" x="2438" y="-901.5014" font-family="Inconsolata" font-size="14.00" fill="#000000">local status = require &quot;status&quot; ()</text>
</g>
<!-- codeblock_23&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>codeblock_23&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2438,-1168.9298C2438,-1134.5932 2438,-1059.0336 2438,-1004.9895"/>
<polygon fill="#000000" stroke="#000000" points="2441.5001,-1004.8251 2438,-994.8251 2434.5001,-1004.8251 2441.5001,-1004.8251"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="2725.5,-962.1015 2590.5,-962.1015 2590.5,-926.1015 2725.5,-926.1015 2725.5,-962.1015"/>
<text text-anchor="middle" x="2658" y="-940.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">local Loader = {}</text>
</g>
<!-- codeblock_24&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>codeblock_24&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2636.7287,-1168.9298C2640.7095,-1126.8547 2650.5465,-1022.8815 2655.3183,-972.4458"/>
<polygon fill="#000000" stroke="#000000" points="2658.825,-972.5391 2656.2826,-962.2539 2651.8561,-971.8797 2658.825,-972.5391"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="1778.5,-440.8021 1237.5,-440.8021 1237.5,-384.9991 1778.5,-384.9991 1778.5,-440.8021"/>
<text text-anchor="middle" x="1508" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">For now, I&#39;m going to use a copy of the sqlite bindings currently living in</text>
</g>
<!-- raw_26&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>raw_26&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1731.324,-925.8761C1727.7598,-891.5609 1717.8946,-815.3828 1696,-755.0011 1653.0632,-636.5886 1573.3779,-509.7946 1532.9356,-449.204"/>
<polygon fill="#000000" stroke="#000000" points="1535.7423,-447.1053 1527.2625,-440.7536 1529.9306,-451.007 1535.7423,-447.1053"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="1851,-430.9006 1797,-430.9006 1797,-394.9006 1851,-394.9006 1851,-430.9006"/>
</g>
<!-- prespace_27&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>prespace_27&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1824,-925.8163C1824,-847.1187 1824,-536.9351 1824,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="1827.5001,-441.1088 1824,-431.1088 1820.5001,-441.1088 1827.5001,-441.1088"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="1923,-430.9006 1869,-430.9006 1869,-394.9006 1923,-394.9006 1923,-430.9006"/>
<text text-anchor="middle" x="1896" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">femto</text>
</g>
<!-- literal_28&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>literal_28&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1919.1739,-925.8163C1915.6183,-847.1187 1901.604,-536.9351 1897.2784,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="1900.7705,-440.9406 1896.8227,-431.1088 1893.7777,-441.2566 1900.7705,-440.9406"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2041,-430.9006 1941,-430.9006 1941,-394.9006 2041,-394.9006 2041,-430.9006"/>
<text text-anchor="middle" x="1991" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">. &#160;There&#39;s a</text>
</g>
<!-- raw_29&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>raw_29&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1995.8279,-925.8163C1995.0871,-847.1187 1992.1675,-536.9351 1991.2663,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="1994.7655,-441.0754 1991.1714,-431.1088 1987.7658,-441.1413 1994.7655,-441.0754"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="2113,-430.9006 2059,-430.9006 2059,-394.9006 2113,-394.9006 2113,-430.9006"/>
<text text-anchor="middle" x="2086" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_30&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>prespace_30&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2086.9656,-925.8163C2086.8174,-847.1187 2086.2335,-536.9351 2086.0533,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="2089.5532,-441.1022 2086.0343,-431.1088 2082.5532,-441.1154 2089.5532,-441.1022"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2196.5,-430.9006 2131.5,-430.9006 2131.5,-394.9006 2196.5,-394.9006 2196.5,-430.9006"/>
<text text-anchor="middle" x="2164" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">sqlayer</text>
</g>
<!-- literal_31&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>literal_31&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2182.346,-925.8163C2179.5311,-847.1187 2168.4365,-536.9351 2165.0121,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="2168.5066,-440.9773 2164.6513,-431.1088 2161.5111,-441.2276 2168.5066,-440.9773"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="2721,-440.101 2215,-440.101 2215,-385.7001 2721,-385.7001 2721,-440.101"/>
<text text-anchor="middle" x="2468" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> as well but I don&#39;t want to copy&#45;paste generated</text>
<text text-anchor="middle" x="2468" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">code if I can avoid it; the whole point of this exercise is to get the</text>
<text text-anchor="middle" x="2468" y="-394.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">codebase to where I can reuse projects across modules.</text>
</g>
<!-- raw_32&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>raw_32&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2260.7474,-925.9435C2264.4097,-891.7408 2274.3193,-815.7426 2295,-755.0011 2334.9906,-637.5443 2408.4835,-509.7334 2445.4749,-448.9403"/>
<polygon fill="#000000" stroke="#000000" points="2448.6392,-450.4748 2450.8736,-440.1183 2442.6685,-446.8209 2448.6392,-450.4748"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="2979,-962.1015 2879,-962.1015 2879,-926.1015 2979,-926.1015 2979,-962.1015"/>
<text text-anchor="middle" x="2929" y="-940.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">*** SQL code</text>
</g>
<!-- header_42&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>header_42&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2929,-1168.9298C2929,-1126.8547 2929,-1022.8815 2929,-972.4458"/>
<polygon fill="#000000" stroke="#000000" points="2932.5001,-972.2539 2929,-962.2539 2925.5001,-972.2539 2932.5001,-972.2539"/>
</g>
<!-- raw_47 -->
<g id="node48" class="node">
<title>raw_47</title>
<ellipse fill="none" stroke="#000000" cx="3033" cy="-944.1015" rx="27" ry="18"/>
<text text-anchor="middle" x="3033" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_43&#45;&gt;raw_47 -->
<g id="edge47" class="edge">
<title>prose_43&#45;&gt;raw_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3040.3987,-1168.9298C3039.0141,-1126.8547 3035.5925,-1022.8815 3033.9328,-972.4458"/>
<polygon fill="#000000" stroke="#000000" points="3037.4245,-972.1333 3033.5974,-962.2539 3030.4283,-972.3636 3037.4245,-972.1333"/>
</g>
<!-- header_49 -->
<g id="node50" class="node">
<title>header_49</title>
<ellipse fill="none" stroke="#000000" cx="3251" cy="-944.1015" rx="94.1888" ry="18"/>
<text text-anchor="middle" x="3251" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : SQL Loader.load()</text>
</g>
<!-- section_44&#45;&gt;header_49 -->
<g id="edge49" class="edge">
<title>section_44&#45;&gt;header_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3317.5883,-1168.9298C3305.1006,-1126.7665 3274.2034,-1022.4453 3259.3011,-972.1293"/>
<polygon fill="#000000" stroke="#000000" points="3262.5721,-970.8483 3256.3763,-962.2539 3255.8603,-972.8362 3262.5721,-970.8483"/>
</g>
<!-- prose_50 -->
<g id="node51" class="node">
<title>prose_50</title>
<ellipse fill="none" stroke="#000000" cx="3396" cy="-944.1015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3396" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_44&#45;&gt;prose_50 -->
<g id="edge50" class="edge">
<title>section_44&#45;&gt;prose_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3335.0543,-1169.3937C3341.4899,-1159.1813 3349.0765,-1145.9014 3354,-1133.2018 3375.2985,-1078.2646 3387.1165,-1009.951 3392.4546,-972.3028"/>
<polygon fill="#000000" stroke="#000000" points="3395.9636,-972.4742 3393.8489,-962.0926 3389.028,-971.527 3395.9636,-972.4742"/>
</g>
<!-- codeblock_51 -->
<g id="node52" class="node">
<title>codeblock_51</title>
<ellipse fill="none" stroke="#000000" cx="3567" cy="-944.1015" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3567" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 38&#45;78</text>
</g>
<!-- section_44&#45;&gt;codeblock_51 -->
<g id="edge51" class="edge">
<title>section_44&#45;&gt;codeblock_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3365.3575,-1173.3032C3388.2695,-1164.3479 3416.0758,-1151.022 3437,-1133.2018 3491.9195,-1086.4294 3534.1859,-1011.2184 3554.2231,-971.1977"/>
<polygon fill="#000000" stroke="#000000" points="3557.4486,-972.5699 3558.7207,-962.0517 3551.167,-969.4808 3557.4486,-972.5699"/>
</g>
<!-- header_56 -->
<g id="node57" class="node">
<title>header_56</title>
<ellipse fill="none" stroke="#000000" cx="3928" cy="-944.1015" rx="169.0775" ry="18"/>
<text text-anchor="middle" x="3928" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : SQL Loader.commitDeck(conn, deck)</text>
</g>
<!-- section_45&#45;&gt;header_56 -->
<g id="edge56" class="edge">
<title>section_45&#45;&gt;header_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4028.8073,-1168.9298C4009.8232,-1126.5901 3962.7355,-1021.5712 3940.2851,-971.5005"/>
<polygon fill="#000000" stroke="#000000" points="3943.4241,-969.9467 3936.1391,-962.2539 3937.0368,-972.8106 3943.4241,-969.9467"/>
</g>
<!-- prose_57 -->
<g id="node58" class="node">
<title>prose_57</title>
<ellipse fill="none" stroke="#000000" cx="4147" cy="-944.1015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4147" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_45&#45;&gt;prose_57 -->
<g id="edge57" class="edge">
<title>section_45&#45;&gt;prose_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4066.5189,-1170.7673C4080.5345,-1161.498 4096.3018,-1148.6662 4106,-1133.2018 4137.649,-1082.7355 4145.1247,-1011.4505 4146.7305,-972.4031"/>
<polygon fill="#000000" stroke="#000000" points="4150.2324,-972.392 4147.043,-962.2887 4143.2358,-972.1758 4150.2324,-972.392"/>
</g>
<!-- codeblock_58 -->
<g id="node59" class="node">
<title>codeblock_58</title>
<ellipse fill="none" stroke="#000000" cx="4368" cy="-944.1015" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="4368" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 83&#45;123</text>
</g>
<!-- section_45&#45;&gt;codeblock_58 -->
<g id="edge58" class="edge">
<title>section_45&#45;&gt;codeblock_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4089.3875,-1174.978C4119.7875,-1166.3451 4157.8945,-1152.7863 4188,-1133.2018 4257.5535,-1087.9553 4319.6787,-1010.7192 4349.4315,-970.3836"/>
<polygon fill="#000000" stroke="#000000" points="4352.3869,-972.2709 4355.4481,-962.1279 4346.7298,-968.148 4352.3869,-972.2709"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="3154.5,-448.8017 2739.5,-448.8017 2739.5,-376.9994 3154.5,-376.9994 3154.5,-448.8017"/>
<text text-anchor="middle" x="2947" y="-401.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">Everything we need to create and manipulate the database.</text>
</g>
<!-- raw_47&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>raw_47&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3030.0893,-926.1231C3018.125,-852.2222 2972.515,-570.5005 2954.4408,-458.8606"/>
<polygon fill="#000000" stroke="#000000" points="2957.8837,-458.2257 2952.8304,-448.9136 2950.9737,-459.3445 2957.8837,-458.2257"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="3343,-430.9006 3173,-430.9006 3173,-394.9006 3343,-394.9006 3343,-430.9006"/>
<text text-anchor="middle" x="3258" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">**** SQL Loader.load()</text>
</g>
<!-- header_49&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>header_49&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3251.241,-925.8163C3252.278,-847.1187 3256.3655,-536.9351 3257.6271,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="3261.1279,-441.1541 3257.7601,-431.1088 3254.1285,-441.0618 3261.1279,-441.1541"/>
</g>
<!-- raw_53 -->
<g id="node54" class="node">
<title>raw_53</title>
<ellipse fill="none" stroke="#000000" cx="3388" cy="-412.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="3388" y="-408.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_50&#45;&gt;raw_53 -->
<g id="edge53" class="edge">
<title>prose_50&#45;&gt;raw_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3395.7246,-925.8163C3394.5394,-847.1187 3389.868,-536.9351 3388.4261,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="3391.9245,-441.0549 3388.2742,-431.1088 3384.9253,-441.1604 3391.9245,-441.0549"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="3785,-717.7018 3433,-717.7018 3433,-108.0994 3785,-108.0994 3785,-717.7018"/>
<text text-anchor="middle" x="3609" y="-702.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_project_table = [[</text>
<text text-anchor="middle" x="3609" y="-687.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS project (</text>
<text text-anchor="middle" x="3609" y="-671.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3609" y="-656.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;name STRING UNIQUE NOT NULL,</text>
<text text-anchor="middle" x="3609" y="-641.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo STRING,</text>
<text text-anchor="middle" x="3609" y="-625.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo_type STRING DEFAULT &#39;git&#39;,</text>
<text text-anchor="middle" x="3609" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo_alternates STRING,</text>
<text text-anchor="middle" x="3609" y="-594.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;home STRING,</text>
<text text-anchor="middle" x="3609" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;website STRING</text>
<text text-anchor="middle" x="3609" y="-564.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3609" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="3609" y="-517.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_code_table = [[</text>
<text text-anchor="middle" x="3609" y="-501.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS code (</text>
<text text-anchor="middle" x="3609" y="-486.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;code_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3609" y="-471.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;hash TEXT UNIQUE NOT NULL,</text>
<text text-anchor="middle" x="3609" y="-455.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;binary BLOB NOT NULL</text>
<text text-anchor="middle" x="3609" y="-440.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3609" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="3609" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_module_table = [[</text>
<text text-anchor="middle" x="3609" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS module (</text>
<text text-anchor="middle" x="3609" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;module_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3609" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;time DATETIME DEFAULT CURRENT_TIMESTAMP,</text>
<text text-anchor="middle" x="3609" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;snapshot INTEGER DEFAULT 1,</text>
<text text-anchor="middle" x="3609" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;version STRING DEFAULT &#39;SNAPSHOT&#39;,</text>
<text text-anchor="middle" x="3609" y="-301.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;name STRING NOT NULL,</text>
<text text-anchor="middle" x="3609" y="-285.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;type STRING DEFAULT &#39;luaJIT&#45;bytecode&#39;,</text>
<text text-anchor="middle" x="3609" y="-270.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;branch STRING,</text>
<text text-anchor="middle" x="3609" y="-254.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;vc_hash STRING,</text>
<text text-anchor="middle" x="3609" y="-239.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project_id INTEGER NOT NULL,</text>
<text text-anchor="middle" x="3609" y="-224.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;code_id INTEGER,</text>
<text text-anchor="middle" x="3609" y="-208.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (project_id)</text>
<text text-anchor="middle" x="3609" y="-193.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES project (project_id)</text>
<text text-anchor="middle" x="3609" y="-177.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ON DELETE RESTRICT</text>
<text text-anchor="middle" x="3609" y="-162.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (code_id)</text>
<text text-anchor="middle" x="3609" y="-147.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES code (code_id)</text>
<text text-anchor="middle" x="3609" y="-131.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3609" y="-116.2" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_51&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>codeblock_51&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3568.4457,-925.8163C3571.1548,-891.5526 3577.3334,-813.4087 3584.0715,-728.1876"/>
<polygon fill="#000000" stroke="#000000" points="3587.5751,-728.2787 3584.8743,-718.0339 3580.5969,-727.7269 3587.5751,-728.2787"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="3415,-53.4 3361,-53.4 3361,-17.4 3415,-17.4 3415,-53.4"/>
</g>
<!-- raw_53&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>raw_53&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3388,-394.6929C3388,-333.8947 3388,-137.5715 3388,-63.7848"/>
<polygon fill="#000000" stroke="#000000" points="3391.5001,-63.4249 3388,-53.425 3384.5001,-63.425 3391.5001,-63.4249"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="4085,-430.9006 3803,-430.9006 3803,-394.9006 4085,-394.9006 4085,-430.9006"/>
<text text-anchor="middle" x="3944" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">**** SQL Loader.commitDeck(conn, deck)</text>
</g>
<!-- header_56&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>header_56&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3928.5508,-925.8163C3930.9212,-847.1187 3940.264,-536.9351 3943.1477,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="3946.6488,-441.2097 3943.4516,-431.1088 3939.652,-440.9989 3946.6488,-441.2097"/>
</g>
<!-- raw_60 -->
<g id="node61" class="node">
<title>raw_60</title>
<ellipse fill="none" stroke="#000000" cx="4130" cy="-412.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="4130" y="-408.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_57&#45;&gt;raw_60 -->
<g id="edge60" class="edge">
<title>prose_57&#45;&gt;raw_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4146.4148,-925.8163C4143.8963,-847.1187 4133.9695,-536.9351 4130.9056,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="4134.4009,-440.9917 4130.5827,-431.1088 4127.4045,-441.2157 4134.4009,-440.9917"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="4737,-719.1016 4175,-719.1016 4175,-106.6995 4737,-106.6995 4737,-719.1016"/>
<text text-anchor="middle" x="4456" y="-703.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_project = [[</text>
<text text-anchor="middle" x="4456" y="-688.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO project (name, repo, home, website, repo_type, repo_alternates)</text>
<text text-anchor="middle" x="4456" y="-673.001" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:name, :repo, :home, :website, :repo_type, :repo_alternates);</text>
<text text-anchor="middle" x="4456" y="-657.601" font-family="Inconsolata" font-size="14.00" fill="#000000">ON CONFLICT IGNORE;</text>
<text text-anchor="middle" x="4456" y="-642.201" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4456" y="-610.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_code = [[</text>
<text text-anchor="middle" x="4456" y="-595.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO code (hash, binary)</text>
<text text-anchor="middle" x="4456" y="-580.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:hash, :binary)</text>
<text text-anchor="middle" x="4456" y="-564.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">ON CONFLICT IGNORE;</text>
<text text-anchor="middle" x="4456" y="-549.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4456" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">local add_module = [[</text>
<text text-anchor="middle" x="4456" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO module (snapshot, version, name,</text>
<text text-anchor="middle" x="4456" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;branch, vc_hash, project_id, code_id)</text>
<text text-anchor="middle" x="4456" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:snapshot, :version, :name, :branch, :vc_hash, :project_id, :code_id);</text>
<text text-anchor="middle" x="4456" y="-456.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4456" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_project_id = [[</text>
<text text-anchor="middle" x="4456" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (project.project_id AS REAL) FROM project</text>
<text text-anchor="middle" x="4456" y="-394.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE project.name = %s;</text>
<text text-anchor="middle" x="4456" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4456" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_code_id_by_hash = [[</text>
<text text-anchor="middle" x="4456" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (code.code_id AS REAL) FROM code</text>
<text text-anchor="middle" x="4456" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.hash = %s;</text>
<text text-anchor="middle" x="4456" y="-301.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4456" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_latest_module_code_id = [[</text>
<text text-anchor="middle" x="4456" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (module.code_id AS REAL) FROM module</text>
<text text-anchor="middle" x="4456" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.project_id = %d</text>
<text text-anchor="middle" x="4456" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;AND module.name = %s</text>
<text text-anchor="middle" x="4456" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC LIMIT 1;</text>
<text text-anchor="middle" x="4456" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4456" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_latest_module_bytecode = [[</text>
<text text-anchor="middle" x="4456" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT code.binary FROM code</text>
<text text-anchor="middle" x="4456" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.code_id = %d ;</text>
<text text-anchor="middle" x="4456" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_58&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>codeblock_58&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4371.0292,-925.8163C4376.6836,-891.6843 4389.5515,-814.0084 4403.6062,-729.1693"/>
<polygon fill="#000000" stroke="#000000" points="4407.0993,-729.4982 4405.2808,-719.0606 4400.1934,-728.3541 4407.0993,-729.4982"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="4157,-53.4 4103,-53.4 4103,-17.4 4157,-17.4 4157,-53.4"/>
</g>
<!-- raw_60&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>raw_60&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4130,-394.6929C4130,-333.8947 4130,-137.5715 4130,-63.7848"/>
<polygon fill="#000000" stroke="#000000" points="4133.5001,-63.4249 4130,-53.425 4126.5001,-63.425 4133.5001,-63.4249"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="4939.5,-962.1015 4748.5,-962.1015 4748.5,-926.1015 4939.5,-926.1015 4939.5,-962.1015"/>
<text text-anchor="middle" x="4844" y="-940.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Environment Variables</text>
</g>
<!-- header_63&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>header_63&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5072.958,-1173.4495C5025.4216,-1163.245 4968.4559,-1148.5016 4949,-1133.2018 4895.393,-1091.0462 4865.002,-1013.5344 4851.8662,-972.046"/>
<polygon fill="#000000" stroke="#000000" points="4855.1633,-970.8591 4848.8947,-962.3177 4848.4687,-972.904 4855.1633,-970.8591"/>
</g>
<!-- raw_68 -->
<g id="node69" class="node">
<title>raw_68</title>
<ellipse fill="none" stroke="#000000" cx="4985" cy="-944.1015" rx="27" ry="18"/>
<text text-anchor="middle" x="4985" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_64&#45;&gt;raw_68 -->
<g id="edge68" class="edge">
<title>prose_64&#45;&gt;raw_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5529.8661,-1185.0541C5416.3409,-1177.33 5039.9104,-1150.5062 5021,-1133.2018 4976.2057,-1092.2119 4976.8604,-1014.1571 4981.0153,-972.2936"/>
<polygon fill="#000000" stroke="#000000" points="4984.5072,-972.5619 4982.1523,-962.2321 4977.5515,-971.7759 4984.5072,-972.5619"/>
</g>
<!-- link_69 -->
<g id="node70" class="node">
<title>link_69</title>
<ellipse fill="none" stroke="#000000" cx="5057" cy="-944.1015" rx="27" ry="18"/>
<text text-anchor="middle" x="5057" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_64&#45;&gt;link_69 -->
<g id="edge69" class="edge">
<title>prose_64&#45;&gt;link_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5529.6583,-1186.5811C5444.9541,-1184.3848 5219.0343,-1174.6861 5159,-1133.2018 5102.8443,-1094.3977 5074.8525,-1014.4466 5063.454,-972.0007"/>
<polygon fill="#000000" stroke="#000000" points="5066.7807,-970.8826 5060.9066,-962.0653 5060,-972.6212 5066.7807,-970.8826"/>
</g>
<!-- raw_70 -->
<g id="node71" class="node">
<title>raw_70</title>
<ellipse fill="none" stroke="#000000" cx="5195" cy="-944.1015" rx="27" ry="18"/>
<text text-anchor="middle" x="5195" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_64&#45;&gt;raw_70 -->
<g id="edge70" class="edge">
<title>prose_64&#45;&gt;raw_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5529.692,-1185.3414C5461.0949,-1180.7718 5303.9097,-1166.8236 5264,-1133.2018 5215.4412,-1092.2936 5201.0532,-1014.2046 5196.7918,-972.3143"/>
<polygon fill="#000000" stroke="#000000" points="5200.2685,-971.8953 5195.8933,-962.2461 5193.2962,-972.5176 5200.2685,-971.8953"/>
</g>
<!-- prespace_71 -->
<g id="node72" class="node">
<title>prespace_71</title>
<ellipse fill="none" stroke="#000000" cx="5319" cy="-944.1015" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5319" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_64&#45;&gt;prespace_71 -->
<g id="edge71" class="edge">
<title>prose_64&#45;&gt;prespace_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5531.6736,-1180.879C5488.5187,-1171.3437 5412.3541,-1152.3536 5392,-1133.2018 5345.7695,-1089.702 5328.4452,-1013.6189 5322.2443,-972.4664"/>
<polygon fill="#000000" stroke="#000000" points="5325.6775,-971.7428 5320.8357,-962.319 5318.7439,-972.7053 5325.6775,-971.7428"/>
</g>
<!-- literal_72 -->
<g id="node73" class="node">
<title>literal_72</title>
<ellipse fill="none" stroke="#000000" cx="5432" cy="-944.1015" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5432" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_64&#45;&gt;literal_72 -->
<g id="edge72" class="edge">
<title>prose_64&#45;&gt;literal_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5536.0491,-1176.3459C5517.7292,-1167.3803 5494.0346,-1152.9226 5480,-1133.2018 5445.0843,-1084.14 5435.5146,-1012.0206 5432.9262,-972.5316"/>
<polygon fill="#000000" stroke="#000000" points="5436.4078,-972.0988 5432.366,-962.3052 5429.4183,-972.4817 5436.4078,-972.0988"/>
</g>
<!-- raw_73 -->
<g id="node74" class="node">
<title>raw_73</title>
<ellipse fill="none" stroke="#000000" cx="5516" cy="-944.1015" rx="27" ry="18"/>
<text text-anchor="middle" x="5516" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_64&#45;&gt;raw_73 -->
<g id="edge73" class="edge">
<title>prose_64&#45;&gt;raw_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5558.5425,-1168.9298C5550.5643,-1126.7665 5530.8244,-1022.4453 5521.3035,-972.1293"/>
<polygon fill="#000000" stroke="#000000" points="5524.7331,-971.4288 5519.4348,-962.2539 5517.8552,-972.7303 5524.7331,-971.4288"/>
</g>
<!-- prespace_74 -->
<g id="node75" class="node">
<title>prespace_74</title>
<ellipse fill="none" stroke="#000000" cx="5607" cy="-944.1015" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5607" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_64&#45;&gt;prespace_74 -->
<g id="edge74" class="edge">
<title>prose_64&#45;&gt;prespace_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5565.3823,-1168.9298C5573.1871,-1126.7665 5592.4979,-1022.4453 5601.8118,-972.1293"/>
<polygon fill="#000000" stroke="#000000" points="5605.2611,-972.7239 5603.6398,-962.2539 5598.378,-971.4498 5605.2611,-972.7239"/>
</g>
<!-- literal_75 -->
<g id="node76" class="node">
<title>literal_75</title>
<ellipse fill="none" stroke="#000000" cx="5703" cy="-944.1015" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5703" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_64&#45;&gt;literal_75 -->
<g id="edge75" class="edge">
<title>prose_64&#45;&gt;literal_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5591.0081,-1178.9416C5613.7726,-1170.945 5644.4538,-1156.5439 5662,-1133.2018 5698.0547,-1085.2375 5703.7562,-1012.1435 5703.9089,-972.3396"/>
<polygon fill="#000000" stroke="#000000" points="5707.4084,-972.2482 5703.8301,-962.2759 5700.4086,-972.303 5707.4084,-972.2482"/>
</g>
<!-- raw_76 -->
<g id="node77" class="node">
<title>raw_76</title>
<ellipse fill="none" stroke="#000000" cx="5779" cy="-944.1015" rx="27" ry="18"/>
<text text-anchor="middle" x="5779" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_64&#45;&gt;raw_76 -->
<g id="edge76" class="edge">
<title>prose_64&#45;&gt;raw_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5592.8542,-1181.9654C5639.0399,-1173.4961 5722.8904,-1155.4706 5743,-1133.2018 5783.4019,-1088.4619 5784.7417,-1012.8862 5782.008,-972.1418"/>
<polygon fill="#000000" stroke="#000000" points="5785.4909,-971.7882 5781.2025,-962.1001 5778.5133,-972.348 5785.4909,-971.7882"/>
</g>
<!-- prespace_77 -->
<g id="node78" class="node">
<title>prespace_77</title>
<ellipse fill="none" stroke="#000000" cx="5870" cy="-944.1015" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5870" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_64&#45;&gt;prespace_77 -->
<g id="edge77" class="edge">
<title>prose_64&#45;&gt;prespace_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5594.1862,-1184.4083C5654.9164,-1178.5007 5783.1767,-1162.79 5815,-1133.2018 5860.2815,-1091.1007 5869.0343,-1014.1177 5870.2706,-972.5432"/>
<polygon fill="#000000" stroke="#000000" points="5873.7742,-972.3535 5870.4427,-962.2961 5866.7752,-972.2359 5873.7742,-972.3535"/>
</g>
<!-- literal_78 -->
<g id="node79" class="node">
<title>literal_78</title>
<ellipse fill="none" stroke="#000000" cx="5966" cy="-944.1015" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5966" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_64&#45;&gt;literal_78 -->
<g id="edge78" class="edge">
<title>prose_64&#45;&gt;literal_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5594.1605,-1184.5009C5678.4478,-1177.1349 5900.9305,-1155.7367 5925,-1133.2018 5969.5536,-1091.4888 5971.5183,-1013.7373 5968.9044,-972.1108"/>
<polygon fill="#000000" stroke="#000000" points="5972.3921,-971.8144 5968.1428,-962.109 5965.4123,-972.3459 5972.3921,-971.8144"/>
</g>
<!-- raw_79 -->
<g id="node80" class="node">
<title>raw_79</title>
<ellipse fill="none" stroke="#000000" cx="6042" cy="-944.1015" rx="27" ry="18"/>
<text text-anchor="middle" x="6042" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_64&#45;&gt;raw_79 -->
<g id="edge79" class="edge">
<title>prose_64&#45;&gt;raw_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5594.1758,-1185.4556C5691.1754,-1179.8969 5975.9391,-1161.3105 6006,-1133.2018 6050.3502,-1091.7318 6049.8818,-1013.8784 6045.8724,-972.1722"/>
<polygon fill="#000000" stroke="#000000" points="6049.3426,-971.7087 6044.7721,-962.1504 6042.3844,-972.4727 6049.3426,-971.7087"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="6607,-1133.3022 6087,-1133.3022 6087,-754.9007 6607,-754.9007 6607,-1133.3022"/>
<text text-anchor="middle" x="6347" y="-1118.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">local home_dir = os.getenv &quot;HOME&quot;</text>
<text text-anchor="middle" x="6347" y="-1102.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">local bridge_modules = os.getenv &quot;BRIDGE_MODULES&quot;</text>
<text text-anchor="middle" x="6347" y="-1071.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">if not bridge_modules then</text>
<text text-anchor="middle" x="6347" y="-1055.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local xdg_data_home = os.getenv &quot;XDG_DATA_HOME&quot;</text>
<text text-anchor="middle" x="6347" y="-1040.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if xdg_data_home then</text>
<text text-anchor="middle" x="6347" y="-1025.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(xdg_data_home .. &quot;/bridge/&quot;) : mkdir()</text>
<text text-anchor="middle" x="6347" y="-1009.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bridge_modules = xdg_data_home .. &quot;/bridge/bridge.modules&quot;</text>
<text text-anchor="middle" x="6347" y="-994.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="6347" y="-978.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; build the whole shebang from scratch, just in case</text>
<text text-anchor="middle" x="6347" y="-963.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; =mkdir= runs =exists= as the first command so this is</text>
<text text-anchor="middle" x="6347" y="-948.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; sufficiently clear</text>
<text text-anchor="middle" x="6347" y="-932.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local&quot;) : mkdir()</text>
<text text-anchor="middle" x="6347" y="-917.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local/share&quot;) : mkdir()</text>
<text text-anchor="middle" x="6347" y="-901.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local/share/bridge/&quot;) : mkdir()</text>
<text text-anchor="middle" x="6347" y="-886.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bridge_modules = home_dir .. &quot;/.local/share/bridge/bridge.modules&quot;</text>
<text text-anchor="middle" x="6347" y="-871.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error out if we haven&#39;t made the directory</text>
<text text-anchor="middle" x="6347" y="-855.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local bridge_dir = Dir(home_dir .. &quot;/.local/share/bridge/&quot;)</text>
<text text-anchor="middle" x="6347" y="-840.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not bridge_dir:exists() then</text>
<text text-anchor="middle" x="6347" y="-824.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error (&quot;Could not create ~/.local/share/bridge/,&quot; ..</text>
<text text-anchor="middle" x="6347" y="-809.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;consider defining $BRIDGE_MODULES&quot;)</text>
<text text-anchor="middle" x="6347" y="-794.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6347" y="-778.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6347" y="-763.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_65&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>codeblock_65&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6067.6472,-1169.7186C6077.519,-1161.7457 6090.2822,-1151.4377 6104.9075,-1139.6256"/>
<polygon fill="#000000" stroke="#000000" points="6107.1394,-1142.322 6112.7199,-1133.316 6102.7412,-1136.8763 6107.1394,-1142.322"/>
</g>
<!-- header_96 -->
<g id="node97" class="node">
<title>header_96</title>
<ellipse fill="none" stroke="#000000" cx="6754" cy="-944.1015" rx="129.115" ry="18"/>
<text text-anchor="middle" x="6754" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : _unwrapForeignKey(result)</text>
</g>
<!-- section_66&#45;&gt;header_96 -->
<g id="edge96" class="edge">
<title>section_66&#45;&gt;header_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6836.3105,-1168.9298C6820.8421,-1126.6783 6782.5221,-1022.0085 6764.1457,-971.8142"/>
<polygon fill="#000000" stroke="#000000" points="6767.3703,-970.4411 6760.6457,-962.2539 6760.797,-972.8477 6767.3703,-970.4411"/>
</g>
<!-- prose_97 -->
<g id="node98" class="node">
<title>prose_97</title>
<ellipse fill="none" stroke="#000000" cx="6933" cy="-944.1015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6933" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_66&#45;&gt;prose_97 -->
<g id="edge97" class="edge">
<title>section_66&#45;&gt;prose_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6863.4134,-1169.5929C6873.4742,-1159.8427 6884.9339,-1146.935 6892,-1133.2018 6918.9977,-1080.731 6928.2494,-1011.2336 6931.3973,-972.781"/>
<polygon fill="#000000" stroke="#000000" points="6934.9216,-972.5766 6932.1623,-962.3474 6927.9403,-972.0647 6934.9216,-972.5766"/>
</g>
<!-- codeblock_98 -->
<g id="node99" class="node">
<title>codeblock_98</title>
<ellipse fill="none" stroke="#000000" cx="7076" cy="-944.1015" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7076" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 167&#45;175</text>
</g>
<!-- section_66&#45;&gt;codeblock_98 -->
<g id="edge98" class="edge">
<title>section_66&#45;&gt;codeblock_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6896.3909,-1174.303C6922.1696,-1165.9568 6952.1645,-1152.8833 6974,-1133.2018 7024.0635,-1088.077 7054.2695,-1012.4475 7067.7092,-971.8541"/>
<polygon fill="#000000" stroke="#000000" points="7071.043,-972.9197 7070.7667,-962.3285 7064.3779,-970.7803 7071.043,-972.9197"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="4883,-440.8021 4755,-440.8021 4755,-384.9991 4883,-384.9991 4883,-440.8021"/>
<text text-anchor="middle" x="4819" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Following the </text>
</g>
<!-- raw_68&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>raw_68&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4985.9466,-925.9254C4986.9152,-890.0239 4984.5417,-808.8357 4948,-755.0011 4931.3828,-730.52 4909.1142,-743.1374 4892,-719.0011 4833.3009,-636.2175 4821.3518,-512.4086 4819.2139,-450.6958"/>
<polygon fill="#000000" stroke="#000000" points="4822.7107,-450.5276 4818.9342,-440.6287 4815.7134,-450.7221 4822.7107,-450.5276"/>
</g>
<!-- anchortext_81 -->
<g id="node82" class="node">
<title>anchortext_81</title>
<ellipse fill="none" stroke="#000000" cx="4952" cy="-412.9006" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="4952" y="-408.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_69&#45;&gt;anchortext_81 -->
<g id="edge81" class="edge">
<title>link_69&#45;&gt;anchortext_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5053.9144,-926.0412C5048.0738,-892.3128 5034.7509,-817.5048 5021,-755.0011 5017.4564,-738.8939 5015.5874,-735.0986 5012,-719.0011 4989.2512,-616.9208 4966.6789,-494.6529 4956.9633,-440.7513"/>
<polygon fill="#000000" stroke="#000000" points="4960.4083,-440.1325 4955.1954,-430.9088 4953.5186,-441.3701 4960.4083,-440.1325"/>
</g>
<!-- url_82 -->
<g id="node83" class="node">
<title>url_82</title>
<ellipse fill="none" stroke="#000000" cx="5048" cy="-412.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="5048" y="-408.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_69&#45;&gt;url_82 -->
<g id="edge82" class="edge">
<title>link_69&#45;&gt;url_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5056.6902,-925.8163C5055.3568,-847.1187 5050.1015,-536.9351 5048.4794,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="5051.9775,-441.048 5048.3085,-431.1088 5044.9785,-441.1667 5051.9775,-441.048"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="5193,-432.2012 5093,-432.2012 5093,-393.6 5193,-393.6 5193,-432.2012"/>
<text text-anchor="middle" x="5143" y="-417.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">,</text>
<text text-anchor="middle" x="5143" y="-401.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">we place the</text>
</g>
<!-- raw_70&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>raw_70&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5193.2401,-926.1231C5185.6135,-848.2143 5155.3765,-539.3318 5145.8738,-442.2578"/>
<polygon fill="#000000" stroke="#000000" points="5149.3525,-441.8683 5144.8948,-432.2569 5142.3858,-442.5504 5149.3525,-441.8683"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5265,-430.9006 5211,-430.9006 5211,-394.9006 5265,-394.9006 5265,-430.9006"/>
<text text-anchor="middle" x="5238" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_71&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>prespace_71&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5314.8895,-926.0997C5306.3131,-888.043 5286.2904,-796.5439 5274,-719.0011 5257.8567,-617.1491 5245.6168,-495.17 5240.5522,-441.0919"/>
<polygon fill="#000000" stroke="#000000" points="5244.0166,-440.545 5239.6087,-430.9107 5237.0465,-441.191 5244.0166,-440.545"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="5397,-430.9006 5283,-430.9006 5283,-394.9006 5397,-394.9006 5397,-430.9006"/>
<text text-anchor="middle" x="5340" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">bridge.modules</text>
</g>
<!-- literal_72&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>literal_72&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5428.8863,-926.1231C5415.3463,-847.9442 5361.5256,-537.1875 5344.9109,-441.2559"/>
<polygon fill="#000000" stroke="#000000" points="5348.3154,-440.4032 5343.1602,-431.1472 5341.4181,-441.5979 5348.3154,-440.4032"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5739,-432.2012 5415,-432.2012 5415,-393.6 5739,-393.6 5739,-432.2012"/>
<text text-anchor="middle" x="5577" y="-417.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> database in a place defined first by a user</text>
<text text-anchor="middle" x="5577" y="-401.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">environment variable, then by</text>
</g>
<!-- raw_73&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>raw_73&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5518.0645,-926.1231C5527.0111,-848.2143 5562.4814,-539.3318 5573.6288,-442.2578"/>
<polygon fill="#000000" stroke="#000000" points="5577.1134,-442.591 5574.7772,-432.2569 5570.1592,-441.7923 5577.1134,-442.591"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="5811,-430.9006 5757,-430.9006 5757,-394.9006 5811,-394.9006 5811,-430.9006"/>
<text text-anchor="middle" x="5784" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_74&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>prespace_74&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5607.4194,-926.056C5609.2184,-889.3095 5618.2951,-805.0518 5663,-755.0011 5690.3299,-724.4031 5723.3803,-751.8192 5748,-719.0011 5811.1784,-634.7843 5798.508,-499.207 5789.2595,-440.9643"/>
<polygon fill="#000000" stroke="#000000" points="5792.6974,-440.3022 5787.5915,-431.0189 5785.7938,-441.4601 5792.6974,-440.3022"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="5936.5,-430.9006 5829.5,-430.9006 5829.5,-394.9006 5936.5,-394.9006 5936.5,-430.9006"/>
<text text-anchor="middle" x="5883" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG_DATA_HOME</text>
</g>
<!-- literal_75&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>literal_75&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5701.8121,-926.0182C5700.3937,-889.5694 5702.2125,-806.3829 5743,-755.0011 5766.4878,-725.4125 5796.5933,-748.6539 5820,-719.0011 5886.0048,-635.3829 5887.8213,-499.9669 5885.0838,-441.3969"/>
<polygon fill="#000000" stroke="#000000" points="5888.5594,-440.8565 5884.5137,-431.0645 5881.57,-441.2422 5888.5594,-440.8565"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="6279,-432.2012 5955,-432.2012 5955,-393.6 6279,-393.6 6279,-432.2012"/>
<text text-anchor="middle" x="6117" y="-417.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">, and if neither is defined,</text>
<text text-anchor="middle" x="6117" y="-401.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">attempt to put it in the default location of</text>
</g>
<!-- raw_76&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>raw_76&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5776.7198,-926.0319C5773.1077,-888.8666 5770.5078,-803.3013 5815,-755.0011 5855.6188,-710.9059 5897.8043,-755.9718 5945,-719.0011 6039.5813,-644.9109 6090.4796,-503.4608 6108.8945,-442.2914"/>
<polygon fill="#000000" stroke="#000000" points="6112.3075,-443.0909 6111.7665,-432.5099 6105.591,-441.1188 6112.3075,-443.0909"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="6351,-430.9006 6297,-430.9006 6297,-394.9006 6351,-394.9006 6351,-430.9006"/>
<text text-anchor="middle" x="6324" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_77&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>prespace_77&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5869.2761,-926.0332C5868.8282,-887.6995 5873.7577,-798.2067 5926,-755.0011 5988.2968,-703.4801 6230.3259,-775.6492 6288,-719.0011 6363.8057,-644.544 6343.6688,-501.4184 6330.8209,-440.9561"/>
<polygon fill="#000000" stroke="#000000" points="6334.1929,-439.9954 6328.6079,-430.9922 6327.3594,-441.5132 6334.1929,-439.9954"/>
</g>
<!-- leaf_93 -->
<g id="node94" class="node">
<title>leaf_93</title>
<polygon fill="none" stroke="#c0c0c0" points="6476.5,-430.9006 6369.5,-430.9006 6369.5,-394.9006 6476.5,-394.9006 6476.5,-430.9006"/>
<text text-anchor="middle" x="6423" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG_DATA_HOME</text>
</g>
<!-- literal_78&#45;&gt;leaf_93 -->
<g id="edge93" class="edge">
<title>literal_78&#45;&gt;leaf_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5963.5878,-925.9283C5959.659,-887.7919 5956.696,-799.2881 6006,-755.0011 6123.6508,-649.322 6242.6389,-825.0018 6360,-719.0011 6439.9556,-646.7851 6433.7763,-502.4237 6426.9813,-441.2944"/>
<polygon fill="#000000" stroke="#000000" points="6430.4385,-440.7278 6425.7692,-431.2173 6423.4886,-441.5638 6430.4385,-440.7278"/>
</g>
<!-- leaf_94 -->
<g id="node95" class="node">
<title>leaf_94</title>
<polygon fill="none" stroke="#c0c0c0" points="6623,-432.2012 6495,-432.2012 6495,-393.6 6623,-393.6 6623,-432.2012"/>
<text text-anchor="middle" x="6559" y="-417.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">, creating it if</text>
<text text-anchor="middle" x="6559" y="-401.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">necessary.</text>
</g>
<!-- raw_79&#45;&gt;leaf_94 -->
<g id="edge94" class="edge">
<title>raw_79&#45;&gt;leaf_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6039.1131,-925.9277C6034.2044,-887.7901 6029.0563,-799.2842 6078,-755.0011 6145.3292,-694.0833 6416.1965,-778.2486 6485,-719.0011 6566.6837,-648.6623 6566.441,-505.1038 6562.0145,-442.8298"/>
<polygon fill="#000000" stroke="#000000" points="6565.4765,-442.2137 6561.1888,-432.5252 6558.4988,-442.7729 6565.4765,-442.2137"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="4879,-53.4 4779,-53.4 4779,-17.4 4879,-17.4 4879,-53.4"/>
<text text-anchor="middle" x="4829" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG Standard</text>
</g>
<!-- anchortext_81&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>anchortext_81&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4951.6975,-394.5997C4950.2138,-345.4207 4941.5919,-207.3319 4892,-106.8001 4883.5021,-89.5734 4869.7395,-73.2752 4857.2421,-60.6117"/>
<polygon fill="#000000" stroke="#000000" points="4859.6725,-58.0929 4850.0793,-53.596 4854.7743,-63.0938 4859.6725,-58.0929"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="5445,-53.4 4897,-53.4 4897,-17.4 5445,-17.4 5445,-53.4"/>
<text text-anchor="middle" x="5171" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">https://specifications.freedesktop.org/basedir&#45;spec/basedir&#45;spec&#45;latest.html</text>
</g>
<!-- url_82&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>url_82&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5045.6913,-394.9517C5040.213,-345.4953 5030.6097,-204.4564 5084,-106.8001 5094.5361,-87.5285 5112.593,-71.415 5129.5348,-59.4017"/>
<polygon fill="#000000" stroke="#000000" points="5131.9319,-62.0054 5138.247,-53.4983 5128.0051,-56.2104 5131.9319,-62.0054"/>
</g>
<!-- leaf_99 -->
<g id="node100" class="node">
<title>leaf_99</title>
<polygon fill="none" stroke="#c0c0c0" points="6867,-430.9006 6641,-430.9006 6641,-394.9006 6867,-394.9006 6867,-430.9006"/>
<text text-anchor="middle" x="6754" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">**** _unwrapForeignKey(result)</text>
</g>
<!-- header_96&#45;&gt;leaf_99 -->
<g id="edge99" class="edge">
<title>header_96&#45;&gt;leaf_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6754,-925.8163C6754,-847.1187 6754,-536.9351 6754,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="6757.5001,-441.1088 6754,-431.1088 6750.5001,-441.1088 6757.5001,-441.1088"/>
</g>
<!-- raw_100 -->
<g id="node101" class="node">
<title>raw_100</title>
<ellipse fill="none" stroke="#000000" cx="6912" cy="-412.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="6912" y="-408.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_97&#45;&gt;raw_100 -->
<g id="edge100" class="edge">
<title>prose_97&#45;&gt;raw_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6932.2771,-925.8163C6929.166,-847.1187 6916.9035,-536.9351 6913.1186,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="6916.6122,-440.9627 6912.7198,-431.1088 6909.6177,-441.2393 6916.6122,-440.9627"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="7309,-470.701 6957,-470.701 6957,-355.1002 7309,-355.1002 7309,-470.701"/>
<text text-anchor="middle" x="7133" y="-455.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _unwrapForeignKey(result)</text>
<text text-anchor="middle" x="7133" y="-440.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if result and result[1] and result[1][1] then</text>
<text text-anchor="middle" x="7133" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return result[1][1]</text>
<text text-anchor="middle" x="7133" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="7133" y="-394.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return nil</text>
<text text-anchor="middle" x="7133" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7133" y="-363.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_98&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>codeblock_98&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7077.9621,-925.8163C7085.4546,-855.9914 7112.5012,-603.935 7125.6801,-481.1169"/>
<polygon fill="#000000" stroke="#000000" points="7129.171,-481.3885 7126.758,-471.0721 7122.2109,-480.6416 7129.171,-481.3885"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="7189.5,-70.7004 6634.5,-70.7004 6634.5,-.0997 7189.5,-.0997 7189.5,-70.7004"/>
<text text-anchor="middle" x="6912" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Just peeling off layers here. &#160;I realize there are more sophisticated ways to</text>
<text text-anchor="middle" x="6912" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">do almost everything but for now this will get us where we&#39;re going.</text>
</g>
<!-- raw_100&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>raw_100&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6912,-394.6929C6912,-338.1268 6912,-164.2467 6912,-80.8877"/>
<polygon fill="#000000" stroke="#000000" points="6915.5001,-80.705 6912,-70.705 6908.5001,-80.705 6915.5001,-80.705"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="7318.5,-962.1015 7183.5,-962.1015 7183.5,-926.1015 7318.5,-926.1015 7318.5,-962.1015"/>
<text text-anchor="middle" x="7251" y="-940.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.load()</text>
</g>
<!-- header_103&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>header_103&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7291.6928,-1168.9298C7284.0615,-1126.7665 7265.1799,-1022.4453 7256.0729,-972.1293"/>
<polygon fill="#000000" stroke="#000000" points="7259.5106,-971.4706 7254.2855,-962.2539 7252.6226,-972.7174 7259.5106,-971.4706"/>
</g>
<!-- raw_108 -->
<g id="node109" class="node">
<title>raw_108</title>
<ellipse fill="none" stroke="#000000" cx="7364" cy="-944.1015" rx="27" ry="18"/>
<text text-anchor="middle" x="7364" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_104&#45;&gt;raw_108 -->
<g id="edge108" class="edge">
<title>prose_104&#45;&gt;raw_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7477.3078,-1180.065C7452.7383,-1172.5735 7418.909,-1158.295 7400,-1133.2018 7364.0747,-1085.5272 7360.7563,-1012.3187 7362.0323,-972.419"/>
<polygon fill="#000000" stroke="#000000" points="7365.5332,-972.4744 7362.4776,-962.3298 7358.54,-972.1657 7365.5332,-972.4744"/>
</g>
<!-- prespace_109 -->
<g id="node110" class="node">
<title>prespace_109</title>
<ellipse fill="none" stroke="#000000" cx="7455" cy="-944.1015" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7455" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_104&#45;&gt;prespace_109 -->
<g id="edge109" class="edge">
<title>prose_104&#45;&gt;prespace_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7503.1763,-1169.3261C7494.2204,-1127.4571 7471.8276,-1022.7708 7461.0211,-972.2502"/>
<polygon fill="#000000" stroke="#000000" points="7464.4143,-971.3805 7458.9,-962.3338 7457.5692,-972.8448 7464.4143,-971.3805"/>
</g>
<!-- literal_110 -->
<g id="node111" class="node">
<title>literal_110</title>
<ellipse fill="none" stroke="#000000" cx="7551" cy="-944.1015" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7551" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_104&#45;&gt;literal_110 -->
<g id="edge110" class="edge">
<title>prose_104&#45;&gt;literal_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7510.3072,-1168.9298C7517.9385,-1126.7665 7536.8201,-1022.4453 7545.9271,-972.1293"/>
<polygon fill="#000000" stroke="#000000" points="7549.3774,-972.7174 7547.7145,-962.2539 7542.4894,-971.4706 7549.3774,-972.7174"/>
</g>
<!-- raw_111 -->
<g id="node112" class="node">
<title>raw_111</title>
<ellipse fill="none" stroke="#000000" cx="7627" cy="-944.1015" rx="27" ry="18"/>
<text text-anchor="middle" x="7627" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_104&#45;&gt;raw_111 -->
<g id="edge111" class="edge">
<title>prose_104&#45;&gt;raw_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7533.5431,-1176.9368C7552.5442,-1168.1912 7577.1289,-1153.7497 7591,-1133.2018 7624.2431,-1083.9572 7628.6759,-1011.9089 7628.2814,-972.4804"/>
<polygon fill="#000000" stroke="#000000" points="7631.7761,-972.193 7628.0621,-962.2706 7624.7777,-972.3435 7631.7761,-972.193"/>
</g>
<!-- leaf_116 -->
<g id="node117" class="node">
<title>leaf_116</title>
<polygon fill="none" stroke="#c0c0c0" points="8108,-1055.7022 7672,-1055.7022 7672,-832.5007 8108,-832.5007 8108,-1055.7022"/>
<text text-anchor="middle" x="7890" y="-1040.7017" font-family="Inconsolata" font-size="14.00" fill="#000000">function Loader.load()</text>
<text text-anchor="middle" x="7890" y="-1025.3016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local new = not (File(bridge_modules) : exists())</text>
<text text-anchor="middle" x="7890" y="-1009.9016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if new then</text>
<text text-anchor="middle" x="7890" y="-994.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;print &quot;creating new bridge.modules&quot;</text>
<text text-anchor="middle" x="7890" y="-979.1015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7890" y="-963.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local conn = sql.open(bridge_modules)</text>
<text text-anchor="middle" x="7890" y="-948.3015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo: turn on foreign_keys pragma when we add sqlayer</text>
<text text-anchor="middle" x="7890" y="-932.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if new then</text>
<text text-anchor="middle" x="7890" y="-917.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_project_table)</text>
<text text-anchor="middle" x="7890" y="-902.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_code_table)</text>
<text text-anchor="middle" x="7890" y="-886.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_module_table)</text>
<text text-anchor="middle" x="7890" y="-871.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7890" y="-855.9013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return conn</text>
<text text-anchor="middle" x="7890" y="-840.5013" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_105&#45;&gt;leaf_116 -->
<g id="edge116" class="edge">
<title>codeblock_105&#45;&gt;leaf_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7797.5163,-1168.9298C7806.8291,-1146.2901 7823.5139,-1105.7294 7840.1731,-1065.2309"/>
<polygon fill="#000000" stroke="#000000" points="7843.4946,-1066.3563 7844.0621,-1055.7766 7837.021,-1063.6933 7843.4946,-1066.3563"/>
</g>
<!-- header_117 -->
<g id="node118" class="node">
<title>header_117</title>
<ellipse fill="none" stroke="#000000" cx="8325" cy="-944.1015" rx="198.7451" ry="18"/>
<text text-anchor="middle" x="8325" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Loader.commitModule(conn, bytecode, deck)</text>
</g>
<!-- section_106&#45;&gt;header_117 -->
<g id="edge117" class="edge">
<title>section_106&#45;&gt;header_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8439.882,-1169.3261C8418.3916,-1127.1944 8364.4559,-1021.4543 8338.8761,-971.3054"/>
<polygon fill="#000000" stroke="#000000" points="8341.9616,-969.6516 8334.2999,-962.3338 8335.726,-972.8323 8341.9616,-969.6516"/>
</g>
<!-- prose_118 -->
<g id="node119" class="node">
<title>prose_118</title>
<ellipse fill="none" stroke="#000000" cx="8574" cy="-944.1015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8574" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_106&#45;&gt;prose_118 -->
<g id="edge118" class="edge">
<title>section_106&#45;&gt;prose_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8486.1752,-1171.4705C8502.8992,-1162.58 8521.4384,-1149.8683 8533,-1133.2018 8567.041,-1084.1301 8573.5749,-1012.0146 8574.3898,-972.5288"/>
<polygon fill="#000000" stroke="#000000" points="8577.8917,-972.3359 8574.4861,-962.3033 8570.892,-972.2699 8577.8917,-972.3359"/>
</g>
<!-- codeblock_119 -->
<g id="node120" class="node">
<title>codeblock_119</title>
<ellipse fill="none" stroke="#000000" cx="8767" cy="-944.1015" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="8767" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 204&#45;211</text>
</g>
<!-- section_106&#45;&gt;codeblock_119 -->
<g id="edge119" class="edge">
<title>section_106&#45;&gt;codeblock_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8509.6328,-1176.3496C8542.869,-1168.313 8583.5733,-1154.8927 8615,-1133.2018 8678.3562,-1089.4731 8728.7216,-1011.8009 8752.3534,-970.9388"/>
<polygon fill="#000000" stroke="#000000" points="8755.4825,-972.5166 8757.3827,-962.0935 8749.3973,-969.0567 8755.4825,-972.5166"/>
</g>
<!-- leaf_112 -->
<g id="node113" class="node">
<title>leaf_112</title>
<polygon fill="none" stroke="#c0c0c0" points="7406.5,-440.8021 7327.5,-440.8021 7327.5,-384.9991 7406.5,-384.9991 7406.5,-440.8021"/>
<text text-anchor="middle" x="7367" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">Loads the</text>
</g>
<!-- raw_108&#45;&gt;leaf_112 -->
<g id="edge112" class="edge">
<title>raw_108&#45;&gt;leaf_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7364.1033,-925.8163C7364.5336,-849.6215 7366.1894,-556.4301 7366.785,-450.9673"/>
<polygon fill="#000000" stroke="#000000" points="7370.2859,-450.8017 7366.8425,-440.7821 7363.286,-450.7621 7370.2859,-450.8017"/>
</g>
<!-- leaf_113 -->
<g id="node114" class="node">
<title>leaf_113</title>
<polygon fill="none" stroke="#c0c0c0" points="7479,-430.9006 7425,-430.9006 7425,-394.9006 7479,-394.9006 7479,-430.9006"/>
<text text-anchor="middle" x="7452" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_109&#45;&gt;leaf_113 -->
<g id="edge113" class="edge">
<title>prespace_109&#45;&gt;leaf_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7454.8967,-925.8163C7454.4523,-847.1187 7452.7005,-536.9351 7452.1598,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="7455.6594,-441.0888 7452.1028,-431.1088 7448.6595,-441.1284 7455.6594,-441.0888"/>
</g>
<!-- leaf_114 -->
<g id="node115" class="node">
<title>leaf_114</title>
<polygon fill="none" stroke="#c0c0c0" points="7611,-430.9006 7497,-430.9006 7497,-394.9006 7611,-394.9006 7611,-430.9006"/>
<text text-anchor="middle" x="7554" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">bridge.modules</text>
</g>
<!-- literal_110&#45;&gt;leaf_114 -->
<g id="edge114" class="edge">
<title>literal_110&#45;&gt;leaf_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7551.1033,-925.8163C7551.5477,-847.1187 7553.2995,-536.9351 7553.8402,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="7557.3405,-441.1284 7553.8972,-431.1088 7550.3406,-441.0888 7557.3405,-441.1284"/>
</g>
<!-- leaf_115 -->
<g id="node116" class="node">
<title>leaf_115</title>
<polygon fill="none" stroke="#c0c0c0" points="7953,-430.9006 7629,-430.9006 7629,-394.9006 7953,-394.9006 7953,-430.9006"/>
<text text-anchor="middle" x="7791" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> database and returns the SQLite connection.</text>
</g>
<!-- raw_111&#45;&gt;leaf_115 -->
<g id="edge115" class="edge">
<title>raw_111&#45;&gt;leaf_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7629.3803,-926.1398C7634.0974,-892.264 7645.6947,-816.789 7663,-755.0011 7696.5583,-635.1823 7753.8719,-498.0599 7778.8097,-440.552"/>
<polygon fill="#000000" stroke="#000000" points="7782.153,-441.6411 7782.9394,-431.0755 7775.7358,-438.8447 7782.153,-441.6411"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="8449,-430.9006 8111,-430.9006 8111,-394.9006 8449,-394.9006 8449,-430.9006"/>
<text text-anchor="middle" x="8280" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">**** Loader.commitModule(conn, bytecode, deck)</text>
</g>
<!-- header_117&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>header_117&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8323.451,-925.8163C8316.7842,-847.1187 8290.5074,-536.9351 8282.3971,-441.1969"/>
<polygon fill="#000000" stroke="#000000" points="8285.8742,-440.7776 8281.5425,-431.1088 8278.8992,-441.3686 8285.8742,-440.7776"/>
</g>
<!-- raw_121 -->
<g id="node122" class="node">
<title>raw_121</title>
<ellipse fill="none" stroke="#000000" cx="8494" cy="-412.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="8494" y="-408.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_118&#45;&gt;raw_121 -->
<g id="edge121" class="edge">
<title>prose_118&#45;&gt;raw_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8569.9964,-926.0934C8561.6398,-888.0249 8542.1143,-796.5045 8530,-719.0011 8514.0744,-617.1148 8501.7244,-495.1531 8496.5921,-441.0857"/>
<polygon fill="#000000" stroke="#000000" points="8500.0559,-440.535 8495.6353,-430.9065 8493.0866,-441.1902 8500.0559,-440.535"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="9017,-463.4007 8539,-463.4007 8539,-362.4004 9017,-362.4004 9017,-463.4007"/>
<text text-anchor="middle" x="8778" y="-448.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local function commitModule(conn, bytecode, project_id)</text>
<text text-anchor="middle" x="8778" y="-432.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local get_proj = sql.format(get_project_id, deck.codex.project)</text>
<text text-anchor="middle" x="8778" y="-417.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local project_id = _unwrapForeignKey(conn:exec(get_proj))</text>
<text text-anchor="middle" x="8778" y="-402.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="8778" y="-370.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">Loader.commitModule = commitModule</text>
</g>
<!-- codeblock_119&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>codeblock_119&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8767.3786,-925.8163C8768.8543,-854.5547 8774.2605,-593.4856 8776.7409,-473.7027"/>
<polygon fill="#000000" stroke="#000000" points="8780.2423,-473.6678 8776.9502,-463.5975 8773.2438,-473.5228 8780.2423,-473.6678"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="8666.5,-63.3015 8321.5,-63.3015 8321.5,-7.4985 8666.5,-7.4985 8666.5,-63.3015"/>
<text text-anchor="middle" x="8494" y="-15.9" font-family="Inconsolata" font-size="14.00" fill="#000000">Commits a single module and associated bytecode</text>
</g>
<!-- raw_121&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>raw_121&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8494,-394.6929C8494,-336.3392 8494,-153.1394 8494,-73.2624"/>
<polygon fill="#000000" stroke="#000000" points="8497.5001,-73.1489 8494,-63.149 8490.5001,-73.149 8497.5001,-73.1489"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="9143.5,-962.1015 8882.5,-962.1015 8882.5,-926.1015 9143.5,-926.1015 9143.5,-962.1015"/>
<text text-anchor="middle" x="9013" y="-940.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.commitCodex(conn, codex)</text>
</g>
<!-- header_124&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>header_124&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9013,-1168.9298C9013,-1126.8547 9013,-1022.8815 9013,-972.4458"/>
<polygon fill="#000000" stroke="#000000" points="9016.5001,-972.2539 9013,-962.2539 9009.5001,-972.2539 9016.5001,-972.2539"/>
</g>
<!-- raw_129 -->
<g id="node130" class="node">
<title>raw_129</title>
<ellipse fill="none" stroke="#000000" cx="9200" cy="-944.1015" rx="27" ry="18"/>
<text text-anchor="middle" x="9200" y="-939.9015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_125&#45;&gt;raw_129 -->
<g id="edge129" class="edge">
<title>prose_125&#45;&gt;raw_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9221.2713,-1168.9298C9217.2905,-1126.8547 9207.4535,-1022.8815 9202.6817,-972.4458"/>
<polygon fill="#000000" stroke="#000000" points="9206.1439,-971.8797 9201.7174,-962.2539 9199.175,-972.5391 9206.1439,-971.8797"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="9688.5,-1117.4022 9245.5,-1117.4022 9245.5,-770.8007 9688.5,-770.8007 9688.5,-1117.4022"/>
<text text-anchor="middle" x="9467" y="-1102.3018" font-family="Inconsolata" font-size="14.00" fill="#000000">function Loader.commitCodex(conn, codex)</text>
<text text-anchor="middle" x="9467" y="-1086.9018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; begin transaction</text>
<text text-anchor="middle" x="9467" y="-1071.5017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec &quot;BEGIN TRANSACTION;&quot;</text>
<text text-anchor="middle" x="9467" y="-1056.1017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; upsert project</text>
<text text-anchor="middle" x="9467" y="-1040.7017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; select project_id</text>
<text text-anchor="middle" x="9467" y="-1025.3016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local get_proj = sql.format(get_project_id, codex.project)</text>
<text text-anchor="middle" x="9467" y="-1009.9016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local project_id = _unwrapForeignKey(conn:exec(get_proj))</text>
<text text-anchor="middle" x="9467" y="-994.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if project_id then</text>
<text text-anchor="middle" x="9467" y="-979.1015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;print (&quot;project_id is &quot; .. project_id)</text>
<text text-anchor="middle" x="9467" y="-963.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="9467" y="-948.3015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="9467" y="-932.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;error(&quot;no project_id for &quot; .. codex.project)</text>
<text text-anchor="middle" x="9467" y="-917.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="9467" y="-902.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for name, bytecode in pairs(deck.bytecodes) do</text>
<text text-anchor="middle" x="9467" y="-886.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; upsert code.binary and code.hash</text>
<text text-anchor="middle" x="9467" y="-871.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; select code_id</text>
<text text-anchor="middle" x="9467" y="-855.9013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; upsert module</text>
<text text-anchor="middle" x="9467" y="-840.5013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="9467" y="-825.1012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; commit transaction</text>
<text text-anchor="middle" x="9467" y="-809.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec &quot;COMMIT;&quot;</text>
<text text-anchor="middle" x="9467" y="-794.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; return conn</text>
<text text-anchor="middle" x="9467" y="-778.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_126&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>codeblock_126&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9417.9836,-1168.9298C9420.2778,-1158.407 9423.416,-1144.0125 9427.0046,-1127.5523"/>
<polygon fill="#000000" stroke="#000000" points="9430.4561,-1128.1517 9429.1666,-1117.6356 9423.6167,-1126.6606 9430.4561,-1128.1517"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="9813.5,-962.1015 9706.5,-962.1015 9706.5,-926.1015 9813.5,-926.1015 9813.5,-962.1015"/>
<text text-anchor="middle" x="9760" y="-940.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">return Loader</text>
</g>
<!-- codeblock_127&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>codeblock_127&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9688.7875,-1168.9298C9702.1703,-1126.6783 9735.3236,-1022.0085 9751.2222,-971.8142"/>
<polygon fill="#000000" stroke="#000000" points="9754.5674,-972.844 9754.2504,-962.2539 9747.8941,-970.7303 9754.5674,-972.844"/>
</g>
<!-- leaf_130 -->
<g id="node131" class="node">
<title>leaf_130</title>
<polygon fill="none" stroke="#c0c0c0" points="9387,-440.8021 9035,-440.8021 9035,-384.9991 9387,-384.9991 9387,-440.8021"/>
<text text-anchor="middle" x="9211" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">This commmits the bytecodes and closes the conn.</text>
</g>
<!-- raw_129&#45;&gt;leaf_130 -->
<g id="edge130" class="edge">
<title>raw_129&#45;&gt;leaf_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9200.3786,-925.8163C9201.9565,-849.6215 9208.0278,-556.4301 9210.2117,-450.9673"/>
<polygon fill="#000000" stroke="#000000" points="9213.7148,-450.8524 9210.4226,-440.7821 9206.7163,-450.7074 9213.7148,-450.8524"/>
</g>
</g>
</svg>
