<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="11212pt" height="1862pt"
 viewBox="0.00 0.00 11211.50 1861.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1857.6026)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1857.6026 11207.5,-1857.6026 11207.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="3961" cy="-1835.6026" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="3961" y="-1831.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 337</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="3961" cy="-1763.6026" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3961" y="-1759.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;293</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3961,-1817.434C3961,-1809.7336 3961,-1800.577 3961,-1792.0193"/>
<polygon fill="#000000" stroke="#000000" points="3964.5001,-1792.0159 3961,-1782.0159 3957.5001,-1792.0159 3964.5001,-1792.0159"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="726" cy="-1691.6026" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="726" y="-1687.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : loader</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3895.2076,-1763.4804C3504.1419,-1762.5992 1481.4488,-1755.8407 862,-1709.6026 834.6539,-1707.5614 804.3961,-1703.7153 779.3771,-1700.1007"/>
<polygon fill="#000000" stroke="#000000" points="779.7587,-1696.6192 769.3555,-1698.6251 778.739,-1703.5445 779.7587,-1696.6192"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="903" cy="-1691.6026" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="903" y="-1687.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3895.2608,-1763.2016C3484.7996,-1760.5928 1281.7175,-1745.0189 984,-1709.6026 970.0932,-1707.9483 955.0672,-1704.9545 941.7777,-1701.8772"/>
<polygon fill="#000000" stroke="#000000" points="942.5419,-1698.4613 932.001,-1699.5285 940.9067,-1705.2677 942.5419,-1698.4613"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1025" cy="-1691.6026" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1025" y="-1687.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3895.561,-1761.9978C3496.2954,-1752.2066 1394.5825,-1700.666 1067.7392,-1692.6507"/>
<polygon fill="#000000" stroke="#000000" points="1067.3772,-1689.1409 1057.2943,-1692.3946 1067.2055,-1696.1388 1067.3772,-1689.1409"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="2498" cy="-1691.6026" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2498" y="-1687.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 10&#45;30</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3896.249,-1760.416C3657.6205,-1748.6721 2828.0132,-1707.8439 2573.0969,-1695.2984"/>
<polygon fill="#000000" stroke="#000000" points="2572.9908,-1691.7891 2562.8308,-1694.7932 2572.6467,-1698.7806 2572.9908,-1691.7891"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="3447" cy="-1691.6026" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3447" y="-1687.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 31&#45;91</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3902.0377,-1755.3433C3806.3084,-1741.9338 3617.5629,-1715.4947 3515.8348,-1701.2448"/>
<polygon fill="#000000" stroke="#000000" points="3516.0578,-1697.742 3505.6689,-1699.8208 3515.0867,-1704.6743 3516.0578,-1697.742"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="4597" cy="-1691.6026" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4597" y="-1687.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 154&#45;173</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4021.6943,-1756.7316C4137.4768,-1743.6241 4389.7786,-1715.0616 4518.3221,-1700.5096"/>
<polygon fill="#000000" stroke="#000000" points="4518.9452,-1703.9615 4528.488,-1699.3587 4518.1577,-1697.0059 4518.9452,-1703.9615"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="5762" cy="-1691.6026" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5762" y="-1687.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 174&#45;209</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4026.1625,-1760.9976C4301.2248,-1750.0012 5367.3829,-1707.3785 5677.1532,-1694.9946"/>
<polygon fill="#000000" stroke="#000000" points="5677.5612,-1698.4812 5687.4133,-1694.5844 5677.2815,-1691.4868 5677.5612,-1698.4812"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="7571" cy="-1691.6026" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7571" y="-1687.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 226&#45;247</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4026.74,-1762.2915C4467.1246,-1753.5082 6986.086,-1703.2685 7485.0977,-1693.3159"/>
<polygon fill="#000000" stroke="#000000" points="7485.5347,-1696.808 7495.4628,-1693.1092 7485.395,-1689.8094 7485.5347,-1696.808"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="8857" cy="-1691.6026" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8857" y="-1687.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 248&#45;279</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4026.5956,-1762.6525C4389.3258,-1757.3965 6186.3823,-1731.3333 7655,-1709.6026 8073.4826,-1703.4105 8573.9174,-1695.8741 8771.1158,-1692.8993"/>
<polygon fill="#000000" stroke="#000000" points="8771.4615,-1696.3945 8781.4076,-1692.744 8771.3559,-1689.3953 8771.4615,-1696.3945"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="10547" cy="-1691.6026" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10547" y="-1687.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 294&#45;337</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4026.6266,-1762.9C4457.6493,-1758.2837 6928.1459,-1731.7957 8941,-1709.6026 9522.0104,-1703.1966 10221.2531,-1695.293 10461.2805,-1692.5744"/>
<polygon fill="#000000" stroke="#000000" points="10461.3778,-1696.0736 10471.3375,-1692.4604 10461.2984,-1689.074 10461.3778,-1696.0736"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="721,-1637.6026 649,-1637.6026 649,-1601.6026 721,-1601.6026 721,-1637.6026"/>
<text text-anchor="middle" x="685" y="-1616.1026" font-family="Inconsolata" font-size="14.00" fill="#000000">* loader</text>
</g>
<!-- header_2&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>header_2&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M715.8652,-1673.8049C711.1699,-1665.5595 705.4902,-1655.5854 700.2897,-1646.4528"/>
<polygon fill="#000000" stroke="#000000" points="703.2929,-1644.6537 695.303,-1637.6957 697.21,-1648.1176 703.2929,-1644.6537"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="766" cy="-1619.6026" rx="27" ry="18"/>
<text text-anchor="middle" x="766" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M879.4489,-1679.2254C856.5196,-1667.175 821.5601,-1648.8021 796.5117,-1635.638"/>
<polygon fill="#000000" stroke="#000000" points="797.923,-1632.4258 787.4427,-1630.8718 794.6664,-1638.6222 797.923,-1632.4258"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="838" cy="-1619.6026" rx="27" ry="18"/>
<text text-anchor="middle" x="838" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M996.7815,-1682.6398C966.1521,-1672.6512 915.9919,-1655.5323 874,-1637.6026 872.2167,-1636.8412 870.3969,-1636.0333 868.5697,-1635.198"/>
<polygon fill="#000000" stroke="#000000" points="870.0375,-1632.0204 859.504,-1630.8812 867.028,-1638.3405 870.0375,-1632.0204"/>
</g>
<!-- prespace_16 -->
<g id="node17" class="node">
<title>prespace_16</title>
<ellipse fill="none" stroke="#000000" cx="929" cy="-1619.6026" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="929" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_4&#45;&gt;prespace_16 -->
<g id="edge16" class="edge">
<title>prose_4&#45;&gt;prespace_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1005.573,-1677.0323C992.0746,-1666.9085 973.8362,-1653.2298 958.5453,-1641.7616"/>
<polygon fill="#000000" stroke="#000000" points="960.5024,-1638.8545 950.4024,-1635.6544 956.3024,-1644.4545 960.5024,-1638.8545"/>
</g>
<!-- literal_17 -->
<g id="node18" class="node">
<title>literal_17</title>
<ellipse fill="none" stroke="#000000" cx="1025" cy="-1619.6026" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1025" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_4&#45;&gt;literal_17 -->
<g id="edge17" class="edge">
<title>prose_4&#45;&gt;literal_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1025,-1673.434C1025,-1665.7336 1025,-1656.577 1025,-1648.0193"/>
<polygon fill="#000000" stroke="#000000" points="1028.5001,-1648.0159 1025,-1638.0159 1021.5001,-1648.0159 1028.5001,-1648.0159"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="1170" cy="-1619.6026" rx="27" ry="18"/>
<text text-anchor="middle" x="1170" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_4&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1049.2697,-1679.5514C1073.9341,-1667.3043 1112.2278,-1648.2895 1139.0574,-1634.9672"/>
<polygon fill="#000000" stroke="#000000" points="1140.6281,-1638.0951 1148.0281,-1630.5128 1137.5149,-1631.8255 1140.6281,-1638.0951"/>
</g>
<!-- header_23 -->
<g id="node24" class="node">
<title>header_23</title>
<ellipse fill="none" stroke="#000000" cx="1813" cy="-1619.6026" rx="51.2759" ry="18"/>
<text text-anchor="middle" x="1813" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : imports</text>
</g>
<!-- section_5&#45;&gt;header_23 -->
<g id="edge23" class="edge">
<title>section_5&#45;&gt;header_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2436.608,-1685.1497C2305.8392,-1671.4047 2001.2531,-1639.3898 1872.3323,-1625.839"/>
<polygon fill="#000000" stroke="#000000" points="1872.5628,-1622.344 1862.2517,-1624.7794 1871.831,-1629.3057 1872.5628,-1622.344"/>
</g>
<!-- prose_24 -->
<g id="node25" class="node">
<title>prose_24</title>
<ellipse fill="none" stroke="#000000" cx="2041" cy="-1619.6026" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2041" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_24 -->
<g id="edge24" class="edge">
<title>section_5&#45;&gt;prose_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2441.0447,-1682.6294C2347.6555,-1667.916 2164.1735,-1639.0085 2082.2285,-1626.0981"/>
<polygon fill="#000000" stroke="#000000" points="2082.7092,-1622.6308 2072.2864,-1624.5318 2081.6198,-1629.5455 2082.7092,-1622.6308"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="2498" cy="-1619.6026" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2498" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 17&#45;24</text>
</g>
<!-- section_5&#45;&gt;codeblock_25 -->
<g id="edge25" class="edge">
<title>section_5&#45;&gt;codeblock_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2498,-1673.434C2498,-1665.7336 2498,-1656.577 2498,-1648.0193"/>
<polygon fill="#000000" stroke="#000000" points="2501.5001,-1648.0159 2498,-1638.0159 2494.5001,-1648.0159 2501.5001,-1648.0159"/>
</g>
<!-- codeblock_26 -->
<g id="node27" class="node">
<title>codeblock_26</title>
<ellipse fill="none" stroke="#000000" cx="2724" cy="-1619.6026" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2724" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 26&#45;28</text>
</g>
<!-- section_5&#45;&gt;codeblock_26 -->
<g id="edge26" class="edge">
<title>section_5&#45;&gt;codeblock_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2541.0408,-1677.8905C2577.1686,-1666.3808 2629.0255,-1649.86 2668.3122,-1637.3439"/>
<polygon fill="#000000" stroke="#000000" points="2669.5466,-1640.624 2678.0123,-1634.2536 2667.4217,-1633.9543 2669.5466,-1640.624"/>
</g>
<!-- header_44 -->
<g id="node45" class="node">
<title>header_44</title>
<ellipse fill="none" stroke="#000000" cx="3101" cy="-1619.6026" rx="61.3032" ry="18"/>
<text text-anchor="middle" x="3101" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : SQL code</text>
</g>
<!-- section_6&#45;&gt;header_44 -->
<g id="edge44" class="edge">
<title>section_6&#45;&gt;header_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3394.45,-1680.6674C3331.694,-1667.6083 3226.9578,-1645.8135 3161.0584,-1632.1003"/>
<polygon fill="#000000" stroke="#000000" points="3161.7309,-1628.6654 3151.2276,-1630.0546 3160.3048,-1635.5186 3161.7309,-1628.6654"/>
</g>
<!-- prose_45 -->
<g id="node46" class="node">
<title>prose_45</title>
<ellipse fill="none" stroke="#000000" cx="3253" cy="-1619.6026" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3253" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_45 -->
<g id="edge45" class="edge">
<title>section_6&#45;&gt;prose_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3407.7412,-1677.0323C3373.177,-1664.2044 3323.2338,-1645.6688 3289.5159,-1633.1549"/>
<polygon fill="#000000" stroke="#000000" points="3290.6284,-1629.8346 3280.0355,-1629.6364 3288.1928,-1636.3972 3290.6284,-1629.8346"/>
</g>
<!-- section_46 -->
<g id="node47" class="node">
<title>section_46</title>
<ellipse fill="none" stroke="#000000" cx="3447" cy="-1619.6026" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3447" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 36&#45;91</text>
</g>
<!-- section_6&#45;&gt;section_46 -->
<g id="edge46" class="edge">
<title>section_6&#45;&gt;section_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3447,-1673.434C3447,-1665.7336 3447,-1656.577 3447,-1648.0193"/>
<polygon fill="#000000" stroke="#000000" points="3450.5001,-1648.0159 3447,-1638.0159 3443.5001,-1648.0159 3450.5001,-1648.0159"/>
</g>
<!-- section_47 -->
<g id="node48" class="node">
<title>section_47</title>
<ellipse fill="none" stroke="#000000" cx="4034" cy="-1619.6026" rx="70.655" ry="18"/>
<text text-anchor="middle" x="4034" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 92&#45;153</text>
</g>
<!-- section_6&#45;&gt;section_47 -->
<g id="edge47" class="edge">
<title>section_6&#45;&gt;section_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3507.0607,-1684.2357C3615.2362,-1670.9672 3842.4725,-1643.0949 3960.0351,-1628.675"/>
<polygon fill="#000000" stroke="#000000" points="3960.5299,-1632.1406 3970.0293,-1627.4491 3959.6776,-1625.1927 3960.5299,-1632.1406"/>
</g>
<!-- header_65 -->
<g id="node66" class="node">
<title>header_65</title>
<ellipse fill="none" stroke="#000000" cx="4492" cy="-1619.6026" rx="159.9496" ry="18"/>
<text text-anchor="middle" x="4492" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : SQL loader.load(conn, mod_name)</text>
</g>
<!-- section_7&#45;&gt;header_65 -->
<g id="edge65" class="edge">
<title>section_7&#45;&gt;header_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4572.1165,-1674.5396C4558.5302,-1665.2234 4541.4945,-1653.5417 4526.6293,-1643.3484"/>
<polygon fill="#000000" stroke="#000000" points="4528.3968,-1640.3166 4518.1702,-1637.5479 4524.4381,-1646.0898 4528.3968,-1640.3166"/>
</g>
<!-- prose_66 -->
<g id="node67" class="node">
<title>prose_66</title>
<ellipse fill="none" stroke="#000000" cx="4702" cy="-1619.6026" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4702" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_66 -->
<g id="edge66" class="edge">
<title>section_7&#45;&gt;prose_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4621.8835,-1674.5396C4637.2341,-1664.0135 4656.9883,-1650.4678 4673.04,-1639.4609"/>
<polygon fill="#000000" stroke="#000000" points="4675.2573,-1642.1844 4681.5252,-1633.6425 4671.2985,-1636.4113 4675.2573,-1642.1844"/>
</g>
<!-- codeblock_67 -->
<g id="node68" class="node">
<title>codeblock_67</title>
<ellipse fill="none" stroke="#000000" cx="4859" cy="-1619.6026" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4859" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 158&#45;171</text>
</g>
<!-- section_7&#45;&gt;codeblock_67 -->
<g id="edge67" class="edge">
<title>section_7&#45;&gt;codeblock_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4646.5882,-1677.9753C4689.1573,-1666.277 4750.7286,-1649.3566 4796.6323,-1636.7418"/>
<polygon fill="#000000" stroke="#000000" points="4797.755,-1640.0631 4806.4701,-1634.0383 4795.9001,-1633.3134 4797.755,-1640.0631"/>
</g>
<!-- header_72 -->
<g id="node73" class="node">
<title>header_72</title>
<ellipse fill="none" stroke="#000000" cx="5362" cy="-1619.6026" rx="110.9288" ry="18"/>
<text text-anchor="middle" x="5362" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Environment Variables</text>
</g>
<!-- section_8&#45;&gt;header_72 -->
<g id="edge72" class="edge">
<title>section_8&#45;&gt;header_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5701.6829,-1680.7455C5633.7997,-1668.5266 5523.0351,-1648.5889 5446.5411,-1634.82"/>
<polygon fill="#000000" stroke="#000000" points="5446.914,-1631.331 5436.4521,-1633.004 5445.6739,-1638.2203 5446.914,-1631.331"/>
</g>
<!-- prose_73 -->
<g id="node74" class="node">
<title>prose_73</title>
<ellipse fill="none" stroke="#000000" cx="5762" cy="-1619.6026" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5762" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_73 -->
<g id="edge73" class="edge">
<title>section_8&#45;&gt;prose_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5762,-1673.434C5762,-1665.7336 5762,-1656.577 5762,-1648.0193"/>
<polygon fill="#000000" stroke="#000000" points="5765.5001,-1648.0159 5762,-1638.0159 5758.5001,-1648.0159 5765.5001,-1648.0159"/>
</g>
<!-- codeblock_74 -->
<g id="node75" class="node">
<title>codeblock_74</title>
<ellipse fill="none" stroke="#000000" cx="6202" cy="-1619.6026" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6202" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 182&#45;207</text>
</g>
<!-- section_8&#45;&gt;codeblock_74 -->
<g id="edge74" class="edge">
<title>section_8&#45;&gt;codeblock_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5824.574,-1681.3632C5903.1965,-1668.4977 6038.15,-1646.4144 6123.5819,-1632.4347"/>
<polygon fill="#000000" stroke="#000000" points="6124.1866,-1635.8824 6133.4901,-1630.8133 6123.0561,-1628.9742 6124.1866,-1635.8824"/>
</g>
<!-- section_75 -->
<g id="node76" class="node">
<title>section_75</title>
<ellipse fill="none" stroke="#000000" cx="7045" cy="-1619.6026" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7045" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 210&#45;225</text>
</g>
<!-- section_8&#45;&gt;section_75 -->
<g id="edge75" class="edge">
<title>section_8&#45;&gt;section_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5835.5878,-1687.473C6058.4384,-1674.967 6725.0905,-1637.5555 6961.0743,-1624.3124"/>
<polygon fill="#000000" stroke="#000000" points="6961.5222,-1627.7929 6971.3104,-1623.738 6961.13,-1620.8039 6961.5222,-1627.7929"/>
</g>
<!-- header_112 -->
<g id="node113" class="node">
<title>header_112</title>
<ellipse fill="none" stroke="#000000" cx="7488" cy="-1619.6026" rx="77.4383" ry="18"/>
<text text-anchor="middle" x="7488" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.open()</text>
</g>
<!-- section_9&#45;&gt;header_112 -->
<g id="edge112" class="edge">
<title>section_9&#45;&gt;header_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7550.908,-1674.1734C7540.3831,-1665.0434 7527.3285,-1653.7189 7515.8441,-1643.7565"/>
<polygon fill="#000000" stroke="#000000" points="7518.042,-1641.0298 7508.1946,-1637.1209 7513.4551,-1646.3175 7518.042,-1641.0298"/>
</g>
<!-- prose_113 -->
<g id="node114" class="node">
<title>prose_113</title>
<ellipse fill="none" stroke="#000000" cx="7654" cy="-1619.6026" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7654" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_113 -->
<g id="edge113" class="edge">
<title>section_9&#45;&gt;prose_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7591.092,-1674.1734C7602.4265,-1664.3411 7616.6949,-1651.9637 7628.7764,-1641.4833"/>
<polygon fill="#000000" stroke="#000000" points="7631.0866,-1644.1127 7636.3471,-1634.916 7626.4997,-1638.825 7631.0866,-1644.1127"/>
</g>
<!-- codeblock_114 -->
<g id="node115" class="node">
<title>codeblock_114</title>
<ellipse fill="none" stroke="#000000" cx="7941" cy="-1619.6026" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7941" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 230&#45;245</text>
</g>
<!-- section_9&#45;&gt;codeblock_114 -->
<g id="edge114" class="edge">
<title>section_9&#45;&gt;codeblock_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7629.6276,-1680.194C7694.0108,-1667.6654 7797.5096,-1647.5251 7867.3278,-1633.9388"/>
<polygon fill="#000000" stroke="#000000" points="7868.2285,-1637.3293 7877.3758,-1631.9835 7866.8914,-1630.4582 7868.2285,-1637.3293"/>
</g>
<!-- header_125 -->
<g id="node126" class="node">
<title>header_125</title>
<ellipse fill="none" stroke="#000000" cx="8546" cy="-1619.6026" rx="198.7451" ry="18"/>
<text text-anchor="middle" x="8546" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.commitModule(conn, bytecode, deck)</text>
</g>
<!-- section_10&#45;&gt;header_125 -->
<g id="edge125" class="edge">
<title>section_10&#45;&gt;header_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8802.8279,-1679.0612C8754.6431,-1667.9058 8683.4667,-1651.4277 8628.2562,-1638.6459"/>
<polygon fill="#000000" stroke="#000000" points="8629.0243,-1635.2312 8618.4925,-1636.3855 8627.4454,-1642.0508 8629.0243,-1635.2312"/>
</g>
<!-- prose_126 -->
<g id="node127" class="node">
<title>prose_126</title>
<ellipse fill="none" stroke="#000000" cx="8806" cy="-1619.6026" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8806" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_126 -->
<g id="edge126" class="edge">
<title>section_10&#45;&gt;prose_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8844.3933,-1673.8049C8838.2505,-1665.1327 8830.7531,-1654.5481 8824.0192,-1645.0415"/>
<polygon fill="#000000" stroke="#000000" points="8826.7468,-1642.837 8818.1105,-1636.6998 8821.0347,-1646.8832 8826.7468,-1642.837"/>
</g>
<!-- prose_127 -->
<g id="node128" class="node">
<title>prose_127</title>
<ellipse fill="none" stroke="#000000" cx="8909" cy="-1619.6026" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8909" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_127 -->
<g id="edge127" class="edge">
<title>section_10&#45;&gt;prose_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8869.8539,-1673.8049C8876.1172,-1665.1327 8883.7616,-1654.5481 8890.6274,-1645.0415"/>
<polygon fill="#000000" stroke="#000000" points="8893.6344,-1646.8559 8896.652,-1636.6998 8887.9597,-1642.7574 8893.6344,-1646.8559"/>
</g>
<!-- codeblock_128 -->
<g id="node129" class="node">
<title>codeblock_128</title>
<ellipse fill="none" stroke="#000000" cx="9215" cy="-1619.6026" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9215" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 256&#45;277</text>
</g>
<!-- section_10&#45;&gt;codeblock_128 -->
<g id="edge128" class="edge">
<title>section_10&#45;&gt;codeblock_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8914.9168,-1679.9546C8976.8449,-1667.4997 9075.1733,-1647.7242 9142.2718,-1634.2295"/>
<polygon fill="#000000" stroke="#000000" points="9143.2356,-1637.6058 9152.3492,-1632.2028 9141.8554,-1630.7433 9143.2356,-1637.6058"/>
</g>
<!-- section_129 -->
<g id="node130" class="node">
<title>section_129</title>
<ellipse fill="none" stroke="#000000" cx="9874" cy="-1619.6026" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9874" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 280&#45;293</text>
</g>
<!-- section_10&#45;&gt;section_129 -->
<g id="edge129" class="edge">
<title>section_10&#45;&gt;section_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8929.732,-1686.4535C9113.7439,-1673.4261 9596.9448,-1639.2172 9791.2917,-1625.4581"/>
<polygon fill="#000000" stroke="#000000" points="9791.7152,-1628.9369 9801.4431,-1624.7394 9791.2208,-1621.9544 9791.7152,-1628.9369"/>
</g>
<!-- header_149 -->
<g id="node150" class="node">
<title>header_149</title>
<ellipse fill="none" stroke="#000000" cx="10337" cy="-1619.6026" rx="159.5865" ry="18"/>
<text text-anchor="middle" x="10337" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.commitCodex(conn, codex)</text>
</g>
<!-- section_11&#45;&gt;header_149 -->
<g id="edge149" class="edge">
<title>section_11&#45;&gt;header_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10503.7425,-1676.7715C10472.9254,-1666.2056 10431.1032,-1651.8666 10397.0538,-1640.1925"/>
<polygon fill="#000000" stroke="#000000" points="10397.8104,-1636.752 10387.2158,-1636.8195 10395.5401,-1643.3736 10397.8104,-1636.752"/>
</g>
<!-- prose_150 -->
<g id="node151" class="node">
<title>prose_150</title>
<ellipse fill="none" stroke="#000000" cx="10547" cy="-1619.6026" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10547" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_150 -->
<g id="edge150" class="edge">
<title>section_11&#45;&gt;prose_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10547,-1673.434C10547,-1665.7336 10547,-1656.577 10547,-1648.0193"/>
<polygon fill="#000000" stroke="#000000" points="10550.5001,-1648.0159 10547,-1638.0159 10543.5001,-1648.0159 10550.5001,-1648.0159"/>
</g>
<!-- codeblock_151 -->
<g id="node152" class="node">
<title>codeblock_151</title>
<ellipse fill="none" stroke="#000000" cx="10751" cy="-1619.6026" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10751" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 296&#45;332</text>
</g>
<!-- section_11&#45;&gt;codeblock_151 -->
<g id="edge151" class="edge">
<title>section_11&#45;&gt;codeblock_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10589.2689,-1676.6842C10620.4975,-1665.6623 10663.2595,-1650.5698 10696.9698,-1638.6721"/>
<polygon fill="#000000" stroke="#000000" points="10698.4032,-1641.8779 10706.6682,-1635.2491 10696.0734,-1635.2769 10698.4032,-1641.8779"/>
</g>
<!-- codeblock_152 -->
<g id="node153" class="node">
<title>codeblock_152</title>
<ellipse fill="none" stroke="#000000" cx="11047" cy="-1619.6026" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11047" y="-1615.4026" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 335&#45;337</text>
</g>
<!-- section_11&#45;&gt;codeblock_152 -->
<g id="edge152" class="edge">
<title>section_11&#45;&gt;codeblock_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10611.8537,-1682.2637C10702.4144,-1669.2229 10866.7173,-1645.5633 10965.4582,-1631.3446"/>
<polygon fill="#000000" stroke="#000000" points="10965.9948,-1634.8036 10975.3939,-1629.9139 10964.9971,-1627.875 10965.9948,-1634.8036"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="436,-1328.0032 0,-1328.0032 0,-1256.2009 436,-1256.2009 436,-1328.0032"/>
<text text-anchor="middle" x="218" y="-1264.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m less than convinced that I&#39;ve given this the right name.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M745.1718,-1607.7073C740.3191,-1605.3578 735.0818,-1603.1449 730,-1601.6026 607.829,-1564.5258 556.9306,-1627.0191 445,-1565.6026 348.0628,-1512.4131 275.6137,-1399.6871 240.8644,-1336.8292"/>
<polygon fill="#000000" stroke="#000000" points="243.8724,-1335.0345 236.0126,-1327.9299 237.7264,-1338.3852 243.8724,-1335.0345"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="806,-1312.0042 454,-1312.0042 454,-1272.2 806,-1272.2 806,-1312.0042"/>
<text text-anchor="middle" x="630" y="-1280.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">Among other things this will have a function for</text>
</g>
<!-- raw_15&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_15&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M827.3993,-1602.9116C793.954,-1550.2512 690.3858,-1387.1808 648.1804,-1320.7275"/>
<polygon fill="#000000" stroke="#000000" points="650.9617,-1318.5784 642.646,-1312.0134 645.0528,-1322.3313 650.9617,-1318.5784"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="878,-1310.1021 824,-1310.1021 824,-1274.1021 878,-1274.1021 878,-1310.1021"/>
<text text-anchor="middle" x="851" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_16&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>prespace_16&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M911.9731,-1602.6512C903.0364,-1592.7067 892.7718,-1579.4096 887,-1565.6026 851.8936,-1481.6237 849.0715,-1371.5944 849.9472,-1320.4802"/>
<polygon fill="#000000" stroke="#000000" points="853.4524,-1320.2933 850.1883,-1310.2138 846.4544,-1320.1289 853.4524,-1320.2933"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1017.5,-1310.1021 896.5,-1310.1021 896.5,-1274.1021 1017.5,-1274.1021 1017.5,-1310.1021"/>
<text text-anchor="middle" x="957" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">package.loaders</text>
</g>
<!-- literal_17&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>literal_17&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1021.2472,-1601.5283C1009.9853,-1547.289 976.4201,-1385.6331 962.8197,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="966.2012,-1319.2002 960.7412,-1310.1206 959.3474,-1320.6233 966.2012,-1319.2002"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1576.5,-1319.3025 1035.5,-1319.3025 1035.5,-1264.9016 1576.5,-1264.9016 1576.5,-1319.3025"/>
<text text-anchor="middle" x="1306" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">, but this</text>
<text text-anchor="middle" x="1306" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">file will contain everything needed to manipulate modules, including things</text>
<text text-anchor="middle" x="1306" y="-1273.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">needed only by the compiler.</text>
</g>
<!-- raw_18&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>raw_18&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1177.312,-1601.9948C1198.7059,-1550.4761 1261.5068,-1399.2459 1290.7247,-1328.8864"/>
<polygon fill="#000000" stroke="#000000" points="1294.014,-1330.0916 1294.6168,-1319.5139 1287.5492,-1327.4069 1294.014,-1330.0916"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1687.5,-1310.1021 1594.5,-1310.1021 1594.5,-1274.1021 1687.5,-1274.1021 1687.5,-1310.1021"/>
<text text-anchor="middle" x="1641" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** imports</text>
</g>
<!-- header_23&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>header_23&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1769.6543,-1609.7952C1744.7617,-1601.9396 1714.9687,-1588.3514 1697,-1565.6026 1639.1018,-1492.3022 1636.6402,-1374.3619 1638.9607,-1320.5361"/>
<polygon fill="#000000" stroke="#000000" points="1642.4657,-1320.5286 1639.4918,-1310.3598 1635.4753,-1320.1637 1642.4657,-1320.5286"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="1733" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="1733" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_24&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2009.5,-1615.4332C1941.4333,-1606.1316 1785.4172,-1583.1251 1769,-1565.6026 1705.3011,-1497.6154 1717.6228,-1375.0263 1727.2124,-1320.0757"/>
<polygon fill="#000000" stroke="#000000" points="1730.6945,-1320.4932 1729.0706,-1310.0236 1723.8111,-1319.2208 1730.6945,-1320.4932"/>
</g>
<!-- prespace_29 -->
<g id="node30" class="node">
<title>prespace_29</title>
<ellipse fill="none" stroke="#000000" cx="1824" cy="-1292.1021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1824" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_24&#45;&gt;prespace_29 -->
<g id="edge29" class="edge">
<title>prose_24&#45;&gt;prespace_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2010.8121,-1613.2478C1969.2348,-1603.8889 1897.4891,-1585.3601 1880,-1565.6026 1817.8076,-1495.3438 1817.653,-1374.9393 1821.2735,-1320.4114"/>
<polygon fill="#000000" stroke="#000000" points="1824.7651,-1320.6545 1822.0307,-1310.4186 1817.7851,-1320.1255 1824.7651,-1320.6545"/>
</g>
<!-- literal_30 -->
<g id="node31" class="node">
<title>literal_30</title>
<ellipse fill="none" stroke="#000000" cx="1920" cy="-1292.1021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1920" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_24&#45;&gt;literal_30 -->
<g id="edge30" class="edge">
<title>prose_24&#45;&gt;literal_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2014.7505,-1609.0808C1996.3483,-1600.2813 1972.8296,-1585.885 1960,-1565.6026 1910.7833,-1487.7955 1912.8697,-1373.0006 1917.0054,-1320.357"/>
<polygon fill="#000000" stroke="#000000" points="1920.5175,-1320.3692 1917.9012,-1310.1025 1913.5441,-1319.7599 1920.5175,-1320.3692"/>
</g>
<!-- raw_31 -->
<g id="node32" class="node">
<title>raw_31</title>
<ellipse fill="none" stroke="#000000" cx="1996" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="1996" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_31 -->
<g id="edge31" class="edge">
<title>prose_24&#45;&gt;raw_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2037.8456,-1601.627C2036.0441,-1591.1351 2033.7941,-1577.6351 2032,-1565.6026 2018.6427,-1476.0176 2005.3734,-1369.5284 1999.3521,-1320.0041"/>
<polygon fill="#000000" stroke="#000000" points="2002.8238,-1319.5583 1998.1466,-1310.0518 1995.8746,-1320.4002 2002.8238,-1319.5583"/>
</g>
<!-- prespace_32 -->
<g id="node33" class="node">
<title>prespace_32</title>
<ellipse fill="none" stroke="#000000" cx="2087" cy="-1292.1021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2087" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_24&#45;&gt;prespace_32 -->
<g id="edge32" class="edge">
<title>prose_24&#45;&gt;prespace_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2043.5387,-1601.5283C2051.157,-1547.289 2073.8628,-1385.6331 2083.0631,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="2086.5441,-1320.5102 2084.4692,-1310.1206 2079.6122,-1319.5365 2086.5441,-1320.5102"/>
</g>
<!-- literal_33 -->
<g id="node34" class="node">
<title>literal_33</title>
<ellipse fill="none" stroke="#000000" cx="2183" cy="-1292.1021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2183" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_24&#45;&gt;literal_33 -->
<g id="edge33" class="edge">
<title>prose_24&#45;&gt;literal_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2070.2341,-1611.8759C2093.5103,-1604.1338 2124.9235,-1589.8127 2142,-1565.6026 2195.335,-1489.9875 2191.6028,-1373.2176 2186.4992,-1320.1118"/>
<polygon fill="#000000" stroke="#000000" points="2189.9706,-1319.6553 2185.4431,-1310.0766 2183.009,-1320.3881 2189.9706,-1319.6553"/>
</g>
<!-- raw_34 -->
<g id="node35" class="node">
<title>raw_34</title>
<ellipse fill="none" stroke="#000000" cx="2259" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="2259" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_34 -->
<g id="edge34" class="edge">
<title>prose_24&#45;&gt;raw_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2072.1809,-1614.5291C2118.8309,-1606.2776 2203.4199,-1588.539 2223,-1565.6026 2283.3435,-1494.9154 2272.8868,-1374.231 2264.2947,-1319.9711"/>
<polygon fill="#000000" stroke="#000000" points="2267.7343,-1319.3195 2262.6226,-1310.0393 2260.8314,-1320.4817 2267.7343,-1319.3195"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="2691.5,-1342.703 2304.5,-1342.703 2304.5,-1241.5012 2691.5,-1241.5012 2691.5,-1342.703"/>
<text text-anchor="middle" x="2498" y="-1327.7021" font-family="Inconsolata" font-size="14.00" fill="#000000">local sql = assert(sql, &quot;must have sql in bridge _G&quot;)</text>
<text text-anchor="middle" x="2498" y="-1312.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">local Dir = require &quot;walk/directory&quot;</text>
<text text-anchor="middle" x="2498" y="-1280.9021" font-family="Inconsolata" font-size="14.00" fill="#000000">local sha = require &quot;sha3&quot; . sha512</text>
<text text-anchor="middle" x="2498" y="-1249.502" font-family="Inconsolata" font-size="14.00" fill="#000000">local status = require &quot;status&quot; ()</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>codeblock_25&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2498,-1601.5283C2498,-1554.9742 2498,-1429.2869 2498,-1353.1863"/>
<polygon fill="#000000" stroke="#000000" points="2501.5001,-1352.7907 2498,-1342.7907 2494.5001,-1352.7907 2501.5001,-1352.7907"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="2844.5,-1310.1021 2709.5,-1310.1021 2709.5,-1274.1021 2844.5,-1274.1021 2844.5,-1310.1021"/>
<text text-anchor="middle" x="2777" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">local Loader = {}</text>
</g>
<!-- codeblock_26&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>codeblock_26&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2726.925,-1601.5283C2735.7026,-1547.289 2761.8637,-1385.6331 2772.464,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="2775.9415,-1320.5513 2774.084,-1310.1206 2769.0314,-1319.433 2775.9415,-1320.5513"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="1778.5,-572.6023 1237.5,-572.6023 1237.5,-516.7993 1778.5,-516.7993 1778.5,-572.6023"/>
<text text-anchor="middle" x="1508" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">For now, I&#39;m going to use a copy of the sqlite bindings currently living in</text>
</g>
<!-- raw_28&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>raw_28&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1732.0668,-1273.8872C1729.4663,-1229.5403 1720.6357,-1112.698 1696,-1018.6015 1651.8743,-850.0626 1564.4635,-660.5398 1526.4148,-581.9355"/>
<polygon fill="#000000" stroke="#000000" points="1529.3319,-579.931 1521.8109,-572.4688 1523.0369,-582.9925 1529.3319,-579.931"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="1851,-562.7008 1797,-562.7008 1797,-526.7008 1851,-526.7008 1851,-562.7008"/>
</g>
<!-- prespace_29&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>prespace_29&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1824,-1273.9972C1824,-1174.5618 1824,-694.8885 1824,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="1827.5001,-572.9011 1824,-562.9012 1820.5001,-572.9012 1827.5001,-572.9011"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="1923,-562.7008 1869,-562.7008 1869,-526.7008 1923,-526.7008 1923,-562.7008"/>
<text text-anchor="middle" x="1896" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">femto</text>
</g>
<!-- literal_30&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>literal_30&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1919.4186,-1273.9972C1916.2256,-1174.5618 1900.8227,-694.8885 1896.9069,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="1900.4037,-572.7836 1896.5844,-562.9012 1893.4073,-573.0084 1900.4037,-572.7836"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2041,-562.7008 1941,-562.7008 1941,-526.7008 2041,-526.7008 2041,-562.7008"/>
<text text-anchor="middle" x="1991" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">. &#160;There&#39;s a</text>
</g>
<!-- raw_31&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>raw_31&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1995.8789,-1273.9972C1995.2137,-1174.5618 1992.0047,-694.8885 1991.1889,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="1994.6887,-572.8775 1991.1218,-562.9012 1987.6888,-572.9244 1994.6887,-572.8775"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="2113,-562.7008 2059,-562.7008 2059,-526.7008 2113,-526.7008 2113,-562.7008"/>
<text text-anchor="middle" x="2086" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_32&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>prespace_32&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2086.9758,-1273.9972C2086.8427,-1174.5618 2086.2009,-694.8885 2086.0378,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="2089.5378,-572.8964 2086.0244,-562.9012 2082.5378,-572.9059 2089.5378,-572.8964"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="2196.5,-562.7008 2131.5,-562.7008 2131.5,-526.7008 2196.5,-526.7008 2196.5,-562.7008"/>
<text text-anchor="middle" x="2164" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">sqlayer</text>
</g>
<!-- literal_33&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>literal_33&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2182.5397,-1273.9972C2180.012,-1174.5618 2167.818,-694.8885 2164.718,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="2168.2158,-572.8089 2164.4627,-562.9012 2161.218,-572.9869 2168.2158,-572.8089"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="2721,-571.9013 2215,-571.9013 2215,-517.5003 2721,-517.5003 2721,-571.9013"/>
<text text-anchor="middle" x="2468" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> as well but I don&#39;t want to copy&#45;paste generated</text>
<text text-anchor="middle" x="2468" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">code if I can avoid it; the whole point of this exercise is to get the</text>
<text text-anchor="middle" x="2468" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">codebase to where I can reuse projects across modules.</text>
</g>
<!-- raw_34&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>raw_34&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2260.0131,-1273.9294C2262.7768,-1229.6761 2271.8478,-1113.026 2295,-1018.6015 2336.204,-850.554 2416.8357,-659.6601 2451.507,-581.2514"/>
<polygon fill="#000000" stroke="#000000" points="2454.836,-582.3785 2455.6967,-571.8187 2448.4387,-579.537 2454.836,-582.3785"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="3112,-1310.1021 3012,-1310.1021 3012,-1274.1021 3112,-1274.1021 3112,-1310.1021"/>
<text text-anchor="middle" x="3062" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** SQL code</text>
</g>
<!-- header_44&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>header_44&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3098.8476,-1601.5283C3092.3886,-1547.289 3073.138,-1385.6331 3065.3378,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="3068.8037,-1319.6365 3064.1457,-1310.1206 3061.8528,-1320.4643 3068.8037,-1319.6365"/>
</g>
<!-- raw_49 -->
<g id="node50" class="node">
<title>raw_49</title>
<ellipse fill="none" stroke="#000000" cx="3157" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="3157" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_49 -->
<g id="edge49" class="edge">
<title>prose_45&#45;&gt;raw_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3231.3635,-1606.0362C3218.0143,-1596.4463 3201.8107,-1582.345 3193,-1565.6026 3150.4181,-1484.6872 3151.3269,-1372.3441 3154.541,-1320.4539"/>
<polygon fill="#000000" stroke="#000000" points="3158.0426,-1320.5511 3155.247,-1310.3317 3151.0596,-1320.0639 3158.0426,-1320.5511"/>
</g>
<!-- header_51 -->
<g id="node52" class="node">
<title>header_51</title>
<ellipse fill="none" stroke="#000000" cx="3299" cy="-1292.1021" rx="97.0962" ry="18"/>
<text text-anchor="middle" x="3299" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : SQL Loader.open()</text>
</g>
<!-- section_46&#45;&gt;header_51 -->
<g id="edge51" class="edge">
<title>section_46&#45;&gt;header_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3431.6325,-1601.9772C3423.301,-1591.8219 3413.2554,-1578.5383 3406,-1565.6026 3358.3971,-1480.7311 3322.3018,-1370.3963 3307.0132,-1319.7354"/>
<polygon fill="#000000" stroke="#000000" points="3310.3644,-1318.7252 3304.1527,-1310.1423 3303.6562,-1320.7255 3310.3644,-1318.7252"/>
</g>
<!-- prose_52 -->
<g id="node53" class="node">
<title>prose_52</title>
<ellipse fill="none" stroke="#000000" cx="3447" cy="-1292.1021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3447" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_46&#45;&gt;prose_52 -->
<g id="edge52" class="edge">
<title>section_46&#45;&gt;prose_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3447,-1601.5283C3447,-1547.289 3447,-1385.6331 3447,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="3450.5001,-1320.1205 3447,-1310.1206 3443.5001,-1320.1206 3450.5001,-1320.1205"/>
</g>
<!-- codeblock_53 -->
<g id="node54" class="node">
<title>codeblock_53</title>
<ellipse fill="none" stroke="#000000" cx="3596" cy="-1292.1021" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3596" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 38&#45;89</text>
</g>
<!-- section_46&#45;&gt;codeblock_53 -->
<g id="edge53" class="edge">
<title>section_46&#45;&gt;codeblock_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3462.3517,-1601.9683C3470.6782,-1591.8102 3480.7241,-1578.5268 3488,-1565.6026 3535.7967,-1480.701 3572.3526,-1370.3809 3587.8631,-1319.7296"/>
<polygon fill="#000000" stroke="#000000" points="3591.219,-1320.7235 3590.7659,-1310.1384 3584.5191,-1318.6957 3591.219,-1320.7235"/>
</g>
<!-- header_58 -->
<g id="node59" class="node">
<title>header_58</title>
<ellipse fill="none" stroke="#000000" cx="3925" cy="-1292.1021" rx="169.0775" ry="18"/>
<text text-anchor="middle" x="3925" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : SQL Loader.commitDeck(conn, deck)</text>
</g>
<!-- section_47&#45;&gt;header_58 -->
<g id="edge58" class="edge">
<title>section_47&#45;&gt;header_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4027.9844,-1601.5283C4009.8951,-1547.1772 3955.9073,-1384.966 3934.1942,-1319.727"/>
<polygon fill="#000000" stroke="#000000" points="3937.4759,-1318.5036 3930.997,-1310.1206 3930.8341,-1320.7141 3937.4759,-1318.5036"/>
</g>
<!-- prose_59 -->
<g id="node60" class="node">
<title>prose_59</title>
<ellipse fill="none" stroke="#000000" cx="4144" cy="-1292.1021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4144" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_47&#45;&gt;prose_59 -->
<g id="edge59" class="edge">
<title>section_47&#45;&gt;prose_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4064.3002,-1603.196C4078.3333,-1594.0091 4093.8837,-1581.2412 4103,-1565.6026 4149.2775,-1486.2152 4149.2759,-1372.6657 4146.327,-1320.4042"/>
<polygon fill="#000000" stroke="#000000" points="4149.8064,-1319.9702 4145.6686,-1310.2168 4142.8209,-1320.4217 4149.8064,-1319.9702"/>
</g>
<!-- codeblock_60 -->
<g id="node61" class="node">
<title>codeblock_60</title>
<ellipse fill="none" stroke="#000000" cx="4277" cy="-1292.1021" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="4277" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 94&#45;151</text>
</g>
<!-- section_47&#45;&gt;codeblock_60 -->
<g id="edge60" class="edge">
<title>section_47&#45;&gt;codeblock_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4095.251,-1610.6334C4125.8019,-1603.2474 4161.2109,-1589.8469 4185,-1565.6026 4253.0902,-1496.2095 4270.8157,-1374.8572 4275.4071,-1320.1984"/>
<polygon fill="#000000" stroke="#000000" points="4278.8998,-1320.4258 4276.1613,-1310.1911 4271.9196,-1319.8997 4278.8998,-1320.4258"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="3154.5,-580.602 2739.5,-580.602 2739.5,-508.7996 3154.5,-508.7996 3154.5,-580.602"/>
<text text-anchor="middle" x="2947" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">Everything we need to create and manipulate the database.</text>
</g>
<!-- raw_49&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>raw_49&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3155.9982,-1273.9266C3153.2596,-1229.6672 3144.24,-1113.0044 3121,-1018.6015 3081.0469,-856.3087 3004.0639,-672.836 2967.3899,-589.7953"/>
<polygon fill="#000000" stroke="#000000" points="2970.4818,-588.1337 2963.228,-580.4114 2964.0829,-590.9717 2970.4818,-588.1337"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="3343,-562.7008 3173,-562.7008 3173,-526.7008 3343,-526.7008 3343,-562.7008"/>
<text text-anchor="middle" x="3258" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** SQL Loader.open()</text>
</g>
<!-- header_51&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>header_51&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3298.0068,-1273.9972C3292.5521,-1174.5618 3266.2388,-694.8885 3259.5494,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="3263.041,-572.6944 3258.9984,-562.9012 3256.0515,-573.0779 3263.041,-572.6944"/>
</g>
<!-- raw_55 -->
<g id="node56" class="node">
<title>raw_55</title>
<ellipse fill="none" stroke="#000000" cx="3388" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="3388" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_52&#45;&gt;raw_55 -->
<g id="edge55" class="edge">
<title>prose_52&#45;&gt;raw_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3445.5708,-1273.9972C3437.7214,-1174.5618 3399.8558,-694.8885 3390.2296,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="3393.7129,-572.5947 3389.4367,-562.9012 3386.7346,-573.1456 3393.7129,-572.5947"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3799,-934.5023 3433,-934.5023 3433,-154.8993 3799,-154.8993 3799,-934.5023"/>
<text text-anchor="middle" x="3616" y="-919.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_project_table = [[</text>
<text text-anchor="middle" x="3616" y="-904.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS project (</text>
<text text-anchor="middle" x="3616" y="-888.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-873.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;name STRING UNIQUE NOT NULL ON CONFLICT IGNORE,</text>
<text text-anchor="middle" x="3616" y="-857.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo STRING,</text>
<text text-anchor="middle" x="3616" y="-842.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo_type STRING DEFAULT &#39;git&#39;,</text>
<text text-anchor="middle" x="3616" y="-827.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo_alternates STRING,</text>
<text text-anchor="middle" x="3616" y="-811.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;home STRING,</text>
<text text-anchor="middle" x="3616" y="-796.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;website STRING</text>
<text text-anchor="middle" x="3616" y="-780.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-765.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="3616" y="-734.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_version_table = [[</text>
<text text-anchor="middle" x="3616" y="-718.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS version (</text>
<text text-anchor="middle" x="3616" y="-703.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;version_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-687.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;edition STRING DEFAULT &#39;SNAPSHOT&#39;,</text>
<text text-anchor="middle" x="3616" y="-672.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;major INTEGER DEFAULT 0,</text>
<text text-anchor="middle" x="3616" y="-657.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;minor INTEGER DEFAULT 0,</text>
<text text-anchor="middle" x="3616" y="-641.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;patch STRING DEFAULT &#39;0&#39;</text>
<text text-anchor="middle" x="3616" y="-626.201" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-610.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="3616" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_code_table = [[</text>
<text text-anchor="middle" x="3616" y="-564.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS code (</text>
<text text-anchor="middle" x="3616" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;code_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;hash TEXT UNIQUE ON CONFLICT IGNORE NOT NULL,</text>
<text text-anchor="middle" x="3616" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;binary BLOB NOT NULL</text>
<text text-anchor="middle" x="3616" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="3616" y="-455.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_module_table = [[</text>
<text text-anchor="middle" x="3616" y="-440.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS module (</text>
<text text-anchor="middle" x="3616" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;module_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;time DATETIME DEFAULT CURRENT_TIMESTAMP,</text>
<text text-anchor="middle" x="3616" y="-394.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;snapshot INTEGER DEFAULT 1,</text>
<text text-anchor="middle" x="3616" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;name STRING NOT NULL,</text>
<text text-anchor="middle" x="3616" y="-363.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;type STRING DEFAULT &#39;luaJIT&#45;2.1&#45;bytecode&#39;,</text>
<text text-anchor="middle" x="3616" y="-347.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;branch STRING,</text>
<text text-anchor="middle" x="3616" y="-332.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;vc_hash STRING,</text>
<text text-anchor="middle" x="3616" y="-317.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project INTEGER NOT NULL,</text>
<text text-anchor="middle" x="3616" y="-301.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;code INTEGER,</text>
<text text-anchor="middle" x="3616" y="-286.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (version_id)</text>
<text text-anchor="middle" x="3616" y="-270.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES version (version_id)</text>
<text text-anchor="middle" x="3616" y="-255.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (project_id)</text>
<text text-anchor="middle" x="3616" y="-240.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES project (project_id)</text>
<text text-anchor="middle" x="3616" y="-224.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ON DELETE RESTRICT</text>
<text text-anchor="middle" x="3616" y="-209.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (code_id)</text>
<text text-anchor="middle" x="3616" y="-193.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES code (code_id)</text>
<text text-anchor="middle" x="3616" y="-178.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-163.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_53&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>codeblock_53&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3596.4845,-1273.9972C3597.7749,-1225.7755 3601.4582,-1088.1287 3605.2822,-945.2241"/>
<polygon fill="#000000" stroke="#000000" points="3608.7889,-945.0171 3605.5578,-934.927 3601.7914,-944.8298 3608.7889,-945.0171"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3415,-53.4 3361,-53.4 3361,-17.4 3415,-17.4 3415,-53.4"/>
</g>
<!-- raw_55&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>raw_55&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3388,-526.5745C3388,-450.468 3388,-156.4165 3388,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="3391.5001,-63.5743 3388,-53.5744 3384.5001,-63.5744 3391.5001,-63.5743"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="4099,-562.7008 3817,-562.7008 3817,-526.7008 4099,-526.7008 4099,-562.7008"/>
<text text-anchor="middle" x="3958" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** SQL Loader.commitDeck(conn, deck)</text>
</g>
<!-- header_58&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>header_58&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3925.7994,-1273.9972C3930.1898,-1174.5618 3951.3688,-694.8885 3956.753,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="3960.2518,-573.0458 3957.1964,-562.9012 3953.2586,-572.737 3960.2518,-573.0458"/>
</g>
<!-- raw_62 -->
<g id="node63" class="node">
<title>raw_62</title>
<ellipse fill="none" stroke="#000000" cx="4144" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="4144" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_59&#45;&gt;raw_62 -->
<g id="edge62" class="edge">
<title>prose_59&#45;&gt;raw_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4144,-1273.9972C4144,-1174.5618 4144,-694.8885 4144,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="4147.5001,-572.9011 4144,-562.9012 4140.5001,-572.9012 4147.5001,-572.9011"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="4604.5,-982.5023 4189.5,-982.5023 4189.5,-106.8993 4604.5,-106.8993 4604.5,-982.5023"/>
<text text-anchor="middle" x="4397" y="-967.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_project = [[</text>
<text text-anchor="middle" x="4397" y="-952.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO project (name, repo, home, website)</text>
<text text-anchor="middle" x="4397" y="-936.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:name, :repo, :home, :website)</text>
<text text-anchor="middle" x="4397" y="-921.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4397" y="-889.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_code = [[</text>
<text text-anchor="middle" x="4397" y="-874.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO code (hash, binary)</text>
<text text-anchor="middle" x="4397" y="-859.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:hash, :binary);</text>
<text text-anchor="middle" x="4397" y="-843.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4397" y="-812.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_version_snapshot = [[</text>
<text text-anchor="middle" x="4397" y="-796.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO version (edition)</text>
<text text-anchor="middle" x="4397" y="-781.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:edition);</text>
<text text-anchor="middle" x="4397" y="-766.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4397" y="-734.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local add_module = [[</text>
<text text-anchor="middle" x="4397" y="-719.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO module (snapshot, version_id, name,</text>
<text text-anchor="middle" x="4397" y="-703.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;branch, vc_hash, project_id, code_id)</text>
<text text-anchor="middle" x="4397" y="-688.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:snapshot, :version_id, :name, :branch,</text>
<text text-anchor="middle" x="4397" y="-673.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;:vc_hash, :project_id, :code_id);</text>
<text text-anchor="middle" x="4397" y="-657.601" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4397" y="-626.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_snapshot_version [[</text>
<text text-anchor="middle" x="4397" y="-610.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (version.version_id AS REAL) FROM version</text>
<text text-anchor="middle" x="4397" y="-595.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE version.edition = &#39;SNAPSHOT&#39;;</text>
<text text-anchor="middle" x="4397" y="-580.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4397" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_project_id = [[</text>
<text text-anchor="middle" x="4397" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (project.project_id AS REAL) FROM project</text>
<text text-anchor="middle" x="4397" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE project.name = %s;</text>
<text text-anchor="middle" x="4397" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4397" y="-471.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_code_id_by_hash = [[</text>
<text text-anchor="middle" x="4397" y="-455.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (code.code_id AS REAL) FROM code</text>
<text text-anchor="middle" x="4397" y="-440.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.hash = %s;</text>
<text text-anchor="middle" x="4397" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4397" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_latest_module_code_id = [[</text>
<text text-anchor="middle" x="4397" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (module.code_id AS REAL) FROM module</text>
<text text-anchor="middle" x="4397" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.project_id = %d</text>
<text text-anchor="middle" x="4397" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;AND module.name = %s</text>
<text text-anchor="middle" x="4397" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC LIMIT 1;</text>
<text text-anchor="middle" x="4397" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4397" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_all_module_ids = [[</text>
<text text-anchor="middle" x="4397" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (module.code_id AS REAL),</text>
<text text-anchor="middle" x="4397" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;CAST (module.project_id AS REAL)</text>
<text text-anchor="middle" x="4397" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">FROM module</text>
<text text-anchor="middle" x="4397" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.name = %s</text>
<text text-anchor="middle" x="4397" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC;</text>
<text text-anchor="middle" x="4397" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4397" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_latest_module_bytecode = [[</text>
<text text-anchor="middle" x="4397" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT code.binary FROM code</text>
<text text-anchor="middle" x="4397" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.code_id = %d ;</text>
<text text-anchor="middle" x="4397" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_60&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>codeblock_60&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4279.9068,-1273.9972C4286.7808,-1231.1837 4304.9727,-1117.8787 4325.0246,-992.9882"/>
<polygon fill="#000000" stroke="#000000" points="4328.528,-993.2458 4326.6576,-982.8173 4321.6165,-992.136 4328.528,-993.2458"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="4171,-53.4 4117,-53.4 4117,-17.4 4171,-17.4 4171,-53.4"/>
</g>
<!-- raw_62&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>raw_62&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4144,-526.5745C4144,-450.468 4144,-156.4165 4144,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="4147.5001,-63.5743 4144,-53.5744 4140.5001,-63.5744 4147.5001,-63.5743"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="4638.5,-1310.1021 4377.5,-1310.1021 4377.5,-1274.1021 4638.5,-1274.1021 4638.5,-1310.1021"/>
<text text-anchor="middle" x="4508" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** SQL loader.load(conn, mod_name)</text>
</g>
<!-- header_65&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>header_65&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4492.883,-1601.5283C4495.5329,-1547.289 4503.4306,-1385.6331 4506.6307,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="4510.1275,-1320.2795 4507.1197,-1310.1206 4503.1358,-1319.9378 4510.1275,-1320.2795"/>
</g>
<!-- raw_69 -->
<g id="node70" class="node">
<title>raw_69</title>
<ellipse fill="none" stroke="#000000" cx="4686" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="4686" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_66&#45;&gt;raw_69 -->
<g id="edge69" class="edge">
<title>prose_66&#45;&gt;raw_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4701.117,-1601.5283C4698.4671,-1547.289 4690.5694,-1385.6331 4687.3693,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="4690.8642,-1319.9378 4686.8803,-1310.1206 4683.8725,-1320.2795 4690.8642,-1319.9378"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="5055,-1389.0028 4731,-1389.0028 4731,-1195.2013 5055,-1195.2013 5055,-1389.0028"/>
<text text-anchor="middle" x="4893" y="-1373.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_code_id_for_module_project = [[</text>
<text text-anchor="middle" x="4893" y="-1358.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT</text>
<text text-anchor="middle" x="4893" y="-1342.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;CAST (module.code_id AS REAL) FROM module</text>
<text text-anchor="middle" x="4893" y="-1327.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.project_id = %d</text>
<text text-anchor="middle" x="4893" y="-1312.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;AND module.name = %s</text>
<text text-anchor="middle" x="4893" y="-1296.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC LIMIT 1;</text>
<text text-anchor="middle" x="4893" y="-1281.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4893" y="-1249.802" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_bytecode = [[</text>
<text text-anchor="middle" x="4893" y="-1234.402" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT code.binary FROM code</text>
<text text-anchor="middle" x="4893" y="-1219.002" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.code_id = %d ;</text>
<text text-anchor="middle" x="4893" y="-1203.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_67&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>codeblock_67&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4860.8764,-1601.5283C4864.8253,-1563.491 4874.2586,-1472.6259 4881.8873,-1399.1433"/>
<polygon fill="#000000" stroke="#000000" points="4885.3996,-1399.2053 4882.951,-1388.8973 4878.4371,-1398.4824 4885.3996,-1399.2053"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4933,-572.6023 4623,-572.6023 4623,-516.7993 4933,-516.7993 4933,-572.6023"/>
<text text-anchor="middle" x="4778" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">This has been moved to the pylon preamble.</text>
</g>
<!-- raw_69&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>raw_69&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4688.2286,-1273.9972C4700.158,-1177.0834 4756.5484,-718.972 4773.298,-582.8997"/>
<polygon fill="#000000" stroke="#000000" points="4776.8219,-582.9195 4774.5699,-572.5668 4769.8743,-582.0643 4776.8219,-582.9195"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="5264.5,-1310.1021 5073.5,-1310.1021 5073.5,-1274.1021 5264.5,-1274.1021 5264.5,-1310.1021"/>
<text text-anchor="middle" x="5169" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Environment Variables</text>
</g>
<!-- header_72&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>header_72&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5322.8668,-1602.6956C5305.9414,-1593.7443 5287.0621,-1581.3171 5274,-1565.6026 5211.3422,-1490.2215 5183.5169,-1373.3333 5173.5895,-1320.1547"/>
<polygon fill="#000000" stroke="#000000" points="5176.9976,-1319.3302 5171.7871,-1310.1052 5170.1076,-1320.5661 5176.9976,-1319.3302"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="5310" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="5310" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_73&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_73&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5729.8182,-1617.6575C5636.9082,-1611.7379 5373.1247,-1592.6788 5346,-1565.6026 5279.9043,-1499.625 5293.6135,-1375.4709 5303.8996,-1320.0498"/>
<polygon fill="#000000" stroke="#000000" points="5307.3963,-1320.4063 5305.8865,-1309.9196 5300.5272,-1319.059 5307.3963,-1320.4063"/>
</g>
<!-- link_78 -->
<g id="node79" class="node">
<title>link_78</title>
<ellipse fill="none" stroke="#000000" cx="5382" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="5382" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_73&#45;&gt;link_78 -->
<g id="edge78" class="edge">
<title>prose_73&#45;&gt;link_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5729.9507,-1616.7506C5648.7314,-1609.2225 5439.7134,-1587.862 5418,-1565.6026 5352.945,-1498.9118 5365.9715,-1375.6488 5375.9779,-1320.2999"/>
<polygon fill="#000000" stroke="#000000" points="5379.4739,-1320.652 5377.9148,-1310.1725 5372.5985,-1319.337 5379.4739,-1320.652"/>
</g>
<!-- raw_79 -->
<g id="node80" class="node">
<title>raw_79</title>
<ellipse fill="none" stroke="#000000" cx="5454" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="5454" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_73&#45;&gt;raw_79 -->
<g id="edge79" class="edge">
<title>prose_73&#45;&gt;raw_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5729.4956,-1617.7681C5664.5626,-1613.3956 5522.2584,-1600.0328 5490,-1565.6026 5426.3011,-1497.6154 5438.6228,-1375.0263 5448.2124,-1320.0757"/>
<polygon fill="#000000" stroke="#000000" points="5451.6945,-1320.4932 5450.0706,-1310.0236 5444.8111,-1319.2208 5451.6945,-1320.4932"/>
</g>
<!-- prespace_80 -->
<g id="node81" class="node">
<title>prespace_80</title>
<ellipse fill="none" stroke="#000000" cx="5545" cy="-1292.1021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5545" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_73&#45;&gt;prespace_80 -->
<g id="edge80" class="edge">
<title>prose_73&#45;&gt;prespace_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5731.8121,-1613.2478C5690.2348,-1603.8889 5618.4891,-1585.3601 5601,-1565.6026 5538.8076,-1495.3438 5538.653,-1374.9393 5542.2735,-1320.4114"/>
<polygon fill="#000000" stroke="#000000" points="5545.7651,-1320.6545 5543.0307,-1310.4186 5538.7851,-1320.1255 5545.7651,-1320.6545"/>
</g>
<!-- literal_81 -->
<g id="node82" class="node">
<title>literal_81</title>
<ellipse fill="none" stroke="#000000" cx="5641" cy="-1292.1021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5641" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_73&#45;&gt;literal_81 -->
<g id="edge81" class="edge">
<title>prose_73&#45;&gt;literal_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5735.7505,-1609.0808C5717.3483,-1600.2813 5693.8296,-1585.885 5681,-1565.6026 5631.7833,-1487.7955 5633.8697,-1373.0006 5638.0054,-1320.357"/>
<polygon fill="#000000" stroke="#000000" points="5641.5175,-1320.3692 5638.9012,-1310.1025 5634.5441,-1319.7599 5641.5175,-1320.3692"/>
</g>
<!-- raw_82 -->
<g id="node83" class="node">
<title>raw_82</title>
<ellipse fill="none" stroke="#000000" cx="5717" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="5717" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_73&#45;&gt;raw_82 -->
<g id="edge82" class="edge">
<title>prose_73&#45;&gt;raw_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5758.8456,-1601.627C5757.0441,-1591.1351 5754.7941,-1577.6351 5753,-1565.6026 5739.6427,-1476.0176 5726.3734,-1369.5284 5720.3521,-1320.0041"/>
<polygon fill="#000000" stroke="#000000" points="5723.8238,-1319.5583 5719.1466,-1310.0518 5716.8746,-1320.4002 5723.8238,-1319.5583"/>
</g>
<!-- prespace_83 -->
<g id="node84" class="node">
<title>prespace_83</title>
<ellipse fill="none" stroke="#000000" cx="5808" cy="-1292.1021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5808" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_73&#45;&gt;prespace_83 -->
<g id="edge83" class="edge">
<title>prose_73&#45;&gt;prespace_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5764.5387,-1601.5283C5772.157,-1547.289 5794.8628,-1385.6331 5804.0631,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="5807.5441,-1320.5102 5805.4692,-1310.1206 5800.6122,-1319.5365 5807.5441,-1320.5102"/>
</g>
<!-- literal_84 -->
<g id="node85" class="node">
<title>literal_84</title>
<ellipse fill="none" stroke="#000000" cx="5904" cy="-1292.1021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5904" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_73&#45;&gt;literal_84 -->
<g id="edge84" class="edge">
<title>prose_73&#45;&gt;literal_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5791.2341,-1611.8759C5814.5103,-1604.1338 5845.9235,-1589.8127 5863,-1565.6026 5916.335,-1489.9875 5912.6028,-1373.2176 5907.4992,-1320.1118"/>
<polygon fill="#000000" stroke="#000000" points="5910.9706,-1319.6553 5906.4431,-1310.0766 5904.009,-1320.3881 5910.9706,-1319.6553"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="5980" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="5980" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_73&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_73&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5793.1809,-1614.5291C5839.8309,-1606.2776 5924.4199,-1588.539 5944,-1565.6026 6004.3435,-1494.9154 5993.8868,-1374.231 5985.2947,-1319.9711"/>
<polygon fill="#000000" stroke="#000000" points="5988.7343,-1319.3195 5983.6226,-1310.0393 5981.8314,-1320.4817 5988.7343,-1319.3195"/>
</g>
<!-- prespace_86 -->
<g id="node87" class="node">
<title>prespace_86</title>
<ellipse fill="none" stroke="#000000" cx="6071" cy="-1292.1021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6071" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_73&#45;&gt;prespace_86 -->
<g id="edge86" class="edge">
<title>prose_73&#45;&gt;prespace_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5794.0675,-1617.1058C5855.2379,-1611.6739 5985.249,-1596.6947 6016,-1565.6026 6082.2537,-1498.6141 6079.5753,-1375.5058 6074.4692,-1320.2484"/>
<polygon fill="#000000" stroke="#000000" points="6077.9346,-1319.7303 6073.4354,-1310.1383 6070.9709,-1320.4425 6077.9346,-1319.7303"/>
</g>
<!-- literal_87 -->
<g id="node88" class="node">
<title>literal_87</title>
<ellipse fill="none" stroke="#000000" cx="6167" cy="-1292.1021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6167" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_73&#45;&gt;literal_87 -->
<g id="edge87" class="edge">
<title>prose_73&#45;&gt;literal_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5794.0241,-1617.0181C5878.5118,-1609.902 6102.5763,-1588.9907 6126,-1565.6026 6192.0947,-1499.6085 6181.4149,-1375.9834 6172.4756,-1320.4204"/>
<polygon fill="#000000" stroke="#000000" points="6175.8721,-1319.5182 6170.7342,-1310.2525 6168.9726,-1320.6999 6175.8721,-1319.5182"/>
</g>
<!-- raw_88 -->
<g id="node89" class="node">
<title>raw_88</title>
<ellipse fill="none" stroke="#000000" cx="6243" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="6243" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_73&#45;&gt;raw_88 -->
<g id="edge88" class="edge">
<title>prose_73&#45;&gt;raw_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5794.3206,-1617.937C5891.7467,-1612.6102 6177.6871,-1594.6204 6207,-1565.6026 6273.3699,-1499.9008 6259.5172,-1375.6024 6249.1471,-1320.0968"/>
<polygon fill="#000000" stroke="#000000" points="6252.5147,-1319.0835 6247.1443,-1309.9507 6245.6472,-1320.4392 6252.5147,-1319.0835"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6808,-1481.3028 6288,-1481.3028 6288,-1102.9013 6808,-1102.9013 6808,-1481.3028"/>
<text text-anchor="middle" x="6548" y="-1466.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">local home_dir = os.getenv &quot;HOME&quot;</text>
<text text-anchor="middle" x="6548" y="-1450.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">local bridge_modules = os.getenv &quot;BRIDGE_MODULES&quot;</text>
<text text-anchor="middle" x="6548" y="-1419.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">if not bridge_modules then</text>
<text text-anchor="middle" x="6548" y="-1403.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local xdg_data_home = os.getenv &quot;XDG_DATA_HOME&quot;</text>
<text text-anchor="middle" x="6548" y="-1388.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if xdg_data_home then</text>
<text text-anchor="middle" x="6548" y="-1373.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(xdg_data_home .. &quot;/bridge/&quot;) : mkdir()</text>
<text text-anchor="middle" x="6548" y="-1357.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bridge_modules = xdg_data_home .. &quot;/bridge/bridge.modules&quot;</text>
<text text-anchor="middle" x="6548" y="-1342.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="6548" y="-1326.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; build the whole shebang from scratch, just in case</text>
<text text-anchor="middle" x="6548" y="-1311.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; =mkdir= runs =exists= as the first command so this is</text>
<text text-anchor="middle" x="6548" y="-1296.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; sufficiently clear</text>
<text text-anchor="middle" x="6548" y="-1280.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local&quot;) : mkdir()</text>
<text text-anchor="middle" x="6548" y="-1265.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local/share&quot;) : mkdir()</text>
<text text-anchor="middle" x="6548" y="-1249.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local/share/bridge/&quot;) : mkdir()</text>
<text text-anchor="middle" x="6548" y="-1234.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bridge_modules = home_dir .. &quot;/.local/share/bridge/bridge.modules&quot;</text>
<text text-anchor="middle" x="6548" y="-1219.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error out if we haven&#39;t made the directory</text>
<text text-anchor="middle" x="6548" y="-1203.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local bridge_dir = Dir(home_dir .. &quot;/.local/share/bridge/&quot;)</text>
<text text-anchor="middle" x="6548" y="-1188.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not bridge_dir:exists() then</text>
<text text-anchor="middle" x="6548" y="-1172.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error (&quot;Could not create ~/.local/share/bridge/,&quot; ..</text>
<text text-anchor="middle" x="6548" y="-1157.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;consider defining $BRIDGE_MODULES&quot;)</text>
<text text-anchor="middle" x="6548" y="-1142.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6548" y="-1126.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6548" y="-1111.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_74&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>codeblock_74&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6229.2565,-1602.2552C6244.4016,-1592.1868 6263.3,-1578.8977 6279,-1565.6026 6307.2269,-1541.6995 6335.8667,-1515.2956 6363.4118,-1488.601"/>
<polygon fill="#000000" stroke="#000000" points="6366.0448,-1490.9224 6370.769,-1481.4391 6361.1621,-1485.9065 6366.0448,-1490.9224"/>
</g>
<!-- header_105 -->
<g id="node106" class="node">
<title>header_105</title>
<ellipse fill="none" stroke="#000000" cx="6955" cy="-1292.1021" rx="129.115" ry="18"/>
<text text-anchor="middle" x="6955" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : _unwrapForeignKey(result)</text>
</g>
<!-- section_75&#45;&gt;header_105 -->
<g id="edge105" class="edge">
<title>section_75&#45;&gt;header_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7040.033,-1601.5283C7025.1276,-1547.289 6980.7031,-1385.6331 6962.7026,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="6965.9764,-1318.8356 6959.9516,-1310.1206 6959.2267,-1320.6906 6965.9764,-1318.8356"/>
</g>
<!-- prose_106 -->
<g id="node107" class="node">
<title>prose_106</title>
<ellipse fill="none" stroke="#000000" cx="7134" cy="-1292.1021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7134" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_75&#45;&gt;prose_106 -->
<g id="edge106" class="edge">
<title>section_75&#45;&gt;prose_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7065.3546,-1602.098C7075.3081,-1592.3765 7086.5135,-1579.4627 7093,-1565.6026 7131.7605,-1482.781 7135.541,-1371.8158 7134.936,-1320.4218"/>
<polygon fill="#000000" stroke="#000000" points="7138.4349,-1320.3245 7134.7513,-1310.3906 7131.436,-1320.4534 7138.4349,-1320.3245"/>
</g>
<!-- codeblock_107 -->
<g id="node108" class="node">
<title>codeblock_107</title>
<ellipse fill="none" stroke="#000000" cx="7275" cy="-1292.1021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7275" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 215&#45;223</text>
</g>
<!-- section_75&#45;&gt;codeblock_107 -->
<g id="edge107" class="edge">
<title>section_75&#45;&gt;codeblock_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7100.8659,-1607.395C7126.3685,-1599.3072 7155.2222,-1586.2531 7175,-1565.6026 7242.6985,-1494.9168 7265.1941,-1374.7311 7272.1387,-1320.3353"/>
<polygon fill="#000000" stroke="#000000" points="7275.6185,-1320.712 7273.329,-1310.3675 7268.6679,-1319.8819 7275.6185,-1320.712"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="5079,-572.6023 4951,-572.6023 4951,-516.7993 5079,-516.7993 5079,-572.6023"/>
<text text-anchor="middle" x="5015" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Following the </text>
</g>
<!-- raw_77&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>raw_77&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5313.8676,-1274.1572C5323.1671,-1225.6837 5341.2453,-1090.9046 5273,-1018.6015 5215.5035,-957.6864 5146.4253,-1042.6264 5088,-982.6015 4980.4016,-872.0573 4996.43,-666.6901 5008.5443,-582.3467"/>
<polygon fill="#000000" stroke="#000000" points="5012.008,-582.849 5010.0304,-572.4404 5005.0855,-581.8104 5012.008,-582.849"/>
</g>
<!-- anchortext_90 -->
<g id="node91" class="node">
<title>anchortext_90</title>
<ellipse fill="none" stroke="#000000" cx="5148" cy="-544.7008" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="5148" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_78&#45;&gt;anchortext_90 -->
<g id="edge90" class="edge">
<title>link_78&#45;&gt;anchortext_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5385.7594,-1274.0461C5394.6543,-1225.8731 5411.6109,-1092.9209 5346,-1018.6015 5304.0499,-971.0835 5250.0758,-1030.0084 5208,-982.6015 5102.1894,-863.3845 5128.591,-649.3117 5142.3093,-572.8206"/>
<polygon fill="#000000" stroke="#000000" points="5145.7547,-573.4366 5144.1458,-562.9647 5138.8732,-572.1543 5145.7547,-573.4366"/>
</g>
<!-- url_91 -->
<g id="node92" class="node">
<title>url_91</title>
<ellipse fill="none" stroke="#000000" cx="5244" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="5244" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_78&#45;&gt;url_91 -->
<g id="edge91" class="edge">
<title>link_78&#45;&gt;url_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5384.8025,-1274.189C5391.1081,-1227.4809 5401.8012,-1099.9628 5346,-1018.6015 5327.1014,-991.0463 5298.22,-1010.61 5280,-982.6015 5194.1673,-850.6559 5223.3169,-646.9037 5237.8518,-572.8354"/>
<polygon fill="#000000" stroke="#000000" points="5241.3149,-573.3687 5239.8748,-562.8722 5234.4548,-571.9758 5241.3149,-573.3687"/>
</g>
<!-- leaf_94 -->
<g id="node95" class="node">
<title>leaf_94</title>
<polygon fill="none" stroke="#c0c0c0" points="5389,-564.0014 5289,-564.0014 5289,-525.4002 5389,-525.4002 5389,-564.0014"/>
<text text-anchor="middle" x="5339" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">,</text>
<text text-anchor="middle" x="5339" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">we place the</text>
</g>
<!-- raw_79&#45;&gt;leaf_94 -->
<g id="edge94" class="edge">
<title>raw_79&#45;&gt;leaf_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5453.9351,-1273.9885C5453.2845,-1229.3844 5448.5641,-1111.1458 5418,-1018.6015 5412.26,-1001.2215 5403.7665,-999.9728 5398,-982.6015 5348.9204,-834.7531 5340.5802,-645.9141 5339.2294,-574.153"/>
<polygon fill="#000000" stroke="#000000" points="5342.7274,-573.9928 5339.072,-564.0485 5335.7282,-574.1018 5342.7274,-573.9928"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="5461,-562.7008 5407,-562.7008 5407,-526.7008 5461,-526.7008 5461,-562.7008"/>
<text text-anchor="middle" x="5434" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_80&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>prespace_80&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5543.3059,-1273.9819C5538.7217,-1229.363 5524.0533,-1111.0937 5490,-1018.6015 5483.6762,-1001.4253 5475.3138,-1000.1165 5470,-982.6015 5424.8041,-833.631 5428.7894,-643.8828 5432.2648,-573.0463"/>
<polygon fill="#000000" stroke="#000000" points="5435.7776,-572.8938 5432.8105,-562.7229 5428.7874,-572.5242 5435.7776,-572.8938"/>
</g>
<!-- leaf_96 -->
<g id="node97" class="node">
<title>leaf_96</title>
<polygon fill="none" stroke="#c0c0c0" points="5593,-562.7008 5479,-562.7008 5479,-526.7008 5593,-526.7008 5593,-562.7008"/>
<text text-anchor="middle" x="5536" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">bridge.modules</text>
</g>
<!-- literal_81&#45;&gt;leaf_96 -->
<g id="edge96" class="edge">
<title>literal_81&#45;&gt;leaf_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5638.4565,-1273.9972C5624.4871,-1174.5618 5557.0994,-694.8885 5539.9679,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="5543.4142,-572.317 5538.5569,-562.9012 5536.4822,-573.2909 5543.4142,-572.317"/>
</g>
<!-- leaf_97 -->
<g id="node98" class="node">
<title>leaf_97</title>
<polygon fill="none" stroke="#c0c0c0" points="5935,-564.0014 5611,-564.0014 5611,-525.4002 5935,-525.4002 5935,-564.0014"/>
<text text-anchor="middle" x="5773" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> database in a place defined first by a user</text>
<text text-anchor="middle" x="5773" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">environment variable, then by</text>
</g>
<!-- raw_82&#45;&gt;leaf_97 -->
<g id="edge97" class="edge">
<title>raw_82&#45;&gt;leaf_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5718.3565,-1273.9972C5725.7744,-1174.9946 5761.4347,-699.0569 5770.763,-574.5571"/>
<polygon fill="#000000" stroke="#000000" points="5774.2771,-574.4985 5771.5341,-564.2649 5767.2967,-573.9754 5774.2771,-574.4985"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="6007,-562.7008 5953,-562.7008 5953,-526.7008 6007,-526.7008 6007,-562.7008"/>
<text text-anchor="middle" x="5980" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_83&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>prespace_83&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5806.4344,-1273.7988C5803.3683,-1226.149 5801.6117,-1096.5532 5864,-1018.6015 5888.3631,-988.1608 5921.5051,-1014.4476 5944,-982.6015 6034.8152,-854.0344 6002.6157,-648.2141 5986.7104,-573.2166"/>
<polygon fill="#000000" stroke="#000000" points="5990.0585,-572.1441 5984.4985,-563.1254 5983.2208,-573.6429 5990.0585,-572.1441"/>
</g>
<!-- leaf_99 -->
<g id="node100" class="node">
<title>leaf_99</title>
<polygon fill="none" stroke="#c0c0c0" points="6132.5,-562.7008 6025.5,-562.7008 6025.5,-526.7008 6132.5,-526.7008 6132.5,-562.7008"/>
<text text-anchor="middle" x="6079" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG_DATA_HOME</text>
</g>
<!-- literal_84&#45;&gt;leaf_99 -->
<g id="edge99" class="edge">
<title>literal_84&#45;&gt;leaf_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5901.3515,-1274.0445C5895.4683,-1226.9879 5886.0652,-1098.7007 5944,-1018.6015 5964.9675,-989.6125 5995.0664,-1011.615 6016,-982.6015 6108.7361,-854.0714 6092.9036,-648.2285 6083.2744,-573.2208"/>
<polygon fill="#000000" stroke="#000000" points="6086.7185,-572.5702 6081.9124,-563.1282 6079.7814,-573.5065 6086.7185,-572.5702"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="6475,-564.0014 6151,-564.0014 6151,-525.4002 6475,-525.4002 6475,-564.0014"/>
<text text-anchor="middle" x="6313" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">, and if neither is defined,</text>
<text text-anchor="middle" x="6313" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">attempt to put it in the default location of</text>
</g>
<!-- raw_85&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>raw_85&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5976.3442,-1274.1364C5967.7065,-1226.1877 5951.3318,-1093.7426 6016,-1018.6015 6053.7125,-974.7816 6098.2468,-1021.5192 6141,-982.6015 6265.8945,-868.9117 6301.244,-653.193 6310.2206,-574.4367"/>
<polygon fill="#000000" stroke="#000000" points="6313.7259,-574.5754 6311.3188,-564.2577 6306.7663,-573.8245 6313.7259,-574.5754"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="6547,-562.7008 6493,-562.7008 6493,-526.7008 6547,-526.7008 6547,-562.7008"/>
<text text-anchor="middle" x="6520" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_86&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>prespace_86&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6068.278,-1273.9895C6061.978,-1224.4968 6052.1913,-1086.1807 6127,-1018.6015 6186.1681,-965.1515 6428.1416,-1039.5016 6484,-982.6015 6595.2621,-869.2647 6549.3563,-650.6249 6528.338,-572.9388"/>
<polygon fill="#000000" stroke="#000000" points="6531.6081,-571.6344 6525.5563,-562.938 6524.8641,-573.5102 6531.6081,-571.6344"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="6672.5,-562.7008 6565.5,-562.7008 6565.5,-526.7008 6672.5,-526.7008 6672.5,-562.7008"/>
<text text-anchor="middle" x="6619" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG_DATA_HOME</text>
</g>
<!-- literal_87&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>literal_87&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6163.0912,-1274.1464C6153.5708,-1225.0545 6134.9388,-1087.668 6207,-1018.6015 6263.2883,-964.6525 6499.7747,-1036.6162 6556,-982.6015 6671.3234,-871.8122 6640.7324,-651.5761 6625.2908,-573.2051"/>
<polygon fill="#000000" stroke="#000000" points="6628.6602,-572.2114 6623.2293,-563.1143 6621.8019,-573.6126 6628.6602,-572.2114"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="6819,-564.0014 6691,-564.0014 6691,-525.4002 6819,-525.4002 6819,-564.0014"/>
<text text-anchor="middle" x="6755" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">, creating it if</text>
<text text-anchor="middle" x="6755" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">necessary.</text>
</g>
<!-- raw_88&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>raw_88&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6238.7404,-1274.1352C6228.2765,-1225.0147 6207.1124,-1087.5618 6279,-1018.6015 6343.7251,-956.512 6615.1516,-1043.4985 6681,-982.6015 6798.3176,-874.1056 6774.1805,-654.2742 6760.7341,-574.4868"/>
<polygon fill="#000000" stroke="#000000" points="6764.1016,-573.4273 6758.9235,-564.184 6757.2072,-574.6389 6764.1016,-573.4273"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="5075,-53.4 4975,-53.4 4975,-17.4 5075,-17.4 5075,-53.4"/>
<text text-anchor="middle" x="5025" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG Standard</text>
</g>
<!-- anchortext_90&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>anchortext_90&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5149.1412,-526.5771C5152.3086,-464.6743 5156.8712,-257.139 5088,-106.8001 5079.9999,-89.3366 5066.2832,-73.0167 5053.6874,-60.3999"/>
<polygon fill="#000000" stroke="#000000" points="5056.0789,-57.8437 5046.4524,-53.4185 5051.2182,-62.881 5056.0789,-57.8437"/>
</g>
<!-- leaf_93 -->
<g id="node94" class="node">
<title>leaf_93</title>
<polygon fill="none" stroke="#c0c0c0" points="5641,-53.4 5093,-53.4 5093,-17.4 5641,-17.4 5641,-53.4"/>
<text text-anchor="middle" x="5367" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">https://specifications.freedesktop.org/basedir&#45;spec/basedir&#45;spec&#45;latest.html</text>
</g>
<!-- url_91&#45;&gt;leaf_93 -->
<g id="edge93" class="edge">
<title>url_91&#45;&gt;leaf_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5240.7595,-526.6574C5230.4667,-464.1521 5203.5058,-252.734 5280,-106.8001 5290.1195,-87.4942 5307.9399,-71.4559 5324.828,-59.5033"/>
<polygon fill="#000000" stroke="#000000" points="5327.1989,-62.1257 5333.5288,-53.6296 5323.2822,-56.3239 5327.1989,-62.1257"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="7063,-562.7008 6837,-562.7008 6837,-526.7008 7063,-526.7008 7063,-562.7008"/>
<text text-anchor="middle" x="6950" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** _unwrapForeignKey(result)</text>
</g>
<!-- header_105&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>header_105&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6954.8789,-1273.9972C6954.2137,-1174.5618 6951.0047,-694.8885 6950.1889,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="6953.6887,-572.8775 6950.1218,-562.9012 6946.6888,-572.9244 6953.6887,-572.8775"/>
</g>
<!-- raw_109 -->
<g id="node110" class="node">
<title>raw_109</title>
<ellipse fill="none" stroke="#000000" cx="7108" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="7108" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_106&#45;&gt;raw_109 -->
<g id="edge109" class="edge">
<title>prose_106&#45;&gt;raw_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7133.3702,-1273.9972C7129.9111,-1174.5618 7113.2246,-694.8885 7108.9825,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="7112.4788,-572.7734 7108.6331,-562.9012 7105.483,-573.0168 7112.4788,-572.7734"/>
</g>
<!-- leaf_111 -->
<g id="node112" class="node">
<title>leaf_111</title>
<polygon fill="none" stroke="#c0c0c0" points="7505,-602.5012 7153,-602.5012 7153,-486.9004 7505,-486.9004 7505,-602.5012"/>
<text text-anchor="middle" x="7329" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _unwrapForeignKey(result)</text>
<text text-anchor="middle" x="7329" y="-572.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if result and result[1] and result[1][1] then</text>
<text text-anchor="middle" x="7329" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return result[1][1]</text>
<text text-anchor="middle" x="7329" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="7329" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return nil</text>
<text text-anchor="middle" x="7329" y="-510.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7329" y="-495.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_107&#45;&gt;leaf_111 -->
<g id="edge111" class="edge">
<title>codeblock_107&#45;&gt;leaf_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7276.3081,-1273.9972C7282.8606,-1183.3052 7312.2666,-776.3042 7324.072,-612.9081"/>
<polygon fill="#000000" stroke="#000000" points="7327.5939,-612.7299 7324.8237,-602.5037 7320.6121,-612.2254 7327.5939,-612.7299"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="7385.5,-70.7004 6830.5,-70.7004 6830.5,-.0997 7385.5,-.0997 7385.5,-70.7004"/>
<text text-anchor="middle" x="7108" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Just peeling off layers here. &#160;I realize there are more sophisticated ways to</text>
<text text-anchor="middle" x="7108" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">do almost everything but for now this will get us where we&#39;re going.</text>
</g>
<!-- raw_109&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>raw_109&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7108,-526.5745C7108,-454.7204 7108,-188.5957 7108,-80.9897"/>
<polygon fill="#000000" stroke="#000000" points="7111.5001,-80.7803 7108,-70.7804 7104.5001,-80.7804 7111.5001,-80.7803"/>
</g>
<!-- leaf_115 -->
<g id="node116" class="node">
<title>leaf_115</title>
<polygon fill="none" stroke="#c0c0c0" points="7517.5,-1310.1021 7382.5,-1310.1021 7382.5,-1274.1021 7517.5,-1274.1021 7517.5,-1310.1021"/>
<text text-anchor="middle" x="7450" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.open()</text>
</g>
<!-- header_112&#45;&gt;leaf_115 -->
<g id="edge115" class="edge">
<title>header_112&#45;&gt;leaf_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7485.9028,-1601.5283C7479.6094,-1547.289 7460.8524,-1385.6331 7453.2522,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="7456.72,-1319.6505 7452.0907,-1310.1206 7449.7667,-1320.4574 7456.72,-1319.6505"/>
</g>
<!-- raw_116 -->
<g id="node117" class="node">
<title>raw_116</title>
<ellipse fill="none" stroke="#000000" cx="7563" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="7563" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_113&#45;&gt;raw_116 -->
<g id="edge116" class="edge">
<title>prose_113&#45;&gt;raw_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7633.8858,-1605.4321C7621.6984,-1595.6914 7607.0043,-1581.6483 7599,-1565.6026 7558.1842,-1483.7821 7558.2249,-1371.8839 7560.8834,-1320.2784"/>
<polygon fill="#000000" stroke="#000000" points="7564.382,-1320.4027 7561.4766,-1310.214 7557.3942,-1319.9907 7564.382,-1320.4027"/>
</g>
<!-- prespace_117 -->
<g id="node118" class="node">
<title>prespace_117</title>
<ellipse fill="none" stroke="#000000" cx="7654" cy="-1292.1021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7654" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_113&#45;&gt;prespace_117 -->
<g id="edge117" class="edge">
<title>prose_113&#45;&gt;prespace_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7654,-1601.5283C7654,-1547.289 7654,-1385.6331 7654,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="7657.5001,-1320.1205 7654,-1310.1206 7650.5001,-1320.1206 7657.5001,-1320.1205"/>
</g>
<!-- literal_118 -->
<g id="node119" class="node">
<title>literal_118</title>
<ellipse fill="none" stroke="#000000" cx="7750" cy="-1292.1021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7750" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_113&#45;&gt;literal_118 -->
<g id="edge118" class="edge">
<title>prose_113&#45;&gt;literal_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7674.0164,-1605.3828C7686.1649,-1595.6224 7700.8522,-1581.5759 7709,-1565.6026 7750.6525,-1483.9454 7752.9815,-1371.9669 7751.4737,-1320.3101"/>
<polygon fill="#000000" stroke="#000000" points="7754.9685,-1320.1011 7751.1065,-1310.2353 7747.9732,-1320.3562 7754.9685,-1320.1011"/>
</g>
<!-- raw_119 -->
<g id="node120" class="node">
<title>raw_119</title>
<ellipse fill="none" stroke="#000000" cx="7826" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="7826" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_113&#45;&gt;raw_119 -->
<g id="edge119" class="edge">
<title>prose_113&#45;&gt;raw_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7685.901,-1616.1423C7717.5527,-1610.9074 7764.8632,-1597.8675 7790,-1565.6026 7846.8628,-1492.615 7838.4045,-1374.0299 7830.831,-1320.2339"/>
<polygon fill="#000000" stroke="#000000" points="7834.2511,-1319.4407 7829.3,-1310.0739 7827.3292,-1320.4838 7834.2511,-1319.4407"/>
</g>
<!-- leaf_124 -->
<g id="node125" class="node">
<title>leaf_124</title>
<polygon fill="none" stroke="#c0c0c0" points="8307,-1403.7029 7871,-1403.7029 7871,-1180.5013 8307,-1180.5013 8307,-1403.7029"/>
<text text-anchor="middle" x="8089" y="-1388.7023" font-family="Inconsolata" font-size="14.00" fill="#000000">function Loader.open()</text>
<text text-anchor="middle" x="8089" y="-1373.3023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local new = not (File(bridge_modules) : exists())</text>
<text text-anchor="middle" x="8089" y="-1357.9022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if new then</text>
<text text-anchor="middle" x="8089" y="-1342.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;print &quot;creating new bridge.modules&quot;</text>
<text text-anchor="middle" x="8089" y="-1327.1022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8089" y="-1311.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local conn = sql.open(bridge_modules)</text>
<text text-anchor="middle" x="8089" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo: turn on foreign_keys pragma when we add sqlayer</text>
<text text-anchor="middle" x="8089" y="-1280.9021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if new then</text>
<text text-anchor="middle" x="8089" y="-1265.502" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_project_table)</text>
<text text-anchor="middle" x="8089" y="-1250.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_code_table)</text>
<text text-anchor="middle" x="8089" y="-1234.702" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_module_table)</text>
<text text-anchor="middle" x="8089" y="-1219.302" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8089" y="-1203.9019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return conn</text>
<text text-anchor="middle" x="8089" y="-1188.5019" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_114&#45;&gt;leaf_124 -->
<g id="edge124" class="edge">
<title>codeblock_114&#45;&gt;leaf_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7949.1679,-1601.5283C7965.2615,-1565.9157 8002.2818,-1483.9957 8034.1892,-1413.3897"/>
<polygon fill="#000000" stroke="#000000" points="8037.525,-1414.5071 8038.4537,-1403.9531 8031.1461,-1411.6244 8037.525,-1414.5071"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="7602.5,-572.6023 7523.5,-572.6023 7523.5,-516.7993 7602.5,-516.7993 7602.5,-572.6023"/>
<text text-anchor="middle" x="7563" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">Loads the</text>
</g>
<!-- raw_116&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>raw_116&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7563,-1273.9972C7563,-1177.0834 7563,-718.972 7563,-582.8997"/>
<polygon fill="#000000" stroke="#000000" points="7566.5001,-582.5668 7563,-572.5668 7559.5001,-582.5668 7566.5001,-582.5668"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="7675,-562.7008 7621,-562.7008 7621,-526.7008 7675,-526.7008 7675,-562.7008"/>
<text text-anchor="middle" x="7648" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_117&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>prespace_117&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7653.8547,-1273.9972C7653.0564,-1174.5618 7649.2057,-694.8885 7648.2267,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="7651.7264,-572.8727 7648.1461,-562.9012 7644.7266,-572.929 7651.7264,-572.8727"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="7807,-562.7008 7693,-562.7008 7693,-526.7008 7807,-526.7008 7807,-562.7008"/>
<text text-anchor="middle" x="7750" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">bridge.modules</text>
</g>
<!-- literal_118&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>literal_118&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7750,-1273.9972C7750,-1174.5618 7750,-694.8885 7750,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="7753.5001,-572.9011 7750,-562.9012 7746.5001,-572.9012 7753.5001,-572.9011"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="8149,-562.7008 7825,-562.7008 7825,-526.7008 8149,-526.7008 8149,-562.7008"/>
<text text-anchor="middle" x="7987" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> database and returns the SQLite connection.</text>
</g>
<!-- raw_119&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>raw_119&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7827.5754,-1274.0536C7831.5873,-1230.0761 7843.2205,-1113.9919 7862,-1018.6015 7895.7591,-847.1228 7955.814,-645.7402 7978.2362,-572.8284"/>
<polygon fill="#000000" stroke="#000000" points="7981.658,-573.6095 7981.2638,-563.022 7974.9695,-571.5445 7981.658,-573.6095"/>
</g>
<!-- leaf_130 -->
<g id="node131" class="node">
<title>leaf_130</title>
<polygon fill="none" stroke="#c0c0c0" points="8700.5,-1310.1021 8369.5,-1310.1021 8369.5,-1274.1021 8700.5,-1274.1021 8700.5,-1310.1021"/>
<text text-anchor="middle" x="8535" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.commitModule(conn, bytecode, deck)</text>
</g>
<!-- header_125&#45;&gt;leaf_130 -->
<g id="edge130" class="edge">
<title>header_125&#45;&gt;leaf_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8545.3929,-1601.5283C8543.5712,-1547.289 8538.1415,-1385.6331 8535.9414,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="8539.439,-1319.9974 8535.6052,-1310.1206 8532.443,-1320.2325 8539.439,-1319.9974"/>
</g>
<!-- raw_131 -->
<g id="node132" class="node">
<title>raw_131</title>
<ellipse fill="none" stroke="#000000" cx="8746" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="8746" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_126&#45;&gt;raw_131 -->
<g id="edge131" class="edge">
<title>prose_126&#45;&gt;raw_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8796.6702,-1602.0826C8791.5602,-1591.7426 8785.5602,-1578.2426 8782,-1565.6026 8757.4438,-1478.4195 8749.5223,-1370.7834 8747.0593,-1320.4959"/>
<polygon fill="#000000" stroke="#000000" points="8750.5503,-1320.2145 8746.6009,-1310.3833 8743.5574,-1320.5316 8750.5503,-1320.2145"/>
</g>
<!-- raw_133 -->
<g id="node134" class="node">
<title>raw_133</title>
<ellipse fill="none" stroke="#000000" cx="8818" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="8818" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_127&#45;&gt;raw_133 -->
<g id="edge133" class="edge">
<title>prose_127&#45;&gt;raw_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8888.8858,-1605.4321C8876.6984,-1595.6914 8862.0043,-1581.6483 8854,-1565.6026 8813.1842,-1483.7821 8813.2249,-1371.8839 8815.8834,-1320.2784"/>
<polygon fill="#000000" stroke="#000000" points="8819.382,-1320.4027 8816.4766,-1310.214 8812.3942,-1319.9907 8819.382,-1320.4027"/>
</g>
<!-- prespace_134 -->
<g id="node135" class="node">
<title>prespace_134</title>
<ellipse fill="none" stroke="#000000" cx="8909" cy="-1292.1021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="8909" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_127&#45;&gt;prespace_134 -->
<g id="edge134" class="edge">
<title>prose_127&#45;&gt;prespace_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8909,-1601.5283C8909,-1547.289 8909,-1385.6331 8909,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="8912.5001,-1320.1205 8909,-1310.1206 8905.5001,-1320.1206 8912.5001,-1320.1205"/>
</g>
<!-- literal_135 -->
<g id="node136" class="node">
<title>literal_135</title>
<ellipse fill="none" stroke="#000000" cx="9005" cy="-1292.1021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="9005" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_127&#45;&gt;literal_135 -->
<g id="edge135" class="edge">
<title>prose_127&#45;&gt;literal_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8929.0164,-1605.3828C8941.1649,-1595.6224 8955.8522,-1581.5759 8964,-1565.6026 9005.6525,-1483.9454 9007.9815,-1371.9669 9006.4737,-1320.3101"/>
<polygon fill="#000000" stroke="#000000" points="9009.9685,-1320.1011 9006.1065,-1310.2353 9002.9732,-1320.3562 9009.9685,-1320.1011"/>
</g>
<!-- raw_136 -->
<g id="node137" class="node">
<title>raw_136</title>
<ellipse fill="none" stroke="#000000" cx="9081" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="9081" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_127&#45;&gt;raw_136 -->
<g id="edge136" class="edge">
<title>prose_127&#45;&gt;raw_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8940.901,-1616.1423C8972.5527,-1610.9074 9019.8632,-1597.8675 9045,-1565.6026 9101.8628,-1492.615 9093.4045,-1374.0299 9085.831,-1320.2339"/>
<polygon fill="#000000" stroke="#000000" points="9089.2511,-1319.4407 9084.3,-1310.0739 9082.3292,-1320.4838 9089.2511,-1319.4407"/>
</g>
<!-- leaf_141 -->
<g id="node142" class="node">
<title>leaf_141</title>
<polygon fill="none" stroke="#c0c0c0" points="9639.5,-1450.2029 9126.5,-1450.2029 9126.5,-1134.0012 9639.5,-1134.0012 9639.5,-1450.2029"/>
<text text-anchor="middle" x="9383" y="-1435.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">local function commitModule(conn, bytecode, project_id, version_id)</text>
<text text-anchor="middle" x="9383" y="-1419.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; upsert code.binary and code.hash</text>
<text text-anchor="middle" x="9383" y="-1404.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(new_code):bindkv(bytecode):step()</text>
<text text-anchor="middle" x="9383" y="-1389.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; select code_id</text>
<text text-anchor="middle" x="9383" y="-1373.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local code_id = _unwrapForeignKey(conn:exec(</text>
<text text-anchor="middle" x="9383" y="-1358.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sql.format(get_code_id_by_hash,</text>
<text text-anchor="middle" x="9383" y="-1342.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bytecode.hash)))</text>
<text text-anchor="middle" x="9383" y="-1327.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not code_id then</text>
<text text-anchor="middle" x="9383" y="-1312.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;error(&quot;code_id not found for &quot; .. bytecode.name)</text>
<text text-anchor="middle" x="9383" y="-1296.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="9383" y="-1281.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local mod = { name = bytecode.name,</text>
<text text-anchor="middle" x="9383" y="-1265.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;project_id = project_id,</text>
<text text-anchor="middle" x="9383" y="-1250.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_id = code_id,</text>
<text text-anchor="middle" x="9383" y="-1235.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;snapshot = 1,</text>
<text text-anchor="middle" x="9383" y="-1219.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;vc_hash = &quot;&quot;,</text>
<text text-anchor="middle" x="9383" y="-1204.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;version_id = version_id }</text>
<text text-anchor="middle" x="9383" y="-1188.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(add_module):bindkv(mod):step()</text>
<text text-anchor="middle" x="9383" y="-1173.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9383" y="-1142.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">Loader.commitModule = commitModule</text>
</g>
<!-- codeblock_128&#45;&gt;leaf_141 -->
<g id="edge141" class="edge">
<title>codeblock_128&#45;&gt;leaf_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9224.2717,-1601.5283C9238.6365,-1573.5254 9267.6889,-1516.8906 9297.0579,-1459.6383"/>
<polygon fill="#000000" stroke="#000000" points="9300.3218,-1460.9438 9301.772,-1450.4487 9294.0935,-1457.7488 9300.3218,-1460.9438"/>
</g>
<!-- header_142 -->
<g id="node143" class="node">
<title>header_142</title>
<ellipse fill="none" stroke="#000000" cx="9785" cy="-1292.1021" rx="127.6701" ry="18"/>
<text text-anchor="middle" x="9785" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : _newProject(conn, project)</text>
</g>
<!-- section_129&#45;&gt;header_142 -->
<g id="edge142" class="edge">
<title>section_129&#45;&gt;header_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9869.0882,-1601.5283C9854.3484,-1547.289 9810.4175,-1385.6331 9792.617,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="9795.8966,-1318.8527 9789.8966,-1310.1206 9789.1416,-1320.6885 9795.8966,-1318.8527"/>
</g>
<!-- prose_143 -->
<g id="node144" class="node">
<title>prose_143</title>
<ellipse fill="none" stroke="#000000" cx="9963" cy="-1292.1021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9963" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_129&#45;&gt;prose_143 -->
<g id="edge143" class="edge">
<title>section_129&#45;&gt;prose_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9894.3546,-1602.098C9904.3081,-1592.3765 9915.5135,-1579.4627 9922,-1565.6026 9960.7605,-1482.781 9964.541,-1371.8158 9963.936,-1320.4218"/>
<polygon fill="#000000" stroke="#000000" points="9967.4349,-1320.3245 9963.7513,-1310.3906 9960.436,-1320.4534 9967.4349,-1320.3245"/>
</g>
<!-- codeblock_144 -->
<g id="node145" class="node">
<title>codeblock_144</title>
<ellipse fill="none" stroke="#000000" cx="10101" cy="-1292.1021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10101" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 282&#45;291</text>
</g>
<!-- section_129&#45;&gt;codeblock_144 -->
<g id="edge144" class="edge">
<title>section_129&#45;&gt;codeblock_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9929.9548,-1607.4797C9955.4776,-1599.4112 9984.3227,-1586.3489 10004,-1565.6026 10071.1195,-1494.8368 10092.1961,-1374.6921 10098.4833,-1320.3211"/>
<polygon fill="#000000" stroke="#000000" points="10101.9654,-1320.6744 10099.5529,-1310.3579 10095.0054,-1319.9272 10101.9654,-1320.6744"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="8519,-572.6023 8167,-572.6023 8167,-516.7993 8519,-516.7993 8519,-572.6023"/>
<text text-anchor="middle" x="8343" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">Commits a single module and associated bytecode.</text>
</g>
<!-- raw_131&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>raw_131&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8749.8515,-1274.1724C8759.1103,-1225.7372 8777.0955,-1091.0458 8709,-1018.6015 8652.8245,-958.8385 8591.5853,-1034.411 8528,-982.6015 8399.6339,-878.0086 8358.8439,-668.3936 8347.2043,-582.6144"/>
<polygon fill="#000000" stroke="#000000" points="8350.6552,-582.0096 8345.8957,-572.544 8343.7136,-582.9116 8350.6552,-582.0096"/>
</g>
<!-- leaf_137 -->
<g id="node138" class="node">
<title>leaf_137</title>
<polygon fill="none" stroke="#c0c0c0" points="9099,-579.9012 8537,-579.9012 8537,-509.5004 9099,-509.5004 9099,-579.9012"/>
<text text-anchor="middle" x="8818" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">It might be smarter to fetch all hashes associated with the project first, and</text>
<text text-anchor="middle" x="8818" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">only commit ones which aren&#39;t on the list, but it&#39;s definitely easier to just</text>
<text text-anchor="middle" x="8818" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">commit everything and let the</text>
</g>
<!-- raw_133&#45;&gt;leaf_137 -->
<g id="edge137" class="edge">
<title>raw_133&#45;&gt;leaf_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8818,-1273.9972C8818,-1178.7376 8818,-734.5059 8818,-590.1457"/>
<polygon fill="#000000" stroke="#000000" points="8821.5001,-589.8814 8818,-579.8814 8814.5001,-589.8814 8821.5001,-589.8814"/>
</g>
<!-- leaf_138 -->
<g id="node139" class="node">
<title>leaf_138</title>
<polygon fill="none" stroke="#c0c0c0" points="9171,-562.7008 9117,-562.7008 9117,-526.7008 9171,-526.7008 9171,-562.7008"/>
<text text-anchor="middle" x="9144" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_134&#45;&gt;leaf_138 -->
<g id="edge138" class="edge">
<title>prespace_134&#45;&gt;leaf_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8906.7483,-1273.8471C8901.8412,-1225.1802 8895.6589,-1091.1109 8965,-1018.6015 9010.2964,-971.2355 9065.6237,-1032.5971 9108,-982.6015 9210.4566,-861.7232 9170.3416,-648.6852 9151.571,-572.6434"/>
<polygon fill="#000000" stroke="#000000" points="9154.9366,-571.6764 9149.0811,-562.8467 9148.1523,-573.4007 9154.9366,-571.6764"/>
</g>
<!-- leaf_139 -->
<g id="node140" class="node">
<title>leaf_139</title>
<polygon fill="none" stroke="#c0c0c0" points="9331,-562.7008 9189,-562.7008 9189,-526.7008 9331,-526.7008 9331,-562.7008"/>
<text text-anchor="middle" x="9260" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">ON CONFLICT IGNORE</text>
</g>
<!-- literal_135&#45;&gt;leaf_139 -->
<g id="edge139" class="edge">
<title>literal_135&#45;&gt;leaf_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9001.5733,-1274.03C8993.5532,-1225.8172 8978.9264,-1092.775 9045,-1018.6015 9086.3042,-972.2339 9137.8799,-1028.2293 9180,-982.6015 9288.6708,-864.881 9273.8019,-650.6634 9264.2133,-573.4276"/>
<polygon fill="#000000" stroke="#000000" points="9267.6235,-572.5135 9262.8522,-563.0539 9260.6829,-573.4242 9267.6235,-572.5135"/>
</g>
<!-- leaf_140 -->
<g id="node141" class="node">
<title>leaf_140</title>
<polygon fill="none" stroke="#c0c0c0" points="9512.5,-562.7008 9349.5,-562.7008 9349.5,-526.7008 9512.5,-526.7008 9512.5,-562.7008"/>
<text text-anchor="middle" x="9431" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> prevent duplication.</text>
</g>
<!-- raw_136&#45;&gt;leaf_140 -->
<g id="edge140" class="edge">
<title>raw_136&#45;&gt;leaf_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9076.9315,-1274.0479C9067.1141,-1225.2989 9047.7629,-1089.8891 9117,-1018.6015 9186.9462,-946.5839 9267.4369,-1051.9817 9340,-982.6015 9456.8519,-870.8751 9443.8243,-651.2262 9434.8874,-573.1072"/>
<polygon fill="#000000" stroke="#000000" points="9438.3462,-572.5552 9433.6674,-563.0495 9431.3971,-573.3982 9438.3462,-572.5552"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="9901.5,-562.7008 9668.5,-562.7008 9668.5,-526.7008 9901.5,-526.7008 9901.5,-562.7008"/>
<text text-anchor="middle" x="9785" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** _newProject(conn, project)</text>
</g>
<!-- header_142&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>header_142&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9785,-1273.9972C9785,-1174.5618 9785,-694.8885 9785,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="9788.5001,-572.9011 9785,-562.9012 9781.5001,-572.9012 9788.5001,-572.9011"/>
</g>
<!-- raw_146 -->
<g id="node147" class="node">
<title>raw_146</title>
<ellipse fill="none" stroke="#000000" cx="9955" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="9955" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_143&#45;&gt;raw_146 -->
<g id="edge146" class="edge">
<title>prose_143&#45;&gt;raw_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9962.8062,-1273.9972C9961.7419,-1174.5618 9956.6076,-694.8885 9955.3023,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="9958.8017,-572.8631 9955.1948,-562.9012 9951.8021,-572.9381 9958.8017,-572.8631"/>
</g>
<!-- leaf_148 -->
<g id="node149" class="node">
<title>leaf_148</title>
<polygon fill="none" stroke="#c0c0c0" points="10373.5,-610.4012 10000.5,-610.4012 10000.5,-479.0004 10373.5,-479.0004 10373.5,-610.4012"/>
<text text-anchor="middle" x="10187" y="-595.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _newProject(conn, project)</text>
<text text-anchor="middle" x="10187" y="-579.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;assert(project.name, &quot;project must have a name&quot;)</text>
<text text-anchor="middle" x="10187" y="-564.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.repo = project.repo or &quot;&quot;</text>
<text text-anchor="middle" x="10187" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.home = project.home or &quot;&quot;</text>
<text text-anchor="middle" x="10187" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.website = project.website or &quot;&quot;</text>
<text text-anchor="middle" x="10187" y="-518.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(new_project):bindkv(project):step()</text>
<text text-anchor="middle" x="10187" y="-502.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return true</text>
<text text-anchor="middle" x="10187" y="-487.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_144&#45;&gt;leaf_148 -->
<g id="edge148" class="edge">
<title>codeblock_144&#45;&gt;leaf_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10103.0832,-1273.9972C10113.3584,-1184.6987 10158.9199,-788.7368 10178.2654,-620.6104"/>
<polygon fill="#000000" stroke="#000000" points="10181.7515,-620.9311 10179.4177,-610.5965 10174.7974,-620.1309 10181.7515,-620.9311"/>
</g>
<!-- leaf_147 -->
<g id="node148" class="node">
<title>leaf_147</title>
<polygon fill="none" stroke="#c0c0c0" points="9982,-53.4 9928,-53.4 9928,-17.4 9982,-17.4 9982,-53.4"/>
</g>
<!-- raw_146&#45;&gt;leaf_147 -->
<g id="edge147" class="edge">
<title>raw_146&#45;&gt;leaf_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9955,-526.5745C9955,-450.468 9955,-156.4165 9955,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="9958.5001,-63.5743 9955,-53.5744 9951.5001,-63.5744 9958.5001,-63.5743"/>
</g>
<!-- leaf_153 -->
<g id="node154" class="node">
<title>leaf_153</title>
<polygon fill="none" stroke="#c0c0c0" points="10467.5,-1310.1021 10206.5,-1310.1021 10206.5,-1274.1021 10467.5,-1274.1021 10467.5,-1310.1021"/>
<text text-anchor="middle" x="10337" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.commitCodex(conn, codex)</text>
</g>
<!-- header_149&#45;&gt;leaf_153 -->
<g id="edge153" class="edge">
<title>header_149&#45;&gt;leaf_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10337,-1601.5283C10337,-1547.289 10337,-1385.6331 10337,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="10340.5001,-1320.1205 10337,-1310.1206 10333.5001,-1320.1206 10340.5001,-1320.1205"/>
</g>
<!-- raw_154 -->
<g id="node155" class="node">
<title>raw_154</title>
<ellipse fill="none" stroke="#000000" cx="10513" cy="-1292.1021" rx="27" ry="18"/>
<text text-anchor="middle" x="10513" y="-1287.9021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_150&#45;&gt;raw_154 -->
<g id="edge154" class="edge">
<title>prose_150&#45;&gt;raw_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10545.1236,-1601.5283C10539.4926,-1547.289 10522.7101,-1385.6331 10515.9099,-1320.131"/>
<polygon fill="#000000" stroke="#000000" points="10519.3846,-1319.7057 10514.8706,-1310.1206 10512.422,-1320.4286 10519.3846,-1319.7057"/>
</g>
<!-- leaf_156 -->
<g id="node157" class="node">
<title>leaf_156</title>
<polygon fill="none" stroke="#c0c0c0" points="11078,-1565.6032 10558,-1565.6032 10558,-1018.601 11078,-1018.601 11078,-1565.6032"/>
<text text-anchor="middle" x="10818" y="-1550.4026" font-family="Inconsolata" font-size="14.00" fill="#000000">function Loader.commitCodex(conn, codex)</text>
<text text-anchor="middle" x="10818" y="-1535.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; begin transaction</text>
<text text-anchor="middle" x="10818" y="-1519.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec &quot;BEGIN TRANSACTION;&quot;</text>
<text text-anchor="middle" x="10818" y="-1504.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; currently we&#39;re only making snapshots, so let&#39;s create the</text>
<text text-anchor="middle" x="10818" y="-1488.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; snapshot version if we don&#39;t have it.</text>
<text text-anchor="middle" x="10818" y="-1473.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local version_id = _unwrapForeignKey(conn:exec(get_snapshot_version))</text>
<text text-anchor="middle" x="10818" y="-1458.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not version_id then</text>
<text text-anchor="middle" x="10818" y="-1442.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local make_snapshot = sql.format(new_version_snapshot, &quot;SNAPSHOT&quot;)</text>
<text text-anchor="middle" x="10818" y="-1427.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(make_snapshot)</text>
<text text-anchor="middle" x="10818" y="-1411.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;version_id = _unwrapForeignKey(conn:exec(get_snapshot_version))</text>
<text text-anchor="middle" x="10818" y="-1396.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not version_id then</text>
<text text-anchor="middle" x="10818" y="-1381.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error &quot;didn&#39;t make a SNAPSHOT&quot;</text>
<text text-anchor="middle" x="10818" y="-1365.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10818" y="-1350.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10818" y="-1334.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; upsert project</text>
<text text-anchor="middle" x="10818" y="-1319.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; select project_id</text>
<text text-anchor="middle" x="10818" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local get_proj = sql.format(get_project_id, codex.project)</text>
<text text-anchor="middle" x="10818" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local project_id = _unwrapForeignKey(conn:exec(get_proj))</text>
<text text-anchor="middle" x="10818" y="-1273.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if project_id then</text>
<text text-anchor="middle" x="10818" y="-1257.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;print (&quot;project_id is &quot; .. project_id)</text>
<text text-anchor="middle" x="10818" y="-1242.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10818" y="-1227.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;_newProject(conn, {name = codex.project})</text>
<text text-anchor="middle" x="10818" y="-1211.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;project_id = _unwrapForeignKey(conn:exec(get_proj))</text>
<text text-anchor="middle" x="10818" y="-1196.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not project_id then</text>
<text text-anchor="middle" x="10818" y="-1180.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error (&quot;failed to create project &quot; .. codex.project)</text>
<text text-anchor="middle" x="10818" y="-1165.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10818" y="-1150.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10818" y="-1134.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; This for now will just</text>
<text text-anchor="middle" x="10818" y="-1119.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for _, bytecode in pairs(codex.bytecodes) do</text>
<text text-anchor="middle" x="10818" y="-1103.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;commitModule(conn, bytecode, project_id, version_id)</text>
<text text-anchor="middle" x="10818" y="-1088.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10818" y="-1073.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; commit transaction</text>
<text text-anchor="middle" x="10818" y="-1057.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec &quot;COMMIT;&quot;</text>
<text text-anchor="middle" x="10818" y="-1042.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return conn</text>
<text text-anchor="middle" x="10818" y="-1026.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_151&#45;&gt;leaf_156 -->
<g id="edge156" class="edge">
<title>codeblock_151&#45;&gt;leaf_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10754.6976,-1601.5283C10756.1217,-1594.5674 10757.9077,-1585.8372 10759.9676,-1575.7682"/>
<polygon fill="#000000" stroke="#000000" points="10763.4483,-1576.2168 10762.0237,-1565.7182 10756.5903,-1574.8138 10763.4483,-1576.2168"/>
</g>
<!-- leaf_157 -->
<g id="node158" class="node">
<title>leaf_157</title>
<polygon fill="none" stroke="#c0c0c0" points="11203.5,-1310.1021 11096.5,-1310.1021 11096.5,-1274.1021 11203.5,-1274.1021 11203.5,-1310.1021"/>
<text text-anchor="middle" x="11150" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">return Loader</text>
</g>
<!-- codeblock_152&#45;&gt;leaf_157 -->
<g id="edge157" class="edge">
<title>codeblock_152&#45;&gt;leaf_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11063.1063,-1601.8164C11071.3692,-1591.8206 11080.9432,-1578.7406 11087,-1565.6026 11125.7709,-1481.503 11141.6977,-1371.5323 11147.3305,-1320.4562"/>
<polygon fill="#000000" stroke="#000000" points="11150.8441,-1320.509 11148.4091,-1310.1978 11143.8825,-1319.777 11150.8441,-1320.509"/>
</g>
<!-- leaf_155 -->
<g id="node156" class="node">
<title>leaf_155</title>
<polygon fill="none" stroke="#c0c0c0" points="10540,-562.7008 10486,-562.7008 10486,-526.7008 10540,-526.7008 10540,-562.7008"/>
</g>
<!-- raw_154&#45;&gt;leaf_155 -->
<g id="edge155" class="edge">
<title>raw_154&#45;&gt;leaf_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10513,-1273.9972C10513,-1174.5618 10513,-694.8885 10513,-572.9445"/>
<polygon fill="#000000" stroke="#000000" points="10516.5001,-572.9011 10513,-562.9012 10509.5001,-572.9012 10516.5001,-572.9011"/>
</g>
</g>
</svg>
