<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="11198pt" height="1877pt"
 viewBox="0.00 0.00 11197.50 1877.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1873.0027)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1873.0027 11193.5,-1873.0027 11193.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="3949" cy="-1851.0027" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="3949" y="-1846.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 341</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="3949" cy="-1779.0027" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3949" y="-1774.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;296</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3949,-1832.834C3949,-1825.1336 3949,-1815.977 3949,-1807.4193"/>
<polygon fill="#000000" stroke="#000000" points="3952.5001,-1807.4159 3949,-1797.4159 3945.5001,-1807.416 3952.5001,-1807.4159"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="726" cy="-1707.0027" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="726" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : loader</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3883.1457,-1778.8751C3492.82,-1777.9644 1478.8823,-1771.0701 862,-1725.0027 834.654,-1722.9605 804.3961,-1719.1143 779.3771,-1715.4999"/>
<polygon fill="#000000" stroke="#000000" points="779.7588,-1712.0184 769.3556,-1714.0244 778.7391,-1718.9437 779.7588,-1712.0184"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="903" cy="-1707.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="903" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3883.195,-1778.596C3473.5368,-1775.9597 1280.4367,-1760.2776 984,-1725.0027 970.0932,-1723.3478 955.0673,-1720.3539 941.7778,-1717.2767"/>
<polygon fill="#000000" stroke="#000000" points="942.542,-1713.8607 932.001,-1714.928 940.9068,-1720.6671 942.542,-1713.8607"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1025" cy="-1707.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1025" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3883.4812,-1777.3893C3485.1775,-1767.5816 1395.0733,-1716.1153 1068.055,-1708.0628"/>
<polygon fill="#000000" stroke="#000000" points="1067.6827,-1704.5527 1057.5996,-1707.8054 1067.5104,-1711.5506 1067.6827,-1704.5527"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="2498" cy="-1707.0027" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2498" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 10&#45;30</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3884.3082,-1775.7926C3647.128,-1764.0235 2825.9062,-1723.2737 2572.8354,-1710.7161"/>
<polygon fill="#000000" stroke="#000000" points="2572.8034,-1707.2103 2562.6422,-1710.2103 2572.4564,-1714.2017 2572.8034,-1707.2103"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="3426" cy="-1707.0027" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3426" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 31&#45;93</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3890.275,-1770.9181C3792.9149,-1757.5148 3598.5547,-1730.7578 3494.8779,-1716.4849"/>
<polygon fill="#000000" stroke="#000000" points="3495.2132,-1712.9981 3484.8293,-1715.1015 3494.2585,-1719.9327 3495.2132,-1712.9981"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="4575" cy="-1707.0027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4575" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 156&#45;175</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4009.5923,-1772.0336C4123.7146,-1758.9077 4370.394,-1730.5356 4496.8249,-1715.994"/>
<polygon fill="#000000" stroke="#000000" points="4497.2925,-1719.4634 4506.827,-1714.8436 4496.4926,-1712.5093 4497.2925,-1719.4634"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="5739" cy="-1707.0027" rx="74.6878" ry="18"/>
<text text-anchor="middle" x="5739" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 176&#45;211</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4014.0301,-1776.3869C4287.9232,-1765.37 5347.5946,-1722.7463 5654.9771,-1710.3823"/>
<polygon fill="#000000" stroke="#000000" points="5655.3063,-1713.872 5665.1575,-1709.9729 5655.0249,-1706.8777 5655.3063,-1713.872"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="7543" cy="-1707.0027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7543" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 228&#45;250</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4014.837,-1777.6837C4454.2547,-1768.8807 6959.6226,-1718.6897 7457.1207,-1708.7231"/>
<polygon fill="#000000" stroke="#000000" points="7457.5275,-1712.2158 7467.4553,-1708.5161 7457.3872,-1705.2172 7457.5275,-1712.2158"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="8830" cy="-1707.0027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8830" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 251&#45;282</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4014.6075,-1778.0463C4376.447,-1772.7703 6165.1417,-1746.6707 7627,-1725.0027 8046.0386,-1718.7916 8547.1797,-1711.2598 8744.3384,-1708.2926"/>
<polygon fill="#000000" stroke="#000000" points="8744.3985,-1711.7922 8754.3446,-1708.142 8744.2931,-1704.793 8744.3985,-1711.7922"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="10519" cy="-1707.0027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10519" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 297&#45;341</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4014.7754,-1778.2957C4445.4757,-1773.6647 6907.7472,-1747.1628 8914,-1725.0027 9494.6486,-1718.5891 10193.4559,-1710.6902 10433.3338,-1707.9736"/>
<polygon fill="#000000" stroke="#000000" points="10433.4249,-1711.4729 10443.3846,-1707.8598 10433.3456,-1704.4733 10433.4249,-1711.4729"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="721,-1653.0027 649,-1653.0027 649,-1617.0027 721,-1617.0027 721,-1653.0027"/>
<text text-anchor="middle" x="685" y="-1631.5027" font-family="Inconsolata" font-size="14.00" fill="#000000">* loader</text>
</g>
<!-- header_2&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>header_2&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M715.8652,-1689.2049C711.1699,-1680.9596 705.4902,-1670.9855 700.2897,-1661.8528"/>
<polygon fill="#000000" stroke="#000000" points="703.2929,-1660.0537 695.303,-1653.0958 697.21,-1663.5176 703.2929,-1660.0537"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="766" cy="-1635.0027" rx="27" ry="18"/>
<text text-anchor="middle" x="766" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M879.4489,-1694.6254C856.5196,-1682.575 821.5601,-1664.2021 796.5117,-1651.038"/>
<polygon fill="#000000" stroke="#000000" points="797.923,-1647.8258 787.4427,-1646.2718 794.6664,-1654.0222 797.923,-1647.8258"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="838" cy="-1635.0027" rx="27" ry="18"/>
<text text-anchor="middle" x="838" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M996.7815,-1698.0398C966.1521,-1688.0512 915.9919,-1670.9323 874,-1653.0027 872.2167,-1652.2412 870.3969,-1651.4333 868.5697,-1650.5981"/>
<polygon fill="#000000" stroke="#000000" points="870.0375,-1647.4205 859.504,-1646.2812 867.028,-1653.7405 870.0375,-1647.4205"/>
</g>
<!-- prespace_16 -->
<g id="node17" class="node">
<title>prespace_16</title>
<ellipse fill="none" stroke="#000000" cx="929" cy="-1635.0027" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="929" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_4&#45;&gt;prespace_16 -->
<g id="edge16" class="edge">
<title>prose_4&#45;&gt;prespace_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1005.573,-1692.4324C992.0746,-1682.3086 973.8362,-1668.6298 958.5453,-1657.1616"/>
<polygon fill="#000000" stroke="#000000" points="960.5024,-1654.2545 950.4024,-1651.0545 956.3024,-1659.8545 960.5024,-1654.2545"/>
</g>
<!-- literal_17 -->
<g id="node18" class="node">
<title>literal_17</title>
<ellipse fill="none" stroke="#000000" cx="1025" cy="-1635.0027" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1025" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_4&#45;&gt;literal_17 -->
<g id="edge17" class="edge">
<title>prose_4&#45;&gt;literal_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1025,-1688.834C1025,-1681.1336 1025,-1671.977 1025,-1663.4193"/>
<polygon fill="#000000" stroke="#000000" points="1028.5001,-1663.4159 1025,-1653.4159 1021.5001,-1663.416 1028.5001,-1663.4159"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="1170" cy="-1635.0027" rx="27" ry="18"/>
<text text-anchor="middle" x="1170" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_4&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1049.2697,-1694.9515C1073.9341,-1682.7043 1112.2278,-1663.6895 1139.0574,-1650.3673"/>
<polygon fill="#000000" stroke="#000000" points="1140.6281,-1653.4951 1148.0281,-1645.9128 1137.5149,-1647.2255 1140.6281,-1653.4951"/>
</g>
<!-- header_23 -->
<g id="node24" class="node">
<title>header_23</title>
<ellipse fill="none" stroke="#000000" cx="1813" cy="-1635.0027" rx="51.2759" ry="18"/>
<text text-anchor="middle" x="1813" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : imports</text>
</g>
<!-- section_5&#45;&gt;header_23 -->
<g id="edge23" class="edge">
<title>section_5&#45;&gt;header_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2436.608,-1700.5498C2305.8392,-1686.8047 2001.2531,-1654.7898 1872.3323,-1641.239"/>
<polygon fill="#000000" stroke="#000000" points="1872.5628,-1637.7441 1862.2517,-1640.1795 1871.831,-1644.7057 1872.5628,-1637.7441"/>
</g>
<!-- prose_24 -->
<g id="node25" class="node">
<title>prose_24</title>
<ellipse fill="none" stroke="#000000" cx="2041" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2041" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_24 -->
<g id="edge24" class="edge">
<title>section_5&#45;&gt;prose_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2441.0447,-1698.0294C2347.6555,-1683.316 2164.1735,-1654.4085 2082.2285,-1641.4982"/>
<polygon fill="#000000" stroke="#000000" points="2082.7092,-1638.0308 2072.2864,-1639.9318 2081.6198,-1644.9455 2082.7092,-1638.0308"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="2498" cy="-1635.0027" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2498" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 17&#45;24</text>
</g>
<!-- section_5&#45;&gt;codeblock_25 -->
<g id="edge25" class="edge">
<title>section_5&#45;&gt;codeblock_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2498,-1688.834C2498,-1681.1336 2498,-1671.977 2498,-1663.4193"/>
<polygon fill="#000000" stroke="#000000" points="2501.5001,-1663.4159 2498,-1653.4159 2494.5001,-1663.416 2501.5001,-1663.4159"/>
</g>
<!-- codeblock_26 -->
<g id="node27" class="node">
<title>codeblock_26</title>
<ellipse fill="none" stroke="#000000" cx="2724" cy="-1635.0027" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2724" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 26&#45;28</text>
</g>
<!-- section_5&#45;&gt;codeblock_26 -->
<g id="edge26" class="edge">
<title>section_5&#45;&gt;codeblock_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2541.0408,-1693.2905C2577.1686,-1681.7808 2629.0255,-1665.26 2668.3122,-1652.7439"/>
<polygon fill="#000000" stroke="#000000" points="2669.5466,-1656.024 2678.0123,-1649.6536 2667.4217,-1649.3543 2669.5466,-1656.024"/>
</g>
<!-- header_44 -->
<g id="node45" class="node">
<title>header_44</title>
<ellipse fill="none" stroke="#000000" cx="3080" cy="-1635.0027" rx="61.3032" ry="18"/>
<text text-anchor="middle" x="3080" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : SQL code</text>
</g>
<!-- section_6&#45;&gt;header_44 -->
<g id="edge44" class="edge">
<title>section_6&#45;&gt;header_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3373.45,-1696.0674C3310.694,-1683.0083 3205.9578,-1661.2135 3140.0584,-1647.5004"/>
<polygon fill="#000000" stroke="#000000" points="3140.7309,-1644.0654 3130.2276,-1645.4546 3139.3048,-1650.9186 3140.7309,-1644.0654"/>
</g>
<!-- prose_45 -->
<g id="node46" class="node">
<title>prose_45</title>
<ellipse fill="none" stroke="#000000" cx="3270" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3270" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_45 -->
<g id="edge45" class="edge">
<title>section_6&#45;&gt;prose_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3392.1503,-1691.3797C3366.1323,-1679.3714 3330.342,-1662.8528 3304.2295,-1650.8009"/>
<polygon fill="#000000" stroke="#000000" points="3305.6294,-1647.5922 3295.083,-1646.5794 3302.6959,-1653.9479 3305.6294,-1647.5922"/>
</g>
<!-- section_46 -->
<g id="node47" class="node">
<title>section_46</title>
<ellipse fill="none" stroke="#000000" cx="3426" cy="-1635.0027" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3426" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 36&#45;93</text>
</g>
<!-- section_6&#45;&gt;section_46 -->
<g id="edge46" class="edge">
<title>section_6&#45;&gt;section_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3426,-1688.834C3426,-1681.1336 3426,-1671.977 3426,-1663.4193"/>
<polygon fill="#000000" stroke="#000000" points="3429.5001,-1663.4159 3426,-1653.4159 3422.5001,-1663.416 3429.5001,-1663.4159"/>
</g>
<!-- section_47 -->
<g id="node48" class="node">
<title>section_47</title>
<ellipse fill="none" stroke="#000000" cx="4013" cy="-1635.0027" rx="70.655" ry="18"/>
<text text-anchor="middle" x="4013" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 94&#45;155</text>
</g>
<!-- section_6&#45;&gt;section_47 -->
<g id="edge47" class="edge">
<title>section_6&#45;&gt;section_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3486.0607,-1699.6358C3594.2362,-1686.3672 3821.4725,-1658.4949 3939.0351,-1644.075"/>
<polygon fill="#000000" stroke="#000000" points="3939.5299,-1647.5406 3949.0293,-1642.8491 3938.6776,-1640.5927 3939.5299,-1647.5406"/>
</g>
<!-- header_65 -->
<g id="node66" class="node">
<title>header_65</title>
<ellipse fill="none" stroke="#000000" cx="4470" cy="-1635.0027" rx="159.9496" ry="18"/>
<text text-anchor="middle" x="4470" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : SQL loader.load(conn, mod_name)</text>
</g>
<!-- section_7&#45;&gt;header_65 -->
<g id="edge65" class="edge">
<title>section_7&#45;&gt;header_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4550.1165,-1689.9397C4536.5302,-1680.6234 4519.4945,-1668.9418 4504.6293,-1658.7485"/>
<polygon fill="#000000" stroke="#000000" points="4506.3968,-1655.7167 4496.1702,-1652.9479 4502.4381,-1661.4898 4506.3968,-1655.7167"/>
</g>
<!-- prose_66 -->
<g id="node67" class="node">
<title>prose_66</title>
<ellipse fill="none" stroke="#000000" cx="4680" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4680" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_66 -->
<g id="edge66" class="edge">
<title>section_7&#45;&gt;prose_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4599.8835,-1689.9397C4615.2341,-1679.4135 4634.9883,-1665.8678 4651.04,-1654.8609"/>
<polygon fill="#000000" stroke="#000000" points="4653.2573,-1657.5844 4659.5252,-1649.0425 4649.2985,-1651.8113 4653.2573,-1657.5844"/>
</g>
<!-- codeblock_67 -->
<g id="node68" class="node">
<title>codeblock_67</title>
<ellipse fill="none" stroke="#000000" cx="4836" cy="-1635.0027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4836" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 160&#45;173</text>
</g>
<!-- section_7&#45;&gt;codeblock_67 -->
<g id="edge67" class="edge">
<title>section_7&#45;&gt;codeblock_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4624.3989,-1693.3754C4666.8056,-1681.677 4728.1419,-1664.7566 4773.8703,-1652.1419"/>
<polygon fill="#000000" stroke="#000000" points="4774.9614,-1655.4717 4783.6706,-1649.4384 4773.0999,-1648.7237 4774.9614,-1655.4717"/>
</g>
<!-- header_72 -->
<g id="node73" class="node">
<title>header_72</title>
<ellipse fill="none" stroke="#000000" cx="5339" cy="-1635.0027" rx="110.9288" ry="18"/>
<text text-anchor="middle" x="5339" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Environment Variables</text>
</g>
<!-- section_8&#45;&gt;header_72 -->
<g id="edge72" class="edge">
<title>section_8&#45;&gt;header_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5678.6829,-1696.1456C5610.7997,-1683.9266 5500.0351,-1663.989 5423.5411,-1650.2201"/>
<polygon fill="#000000" stroke="#000000" points="5423.914,-1646.731 5413.4521,-1648.404 5422.6739,-1653.6203 5423.914,-1646.731"/>
</g>
<!-- prose_73 -->
<g id="node74" class="node">
<title>prose_73</title>
<ellipse fill="none" stroke="#000000" cx="5739" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5739" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_73 -->
<g id="edge73" class="edge">
<title>section_8&#45;&gt;prose_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5739,-1688.834C5739,-1681.1336 5739,-1671.977 5739,-1663.4193"/>
<polygon fill="#000000" stroke="#000000" points="5742.5001,-1663.4159 5739,-1653.4159 5735.5001,-1663.416 5742.5001,-1663.4159"/>
</g>
<!-- codeblock_74 -->
<g id="node75" class="node">
<title>codeblock_74</title>
<ellipse fill="none" stroke="#000000" cx="6179" cy="-1635.0027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6179" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 184&#45;209</text>
</g>
<!-- section_8&#45;&gt;codeblock_74 -->
<g id="edge74" class="edge">
<title>section_8&#45;&gt;codeblock_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5801.108,-1696.8395C5879.6076,-1683.9941 6014.7925,-1661.873 6100.4029,-1647.864"/>
<polygon fill="#000000" stroke="#000000" points="6101.0286,-1651.3082 6110.3321,-1646.2392 6099.8981,-1644.4001 6101.0286,-1651.3082"/>
</g>
<!-- section_75 -->
<g id="node76" class="node">
<title>section_75</title>
<ellipse fill="none" stroke="#000000" cx="7022" cy="-1635.0027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7022" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 212&#45;227</text>
</g>
<!-- section_8&#45;&gt;section_75 -->
<g id="edge75" class="edge">
<title>section_8&#45;&gt;section_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5812.1211,-1702.8992C6034.4778,-1690.4209 6701.7553,-1652.9743 6937.9839,-1639.7175"/>
<polygon fill="#000000" stroke="#000000" points="6938.4425,-1643.1974 6948.2307,-1639.1425 6938.0503,-1636.2084 6938.4425,-1643.1974"/>
</g>
<!-- header_112 -->
<g id="node113" class="node">
<title>header_112</title>
<ellipse fill="none" stroke="#000000" cx="7460" cy="-1635.0027" rx="77.4383" ry="18"/>
<text text-anchor="middle" x="7460" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.open()</text>
</g>
<!-- section_9&#45;&gt;header_112 -->
<g id="edge112" class="edge">
<title>section_9&#45;&gt;header_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7522.908,-1689.5735C7512.3831,-1680.4434 7499.3285,-1669.1189 7487.8441,-1659.1566"/>
<polygon fill="#000000" stroke="#000000" points="7490.042,-1656.4298 7480.1946,-1652.5209 7485.4551,-1661.7176 7490.042,-1656.4298"/>
</g>
<!-- prose_113 -->
<g id="node114" class="node">
<title>prose_113</title>
<ellipse fill="none" stroke="#000000" cx="7626" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7626" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_113 -->
<g id="edge113" class="edge">
<title>section_9&#45;&gt;prose_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7563.092,-1689.5735C7574.4265,-1679.7411 7588.6949,-1667.3637 7600.7764,-1656.8834"/>
<polygon fill="#000000" stroke="#000000" points="7603.0866,-1659.5127 7608.3471,-1650.3161 7598.4997,-1654.225 7603.0866,-1659.5127"/>
</g>
<!-- codeblock_114 -->
<g id="node115" class="node">
<title>codeblock_114</title>
<ellipse fill="none" stroke="#000000" cx="7913" cy="-1635.0027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7913" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 232&#45;248</text>
</g>
<!-- section_9&#45;&gt;codeblock_114 -->
<g id="edge114" class="edge">
<title>section_9&#45;&gt;codeblock_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7601.6276,-1695.594C7666.0108,-1683.0654 7769.5096,-1662.9251 7839.3278,-1649.3389"/>
<polygon fill="#000000" stroke="#000000" points="7840.2285,-1652.7293 7849.3758,-1647.3836 7838.8914,-1645.8582 7840.2285,-1652.7293"/>
</g>
<!-- header_125 -->
<g id="node126" class="node">
<title>header_125</title>
<ellipse fill="none" stroke="#000000" cx="8518" cy="-1635.0027" rx="198.7451" ry="18"/>
<text text-anchor="middle" x="8518" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.commitModule(conn, bytecode, deck)</text>
</g>
<!-- section_10&#45;&gt;header_125 -->
<g id="edge125" class="edge">
<title>section_10&#45;&gt;header_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8775.6537,-1694.4612C8727.314,-1683.3059 8655.9087,-1666.8277 8600.5207,-1654.0459"/>
<polygon fill="#000000" stroke="#000000" points="8601.2566,-1650.6238 8590.7256,-1651.7855 8599.6825,-1657.4445 8601.2566,-1650.6238"/>
</g>
<!-- prose_126 -->
<g id="node127" class="node">
<title>prose_126</title>
<ellipse fill="none" stroke="#000000" cx="8778" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8778" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_126 -->
<g id="edge126" class="edge">
<title>section_10&#45;&gt;prose_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8817.1461,-1689.2049C8810.8828,-1680.5327 8803.2384,-1669.9482 8796.3726,-1660.4416"/>
<polygon fill="#000000" stroke="#000000" points="8799.0403,-1658.1575 8790.348,-1652.0999 8793.3656,-1662.2559 8799.0403,-1658.1575"/>
</g>
<!-- prose_127 -->
<g id="node128" class="node">
<title>prose_127</title>
<ellipse fill="none" stroke="#000000" cx="8881" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8881" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_127 -->
<g id="edge127" class="edge">
<title>section_10&#45;&gt;prose_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8842.6067,-1689.2049C8848.7495,-1680.5327 8856.2469,-1669.9482 8862.9808,-1660.4416"/>
<polygon fill="#000000" stroke="#000000" points="8865.9653,-1662.2832 8868.8895,-1652.0999 8860.2532,-1658.2371 8865.9653,-1662.2832"/>
</g>
<!-- codeblock_128 -->
<g id="node129" class="node">
<title>codeblock_128</title>
<ellipse fill="none" stroke="#000000" cx="9187" cy="-1635.0027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9187" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 259&#45;280</text>
</g>
<!-- section_10&#45;&gt;codeblock_128 -->
<g id="edge128" class="edge">
<title>section_10&#45;&gt;codeblock_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8887.755,-1695.3546C8949.5101,-1682.8998 9047.5639,-1663.1242 9114.475,-1649.6296"/>
<polygon fill="#000000" stroke="#000000" points="9115.4136,-1653.0108 9124.5242,-1647.6028 9114.0296,-1646.149 9115.4136,-1653.0108"/>
</g>
<!-- section_129 -->
<g id="node130" class="node">
<title>section_129</title>
<ellipse fill="none" stroke="#000000" cx="9846" cy="-1635.0027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9846" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 283&#45;296</text>
</g>
<!-- section_10&#45;&gt;section_129 -->
<g id="edge129" class="edge">
<title>section_10&#45;&gt;section_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8902.6605,-1701.8535C9086.4914,-1688.8261 9569.2172,-1654.6172 9763.3731,-1640.8581"/>
<polygon fill="#000000" stroke="#000000" points="9763.7869,-1644.3377 9773.5144,-1640.1394 9763.292,-1637.3552 9763.7869,-1644.3377"/>
</g>
<!-- header_149 -->
<g id="node150" class="node">
<title>header_149</title>
<ellipse fill="none" stroke="#000000" cx="10309" cy="-1635.0027" rx="159.5865" ry="18"/>
<text text-anchor="middle" x="10309" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.commitCodex(conn, codex)</text>
</g>
<!-- section_11&#45;&gt;header_149 -->
<g id="edge149" class="edge">
<title>section_11&#45;&gt;header_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10475.7425,-1692.1715C10444.9254,-1681.6056 10403.1032,-1667.2666 10369.0538,-1655.5925"/>
<polygon fill="#000000" stroke="#000000" points="10369.8104,-1652.152 10359.2158,-1652.2195 10367.5401,-1658.7736 10369.8104,-1652.152"/>
</g>
<!-- prose_150 -->
<g id="node151" class="node">
<title>prose_150</title>
<ellipse fill="none" stroke="#000000" cx="10519" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10519" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_150 -->
<g id="edge150" class="edge">
<title>section_11&#45;&gt;prose_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10519,-1688.834C10519,-1681.1336 10519,-1671.977 10519,-1663.4193"/>
<polygon fill="#000000" stroke="#000000" points="10522.5001,-1663.4159 10519,-1653.4159 10515.5001,-1663.416 10522.5001,-1663.4159"/>
</g>
<!-- codeblock_151 -->
<g id="node152" class="node">
<title>codeblock_151</title>
<ellipse fill="none" stroke="#000000" cx="10727" cy="-1635.0027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10727" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 299&#45;336</text>
</g>
<!-- section_11&#45;&gt;codeblock_151 -->
<g id="edge151" class="edge">
<title>section_11&#45;&gt;codeblock_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10561.8455,-1692.1715C10593.9133,-1681.0711 10638.0121,-1665.8061 10672.575,-1653.8421"/>
<polygon fill="#000000" stroke="#000000" points="10673.7477,-1657.14 10682.0527,-1650.5613 10671.4579,-1650.5251 10673.7477,-1657.14"/>
</g>
<!-- codeblock_152 -->
<g id="node153" class="node">
<title>codeblock_152</title>
<ellipse fill="none" stroke="#000000" cx="11028" cy="-1635.0027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11028" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 339&#45;341</text>
</g>
<!-- section_11&#45;&gt;codeblock_152 -->
<g id="edge152" class="edge">
<title>section_11&#45;&gt;codeblock_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10583.9822,-1697.8107C10676.0955,-1684.7809 10844.6238,-1660.9419 10945.4671,-1646.6772"/>
<polygon fill="#000000" stroke="#000000" points="10946.2005,-1650.1084 10955.6117,-1645.2423 10945.22,-1643.1774 10946.2005,-1650.1084"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="436,-1335.7032 0,-1335.7032 0,-1263.9009 436,-1263.9009 436,-1335.7032"/>
<text text-anchor="middle" x="218" y="-1272.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m less than convinced that I&#39;ve given this the right name.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M745.1718,-1623.1074C740.3191,-1620.7578 735.0818,-1618.5449 730,-1617.0027 607.829,-1579.9259 556.5102,-1643.1793 445,-1581.0027 346.2857,-1525.9609 274.0961,-1409.1435 239.9808,-1344.7447"/>
<polygon fill="#000000" stroke="#000000" points="242.9563,-1342.8813 235.225,-1335.6371 236.7513,-1346.1215 242.9563,-1342.8813"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="806,-1319.7042 454,-1319.7042 454,-1279.9 806,-1279.9 806,-1319.7042"/>
<text text-anchor="middle" x="630" y="-1288.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">Among other things this will have a function for</text>
</g>
<!-- raw_15&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_15&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M827.3993,-1617.9192C793.8749,-1563.8932 689.8957,-1396.3265 647.8821,-1328.6198"/>
<polygon fill="#000000" stroke="#000000" points="650.6254,-1326.4027 642.3788,-1319.7511 644.6775,-1330.0935 650.6254,-1326.4027"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="878,-1317.8021 824,-1317.8021 824,-1281.8021 878,-1281.8021 878,-1317.8021"/>
<text text-anchor="middle" x="851" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_16&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>prespace_16&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M911.9541,-1618.0591C903.0116,-1608.1171 892.7473,-1594.8198 887,-1581.0027 850.9113,-1494.2421 848.6283,-1380.4896 849.7999,-1328.2605"/>
<polygon fill="#000000" stroke="#000000" points="853.3036,-1328.1772 850.0914,-1318.0811 846.3065,-1327.9768 853.3036,-1328.1772"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1017.5,-1317.8021 896.5,-1317.8021 896.5,-1281.8021 1017.5,-1281.8021 1017.5,-1317.8021"/>
<text text-anchor="middle" x="957" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">package.loaders</text>
</g>
<!-- literal_17&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>literal_17&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1021.344,-1616.9808C1010.1366,-1561.7346 976.2026,-1394.4599 962.665,-1327.7274"/>
<polygon fill="#000000" stroke="#000000" points="966.0924,-1327.0175 960.6741,-1317.913 959.2321,-1328.4093 966.0924,-1327.0175"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1576.5,-1327.0026 1035.5,-1327.0026 1035.5,-1272.6016 1576.5,-1272.6016 1576.5,-1327.0026"/>
<text text-anchor="middle" x="1306" y="-1311.7021" font-family="Inconsolata" font-size="14.00" fill="#000000">, but this</text>
<text text-anchor="middle" x="1306" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">file will contain everything needed to manipulate modules, including things</text>
<text text-anchor="middle" x="1306" y="-1280.9021" font-family="Inconsolata" font-size="14.00" fill="#000000">needed only by the compiler.</text>
</g>
<!-- raw_18&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>raw_18&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1177.1205,-1617.4528C1198.4177,-1564.9612 1261.9494,-1408.3741 1291.0919,-1336.5463"/>
<polygon fill="#000000" stroke="#000000" points="1294.4513,-1337.5756 1294.9678,-1326.9933 1287.9649,-1334.9438 1294.4513,-1337.5756"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1687.5,-1317.8021 1594.5,-1317.8021 1594.5,-1281.8021 1687.5,-1281.8021 1687.5,-1317.8021"/>
<text text-anchor="middle" x="1641" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** imports</text>
</g>
<!-- header_23&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>header_23&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1769.61,-1625.23C1744.7015,-1617.387 1714.9074,-1603.7998 1697,-1581.0027 1637.3275,-1505.0362 1635.9449,-1382.6516 1638.7689,-1327.8782"/>
<polygon fill="#000000" stroke="#000000" points="1642.2647,-1328.0515 1639.3737,-1317.8588 1635.2774,-1327.6296 1642.2647,-1328.0515"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="1733" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="1733" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_24&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2009.4955,-1630.8375C1941.4195,-1621.5444 1785.3862,-1598.5542 1769,-1581.0027 1703.3679,-1510.7028 1716.9556,-1383.8861 1727.0649,-1327.7909"/>
<polygon fill="#000000" stroke="#000000" points="1730.5235,-1328.3384 1728.954,-1317.8604 1723.6468,-1327.0302 1730.5235,-1328.3384"/>
</g>
<!-- prespace_29 -->
<g id="node30" class="node">
<title>prespace_29</title>
<ellipse fill="none" stroke="#000000" cx="1824" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1824" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_24&#45;&gt;prespace_29 -->
<g id="edge29" class="edge">
<title>prose_24&#45;&gt;prespace_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2010.7976,-1628.6606C1969.2028,-1619.3173 1897.4358,-1600.8072 1880,-1581.0027 1816.0124,-1508.3223 1816.9355,-1383.7263 1821.068,-1328.0826"/>
<polygon fill="#000000" stroke="#000000" points="1824.5731,-1328.166 1821.919,-1317.909 1817.5975,-1327.5824 1824.5731,-1328.166"/>
</g>
<!-- literal_30 -->
<g id="node31" class="node">
<title>literal_30</title>
<ellipse fill="none" stroke="#000000" cx="1920" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1920" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_24&#45;&gt;literal_30 -->
<g id="edge30" class="edge">
<title>prose_24&#45;&gt;literal_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2014.7268,-1624.4958C1996.3128,-1615.7037 1972.7898,-1601.3102 1960,-1581.0027 1909.3549,-1500.5886 1912.2937,-1381.8814 1916.8407,-1328.111"/>
<polygon fill="#000000" stroke="#000000" points="1920.344,-1328.2375 1917.7864,-1317.9561 1913.3742,-1327.5884 1920.344,-1328.2375"/>
</g>
<!-- raw_31 -->
<g id="node32" class="node">
<title>raw_31</title>
<ellipse fill="none" stroke="#000000" cx="1996" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="1996" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_31 -->
<g id="edge31" class="edge">
<title>prose_24&#45;&gt;raw_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2037.8296,-1617.0294C2036.0227,-1606.5383 2033.7727,-1593.0383 2032,-1581.0027 2018.4027,-1488.6868 2005.2006,-1378.8783 1999.266,-1328.1182"/>
<polygon fill="#000000" stroke="#000000" points="2002.7127,-1327.4567 1998.0797,-1317.9285 1995.7597,-1328.2662 2002.7127,-1327.4567"/>
</g>
<!-- prespace_32 -->
<g id="node33" class="node">
<title>prespace_32</title>
<ellipse fill="none" stroke="#000000" cx="2087" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2087" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_24&#45;&gt;prespace_32 -->
<g id="edge32" class="edge">
<title>prose_24&#45;&gt;prespace_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2043.4732,-1616.9808C2051.0391,-1561.8482 2073.9156,-1395.1478 2083.1111,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="2086.6225,-1328.2961 2084.5146,-1317.913 2079.6875,-1327.3443 2086.6225,-1328.2961"/>
</g>
<!-- literal_33 -->
<g id="node34" class="node">
<title>literal_33</title>
<ellipse fill="none" stroke="#000000" cx="2183" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2183" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_24&#45;&gt;literal_33 -->
<g id="edge33" class="edge">
<title>prose_24&#45;&gt;literal_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2070.2596,-1627.2938C2093.551,-1619.5624 2124.9722,-1605.2469 2142,-1581.0027 2196.7804,-1503.0061 2192.2301,-1382.5869 2186.6997,-1328.1924"/>
<polygon fill="#000000" stroke="#000000" points="2190.1422,-1327.4793 2185.5618,-1317.9257 2183.1848,-1328.2504 2190.1422,-1327.4793"/>
</g>
<!-- raw_34 -->
<g id="node35" class="node">
<title>raw_34</title>
<ellipse fill="none" stroke="#000000" cx="2259" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="2259" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_34 -->
<g id="edge34" class="edge">
<title>prose_24&#45;&gt;raw_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2072.1909,-1629.9376C2118.8541,-1621.6974 2203.4606,-1603.9737 2223,-1581.0027 2285.0345,-1508.0732 2273.578,-1383.6067 2264.4997,-1328.0395"/>
<polygon fill="#000000" stroke="#000000" points="2267.8953,-1327.1354 2262.7382,-1317.8804 2260.9982,-1328.3313 2267.8953,-1327.1354"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="2691.5,-1350.403 2304.5,-1350.403 2304.5,-1249.2012 2691.5,-1249.2012 2691.5,-1350.403"/>
<text text-anchor="middle" x="2498" y="-1335.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">local sql = assert(sql, &quot;must have sql in bridge _G&quot;)</text>
<text text-anchor="middle" x="2498" y="-1320.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local Dir = require &quot;walk/directory&quot;</text>
<text text-anchor="middle" x="2498" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">local sha = require &quot;sha3&quot; . sha512</text>
<text text-anchor="middle" x="2498" y="-1257.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">local status = require &quot;status&quot; ()</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>codeblock_25&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2498,-1616.9808C2498,-1569.4138 2498,-1438.7976 2498,-1360.8115"/>
<polygon fill="#000000" stroke="#000000" points="2501.5001,-1360.6378 2498,-1350.6378 2494.5001,-1360.6379 2501.5001,-1360.6378"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="2844.5,-1317.8021 2709.5,-1317.8021 2709.5,-1281.8021 2844.5,-1281.8021 2844.5,-1317.8021"/>
<text text-anchor="middle" x="2777" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">local Loader = {}</text>
</g>
<!-- codeblock_26&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>codeblock_26&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2726.8495,-1616.9808C2735.5668,-1561.8482 2761.9245,-1395.1478 2772.5193,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="2776.0316,-1328.337 2774.1364,-1317.913 2769.1175,-1327.2437 2776.0316,-1328.337"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="1778.5,-572.6023 1237.5,-572.6023 1237.5,-516.7993 1778.5,-516.7993 1778.5,-572.6023"/>
<text text-anchor="middle" x="1508" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">For now, I&#39;m going to use a copy of the sqlite bindings currently living in</text>
</g>
<!-- raw_28&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>raw_28&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1732.1676,-1281.7427C1729.7592,-1236.6627 1721.2648,-1115.8227 1696,-1018.6015 1652.181,-849.9825 1564.6053,-660.5028 1526.4639,-581.9227"/>
<polygon fill="#000000" stroke="#000000" points="1529.3779,-579.9129 1521.8486,-572.459 1523.0862,-582.9813 1529.3779,-579.9129"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="1851,-562.7008 1797,-562.7008 1797,-526.7008 1851,-526.7008 1851,-562.7008"/>
</g>
<!-- prespace_29&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>prespace_29&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1824,-1281.5107C1824,-1180.9416 1824,-695.3807 1824,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="1827.5001,-572.7514 1824,-562.7514 1820.5001,-572.7515 1827.5001,-572.7514"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="1923,-562.7008 1869,-562.7008 1869,-526.7008 1923,-526.7008 1923,-562.7008"/>
<text text-anchor="middle" x="1896" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">femto</text>
</g>
<!-- literal_30&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>literal_30&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1919.4186,-1281.5107C1916.2222,-1180.9416 1900.7892,-695.3807 1896.8942,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="1900.3897,-572.6352 1896.5737,-562.7514 1893.3933,-572.8576 1900.3897,-572.6352"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2041,-562.7008 1941,-562.7008 1941,-526.7008 2041,-526.7008 2041,-562.7008"/>
<text text-anchor="middle" x="1991" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">. &#160;There&#39;s a</text>
</g>
<!-- raw_31&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>raw_31&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1995.8789,-1281.5107C1995.2129,-1180.9416 1991.9977,-695.3807 1991.1863,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="1994.6858,-572.728 1991.1195,-562.7514 1987.6859,-572.7744 1994.6858,-572.728"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="2113,-562.7008 2059,-562.7008 2059,-526.7008 2113,-526.7008 2113,-562.7008"/>
<text text-anchor="middle" x="2086" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_32&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>prespace_32&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2086.9758,-1281.5107C2086.8426,-1180.9416 2086.1995,-695.3807 2086.0373,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="2089.5372,-572.7468 2086.0239,-562.7514 2082.5373,-572.7561 2089.5372,-572.7468"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="2196.5,-562.7008 2131.5,-562.7008 2131.5,-526.7008 2196.5,-526.7008 2196.5,-562.7008"/>
<text text-anchor="middle" x="2164" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">sqlayer</text>
</g>
<!-- literal_33&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>literal_33&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2182.5397,-1281.5107C2180.0092,-1180.9416 2167.7914,-695.3807 2164.7079,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="2168.2047,-572.6602 2164.4542,-562.7514 2161.2069,-572.8364 2168.2047,-572.6602"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="2721,-571.9013 2215,-571.9013 2215,-517.5003 2721,-517.5003 2721,-571.9013"/>
<text text-anchor="middle" x="2468" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> as well but I don&#39;t want to copy&#45;paste generated</text>
<text text-anchor="middle" x="2468" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">code if I can avoid it; the whole point of this exercise is to get the</text>
<text text-anchor="middle" x="2468" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">codebase to where I can reuse projects across modules.</text>
</g>
<!-- raw_34&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>raw_34&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259.9144,-1281.7844C2262.4963,-1236.7997 2271.2626,-1116.1599 2295,-1018.6015 2335.9061,-850.4813 2416.6997,-659.6269 2451.4604,-581.24"/>
<polygon fill="#000000" stroke="#000000" points="2454.789,-582.3689 2455.6612,-571.81 2448.3948,-579.5204 2454.789,-582.3689"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="3091,-1317.8021 2991,-1317.8021 2991,-1281.8021 3091,-1281.8021 3091,-1317.8021"/>
<text text-anchor="middle" x="3041" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** SQL code</text>
</g>
<!-- header_44&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>header_44&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3077.9032,-1616.9808C3071.4886,-1561.8482 3052.0933,-1395.1478 3044.2971,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="3047.7395,-1327.4415 3043.1072,-1317.913 3040.7864,-1328.2506 3047.7395,-1327.4415"/>
</g>
<!-- raw_49 -->
<g id="node50" class="node">
<title>raw_49</title>
<ellipse fill="none" stroke="#000000" cx="3136" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="3136" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_49 -->
<g id="edge49" class="edge">
<title>prose_45&#45;&gt;raw_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3241.0237,-1626.9726C3218.3964,-1619.1096 3188.1683,-1604.7758 3172,-1581.0027 3118.5273,-1502.3787 3125.2591,-1382.2791 3131.7812,-1328.0791"/>
<polygon fill="#000000" stroke="#000000" points="3135.2925,-1328.2173 3133.1065,-1317.8505 3128.3505,-1327.3179 3135.2925,-1328.2173"/>
</g>
<!-- header_51 -->
<g id="node52" class="node">
<title>header_51</title>
<ellipse fill="none" stroke="#000000" cx="3278" cy="-1299.8021" rx="97.0962" ry="18"/>
<text text-anchor="middle" x="3278" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : SQL Loader.open()</text>
</g>
<!-- section_46&#45;&gt;header_51 -->
<g id="edge51" class="edge">
<title>section_46&#45;&gt;header_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3410.5858,-1617.4033C3402.2396,-1607.2561 3392.195,-1593.9721 3385,-1581.0027 3336.5201,-1493.6151 3300.7407,-1379.7884 3285.7556,-1327.8482"/>
<polygon fill="#000000" stroke="#000000" points="3289.0627,-1326.682 3282.9572,-1318.0233 3282.3304,-1328.5996 3289.0627,-1326.682"/>
</g>
<!-- prose_52 -->
<g id="node53" class="node">
<title>prose_52</title>
<ellipse fill="none" stroke="#000000" cx="3426" cy="-1299.8021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3426" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_46&#45;&gt;prose_52 -->
<g id="edge52" class="edge">
<title>section_46&#45;&gt;prose_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3426,-1616.9808C3426,-1561.8482 3426,-1395.1478 3426,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="3429.5001,-1327.913 3426,-1317.913 3422.5001,-1327.9131 3429.5001,-1327.913"/>
</g>
<!-- codeblock_53 -->
<g id="node54" class="node">
<title>codeblock_53</title>
<ellipse fill="none" stroke="#000000" cx="3595" cy="-1299.8021" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3595" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 38&#45;91</text>
</g>
<!-- section_46&#45;&gt;codeblock_53 -->
<g id="edge53" class="edge">
<title>section_46&#45;&gt;codeblock_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3441.0982,-1617.2213C3449.3455,-1607.0172 3459.3965,-1593.7369 3467,-1581.0027 3519.7204,-1492.7081 3565.2652,-1378.9491 3584.8137,-1327.3867"/>
<polygon fill="#000000" stroke="#000000" points="3588.1262,-1328.5215 3588.3712,-1317.9295 3581.5744,-1326.0569 3588.1262,-1328.5215"/>
</g>
<!-- header_58 -->
<g id="node59" class="node">
<title>header_58</title>
<ellipse fill="none" stroke="#000000" cx="3904" cy="-1299.8021" rx="169.0775" ry="18"/>
<text text-anchor="middle" x="3904" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : SQL Loader.commitDeck(conn, deck)</text>
</g>
<!-- section_47&#45;&gt;header_58 -->
<g id="edge58" class="edge">
<title>section_47&#45;&gt;header_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4007.1397,-1616.9808C3989.1748,-1561.7346 3934.7807,-1394.4599 3913.0807,-1327.7274"/>
<polygon fill="#000000" stroke="#000000" points="3916.3102,-1326.3405 3909.8893,-1317.913 3909.6533,-1328.5052 3916.3102,-1326.3405"/>
</g>
<!-- prose_59 -->
<g id="node60" class="node">
<title>prose_59</title>
<ellipse fill="none" stroke="#000000" cx="4123" cy="-1299.8021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4123" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_47&#45;&gt;prose_59 -->
<g id="edge59" class="edge">
<title>section_47&#45;&gt;prose_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4043.3272,-1618.6117C4057.3669,-1609.4287 4072.9152,-1596.6596 4082,-1581.0027 4129.6031,-1498.9628 4128.8306,-1381.5506 4125.4943,-1328.1649"/>
<polygon fill="#000000" stroke="#000000" points="4128.9776,-1327.8045 4124.7832,-1318.0753 4121.9949,-1328.2967 4128.9776,-1327.8045"/>
</g>
<!-- codeblock_60 -->
<g id="node61" class="node">
<title>codeblock_60</title>
<ellipse fill="none" stroke="#000000" cx="4256" cy="-1299.8021" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="4256" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 96&#45;153</text>
</g>
<!-- section_47&#45;&gt;codeblock_60 -->
<g id="edge60" class="edge">
<title>section_47&#45;&gt;codeblock_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4074.71,-1626.0236C4105.1974,-1618.6405 4140.4088,-1605.2457 4164,-1581.0027 4233.6868,-1509.3904 4250.5888,-1384.2392 4254.6879,-1328.2673"/>
<polygon fill="#000000" stroke="#000000" points="4258.1971,-1328.2365 4255.3488,-1318.0317 4251.2116,-1327.7853 4258.1971,-1328.2365"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="3154.5,-580.602 2739.5,-580.602 2739.5,-508.7996 3154.5,-508.7996 3154.5,-580.602"/>
<text text-anchor="middle" x="2947" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">Everything we need to create and manipulate the database.</text>
</g>
<!-- raw_49&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>raw_49&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3134.8343,-1281.5065C3131.7058,-1236.3846 3121.8389,-1116.3502 3100,-1018.6015 3064.0509,-857.6973 2996.7597,-673.5444 2964.7694,-590.0663"/>
<polygon fill="#000000" stroke="#000000" points="2967.997,-588.7082 2961.1397,-580.6318 2961.4639,-591.2217 2967.997,-588.7082"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="3343,-562.7008 3173,-562.7008 3173,-526.7008 3343,-526.7008 3343,-562.7008"/>
<text text-anchor="middle" x="3258" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** SQL Loader.open()</text>
</g>
<!-- header_51&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>header_51&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3277.5155,-1281.5107C3274.8518,-1180.9416 3261.991,-695.3807 3258.7452,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="3262.2417,-572.6552 3258.4781,-562.7514 3255.2442,-572.8406 3262.2417,-572.6552"/>
</g>
<!-- raw_55 -->
<g id="node56" class="node">
<title>raw_55</title>
<ellipse fill="none" stroke="#000000" cx="3388" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="3388" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_52&#45;&gt;raw_55 -->
<g id="edge55" class="edge">
<title>prose_52&#45;&gt;raw_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3425.0795,-1281.5107C3420.0184,-1180.9416 3395.5829,-695.3807 3389.4158,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="3392.9067,-572.5629 3388.9084,-562.7514 3385.9155,-572.9148 3392.9067,-572.5629"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3799,-949.8024 3433,-949.8024 3433,-139.5992 3799,-139.5992 3799,-949.8024"/>
<text text-anchor="middle" x="3616" y="-934.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_project_table = [[</text>
<text text-anchor="middle" x="3616" y="-919.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS project (</text>
<text text-anchor="middle" x="3616" y="-904.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-888.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;name STRING UNIQUE NOT NULL ON CONFLICT IGNORE,</text>
<text text-anchor="middle" x="3616" y="-873.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo STRING,</text>
<text text-anchor="middle" x="3616" y="-857.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo_type STRING DEFAULT &#39;git&#39;,</text>
<text text-anchor="middle" x="3616" y="-842.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo_alternates STRING,</text>
<text text-anchor="middle" x="3616" y="-827.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;home STRING,</text>
<text text-anchor="middle" x="3616" y="-811.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;website STRING</text>
<text text-anchor="middle" x="3616" y="-796.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-780.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="3616" y="-749.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_version_table = [[</text>
<text text-anchor="middle" x="3616" y="-734.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS version (</text>
<text text-anchor="middle" x="3616" y="-718.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;version_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-703.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;edition STRING DEFAULT &#39;SNAPSHOT&#39;,</text>
<text text-anchor="middle" x="3616" y="-687.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;major INTEGER DEFAULT 0,</text>
<text text-anchor="middle" x="3616" y="-672.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;minor INTEGER DEFAULT 0,</text>
<text text-anchor="middle" x="3616" y="-657.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;patch STRING DEFAULT &#39;0&#39;</text>
<text text-anchor="middle" x="3616" y="-641.601" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-626.201" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="3616" y="-594.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_code_table = [[</text>
<text text-anchor="middle" x="3616" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS code (</text>
<text text-anchor="middle" x="3616" y="-564.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;code_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;hash TEXT UNIQUE ON CONFLICT IGNORE NOT NULL,</text>
<text text-anchor="middle" x="3616" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;binary BLOB NOT NULL</text>
<text text-anchor="middle" x="3616" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="3616" y="-471.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_module_table = [[</text>
<text text-anchor="middle" x="3616" y="-455.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS module (</text>
<text text-anchor="middle" x="3616" y="-440.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;module_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;time DATETIME DEFAULT CURRENT_TIMESTAMP,</text>
<text text-anchor="middle" x="3616" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;snapshot INTEGER DEFAULT 1,</text>
<text text-anchor="middle" x="3616" y="-394.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;name STRING NOT NULL,</text>
<text text-anchor="middle" x="3616" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;type STRING DEFAULT &#39;luaJIT&#45;2.1&#45;bytecode&#39;,</text>
<text text-anchor="middle" x="3616" y="-363.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;branch STRING,</text>
<text text-anchor="middle" x="3616" y="-347.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;vc_hash STRING,</text>
<text text-anchor="middle" x="3616" y="-332.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project INTEGER NOT NULL,</text>
<text text-anchor="middle" x="3616" y="-317.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;code INTEGER,</text>
<text text-anchor="middle" x="3616" y="-301.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;version INTEGER NOT NULL,</text>
<text text-anchor="middle" x="3616" y="-286.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (version)</text>
<text text-anchor="middle" x="3616" y="-270.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES version (version_id)</text>
<text text-anchor="middle" x="3616" y="-255.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; ON DELETE RESTRICT</text>
<text text-anchor="middle" x="3616" y="-240.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (project)</text>
<text text-anchor="middle" x="3616" y="-224.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES project (project_id)</text>
<text text-anchor="middle" x="3616" y="-209.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ON DELETE RESTRICT</text>
<text text-anchor="middle" x="3616" y="-193.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (code)</text>
<text text-anchor="middle" x="3616" y="-178.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES code (code_id)</text>
<text text-anchor="middle" x="3616" y="-163.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-147.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_53&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>codeblock_53&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3595.5087,-1281.5107C3596.83,-1234.0019 3600.5406,-1100.5778 3604.4476,-960.0942"/>
<polygon fill="#000000" stroke="#000000" points="3607.9497,-960.0618 3604.7292,-949.9683 3600.9524,-959.8671 3607.9497,-960.0618"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3415,-53.4 3361,-53.4 3361,-17.4 3415,-17.4 3415,-53.4"/>
</g>
<!-- raw_55&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>raw_55&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3388,-526.5745C3388,-450.468 3388,-156.4165 3388,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="3391.5001,-63.5743 3388,-53.5744 3384.5001,-63.5744 3391.5001,-63.5743"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="4099,-562.7008 3817,-562.7008 3817,-526.7008 4099,-526.7008 4099,-562.7008"/>
<text text-anchor="middle" x="3958" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** SQL Loader.commitDeck(conn, deck)</text>
</g>
<!-- header_58&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>header_58&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3905.3081,-1281.5107C3912.5001,-1180.9416 3947.2243,-695.3807 3955.9881,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="3959.4868,-572.9757 3956.7091,-562.7514 3952.5046,-572.4763 3959.4868,-572.9757"/>
</g>
<!-- raw_62 -->
<g id="node63" class="node">
<title>raw_62</title>
<ellipse fill="none" stroke="#000000" cx="4144" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="4144" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_59&#45;&gt;raw_62 -->
<g id="edge62" class="edge">
<title>prose_59&#45;&gt;raw_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4123.5087,-1281.5107C4126.3056,-1180.9416 4139.8095,-695.3807 4143.2176,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="4146.7185,-572.8449 4143.498,-562.7514 4139.7213,-572.6502 4146.7185,-572.8449"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="4576.5,-982.5023 4189.5,-982.5023 4189.5,-106.8993 4576.5,-106.8993 4576.5,-982.5023"/>
<text text-anchor="middle" x="4383" y="-967.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_project = [[</text>
<text text-anchor="middle" x="4383" y="-952.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO project (name, repo, home, website)</text>
<text text-anchor="middle" x="4383" y="-936.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:name, :repo, :home, :website)</text>
<text text-anchor="middle" x="4383" y="-921.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4383" y="-889.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_code = [[</text>
<text text-anchor="middle" x="4383" y="-874.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO code (hash, binary)</text>
<text text-anchor="middle" x="4383" y="-859.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:hash, :binary);</text>
<text text-anchor="middle" x="4383" y="-843.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4383" y="-812.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_version_snapshot = [[</text>
<text text-anchor="middle" x="4383" y="-796.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO version (edition)</text>
<text text-anchor="middle" x="4383" y="-781.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:edition);</text>
<text text-anchor="middle" x="4383" y="-766.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4383" y="-734.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local add_module = [[</text>
<text text-anchor="middle" x="4383" y="-719.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO module (snapshot, version, name,</text>
<text text-anchor="middle" x="4383" y="-703.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;branch, vc_hash, project, code)</text>
<text text-anchor="middle" x="4383" y="-688.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:snapshot, :version, :name, :branch,</text>
<text text-anchor="middle" x="4383" y="-673.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;:vc_hash, :project, :code);</text>
<text text-anchor="middle" x="4383" y="-657.601" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4383" y="-626.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_snapshot_version = [[</text>
<text text-anchor="middle" x="4383" y="-610.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (version.version_id AS REAL) FROM version</text>
<text text-anchor="middle" x="4383" y="-595.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE version.edition = &#39;SNAPSHOT&#39;;</text>
<text text-anchor="middle" x="4383" y="-580.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4383" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_project_id = [[</text>
<text text-anchor="middle" x="4383" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (project.project_id AS REAL) FROM project</text>
<text text-anchor="middle" x="4383" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE project.name = %s;</text>
<text text-anchor="middle" x="4383" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4383" y="-471.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_code_id_by_hash = [[</text>
<text text-anchor="middle" x="4383" y="-455.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (code.code_id AS REAL) FROM code</text>
<text text-anchor="middle" x="4383" y="-440.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.hash = %s;</text>
<text text-anchor="middle" x="4383" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4383" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_latest_module_code_id = [[</text>
<text text-anchor="middle" x="4383" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (module.code AS REAL) FROM module</text>
<text text-anchor="middle" x="4383" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.project = %d</text>
<text text-anchor="middle" x="4383" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;AND module.name = %s</text>
<text text-anchor="middle" x="4383" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC LIMIT 1;</text>
<text text-anchor="middle" x="4383" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4383" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_all_module_ids = [[</text>
<text text-anchor="middle" x="4383" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (module.code AS REAL),</text>
<text text-anchor="middle" x="4383" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;CAST (module.project AS REAL)</text>
<text text-anchor="middle" x="4383" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">FROM module</text>
<text text-anchor="middle" x="4383" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.name = %s</text>
<text text-anchor="middle" x="4383" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC;</text>
<text text-anchor="middle" x="4383" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4383" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_latest_module_bytecode = [[</text>
<text text-anchor="middle" x="4383" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT code.binary FROM code</text>
<text text-anchor="middle" x="4383" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.code_id = %d ;</text>
<text text-anchor="middle" x="4383" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_60&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>codeblock_60&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4259.0764,-1281.5107C4266.4417,-1237.7188 4286.0845,-1120.9291 4307.6177,-992.8995"/>
<polygon fill="#000000" stroke="#000000" points="4311.0972,-993.3134 4309.3044,-982.8714 4304.1942,-992.1523 4311.0972,-993.3134"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="4171,-53.4 4117,-53.4 4117,-17.4 4171,-17.4 4171,-53.4"/>
</g>
<!-- raw_62&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>raw_62&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4144,-526.5745C4144,-450.468 4144,-156.4165 4144,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="4147.5001,-63.5743 4144,-53.5744 4140.5001,-63.5744 4147.5001,-63.5743"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="4617.5,-1317.8021 4356.5,-1317.8021 4356.5,-1281.8021 4617.5,-1281.8021 4617.5,-1317.8021"/>
<text text-anchor="middle" x="4487" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** SQL loader.load(conn, mod_name)</text>
</g>
<!-- header_65&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>header_65&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4470.914,-1616.9808C4473.7101,-1561.8482 4482.1645,-1395.1478 4485.5628,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="4489.0704,-1328.0775 4486.0815,-1317.913 4482.0794,-1327.7229 4489.0704,-1328.0775"/>
</g>
<!-- raw_69 -->
<g id="node70" class="node">
<title>raw_69</title>
<ellipse fill="none" stroke="#000000" cx="4663" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="4663" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_66&#45;&gt;raw_69 -->
<g id="edge69" class="edge">
<title>prose_66&#45;&gt;raw_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4679.086,-1616.9808C4676.2899,-1561.8482 4667.8355,-1395.1478 4664.4372,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="4667.9206,-1327.7229 4663.9185,-1317.913 4660.9296,-1328.0775 4667.9206,-1327.7229"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="5032,-1396.7028 4708,-1396.7028 4708,-1202.9013 5032,-1202.9013 5032,-1396.7028"/>
<text text-anchor="middle" x="4870" y="-1381.3023" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_code_id_for_module_project = [[</text>
<text text-anchor="middle" x="4870" y="-1365.9022" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT</text>
<text text-anchor="middle" x="4870" y="-1350.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;CAST (module.code_id AS REAL) FROM module</text>
<text text-anchor="middle" x="4870" y="-1335.1022" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.project_id = %d</text>
<text text-anchor="middle" x="4870" y="-1319.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;AND module.name = %s</text>
<text text-anchor="middle" x="4870" y="-1304.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC LIMIT 1;</text>
<text text-anchor="middle" x="4870" y="-1288.9021" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4870" y="-1257.502" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_bytecode = [[</text>
<text text-anchor="middle" x="4870" y="-1242.102" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT code.binary FROM code</text>
<text text-anchor="middle" x="4870" y="-1226.702" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.code_id = %d ;</text>
<text text-anchor="middle" x="4870" y="-1211.302" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_67&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>codeblock_67&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4837.828,-1616.9808C4841.7948,-1577.873 4851.4556,-1482.6282 4859.1624,-1406.6487"/>
<polygon fill="#000000" stroke="#000000" points="4862.6608,-1406.8403 4860.1879,-1396.5381 4855.6965,-1406.1338 4862.6608,-1406.8403"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4905,-572.6023 4595,-572.6023 4595,-516.7993 4905,-516.7993 4905,-572.6023"/>
<text text-anchor="middle" x="4750" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">This has been moved to the pylon preamble.</text>
</g>
<!-- raw_69&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>raw_69&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4665.1075,-1281.5107C4676.4125,-1183.3905 4729.941,-718.7997 4745.6539,-582.4217"/>
<polygon fill="#000000" stroke="#000000" points="4749.1359,-582.7784 4746.8036,-572.4435 4742.1819,-581.9771 4749.1359,-582.7784"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="5241.5,-1317.8021 5050.5,-1317.8021 5050.5,-1281.8021 5241.5,-1281.8021 5241.5,-1317.8021"/>
<text text-anchor="middle" x="5146" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Environment Variables</text>
</g>
<!-- header_72&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>header_72&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5299.8,-1618.1509C5282.8611,-1609.2107 5263.9897,-1596.777 5251,-1581.0027 5186.8692,-1503.1239 5159.686,-1382.2208 5150.2439,-1327.9026"/>
<polygon fill="#000000" stroke="#000000" points="5153.6831,-1327.2476 5148.5863,-1317.9593 5146.7784,-1328.3987 5153.6831,-1327.2476"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="5287" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="5287" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_73&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_73&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5706.8136,-1633.062C5613.8911,-1627.155 5350.0766,-1608.1269 5323,-1581.0027 5254.8904,-1512.7733 5269.9318,-1384.328 5280.7539,-1327.7582"/>
<polygon fill="#000000" stroke="#000000" points="5284.2259,-1328.246 5282.7703,-1317.7516 5277.3638,-1326.8632 5284.2259,-1328.246"/>
</g>
<!-- link_78 -->
<g id="node79" class="node">
<title>link_78</title>
<ellipse fill="none" stroke="#000000" cx="5359" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="5359" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_73&#45;&gt;link_78 -->
<g id="edge78" class="edge">
<title>prose_73&#45;&gt;link_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5706.9462,-1632.155C5625.7159,-1624.6377 5416.6739,-1603.3005 5395,-1581.0027 5327.8045,-1511.8729 5342.3612,-1383.905 5352.9051,-1327.6092"/>
<polygon fill="#000000" stroke="#000000" points="5356.3676,-1328.1412 5354.8708,-1317.6526 5349.5002,-1326.7853 5356.3676,-1328.1412"/>
</g>
<!-- raw_79 -->
<g id="node80" class="node">
<title>raw_79</title>
<ellipse fill="none" stroke="#000000" cx="5431" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="5431" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_73&#45;&gt;raw_79 -->
<g id="edge79" class="edge">
<title>prose_73&#45;&gt;raw_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5706.4855,-1633.1775C5641.5339,-1628.8224 5499.1974,-1615.4899 5467,-1581.0027 5401.3679,-1510.7028 5414.9556,-1383.8861 5425.0649,-1327.7909"/>
<polygon fill="#000000" stroke="#000000" points="5428.5235,-1328.3384 5426.954,-1317.8604 5421.6468,-1327.0302 5428.5235,-1328.3384"/>
</g>
<!-- prespace_80 -->
<g id="node81" class="node">
<title>prespace_80</title>
<ellipse fill="none" stroke="#000000" cx="5522" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5522" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_73&#45;&gt;prespace_80 -->
<g id="edge80" class="edge">
<title>prose_73&#45;&gt;prespace_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5708.7976,-1628.6606C5667.2028,-1619.3173 5595.4358,-1600.8072 5578,-1581.0027 5514.0124,-1508.3223 5514.9355,-1383.7263 5519.068,-1328.0826"/>
<polygon fill="#000000" stroke="#000000" points="5522.5731,-1328.166 5519.919,-1317.909 5515.5975,-1327.5824 5522.5731,-1328.166"/>
</g>
<!-- literal_81 -->
<g id="node82" class="node">
<title>literal_81</title>
<ellipse fill="none" stroke="#000000" cx="5618" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5618" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_73&#45;&gt;literal_81 -->
<g id="edge81" class="edge">
<title>prose_73&#45;&gt;literal_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5712.7268,-1624.4958C5694.3128,-1615.7037 5670.7898,-1601.3102 5658,-1581.0027 5607.3549,-1500.5886 5610.2937,-1381.8814 5614.8407,-1328.111"/>
<polygon fill="#000000" stroke="#000000" points="5618.344,-1328.2375 5615.7864,-1317.9561 5611.3742,-1327.5884 5618.344,-1328.2375"/>
</g>
<!-- raw_82 -->
<g id="node83" class="node">
<title>raw_82</title>
<ellipse fill="none" stroke="#000000" cx="5694" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="5694" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_73&#45;&gt;raw_82 -->
<g id="edge82" class="edge">
<title>prose_73&#45;&gt;raw_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5735.8296,-1617.0294C5734.0227,-1606.5383 5731.7727,-1593.0383 5730,-1581.0027 5716.4027,-1488.6868 5703.2006,-1378.8783 5697.266,-1328.1182"/>
<polygon fill="#000000" stroke="#000000" points="5700.7127,-1327.4567 5696.0797,-1317.9285 5693.7597,-1328.2662 5700.7127,-1327.4567"/>
</g>
<!-- prespace_83 -->
<g id="node84" class="node">
<title>prespace_83</title>
<ellipse fill="none" stroke="#000000" cx="5785" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5785" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_73&#45;&gt;prespace_83 -->
<g id="edge83" class="edge">
<title>prose_73&#45;&gt;prespace_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5741.4732,-1616.9808C5749.0391,-1561.8482 5771.9156,-1395.1478 5781.1111,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="5784.6225,-1328.2961 5782.5146,-1317.913 5777.6875,-1327.3443 5784.6225,-1328.2961"/>
</g>
<!-- literal_84 -->
<g id="node85" class="node">
<title>literal_84</title>
<ellipse fill="none" stroke="#000000" cx="5881" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5881" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_73&#45;&gt;literal_84 -->
<g id="edge84" class="edge">
<title>prose_73&#45;&gt;literal_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5768.2596,-1627.2938C5791.551,-1619.5624 5822.9722,-1605.2469 5840,-1581.0027 5894.7804,-1503.0061 5890.2301,-1382.5869 5884.6997,-1328.1924"/>
<polygon fill="#000000" stroke="#000000" points="5888.1422,-1327.4793 5883.5618,-1317.9257 5881.1848,-1328.2504 5888.1422,-1327.4793"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="5957" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="5957" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_73&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_73&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5770.1909,-1629.9376C5816.8541,-1621.6974 5901.4606,-1603.9737 5921,-1581.0027 5983.0345,-1508.0732 5971.578,-1383.6067 5962.4997,-1328.0395"/>
<polygon fill="#000000" stroke="#000000" points="5965.8953,-1327.1354 5960.7382,-1317.8804 5958.9982,-1328.3313 5965.8953,-1327.1354"/>
</g>
<!-- prespace_86 -->
<g id="node87" class="node">
<title>prespace_86</title>
<ellipse fill="none" stroke="#000000" cx="6048" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6048" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_73&#45;&gt;prespace_86 -->
<g id="edge86" class="edge">
<title>prose_73&#45;&gt;prespace_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5771.082,-1632.5202C5832.2779,-1627.1134 5962.3315,-1612.176 5993,-1581.0027 6061.1702,-1511.7102 6057.316,-1384.3629 6051.6722,-1327.9603"/>
<polygon fill="#000000" stroke="#000000" points="6055.1464,-1327.5326 6050.5775,-1317.9735 6048.1881,-1328.2954 6055.1464,-1327.5326"/>
</g>
<!-- literal_87 -->
<g id="node88" class="node">
<title>literal_87</title>
<ellipse fill="none" stroke="#000000" cx="6144" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6144" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_73&#45;&gt;literal_87 -->
<g id="edge87" class="edge">
<title>prose_73&#45;&gt;literal_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5771.0292,-1632.4233C5855.5297,-1625.3199 6079.6233,-1604.4377 6103,-1581.0027 6171.2473,-1512.5849 6159.0601,-1384.2395 6149.5711,-1327.727"/>
<polygon fill="#000000" stroke="#000000" points="6152.9902,-1326.963 6147.7923,-1317.7309 6146.0985,-1328.1895 6152.9902,-1326.963"/>
</g>
<!-- raw_88 -->
<g id="node89" class="node">
<title>raw_88</title>
<ellipse fill="none" stroke="#000000" cx="6220" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="6220" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_73&#45;&gt;raw_88 -->
<g id="edge88" class="edge">
<title>prose_73&#45;&gt;raw_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5771.3252,-1633.3416C5868.7644,-1628.0281 6154.7386,-1610.0724 6184,-1581.0027 6252.3931,-1513.0575 6237.2014,-1384.4615 6226.293,-1327.8053"/>
<polygon fill="#000000" stroke="#000000" points="6229.6783,-1326.8879 6224.2608,-1317.7829 6222.8179,-1328.279 6229.6783,-1326.8879"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6785,-1489.0029 6265,-1489.0029 6265,-1110.6013 6785,-1110.6013 6785,-1489.0029"/>
<text text-anchor="middle" x="6525" y="-1473.7024" font-family="Inconsolata" font-size="14.00" fill="#000000">local home_dir = os.getenv &quot;HOME&quot;</text>
<text text-anchor="middle" x="6525" y="-1458.3024" font-family="Inconsolata" font-size="14.00" fill="#000000">local bridge_modules = os.getenv &quot;BRIDGE_MODULES&quot;</text>
<text text-anchor="middle" x="6525" y="-1426.9024" font-family="Inconsolata" font-size="14.00" fill="#000000">if not bridge_modules then</text>
<text text-anchor="middle" x="6525" y="-1411.5024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local xdg_data_home = os.getenv &quot;XDG_DATA_HOME&quot;</text>
<text text-anchor="middle" x="6525" y="-1396.1023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if xdg_data_home then</text>
<text text-anchor="middle" x="6525" y="-1380.7023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(xdg_data_home .. &quot;/bridge/&quot;) : mkdir()</text>
<text text-anchor="middle" x="6525" y="-1365.3023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bridge_modules = xdg_data_home .. &quot;/bridge/bridge.modules&quot;</text>
<text text-anchor="middle" x="6525" y="-1349.9022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="6525" y="-1334.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; build the whole shebang from scratch, just in case</text>
<text text-anchor="middle" x="6525" y="-1319.1022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; =mkdir= runs =exists= as the first command so this is</text>
<text text-anchor="middle" x="6525" y="-1303.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; sufficiently clear</text>
<text text-anchor="middle" x="6525" y="-1288.3021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local&quot;) : mkdir()</text>
<text text-anchor="middle" x="6525" y="-1272.9021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local/share&quot;) : mkdir()</text>
<text text-anchor="middle" x="6525" y="-1257.502" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local/share/bridge/&quot;) : mkdir()</text>
<text text-anchor="middle" x="6525" y="-1242.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bridge_modules = home_dir .. &quot;/.local/share/bridge/bridge.modules&quot;</text>
<text text-anchor="middle" x="6525" y="-1226.702" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error out if we haven&#39;t made the directory</text>
<text text-anchor="middle" x="6525" y="-1211.302" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local bridge_dir = Dir(home_dir .. &quot;/.local/share/bridge/&quot;)</text>
<text text-anchor="middle" x="6525" y="-1195.9019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not bridge_dir:exists() then</text>
<text text-anchor="middle" x="6525" y="-1180.5019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error (&quot;Could not create ~/.local/share/bridge/,&quot; ..</text>
<text text-anchor="middle" x="6525" y="-1165.1019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;consider defining $BRIDGE_MODULES&quot;)</text>
<text text-anchor="middle" x="6525" y="-1149.7018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6525" y="-1134.3018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6525" y="-1118.9018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_74&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>codeblock_74&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6206.3281,-1617.7392C6221.4957,-1607.6972 6240.3927,-1594.4063 6256,-1581.0027 6286.3576,-1554.9314 6317.0676,-1525.8712 6346.3418,-1496.6008"/>
<polygon fill="#000000" stroke="#000000" points="6349.178,-1498.7127 6353.7524,-1489.1563 6344.2169,-1493.7743 6349.178,-1498.7127"/>
</g>
<!-- header_105 -->
<g id="node106" class="node">
<title>header_105</title>
<ellipse fill="none" stroke="#000000" cx="6932" cy="-1299.8021" rx="129.115" ry="18"/>
<text text-anchor="middle" x="6932" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : _unwrapForeignKey(result)</text>
</g>
<!-- section_75&#45;&gt;header_105 -->
<g id="edge105" class="edge">
<title>section_75&#45;&gt;header_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7017.1612,-1616.9808C7002.3278,-1561.7346 6957.4152,-1394.4599 6939.4978,-1327.7274"/>
<polygon fill="#000000" stroke="#000000" points="6942.8362,-1326.6634 6936.8627,-1317.913 6936.0756,-1328.4786 6942.8362,-1326.6634"/>
</g>
<!-- prose_106 -->
<g id="node107" class="node">
<title>prose_106</title>
<ellipse fill="none" stroke="#000000" cx="7111" cy="-1299.8021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7111" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_75&#45;&gt;prose_106 -->
<g id="edge106" class="edge">
<title>section_75&#45;&gt;prose_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7042.3775,-1617.5087C7052.3372,-1607.7901 7063.5413,-1594.8758 7070,-1581.0027 7109.8515,-1495.4025 7113.0321,-1380.626 7112.0989,-1328.1409"/>
<polygon fill="#000000" stroke="#000000" points="7115.5925,-1327.8309 7111.8491,-1317.9195 7108.5946,-1328.0021 7115.5925,-1327.8309"/>
</g>
<!-- codeblock_107 -->
<g id="node108" class="node">
<title>codeblock_107</title>
<ellipse fill="none" stroke="#000000" cx="7249" cy="-1299.8021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7249" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 217&#45;225</text>
</g>
<!-- section_75&#45;&gt;codeblock_107 -->
<g id="edge107" class="edge">
<title>section_75&#45;&gt;codeblock_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7078.362,-1622.8513C7103.8216,-1614.7916 7132.4964,-1601.7448 7152,-1581.0027 7220.8177,-1507.8147 7241.0586,-1383.4826 7246.8112,-1327.9948"/>
<polygon fill="#000000" stroke="#000000" points="7250.3133,-1328.1378 7247.7786,-1317.8507 7243.3449,-1327.4732 7250.3133,-1328.1378"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="5051,-572.6023 4923,-572.6023 4923,-516.7993 5051,-516.7993 5051,-572.6023"/>
<text text-anchor="middle" x="4987" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Following the </text>
</g>
<!-- raw_77&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>raw_77&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5291.0052,-1281.7021C5300.807,-1232.1513 5320.35,-1093.0375 5250,-1018.6015 5190.965,-956.1377 5120.0993,-1044.042 5060,-982.6015 4952.129,-872.3233 4968.3111,-666.8062 4980.5054,-582.3847"/>
<polygon fill="#000000" stroke="#000000" points="4983.9703,-582.8792 4982.0011,-572.469 4977.0486,-581.835 4983.9703,-582.8792"/>
</g>
<!-- anchortext_90 -->
<g id="node91" class="node">
<title>anchortext_90</title>
<ellipse fill="none" stroke="#000000" cx="5120" cy="-544.7008" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="5120" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_78&#45;&gt;anchortext_90 -->
<g id="edge90" class="edge">
<title>link_78&#45;&gt;anchortext_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5362.8438,-1281.9278C5372.245,-1232.9536 5390.945,-1095.1769 5323,-1018.6015 5279.5022,-969.5786 5223.7141,-1031.4317 5180,-982.6015 5073.6802,-863.8384 5100.399,-649.4829 5114.255,-572.869"/>
<polygon fill="#000000" stroke="#000000" points="5117.703,-573.4712 5116.1096,-562.9969 5110.8234,-572.1788 5117.703,-573.4712"/>
</g>
<!-- url_91 -->
<g id="node92" class="node">
<title>url_91</title>
<ellipse fill="none" stroke="#000000" cx="5216" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="5216" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_78&#45;&gt;url_91 -->
<g id="edge91" class="edge">
<title>link_78&#45;&gt;url_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5362.0545,-1281.6422C5369.0827,-1233.6856 5381.592,-1101.6478 5323,-1018.6015 5302.6036,-989.6924 5271.7364,-1011.9653 5252,-982.6015 5163.9897,-851.66 5194.6918,-646.465 5209.7332,-572.4691"/>
<polygon fill="#000000" stroke="#000000" points="5213.1908,-573.0343 5211.8228,-562.5282 5206.3405,-571.5943 5213.1908,-573.0343"/>
</g>
<!-- leaf_94 -->
<g id="node95" class="node">
<title>leaf_94</title>
<polygon fill="none" stroke="#c0c0c0" points="5361,-564.0014 5261,-564.0014 5261,-525.4002 5361,-525.4002 5361,-564.0014"/>
<text text-anchor="middle" x="5311" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">,</text>
<text text-anchor="middle" x="5311" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">we place the</text>
</g>
<!-- raw_79&#45;&gt;leaf_94 -->
<g id="edge94" class="edge">
<title>raw_79&#45;&gt;leaf_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5431.602,-1281.6458C5432.5093,-1235.8402 5431.1301,-1112.544 5395,-1018.6015 5388.0075,-1000.4202 5377.0524,-1000.7597 5370,-982.6015 5313.6005,-837.3877 5309.5535,-647.0035 5310.2908,-574.4908"/>
<polygon fill="#000000" stroke="#000000" points="5313.7934,-574.3262 5310.4357,-564.2775 5306.7941,-574.2268 5313.7934,-574.3262"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="5433,-562.7008 5379,-562.7008 5379,-526.7008 5433,-526.7008 5433,-562.7008"/>
<text text-anchor="middle" x="5406" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_80&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>prespace_80&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5521.0284,-1281.6157C5518.0383,-1235.7405 5506.6211,-1112.2962 5467,-1018.6015 5459.413,-1000.6601 5448.5789,-1000.9366 5442,-982.6015 5389.3151,-835.7716 5397.8304,-644.0863 5403.3883,-572.9076"/>
<polygon fill="#000000" stroke="#000000" points="5406.8781,-573.1748 5404.2122,-562.9209 5399.9018,-572.5992 5406.8781,-573.1748"/>
</g>
<!-- leaf_96 -->
<g id="node97" class="node">
<title>leaf_96</title>
<polygon fill="none" stroke="#c0c0c0" points="5565,-562.7008 5451,-562.7008 5451,-526.7008 5565,-526.7008 5565,-562.7008"/>
<text text-anchor="middle" x="5508" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">bridge.modules</text>
</g>
<!-- literal_81&#45;&gt;leaf_96 -->
<g id="edge96" class="edge">
<title>literal_81&#45;&gt;leaf_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5615.3354,-1281.5107C5600.6849,-1180.9416 5529.9504,-695.3807 5512.0984,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="5515.5346,-572.1424 5510.6295,-562.7514 5508.6077,-573.1516 5515.5346,-572.1424"/>
</g>
<!-- leaf_97 -->
<g id="node98" class="node">
<title>leaf_97</title>
<polygon fill="none" stroke="#c0c0c0" points="5907,-564.0014 5583,-564.0014 5583,-525.4002 5907,-525.4002 5907,-564.0014"/>
<text text-anchor="middle" x="5745" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> database in a place defined first by a user</text>
<text text-anchor="middle" x="5745" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">environment variable, then by</text>
</g>
<!-- raw_82&#45;&gt;leaf_97 -->
<g id="edge97" class="edge">
<title>raw_82&#45;&gt;leaf_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5695.2354,-1281.5107C5701.9984,-1181.3788 5734.5383,-699.5957 5742.9905,-574.4536"/>
<polygon fill="#000000" stroke="#000000" points="5746.5067,-574.3308 5743.6886,-564.1177 5739.5226,-573.859 5746.5067,-574.3308"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="5979,-562.7008 5925,-562.7008 5925,-526.7008 5979,-526.7008 5979,-562.7008"/>
<text text-anchor="middle" x="5952" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_83&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>prespace_83&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5783.4266,-1281.7867C5780.2036,-1233.6205 5777.83,-1100.0077 5841,-1018.6015 5863.6675,-989.3903 5895.0418,-1013.0624 5916,-982.6015 6005.2227,-852.9241 5973.998,-647.7835 5958.5307,-573.0913"/>
<polygon fill="#000000" stroke="#000000" points="5961.8953,-572.0878 5956.3792,-563.0422 5955.0504,-573.5534 5961.8953,-572.0878"/>
</g>
<!-- leaf_99 -->
<g id="node100" class="node">
<title>leaf_99</title>
<polygon fill="none" stroke="#c0c0c0" points="6104.5,-562.7008 5997.5,-562.7008 5997.5,-526.7008 6104.5,-526.7008 6104.5,-562.7008"/>
<text text-anchor="middle" x="6051" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG_DATA_HOME</text>
</g>
<!-- literal_84&#45;&gt;leaf_99 -->
<g id="edge99" class="edge">
<title>literal_84&#45;&gt;leaf_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5878.3698,-1281.692C5872.43,-1233.8573 5862.7064,-1102.0918 5921,-1018.6015 5940.352,-990.8848 5968.626,-1010.3028 5988,-982.6015 6078.8365,-852.722 6064.1668,-647.7051 6055.0601,-573.0685"/>
<polygon fill="#000000" stroke="#000000" points="6058.5159,-572.4995 6053.7701,-563.0271 6051.5729,-573.3916 6058.5159,-572.4995"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="6447,-564.0014 6123,-564.0014 6123,-525.4002 6447,-525.4002 6447,-564.0014"/>
<text text-anchor="middle" x="6285" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">, and if neither is defined,</text>
<text text-anchor="middle" x="6285" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">attempt to put it in the default location of</text>
</g>
<!-- raw_85&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>raw_85&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5953.2744,-1281.7346C5944.3209,-1232.86 5926.9477,-1096.493 5993,-1018.6015 6029.0129,-976.1337 6072.0311,-1020.3108 6113,-982.6015 6237.2648,-868.2237 6273.0018,-652.9284 6282.1508,-574.3603"/>
<polygon fill="#000000" stroke="#000000" points="6285.6533,-574.5299 6283.2717,-564.2062 6278.6955,-573.7618 6285.6533,-574.5299"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="6519,-562.7008 6465,-562.7008 6465,-526.7008 6519,-526.7008 6519,-562.7008"/>
<text text-anchor="middle" x="6492" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_86&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>prespace_86&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6045.1385,-1281.5642C6038.3612,-1231.0466 6027.2212,-1088.4362 6104,-1018.6015 6162.1682,-965.6943 6400.9558,-1038.7518 6456,-982.6015 6567.1817,-869.1858 6521.3263,-650.5954 6500.3296,-572.9305"/>
<polygon fill="#000000" stroke="#000000" points="6503.6009,-571.6301 6497.5507,-562.9326 6496.8565,-573.5046 6503.6009,-571.6301"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="6644.5,-562.7008 6537.5,-562.7008 6537.5,-526.7008 6644.5,-526.7008 6644.5,-562.7008"/>
<text text-anchor="middle" x="6591" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG_DATA_HOME</text>
</g>
<!-- literal_87&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>literal_87&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6139.9739,-1281.7198C6129.9933,-1231.6059 6109.9665,-1089.9432 6184,-1018.6015 6294.6928,-911.9333 6417.2225,-1089.1818 6528,-982.6015 6643.2412,-871.7267 6612.7017,-651.5442 6597.2823,-573.1962"/>
<polygon fill="#000000" stroke="#000000" points="6600.6525,-572.2066 6595.2236,-563.1084 6593.7939,-573.6063 6600.6525,-572.2066"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="6791,-564.0014 6663,-564.0014 6663,-525.4002 6791,-525.4002 6791,-564.0014"/>
<text text-anchor="middle" x="6727" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">, creating it if</text>
<text text-anchor="middle" x="6727" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">necessary.</text>
</g>
<!-- raw_88&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>raw_88&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6215.6268,-1281.7064C6204.7002,-1231.5577 6182.1108,-1089.8135 6256,-1018.6015 6319.7834,-957.1292 6587.9977,-1042.7835 6653,-982.6015 6770.2569,-874.04 6746.1574,-654.2492 6732.7275,-574.4796"/>
<polygon fill="#000000" stroke="#000000" points="6736.0956,-573.4233 6730.9191,-564.1792 6729.2011,-574.6338 6736.0956,-573.4233"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="5047,-53.4 4947,-53.4 4947,-17.4 5047,-17.4 5047,-53.4"/>
<text text-anchor="middle" x="4997" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG Standard</text>
</g>
<!-- anchortext_90&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>anchortext_90&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5121.1412,-526.5771C5124.3086,-464.6743 5128.8712,-257.139 5060,-106.8001 5051.9999,-89.3366 5038.2832,-73.0167 5025.6874,-60.3999"/>
<polygon fill="#000000" stroke="#000000" points="5028.0789,-57.8437 5018.4524,-53.4185 5023.2182,-62.881 5028.0789,-57.8437"/>
</g>
<!-- leaf_93 -->
<g id="node94" class="node">
<title>leaf_93</title>
<polygon fill="none" stroke="#c0c0c0" points="5613,-53.4 5065,-53.4 5065,-17.4 5613,-17.4 5613,-53.4"/>
<text text-anchor="middle" x="5339" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">https://specifications.freedesktop.org/basedir&#45;spec/basedir&#45;spec&#45;latest.html</text>
</g>
<!-- url_91&#45;&gt;leaf_93 -->
<g id="edge93" class="edge">
<title>url_91&#45;&gt;leaf_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5212.7595,-526.6574C5202.4667,-464.1521 5175.5058,-252.734 5252,-106.8001 5262.1195,-87.4942 5279.9399,-71.4559 5296.828,-59.5033"/>
<polygon fill="#000000" stroke="#000000" points="5299.1989,-62.1257 5305.5288,-53.6296 5295.2822,-56.3239 5299.1989,-62.1257"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="7035,-562.7008 6809,-562.7008 6809,-526.7008 7035,-526.7008 7035,-562.7008"/>
<text text-anchor="middle" x="6922" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** _unwrapForeignKey(result)</text>
</g>
<!-- header_105&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>header_105&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6931.7578,-1281.5107C6930.4259,-1180.9416 6923.9955,-695.3807 6922.3726,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="6925.8713,-572.7042 6922.239,-562.7514 6918.8719,-572.797 6925.8713,-572.7042"/>
</g>
<!-- raw_109 -->
<g id="node110" class="node">
<title>raw_109</title>
<ellipse fill="none" stroke="#000000" cx="7080" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="7080" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_106&#45;&gt;raw_109 -->
<g id="edge109" class="edge">
<title>prose_106&#45;&gt;raw_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7110.2491,-1281.5107C7106.1203,-1180.9416 7086.186,-695.3807 7081.155,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="7084.6484,-572.5994 7080.7411,-562.7514 7077.6543,-572.8866 7084.6484,-572.5994"/>
</g>
<!-- leaf_111 -->
<g id="node112" class="node">
<title>leaf_111</title>
<polygon fill="none" stroke="#c0c0c0" points="7477,-602.5012 7125,-602.5012 7125,-486.9004 7477,-486.9004 7477,-602.5012"/>
<text text-anchor="middle" x="7301" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _unwrapForeignKey(result)</text>
<text text-anchor="middle" x="7301" y="-572.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if result and result[1] and result[1][1] then</text>
<text text-anchor="middle" x="7301" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return result[1][1]</text>
<text text-anchor="middle" x="7301" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="7301" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return nil</text>
<text text-anchor="middle" x="7301" y="-510.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7301" y="-495.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_107&#45;&gt;leaf_111 -->
<g id="edge111" class="edge">
<title>codeblock_107&#45;&gt;leaf_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7250.2596,-1281.5107C7256.5834,-1189.6826 7285.0111,-776.8779 7296.3294,-612.5239"/>
<polygon fill="#000000" stroke="#000000" points="7299.822,-612.7494 7297.0174,-602.5326 7292.8386,-612.2684 7299.822,-612.7494"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="7357.5,-70.7004 6802.5,-70.7004 6802.5,-.0997 7357.5,-.0997 7357.5,-70.7004"/>
<text text-anchor="middle" x="7080" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Just peeling off layers here. &#160;I realize there are more sophisticated ways to</text>
<text text-anchor="middle" x="7080" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">do almost everything but for now this will get us where we&#39;re going.</text>
</g>
<!-- raw_109&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>raw_109&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7080,-526.5745C7080,-454.7204 7080,-188.5957 7080,-80.9897"/>
<polygon fill="#000000" stroke="#000000" points="7083.5001,-80.7803 7080,-70.7804 7076.5001,-80.7804 7083.5001,-80.7803"/>
</g>
<!-- leaf_115 -->
<g id="node116" class="node">
<title>leaf_115</title>
<polygon fill="none" stroke="#c0c0c0" points="7489.5,-1317.8021 7354.5,-1317.8021 7354.5,-1281.8021 7489.5,-1281.8021 7489.5,-1317.8021"/>
<text text-anchor="middle" x="7422" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.open()</text>
</g>
<!-- header_112&#45;&gt;leaf_115 -->
<g id="edge115" class="edge">
<title>header_112&#45;&gt;leaf_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7457.957,-1616.9808C7451.7069,-1561.8482 7432.8089,-1395.1478 7425.2126,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="7428.6574,-1327.4551 7424.0531,-1317.913 7421.7019,-1328.2437 7428.6574,-1327.4551"/>
</g>
<!-- raw_116 -->
<g id="node117" class="node">
<title>raw_116</title>
<ellipse fill="none" stroke="#000000" cx="7535" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="7535" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_113&#45;&gt;raw_116 -->
<g id="edge116" class="edge">
<title>prose_113&#45;&gt;raw_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7605.8664,-1620.8418C7593.6713,-1611.105 7578.9758,-1597.0625 7571,-1581.0027 7529.1013,-1496.6373 7529.7291,-1381.2493 7532.715,-1328.3768"/>
<polygon fill="#000000" stroke="#000000" points="7536.2283,-1328.2799 7533.3736,-1318.077 7529.2426,-1327.8332 7536.2283,-1328.2799"/>
</g>
<!-- prespace_117 -->
<g id="node118" class="node">
<title>prespace_117</title>
<ellipse fill="none" stroke="#000000" cx="7626" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7626" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_113&#45;&gt;prespace_117 -->
<g id="edge117" class="edge">
<title>prose_113&#45;&gt;prespace_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7626,-1616.9808C7626,-1561.8482 7626,-1395.1478 7626,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="7629.5001,-1327.913 7626,-1317.913 7622.5001,-1327.9131 7629.5001,-1327.913"/>
</g>
<!-- literal_118 -->
<g id="node119" class="node">
<title>literal_118</title>
<ellipse fill="none" stroke="#000000" cx="7722" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7722" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_113&#45;&gt;literal_118 -->
<g id="edge118" class="edge">
<title>prose_113&#45;&gt;literal_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7646.0383,-1620.794C7658.1955,-1611.038 7672.8843,-1596.9923 7681,-1581.0027 7723.7353,-1496.8052 7725.4878,-1381.3341 7723.6501,-1328.4089"/>
<polygon fill="#000000" stroke="#000000" points="7727.1337,-1327.9426 7723.2169,-1318.0984 7720.1398,-1328.2365 7727.1337,-1327.9426"/>
</g>
<!-- raw_119 -->
<g id="node120" class="node">
<title>raw_119</title>
<ellipse fill="none" stroke="#000000" cx="7798" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="7798" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_113&#45;&gt;raw_119 -->
<g id="edge119" class="edge">
<title>prose_113&#45;&gt;raw_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7657.9246,-1631.5607C7689.5951,-1626.3405 7736.9205,-1613.312 7762,-1581.0027 7820.567,-1505.5522 7811.0272,-1382.9013 7802.9827,-1327.9688"/>
<polygon fill="#000000" stroke="#000000" points="7806.4145,-1327.26 7801.4143,-1317.9193 7799.4982,-1328.3394 7806.4145,-1327.26"/>
</g>
<!-- leaf_124 -->
<g id="node125" class="node">
<title>leaf_124</title>
<polygon fill="none" stroke="#c0c0c0" points="8279,-1419.3026 7843,-1419.3026 7843,-1180.3016 8279,-1180.3016 8279,-1419.3026"/>
<text text-anchor="middle" x="8061" y="-1404.1023" font-family="Inconsolata" font-size="14.00" fill="#000000">function Loader.open()</text>
<text text-anchor="middle" x="8061" y="-1388.7023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local new = not (File(bridge_modules) : exists())</text>
<text text-anchor="middle" x="8061" y="-1373.3023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if new then</text>
<text text-anchor="middle" x="8061" y="-1357.9022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;print &quot;creating new bridge.modules&quot;</text>
<text text-anchor="middle" x="8061" y="-1342.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8061" y="-1327.1022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local conn = sql.open(bridge_modules)</text>
<text text-anchor="middle" x="8061" y="-1311.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo: turn on foreign_keys pragma when we add sqlayer</text>
<text text-anchor="middle" x="8061" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if new then</text>
<text text-anchor="middle" x="8061" y="-1280.9021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_version_table)</text>
<text text-anchor="middle" x="8061" y="-1265.502" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_project_table)</text>
<text text-anchor="middle" x="8061" y="-1250.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_code_table)</text>
<text text-anchor="middle" x="8061" y="-1234.702" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_module_table)</text>
<text text-anchor="middle" x="8061" y="-1219.302" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8061" y="-1203.9019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return conn</text>
<text text-anchor="middle" x="8061" y="-1188.5019" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_114&#45;&gt;leaf_124 -->
<g id="edge124" class="edge">
<title>codeblock_114&#45;&gt;leaf_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7920.9571,-1616.9808C7936.5579,-1581.6471 7972.3915,-1500.4887 8003.9042,-1429.1166"/>
<polygon fill="#000000" stroke="#000000" points="8007.2831,-1430.1291 8008.1204,-1419.5674 8000.8795,-1427.3017 8007.2831,-1430.1291"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="7574.5,-572.6023 7495.5,-572.6023 7495.5,-516.7993 7574.5,-516.7993 7574.5,-572.6023"/>
<text text-anchor="middle" x="7535" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">Loads the</text>
</g>
<!-- raw_116&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>raw_116&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7535,-1281.5107C7535,-1183.4888 7535,-719.7304 7535,-582.8326"/>
<polygon fill="#000000" stroke="#000000" points="7538.5001,-582.4434 7535,-572.4435 7531.5001,-582.4435 7538.5001,-582.4434"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="7647,-562.7008 7593,-562.7008 7593,-526.7008 7647,-526.7008 7647,-562.7008"/>
<text text-anchor="middle" x="7620" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_117&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>prespace_117&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7625.8547,-1281.5107C7625.0555,-1180.9416 7621.1973,-695.3807 7620.2235,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="7623.7229,-572.7233 7620.1434,-562.7514 7616.7231,-572.779 7623.7229,-572.7233"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="7779,-562.7008 7665,-562.7008 7665,-526.7008 7779,-526.7008 7779,-562.7008"/>
<text text-anchor="middle" x="7722" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">bridge.modules</text>
</g>
<!-- literal_118&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>literal_118&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7722,-1281.5107C7722,-1180.9416 7722,-695.3807 7722,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="7725.5001,-572.7514 7722,-562.7514 7718.5001,-572.7515 7725.5001,-572.7514"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="8121,-562.7008 7797,-562.7008 7797,-526.7008 8121,-526.7008 8121,-562.7008"/>
<text text-anchor="middle" x="7959" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> database and returns the SQLite connection.</text>
</g>
<!-- raw_119&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>raw_119&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7799.5021,-1281.5768C7803.3878,-1236.6134 7814.8273,-1116.908 7834,-1018.6015 7867.4551,-847.0633 7927.6938,-645.7167 7950.2006,-572.8214"/>
<polygon fill="#000000" stroke="#000000" points="7953.6219,-573.6052 7953.2398,-563.0173 7946.9358,-571.5325 7953.6219,-573.6052"/>
</g>
<!-- leaf_130 -->
<g id="node131" class="node">
<title>leaf_130</title>
<polygon fill="none" stroke="#c0c0c0" points="8672.5,-1317.8021 8341.5,-1317.8021 8341.5,-1281.8021 8672.5,-1281.8021 8672.5,-1317.8021"/>
<text text-anchor="middle" x="8507" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.commitModule(conn, bytecode, deck)</text>
</g>
<!-- header_125&#45;&gt;leaf_130 -->
<g id="edge130" class="edge">
<title>header_125&#45;&gt;leaf_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8517.4086,-1616.9808C8515.5994,-1561.8482 8510.1289,-1395.1478 8507.93,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="8511.4205,-1327.7928 8507.5943,-1317.913 8504.4243,-1328.0225 8511.4205,-1327.7928"/>
</g>
<!-- raw_131 -->
<g id="node132" class="node">
<title>raw_131</title>
<ellipse fill="none" stroke="#000000" cx="8718" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="8718" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_126&#45;&gt;raw_131 -->
<g id="edge131" class="edge">
<title>prose_126&#45;&gt;raw_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8768.6534,-1617.4874C8763.5378,-1607.1489 8757.5378,-1593.6489 8754,-1581.0027 8728.7994,-1490.9201 8721.175,-1379.606 8718.9191,-1328.2348"/>
<polygon fill="#000000" stroke="#000000" points="8722.4037,-1327.7782 8718.5044,-1317.927 8715.4093,-1328.0596 8722.4037,-1327.7782"/>
</g>
<!-- raw_133 -->
<g id="node134" class="node">
<title>raw_133</title>
<ellipse fill="none" stroke="#000000" cx="8790" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="8790" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_127&#45;&gt;raw_133 -->
<g id="edge133" class="edge">
<title>prose_127&#45;&gt;raw_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8860.8664,-1620.8418C8848.6713,-1611.105 8833.9758,-1597.0625 8826,-1581.0027 8784.1013,-1496.6373 8784.7291,-1381.2493 8787.715,-1328.3768"/>
<polygon fill="#000000" stroke="#000000" points="8791.2283,-1328.2799 8788.3736,-1318.077 8784.2426,-1327.8332 8791.2283,-1328.2799"/>
</g>
<!-- prespace_134 -->
<g id="node135" class="node">
<title>prespace_134</title>
<ellipse fill="none" stroke="#000000" cx="8881" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="8881" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_127&#45;&gt;prespace_134 -->
<g id="edge134" class="edge">
<title>prose_127&#45;&gt;prespace_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8881,-1616.9808C8881,-1561.8482 8881,-1395.1478 8881,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="8884.5001,-1327.913 8881,-1317.913 8877.5001,-1327.9131 8884.5001,-1327.913"/>
</g>
<!-- literal_135 -->
<g id="node136" class="node">
<title>literal_135</title>
<ellipse fill="none" stroke="#000000" cx="8977" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8977" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_127&#45;&gt;literal_135 -->
<g id="edge135" class="edge">
<title>prose_127&#45;&gt;literal_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8901.0383,-1620.794C8913.1955,-1611.038 8927.8843,-1596.9923 8936,-1581.0027 8978.7353,-1496.8052 8980.4878,-1381.3341 8978.6501,-1328.4089"/>
<polygon fill="#000000" stroke="#000000" points="8982.1337,-1327.9426 8978.2169,-1318.0984 8975.1398,-1328.2365 8982.1337,-1327.9426"/>
</g>
<!-- raw_136 -->
<g id="node137" class="node">
<title>raw_136</title>
<ellipse fill="none" stroke="#000000" cx="9053" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="9053" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_127&#45;&gt;raw_136 -->
<g id="edge136" class="edge">
<title>prose_127&#45;&gt;raw_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8912.9246,-1631.5607C8944.5951,-1626.3405 8991.9205,-1613.312 9017,-1581.0027 9075.567,-1505.5522 9066.0272,-1382.9013 9057.9827,-1327.9688"/>
<polygon fill="#000000" stroke="#000000" points="9061.4145,-1327.26 9056.4143,-1317.9193 9054.4982,-1328.3394 9061.4145,-1327.26"/>
</g>
<!-- leaf_141 -->
<g id="node142" class="node">
<title>leaf_141</title>
<polygon fill="none" stroke="#c0c0c0" points="9611.5,-1457.9029 9098.5,-1457.9029 9098.5,-1141.7012 9611.5,-1141.7012 9611.5,-1457.9029"/>
<text text-anchor="middle" x="9355" y="-1442.9024" font-family="Inconsolata" font-size="14.00" fill="#000000">local function commitModule(conn, bytecode, project_id, version_id)</text>
<text text-anchor="middle" x="9355" y="-1427.5024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; upsert code.binary and code.hash</text>
<text text-anchor="middle" x="9355" y="-1412.1023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(new_code):bindkv(bytecode):step()</text>
<text text-anchor="middle" x="9355" y="-1396.7023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; select code_id</text>
<text text-anchor="middle" x="9355" y="-1381.3023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local code_id = _unwrapForeignKey(conn:exec(</text>
<text text-anchor="middle" x="9355" y="-1365.9022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sql.format(get_code_id_by_hash,</text>
<text text-anchor="middle" x="9355" y="-1350.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bytecode.hash)))</text>
<text text-anchor="middle" x="9355" y="-1335.1022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not code_id then</text>
<text text-anchor="middle" x="9355" y="-1319.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;error(&quot;code_id not found for &quot; .. bytecode.name)</text>
<text text-anchor="middle" x="9355" y="-1304.3021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="9355" y="-1288.9021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local mod = { name = bytecode.name,</text>
<text text-anchor="middle" x="9355" y="-1273.502" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;project = project_id,</text>
<text text-anchor="middle" x="9355" y="-1258.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_id = code_id,</text>
<text text-anchor="middle" x="9355" y="-1242.702" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;snapshot = version_id,</text>
<text text-anchor="middle" x="9355" y="-1227.302" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;vc_hash = &quot;&quot;,</text>
<text text-anchor="middle" x="9355" y="-1211.9019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;version = version_id }</text>
<text text-anchor="middle" x="9355" y="-1196.5019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(add_module):bindkv(mod):step()</text>
<text text-anchor="middle" x="9355" y="-1181.1019" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9355" y="-1149.7018" font-family="Inconsolata" font-size="14.00" fill="#000000">Loader.commitModule = commitModule</text>
</g>
<!-- codeblock_128&#45;&gt;leaf_141 -->
<g id="edge141" class="edge">
<title>codeblock_128&#45;&gt;leaf_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9196.0324,-1616.9808C9210.6185,-1587.878 9240.7856,-1527.6874 9270.9596,-1467.4829"/>
<polygon fill="#000000" stroke="#000000" points="9274.2528,-1468.7235 9275.6045,-1458.2153 9267.9948,-1465.587 9274.2528,-1468.7235"/>
</g>
<!-- header_142 -->
<g id="node143" class="node">
<title>header_142</title>
<ellipse fill="none" stroke="#000000" cx="9757" cy="-1299.8021" rx="127.6701" ry="18"/>
<text text-anchor="middle" x="9757" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : _newProject(conn, project)</text>
</g>
<!-- section_129&#45;&gt;header_142 -->
<g id="edge142" class="edge">
<title>section_129&#45;&gt;header_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9841.215,-1616.9808C9826.5464,-1561.7346 9782.1328,-1394.4599 9764.4145,-1327.7274"/>
<polygon fill="#000000" stroke="#000000" points="9767.7578,-1326.68 9761.8087,-1317.913 9760.9922,-1328.4764 9767.7578,-1326.68"/>
</g>
<!-- prose_143 -->
<g id="node144" class="node">
<title>prose_143</title>
<ellipse fill="none" stroke="#000000" cx="9935" cy="-1299.8021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9935" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_129&#45;&gt;prose_143 -->
<g id="edge143" class="edge">
<title>section_129&#45;&gt;prose_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9866.3775,-1617.5087C9876.3372,-1607.7901 9887.5413,-1594.8758 9894,-1581.0027 9933.8515,-1495.4025 9937.0321,-1380.626 9936.0989,-1328.1409"/>
<polygon fill="#000000" stroke="#000000" points="9939.5925,-1327.8309 9935.8491,-1317.9195 9932.5946,-1328.0021 9939.5925,-1327.8309"/>
</g>
<!-- codeblock_144 -->
<g id="node145" class="node">
<title>codeblock_144</title>
<ellipse fill="none" stroke="#000000" cx="10073" cy="-1299.8021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10073" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 285&#45;294</text>
</g>
<!-- section_129&#45;&gt;codeblock_144 -->
<g id="edge144" class="edge">
<title>section_129&#45;&gt;codeblock_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9902.362,-1622.8513C9927.8216,-1614.7916 9956.4964,-1601.7448 9976,-1581.0027 10044.8177,-1507.8147 10065.0586,-1383.4826 10070.8112,-1327.9948"/>
<polygon fill="#000000" stroke="#000000" points="10074.3133,-1328.1378 10071.7786,-1317.8507 10067.3449,-1327.4732 10074.3133,-1328.1378"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="8491,-572.6023 8139,-572.6023 8139,-516.7993 8491,-516.7993 8491,-572.6023"/>
<text text-anchor="middle" x="8315" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">Commits a single module and associated bytecode.</text>
</g>
<!-- raw_131&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>raw_131&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8721.9695,-1281.7357C8731.68,-1232.2708 8751.0114,-1093.3561 8681,-1018.6015 8624.9333,-958.7364 8563.5853,-1034.411 8500,-982.6015 8371.6339,-878.0086 8330.8439,-668.3936 8319.2043,-582.6144"/>
<polygon fill="#000000" stroke="#000000" points="8322.6552,-582.0096 8317.8957,-572.544 8315.7136,-582.9116 8322.6552,-582.0096"/>
</g>
<!-- leaf_137 -->
<g id="node138" class="node">
<title>leaf_137</title>
<polygon fill="none" stroke="#c0c0c0" points="9071,-579.9012 8509,-579.9012 8509,-509.5004 9071,-509.5004 9071,-579.9012"/>
<text text-anchor="middle" x="8790" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">It might be smarter to fetch all hashes associated with the project first, and</text>
<text text-anchor="middle" x="8790" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">only commit ones which aren&#39;t on the list, but it&#39;s definitely easier to just</text>
<text text-anchor="middle" x="8790" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">commit everything and let the</text>
</g>
<!-- raw_133&#45;&gt;leaf_137 -->
<g id="edge137" class="edge">
<title>raw_133&#45;&gt;leaf_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8790,-1281.5107C8790,-1185.2697 8790,-736.4613 8790,-590.6139"/>
<polygon fill="#000000" stroke="#000000" points="8793.5001,-590.2438 8790,-580.2439 8786.5001,-590.2439 8793.5001,-590.2438"/>
</g>
<!-- leaf_138 -->
<g id="node139" class="node">
<title>leaf_138</title>
<polygon fill="none" stroke="#c0c0c0" points="9143,-562.7008 9089,-562.7008 9089,-526.7008 9143,-526.7008 9143,-562.7008"/>
<text text-anchor="middle" x="9116" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_134&#45;&gt;leaf_138 -->
<g id="edge138" class="edge">
<title>prespace_134&#45;&gt;leaf_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8878.6419,-1281.7639C8873.272,-1232.371 8865.642,-1093.6234 8937,-1018.6015 8982.1687,-971.1137 9037.6237,-1032.5971 9080,-982.6015 9182.4566,-861.7232 9142.3416,-648.6852 9123.571,-572.6434"/>
<polygon fill="#000000" stroke="#000000" points="9126.9366,-571.6764 9121.0811,-562.8467 9120.1523,-573.4007 9126.9366,-571.6764"/>
</g>
<!-- leaf_139 -->
<g id="node140" class="node">
<title>leaf_139</title>
<polygon fill="none" stroke="#c0c0c0" points="9303,-562.7008 9161,-562.7008 9161,-526.7008 9303,-526.7008 9303,-562.7008"/>
<text text-anchor="middle" x="9232" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">ON CONFLICT IGNORE</text>
</g>
<!-- literal_135&#45;&gt;leaf_139 -->
<g id="edge139" class="edge">
<title>literal_135&#45;&gt;leaf_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8973.4508,-1281.5886C8964.9893,-1232.3464 8949.0906,-1095.1375 9017,-1018.6015 9058.2132,-972.1529 9109.8799,-1028.2293 9152,-982.6015 9260.6708,-864.881 9245.8019,-650.6634 9236.2133,-573.4276"/>
<polygon fill="#000000" stroke="#000000" points="9239.6235,-572.5135 9234.8522,-563.0539 9232.6829,-573.4242 9239.6235,-572.5135"/>
</g>
<!-- leaf_140 -->
<g id="node141" class="node">
<title>leaf_140</title>
<polygon fill="none" stroke="#c0c0c0" points="9484.5,-562.7008 9321.5,-562.7008 9321.5,-526.7008 9484.5,-526.7008 9484.5,-562.7008"/>
<text text-anchor="middle" x="9403" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> prevent duplication.</text>
</g>
<!-- raw_136&#45;&gt;leaf_140 -->
<g id="edge140" class="edge">
<title>raw_136&#45;&gt;leaf_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9048.8874,-1281.9676C9038.6365,-1232.496 9017.634,-1092.342 9089,-1018.6015 9158.8185,-946.4601 9239.4369,-1051.9817 9312,-982.6015 9428.8519,-870.8751 9415.8243,-651.2262 9406.8874,-573.1072"/>
<polygon fill="#000000" stroke="#000000" points="9410.3462,-572.5552 9405.6674,-563.0495 9403.3971,-573.3982 9410.3462,-572.5552"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="9873.5,-562.7008 9640.5,-562.7008 9640.5,-526.7008 9873.5,-526.7008 9873.5,-562.7008"/>
<text text-anchor="middle" x="9757" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** _newProject(conn, project)</text>
</g>
<!-- header_142&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>header_142&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9757,-1281.5107C9757,-1180.9416 9757,-695.3807 9757,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="9760.5001,-572.7514 9757,-562.7514 9753.5001,-572.7515 9760.5001,-572.7514"/>
</g>
<!-- raw_146 -->
<g id="node147" class="node">
<title>raw_146</title>
<ellipse fill="none" stroke="#000000" cx="9927" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="9927" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_143&#45;&gt;raw_146 -->
<g id="edge146" class="edge">
<title>prose_143&#45;&gt;raw_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9934.8062,-1281.5107C9933.7407,-1180.9416 9928.5964,-695.3807 9927.2981,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="9930.7971,-572.7138 9927.1912,-562.7514 9923.7975,-572.788 9930.7971,-572.7138"/>
</g>
<!-- leaf_148 -->
<g id="node149" class="node">
<title>leaf_148</title>
<polygon fill="none" stroke="#c0c0c0" points="10345.5,-610.4012 9972.5,-610.4012 9972.5,-479.0004 10345.5,-479.0004 10345.5,-610.4012"/>
<text text-anchor="middle" x="10159" y="-595.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _newProject(conn, project)</text>
<text text-anchor="middle" x="10159" y="-579.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;assert(project.name, &quot;project must have a name&quot;)</text>
<text text-anchor="middle" x="10159" y="-564.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.repo = project.repo or &quot;&quot;</text>
<text text-anchor="middle" x="10159" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.home = project.home or &quot;&quot;</text>
<text text-anchor="middle" x="10159" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.website = project.website or &quot;&quot;</text>
<text text-anchor="middle" x="10159" y="-518.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(new_project):bindkv(project):step()</text>
<text text-anchor="middle" x="10159" y="-502.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return true</text>
<text text-anchor="middle" x="10159" y="-487.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_144&#45;&gt;leaf_148 -->
<g id="edge148" class="edge">
<title>codeblock_144&#45;&gt;leaf_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10075.0832,-1281.5107C10085.3773,-1191.1267 10131.0872,-789.7819 10150.3717,-620.4598"/>
<polygon fill="#000000" stroke="#000000" points="10153.8657,-620.7098 10151.5199,-610.3779 10146.9107,-619.9176 10153.8657,-620.7098"/>
</g>
<!-- leaf_147 -->
<g id="node148" class="node">
<title>leaf_147</title>
<polygon fill="none" stroke="#c0c0c0" points="9954,-53.4 9900,-53.4 9900,-17.4 9954,-17.4 9954,-53.4"/>
</g>
<!-- raw_146&#45;&gt;leaf_147 -->
<g id="edge147" class="edge">
<title>raw_146&#45;&gt;leaf_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9927,-526.5745C9927,-450.468 9927,-156.4165 9927,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="9930.5001,-63.5743 9927,-53.5744 9923.5001,-63.5744 9930.5001,-63.5743"/>
</g>
<!-- leaf_153 -->
<g id="node154" class="node">
<title>leaf_153</title>
<polygon fill="none" stroke="#c0c0c0" points="10439.5,-1317.8021 10178.5,-1317.8021 10178.5,-1281.8021 10439.5,-1281.8021 10439.5,-1317.8021"/>
<text text-anchor="middle" x="10309" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.commitCodex(conn, codex)</text>
</g>
<!-- header_149&#45;&gt;leaf_153 -->
<g id="edge153" class="edge">
<title>header_149&#45;&gt;leaf_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10309,-1616.9808C10309,-1561.8482 10309,-1395.1478 10309,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="10312.5001,-1327.913 10309,-1317.913 10305.5001,-1327.9131 10312.5001,-1327.913"/>
</g>
<!-- raw_154 -->
<g id="node155" class="node">
<title>raw_154</title>
<ellipse fill="none" stroke="#000000" cx="10485" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="10485" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_150&#45;&gt;raw_154 -->
<g id="edge154" class="edge">
<title>prose_150&#45;&gt;raw_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10517.172,-1616.9808C10511.5798,-1561.8482 10494.6711,-1395.1478 10487.8744,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="10491.3284,-1327.5088 10486.837,-1317.913 10484.3641,-1328.2152 10491.3284,-1327.5088"/>
</g>
<!-- leaf_156 -->
<g id="node157" class="node">
<title>leaf_156</title>
<polygon fill="none" stroke="#c0c0c0" points="11064,-1581.2034 10530,-1581.2034 10530,-1018.4008 11064,-1018.4008 11064,-1581.2034"/>
<text text-anchor="middle" x="10797" y="-1565.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">function Loader.commitCodex(conn, codex)</text>
<text text-anchor="middle" x="10797" y="-1550.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; begin transaction</text>
<text text-anchor="middle" x="10797" y="-1535.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec &quot;BEGIN TRANSACTION;&quot;</text>
<text text-anchor="middle" x="10797" y="-1519.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; currently we&#39;re only making snapshots, so let&#39;s create the</text>
<text text-anchor="middle" x="10797" y="-1504.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; snapshot version if we don&#39;t have it.</text>
<text text-anchor="middle" x="10797" y="-1488.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local version_id = _unwrapForeignKey(conn:exec(get_snapshot_version))</text>
<text text-anchor="middle" x="10797" y="-1473.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not version_id then</text>
<text text-anchor="middle" x="10797" y="-1458.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn : prepare(new_version_snapshot) : bindkv {edition = &quot;SNAPSHOT&quot;}</text>
<text text-anchor="middle" x="10797" y="-1442.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;: step()</text>
<text text-anchor="middle" x="10797" y="-1427.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;version_id = _unwrapForeignKey(conn:exec(get_snapshot_version))</text>
<text text-anchor="middle" x="10797" y="-1411.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not version_id then</text>
<text text-anchor="middle" x="10797" y="-1396.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error &quot;didn&#39;t make a SNAPSHOT&quot;</text>
<text text-anchor="middle" x="10797" y="-1381.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10797" y="-1365.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10797" y="-1350.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; upsert project</text>
<text text-anchor="middle" x="10797" y="-1334.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; select project_id</text>
<text text-anchor="middle" x="10797" y="-1319.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local get_proj = sql.format(get_project_id, codex.project)</text>
<text text-anchor="middle" x="10797" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local project_id = _unwrapForeignKey(conn:exec(get_proj))</text>
<text text-anchor="middle" x="10797" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if project_id then</text>
<text text-anchor="middle" x="10797" y="-1273.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;print (&quot;project_id is &quot; .. project_id)</text>
<text text-anchor="middle" x="10797" y="-1257.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10797" y="-1242.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;_newProject(conn, {name = codex.project})</text>
<text text-anchor="middle" x="10797" y="-1227.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;project_id = _unwrapForeignKey(conn:exec(get_proj))</text>
<text text-anchor="middle" x="10797" y="-1211.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not project_id then</text>
<text text-anchor="middle" x="10797" y="-1196.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error (&quot;failed to create project &quot; .. codex.project)</text>
<text text-anchor="middle" x="10797" y="-1180.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10797" y="-1165.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10797" y="-1150.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; This for now will just</text>
<text text-anchor="middle" x="10797" y="-1134.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;print (&quot;version_id is &quot; .. version_id)</text>
<text text-anchor="middle" x="10797" y="-1119.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for _, bytecode in pairs(codex.bytecodes) do</text>
<text text-anchor="middle" x="10797" y="-1103.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;commitModule(conn, bytecode, project_id, version_id)</text>
<text text-anchor="middle" x="10797" y="-1088.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10797" y="-1073.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; commit transaction</text>
<text text-anchor="middle" x="10797" y="-1057.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec &quot;COMMIT;&quot;</text>
<text text-anchor="middle" x="10797" y="-1042.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return conn</text>
<text text-anchor="middle" x="10797" y="-1026.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_151&#45;&gt;leaf_156 -->
<g id="edge156" class="edge">
<title>codeblock_151&#45;&gt;leaf_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10730.7635,-1616.9808C10732.2161,-1610.0248 10734.0396,-1601.2929 10736.1454,-1591.2092"/>
<polygon fill="#000000" stroke="#000000" points="10739.6297,-1591.6454 10738.2479,-1581.1411 10732.7776,-1590.2144 10739.6297,-1591.6454"/>
</g>
<!-- leaf_157 -->
<g id="node158" class="node">
<title>leaf_157</title>
<polygon fill="none" stroke="#c0c0c0" points="11189.5,-1317.8021 11082.5,-1317.8021 11082.5,-1281.8021 11189.5,-1281.8021 11189.5,-1317.8021"/>
<text text-anchor="middle" x="11136" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">return Loader</text>
</g>
<!-- codeblock_152&#45;&gt;leaf_157 -->
<g id="edge157" class="edge">
<title>codeblock_152&#45;&gt;leaf_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11046.6747,-1617.0843C11055.8945,-1607.2495 11066.4228,-1594.3594 11073,-1581.0027 11115.2995,-1495.1023 11129.5639,-1380.4744 11134.0698,-1328.0835"/>
<polygon fill="#000000" stroke="#000000" points="11137.5773,-1328.1295 11134.8898,-1317.8812 11130.5998,-1327.5686 11137.5773,-1328.1295"/>
</g>
<!-- leaf_155 -->
<g id="node156" class="node">
<title>leaf_155</title>
<polygon fill="none" stroke="#c0c0c0" points="10512,-562.7008 10458,-562.7008 10458,-526.7008 10512,-526.7008 10512,-562.7008"/>
</g>
<!-- raw_154&#45;&gt;leaf_155 -->
<g id="edge155" class="edge">
<title>raw_154&#45;&gt;leaf_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10485,-1281.5107C10485,-1180.9416 10485,-695.3807 10485,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="10488.5001,-572.7514 10485,-562.7514 10481.5001,-572.7515 10488.5001,-572.7514"/>
</g>
</g>
</svg>
