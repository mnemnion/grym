<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="11870pt" height="1877pt"
 viewBox="0.00 0.00 11869.50 1877.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1873.0027)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1873.0027 11865.5,-1873.0027 11865.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="4587" cy="-1851.0027" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="4587" y="-1846.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 346</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="4587" cy="-1779.0027" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="4587" y="-1774.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;301</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4587,-1832.834C4587,-1825.1336 4587,-1815.977 4587,-1807.4193"/>
<polygon fill="#000000" stroke="#000000" points="4590.5001,-1807.4159 4587,-1797.4159 4583.5001,-1807.416 4590.5001,-1807.4159"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="726" cy="-1707.0027" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="726" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : loader</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4521.3424,-1778.5152C4054.1063,-1774.9848 1240.3591,-1752.688 862,-1725.0027 834.651,-1723.0015 804.3928,-1719.1594 779.3744,-1715.5371"/>
<polygon fill="#000000" stroke="#000000" points="779.7571,-1712.0557 769.3531,-1714.0577 778.7348,-1718.9807 779.7571,-1712.0557"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="903" cy="-1707.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="903" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4521.2755,-1778.8243C4062.6078,-1777.473 1347.8644,-1767.7065 984,-1725.0027 970.0906,-1723.3702 955.064,-1720.3817 941.7747,-1717.3026"/>
<polygon fill="#000000" stroke="#000000" points="942.5395,-1713.8868 931.9983,-1714.9512 940.9025,-1720.6927 942.5395,-1713.8868"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1025" cy="-1707.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1025" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4521.3633,-1777.6759C4070.2288,-1768.557 1435.3464,-1715.2971 1067.6075,-1707.8639"/>
<polygon fill="#000000" stroke="#000000" points="1067.4621,-1704.3603 1057.3934,-1707.6574 1067.3206,-1711.3589 1067.4621,-1704.3603"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="2498" cy="-1707.0027" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2498" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 10&#45;30</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4521.6111,-1776.7489C4213.0138,-1766.1128 2903.5347,-1720.9799 2573.6728,-1709.6108"/>
<polygon fill="#000000" stroke="#000000" points="2573.3908,-1706.0991 2563.2762,-1709.2525 2573.1496,-1713.095 2573.3908,-1706.0991"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="3769" cy="-1707.0027" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3769" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 31&#45;98</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4524.1712,-1773.4725C4375.0877,-1760.3502 4000.6033,-1727.3883 3841.899,-1713.4192"/>
<polygon fill="#000000" stroke="#000000" points="3842.0306,-1709.9173 3831.7622,-1712.527 3841.4167,-1716.8904 3842.0306,-1709.9173"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="5247" cy="-1707.0027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5247" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 161&#45;180</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4648.2031,-1772.326C4768.3453,-1759.2195 5034.9083,-1730.1399 5168.0838,-1715.6117"/>
<polygon fill="#000000" stroke="#000000" points="5168.6544,-1719.0703 5178.2158,-1714.5064 5167.8952,-1712.1116 5168.6544,-1719.0703"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="6411" cy="-1707.0027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6411" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 181&#45;216</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4652.1858,-1776.4295C4929.7472,-1765.4732 6013.1805,-1722.7061 6325.9998,-1710.3579"/>
<polygon fill="#000000" stroke="#000000" points="6326.5041,-1713.8408 6336.3583,-1709.949 6326.228,-1706.8463 6326.5041,-1713.8408"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="8215" cy="-1707.0027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8215" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 233&#45;255</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4652.6768,-1777.6993C5094.3697,-1768.9336 7629.4831,-1718.6226 8129.3991,-1708.7015"/>
<polygon fill="#000000" stroke="#000000" points="8129.5027,-1712.2002 8139.4312,-1708.5024 8129.3637,-1705.2016 8129.5027,-1712.2002"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="9506" cy="-1707.0027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9506" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 256&#45;287</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4652.6171,-1778.0571C5016.4272,-1772.8124 6822.8234,-1746.747 8299,-1725.0027 8719.6897,-1718.8058 9222.8553,-1711.2584 9420.4166,-1708.2897"/>
<polygon fill="#000000" stroke="#000000" points="9420.4962,-1711.789 9430.4424,-1708.139 9420.3909,-1704.7898 9420.4962,-1711.789"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="11191" cy="-1707.0027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11191" y="-1702.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 302&#45;346</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4652.9297,-1778.3022C5085.9432,-1773.6996 7567.8505,-1747.2832 9590,-1725.0027 10169.2018,-1718.6209 10866.2674,-1710.702 11105.5474,-1707.9769"/>
<polygon fill="#000000" stroke="#000000" points="11105.6136,-1711.4765 11115.5731,-1707.8627 11105.5338,-1704.4769 11105.6136,-1711.4765"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="721,-1653.0027 649,-1653.0027 649,-1617.0027 721,-1617.0027 721,-1653.0027"/>
<text text-anchor="middle" x="685" y="-1631.5027" font-family="Inconsolata" font-size="14.00" fill="#000000">* loader</text>
</g>
<!-- header_2&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>header_2&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M715.8652,-1689.2049C711.1699,-1680.9596 705.4902,-1670.9855 700.2897,-1661.8528"/>
<polygon fill="#000000" stroke="#000000" points="703.2929,-1660.0537 695.303,-1653.0958 697.21,-1663.5176 703.2929,-1660.0537"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="766" cy="-1635.0027" rx="27" ry="18"/>
<text text-anchor="middle" x="766" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M879.4489,-1694.6254C856.5196,-1682.575 821.5601,-1664.2021 796.5117,-1651.038"/>
<polygon fill="#000000" stroke="#000000" points="797.923,-1647.8258 787.4427,-1646.2718 794.6664,-1654.0222 797.923,-1647.8258"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="838" cy="-1635.0027" rx="27" ry="18"/>
<text text-anchor="middle" x="838" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M996.7815,-1698.0398C966.1521,-1688.0512 915.9919,-1670.9323 874,-1653.0027 872.2167,-1652.2412 870.3969,-1651.4333 868.5697,-1650.5981"/>
<polygon fill="#000000" stroke="#000000" points="870.0375,-1647.4205 859.504,-1646.2812 867.028,-1653.7405 870.0375,-1647.4205"/>
</g>
<!-- prespace_16 -->
<g id="node17" class="node">
<title>prespace_16</title>
<ellipse fill="none" stroke="#000000" cx="929" cy="-1635.0027" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="929" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_4&#45;&gt;prespace_16 -->
<g id="edge16" class="edge">
<title>prose_4&#45;&gt;prespace_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1005.573,-1692.4324C992.0746,-1682.3086 973.8362,-1668.6298 958.5453,-1657.1616"/>
<polygon fill="#000000" stroke="#000000" points="960.5024,-1654.2545 950.4024,-1651.0545 956.3024,-1659.8545 960.5024,-1654.2545"/>
</g>
<!-- literal_17 -->
<g id="node18" class="node">
<title>literal_17</title>
<ellipse fill="none" stroke="#000000" cx="1025" cy="-1635.0027" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1025" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_4&#45;&gt;literal_17 -->
<g id="edge17" class="edge">
<title>prose_4&#45;&gt;literal_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1025,-1688.834C1025,-1681.1336 1025,-1671.977 1025,-1663.4193"/>
<polygon fill="#000000" stroke="#000000" points="1028.5001,-1663.4159 1025,-1653.4159 1021.5001,-1663.416 1028.5001,-1663.4159"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="1237" cy="-1635.0027" rx="27" ry="18"/>
<text text-anchor="middle" x="1237" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_4&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1052.7153,-1697.5899C1091.3907,-1684.4549 1161.4808,-1660.6507 1203.1816,-1646.4881"/>
<polygon fill="#000000" stroke="#000000" points="1204.5408,-1649.7229 1212.8841,-1643.193 1202.2897,-1643.0948 1204.5408,-1649.7229"/>
</g>
<!-- header_23 -->
<g id="node24" class="node">
<title>header_23</title>
<ellipse fill="none" stroke="#000000" cx="1813" cy="-1635.0027" rx="51.2759" ry="18"/>
<text text-anchor="middle" x="1813" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : imports</text>
</g>
<!-- section_5&#45;&gt;header_23 -->
<g id="edge23" class="edge">
<title>section_5&#45;&gt;header_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2436.608,-1700.5498C2305.8392,-1686.8047 2001.2531,-1654.7898 1872.3323,-1641.239"/>
<polygon fill="#000000" stroke="#000000" points="1872.5628,-1637.7441 1862.2517,-1640.1795 1871.831,-1644.7057 1872.5628,-1637.7441"/>
</g>
<!-- prose_24 -->
<g id="node25" class="node">
<title>prose_24</title>
<ellipse fill="none" stroke="#000000" cx="2041" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2041" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_24 -->
<g id="edge24" class="edge">
<title>section_5&#45;&gt;prose_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2441.0447,-1698.0294C2347.6555,-1683.316 2164.1735,-1654.4085 2082.2285,-1641.4982"/>
<polygon fill="#000000" stroke="#000000" points="2082.7092,-1638.0308 2072.2864,-1639.9318 2081.6198,-1644.9455 2082.7092,-1638.0308"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="2498" cy="-1635.0027" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2498" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 17&#45;24</text>
</g>
<!-- section_5&#45;&gt;codeblock_25 -->
<g id="edge25" class="edge">
<title>section_5&#45;&gt;codeblock_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2498,-1688.834C2498,-1681.1336 2498,-1671.977 2498,-1663.4193"/>
<polygon fill="#000000" stroke="#000000" points="2501.5001,-1663.4159 2498,-1653.4159 2494.5001,-1663.416 2501.5001,-1663.4159"/>
</g>
<!-- codeblock_26 -->
<g id="node27" class="node">
<title>codeblock_26</title>
<ellipse fill="none" stroke="#000000" cx="2724" cy="-1635.0027" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2724" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 26&#45;28</text>
</g>
<!-- section_5&#45;&gt;codeblock_26 -->
<g id="edge26" class="edge">
<title>section_5&#45;&gt;codeblock_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2541.0408,-1693.2905C2577.1686,-1681.7808 2629.0255,-1665.26 2668.3122,-1652.7439"/>
<polygon fill="#000000" stroke="#000000" points="2669.5466,-1656.024 2678.0123,-1649.6536 2667.4217,-1649.3543 2669.5466,-1656.024"/>
</g>
<!-- header_44 -->
<g id="node45" class="node">
<title>header_44</title>
<ellipse fill="none" stroke="#000000" cx="3142" cy="-1635.0027" rx="61.3032" ry="18"/>
<text text-anchor="middle" x="3142" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : SQL code</text>
</g>
<!-- section_6&#45;&gt;header_44 -->
<g id="edge44" class="edge">
<title>section_6&#45;&gt;header_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3708.3109,-1700.0336C3590.6833,-1686.5261 3332.4551,-1656.8731 3209.5673,-1642.7616"/>
<polygon fill="#000000" stroke="#000000" points="3209.8644,-1639.2728 3199.5303,-1641.609 3209.0657,-1646.2271 3209.8644,-1639.2728"/>
</g>
<!-- prose_45 -->
<g id="node46" class="node">
<title>prose_45</title>
<ellipse fill="none" stroke="#000000" cx="3358" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3358" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_45 -->
<g id="edge45" class="edge">
<title>section_6&#45;&gt;prose_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3713.5707,-1697.2924C3629.7584,-1682.61 3472.7182,-1655.0993 3398.6444,-1642.1228"/>
<polygon fill="#000000" stroke="#000000" points="3399.2131,-1638.6692 3388.7591,-1640.3911 3398.0052,-1645.5642 3399.2131,-1638.6692"/>
</g>
<!-- section_46 -->
<g id="node47" class="node">
<title>section_46</title>
<ellipse fill="none" stroke="#000000" cx="3552" cy="-1635.0027" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3552" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 36&#45;62</text>
</g>
<!-- section_6&#45;&gt;section_46 -->
<g id="edge46" class="edge">
<title>section_6&#45;&gt;section_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3727.1602,-1693.1203C3691.9996,-1681.4541 3641.5904,-1664.7285 3603.8695,-1652.2128"/>
<polygon fill="#000000" stroke="#000000" points="3604.6744,-1648.7923 3594.081,-1648.965 3602.47,-1655.4361 3604.6744,-1648.7923"/>
</g>
<!-- section_47 -->
<g id="node48" class="node">
<title>section_47</title>
<ellipse fill="none" stroke="#000000" cx="3999" cy="-1635.0027" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3999" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 63&#45;98</text>
</g>
<!-- section_6&#45;&gt;section_47 -->
<g id="edge47" class="edge">
<title>section_6&#45;&gt;section_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3812.2612,-1693.46C3850.1292,-1681.6057 3905.2761,-1664.3423 3945.8273,-1651.648"/>
<polygon fill="#000000" stroke="#000000" points="3947.0447,-1654.9345 3955.5424,-1648.6068 3944.9534,-1648.2542 3947.0447,-1654.9345"/>
</g>
<!-- section_48 -->
<g id="node49" class="node">
<title>section_48</title>
<ellipse fill="none" stroke="#000000" cx="4675" cy="-1635.0027" rx="70.655" ry="18"/>
<text text-anchor="middle" x="4675" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 99&#45;160</text>
</g>
<!-- section_6&#45;&gt;section_48 -->
<g id="edge48" class="edge">
<title>section_6&#45;&gt;section_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3832.3481,-1701.9684C3993.946,-1689.1261 4421.1514,-1655.1761 4597.3382,-1641.1745"/>
<polygon fill="#000000" stroke="#000000" points="4597.6201,-1644.6632 4607.3114,-1640.3819 4597.0655,-1637.6852 4597.6201,-1644.6632"/>
</g>
<!-- header_73 -->
<g id="node74" class="node">
<title>header_73</title>
<ellipse fill="none" stroke="#000000" cx="5142" cy="-1635.0027" rx="159.9496" ry="18"/>
<text text-anchor="middle" x="5142" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : SQL loader.load(conn, mod_name)</text>
</g>
<!-- section_7&#45;&gt;header_73 -->
<g id="edge73" class="edge">
<title>section_7&#45;&gt;header_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5222.1165,-1689.9397C5208.5302,-1680.6234 5191.4945,-1668.9418 5176.6293,-1658.7485"/>
<polygon fill="#000000" stroke="#000000" points="5178.3968,-1655.7167 5168.1702,-1652.9479 5174.4381,-1661.4898 5178.3968,-1655.7167"/>
</g>
<!-- prose_74 -->
<g id="node75" class="node">
<title>prose_74</title>
<ellipse fill="none" stroke="#000000" cx="5352" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5352" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_74 -->
<g id="edge74" class="edge">
<title>section_7&#45;&gt;prose_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5271.8835,-1689.9397C5287.2341,-1679.4135 5306.9883,-1665.8678 5323.04,-1654.8609"/>
<polygon fill="#000000" stroke="#000000" points="5325.2573,-1657.5844 5331.5252,-1649.0425 5321.2985,-1651.8113 5325.2573,-1657.5844"/>
</g>
<!-- codeblock_75 -->
<g id="node76" class="node">
<title>codeblock_75</title>
<ellipse fill="none" stroke="#000000" cx="5508" cy="-1635.0027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5508" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 165&#45;178</text>
</g>
<!-- section_7&#45;&gt;codeblock_75 -->
<g id="edge75" class="edge">
<title>section_7&#45;&gt;codeblock_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5296.3989,-1693.3754C5338.8056,-1681.677 5400.1419,-1664.7566 5445.8703,-1652.1419"/>
<polygon fill="#000000" stroke="#000000" points="5446.9614,-1655.4717 5455.6706,-1649.4384 5445.0999,-1648.7237 5446.9614,-1655.4717"/>
</g>
<!-- header_80 -->
<g id="node81" class="node">
<title>header_80</title>
<ellipse fill="none" stroke="#000000" cx="6011" cy="-1635.0027" rx="110.9288" ry="18"/>
<text text-anchor="middle" x="6011" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Environment Variables</text>
</g>
<!-- section_8&#45;&gt;header_80 -->
<g id="edge80" class="edge">
<title>section_8&#45;&gt;header_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6350.6829,-1696.1456C6282.7997,-1683.9266 6172.0351,-1663.989 6095.5411,-1650.2201"/>
<polygon fill="#000000" stroke="#000000" points="6095.914,-1646.731 6085.4521,-1648.404 6094.6739,-1653.6203 6095.914,-1646.731"/>
</g>
<!-- prose_81 -->
<g id="node82" class="node">
<title>prose_81</title>
<ellipse fill="none" stroke="#000000" cx="6411" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6411" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_81 -->
<g id="edge81" class="edge">
<title>section_8&#45;&gt;prose_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6411,-1688.834C6411,-1681.1336 6411,-1671.977 6411,-1663.4193"/>
<polygon fill="#000000" stroke="#000000" points="6414.5001,-1663.4159 6411,-1653.4159 6407.5001,-1663.416 6414.5001,-1663.4159"/>
</g>
<!-- codeblock_82 -->
<g id="node83" class="node">
<title>codeblock_82</title>
<ellipse fill="none" stroke="#000000" cx="6851" cy="-1635.0027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6851" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 189&#45;214</text>
</g>
<!-- section_8&#45;&gt;codeblock_82 -->
<g id="edge82" class="edge">
<title>section_8&#45;&gt;codeblock_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6473.574,-1696.7633C6552.1965,-1683.8978 6687.15,-1661.8145 6772.5819,-1647.8347"/>
<polygon fill="#000000" stroke="#000000" points="6773.1866,-1651.2824 6782.4901,-1646.2134 6772.0561,-1644.3743 6773.1866,-1651.2824"/>
</g>
<!-- section_83 -->
<g id="node84" class="node">
<title>section_83</title>
<ellipse fill="none" stroke="#000000" cx="7693" cy="-1635.0027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7693" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 217&#45;232</text>
</g>
<!-- section_8&#45;&gt;section_83 -->
<g id="edge83" class="edge">
<title>section_8&#45;&gt;section_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6484.5304,-1702.873C6707.2073,-1690.367 7373.3398,-1652.9555 7609.1397,-1639.7124"/>
<polygon fill="#000000" stroke="#000000" points="7609.5799,-1643.1933 7619.3678,-1639.138 7609.1873,-1636.2043 7609.5799,-1643.1933"/>
</g>
<!-- header_120 -->
<g id="node121" class="node">
<title>header_120</title>
<ellipse fill="none" stroke="#000000" cx="8132" cy="-1635.0027" rx="77.4383" ry="18"/>
<text text-anchor="middle" x="8132" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.open()</text>
</g>
<!-- section_9&#45;&gt;header_120 -->
<g id="edge120" class="edge">
<title>section_9&#45;&gt;header_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8194.908,-1689.5735C8184.3831,-1680.4434 8171.3285,-1669.1189 8159.8441,-1659.1566"/>
<polygon fill="#000000" stroke="#000000" points="8162.042,-1656.4298 8152.1946,-1652.5209 8157.4551,-1661.7176 8162.042,-1656.4298"/>
</g>
<!-- prose_121 -->
<g id="node122" class="node">
<title>prose_121</title>
<ellipse fill="none" stroke="#000000" cx="8298" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8298" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_121 -->
<g id="edge121" class="edge">
<title>section_9&#45;&gt;prose_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8235.092,-1689.5735C8246.4265,-1679.7411 8260.6949,-1667.3637 8272.7764,-1656.8834"/>
<polygon fill="#000000" stroke="#000000" points="8275.0866,-1659.5127 8280.3471,-1650.3161 8270.4997,-1654.225 8275.0866,-1659.5127"/>
</g>
<!-- codeblock_122 -->
<g id="node123" class="node">
<title>codeblock_122</title>
<ellipse fill="none" stroke="#000000" cx="8585" cy="-1635.0027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8585" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 237&#45;253</text>
</g>
<!-- section_9&#45;&gt;codeblock_122 -->
<g id="edge122" class="edge">
<title>section_9&#45;&gt;codeblock_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8273.6276,-1695.594C8338.0108,-1683.0654 8441.5096,-1662.9251 8511.3278,-1649.3389"/>
<polygon fill="#000000" stroke="#000000" points="8512.2285,-1652.7293 8521.3758,-1647.3836 8510.8914,-1645.8582 8512.2285,-1652.7293"/>
</g>
<!-- header_133 -->
<g id="node134" class="node">
<title>header_133</title>
<ellipse fill="none" stroke="#000000" cx="9190" cy="-1635.0027" rx="198.7451" ry="18"/>
<text text-anchor="middle" x="9190" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.commitModule(conn, bytecode, deck)</text>
</g>
<!-- section_10&#45;&gt;header_133 -->
<g id="edge133" class="edge">
<title>section_10&#45;&gt;header_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9451.3178,-1694.5434C9402.3251,-1683.3805 9329.7313,-1666.8402 9273.4816,-1654.0238"/>
<polygon fill="#000000" stroke="#000000" points="9274.0628,-1650.5666 9263.5351,-1651.7575 9272.5077,-1657.3916 9274.0628,-1650.5666"/>
</g>
<!-- prose_134 -->
<g id="node135" class="node">
<title>prose_134</title>
<ellipse fill="none" stroke="#000000" cx="9460" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9460" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_134 -->
<g id="edge134" class="edge">
<title>section_10&#45;&gt;prose_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9494.6292,-1689.2049C9489.1452,-1680.6212 9482.4642,-1670.164 9476.4388,-1660.7329"/>
<polygon fill="#000000" stroke="#000000" points="9479.2566,-1658.6425 9470.9232,-1652.0999 9473.3577,-1662.4112 9479.2566,-1658.6425"/>
</g>
<!-- prose_135 -->
<g id="node136" class="node">
<title>prose_135</title>
<ellipse fill="none" stroke="#000000" cx="9553" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9553" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_135 -->
<g id="edge135" class="edge">
<title>section_10&#45;&gt;prose_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9517.618,-1689.2049C9523.2212,-1680.6212 9530.0475,-1670.164 9536.2039,-1660.7329"/>
<polygon fill="#000000" stroke="#000000" points="9539.3039,-1662.3869 9541.8393,-1652.0999 9533.4422,-1658.5605 9539.3039,-1662.3869"/>
</g>
<!-- codeblock_136 -->
<g id="node137" class="node">
<title>codeblock_136</title>
<ellipse fill="none" stroke="#000000" cx="9859" cy="-1635.0027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9859" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 264&#45;285</text>
</g>
<!-- section_10&#45;&gt;codeblock_136 -->
<g id="edge136" class="edge">
<title>section_10&#45;&gt;codeblock_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9563.5012,-1695.2744C9624.4519,-1682.8425 9720.8416,-1663.1823 9786.8501,-1649.7188"/>
<polygon fill="#000000" stroke="#000000" points="9787.6678,-1653.1241 9796.7666,-1647.6962 9786.2688,-1646.2654 9787.6678,-1653.1241"/>
</g>
<!-- section_137 -->
<g id="node138" class="node">
<title>section_137</title>
<ellipse fill="none" stroke="#000000" cx="10518" cy="-1635.0027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10518" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 288&#45;301</text>
</g>
<!-- section_10&#45;&gt;section_137 -->
<g id="edge137" class="edge">
<title>section_10&#45;&gt;section_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9578.3744,-1701.8535C9761.3705,-1688.834 10241.7235,-1654.6587 10435.346,-1640.8832"/>
<polygon fill="#000000" stroke="#000000" points="10435.7341,-1644.3645 10445.4605,-1640.1636 10435.2373,-1637.3821 10435.7341,-1644.3645"/>
</g>
<!-- header_157 -->
<g id="node158" class="node">
<title>header_157</title>
<ellipse fill="none" stroke="#000000" cx="10981" cy="-1635.0027" rx="159.5865" ry="18"/>
<text text-anchor="middle" x="10981" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.commitCodex(conn, codex)</text>
</g>
<!-- section_11&#45;&gt;header_157 -->
<g id="edge157" class="edge">
<title>section_11&#45;&gt;header_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11147.7425,-1692.1715C11116.9254,-1681.6056 11075.1032,-1667.2666 11041.0538,-1655.5925"/>
<polygon fill="#000000" stroke="#000000" points="11041.8104,-1652.152 11031.2158,-1652.2195 11039.5401,-1658.7736 11041.8104,-1652.152"/>
</g>
<!-- prose_158 -->
<g id="node159" class="node">
<title>prose_158</title>
<ellipse fill="none" stroke="#000000" cx="11191" cy="-1635.0027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11191" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_158 -->
<g id="edge158" class="edge">
<title>section_11&#45;&gt;prose_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11191,-1688.834C11191,-1681.1336 11191,-1671.977 11191,-1663.4193"/>
<polygon fill="#000000" stroke="#000000" points="11194.5001,-1663.4159 11191,-1653.4159 11187.5001,-1663.416 11194.5001,-1663.4159"/>
</g>
<!-- codeblock_159 -->
<g id="node160" class="node">
<title>codeblock_159</title>
<ellipse fill="none" stroke="#000000" cx="11399" cy="-1635.0027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11399" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 304&#45;341</text>
</g>
<!-- section_11&#45;&gt;codeblock_159 -->
<g id="edge159" class="edge">
<title>section_11&#45;&gt;codeblock_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11233.8455,-1692.1715C11265.9133,-1681.0711 11310.0121,-1665.8061 11344.575,-1653.8421"/>
<polygon fill="#000000" stroke="#000000" points="11345.7477,-1657.14 11354.0527,-1650.5613 11343.4579,-1650.5251 11345.7477,-1657.14"/>
</g>
<!-- codeblock_160 -->
<g id="node161" class="node">
<title>codeblock_160</title>
<ellipse fill="none" stroke="#000000" cx="11700" cy="-1635.0027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11700" y="-1630.8027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 344&#45;346</text>
</g>
<!-- section_11&#45;&gt;codeblock_160 -->
<g id="edge160" class="edge">
<title>section_11&#45;&gt;codeblock_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11255.9822,-1697.8107C11348.0955,-1684.7809 11516.6238,-1660.9419 11617.4671,-1646.6772"/>
<polygon fill="#000000" stroke="#000000" points="11618.2005,-1650.1084 11627.6117,-1645.2423 11617.22,-1643.1774 11618.2005,-1650.1084"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="436,-1335.7032 0,-1335.7032 0,-1263.9009 436,-1263.9009 436,-1335.7032"/>
<text text-anchor="middle" x="218" y="-1272.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m less than convinced that I&#39;ve given this the right name.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M745.1718,-1623.1074C740.3191,-1620.7578 735.0818,-1618.5449 730,-1617.0027 607.829,-1579.9259 556.5102,-1643.1793 445,-1581.0027 346.2857,-1525.9609 274.0961,-1409.1435 239.9808,-1344.7447"/>
<polygon fill="#000000" stroke="#000000" points="242.9563,-1342.8813 235.225,-1335.6371 236.7513,-1346.1215 242.9563,-1342.8813"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="806,-1319.7042 454,-1319.7042 454,-1279.9 806,-1279.9 806,-1319.7042"/>
<text text-anchor="middle" x="630" y="-1288.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">Among other things this will have a function for</text>
</g>
<!-- raw_15&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_15&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M827.3993,-1617.9192C793.8749,-1563.8932 689.8957,-1396.3265 647.8821,-1328.6198"/>
<polygon fill="#000000" stroke="#000000" points="650.6254,-1326.4027 642.3788,-1319.7511 644.6775,-1330.0935 650.6254,-1326.4027"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="878,-1317.8021 824,-1317.8021 824,-1281.8021 878,-1281.8021 878,-1317.8021"/>
<text text-anchor="middle" x="851" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_16&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>prespace_16&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M911.9541,-1618.0591C903.0116,-1608.1171 892.7473,-1594.8198 887,-1581.0027 850.9113,-1494.2421 848.6283,-1380.4896 849.7999,-1328.2605"/>
<polygon fill="#000000" stroke="#000000" points="853.3036,-1328.1772 850.0914,-1318.0811 846.3065,-1327.9768 853.3036,-1328.1772"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1017.5,-1317.8021 896.5,-1317.8021 896.5,-1281.8021 1017.5,-1281.8021 1017.5,-1317.8021"/>
<text text-anchor="middle" x="957" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">package.loaders</text>
</g>
<!-- literal_17&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>literal_17&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1021.344,-1616.9808C1010.1366,-1561.7346 976.2026,-1394.4599 962.665,-1327.7274"/>
<polygon fill="#000000" stroke="#000000" points="966.0924,-1327.0175 960.6741,-1317.913 959.2321,-1328.4093 966.0924,-1327.0175"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1576.5,-1327.0026 1035.5,-1327.0026 1035.5,-1272.6016 1576.5,-1272.6016 1576.5,-1327.0026"/>
<text text-anchor="middle" x="1306" y="-1311.7021" font-family="Inconsolata" font-size="14.00" fill="#000000">, but this</text>
<text text-anchor="middle" x="1306" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">file will contain everything needed to manipulate modules, including things</text>
<text text-anchor="middle" x="1306" y="-1280.9021" font-family="Inconsolata" font-size="14.00" fill="#000000">needed only by the compiler.</text>
</g>
<!-- raw_18&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>raw_18&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1240.7097,-1616.9808C1251.5685,-1564.229 1283.4526,-1409.3371 1298.2684,-1337.3621"/>
<polygon fill="#000000" stroke="#000000" points="1301.7378,-1337.8668 1300.326,-1327.3665 1294.8816,-1336.4554 1301.7378,-1337.8668"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1687.5,-1317.8021 1594.5,-1317.8021 1594.5,-1281.8021 1687.5,-1281.8021 1687.5,-1317.8021"/>
<text text-anchor="middle" x="1641" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** imports</text>
</g>
<!-- header_23&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>header_23&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1769.61,-1625.23C1744.7015,-1617.387 1714.9074,-1603.7998 1697,-1581.0027 1637.3275,-1505.0362 1635.9449,-1382.6516 1638.7689,-1327.8782"/>
<polygon fill="#000000" stroke="#000000" points="1642.2647,-1328.0515 1639.3737,-1317.8588 1635.2774,-1327.6296 1642.2647,-1328.0515"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="1733" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="1733" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_24&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2009.4955,-1630.8375C1941.4195,-1621.5444 1785.3862,-1598.5542 1769,-1581.0027 1703.3679,-1510.7028 1716.9556,-1383.8861 1727.0649,-1327.7909"/>
<polygon fill="#000000" stroke="#000000" points="1730.5235,-1328.3384 1728.954,-1317.8604 1723.6468,-1327.0302 1730.5235,-1328.3384"/>
</g>
<!-- prespace_29 -->
<g id="node30" class="node">
<title>prespace_29</title>
<ellipse fill="none" stroke="#000000" cx="1824" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1824" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_24&#45;&gt;prespace_29 -->
<g id="edge29" class="edge">
<title>prose_24&#45;&gt;prespace_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2010.7976,-1628.6606C1969.2028,-1619.3173 1897.4358,-1600.8072 1880,-1581.0027 1816.0124,-1508.3223 1816.9355,-1383.7263 1821.068,-1328.0826"/>
<polygon fill="#000000" stroke="#000000" points="1824.5731,-1328.166 1821.919,-1317.909 1817.5975,-1327.5824 1824.5731,-1328.166"/>
</g>
<!-- literal_30 -->
<g id="node31" class="node">
<title>literal_30</title>
<ellipse fill="none" stroke="#000000" cx="1920" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1920" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_24&#45;&gt;literal_30 -->
<g id="edge30" class="edge">
<title>prose_24&#45;&gt;literal_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2014.7268,-1624.4958C1996.3128,-1615.7037 1972.7898,-1601.3102 1960,-1581.0027 1909.3549,-1500.5886 1912.2937,-1381.8814 1916.8407,-1328.111"/>
<polygon fill="#000000" stroke="#000000" points="1920.344,-1328.2375 1917.7864,-1317.9561 1913.3742,-1327.5884 1920.344,-1328.2375"/>
</g>
<!-- raw_31 -->
<g id="node32" class="node">
<title>raw_31</title>
<ellipse fill="none" stroke="#000000" cx="1996" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="1996" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_31 -->
<g id="edge31" class="edge">
<title>prose_24&#45;&gt;raw_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2037.8296,-1617.0294C2036.0227,-1606.5383 2033.7727,-1593.0383 2032,-1581.0027 2018.4027,-1488.6868 2005.2006,-1378.8783 1999.266,-1328.1182"/>
<polygon fill="#000000" stroke="#000000" points="2002.7127,-1327.4567 1998.0797,-1317.9285 1995.7597,-1328.2662 2002.7127,-1327.4567"/>
</g>
<!-- prespace_32 -->
<g id="node33" class="node">
<title>prespace_32</title>
<ellipse fill="none" stroke="#000000" cx="2087" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2087" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_24&#45;&gt;prespace_32 -->
<g id="edge32" class="edge">
<title>prose_24&#45;&gt;prespace_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2043.4732,-1616.9808C2051.0391,-1561.8482 2073.9156,-1395.1478 2083.1111,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="2086.6225,-1328.2961 2084.5146,-1317.913 2079.6875,-1327.3443 2086.6225,-1328.2961"/>
</g>
<!-- literal_33 -->
<g id="node34" class="node">
<title>literal_33</title>
<ellipse fill="none" stroke="#000000" cx="2183" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2183" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_24&#45;&gt;literal_33 -->
<g id="edge33" class="edge">
<title>prose_24&#45;&gt;literal_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2070.2596,-1627.2938C2093.551,-1619.5624 2124.9722,-1605.2469 2142,-1581.0027 2196.7804,-1503.0061 2192.2301,-1382.5869 2186.6997,-1328.1924"/>
<polygon fill="#000000" stroke="#000000" points="2190.1422,-1327.4793 2185.5618,-1317.9257 2183.1848,-1328.2504 2190.1422,-1327.4793"/>
</g>
<!-- raw_34 -->
<g id="node35" class="node">
<title>raw_34</title>
<ellipse fill="none" stroke="#000000" cx="2259" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="2259" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_34 -->
<g id="edge34" class="edge">
<title>prose_24&#45;&gt;raw_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2072.1909,-1629.9376C2118.8541,-1621.6974 2203.4606,-1603.9737 2223,-1581.0027 2285.0345,-1508.0732 2273.578,-1383.6067 2264.4997,-1328.0395"/>
<polygon fill="#000000" stroke="#000000" points="2267.8953,-1327.1354 2262.7382,-1317.8804 2260.9982,-1328.3313 2267.8953,-1327.1354"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="2691.5,-1350.403 2304.5,-1350.403 2304.5,-1249.2012 2691.5,-1249.2012 2691.5,-1350.403"/>
<text text-anchor="middle" x="2498" y="-1335.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">local sql = assert(sql, &quot;must have sql in bridge _G&quot;)</text>
<text text-anchor="middle" x="2498" y="-1320.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local Dir = require &quot;walk/directory&quot;</text>
<text text-anchor="middle" x="2498" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">local sha = require &quot;sha3&quot; . sha512</text>
<text text-anchor="middle" x="2498" y="-1257.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">local status = require &quot;status&quot; ()</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>codeblock_25&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2498,-1616.9808C2498,-1569.4138 2498,-1438.7976 2498,-1360.8115"/>
<polygon fill="#000000" stroke="#000000" points="2501.5001,-1360.6378 2498,-1350.6378 2494.5001,-1360.6379 2501.5001,-1360.6378"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="2844.5,-1317.8021 2709.5,-1317.8021 2709.5,-1281.8021 2844.5,-1281.8021 2844.5,-1317.8021"/>
<text text-anchor="middle" x="2777" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">local Loader = {}</text>
</g>
<!-- codeblock_26&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>codeblock_26&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2726.8495,-1616.9808C2735.5668,-1561.8482 2761.9245,-1395.1478 2772.5193,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="2776.0316,-1328.337 2774.1364,-1317.913 2769.1175,-1327.2437 2776.0316,-1328.337"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="1778.5,-572.6023 1237.5,-572.6023 1237.5,-516.7993 1778.5,-516.7993 1778.5,-572.6023"/>
<text text-anchor="middle" x="1508" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">For now, I&#39;m going to use a copy of the sqlite bindings currently living in</text>
</g>
<!-- raw_28&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>raw_28&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1732.1676,-1281.7427C1729.7592,-1236.6627 1721.2648,-1115.8227 1696,-1018.6015 1652.181,-849.9825 1564.6053,-660.5028 1526.4639,-581.9227"/>
<polygon fill="#000000" stroke="#000000" points="1529.3779,-579.9129 1521.8486,-572.459 1523.0862,-582.9813 1529.3779,-579.9129"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="1851,-562.7008 1797,-562.7008 1797,-526.7008 1851,-526.7008 1851,-562.7008"/>
</g>
<!-- prespace_29&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>prespace_29&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1824,-1281.5107C1824,-1180.9416 1824,-695.3807 1824,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="1827.5001,-572.7514 1824,-562.7514 1820.5001,-572.7515 1827.5001,-572.7514"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="1923,-562.7008 1869,-562.7008 1869,-526.7008 1923,-526.7008 1923,-562.7008"/>
<text text-anchor="middle" x="1896" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">femto</text>
</g>
<!-- literal_30&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>literal_30&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1919.4186,-1281.5107C1916.2222,-1180.9416 1900.7892,-695.3807 1896.8942,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="1900.3897,-572.6352 1896.5737,-562.7514 1893.3933,-572.8576 1900.3897,-572.6352"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2041,-562.7008 1941,-562.7008 1941,-526.7008 2041,-526.7008 2041,-562.7008"/>
<text text-anchor="middle" x="1991" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">. &#160;There&#39;s a</text>
</g>
<!-- raw_31&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>raw_31&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1995.8789,-1281.5107C1995.2129,-1180.9416 1991.9977,-695.3807 1991.1863,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="1994.6858,-572.728 1991.1195,-562.7514 1987.6859,-572.7744 1994.6858,-572.728"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="2113,-562.7008 2059,-562.7008 2059,-526.7008 2113,-526.7008 2113,-562.7008"/>
<text text-anchor="middle" x="2086" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_32&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>prespace_32&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2086.9758,-1281.5107C2086.8426,-1180.9416 2086.1995,-695.3807 2086.0373,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="2089.5372,-572.7468 2086.0239,-562.7514 2082.5373,-572.7561 2089.5372,-572.7468"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="2196.5,-562.7008 2131.5,-562.7008 2131.5,-526.7008 2196.5,-526.7008 2196.5,-562.7008"/>
<text text-anchor="middle" x="2164" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">sqlayer</text>
</g>
<!-- literal_33&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>literal_33&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2182.5397,-1281.5107C2180.0092,-1180.9416 2167.7914,-695.3807 2164.7079,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="2168.2047,-572.6602 2164.4542,-562.7514 2161.2069,-572.8364 2168.2047,-572.6602"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="2721,-571.9013 2215,-571.9013 2215,-517.5003 2721,-517.5003 2721,-571.9013"/>
<text text-anchor="middle" x="2468" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> as well but I don&#39;t want to copy&#45;paste generated</text>
<text text-anchor="middle" x="2468" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">code if I can avoid it; the whole point of this exercise is to get the</text>
<text text-anchor="middle" x="2468" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">codebase to where I can reuse projects across modules.</text>
</g>
<!-- raw_34&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>raw_34&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259.9144,-1281.7844C2262.4963,-1236.7997 2271.2626,-1116.1599 2295,-1018.6015 2335.9061,-850.4813 2416.6997,-659.6269 2451.4604,-581.24"/>
<polygon fill="#000000" stroke="#000000" points="2454.789,-582.3689 2455.6612,-571.81 2448.3948,-579.5204 2454.789,-582.3689"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="3153,-1317.8021 3053,-1317.8021 3053,-1281.8021 3153,-1281.8021 3153,-1317.8021"/>
<text text-anchor="middle" x="3103" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** SQL code</text>
</g>
<!-- header_44&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>header_44&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3139.9032,-1616.9808C3133.4886,-1561.8482 3114.0933,-1395.1478 3106.2971,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="3109.7395,-1327.4415 3105.1072,-1317.913 3102.7864,-1328.2506 3109.7395,-1327.4415"/>
</g>
<!-- raw_50 -->
<g id="node51" class="node">
<title>raw_50</title>
<ellipse fill="none" stroke="#000000" cx="3198" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="3198" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_50 -->
<g id="edge50" class="edge">
<title>prose_45&#45;&gt;raw_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3326.6361,-1630.2509C3297.7502,-1624.1192 3256.1247,-1610.4897 3234,-1581.0027 3176.6763,-1504.6034 3185.5744,-1382.4422 3193.2356,-1327.8022"/>
<polygon fill="#000000" stroke="#000000" points="3196.7126,-1328.2159 3194.7314,-1317.808 3189.7897,-1327.1798 3196.7126,-1328.2159"/>
</g>
<!-- header_52 -->
<g id="node53" class="node">
<title>header_52</title>
<ellipse fill="none" stroke="#000000" cx="3340" cy="-1299.8021" rx="97.0962" ry="18"/>
<text text-anchor="middle" x="3340" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : SQL Loader.open()</text>
</g>
<!-- section_46&#45;&gt;header_52 -->
<g id="edge52" class="edge">
<title>section_46&#45;&gt;header_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3509.2536,-1621.321C3488.098,-1612.6734 3463.6032,-1599.567 3447,-1581.0027 3379.4246,-1505.4453 3352.8136,-1382.8496 3343.8926,-1327.95"/>
<polygon fill="#000000" stroke="#000000" points="3347.3265,-1327.2533 3342.3373,-1317.9067 3340.4089,-1328.3246 3347.3265,-1327.2533"/>
</g>
<!-- prose_53 -->
<g id="node54" class="node">
<title>prose_53</title>
<ellipse fill="none" stroke="#000000" cx="3488" cy="-1299.8021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3488" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_46&#45;&gt;prose_53 -->
<g id="edge53" class="edge">
<title>section_46&#45;&gt;prose_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3543.3511,-1616.8865C3538.7545,-1606.5776 3533.3723,-1593.304 3530,-1581.0027 3505.1969,-1490.5278 3494.0728,-1379.4039 3489.9876,-1328.1567"/>
<polygon fill="#000000" stroke="#000000" points="3493.4536,-1327.578 3489.1994,-1317.8748 3486.474,-1328.1131 3493.4536,-1327.578"/>
</g>
<!-- codeblock_54 -->
<g id="node55" class="node">
<title>codeblock_54</title>
<ellipse fill="none" stroke="#000000" cx="3616" cy="-1299.8021" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3616" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 38&#45;60</text>
</g>
<!-- section_46&#45;&gt;codeblock_54 -->
<g id="edge54" class="edge">
<title>section_46&#45;&gt;codeblock_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3555.4409,-1616.9808C3565.9674,-1561.8482 3597.7956,-1395.1478 3610.5893,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="3614.1045,-1328.392 3612.5421,-1317.913 3607.2287,-1327.0792 3614.1045,-1328.392"/>
</g>
<!-- header_59 -->
<g id="node60" class="node">
<title>header_59</title>
<ellipse fill="none" stroke="#000000" cx="3916" cy="-1299.8021" rx="115.6194" ry="18"/>
<text text-anchor="middle" x="3916" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : local create_code_table</text>
</g>
<!-- section_47&#45;&gt;header_59 -->
<g id="edge59" class="edge">
<title>section_47&#45;&gt;header_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3994.5376,-1616.9808C3980.8579,-1561.7346 3939.4385,-1394.4599 3922.9147,-1327.7274"/>
<polygon fill="#000000" stroke="#000000" points="3926.2855,-1326.7786 3920.4845,-1317.913 3919.4907,-1328.4612 3926.2855,-1326.7786"/>
</g>
<!-- prose_60 -->
<g id="node61" class="node">
<title>prose_60</title>
<ellipse fill="none" stroke="#000000" cx="4082" cy="-1299.8021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4082" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_47&#45;&gt;prose_60 -->
<g id="edge60" class="edge">
<title>section_47&#45;&gt;prose_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4016.3782,-1617.5434C4025.191,-1607.6434 4035.2254,-1594.5506 4041,-1581.0027 4077.9326,-1494.3535 4082.5817,-1380.5462 4082.5586,-1328.2821"/>
<polygon fill="#000000" stroke="#000000" points="4086.0574,-1328.0727 4082.4927,-1318.0956 4079.0576,-1328.1181 4086.0574,-1328.0727"/>
</g>
<!-- codeblock_61 -->
<g id="node62" class="node">
<title>codeblock_61</title>
<ellipse fill="none" stroke="#000000" cx="4249" cy="-1299.8021" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4249" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 65&#45;96</text>
</g>
<!-- section_47&#45;&gt;codeblock_61 -->
<g id="edge61" class="edge">
<title>section_47&#45;&gt;codeblock_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4048.0076,-1622.8705C4073.0433,-1614.5762 4102.4707,-1601.3168 4123,-1581.0027 4197.1274,-1507.6523 4231.4227,-1382.9595 4243.5659,-1327.6472"/>
<polygon fill="#000000" stroke="#000000" points="4246.993,-1328.358 4245.6425,-1317.8495 4240.1451,-1326.9065 4246.993,-1328.358"/>
</g>
<!-- header_66 -->
<g id="node67" class="node">
<title>header_66</title>
<ellipse fill="none" stroke="#000000" cx="4566" cy="-1299.8021" rx="169.0775" ry="18"/>
<text text-anchor="middle" x="4566" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : SQL Loader.commitDeck(conn, deck)</text>
</g>
<!-- section_48&#45;&gt;header_66 -->
<g id="edge66" class="edge">
<title>section_48&#45;&gt;header_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4669.1397,-1616.9808C4651.1748,-1561.7346 4596.7807,-1394.4599 4575.0807,-1327.7274"/>
<polygon fill="#000000" stroke="#000000" points="4578.3102,-1326.3405 4571.8893,-1317.913 4571.6533,-1328.5052 4578.3102,-1326.3405"/>
</g>
<!-- prose_67 -->
<g id="node68" class="node">
<title>prose_67</title>
<ellipse fill="none" stroke="#000000" cx="4785" cy="-1299.8021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4785" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_48&#45;&gt;prose_67 -->
<g id="edge67" class="edge">
<title>section_48&#45;&gt;prose_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4705.3272,-1618.6117C4719.3669,-1609.4287 4734.9152,-1596.6596 4744,-1581.0027 4791.6031,-1498.9628 4790.8306,-1381.5506 4787.4943,-1328.1649"/>
<polygon fill="#000000" stroke="#000000" points="4790.9776,-1327.8045 4786.7832,-1318.0753 4783.9949,-1328.2967 4790.9776,-1327.8045"/>
</g>
<!-- codeblock_68 -->
<g id="node69" class="node">
<title>codeblock_68</title>
<ellipse fill="none" stroke="#000000" cx="4923" cy="-1299.8021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4923" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 101&#45;158</text>
</g>
<!-- section_48&#45;&gt;codeblock_68 -->
<g id="edge68" class="edge">
<title>section_48&#45;&gt;codeblock_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4736.1747,-1625.9582C4766.7047,-1618.5516 4802.118,-1605.1554 4826,-1581.0027 4896.6349,-1509.5669 4915.9312,-1384.324 4921.1255,-1328.2978"/>
<polygon fill="#000000" stroke="#000000" points="4924.6367,-1328.3101 4921.9873,-1318.0519 4917.6613,-1327.7233 4924.6367,-1328.3101"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="3154.5,-580.602 2739.5,-580.602 2739.5,-508.7996 3154.5,-508.7996 3154.5,-580.602"/>
<text text-anchor="middle" x="2947" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">Everything we need to create and manipulate the database.</text>
</g>
<!-- raw_50&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>raw_50&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3197.5415,-1281.6643C3196.0002,-1236.4054 3189.4211,-1115.1892 3162,-1018.6015 3115.0179,-853.1127 3018.9811,-671.6267 2972.855,-589.4944"/>
<polygon fill="#000000" stroke="#000000" points="2975.7127,-587.4367 2967.75,-580.4477 2969.6163,-590.8768 2975.7127,-587.4367"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="3343,-562.7008 3173,-562.7008 3173,-526.7008 3343,-526.7008 3343,-562.7008"/>
<text text-anchor="middle" x="3258" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** SQL Loader.open()</text>
</g>
<!-- header_52&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>header_52&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3338.0137,-1281.5107C3327.0924,-1180.9416 3274.363,-695.3807 3261.0552,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="3264.5194,-572.3151 3259.9602,-562.7514 3257.5603,-573.0709 3264.5194,-572.3151"/>
</g>
<!-- raw_56 -->
<g id="node57" class="node">
<title>raw_56</title>
<ellipse fill="none" stroke="#000000" cx="3388" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="3388" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_53&#45;&gt;raw_56 -->
<g id="edge56" class="edge">
<title>prose_53&#45;&gt;raw_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3487.7687,-1281.7594C3486.6669,-1236.2168 3480.4621,-1113.48 3446,-1018.6015 3439.5984,-1000.977 3429.8145,-1000.4284 3424,-982.6015 3375.7265,-834.5996 3381.5411,-644.2757 3385.885,-573.1658"/>
<polygon fill="#000000" stroke="#000000" points="3389.4027,-573.0081 3386.5611,-562.8015 3382.4175,-572.5524 3389.4027,-573.0081"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="3799,-710.7014 3433,-710.7014 3433,-378.7002 3799,-378.7002 3799,-710.7014"/>
<text text-anchor="middle" x="3616" y="-695.5011" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_project_table = [[</text>
<text text-anchor="middle" x="3616" y="-680.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS project (</text>
<text text-anchor="middle" x="3616" y="-664.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-649.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;name STRING UNIQUE NOT NULL ON CONFLICT IGNORE,</text>
<text text-anchor="middle" x="3616" y="-633.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo STRING,</text>
<text text-anchor="middle" x="3616" y="-618.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo_type STRING DEFAULT &#39;git&#39;,</text>
<text text-anchor="middle" x="3616" y="-603.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo_alternates STRING,</text>
<text text-anchor="middle" x="3616" y="-587.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;home STRING,</text>
<text text-anchor="middle" x="3616" y="-572.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;website STRING</text>
<text text-anchor="middle" x="3616" y="-556.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-541.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="3616" y="-510.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_version_table = [[</text>
<text text-anchor="middle" x="3616" y="-494.7007" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS version (</text>
<text text-anchor="middle" x="3616" y="-479.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;version_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-463.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;edition STRING DEFAULT &#39;SNAPSHOT&#39;,</text>
<text text-anchor="middle" x="3616" y="-448.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;major INTEGER DEFAULT 0,</text>
<text text-anchor="middle" x="3616" y="-433.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;minor INTEGER DEFAULT 0,</text>
<text text-anchor="middle" x="3616" y="-417.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;patch STRING DEFAULT &#39;0&#39;</text>
<text text-anchor="middle" x="3616" y="-402.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-386.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_54&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>codeblock_54&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3616,-1281.5107C3616,-1206.1137 3616,-914.3299 3616,-721.3506"/>
<polygon fill="#000000" stroke="#000000" points="3619.5001,-721.0886 3616,-711.0886 3612.5001,-721.0887 3619.5001,-721.0886"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3415,-53.4 3361,-53.4 3361,-17.4 3415,-17.4 3415,-53.4"/>
</g>
<!-- raw_56&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>raw_56&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3388,-526.5745C3388,-450.468 3388,-156.4165 3388,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="3391.5001,-63.5743 3388,-53.5744 3384.5001,-63.5744 3391.5001,-63.5743"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="4029,-562.7008 3817,-562.7008 3817,-526.7008 4029,-526.7008 4029,-562.7008"/>
<text text-anchor="middle" x="3923" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** local create_code_table</text>
</g>
<!-- header_59&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>header_59&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3916.1696,-1281.5107C3917.1019,-1180.9416 3921.6032,-695.3807 3922.7392,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="3926.2397,-572.7835 3922.8327,-562.7514 3919.24,-572.7185 3926.2397,-572.7835"/>
</g>
<!-- raw_63 -->
<g id="node64" class="node">
<title>raw_63</title>
<ellipse fill="none" stroke="#000000" cx="4074" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="4074" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_60&#45;&gt;raw_63 -->
<g id="edge63" class="edge">
<title>prose_60&#45;&gt;raw_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4081.8062,-1281.5107C4080.7407,-1180.9416 4075.5964,-695.3807 4074.2981,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="4077.7971,-572.7138 4074.1912,-562.7514 4070.7975,-572.788 4077.7971,-572.7138"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="4471,-779.8019 4119,-779.8019 4119,-309.5997 4471,-309.5997 4471,-779.8019"/>
<text text-anchor="middle" x="4295" y="-764.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_code_table = [[</text>
<text text-anchor="middle" x="4295" y="-749.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS code (</text>
<text text-anchor="middle" x="4295" y="-734.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;code_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="4295" y="-718.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;hash TEXT UNIQUE ON CONFLICT IGNORE NOT NULL,</text>
<text text-anchor="middle" x="4295" y="-703.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;binary BLOB NOT NULL</text>
<text text-anchor="middle" x="4295" y="-687.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="4295" y="-672.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4295" y="-641.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_module_table = [[</text>
<text text-anchor="middle" x="4295" y="-625.601" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS module (</text>
<text text-anchor="middle" x="4295" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;module_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="4295" y="-594.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;time DATETIME DEFAULT CURRENT_TIMESTAMP,</text>
<text text-anchor="middle" x="4295" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;snapshot INTEGER DEFAULT 1,</text>
<text text-anchor="middle" x="4295" y="-564.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;name STRING NOT NULL,</text>
<text text-anchor="middle" x="4295" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;type STRING DEFAULT &#39;luaJIT&#45;2.1&#45;bytecode&#39;,</text>
<text text-anchor="middle" x="4295" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;branch STRING,</text>
<text text-anchor="middle" x="4295" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;vc_hash STRING,</text>
<text text-anchor="middle" x="4295" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project INTEGER NOT NULL,</text>
<text text-anchor="middle" x="4295" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;code INTEGER,</text>
<text text-anchor="middle" x="4295" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;version INTEGER NOT NULL,</text>
<text text-anchor="middle" x="4295" y="-456.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (version)</text>
<text text-anchor="middle" x="4295" y="-440.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES version (version_id)</text>
<text text-anchor="middle" x="4295" y="-425.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; ON DELETE RESTRICT</text>
<text text-anchor="middle" x="4295" y="-410.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (project)</text>
<text text-anchor="middle" x="4295" y="-394.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES project (project_id)</text>
<text text-anchor="middle" x="4295" y="-379.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ON DELETE RESTRICT</text>
<text text-anchor="middle" x="4295" y="-363.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (code)</text>
<text text-anchor="middle" x="4295" y="-348.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES code (code_id)</text>
<text text-anchor="middle" x="4295" y="-333.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="4295" y="-317.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_61&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>codeblock_61&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4250.1143,-1281.5107C4254.1884,-1214.6325 4268.6342,-977.5025 4280.051,-790.0919"/>
<polygon fill="#000000" stroke="#000000" points="4283.5462,-790.2754 4280.6609,-780.0811 4276.5592,-789.8497 4283.5462,-790.2754"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="4101,-53.4 4047,-53.4 4047,-17.4 4101,-17.4 4101,-53.4"/>
</g>
<!-- raw_63&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>raw_63&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4074,-526.5745C4074,-450.468 4074,-156.4165 4074,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="4077.5001,-63.5743 4074,-53.5744 4070.5001,-63.5744 4077.5001,-63.5743"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="4771,-562.7008 4489,-562.7008 4489,-526.7008 4771,-526.7008 4771,-562.7008"/>
<text text-anchor="middle" x="4630" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** SQL Loader.commitDeck(conn, deck)</text>
</g>
<!-- header_66&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>header_66&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4567.5503,-1281.5107C4576.0742,-1180.9416 4617.2288,-695.3807 4627.6155,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="4631.1129,-573.0113 4628.4701,-562.7514 4624.138,-572.4201 4631.1129,-573.0113"/>
</g>
<!-- raw_70 -->
<g id="node71" class="node">
<title>raw_70</title>
<ellipse fill="none" stroke="#000000" cx="4816" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="4816" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_67&#45;&gt;raw_70 -->
<g id="edge70" class="edge">
<title>prose_67&#45;&gt;raw_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4785.7509,-1281.5107C4789.8797,-1180.9416 4809.814,-695.3807 4814.845,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="4818.3457,-572.8866 4815.2589,-562.7514 4811.3516,-572.5994 4818.3457,-572.8866"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="5248.5,-982.5023 4861.5,-982.5023 4861.5,-106.8993 5248.5,-106.8993 5248.5,-982.5023"/>
<text text-anchor="middle" x="5055" y="-967.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_project = [[</text>
<text text-anchor="middle" x="5055" y="-952.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO project (name, repo, home, website)</text>
<text text-anchor="middle" x="5055" y="-936.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:name, :repo, :home, :website)</text>
<text text-anchor="middle" x="5055" y="-921.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-889.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_code = [[</text>
<text text-anchor="middle" x="5055" y="-874.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO code (hash, binary)</text>
<text text-anchor="middle" x="5055" y="-859.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:hash, :binary);</text>
<text text-anchor="middle" x="5055" y="-843.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-812.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_version_snapshot = [[</text>
<text text-anchor="middle" x="5055" y="-796.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO version (edition)</text>
<text text-anchor="middle" x="5055" y="-781.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:edition);</text>
<text text-anchor="middle" x="5055" y="-766.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-734.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local add_module = [[</text>
<text text-anchor="middle" x="5055" y="-719.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO module (snapshot, version, name,</text>
<text text-anchor="middle" x="5055" y="-703.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;branch, vc_hash, project, code)</text>
<text text-anchor="middle" x="5055" y="-688.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:snapshot, :version, :name, :branch,</text>
<text text-anchor="middle" x="5055" y="-673.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;:vc_hash, :project, :code);</text>
<text text-anchor="middle" x="5055" y="-657.601" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-626.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_snapshot_version = [[</text>
<text text-anchor="middle" x="5055" y="-610.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (version.version_id AS REAL) FROM version</text>
<text text-anchor="middle" x="5055" y="-595.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE version.edition = &#39;SNAPSHOT&#39;;</text>
<text text-anchor="middle" x="5055" y="-580.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_project_id = [[</text>
<text text-anchor="middle" x="5055" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (project.project_id AS REAL) FROM project</text>
<text text-anchor="middle" x="5055" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE project.name = %s;</text>
<text text-anchor="middle" x="5055" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-471.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_code_id_by_hash = [[</text>
<text text-anchor="middle" x="5055" y="-455.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (code.code_id AS REAL) FROM code</text>
<text text-anchor="middle" x="5055" y="-440.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.hash = %s;</text>
<text text-anchor="middle" x="5055" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_latest_module_code_id = [[</text>
<text text-anchor="middle" x="5055" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (module.code AS REAL) FROM module</text>
<text text-anchor="middle" x="5055" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.project = %d</text>
<text text-anchor="middle" x="5055" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;AND module.name = %s</text>
<text text-anchor="middle" x="5055" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC LIMIT 1;</text>
<text text-anchor="middle" x="5055" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_all_module_ids = [[</text>
<text text-anchor="middle" x="5055" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (module.code AS REAL),</text>
<text text-anchor="middle" x="5055" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;CAST (module.project AS REAL)</text>
<text text-anchor="middle" x="5055" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">FROM module</text>
<text text-anchor="middle" x="5055" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.name = %s</text>
<text text-anchor="middle" x="5055" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC;</text>
<text text-anchor="middle" x="5055" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_latest_module_bytecode = [[</text>
<text text-anchor="middle" x="5055" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT code.binary FROM code</text>
<text text-anchor="middle" x="5055" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.code_id = %d ;</text>
<text text-anchor="middle" x="5055" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_68&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>codeblock_68&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4926.1975,-1281.5107C4933.8528,-1237.7188 4954.269,-1120.9291 4976.6499,-992.8995"/>
<polygon fill="#000000" stroke="#000000" points="4980.1286,-993.3247 4978.403,-982.8714 4973.2332,-992.1193 4980.1286,-993.3247"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="4843,-53.4 4789,-53.4 4789,-17.4 4843,-17.4 4843,-53.4"/>
</g>
<!-- raw_70&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>raw_70&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4816,-526.5745C4816,-450.468 4816,-156.4165 4816,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="4819.5001,-63.5743 4816,-53.5744 4812.5001,-63.5744 4819.5001,-63.5743"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="5289.5,-1317.8021 5028.5,-1317.8021 5028.5,-1281.8021 5289.5,-1281.8021 5289.5,-1317.8021"/>
<text text-anchor="middle" x="5159" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** SQL loader.load(conn, mod_name)</text>
</g>
<!-- header_73&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>header_73&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5142.914,-1616.9808C5145.7101,-1561.8482 5154.1645,-1395.1478 5157.5628,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="5161.0704,-1328.0775 5158.0815,-1317.913 5154.0794,-1327.7229 5161.0704,-1328.0775"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="5335" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="5335" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_74&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_74&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5351.086,-1616.9808C5348.2899,-1561.8482 5339.8355,-1395.1478 5336.4372,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="5339.9206,-1327.7229 5335.9185,-1317.913 5332.9296,-1328.0775 5339.9206,-1327.7229"/>
</g>
<!-- leaf_79 -->
<g id="node80" class="node">
<title>leaf_79</title>
<polygon fill="none" stroke="#c0c0c0" points="5704,-1396.7028 5380,-1396.7028 5380,-1202.9013 5704,-1202.9013 5704,-1396.7028"/>
<text text-anchor="middle" x="5542" y="-1381.3023" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_code_id_for_module_project = [[</text>
<text text-anchor="middle" x="5542" y="-1365.9022" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT</text>
<text text-anchor="middle" x="5542" y="-1350.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;CAST (module.code_id AS REAL) FROM module</text>
<text text-anchor="middle" x="5542" y="-1335.1022" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.project_id = %d</text>
<text text-anchor="middle" x="5542" y="-1319.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;AND module.name = %s</text>
<text text-anchor="middle" x="5542" y="-1304.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC LIMIT 1;</text>
<text text-anchor="middle" x="5542" y="-1288.9021" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5542" y="-1257.502" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_bytecode = [[</text>
<text text-anchor="middle" x="5542" y="-1242.102" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT code.binary FROM code</text>
<text text-anchor="middle" x="5542" y="-1226.702" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.code_id = %d ;</text>
<text text-anchor="middle" x="5542" y="-1211.302" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_75&#45;&gt;leaf_79 -->
<g id="edge79" class="edge">
<title>codeblock_75&#45;&gt;leaf_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5509.828,-1616.9808C5513.7948,-1577.873 5523.4556,-1482.6282 5531.1624,-1406.6487"/>
<polygon fill="#000000" stroke="#000000" points="5534.6608,-1406.8403 5532.1879,-1396.5381 5527.6965,-1406.1338 5534.6608,-1406.8403"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="5577,-572.6023 5267,-572.6023 5267,-516.7993 5577,-516.7993 5577,-572.6023"/>
<text text-anchor="middle" x="5422" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">This has been moved to the pylon preamble.</text>
</g>
<!-- raw_77&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>raw_77&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5337.1075,-1281.5107C5348.4125,-1183.3905 5401.941,-718.7997 5417.6539,-582.4217"/>
<polygon fill="#000000" stroke="#000000" points="5421.1359,-582.7784 5418.8036,-572.4435 5414.1819,-581.9771 5421.1359,-582.7784"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="5913.5,-1317.8021 5722.5,-1317.8021 5722.5,-1281.8021 5913.5,-1281.8021 5913.5,-1317.8021"/>
<text text-anchor="middle" x="5818" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Environment Variables</text>
</g>
<!-- header_80&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>header_80&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5971.8,-1618.1509C5954.8611,-1609.2107 5935.9897,-1596.777 5923,-1581.0027 5858.8692,-1503.1239 5831.686,-1382.2208 5822.2439,-1327.9026"/>
<polygon fill="#000000" stroke="#000000" points="5825.6831,-1327.2476 5820.5863,-1317.9593 5818.7784,-1328.3987 5825.6831,-1327.2476"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="5959" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="5959" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_81&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_81&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6378.8136,-1633.062C6285.8911,-1627.155 6022.0766,-1608.1269 5995,-1581.0027 5926.8904,-1512.7733 5941.9318,-1384.328 5952.7539,-1327.7582"/>
<polygon fill="#000000" stroke="#000000" points="5956.2259,-1328.246 5954.7703,-1317.7516 5949.3638,-1326.8632 5956.2259,-1328.246"/>
</g>
<!-- link_86 -->
<g id="node87" class="node">
<title>link_86</title>
<ellipse fill="none" stroke="#000000" cx="6031" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="6031" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_81&#45;&gt;link_86 -->
<g id="edge86" class="edge">
<title>prose_81&#45;&gt;link_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6378.9462,-1632.155C6297.7159,-1624.6377 6088.6739,-1603.3005 6067,-1581.0027 5999.8045,-1511.8729 6014.3612,-1383.905 6024.9051,-1327.6092"/>
<polygon fill="#000000" stroke="#000000" points="6028.3676,-1328.1412 6026.8708,-1317.6526 6021.5002,-1326.7853 6028.3676,-1328.1412"/>
</g>
<!-- raw_87 -->
<g id="node88" class="node">
<title>raw_87</title>
<ellipse fill="none" stroke="#000000" cx="6103" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="6103" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_81&#45;&gt;raw_87 -->
<g id="edge87" class="edge">
<title>prose_81&#45;&gt;raw_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6378.4855,-1633.1775C6313.5339,-1628.8224 6171.1974,-1615.4899 6139,-1581.0027 6073.3679,-1510.7028 6086.9556,-1383.8861 6097.0649,-1327.7909"/>
<polygon fill="#000000" stroke="#000000" points="6100.5235,-1328.3384 6098.954,-1317.8604 6093.6468,-1327.0302 6100.5235,-1328.3384"/>
</g>
<!-- prespace_88 -->
<g id="node89" class="node">
<title>prespace_88</title>
<ellipse fill="none" stroke="#000000" cx="6194" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6194" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_81&#45;&gt;prespace_88 -->
<g id="edge88" class="edge">
<title>prose_81&#45;&gt;prespace_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6380.7976,-1628.6606C6339.2028,-1619.3173 6267.4358,-1600.8072 6250,-1581.0027 6186.0124,-1508.3223 6186.9355,-1383.7263 6191.068,-1328.0826"/>
<polygon fill="#000000" stroke="#000000" points="6194.5731,-1328.166 6191.919,-1317.909 6187.5975,-1327.5824 6194.5731,-1328.166"/>
</g>
<!-- literal_89 -->
<g id="node90" class="node">
<title>literal_89</title>
<ellipse fill="none" stroke="#000000" cx="6290" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6290" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_81&#45;&gt;literal_89 -->
<g id="edge89" class="edge">
<title>prose_81&#45;&gt;literal_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6384.7268,-1624.4958C6366.3128,-1615.7037 6342.7898,-1601.3102 6330,-1581.0027 6279.3549,-1500.5886 6282.2937,-1381.8814 6286.8407,-1328.111"/>
<polygon fill="#000000" stroke="#000000" points="6290.344,-1328.2375 6287.7864,-1317.9561 6283.3742,-1327.5884 6290.344,-1328.2375"/>
</g>
<!-- raw_90 -->
<g id="node91" class="node">
<title>raw_90</title>
<ellipse fill="none" stroke="#000000" cx="6366" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="6366" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_81&#45;&gt;raw_90 -->
<g id="edge90" class="edge">
<title>prose_81&#45;&gt;raw_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6407.8296,-1617.0294C6406.0227,-1606.5383 6403.7727,-1593.0383 6402,-1581.0027 6388.4027,-1488.6868 6375.2006,-1378.8783 6369.266,-1328.1182"/>
<polygon fill="#000000" stroke="#000000" points="6372.7127,-1327.4567 6368.0797,-1317.9285 6365.7597,-1328.2662 6372.7127,-1327.4567"/>
</g>
<!-- prespace_91 -->
<g id="node92" class="node">
<title>prespace_91</title>
<ellipse fill="none" stroke="#000000" cx="6457" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6457" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_81&#45;&gt;prespace_91 -->
<g id="edge91" class="edge">
<title>prose_81&#45;&gt;prespace_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6413.4732,-1616.9808C6421.0391,-1561.8482 6443.9156,-1395.1478 6453.1111,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="6456.6225,-1328.2961 6454.5146,-1317.913 6449.6875,-1327.3443 6456.6225,-1328.2961"/>
</g>
<!-- literal_92 -->
<g id="node93" class="node">
<title>literal_92</title>
<ellipse fill="none" stroke="#000000" cx="6553" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6553" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_81&#45;&gt;literal_92 -->
<g id="edge92" class="edge">
<title>prose_81&#45;&gt;literal_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6440.2596,-1627.2938C6463.551,-1619.5624 6494.9722,-1605.2469 6512,-1581.0027 6566.7804,-1503.0061 6562.2301,-1382.5869 6556.6997,-1328.1924"/>
<polygon fill="#000000" stroke="#000000" points="6560.1422,-1327.4793 6555.5618,-1317.9257 6553.1848,-1328.2504 6560.1422,-1327.4793"/>
</g>
<!-- raw_93 -->
<g id="node94" class="node">
<title>raw_93</title>
<ellipse fill="none" stroke="#000000" cx="6629" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="6629" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_81&#45;&gt;raw_93 -->
<g id="edge93" class="edge">
<title>prose_81&#45;&gt;raw_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6442.1909,-1629.9376C6488.8541,-1621.6974 6573.4606,-1603.9737 6593,-1581.0027 6655.0345,-1508.0732 6643.578,-1383.6067 6634.4997,-1328.0395"/>
<polygon fill="#000000" stroke="#000000" points="6637.8953,-1327.1354 6632.7382,-1317.8804 6630.9982,-1328.3313 6637.8953,-1327.1354"/>
</g>
<!-- prespace_94 -->
<g id="node95" class="node">
<title>prespace_94</title>
<ellipse fill="none" stroke="#000000" cx="6720" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6720" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_81&#45;&gt;prespace_94 -->
<g id="edge94" class="edge">
<title>prose_81&#45;&gt;prespace_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6443.082,-1632.5202C6504.2779,-1627.1134 6634.3315,-1612.176 6665,-1581.0027 6733.1702,-1511.7102 6729.316,-1384.3629 6723.6722,-1327.9603"/>
<polygon fill="#000000" stroke="#000000" points="6727.1464,-1327.5326 6722.5775,-1317.9735 6720.1881,-1328.2954 6727.1464,-1327.5326"/>
</g>
<!-- literal_95 -->
<g id="node96" class="node">
<title>literal_95</title>
<ellipse fill="none" stroke="#000000" cx="6816" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6816" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_81&#45;&gt;literal_95 -->
<g id="edge95" class="edge">
<title>prose_81&#45;&gt;literal_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6443.0292,-1632.4233C6527.5297,-1625.3199 6751.6233,-1604.4377 6775,-1581.0027 6843.2473,-1512.5849 6831.0601,-1384.2395 6821.5711,-1327.727"/>
<polygon fill="#000000" stroke="#000000" points="6824.9902,-1326.963 6819.7923,-1317.7309 6818.0985,-1328.1895 6824.9902,-1326.963"/>
</g>
<!-- raw_96 -->
<g id="node97" class="node">
<title>raw_96</title>
<ellipse fill="none" stroke="#000000" cx="6892" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="6892" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_81&#45;&gt;raw_96 -->
<g id="edge96" class="edge">
<title>prose_81&#45;&gt;raw_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6443.3252,-1633.3416C6540.7644,-1628.0281 6826.7386,-1610.0724 6856,-1581.0027 6924.3931,-1513.0575 6909.2014,-1384.4615 6898.293,-1327.8053"/>
<polygon fill="#000000" stroke="#000000" points="6901.6783,-1326.8879 6896.2608,-1317.7829 6894.8179,-1328.279 6901.6783,-1326.8879"/>
</g>
<!-- leaf_112 -->
<g id="node113" class="node">
<title>leaf_112</title>
<polygon fill="none" stroke="#c0c0c0" points="7457,-1489.0029 6937,-1489.0029 6937,-1110.6013 7457,-1110.6013 7457,-1489.0029"/>
<text text-anchor="middle" x="7197" y="-1473.7024" font-family="Inconsolata" font-size="14.00" fill="#000000">local home_dir = os.getenv &quot;HOME&quot;</text>
<text text-anchor="middle" x="7197" y="-1458.3024" font-family="Inconsolata" font-size="14.00" fill="#000000">local bridge_modules = os.getenv &quot;BRIDGE_MODULES&quot;</text>
<text text-anchor="middle" x="7197" y="-1426.9024" font-family="Inconsolata" font-size="14.00" fill="#000000">if not bridge_modules then</text>
<text text-anchor="middle" x="7197" y="-1411.5024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local xdg_data_home = os.getenv &quot;XDG_DATA_HOME&quot;</text>
<text text-anchor="middle" x="7197" y="-1396.1023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if xdg_data_home then</text>
<text text-anchor="middle" x="7197" y="-1380.7023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(xdg_data_home .. &quot;/bridge/&quot;) : mkdir()</text>
<text text-anchor="middle" x="7197" y="-1365.3023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bridge_modules = xdg_data_home .. &quot;/bridge/bridge.modules&quot;</text>
<text text-anchor="middle" x="7197" y="-1349.9022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="7197" y="-1334.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; build the whole shebang from scratch, just in case</text>
<text text-anchor="middle" x="7197" y="-1319.1022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; =mkdir= runs =exists= as the first command so this is</text>
<text text-anchor="middle" x="7197" y="-1303.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; sufficiently clear</text>
<text text-anchor="middle" x="7197" y="-1288.3021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local&quot;) : mkdir()</text>
<text text-anchor="middle" x="7197" y="-1272.9021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local/share&quot;) : mkdir()</text>
<text text-anchor="middle" x="7197" y="-1257.502" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local/share/bridge/&quot;) : mkdir()</text>
<text text-anchor="middle" x="7197" y="-1242.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bridge_modules = home_dir .. &quot;/.local/share/bridge/bridge.modules&quot;</text>
<text text-anchor="middle" x="7197" y="-1226.702" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error out if we haven&#39;t made the directory</text>
<text text-anchor="middle" x="7197" y="-1211.302" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local bridge_dir = Dir(home_dir .. &quot;/.local/share/bridge/&quot;)</text>
<text text-anchor="middle" x="7197" y="-1195.9019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not bridge_dir:exists() then</text>
<text text-anchor="middle" x="7197" y="-1180.5019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error (&quot;Could not create ~/.local/share/bridge/,&quot; ..</text>
<text text-anchor="middle" x="7197" y="-1165.1019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;consider defining $BRIDGE_MODULES&quot;)</text>
<text text-anchor="middle" x="7197" y="-1149.7018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="7197" y="-1134.3018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7197" y="-1118.9018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_82&#45;&gt;leaf_112 -->
<g id="edge112" class="edge">
<title>codeblock_82&#45;&gt;leaf_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6878.3281,-1617.7392C6893.4957,-1607.6972 6912.3927,-1594.4063 6928,-1581.0027 6958.3576,-1554.9314 6989.0676,-1525.8712 7018.3418,-1496.6008"/>
<polygon fill="#000000" stroke="#000000" points="7021.178,-1498.7127 7025.7524,-1489.1563 7016.2169,-1493.7743 7021.178,-1498.7127"/>
</g>
<!-- header_113 -->
<g id="node114" class="node">
<title>header_113</title>
<ellipse fill="none" stroke="#000000" cx="7604" cy="-1299.8021" rx="129.115" ry="18"/>
<text text-anchor="middle" x="7604" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : _unwrapForeignKey(result)</text>
</g>
<!-- section_83&#45;&gt;header_113 -->
<g id="edge113" class="edge">
<title>section_83&#45;&gt;header_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7688.215,-1616.9808C7673.5464,-1561.7346 7629.1328,-1394.4599 7611.4145,-1327.7274"/>
<polygon fill="#000000" stroke="#000000" points="7614.7578,-1326.68 7608.8087,-1317.913 7607.9922,-1328.4764 7614.7578,-1326.68"/>
</g>
<!-- prose_114 -->
<g id="node115" class="node">
<title>prose_114</title>
<ellipse fill="none" stroke="#000000" cx="7783" cy="-1299.8021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7783" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_83&#45;&gt;prose_114 -->
<g id="edge114" class="edge">
<title>section_83&#45;&gt;prose_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7713.8046,-1617.5866C7723.9725,-1607.8893 7735.4099,-1594.9705 7742,-1581.0027 7782.2896,-1495.6079 7785.2533,-1380.7297 7784.1827,-1328.1801"/>
<polygon fill="#000000" stroke="#000000" points="7787.675,-1327.847 7783.905,-1317.9457 7780.6776,-1328.037 7787.675,-1327.847"/>
</g>
<!-- codeblock_115 -->
<g id="node116" class="node">
<title>codeblock_115</title>
<ellipse fill="none" stroke="#000000" cx="7921" cy="-1299.8021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7921" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 222&#45;230</text>
</g>
<!-- section_83&#45;&gt;codeblock_115 -->
<g id="edge115" class="edge">
<title>section_83&#45;&gt;codeblock_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7749.4598,-1623.0521C7775.196,-1615.0229 7804.2557,-1601.9439 7824,-1581.0027 7892.9168,-1507.908 7913.1062,-1383.5273 7918.8283,-1328.0109"/>
<polygon fill="#000000" stroke="#000000" points="7922.331,-1328.147 7919.79,-1317.8614 7915.3622,-1327.4866 7922.331,-1328.147"/>
</g>
<!-- leaf_97 -->
<g id="node98" class="node">
<title>leaf_97</title>
<polygon fill="none" stroke="#c0c0c0" points="5723,-572.6023 5595,-572.6023 5595,-516.7993 5723,-516.7993 5723,-572.6023"/>
<text text-anchor="middle" x="5659" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Following the </text>
</g>
<!-- raw_85&#45;&gt;leaf_97 -->
<g id="edge97" class="edge">
<title>raw_85&#45;&gt;leaf_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5963.0052,-1281.7021C5972.807,-1232.1513 5992.35,-1093.0375 5922,-1018.6015 5862.965,-956.1377 5792.0993,-1044.042 5732,-982.6015 5624.129,-872.3233 5640.3111,-666.8062 5652.5054,-582.3847"/>
<polygon fill="#000000" stroke="#000000" points="5655.9703,-582.8792 5654.0011,-572.469 5649.0486,-581.835 5655.9703,-582.8792"/>
</g>
<!-- anchortext_98 -->
<g id="node99" class="node">
<title>anchortext_98</title>
<ellipse fill="none" stroke="#000000" cx="5792" cy="-544.7008" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="5792" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_86&#45;&gt;anchortext_98 -->
<g id="edge98" class="edge">
<title>link_86&#45;&gt;anchortext_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6034.8438,-1281.9278C6044.245,-1232.9536 6062.945,-1095.1769 5995,-1018.6015 5951.5022,-969.5786 5895.7141,-1031.4317 5852,-982.6015 5745.6802,-863.8384 5772.399,-649.4829 5786.255,-572.869"/>
<polygon fill="#000000" stroke="#000000" points="5789.703,-573.4712 5788.1096,-562.9969 5782.8234,-572.1788 5789.703,-573.4712"/>
</g>
<!-- url_99 -->
<g id="node100" class="node">
<title>url_99</title>
<ellipse fill="none" stroke="#000000" cx="5888" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="5888" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_86&#45;&gt;url_99 -->
<g id="edge99" class="edge">
<title>link_86&#45;&gt;url_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6034.0545,-1281.6422C6041.0827,-1233.6856 6053.592,-1101.6478 5995,-1018.6015 5974.6036,-989.6924 5943.7364,-1011.9653 5924,-982.6015 5835.9897,-851.66 5866.6918,-646.465 5881.7332,-572.4691"/>
<polygon fill="#000000" stroke="#000000" points="5885.1908,-573.0343 5883.8228,-562.5282 5878.3405,-571.5943 5885.1908,-573.0343"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="6033,-564.0014 5933,-564.0014 5933,-525.4002 6033,-525.4002 6033,-564.0014"/>
<text text-anchor="middle" x="5983" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">,</text>
<text text-anchor="middle" x="5983" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">we place the</text>
</g>
<!-- raw_87&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>raw_87&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6103.602,-1281.6458C6104.5093,-1235.8402 6103.1301,-1112.544 6067,-1018.6015 6060.0075,-1000.4202 6049.0524,-1000.7597 6042,-982.6015 5985.6005,-837.3877 5981.5535,-647.0035 5982.2908,-574.4908"/>
<polygon fill="#000000" stroke="#000000" points="5985.7934,-574.3262 5982.4357,-564.2775 5978.7941,-574.2268 5985.7934,-574.3262"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="6105,-562.7008 6051,-562.7008 6051,-526.7008 6105,-526.7008 6105,-562.7008"/>
<text text-anchor="middle" x="6078" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_88&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>prespace_88&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6193.0284,-1281.6157C6190.0383,-1235.7405 6178.6211,-1112.2962 6139,-1018.6015 6131.413,-1000.6601 6120.5789,-1000.9366 6114,-982.6015 6061.3151,-835.7716 6069.8304,-644.0863 6075.3883,-572.9076"/>
<polygon fill="#000000" stroke="#000000" points="6078.8781,-573.1748 6076.2122,-562.9209 6071.9018,-572.5992 6078.8781,-573.1748"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6237,-562.7008 6123,-562.7008 6123,-526.7008 6237,-526.7008 6237,-562.7008"/>
<text text-anchor="middle" x="6180" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">bridge.modules</text>
</g>
<!-- literal_89&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>literal_89&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6287.3354,-1281.5107C6272.6849,-1180.9416 6201.9504,-695.3807 6184.0984,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="6187.5346,-572.1424 6182.6295,-562.7514 6180.6077,-573.1516 6187.5346,-572.1424"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="6579,-564.0014 6255,-564.0014 6255,-525.4002 6579,-525.4002 6579,-564.0014"/>
<text text-anchor="middle" x="6417" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> database in a place defined first by a user</text>
<text text-anchor="middle" x="6417" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">environment variable, then by</text>
</g>
<!-- raw_90&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>raw_90&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6367.2354,-1281.5107C6373.9984,-1181.3788 6406.5383,-699.5957 6414.9905,-574.4536"/>
<polygon fill="#000000" stroke="#000000" points="6418.5067,-574.3308 6415.6886,-564.1177 6411.5226,-573.859 6418.5067,-574.3308"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="6651,-562.7008 6597,-562.7008 6597,-526.7008 6651,-526.7008 6651,-562.7008"/>
<text text-anchor="middle" x="6624" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_91&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>prespace_91&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6455.4266,-1281.7867C6452.2036,-1233.6205 6449.83,-1100.0077 6513,-1018.6015 6535.6675,-989.3903 6567.0418,-1013.0624 6588,-982.6015 6677.2227,-852.9241 6645.998,-647.7835 6630.5307,-573.0913"/>
<polygon fill="#000000" stroke="#000000" points="6633.8953,-572.0878 6628.3792,-563.0422 6627.0504,-573.5534 6633.8953,-572.0878"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="6776.5,-562.7008 6669.5,-562.7008 6669.5,-526.7008 6776.5,-526.7008 6776.5,-562.7008"/>
<text text-anchor="middle" x="6723" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG_DATA_HOME</text>
</g>
<!-- literal_92&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>literal_92&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6550.3698,-1281.692C6544.43,-1233.8573 6534.7064,-1102.0918 6593,-1018.6015 6612.352,-990.8848 6640.626,-1010.3028 6660,-982.6015 6750.8365,-852.722 6736.1668,-647.7051 6727.0601,-573.0685"/>
<polygon fill="#000000" stroke="#000000" points="6730.5159,-572.4995 6725.7701,-563.0271 6723.5729,-573.3916 6730.5159,-572.4995"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="7119,-564.0014 6795,-564.0014 6795,-525.4002 7119,-525.4002 7119,-564.0014"/>
<text text-anchor="middle" x="6957" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">, and if neither is defined,</text>
<text text-anchor="middle" x="6957" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">attempt to put it in the default location of</text>
</g>
<!-- raw_93&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>raw_93&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6625.2744,-1281.7346C6616.3209,-1232.86 6598.9477,-1096.493 6665,-1018.6015 6701.0129,-976.1337 6744.0311,-1020.3108 6785,-982.6015 6909.2648,-868.2237 6945.0018,-652.9284 6954.1508,-574.3603"/>
<polygon fill="#000000" stroke="#000000" points="6957.6533,-574.5299 6955.2717,-564.2062 6950.6955,-573.7618 6957.6533,-574.5299"/>
</g>
<!-- leaf_109 -->
<g id="node110" class="node">
<title>leaf_109</title>
<polygon fill="none" stroke="#c0c0c0" points="7191,-562.7008 7137,-562.7008 7137,-526.7008 7191,-526.7008 7191,-562.7008"/>
<text text-anchor="middle" x="7164" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_94&#45;&gt;leaf_109 -->
<g id="edge109" class="edge">
<title>prespace_94&#45;&gt;leaf_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6717.1385,-1281.5642C6710.3612,-1231.0466 6699.2212,-1088.4362 6776,-1018.6015 6834.1682,-965.6943 7072.9558,-1038.7518 7128,-982.6015 7239.1817,-869.1858 7193.3263,-650.5954 7172.3296,-572.9305"/>
<polygon fill="#000000" stroke="#000000" points="7175.6009,-571.6301 7169.5507,-562.9326 7168.8565,-573.5046 7175.6009,-571.6301"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="7316.5,-562.7008 7209.5,-562.7008 7209.5,-526.7008 7316.5,-526.7008 7316.5,-562.7008"/>
<text text-anchor="middle" x="7263" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG_DATA_HOME</text>
</g>
<!-- literal_95&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>literal_95&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6811.9739,-1281.7198C6801.9933,-1231.6059 6781.9665,-1089.9432 6856,-1018.6015 6966.6928,-911.9333 7089.2225,-1089.1818 7200,-982.6015 7315.2412,-871.7267 7284.7017,-651.5442 7269.2823,-573.1962"/>
<polygon fill="#000000" stroke="#000000" points="7272.6525,-572.2066 7267.2236,-563.1084 7265.7939,-573.6063 7272.6525,-572.2066"/>
</g>
<!-- leaf_111 -->
<g id="node112" class="node">
<title>leaf_111</title>
<polygon fill="none" stroke="#c0c0c0" points="7463,-564.0014 7335,-564.0014 7335,-525.4002 7463,-525.4002 7463,-564.0014"/>
<text text-anchor="middle" x="7399" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">, creating it if</text>
<text text-anchor="middle" x="7399" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">necessary.</text>
</g>
<!-- raw_96&#45;&gt;leaf_111 -->
<g id="edge111" class="edge">
<title>raw_96&#45;&gt;leaf_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6887.6268,-1281.7064C6876.7002,-1231.5577 6854.1108,-1089.8135 6928,-1018.6015 6991.7834,-957.1292 7259.9977,-1042.7835 7325,-982.6015 7442.2569,-874.04 7418.1574,-654.2492 7404.7275,-574.4796"/>
<polygon fill="#000000" stroke="#000000" points="7408.0956,-573.4233 7402.9191,-564.1792 7401.2011,-574.6338 7408.0956,-573.4233"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="5719,-53.4 5619,-53.4 5619,-17.4 5719,-17.4 5719,-53.4"/>
<text text-anchor="middle" x="5669" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG Standard</text>
</g>
<!-- anchortext_98&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>anchortext_98&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5793.1412,-526.5771C5796.3086,-464.6743 5800.8712,-257.139 5732,-106.8001 5723.9999,-89.3366 5710.2832,-73.0167 5697.6874,-60.3999"/>
<polygon fill="#000000" stroke="#000000" points="5700.0789,-57.8437 5690.4524,-53.4185 5695.2182,-62.881 5700.0789,-57.8437"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="6285,-53.4 5737,-53.4 5737,-17.4 6285,-17.4 6285,-53.4"/>
<text text-anchor="middle" x="6011" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">https://specifications.freedesktop.org/basedir&#45;spec/basedir&#45;spec&#45;latest.html</text>
</g>
<!-- url_99&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>url_99&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5884.7595,-526.6574C5874.4667,-464.1521 5847.5058,-252.734 5924,-106.8001 5934.1195,-87.4942 5951.9399,-71.4559 5968.828,-59.5033"/>
<polygon fill="#000000" stroke="#000000" points="5971.1989,-62.1257 5977.5288,-53.6296 5967.2822,-56.3239 5971.1989,-62.1257"/>
</g>
<!-- leaf_116 -->
<g id="node117" class="node">
<title>leaf_116</title>
<polygon fill="none" stroke="#c0c0c0" points="7707,-562.7008 7481,-562.7008 7481,-526.7008 7707,-526.7008 7707,-562.7008"/>
<text text-anchor="middle" x="7594" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** _unwrapForeignKey(result)</text>
</g>
<!-- header_113&#45;&gt;leaf_116 -->
<g id="edge116" class="edge">
<title>header_113&#45;&gt;leaf_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7603.7578,-1281.5107C7602.4259,-1180.9416 7595.9955,-695.3807 7594.3726,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="7597.8713,-572.7042 7594.239,-562.7514 7590.8719,-572.797 7597.8713,-572.7042"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="7752" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="7752" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_114&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_114&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7782.2491,-1281.5107C7778.1203,-1180.9416 7758.186,-695.3807 7753.155,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="7756.6484,-572.5994 7752.7411,-562.7514 7749.6543,-572.8866 7756.6484,-572.5994"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="8149,-602.5012 7797,-602.5012 7797,-486.9004 8149,-486.9004 8149,-602.5012"/>
<text text-anchor="middle" x="7973" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _unwrapForeignKey(result)</text>
<text text-anchor="middle" x="7973" y="-572.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if result and result[1] and result[1][1] then</text>
<text text-anchor="middle" x="7973" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return result[1][1]</text>
<text text-anchor="middle" x="7973" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="7973" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return nil</text>
<text text-anchor="middle" x="7973" y="-510.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7973" y="-495.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_115&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>codeblock_115&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7922.2596,-1281.5107C7928.5834,-1189.6826 7957.0111,-776.8779 7968.3294,-612.5239"/>
<polygon fill="#000000" stroke="#000000" points="7971.822,-612.7494 7969.0174,-602.5326 7964.8386,-612.2684 7971.822,-612.7494"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="8029.5,-70.7004 7474.5,-70.7004 7474.5,-.0997 8029.5,-.0997 8029.5,-70.7004"/>
<text text-anchor="middle" x="7752" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Just peeling off layers here. &#160;I realize there are more sophisticated ways to</text>
<text text-anchor="middle" x="7752" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">do almost everything but for now this will get us where we&#39;re going.</text>
</g>
<!-- raw_117&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_117&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7752,-526.5745C7752,-454.7204 7752,-188.5957 7752,-80.9897"/>
<polygon fill="#000000" stroke="#000000" points="7755.5001,-80.7803 7752,-70.7804 7748.5001,-80.7804 7755.5001,-80.7803"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="8161.5,-1317.8021 8026.5,-1317.8021 8026.5,-1281.8021 8161.5,-1281.8021 8161.5,-1317.8021"/>
<text text-anchor="middle" x="8094" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.open()</text>
</g>
<!-- header_120&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>header_120&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8129.957,-1616.9808C8123.7069,-1561.8482 8104.8089,-1395.1478 8097.2126,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="8100.6574,-1327.4551 8096.0531,-1317.913 8093.7019,-1328.2437 8100.6574,-1327.4551"/>
</g>
<!-- raw_124 -->
<g id="node125" class="node">
<title>raw_124</title>
<ellipse fill="none" stroke="#000000" cx="8207" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="8207" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_121&#45;&gt;raw_124 -->
<g id="edge124" class="edge">
<title>prose_121&#45;&gt;raw_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8277.8664,-1620.8418C8265.6713,-1611.105 8250.9758,-1597.0625 8243,-1581.0027 8201.1013,-1496.6373 8201.7291,-1381.2493 8204.715,-1328.3768"/>
<polygon fill="#000000" stroke="#000000" points="8208.2283,-1328.2799 8205.3736,-1318.077 8201.2426,-1327.8332 8208.2283,-1328.2799"/>
</g>
<!-- prespace_125 -->
<g id="node126" class="node">
<title>prespace_125</title>
<ellipse fill="none" stroke="#000000" cx="8298" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="8298" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_121&#45;&gt;prespace_125 -->
<g id="edge125" class="edge">
<title>prose_121&#45;&gt;prespace_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8298,-1616.9808C8298,-1561.8482 8298,-1395.1478 8298,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="8301.5001,-1327.913 8298,-1317.913 8294.5001,-1327.9131 8301.5001,-1327.913"/>
</g>
<!-- literal_126 -->
<g id="node127" class="node">
<title>literal_126</title>
<ellipse fill="none" stroke="#000000" cx="8394" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8394" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_121&#45;&gt;literal_126 -->
<g id="edge126" class="edge">
<title>prose_121&#45;&gt;literal_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8318.0383,-1620.794C8330.1955,-1611.038 8344.8843,-1596.9923 8353,-1581.0027 8395.7353,-1496.8052 8397.4878,-1381.3341 8395.6501,-1328.4089"/>
<polygon fill="#000000" stroke="#000000" points="8399.1337,-1327.9426 8395.2169,-1318.0984 8392.1398,-1328.2365 8399.1337,-1327.9426"/>
</g>
<!-- raw_127 -->
<g id="node128" class="node">
<title>raw_127</title>
<ellipse fill="none" stroke="#000000" cx="8470" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="8470" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_121&#45;&gt;raw_127 -->
<g id="edge127" class="edge">
<title>prose_121&#45;&gt;raw_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8329.9246,-1631.5607C8361.5951,-1626.3405 8408.9205,-1613.312 8434,-1581.0027 8492.567,-1505.5522 8483.0272,-1382.9013 8474.9827,-1327.9688"/>
<polygon fill="#000000" stroke="#000000" points="8478.4145,-1327.26 8473.4143,-1317.9193 8471.4982,-1328.3394 8478.4145,-1327.26"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="8951,-1419.3026 8515,-1419.3026 8515,-1180.3016 8951,-1180.3016 8951,-1419.3026"/>
<text text-anchor="middle" x="8733" y="-1404.1023" font-family="Inconsolata" font-size="14.00" fill="#000000">function Loader.open()</text>
<text text-anchor="middle" x="8733" y="-1388.7023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local new = not (File(bridge_modules) : exists())</text>
<text text-anchor="middle" x="8733" y="-1373.3023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if new then</text>
<text text-anchor="middle" x="8733" y="-1357.9022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;print &quot;creating new bridge.modules&quot;</text>
<text text-anchor="middle" x="8733" y="-1342.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8733" y="-1327.1022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local conn = sql.open(bridge_modules)</text>
<text text-anchor="middle" x="8733" y="-1311.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo: turn on foreign_keys pragma when we add sqlayer</text>
<text text-anchor="middle" x="8733" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if new then</text>
<text text-anchor="middle" x="8733" y="-1280.9021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_version_table)</text>
<text text-anchor="middle" x="8733" y="-1265.502" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_project_table)</text>
<text text-anchor="middle" x="8733" y="-1250.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_code_table)</text>
<text text-anchor="middle" x="8733" y="-1234.702" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_module_table)</text>
<text text-anchor="middle" x="8733" y="-1219.302" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8733" y="-1203.9019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return conn</text>
<text text-anchor="middle" x="8733" y="-1188.5019" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_122&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>codeblock_122&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8592.9571,-1616.9808C8608.5579,-1581.6471 8644.3915,-1500.4887 8675.9042,-1429.1166"/>
<polygon fill="#000000" stroke="#000000" points="8679.2831,-1430.1291 8680.1204,-1419.5674 8672.8795,-1427.3017 8679.2831,-1430.1291"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="8246.5,-572.6023 8167.5,-572.6023 8167.5,-516.7993 8246.5,-516.7993 8246.5,-572.6023"/>
<text text-anchor="middle" x="8207" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">Loads the</text>
</g>
<!-- raw_124&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>raw_124&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8207,-1281.5107C8207,-1183.4888 8207,-719.7304 8207,-582.8326"/>
<polygon fill="#000000" stroke="#000000" points="8210.5001,-582.4434 8207,-572.4435 8203.5001,-582.4435 8210.5001,-582.4434"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="8319,-562.7008 8265,-562.7008 8265,-526.7008 8319,-526.7008 8319,-562.7008"/>
<text text-anchor="middle" x="8292" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>prespace_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8297.8547,-1281.5107C8297.0555,-1180.9416 8293.1973,-695.3807 8292.2235,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="8295.7229,-572.7233 8292.1434,-562.7514 8288.7231,-572.779 8295.7229,-572.7233"/>
</g>
<!-- leaf_130 -->
<g id="node131" class="node">
<title>leaf_130</title>
<polygon fill="none" stroke="#c0c0c0" points="8451,-562.7008 8337,-562.7008 8337,-526.7008 8451,-526.7008 8451,-562.7008"/>
<text text-anchor="middle" x="8394" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">bridge.modules</text>
</g>
<!-- literal_126&#45;&gt;leaf_130 -->
<g id="edge130" class="edge">
<title>literal_126&#45;&gt;leaf_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8394,-1281.5107C8394,-1180.9416 8394,-695.3807 8394,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="8397.5001,-572.7514 8394,-562.7514 8390.5001,-572.7515 8397.5001,-572.7514"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="8793,-562.7008 8469,-562.7008 8469,-526.7008 8793,-526.7008 8793,-562.7008"/>
<text text-anchor="middle" x="8631" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> database and returns the SQLite connection.</text>
</g>
<!-- raw_127&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>raw_127&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8471.5021,-1281.5768C8475.3878,-1236.6134 8486.8273,-1116.908 8506,-1018.6015 8539.4551,-847.0633 8599.6938,-645.7167 8622.2006,-572.8214"/>
<polygon fill="#000000" stroke="#000000" points="8625.6219,-573.6052 8625.2398,-563.0173 8618.9358,-571.5325 8625.6219,-573.6052"/>
</g>
<!-- leaf_138 -->
<g id="node139" class="node">
<title>leaf_138</title>
<polygon fill="none" stroke="#c0c0c0" points="9344.5,-1317.8021 9013.5,-1317.8021 9013.5,-1281.8021 9344.5,-1281.8021 9344.5,-1317.8021"/>
<text text-anchor="middle" x="9179" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.commitModule(conn, bytecode, deck)</text>
</g>
<!-- header_133&#45;&gt;leaf_138 -->
<g id="edge138" class="edge">
<title>header_133&#45;&gt;leaf_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9189.4086,-1616.9808C9187.5994,-1561.8482 9182.1289,-1395.1478 9179.93,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="9183.4205,-1327.7928 9179.5943,-1317.913 9176.4243,-1328.0225 9183.4205,-1327.7928"/>
</g>
<!-- raw_139 -->
<g id="node140" class="node">
<title>raw_139</title>
<ellipse fill="none" stroke="#000000" cx="9390" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="9390" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_134&#45;&gt;raw_139 -->
<g id="edge139" class="edge">
<title>prose_134&#45;&gt;raw_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9446.9345,-1618.4866C9439.5573,-1608.2713 9430.8657,-1594.5579 9426,-1581.0027 9394.2538,-1492.5608 9389.8362,-1379.6347 9389.6418,-1327.9346"/>
<polygon fill="#000000" stroke="#000000" points="9393.1418,-1327.8675 9389.6561,-1317.8625 9386.1418,-1327.8574 9393.1418,-1327.8675"/>
</g>
<!-- raw_141 -->
<g id="node142" class="node">
<title>raw_141</title>
<ellipse fill="none" stroke="#000000" cx="9462" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="9462" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_135&#45;&gt;raw_141 -->
<g id="edge141" class="edge">
<title>prose_135&#45;&gt;raw_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9532.8664,-1620.8418C9520.6713,-1611.105 9505.9758,-1597.0625 9498,-1581.0027 9456.1013,-1496.6373 9456.7291,-1381.2493 9459.715,-1328.3768"/>
<polygon fill="#000000" stroke="#000000" points="9463.2283,-1328.2799 9460.3736,-1318.077 9456.2426,-1327.8332 9463.2283,-1328.2799"/>
</g>
<!-- prespace_142 -->
<g id="node143" class="node">
<title>prespace_142</title>
<ellipse fill="none" stroke="#000000" cx="9553" cy="-1299.8021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="9553" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_135&#45;&gt;prespace_142 -->
<g id="edge142" class="edge">
<title>prose_135&#45;&gt;prespace_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9553,-1616.9808C9553,-1561.8482 9553,-1395.1478 9553,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="9556.5001,-1327.913 9553,-1317.913 9549.5001,-1327.9131 9556.5001,-1327.913"/>
</g>
<!-- literal_143 -->
<g id="node144" class="node">
<title>literal_143</title>
<ellipse fill="none" stroke="#000000" cx="9649" cy="-1299.8021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="9649" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_135&#45;&gt;literal_143 -->
<g id="edge143" class="edge">
<title>prose_135&#45;&gt;literal_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9573.0383,-1620.794C9585.1955,-1611.038 9599.8843,-1596.9923 9608,-1581.0027 9650.7353,-1496.8052 9652.4878,-1381.3341 9650.6501,-1328.4089"/>
<polygon fill="#000000" stroke="#000000" points="9654.1337,-1327.9426 9650.2169,-1318.0984 9647.1398,-1328.2365 9654.1337,-1327.9426"/>
</g>
<!-- raw_144 -->
<g id="node145" class="node">
<title>raw_144</title>
<ellipse fill="none" stroke="#000000" cx="9725" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="9725" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_135&#45;&gt;raw_144 -->
<g id="edge144" class="edge">
<title>prose_135&#45;&gt;raw_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9584.9246,-1631.5607C9616.5951,-1626.3405 9663.9205,-1613.312 9689,-1581.0027 9747.567,-1505.5522 9738.0272,-1382.9013 9729.9827,-1327.9688"/>
<polygon fill="#000000" stroke="#000000" points="9733.4145,-1327.26 9728.4143,-1317.9193 9726.4982,-1328.3394 9733.4145,-1327.26"/>
</g>
<!-- leaf_149 -->
<g id="node150" class="node">
<title>leaf_149</title>
<polygon fill="none" stroke="#c0c0c0" points="10283.5,-1457.9029 9770.5,-1457.9029 9770.5,-1141.7012 10283.5,-1141.7012 10283.5,-1457.9029"/>
<text text-anchor="middle" x="10027" y="-1442.9024" font-family="Inconsolata" font-size="14.00" fill="#000000">local function commitModule(conn, bytecode, project_id, version_id)</text>
<text text-anchor="middle" x="10027" y="-1427.5024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; upsert code.binary and code.hash</text>
<text text-anchor="middle" x="10027" y="-1412.1023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(new_code):bindkv(bytecode):step()</text>
<text text-anchor="middle" x="10027" y="-1396.7023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; select code_id</text>
<text text-anchor="middle" x="10027" y="-1381.3023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local code_id = _unwrapForeignKey(conn:exec(</text>
<text text-anchor="middle" x="10027" y="-1365.9022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sql.format(get_code_id_by_hash,</text>
<text text-anchor="middle" x="10027" y="-1350.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bytecode.hash)))</text>
<text text-anchor="middle" x="10027" y="-1335.1022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not code_id then</text>
<text text-anchor="middle" x="10027" y="-1319.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;error(&quot;code_id not found for &quot; .. bytecode.name)</text>
<text text-anchor="middle" x="10027" y="-1304.3021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10027" y="-1288.9021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local mod = { name = bytecode.name,</text>
<text text-anchor="middle" x="10027" y="-1273.502" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;project = project_id,</text>
<text text-anchor="middle" x="10027" y="-1258.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_id = code_id,</text>
<text text-anchor="middle" x="10027" y="-1242.702" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;snapshot = version_id,</text>
<text text-anchor="middle" x="10027" y="-1227.302" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;vc_hash = &quot;&quot;,</text>
<text text-anchor="middle" x="10027" y="-1211.9019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;version = version_id }</text>
<text text-anchor="middle" x="10027" y="-1196.5019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(add_module):bindkv(mod):step()</text>
<text text-anchor="middle" x="10027" y="-1181.1019" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10027" y="-1149.7018" font-family="Inconsolata" font-size="14.00" fill="#000000">Loader.commitModule = commitModule</text>
</g>
<!-- codeblock_136&#45;&gt;leaf_149 -->
<g id="edge149" class="edge">
<title>codeblock_136&#45;&gt;leaf_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9868.0324,-1616.9808C9882.6185,-1587.878 9912.7856,-1527.6874 9942.9596,-1467.4829"/>
<polygon fill="#000000" stroke="#000000" points="9946.2528,-1468.7235 9947.6045,-1458.2153 9939.9948,-1465.587 9946.2528,-1468.7235"/>
</g>
<!-- header_150 -->
<g id="node151" class="node">
<title>header_150</title>
<ellipse fill="none" stroke="#000000" cx="10429" cy="-1299.8021" rx="127.6701" ry="18"/>
<text text-anchor="middle" x="10429" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : _newProject(conn, project)</text>
</g>
<!-- section_137&#45;&gt;header_150 -->
<g id="edge150" class="edge">
<title>section_137&#45;&gt;header_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10513.215,-1616.9808C10498.5464,-1561.7346 10454.1328,-1394.4599 10436.4145,-1327.7274"/>
<polygon fill="#000000" stroke="#000000" points="10439.7578,-1326.68 10433.8087,-1317.913 10432.9922,-1328.4764 10439.7578,-1326.68"/>
</g>
<!-- prose_151 -->
<g id="node152" class="node">
<title>prose_151</title>
<ellipse fill="none" stroke="#000000" cx="10607" cy="-1299.8021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10607" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_137&#45;&gt;prose_151 -->
<g id="edge151" class="edge">
<title>section_137&#45;&gt;prose_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10538.3775,-1617.5087C10548.3372,-1607.7901 10559.5413,-1594.8758 10566,-1581.0027 10605.8515,-1495.4025 10609.0321,-1380.626 10608.0989,-1328.1409"/>
<polygon fill="#000000" stroke="#000000" points="10611.5925,-1327.8309 10607.8491,-1317.9195 10604.5946,-1328.0021 10611.5925,-1327.8309"/>
</g>
<!-- codeblock_152 -->
<g id="node153" class="node">
<title>codeblock_152</title>
<ellipse fill="none" stroke="#000000" cx="10745" cy="-1299.8021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10745" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 290&#45;299</text>
</g>
<!-- section_137&#45;&gt;codeblock_152 -->
<g id="edge152" class="edge">
<title>section_137&#45;&gt;codeblock_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10574.362,-1622.8513C10599.8216,-1614.7916 10628.4964,-1601.7448 10648,-1581.0027 10716.8177,-1507.8147 10737.0586,-1383.4826 10742.8112,-1327.9948"/>
<polygon fill="#000000" stroke="#000000" points="10746.3133,-1328.1378 10743.7786,-1317.8507 10739.3449,-1327.4732 10746.3133,-1328.1378"/>
</g>
<!-- leaf_140 -->
<g id="node141" class="node">
<title>leaf_140</title>
<polygon fill="none" stroke="#c0c0c0" points="9163,-572.6023 8811,-572.6023 8811,-516.7993 9163,-516.7993 9163,-572.6023"/>
<text text-anchor="middle" x="8987" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">Commits a single module and associated bytecode.</text>
</g>
<!-- raw_139&#45;&gt;leaf_140 -->
<g id="edge140" class="edge">
<title>raw_139&#45;&gt;leaf_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9393.9695,-1281.7357C9403.68,-1232.2708 9423.0114,-1093.3561 9353,-1018.6015 9296.9333,-958.7364 9235.5853,-1034.411 9172,-982.6015 9043.6339,-878.0086 9002.8439,-668.3936 8991.2043,-582.6144"/>
<polygon fill="#000000" stroke="#000000" points="8994.6552,-582.0096 8989.8957,-572.544 8987.7136,-582.9116 8994.6552,-582.0096"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="9743,-579.9012 9181,-579.9012 9181,-509.5004 9743,-509.5004 9743,-579.9012"/>
<text text-anchor="middle" x="9462" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">It might be smarter to fetch all hashes associated with the project first, and</text>
<text text-anchor="middle" x="9462" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">only commit ones which aren&#39;t on the list, but it&#39;s definitely easier to just</text>
<text text-anchor="middle" x="9462" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">commit everything and let the</text>
</g>
<!-- raw_141&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>raw_141&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9462,-1281.5107C9462,-1185.2697 9462,-736.4613 9462,-590.6139"/>
<polygon fill="#000000" stroke="#000000" points="9465.5001,-590.2438 9462,-580.2439 9458.5001,-590.2439 9465.5001,-590.2438"/>
</g>
<!-- leaf_146 -->
<g id="node147" class="node">
<title>leaf_146</title>
<polygon fill="none" stroke="#c0c0c0" points="9815,-562.7008 9761,-562.7008 9761,-526.7008 9815,-526.7008 9815,-562.7008"/>
<text text-anchor="middle" x="9788" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_142&#45;&gt;leaf_146 -->
<g id="edge146" class="edge">
<title>prespace_142&#45;&gt;leaf_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9550.6419,-1281.7639C9545.272,-1232.371 9537.642,-1093.6234 9609,-1018.6015 9654.1687,-971.1137 9709.6237,-1032.5971 9752,-982.6015 9854.4566,-861.7232 9814.3416,-648.6852 9795.571,-572.6434"/>
<polygon fill="#000000" stroke="#000000" points="9798.9366,-571.6764 9793.0811,-562.8467 9792.1523,-573.4007 9798.9366,-571.6764"/>
</g>
<!-- leaf_147 -->
<g id="node148" class="node">
<title>leaf_147</title>
<polygon fill="none" stroke="#c0c0c0" points="9975,-562.7008 9833,-562.7008 9833,-526.7008 9975,-526.7008 9975,-562.7008"/>
<text text-anchor="middle" x="9904" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">ON CONFLICT IGNORE</text>
</g>
<!-- literal_143&#45;&gt;leaf_147 -->
<g id="edge147" class="edge">
<title>literal_143&#45;&gt;leaf_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9645.4508,-1281.5886C9636.9893,-1232.3464 9621.0906,-1095.1375 9689,-1018.6015 9730.2132,-972.1529 9781.8799,-1028.2293 9824,-982.6015 9932.6708,-864.881 9917.8019,-650.6634 9908.2133,-573.4276"/>
<polygon fill="#000000" stroke="#000000" points="9911.6235,-572.5135 9906.8522,-563.0539 9904.6829,-573.4242 9911.6235,-572.5135"/>
</g>
<!-- leaf_148 -->
<g id="node149" class="node">
<title>leaf_148</title>
<polygon fill="none" stroke="#c0c0c0" points="10156.5,-562.7008 9993.5,-562.7008 9993.5,-526.7008 10156.5,-526.7008 10156.5,-562.7008"/>
<text text-anchor="middle" x="10075" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> prevent duplication.</text>
</g>
<!-- raw_144&#45;&gt;leaf_148 -->
<g id="edge148" class="edge">
<title>raw_144&#45;&gt;leaf_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9720.8874,-1281.9676C9710.6365,-1232.496 9689.634,-1092.342 9761,-1018.6015 9830.8185,-946.4601 9911.4369,-1051.9817 9984,-982.6015 10100.8519,-870.8751 10087.8243,-651.2262 10078.8874,-573.1072"/>
<polygon fill="#000000" stroke="#000000" points="10082.3462,-572.5552 10077.6674,-563.0495 10075.3971,-573.3982 10082.3462,-572.5552"/>
</g>
<!-- leaf_153 -->
<g id="node154" class="node">
<title>leaf_153</title>
<polygon fill="none" stroke="#c0c0c0" points="10545.5,-562.7008 10312.5,-562.7008 10312.5,-526.7008 10545.5,-526.7008 10545.5,-562.7008"/>
<text text-anchor="middle" x="10429" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** _newProject(conn, project)</text>
</g>
<!-- header_150&#45;&gt;leaf_153 -->
<g id="edge153" class="edge">
<title>header_150&#45;&gt;leaf_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10429,-1281.5107C10429,-1180.9416 10429,-695.3807 10429,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="10432.5001,-572.7514 10429,-562.7514 10425.5001,-572.7515 10432.5001,-572.7514"/>
</g>
<!-- raw_154 -->
<g id="node155" class="node">
<title>raw_154</title>
<ellipse fill="none" stroke="#000000" cx="10599" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="10599" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_151&#45;&gt;raw_154 -->
<g id="edge154" class="edge">
<title>prose_151&#45;&gt;raw_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10606.8062,-1281.5107C10605.7407,-1180.9416 10600.5964,-695.3807 10599.2981,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="10602.7971,-572.7138 10599.1912,-562.7514 10595.7975,-572.788 10602.7971,-572.7138"/>
</g>
<!-- leaf_156 -->
<g id="node157" class="node">
<title>leaf_156</title>
<polygon fill="none" stroke="#c0c0c0" points="11017.5,-610.4012 10644.5,-610.4012 10644.5,-479.0004 11017.5,-479.0004 11017.5,-610.4012"/>
<text text-anchor="middle" x="10831" y="-595.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _newProject(conn, project)</text>
<text text-anchor="middle" x="10831" y="-579.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;assert(project.name, &quot;project must have a name&quot;)</text>
<text text-anchor="middle" x="10831" y="-564.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.repo = project.repo or &quot;&quot;</text>
<text text-anchor="middle" x="10831" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.home = project.home or &quot;&quot;</text>
<text text-anchor="middle" x="10831" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.website = project.website or &quot;&quot;</text>
<text text-anchor="middle" x="10831" y="-518.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(new_project):bindkv(project):step()</text>
<text text-anchor="middle" x="10831" y="-502.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return true</text>
<text text-anchor="middle" x="10831" y="-487.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_152&#45;&gt;leaf_156 -->
<g id="edge156" class="edge">
<title>codeblock_152&#45;&gt;leaf_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10747.0832,-1281.5107C10757.3773,-1191.1267 10803.0872,-789.7819 10822.3717,-620.4598"/>
<polygon fill="#000000" stroke="#000000" points="10825.8657,-620.7098 10823.5199,-610.3779 10818.9107,-619.9176 10825.8657,-620.7098"/>
</g>
<!-- leaf_155 -->
<g id="node156" class="node">
<title>leaf_155</title>
<polygon fill="none" stroke="#c0c0c0" points="10626,-53.4 10572,-53.4 10572,-17.4 10626,-17.4 10626,-53.4"/>
</g>
<!-- raw_154&#45;&gt;leaf_155 -->
<g id="edge155" class="edge">
<title>raw_154&#45;&gt;leaf_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10599,-526.5745C10599,-450.468 10599,-156.4165 10599,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="10602.5001,-63.5743 10599,-53.5744 10595.5001,-63.5744 10602.5001,-63.5743"/>
</g>
<!-- leaf_161 -->
<g id="node162" class="node">
<title>leaf_161</title>
<polygon fill="none" stroke="#c0c0c0" points="11111.5,-1317.8021 10850.5,-1317.8021 10850.5,-1281.8021 11111.5,-1281.8021 11111.5,-1317.8021"/>
<text text-anchor="middle" x="10981" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.commitCodex(conn, codex)</text>
</g>
<!-- header_157&#45;&gt;leaf_161 -->
<g id="edge161" class="edge">
<title>header_157&#45;&gt;leaf_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10981,-1616.9808C10981,-1561.8482 10981,-1395.1478 10981,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="10984.5001,-1327.913 10981,-1317.913 10977.5001,-1327.9131 10984.5001,-1327.913"/>
</g>
<!-- raw_162 -->
<g id="node163" class="node">
<title>raw_162</title>
<ellipse fill="none" stroke="#000000" cx="11157" cy="-1299.8021" rx="27" ry="18"/>
<text text-anchor="middle" x="11157" y="-1295.6021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_158&#45;&gt;raw_162 -->
<g id="edge162" class="edge">
<title>prose_158&#45;&gt;raw_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11189.172,-1616.9808C11183.5798,-1561.8482 11166.6711,-1395.1478 11159.8744,-1328.1406"/>
<polygon fill="#000000" stroke="#000000" points="11163.3284,-1327.5088 11158.837,-1317.913 11156.3641,-1328.2152 11163.3284,-1327.5088"/>
</g>
<!-- leaf_164 -->
<g id="node165" class="node">
<title>leaf_164</title>
<polygon fill="none" stroke="#c0c0c0" points="11736,-1581.2034 11202,-1581.2034 11202,-1018.4008 11736,-1018.4008 11736,-1581.2034"/>
<text text-anchor="middle" x="11469" y="-1565.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">function Loader.commitCodex(conn, codex)</text>
<text text-anchor="middle" x="11469" y="-1550.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; begin transaction</text>
<text text-anchor="middle" x="11469" y="-1535.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec &quot;BEGIN TRANSACTION;&quot;</text>
<text text-anchor="middle" x="11469" y="-1519.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; currently we&#39;re only making snapshots, so let&#39;s create the</text>
<text text-anchor="middle" x="11469" y="-1504.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; snapshot version if we don&#39;t have it.</text>
<text text-anchor="middle" x="11469" y="-1488.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local version_id = _unwrapForeignKey(conn:exec(get_snapshot_version))</text>
<text text-anchor="middle" x="11469" y="-1473.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not version_id then</text>
<text text-anchor="middle" x="11469" y="-1458.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn : prepare(new_version_snapshot) : bindkv {edition = &quot;SNAPSHOT&quot;}</text>
<text text-anchor="middle" x="11469" y="-1442.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;: step()</text>
<text text-anchor="middle" x="11469" y="-1427.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;version_id = _unwrapForeignKey(conn:exec(get_snapshot_version))</text>
<text text-anchor="middle" x="11469" y="-1411.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not version_id then</text>
<text text-anchor="middle" x="11469" y="-1396.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error &quot;didn&#39;t make a SNAPSHOT&quot;</text>
<text text-anchor="middle" x="11469" y="-1381.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11469" y="-1365.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11469" y="-1350.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; upsert project</text>
<text text-anchor="middle" x="11469" y="-1334.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; select project_id</text>
<text text-anchor="middle" x="11469" y="-1319.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local get_proj = sql.format(get_project_id, codex.project)</text>
<text text-anchor="middle" x="11469" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local project_id = _unwrapForeignKey(conn:exec(get_proj))</text>
<text text-anchor="middle" x="11469" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if project_id then</text>
<text text-anchor="middle" x="11469" y="-1273.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;print (&quot;project_id is &quot; .. project_id)</text>
<text text-anchor="middle" x="11469" y="-1257.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="11469" y="-1242.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;_newProject(conn, {name = codex.project})</text>
<text text-anchor="middle" x="11469" y="-1227.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;project_id = _unwrapForeignKey(conn:exec(get_proj))</text>
<text text-anchor="middle" x="11469" y="-1211.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not project_id then</text>
<text text-anchor="middle" x="11469" y="-1196.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error (&quot;failed to create project &quot; .. codex.project)</text>
<text text-anchor="middle" x="11469" y="-1180.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11469" y="-1165.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11469" y="-1150.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; This for now will just</text>
<text text-anchor="middle" x="11469" y="-1134.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;print (&quot;version_id is &quot; .. version_id)</text>
<text text-anchor="middle" x="11469" y="-1119.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for _, bytecode in pairs(codex.bytecodes) do</text>
<text text-anchor="middle" x="11469" y="-1103.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;commitModule(conn, bytecode, project_id, version_id)</text>
<text text-anchor="middle" x="11469" y="-1088.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11469" y="-1073.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; commit transaction</text>
<text text-anchor="middle" x="11469" y="-1057.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec &quot;COMMIT;&quot;</text>
<text text-anchor="middle" x="11469" y="-1042.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return conn</text>
<text text-anchor="middle" x="11469" y="-1026.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_159&#45;&gt;leaf_164 -->
<g id="edge164" class="edge">
<title>codeblock_159&#45;&gt;leaf_164</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11402.7635,-1616.9808C11404.2161,-1610.0248 11406.0396,-1601.2929 11408.1454,-1591.2092"/>
<polygon fill="#000000" stroke="#000000" points="11411.6297,-1591.6454 11410.2479,-1581.1411 11404.7776,-1590.2144 11411.6297,-1591.6454"/>
</g>
<!-- leaf_165 -->
<g id="node166" class="node">
<title>leaf_165</title>
<polygon fill="none" stroke="#c0c0c0" points="11861.5,-1317.8021 11754.5,-1317.8021 11754.5,-1281.8021 11861.5,-1281.8021 11861.5,-1317.8021"/>
<text text-anchor="middle" x="11808" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">return Loader</text>
</g>
<!-- codeblock_160&#45;&gt;leaf_165 -->
<g id="edge165" class="edge">
<title>codeblock_160&#45;&gt;leaf_165</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11718.6747,-1617.0843C11727.8945,-1607.2495 11738.4228,-1594.3594 11745,-1581.0027 11787.2995,-1495.1023 11801.5639,-1380.4744 11806.0698,-1328.0835"/>
<polygon fill="#000000" stroke="#000000" points="11809.5773,-1328.1295 11806.8898,-1317.8812 11802.5998,-1327.5686 11809.5773,-1328.1295"/>
</g>
<!-- leaf_163 -->
<g id="node164" class="node">
<title>leaf_163</title>
<polygon fill="none" stroke="#c0c0c0" points="11184,-562.7008 11130,-562.7008 11130,-526.7008 11184,-526.7008 11184,-562.7008"/>
</g>
<!-- raw_162&#45;&gt;leaf_163 -->
<g id="edge163" class="edge">
<title>raw_162&#45;&gt;leaf_163</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11157,-1281.5107C11157,-1180.9416 11157,-695.3807 11157,-572.8346"/>
<polygon fill="#000000" stroke="#000000" points="11160.5001,-572.7514 11157,-562.7514 11153.5001,-572.7515 11160.5001,-572.7514"/>
</g>
</g>
</svg>
