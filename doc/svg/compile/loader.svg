<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="12632pt" height="1674pt"
 viewBox="0.00 0.00 12631.50 1673.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1669.8024)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1669.8024 12627.5,-1669.8024 12627.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="5207" cy="-1647.8024" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="5207" y="-1643.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 361</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="5207" cy="-1575.8024" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="5207" y="-1571.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;338</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5207,-1629.6338C5207,-1621.9334 5207,-1612.7767 5207,-1604.219"/>
<polygon fill="#000000" stroke="#000000" points="5210.5001,-1604.2156 5207,-1594.2157 5203.5001,-1604.2157 5210.5001,-1604.2156"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="726" cy="-1503.8024" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="726" y="-1499.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : loader</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5141.3427,-1575.4602C4631.0124,-1572.738 1306.412,-1553.859 862,-1521.8024 834.6489,-1519.8295 804.3906,-1515.9902 779.3725,-1512.3625"/>
<polygon fill="#000000" stroke="#000000" points="779.7559,-1508.8812 769.3515,-1510.8805 778.7318,-1515.8059 779.7559,-1508.8812"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="903" cy="-1503.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="903" y="-1499.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5140.9731,-1575.3459C4620.9557,-1571.7022 1199.3082,-1546.8314 984,-1521.8024 970.0888,-1520.1853 955.0618,-1517.2005 941.7727,-1514.12"/>
<polygon fill="#000000" stroke="#000000" points="942.5379,-1510.7042 931.9964,-1511.7667 940.8996,-1517.5099 942.5379,-1510.7042"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1025" cy="-1503.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1025" y="-1499.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5141.3108,-1574.6715C4643.4307,-1566.0996 1472.68,-1511.51 1067.5708,-1504.5353"/>
<polygon fill="#000000" stroke="#000000" points="1067.5094,-1501.0339 1057.4506,-1504.3611 1067.3888,-1508.0328 1067.5094,-1501.0339"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="2438" cy="-1503.8024" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2438" y="-1499.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 10&#45;30</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5141.6213,-1574.1024C4768.6877,-1564.4053 2912.8805,-1516.1503 2513.7149,-1505.7712"/>
<polygon fill="#000000" stroke="#000000" points="2513.53,-1502.2653 2503.4424,-1505.504 2513.348,-1509.2629 2513.53,-1502.2653"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="3412" cy="-1503.8024" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3412" y="-1499.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 31&#45;81</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5141.7882,-1573.1867C4864.4661,-1562.0629 3783.8107,-1518.7163 3487.5026,-1506.8309"/>
<polygon fill="#000000" stroke="#000000" points="3487.4278,-1503.3252 3477.2955,-1506.4215 3487.1472,-1510.3196 3487.4278,-1503.3252"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="4709" cy="-1503.8024" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4709" y="-1499.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 125&#45;142</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5148.8984,-1567.4022C5058.3577,-1554.3119 4883.6593,-1529.0544 4783.8188,-1514.6196"/>
<polygon fill="#000000" stroke="#000000" points="4784.2014,-1511.1386 4773.8035,-1513.1716 4783.1997,-1518.0666 4784.2014,-1511.1386"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="5657" cy="-1503.8024" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5657" y="-1499.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 143&#45;178</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5263.9928,-1566.6836C5345.2906,-1553.6759 5494.5773,-1529.79 5583.9124,-1515.4964"/>
<polygon fill="#000000" stroke="#000000" points="5584.6453,-1518.9238 5593.9667,-1513.8877 5583.5393,-1512.0117 5584.6453,-1518.9238"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="7461" cy="-1503.8024" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7461" y="-1499.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 195&#45;216</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5272.3286,-1573.7156C5594.38,-1563.4282 7012.0735,-1518.1426 7375.7476,-1506.5256"/>
<polygon fill="#000000" stroke="#000000" points="7376.0584,-1510.0176 7385.9415,-1506.2 7375.8349,-1503.0212 7376.0584,-1510.0176"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="8703" cy="-1503.8024" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8703" y="-1499.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 217&#45;248</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5272.5633,-1574.4521C5703.5799,-1565.5754 8128.8185,-1515.6277 8617.2768,-1505.5679"/>
<polygon fill="#000000" stroke="#000000" points="8617.5031,-1509.064 8627.4289,-1505.3588 8617.3589,-1502.0655 8617.5031,-1509.064"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="10271" cy="-1503.8024" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10271" y="-1499.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 263&#45;291</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5272.8798,-1574.8657C5817.3024,-1567.1251 9567.6047,-1513.8033 10185.0409,-1505.0246"/>
<polygon fill="#000000" stroke="#000000" points="10185.2507,-1508.522 10195.1999,-1504.8801 10185.1511,-1501.5227 10185.2507,-1508.522"/>
</g>
<!-- section_12 -->
<g id="node13" class="node">
<title>section_12</title>
<ellipse fill="none" stroke="#000000" cx="11063" cy="-1503.8024" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11063" y="-1499.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 292&#45;338</text>
</g>
<!-- section_1&#45;&gt;section_12 -->
<g id="edge12" class="edge">
<title>section_1&#45;&gt;section_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5272.709,-1575.4838C5712.2141,-1573.2758 8271.108,-1559.22 10355,-1521.8024 10579.9529,-1517.7632 10845.045,-1510.302 10977.9654,-1506.3743"/>
<polygon fill="#000000" stroke="#000000" points="10978.1898,-1509.8693 10988.0818,-1506.0747 10977.9825,-1502.8724 10978.1898,-1509.8693"/>
</g>
<!-- section_13 -->
<g id="node14" class="node">
<title>section_13</title>
<ellipse fill="none" stroke="#000000" cx="12023" cy="-1503.8024" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="12023" y="-1499.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 339&#45;361</text>
</g>
<!-- section_1&#45;&gt;section_13 -->
<g id="edge13" class="edge">
<title>section_1&#45;&gt;section_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5272.9524,-1575.4895C5750.3315,-1573.165 8726.3064,-1557.6745 11147,-1521.8024 11437.0344,-1517.5044 11781.0295,-1509.6222 11937.6745,-1505.8801"/>
<polygon fill="#000000" stroke="#000000" points="11937.8056,-1509.3781 11947.7189,-1505.6397 11937.638,-1502.3801 11937.8056,-1509.3781"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="721,-1449.8024 649,-1449.8024 649,-1413.8024 721,-1413.8024 721,-1449.8024"/>
<text text-anchor="middle" x="685" y="-1428.3024" font-family="Inconsolata" font-size="14.00" fill="#000000">* loader</text>
</g>
<!-- header_2&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>header_2&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M715.8652,-1486.0046C711.1699,-1477.7593 705.4902,-1467.7852 700.2897,-1458.6525"/>
<polygon fill="#000000" stroke="#000000" points="703.2929,-1456.8534 695.303,-1449.8955 697.21,-1460.3173 703.2929,-1456.8534"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="766" cy="-1431.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="766" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_3&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M879.4489,-1491.4252C856.5196,-1479.3748 821.5601,-1461.0019 796.5117,-1447.8378"/>
<polygon fill="#000000" stroke="#000000" points="797.923,-1444.6256 787.4427,-1443.0716 794.6664,-1450.822 797.923,-1444.6256"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="838" cy="-1431.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="838" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_4&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M996.7815,-1494.8396C966.1521,-1484.851 915.9919,-1467.7321 874,-1449.8024 872.2167,-1449.041 870.3969,-1448.2331 868.5697,-1447.3978"/>
<polygon fill="#000000" stroke="#000000" points="870.0375,-1444.2202 859.504,-1443.081 867.028,-1450.5403 870.0375,-1444.2202"/>
</g>
<!-- prespace_18 -->
<g id="node19" class="node">
<title>prespace_18</title>
<ellipse fill="none" stroke="#000000" cx="929" cy="-1431.8024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="929" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_4&#45;&gt;prespace_18 -->
<g id="edge18" class="edge">
<title>prose_4&#45;&gt;prespace_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1005.573,-1489.2321C992.0746,-1479.1083 973.8362,-1465.4296 958.5453,-1453.9614"/>
<polygon fill="#000000" stroke="#000000" points="960.5024,-1451.0542 950.4024,-1447.8542 956.3024,-1456.6543 960.5024,-1451.0542"/>
</g>
<!-- literal_19 -->
<g id="node20" class="node">
<title>literal_19</title>
<ellipse fill="none" stroke="#000000" cx="1025" cy="-1431.8024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1025" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_4&#45;&gt;literal_19 -->
<g id="edge19" class="edge">
<title>prose_4&#45;&gt;literal_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1025,-1485.6338C1025,-1477.9334 1025,-1468.7767 1025,-1460.219"/>
<polygon fill="#000000" stroke="#000000" points="1028.5001,-1460.2156 1025,-1450.2157 1021.5001,-1460.2157 1028.5001,-1460.2156"/>
</g>
<!-- raw_20 -->
<g id="node21" class="node">
<title>raw_20</title>
<ellipse fill="none" stroke="#000000" cx="1170" cy="-1431.8024" rx="27" ry="18"/>
<text text-anchor="middle" x="1170" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_20 -->
<g id="edge20" class="edge">
<title>prose_4&#45;&gt;raw_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1049.2697,-1491.7512C1073.9341,-1479.5041 1112.2278,-1460.4893 1139.0574,-1447.167"/>
<polygon fill="#000000" stroke="#000000" points="1140.6281,-1450.2949 1148.0281,-1442.7126 1137.5149,-1444.0252 1140.6281,-1450.2949"/>
</g>
<!-- header_25 -->
<g id="node26" class="node">
<title>header_25</title>
<ellipse fill="none" stroke="#000000" cx="1767" cy="-1431.8024" rx="51.2759" ry="18"/>
<text text-anchor="middle" x="1767" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : imports</text>
</g>
<!-- section_5&#45;&gt;header_25 -->
<g id="edge25" class="edge">
<title>section_5&#45;&gt;header_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2376.6744,-1497.222C2248.4434,-1483.4625 1953.3795,-1451.8014 1826.6323,-1438.2011"/>
<polygon fill="#000000" stroke="#000000" points="1826.6656,-1434.6847 1816.3493,-1437.0977 1825.9187,-1441.6447 1826.6656,-1434.6847"/>
</g>
<!-- prose_26 -->
<g id="node27" class="node">
<title>prose_26</title>
<ellipse fill="none" stroke="#000000" cx="2041" cy="-1431.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2041" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_26 -->
<g id="edge26" class="edge">
<title>section_5&#45;&gt;prose_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2383.2157,-1493.8667C2302.5255,-1479.2327 2153.5466,-1452.2139 2081.7642,-1439.1954"/>
<polygon fill="#000000" stroke="#000000" points="2082.2149,-1435.7201 2071.7508,-1437.3794 2080.9657,-1442.6078 2082.2149,-1435.7201"/>
</g>
<!-- codeblock_27 -->
<g id="node28" class="node">
<title>codeblock_27</title>
<ellipse fill="none" stroke="#000000" cx="2438" cy="-1431.8024" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2438" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 17&#45;24</text>
</g>
<!-- section_5&#45;&gt;codeblock_27 -->
<g id="edge27" class="edge">
<title>section_5&#45;&gt;codeblock_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2438,-1485.6338C2438,-1477.9334 2438,-1468.7767 2438,-1460.219"/>
<polygon fill="#000000" stroke="#000000" points="2441.5001,-1460.2156 2438,-1450.2157 2434.5001,-1460.2157 2441.5001,-1460.2156"/>
</g>
<!-- codeblock_28 -->
<g id="node29" class="node">
<title>codeblock_28</title>
<ellipse fill="none" stroke="#000000" cx="2635" cy="-1431.8024" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2635" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 26&#45;28</text>
</g>
<!-- section_5&#45;&gt;codeblock_28 -->
<g id="edge28" class="edge">
<title>section_5&#45;&gt;codeblock_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2477.8659,-1489.2321C2508.3598,-1478.0871 2550.6416,-1462.6339 2583.665,-1450.5644"/>
<polygon fill="#000000" stroke="#000000" points="2584.9627,-1453.8167 2593.1536,-1447.0965 2582.5597,-1447.242 2584.9627,-1453.8167"/>
</g>
<!-- header_46 -->
<g id="node47" class="node">
<title>header_46</title>
<ellipse fill="none" stroke="#000000" cx="3066" cy="-1431.8024" rx="61.3032" ry="18"/>
<text text-anchor="middle" x="3066" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : SQL code</text>
</g>
<!-- section_6&#45;&gt;header_46 -->
<g id="edge46" class="edge">
<title>section_6&#45;&gt;header_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3359.45,-1492.8672C3296.694,-1479.8081 3191.9578,-1458.0133 3126.0584,-1444.3001"/>
<polygon fill="#000000" stroke="#000000" points="3126.7309,-1440.8651 3116.2276,-1442.2544 3125.3048,-1447.7183 3126.7309,-1440.8651"/>
</g>
<!-- prose_47 -->
<g id="node48" class="node">
<title>prose_47</title>
<ellipse fill="none" stroke="#000000" cx="3218" cy="-1431.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3218" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_47 -->
<g id="edge47" class="edge">
<title>section_6&#45;&gt;prose_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3372.7412,-1489.2321C3338.177,-1476.4042 3288.2338,-1457.8686 3254.5159,-1445.3547"/>
<polygon fill="#000000" stroke="#000000" points="3255.6284,-1442.0344 3245.0355,-1441.8362 3253.1928,-1448.597 3255.6284,-1442.0344"/>
</g>
<!-- section_48 -->
<g id="node49" class="node">
<title>section_48</title>
<ellipse fill="none" stroke="#000000" cx="3412" cy="-1431.8024" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3412" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 36&#45;81</text>
</g>
<!-- section_6&#45;&gt;section_48 -->
<g id="edge48" class="edge">
<title>section_6&#45;&gt;section_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3412,-1485.6338C3412,-1477.9334 3412,-1468.7767 3412,-1460.219"/>
<polygon fill="#000000" stroke="#000000" points="3415.5001,-1460.2156 3412,-1450.2157 3408.5001,-1460.2157 3415.5001,-1460.2156"/>
</g>
<!-- section_49 -->
<g id="node50" class="node">
<title>section_49</title>
<ellipse fill="none" stroke="#000000" cx="3931" cy="-1431.8024" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3931" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 82&#45;124</text>
</g>
<!-- section_6&#45;&gt;section_49 -->
<g id="edge49" class="edge">
<title>section_6&#45;&gt;section_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3470.7786,-1495.6481C3566.323,-1482.3934 3755.045,-1456.2123 3858.6705,-1441.8366"/>
<polygon fill="#000000" stroke="#000000" points="3859.3088,-1445.2816 3868.733,-1440.4406 3858.3468,-1438.348 3859.3088,-1445.2816"/>
</g>
<!-- header_67 -->
<g id="node68" class="node">
<title>header_67</title>
<ellipse fill="none" stroke="#000000" cx="4409" cy="-1431.8024" rx="159.9496" ry="18"/>
<text text-anchor="middle" x="4409" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : SQL loader.load(conn, mod_name)</text>
</g>
<!-- section_7&#45;&gt;header_67 -->
<g id="edge67" class="edge">
<title>section_7&#45;&gt;header_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4655.7117,-1491.0132C4608.8903,-1479.7761 4540.1531,-1463.2791 4487.1174,-1450.5506"/>
<polygon fill="#000000" stroke="#000000" points="4487.6095,-1447.0694 4477.0688,-1448.1389 4485.9758,-1453.8761 4487.6095,-1447.0694"/>
</g>
<!-- prose_68 -->
<g id="node69" class="node">
<title>prose_68</title>
<ellipse fill="none" stroke="#000000" cx="4636" cy="-1431.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4636" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_68 -->
<g id="edge68" class="edge">
<title>section_7&#45;&gt;prose_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4690.9551,-1486.0046C4681.5344,-1476.713 4669.8879,-1465.2261 4659.7447,-1455.2218"/>
<polygon fill="#000000" stroke="#000000" points="4661.9203,-1452.4517 4652.3429,-1447.9214 4657.0048,-1457.4354 4661.9203,-1452.4517"/>
</g>
<!-- codeblock_69 -->
<g id="node70" class="node">
<title>codeblock_69</title>
<ellipse fill="none" stroke="#000000" cx="4779" cy="-1431.8024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4779" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 127&#45;140</text>
</g>
<!-- section_7&#45;&gt;codeblock_69 -->
<g id="edge69" class="edge">
<title>section_7&#45;&gt;codeblock_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4726.3034,-1486.0046C4734.8011,-1477.2642 4745.1875,-1466.581 4754.486,-1457.0168"/>
<polygon fill="#000000" stroke="#000000" points="4757.1918,-1459.2547 4761.6531,-1449.6449 4752.1728,-1454.3751 4757.1918,-1459.2547"/>
</g>
<!-- header_74 -->
<g id="node75" class="node">
<title>header_74</title>
<ellipse fill="none" stroke="#000000" cx="5257" cy="-1431.8024" rx="110.9288" ry="18"/>
<text text-anchor="middle" x="5257" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Environment Variables</text>
</g>
<!-- section_8&#45;&gt;header_74 -->
<g id="edge74" class="edge">
<title>section_8&#45;&gt;header_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5596.6829,-1492.9453C5528.7997,-1480.7263 5418.0351,-1460.7887 5341.5411,-1447.0198"/>
<polygon fill="#000000" stroke="#000000" points="5341.914,-1443.5307 5331.4521,-1445.2038 5340.6739,-1450.42 5341.914,-1443.5307"/>
</g>
<!-- prose_75 -->
<g id="node76" class="node">
<title>prose_75</title>
<ellipse fill="none" stroke="#000000" cx="5657" cy="-1431.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5657" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_75 -->
<g id="edge75" class="edge">
<title>section_8&#45;&gt;prose_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5657,-1485.6338C5657,-1477.9334 5657,-1468.7767 5657,-1460.219"/>
<polygon fill="#000000" stroke="#000000" points="5660.5001,-1460.2156 5657,-1450.2157 5653.5001,-1460.2157 5660.5001,-1460.2156"/>
</g>
<!-- codeblock_76 -->
<g id="node77" class="node">
<title>codeblock_76</title>
<ellipse fill="none" stroke="#000000" cx="6097" cy="-1431.8024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6097" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 151&#45;176</text>
</g>
<!-- section_8&#45;&gt;codeblock_76 -->
<g id="edge76" class="edge">
<title>section_8&#45;&gt;codeblock_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5719.574,-1493.563C5798.1965,-1480.6975 5933.15,-1458.6142 6018.5819,-1444.6345"/>
<polygon fill="#000000" stroke="#000000" points="6019.1866,-1448.0821 6028.4901,-1443.0131 6018.0561,-1441.174 6019.1866,-1448.0821"/>
</g>
<!-- section_77 -->
<g id="node78" class="node">
<title>section_77</title>
<ellipse fill="none" stroke="#000000" cx="6939" cy="-1431.8024" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6939" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 179&#45;194</text>
</g>
<!-- section_8&#45;&gt;section_77 -->
<g id="edge77" class="edge">
<title>section_8&#45;&gt;section_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5730.5304,-1499.6728C5953.2073,-1487.1667 6619.3398,-1449.7552 6855.1397,-1436.5122"/>
<polygon fill="#000000" stroke="#000000" points="6855.5799,-1439.9931 6865.3678,-1435.9378 6855.1873,-1433.0041 6855.5799,-1439.9931"/>
</g>
<!-- header_114 -->
<g id="node115" class="node">
<title>header_114</title>
<ellipse fill="none" stroke="#000000" cx="7378" cy="-1431.8024" rx="77.4383" ry="18"/>
<text text-anchor="middle" x="7378" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.open()</text>
</g>
<!-- section_9&#45;&gt;header_114 -->
<g id="edge114" class="edge">
<title>section_9&#45;&gt;header_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7440.908,-1486.3732C7430.3831,-1477.2432 7417.3285,-1465.9187 7405.8441,-1455.9563"/>
<polygon fill="#000000" stroke="#000000" points="7408.042,-1453.2296 7398.1946,-1449.3206 7403.4551,-1458.5173 7408.042,-1453.2296"/>
</g>
<!-- prose_115 -->
<g id="node116" class="node">
<title>prose_115</title>
<ellipse fill="none" stroke="#000000" cx="7544" cy="-1431.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7544" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_115 -->
<g id="edge115" class="edge">
<title>section_9&#45;&gt;prose_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7481.092,-1486.3732C7492.4265,-1476.5409 7506.6949,-1464.1634 7518.7764,-1453.6831"/>
<polygon fill="#000000" stroke="#000000" points="7521.0866,-1456.3125 7526.3471,-1447.1158 7516.4997,-1451.0247 7521.0866,-1456.3125"/>
</g>
<!-- codeblock_116 -->
<g id="node117" class="node">
<title>codeblock_116</title>
<ellipse fill="none" stroke="#000000" cx="7831" cy="-1431.8024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7831" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 199&#45;214</text>
</g>
<!-- section_9&#45;&gt;codeblock_116 -->
<g id="edge116" class="edge">
<title>section_9&#45;&gt;codeblock_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7519.6276,-1492.3938C7584.0108,-1479.8652 7687.5096,-1459.7249 7757.3278,-1446.1386"/>
<polygon fill="#000000" stroke="#000000" points="7758.2285,-1449.5291 7767.3758,-1444.1833 7756.8914,-1442.658 7758.2285,-1449.5291"/>
</g>
<!-- header_127 -->
<g id="node128" class="node">
<title>header_127</title>
<ellipse fill="none" stroke="#000000" cx="8392" cy="-1431.8024" rx="198.7451" ry="18"/>
<text text-anchor="middle" x="8392" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.commitModule(conn, bytecode, deck)</text>
</g>
<!-- section_10&#45;&gt;header_127 -->
<g id="edge127" class="edge">
<title>section_10&#45;&gt;header_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8648.8279,-1491.261C8600.6431,-1480.1056 8529.4667,-1463.6275 8474.2562,-1450.8456"/>
<polygon fill="#000000" stroke="#000000" points="8475.0243,-1447.431 8464.4925,-1448.5852 8473.4454,-1454.2506 8475.0243,-1447.431"/>
</g>
<!-- prose_128 -->
<g id="node129" class="node">
<title>prose_128</title>
<ellipse fill="none" stroke="#000000" cx="8652" cy="-1431.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8652" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_128 -->
<g id="edge128" class="edge">
<title>section_10&#45;&gt;prose_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8690.3933,-1486.0046C8684.2505,-1477.3325 8676.7531,-1466.7479 8670.0192,-1457.2413"/>
<polygon fill="#000000" stroke="#000000" points="8672.7468,-1455.0368 8664.1105,-1448.8996 8667.0347,-1459.083 8672.7468,-1455.0368"/>
</g>
<!-- prose_129 -->
<g id="node130" class="node">
<title>prose_129</title>
<ellipse fill="none" stroke="#000000" cx="8755" cy="-1431.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8755" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_129 -->
<g id="edge129" class="edge">
<title>section_10&#45;&gt;prose_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8715.8539,-1486.0046C8722.1172,-1477.3325 8729.7616,-1466.7479 8736.6274,-1457.2413"/>
<polygon fill="#000000" stroke="#000000" points="8739.6344,-1459.0557 8742.652,-1448.8996 8733.9597,-1454.9572 8739.6344,-1459.0557"/>
</g>
<!-- codeblock_130 -->
<g id="node131" class="node">
<title>codeblock_130</title>
<ellipse fill="none" stroke="#000000" cx="9061" cy="-1431.8024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9061" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 225&#45;246</text>
</g>
<!-- section_10&#45;&gt;codeblock_130 -->
<g id="edge130" class="edge">
<title>section_10&#45;&gt;codeblock_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8760.9168,-1492.1543C8822.8449,-1479.6995 8921.1733,-1459.924 8988.2718,-1446.4293"/>
<polygon fill="#000000" stroke="#000000" points="8989.2356,-1449.8056 8998.3492,-1444.4026 8987.8554,-1442.943 8989.2356,-1449.8056"/>
</g>
<!-- section_131 -->
<g id="node132" class="node">
<title>section_131</title>
<ellipse fill="none" stroke="#000000" cx="9720" cy="-1431.8024" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9720" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 249&#45;262</text>
</g>
<!-- section_10&#45;&gt;section_131 -->
<g id="edge131" class="edge">
<title>section_10&#45;&gt;section_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8775.732,-1498.6532C8959.7439,-1485.6258 9442.9448,-1451.4169 9637.2917,-1437.6579"/>
<polygon fill="#000000" stroke="#000000" points="9637.7152,-1441.1367 9647.4431,-1436.9392 9637.2208,-1434.1542 9637.7152,-1441.1367"/>
</g>
<!-- header_151 -->
<g id="node152" class="node">
<title>header_151</title>
<ellipse fill="none" stroke="#000000" cx="10166" cy="-1431.8024" rx="159.5865" ry="18"/>
<text text-anchor="middle" x="10166" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.commitCodex(conn, codex)</text>
</g>
<!-- section_11&#45;&gt;header_151 -->
<g id="edge151" class="edge">
<title>section_11&#45;&gt;header_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10246.1165,-1486.7394C10232.5302,-1477.4231 10215.4945,-1465.7415 10200.6293,-1455.5482"/>
<polygon fill="#000000" stroke="#000000" points="10202.3968,-1452.5164 10192.1702,-1449.7477 10198.4381,-1458.2895 10202.3968,-1452.5164"/>
</g>
<!-- prose_152 -->
<g id="node153" class="node">
<title>prose_152</title>
<ellipse fill="none" stroke="#000000" cx="10376" cy="-1431.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10376" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_152 -->
<g id="edge152" class="edge">
<title>section_11&#45;&gt;prose_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10295.8835,-1486.7394C10311.2341,-1476.2133 10330.9883,-1462.6676 10347.04,-1451.6607"/>
<polygon fill="#000000" stroke="#000000" points="10349.2573,-1454.3842 10355.5252,-1445.8423 10345.2985,-1448.611 10349.2573,-1454.3842"/>
</g>
<!-- codeblock_153 -->
<g id="node154" class="node">
<title>codeblock_153</title>
<ellipse fill="none" stroke="#000000" cx="10562" cy="-1431.8024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10562" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 265&#45;289</text>
</g>
<!-- section_11&#45;&gt;codeblock_153 -->
<g id="edge153" class="edge">
<title>section_11&#45;&gt;codeblock_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10323.6979,-1490.7637C10372.0897,-1478.7905 10443.9868,-1461.0015 10496.1463,-1448.0961"/>
<polygon fill="#000000" stroke="#000000" points="10497.1071,-1451.464 10505.9737,-1445.6646 10495.4258,-1444.6689 10497.1071,-1451.464"/>
</g>
<!-- header_158 -->
<g id="node159" class="node">
<title>header_158</title>
<ellipse fill="none" stroke="#000000" cx="10967" cy="-1431.8024" rx="142.6991" ry="18"/>
<text text-anchor="middle" x="10967" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.load(conn, mod_name)</text>
</g>
<!-- section_12&#45;&gt;header_158 -->
<g id="edge158" class="edge">
<title>section_12&#45;&gt;header_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11039.7611,-1486.3732C11027.4455,-1477.1365 11012.1352,-1465.6538 10998.7405,-1455.6078"/>
<polygon fill="#000000" stroke="#000000" points="11000.7919,-1452.7713 10990.6918,-1449.5713 10996.5918,-1458.3713 11000.7919,-1452.7713"/>
</g>
<!-- prose_159 -->
<g id="node160" class="node">
<title>prose_159</title>
<ellipse fill="none" stroke="#000000" cx="11160" cy="-1431.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11160" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_12&#45;&gt;prose_159 -->
<g id="edge159" class="edge">
<title>section_12&#45;&gt;prose_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11086.481,-1486.3732C11100.2609,-1476.1448 11117.7513,-1463.1622 11132.2151,-1452.4263"/>
<polygon fill="#000000" stroke="#000000" points="11134.3868,-1455.1731 11140.3304,-1446.4025 11130.2146,-1449.5523 11134.3868,-1455.1731"/>
</g>
<!-- codeblock_160 -->
<g id="node161" class="node">
<title>codeblock_160</title>
<ellipse fill="none" stroke="#000000" cx="11374" cy="-1431.8024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11374" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 296&#45;336</text>
</g>
<!-- section_12&#45;&gt;codeblock_160 -->
<g id="edge160" class="edge">
<title>section_12&#45;&gt;codeblock_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11117.1721,-1491.261C11169.5433,-1479.1364 11249.0748,-1460.724 11305.7472,-1447.6037"/>
<polygon fill="#000000" stroke="#000000" points="11306.7443,-1450.9655 11315.6972,-1445.3002 11305.1654,-1444.1459 11306.7443,-1450.9655"/>
</g>
<!-- header_165 -->
<g id="node166" class="node">
<title>header_165</title>
<ellipse fill="none" stroke="#000000" cx="11779" cy="-1431.8024" rx="99.1885" ry="18"/>
<text text-anchor="middle" x="11779" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.loaderGen()</text>
</g>
<!-- section_13&#45;&gt;header_165 -->
<g id="edge165" class="edge">
<title>section_13&#45;&gt;header_165</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11975.3751,-1489.7492C11936.985,-1478.4209 11882.7063,-1462.4043 11840.9403,-1450.0799"/>
<polygon fill="#000000" stroke="#000000" points="11841.7329,-1446.6646 11831.1512,-1447.1913 11839.7517,-1453.3784 11841.7329,-1446.6646"/>
</g>
<!-- prose_166 -->
<g id="node167" class="node">
<title>prose_166</title>
<ellipse fill="none" stroke="#000000" cx="11928" cy="-1431.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11928" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_13&#45;&gt;prose_166 -->
<g id="edge166" class="edge">
<title>section_13&#45;&gt;prose_166</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12000.0031,-1486.3732C11986.6335,-1476.2404 11969.6974,-1463.4047 11955.61,-1452.7279"/>
<polygon fill="#000000" stroke="#000000" points="11957.3478,-1449.6533 11947.264,-1446.4025 11953.1196,-1455.2321 11957.3478,-1449.6533"/>
</g>
<!-- structure_167 -->
<g id="node168" class="node">
<title>structure_167</title>
<ellipse fill="none" stroke="#000000" cx="12023" cy="-1431.8024" rx="44.5182" ry="18"/>
<text text-anchor="middle" x="12023" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">structure</text>
</g>
<!-- section_13&#45;&gt;structure_167 -->
<g id="edge167" class="edge">
<title>section_13&#45;&gt;structure_167</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12023,-1485.6338C12023,-1477.9334 12023,-1468.7767 12023,-1460.219"/>
<polygon fill="#000000" stroke="#000000" points="12026.5001,-1460.2156 12023,-1450.2157 12019.5001,-1460.2157 12026.5001,-1460.2156"/>
</g>
<!-- prose_168 -->
<g id="node169" class="node">
<title>prose_168</title>
<ellipse fill="none" stroke="#000000" cx="12118" cy="-1431.8024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12118" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_13&#45;&gt;prose_168 -->
<g id="edge168" class="edge">
<title>section_13&#45;&gt;prose_168</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12045.9969,-1486.3732C12059.3665,-1476.2404 12076.3026,-1463.4047 12090.39,-1452.7279"/>
<polygon fill="#000000" stroke="#000000" points="12092.8804,-1455.2321 12098.736,-1446.4025 12088.6522,-1449.6533 12092.8804,-1455.2321"/>
</g>
<!-- codeblock_169 -->
<g id="node170" class="node">
<title>codeblock_169</title>
<ellipse fill="none" stroke="#000000" cx="12281" cy="-1431.8024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12281" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 350&#45;357</text>
</g>
<!-- section_13&#45;&gt;codeblock_169 -->
<g id="edge169" class="edge">
<title>section_13&#45;&gt;codeblock_169</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12072.1351,-1490.0903C12113.9514,-1478.4206 12174.2265,-1461.5997 12219.2885,-1449.0242"/>
<polygon fill="#000000" stroke="#000000" points="12220.2576,-1452.3876 12228.9487,-1446.3283 12218.376,-1445.6452 12220.2576,-1452.3876"/>
</g>
<!-- codeblock_170 -->
<g id="node171" class="node">
<title>codeblock_170</title>
<ellipse fill="none" stroke="#000000" cx="12500" cy="-1431.8024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12500" y="-1427.6024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 359&#45;361</text>
</g>
<!-- section_13&#45;&gt;codeblock_170 -->
<g id="edge170" class="edge">
<title>section_13&#45;&gt;codeblock_170</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12086.8354,-1494.1669C12172.6864,-1481.2082 12325.3768,-1458.1606 12419.1575,-1444.005"/>
<polygon fill="#000000" stroke="#000000" points="12419.8026,-1447.4474 12429.1681,-1442.494 12418.7577,-1440.5258 12419.8026,-1447.4474"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="436,-1108.803 0,-1108.803 0,-1037.0007 436,-1037.0007 436,-1108.803"/>
<text text-anchor="middle" x="218" y="-1045.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m less than convinced that I&#39;ve given this the right name.</text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M745.1718,-1419.9071C740.3191,-1417.5576 735.0818,-1415.3446 730,-1413.8024 607.829,-1376.7256 555.271,-1442.151 445,-1377.8024 340.6152,-1316.8887 269.409,-1187.0906 237.3313,-1118.138"/>
<polygon fill="#000000" stroke="#000000" points="240.4122,-1116.4595 233.0653,-1108.8258 234.0482,-1119.375 240.4122,-1116.4595"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="806,-1092.8039 454,-1092.8039 454,-1052.9997 806,-1052.9997 806,-1092.8039"/>
<text text-anchor="middle" x="630" y="-1061.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">Among other things this will have a function for</text>
</g>
<!-- raw_17&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>raw_17&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M828.2467,-1414.9733C795.3481,-1358.2072 688.2047,-1173.3332 646.6671,-1101.6606"/>
<polygon fill="#000000" stroke="#000000" points="649.5241,-1099.6101 641.4816,-1092.7131 643.4677,-1103.1201 649.5241,-1099.6101"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="878,-1090.9018 824,-1090.9018 824,-1054.9018 878,-1054.9018 878,-1090.9018"/>
<text text-anchor="middle" x="851" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_18&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>prespace_18&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M911.9017,-1414.8805C902.9427,-1404.9453 892.6795,-1391.6475 887,-1377.8024 847.7421,-1282.1028 847.3163,-1156.2836 849.4082,-1101.0032"/>
<polygon fill="#000000" stroke="#000000" points="852.9089,-1101.0609 849.8494,-1090.9175 845.9156,-1100.755 852.9089,-1101.0609"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1017.5,-1090.9018 896.5,-1090.9018 896.5,-1054.9018 1017.5,-1054.9018 1017.5,-1090.9018"/>
<text text-anchor="middle" x="957" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">package.loaders</text>
</g>
<!-- literal_19&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>literal_19&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1021.5344,-1413.5111C1010.4391,-1354.9508 975.738,-1171.8001 962.3465,-1101.1201"/>
<polygon fill="#000000" stroke="#000000" points="965.7591,-1100.33 960.4586,-1091.1564 958.8815,-1101.6331 965.7591,-1100.33"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1576.5,-1100.1023 1035.5,-1100.1023 1035.5,-1045.7014 1576.5,-1045.7014 1576.5,-1100.1023"/>
<text text-anchor="middle" x="1306" y="-1084.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">, but this</text>
<text text-anchor="middle" x="1306" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">file will contain everything needed to manipulate modules, including things</text>
<text text-anchor="middle" x="1306" y="-1054.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">needed only by the compiler.</text>
</g>
<!-- raw_20&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>raw_20&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1176.7443,-1414.0045C1197.8776,-1358.234 1263.1188,-1186.0643 1291.9983,-1109.8519"/>
<polygon fill="#000000" stroke="#000000" points="1295.3904,-1110.7775 1295.661,-1100.1861 1288.8446,-1108.297 1295.3904,-1110.7775"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1687.5,-1090.9018 1594.5,-1090.9018 1594.5,-1054.9018 1687.5,-1054.9018 1687.5,-1090.9018"/>
<text text-anchor="middle" x="1641" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">*** imports</text>
</g>
<!-- header_25&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>header_25&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1738.6178,-1416.7206C1723.9137,-1407.4405 1706.9902,-1394.182 1697,-1377.8024 1642.2387,-1288.018 1638.449,-1157.6536 1639.723,-1100.9706"/>
<polygon fill="#000000" stroke="#000000" points="1643.2218,-1101.0593 1640.0201,-1090.9599 1636.2249,-1100.8516 1643.2218,-1101.0593"/>
</g>
<!-- raw_30 -->
<g id="node31" class="node">
<title>raw_30</title>
<ellipse fill="none" stroke="#000000" cx="1733" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="1733" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_26&#45;&gt;raw_30 -->
<g id="edge30" class="edge">
<title>prose_26&#45;&gt;raw_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2008.4576,-1430.0032C1943.4545,-1425.6959 1801.028,-1412.4471 1769,-1377.8024 1697.3195,-1300.2656 1715.0205,-1160.1448 1726.6927,-1100.7336"/>
<polygon fill="#000000" stroke="#000000" points="1730.1213,-1101.4364 1728.7093,-1090.9361 1723.2651,-1100.0252 1730.1213,-1101.4364"/>
</g>
<!-- prespace_31 -->
<g id="node32" class="node">
<title>prespace_31</title>
<ellipse fill="none" stroke="#000000" cx="1824" cy="-1072.9018" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1824" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_26&#45;&gt;prespace_31 -->
<g id="edge31" class="edge">
<title>prose_26&#45;&gt;prespace_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2010.7574,-1425.4955C1969.1135,-1416.195 1897.2875,-1397.7365 1880,-1377.8024 1810.4563,-1297.6119 1814.8291,-1160.0128 1820.5028,-1101.0567"/>
<polygon fill="#000000" stroke="#000000" points="1823.9958,-1101.3061 1821.5598,-1090.9951 1817.0341,-1100.5747 1823.9958,-1101.3061"/>
</g>
<!-- literal_32 -->
<g id="node33" class="node">
<title>literal_32</title>
<ellipse fill="none" stroke="#000000" cx="1920" cy="-1072.9018" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1920" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_26&#45;&gt;literal_32 -->
<g id="edge32" class="edge">
<title>prose_26&#45;&gt;literal_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2014.6611,-1421.3367C1996.2145,-1412.565 1972.6794,-1398.179 1960,-1377.8024 1904.8842,-1289.2275 1910.6034,-1158.2261 1916.3986,-1101.1739"/>
<polygon fill="#000000" stroke="#000000" points="1919.8928,-1101.4176 1917.5038,-1091.0957 1912.9345,-1100.6545 1919.8928,-1101.4176"/>
</g>
<!-- raw_33 -->
<g id="node34" class="node">
<title>raw_33</title>
<ellipse fill="none" stroke="#000000" cx="1996" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="1996" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_26&#45;&gt;raw_33 -->
<g id="edge33" class="edge">
<title>prose_26&#45;&gt;raw_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2037.7853,-1413.8356C2035.9637,-1403.3466 2033.7137,-1389.8466 2032,-1377.8024 2017.5645,-1276.3489 2004.5072,-1155.3154 1998.8996,-1101.3302"/>
<polygon fill="#000000" stroke="#000000" points="2002.3577,-1100.7429 1997.8487,-1091.1555 1995.3947,-1101.4622 2002.3577,-1100.7429"/>
</g>
<!-- prespace_34 -->
<g id="node35" class="node">
<title>prespace_34</title>
<ellipse fill="none" stroke="#000000" cx="2087" cy="-1072.9018" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2087" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_26&#45;&gt;prespace_34 -->
<g id="edge34" class="edge">
<title>prose_26&#45;&gt;prespace_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2043.3444,-1413.5111C2050.85,-1354.9508 2074.3243,-1171.8001 2083.3833,-1101.1201"/>
<polygon fill="#000000" stroke="#000000" points="2086.8606,-1101.5202 2084.6603,-1091.1564 2079.9174,-1100.6302 2086.8606,-1101.5202"/>
</g>
<!-- literal_35 -->
<g id="node36" class="node">
<title>literal_35</title>
<ellipse fill="none" stroke="#000000" cx="2183" cy="-1072.9018" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2183" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_26&#45;&gt;literal_35 -->
<g id="edge35" class="edge">
<title>prose_26&#45;&gt;literal_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2070.3303,-1424.143C2093.6639,-1416.441 2125.1072,-1402.1409 2142,-1377.8024 2201.6527,-1291.8572 2194.023,-1158.9313 2187.1489,-1101.2341"/>
<polygon fill="#000000" stroke="#000000" points="2190.5867,-1100.5244 2185.8474,-1091.0487 2183.6432,-1101.4117 2190.5867,-1100.5244"/>
</g>
<!-- raw_36 -->
<g id="node37" class="node">
<title>raw_36</title>
<ellipse fill="none" stroke="#000000" cx="2259" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="2259" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_26&#45;&gt;raw_36 -->
<g id="edge36" class="edge">
<title>prose_26&#45;&gt;raw_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2072.2184,-1426.7606C2118.9185,-1418.5516 2203.5734,-1400.8689 2223,-1377.8024 2290.7187,-1297.3953 2275.4623,-1159.9134 2264.8872,-1101.0225"/>
<polygon fill="#000000" stroke="#000000" points="2268.2841,-1100.1486 2262.9882,-1090.9723 2261.4059,-1101.4483 2268.2841,-1100.1486"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="2572,-1123.5027 2304,-1123.5027 2304,-1022.3009 2572,-1022.3009 2572,-1123.5027"/>
<text text-anchor="middle" x="2438" y="-1108.5019" font-family="Inconsolata" font-size="14.00" fill="#000000">local sql = require &quot;sqlayer&quot;</text>
<text text-anchor="middle" x="2438" y="-1093.1019" font-family="Inconsolata" font-size="14.00" fill="#000000">local Dir = require &quot;walk/directory&quot;</text>
<text text-anchor="middle" x="2438" y="-1061.7018" font-family="Inconsolata" font-size="14.00" fill="#000000">local sha = require &quot;sha3&quot; . sha512</text>
<text text-anchor="middle" x="2438" y="-1030.3018" font-family="Inconsolata" font-size="14.00" fill="#000000">local status = require &quot;status&quot; ()</text>
</g>
<!-- codeblock_27&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>codeblock_27&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2438,-1413.5111C2438,-1362.5687 2438,-1217.3426 2438,-1133.8916"/>
<polygon fill="#000000" stroke="#000000" points="2441.5001,-1133.7834 2438,-1123.7834 2434.5001,-1133.7834 2441.5001,-1133.7834"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="2725.5,-1090.9018 2590.5,-1090.9018 2590.5,-1054.9018 2725.5,-1054.9018 2725.5,-1090.9018"/>
<text text-anchor="middle" x="2658" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">local Loader = {}</text>
</g>
<!-- codeblock_28&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>codeblock_28&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2636.1722,-1413.5111C2639.9173,-1355.071 2651.614,-1172.5518 2656.1636,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="2659.6834,-1101.3597 2656.8302,-1091.1564 2652.6977,-1100.912 2659.6834,-1101.3597"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="1778.5,-447.3021 1237.5,-447.3021 1237.5,-391.4992 1778.5,-391.4992 1778.5,-447.3021"/>
<text text-anchor="middle" x="1508" y="-399.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">For now, I&#39;m going to use a copy of the sqlite bindings currently living in</text>
</g>
<!-- raw_30&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>raw_30&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1733.1252,-1054.882C1732.9704,-1006.9729 1729.3464,-872.9413 1696,-768.0012 1657.1976,-645.8915 1575.2791,-516.8538 1533.5683,-455.6674"/>
<polygon fill="#000000" stroke="#000000" points="1536.2607,-453.4052 1527.7159,-447.1412 1530.4894,-457.3666 1536.2607,-453.4052"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="1851,-437.4007 1797,-437.4007 1797,-401.4007 1851,-401.4007 1851,-437.4007"/>
</g>
<!-- prespace_31&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>prespace_31&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1824,-1054.7414C1824,-963.8693 1824,-558.5075 1824,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="1827.5001,-447.4733 1824,-437.4733 1820.5001,-447.4733 1827.5001,-447.4733"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="1923,-437.4007 1869,-437.4007 1869,-401.4007 1923,-401.4007 1923,-437.4007"/>
<text text-anchor="middle" x="1896" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">femto</text>
</g>
<!-- literal_32&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>literal_32&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1919.3331,-1054.7414C1915.9958,-963.8693 1901.1087,-558.5075 1897.034,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="1900.5285,-447.3381 1896.6637,-437.4733 1893.5332,-447.5951 1900.5285,-447.3381"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="2041,-437.4007 1941,-437.4007 1941,-401.4007 2041,-401.4007 2041,-437.4007"/>
<text text-anchor="middle" x="1991" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">. &#160;There&#39;s a</text>
</g>
<!-- raw_33&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>raw_33&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1995.8611,-1054.7414C1995.1658,-963.8693 1992.0643,-558.5075 1991.2154,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="1994.7148,-447.4462 1991.1383,-437.4733 1987.715,-447.4998 1994.7148,-447.4462"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="2113,-437.4007 2059,-437.4007 2059,-401.4007 2113,-401.4007 2113,-437.4007"/>
<text text-anchor="middle" x="2086" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_34&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>prespace_34&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2086.9722,-1054.7414C2086.8332,-963.8693 2086.2129,-558.5075 2086.0431,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="2089.5431,-447.4679 2086.0277,-437.4733 2082.5431,-447.4787 2089.5431,-447.4679"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="2196.5,-437.4007 2131.5,-437.4007 2131.5,-401.4007 2196.5,-401.4007 2196.5,-437.4007"/>
<text text-anchor="middle" x="2164" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">sqlayer</text>
</g>
<!-- literal_35&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>literal_35&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2182.472,-1054.7414C2179.83,-963.8693 2168.0444,-558.5075 2164.8186,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="2168.3147,-447.3673 2164.5254,-437.4733 2161.3176,-447.5708 2168.3147,-447.3673"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="2721,-446.6011 2215,-446.6011 2215,-392.2002 2721,-392.2002 2721,-446.6011"/>
<text text-anchor="middle" x="2468" y="-431.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> as well but I don&#39;t want to copy&#45;paste generated</text>
<text text-anchor="middle" x="2468" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">code if I can avoid it; the whole point of this exercise is to get the</text>
<text text-anchor="middle" x="2468" y="-400.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">codebase to where I can reuse projects across modules.</text>
</g>
<!-- raw_36&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>raw_36&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259.0011,-1054.5965C2259.4616,-1006.5425 2263.6974,-873.2465 2295,-768.0012 2331.0743,-646.7127 2406.9606,-516.3096 2445.0979,-455.0463"/>
<polygon fill="#000000" stroke="#000000" points="2448.0975,-456.8508 2450.4415,-446.5185 2442.1658,-453.1338 2448.0975,-456.8508"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="3077,-1090.9018 2977,-1090.9018 2977,-1054.9018 3077,-1054.9018 3077,-1090.9018"/>
<text text-anchor="middle" x="3027" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">*** SQL code</text>
</g>
<!-- header_46&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>header_46&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3064.0124,-1413.5111C3057.6489,-1354.9508 3037.7468,-1171.8001 3030.0663,-1101.1201"/>
<polygon fill="#000000" stroke="#000000" points="3033.5435,-1100.7197 3028.9836,-1091.1564 3026.5845,-1101.476 3033.5435,-1100.7197"/>
</g>
<!-- raw_51 -->
<g id="node52" class="node">
<title>raw_51</title>
<ellipse fill="none" stroke="#000000" cx="3122" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="3122" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_47&#45;&gt;raw_51 -->
<g id="edge51" class="edge">
<title>prose_47&#45;&gt;raw_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3196.2885,-1418.2751C3182.9085,-1408.7013 3166.6988,-1394.6032 3158,-1377.8024 3110.3254,-1285.7237 3114.318,-1157.5254 3118.984,-1101.2701"/>
<polygon fill="#000000" stroke="#000000" points="3122.4969,-1101.2848 3119.9111,-1091.0103 3115.5253,-1100.6548 3122.4969,-1101.2848"/>
</g>
<!-- header_53 -->
<g id="node54" class="node">
<title>header_53</title>
<ellipse fill="none" stroke="#000000" cx="3264" cy="-1072.9018" rx="97.0962" ry="18"/>
<text text-anchor="middle" x="3264" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : SQL Loader.open()</text>
</g>
<!-- section_48&#45;&gt;header_53 -->
<g id="edge53" class="edge">
<title>section_48&#45;&gt;header_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3396.4544,-1414.2748C3388.0672,-1404.1501 3378.0252,-1390.8645 3371,-1377.8024 3319.3254,-1281.723 3284.4146,-1155.6725 3270.6174,-1100.6274"/>
<polygon fill="#000000" stroke="#000000" points="3274.0098,-1099.7654 3268.2141,-1090.8964 3267.214,-1101.4439 3274.0098,-1099.7654"/>
</g>
<!-- prose_54 -->
<g id="node55" class="node">
<title>prose_54</title>
<ellipse fill="none" stroke="#000000" cx="3412" cy="-1072.9018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3412" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_48&#45;&gt;prose_54 -->
<g id="edge54" class="edge">
<title>section_48&#45;&gt;prose_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3412,-1413.5111C3412,-1355.071 3412,-1172.5518 3412,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="3415.5001,-1101.1563 3412,-1091.1564 3408.5001,-1101.1564 3415.5001,-1101.1563"/>
</g>
<!-- codeblock_55 -->
<g id="node56" class="node">
<title>codeblock_55</title>
<ellipse fill="none" stroke="#000000" cx="3552" cy="-1072.9018" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3552" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 38&#45;79</text>
</g>
<!-- section_48&#45;&gt;codeblock_55 -->
<g id="edge55" class="edge">
<title>section_48&#45;&gt;codeblock_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3428.0673,-1413.8545C3436.4074,-1403.8114 3446.2381,-1390.7377 3453,-1377.8024 3503.0351,-1282.0867 3534.1016,-1156.2758 3546.2055,-1101.0004"/>
<polygon fill="#000000" stroke="#000000" points="3549.6935,-1101.4279 3548.3734,-1090.9156 3542.8498,-1099.9566 3549.6935,-1101.4279"/>
</g>
<!-- header_60 -->
<g id="node61" class="node">
<title>header_60</title>
<ellipse fill="none" stroke="#000000" cx="3822" cy="-1072.9018" rx="169.0775" ry="18"/>
<text text-anchor="middle" x="3822" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : SQL Loader.commitDeck(conn, deck)</text>
</g>
<!-- section_49&#45;&gt;header_60 -->
<g id="edge60" class="edge">
<title>section_49&#45;&gt;header_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3925.4448,-1413.5111C3907.6598,-1354.9508 3852.0359,-1171.8001 3830.57,-1101.1201"/>
<polygon fill="#000000" stroke="#000000" points="3833.799,-1099.7077 3827.544,-1091.1564 3827.1011,-1101.7419 3833.799,-1099.7077"/>
</g>
<!-- prose_61 -->
<g id="node62" class="node">
<title>prose_61</title>
<ellipse fill="none" stroke="#000000" cx="4041" cy="-1072.9018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4041" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_49&#45;&gt;prose_61 -->
<g id="edge61" class="edge">
<title>section_49&#45;&gt;prose_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3961.4021,-1415.4547C3975.4602,-1406.2823 3991.0023,-1393.5096 4000,-1377.8024 4051.8771,-1287.2411 4048.4461,-1157.2858 4043.9155,-1100.84"/>
<polygon fill="#000000" stroke="#000000" points="4047.4017,-1100.5282 4043.0404,-1090.8727 4040.4285,-1101.1405 4047.4017,-1100.5282"/>
</g>
<!-- codeblock_62 -->
<g id="node63" class="node">
<title>codeblock_62</title>
<ellipse fill="none" stroke="#000000" cx="4174" cy="-1072.9018" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="4174" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 84&#45;122</text>
</g>
<!-- section_49&#45;&gt;codeblock_62 -->
<g id="edge62" class="edge">
<title>section_49&#45;&gt;codeblock_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3992.9436,-1423.048C4023.4939,-1415.7253 4058.6909,-1402.3168 4082,-1377.8024 4157.1415,-1298.7755 4171.1084,-1160.5471 4173.5609,-1101.2407"/>
<polygon fill="#000000" stroke="#000000" points="4177.0631,-1101.2281 4173.897,-1091.1174 4170.067,-1100.9958 4177.0631,-1101.2281"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="3154.5,-455.3018 2739.5,-455.3018 2739.5,-383.4995 3154.5,-383.4995 3154.5,-455.3018"/>
<text text-anchor="middle" x="2947" y="-407.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">Everything we need to create and manipulate the database.</text>
</g>
<!-- raw_51&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>raw_51&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3121.5068,-1054.732C3119.8588,-1007.0052 3113.0028,-874.4309 3086,-768.0012 3057.365,-655.1386 3000.9709,-529.9692 2969.529,-464.6768"/>
<polygon fill="#000000" stroke="#000000" points="2972.5867,-462.9605 2965.0773,-455.4865 2966.2868,-466.0121 2972.5867,-462.9605"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3343,-437.4007 3173,-437.4007 3173,-401.4007 3343,-401.4007 3343,-437.4007"/>
<text text-anchor="middle" x="3258" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">**** SQL Loader.open()</text>
</g>
<!-- header_53&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>header_53&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3263.8333,-1054.7414C3262.9989,-963.8693 3259.2772,-558.5075 3258.2585,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="3261.7577,-447.4407 3258.1659,-437.4733 3254.758,-447.5051 3261.7577,-447.4407"/>
</g>
<!-- raw_57 -->
<g id="node58" class="node">
<title>raw_57</title>
<ellipse fill="none" stroke="#000000" cx="3388" cy="-419.4007" rx="27" ry="18"/>
<text text-anchor="middle" x="3388" y="-415.2007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_54&#45;&gt;raw_57 -->
<g id="edge57" class="edge">
<title>prose_54&#45;&gt;raw_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3411.3331,-1054.7414C3407.9958,-963.8693 3393.1087,-558.5075 3389.034,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="3392.5285,-447.3381 3388.6637,-437.4733 3385.5332,-447.5951 3392.5285,-447.3381"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="3799,-732.1019 3433,-732.1019 3433,-106.6994 3799,-106.6994 3799,-732.1019"/>
<text text-anchor="middle" x="3616" y="-716.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_project_table = [[</text>
<text text-anchor="middle" x="3616" y="-701.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS project (</text>
<text text-anchor="middle" x="3616" y="-686.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-670.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;name STRING UNIQUE NOT NULL ON CONFLICT IGNORE,</text>
<text text-anchor="middle" x="3616" y="-655.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo STRING,</text>
<text text-anchor="middle" x="3616" y="-639.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo_type STRING DEFAULT &#39;git&#39;,</text>
<text text-anchor="middle" x="3616" y="-624.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo_alternates STRING,</text>
<text text-anchor="middle" x="3616" y="-609.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;home STRING,</text>
<text text-anchor="middle" x="3616" y="-593.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;website STRING</text>
<text text-anchor="middle" x="3616" y="-578.201" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-562.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="3616" y="-531.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_code_table = [[</text>
<text text-anchor="middle" x="3616" y="-516.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS code (</text>
<text text-anchor="middle" x="3616" y="-500.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;code_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-485.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;hash TEXT UNIQUE ON CONFLICT IGNORE NOT NULL,</text>
<text text-anchor="middle" x="3616" y="-469.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;binary BLOB NOT NULL</text>
<text text-anchor="middle" x="3616" y="-454.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-439.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="3616" y="-407.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_module_table = [[</text>
<text text-anchor="middle" x="3616" y="-392.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS module (</text>
<text text-anchor="middle" x="3616" y="-376.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;module_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;time DATETIME DEFAULT CURRENT_TIMESTAMP,</text>
<text text-anchor="middle" x="3616" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;snapshot INTEGER DEFAULT 1,</text>
<text text-anchor="middle" x="3616" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;version STRING DEFAULT &#39;SNAPSHOT&#39;,</text>
<text text-anchor="middle" x="3616" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;name STRING NOT NULL,</text>
<text text-anchor="middle" x="3616" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;type STRING DEFAULT &#39;luaJIT&#45;bytecode&#39;,</text>
<text text-anchor="middle" x="3616" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;branch STRING,</text>
<text text-anchor="middle" x="3616" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;vc_hash STRING,</text>
<text text-anchor="middle" x="3616" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project_id INTEGER NOT NULL,</text>
<text text-anchor="middle" x="3616" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;code_id INTEGER,</text>
<text text-anchor="middle" x="3616" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (project_id)</text>
<text text-anchor="middle" x="3616" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES project (project_id)</text>
<text text-anchor="middle" x="3616" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ON DELETE RESTRICT</text>
<text text-anchor="middle" x="3616" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (code_id)</text>
<text text-anchor="middle" x="3616" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES code (code_id)</text>
<text text-anchor="middle" x="3616" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ON DELETE CASCADE</text>
<text text-anchor="middle" x="3616" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_55&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>codeblock_55&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3553.7785,-1054.7414C3558.4171,-1007.3771 3571.4229,-874.5757 3584.352,-742.5567"/>
<polygon fill="#000000" stroke="#000000" points="3587.8708,-742.5353 3585.3622,-732.2417 3580.9041,-741.853 3587.8708,-742.5353"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="3415,-53.4 3361,-53.4 3361,-17.4 3415,-17.4 3415,-53.4"/>
</g>
<!-- raw_57&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>raw_57&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3388,-401.3946C3388,-340.0584 3388,-138.9332 3388,-63.9328"/>
<polygon fill="#000000" stroke="#000000" points="3391.5001,-63.814 3388,-53.814 3384.5001,-63.8141 3391.5001,-63.814"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="4099,-437.4007 3817,-437.4007 3817,-401.4007 4099,-401.4007 4099,-437.4007"/>
<text text-anchor="middle" x="3958" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">**** SQL Loader.commitDeck(conn, deck)</text>
</g>
<!-- header_60&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>header_60&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3825.7794,-1054.7414C3844.6907,-963.8693 3929.0505,-558.5075 3952.1407,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="3955.628,-447.9767 3954.2389,-437.4733 3948.7748,-446.5504 3955.628,-447.9767"/>
</g>
<!-- raw_64 -->
<g id="node65" class="node">
<title>raw_64</title>
<ellipse fill="none" stroke="#000000" cx="4144" cy="-419.4007" rx="27" ry="18"/>
<text text-anchor="middle" x="4144" y="-415.2007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_61&#45;&gt;raw_64 -->
<g id="edge64" class="edge">
<title>prose_61&#45;&gt;raw_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4040.6058,-1054.6416C4040.1643,-1006.144 4042.8996,-870.7978 4083,-768.0012 4090.0793,-749.8535 4101.1228,-750.2265 4108,-732.0012 4145.4282,-632.8123 4146.7984,-504.3691 4145.2705,-448.0234"/>
<polygon fill="#000000" stroke="#000000" points="4148.7595,-447.6264 4144.9361,-437.7456 4141.7632,-447.8541 4148.7595,-447.6264"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="4751,-710.3018 4189,-710.3018 4189,-128.4995 4751,-128.4995 4751,-710.3018"/>
<text text-anchor="middle" x="4470" y="-694.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_project = [[</text>
<text text-anchor="middle" x="4470" y="-679.5011" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO project (name, repo, home, website)</text>
<text text-anchor="middle" x="4470" y="-664.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:name, :repo, :home, :website)</text>
<text text-anchor="middle" x="4470" y="-648.701" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4470" y="-617.301" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_code = [[</text>
<text text-anchor="middle" x="4470" y="-601.901" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO code (hash, binary)</text>
<text text-anchor="middle" x="4470" y="-586.501" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:hash, :binary);</text>
<text text-anchor="middle" x="4470" y="-571.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4470" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">local add_module = [[</text>
<text text-anchor="middle" x="4470" y="-524.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO module (snapshot, version, name,</text>
<text text-anchor="middle" x="4470" y="-508.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;branch, vc_hash, project_id, code_id)</text>
<text text-anchor="middle" x="4470" y="-493.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:snapshot, :version, :name, :branch, :vc_hash, :project_id, :code_id);</text>
<text text-anchor="middle" x="4470" y="-478.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4470" y="-446.7007" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_project_id = [[</text>
<text text-anchor="middle" x="4470" y="-431.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (project.project_id AS REAL) FROM project</text>
<text text-anchor="middle" x="4470" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE project.name = %s;</text>
<text text-anchor="middle" x="4470" y="-400.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4470" y="-369.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_code_id_by_hash = [[</text>
<text text-anchor="middle" x="4470" y="-353.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (code.code_id AS REAL) FROM code</text>
<text text-anchor="middle" x="4470" y="-338.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.hash = %s;</text>
<text text-anchor="middle" x="4470" y="-322.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4470" y="-291.5005" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_latest_module_code_id = [[</text>
<text text-anchor="middle" x="4470" y="-276.1005" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (module.code_id AS REAL) FROM module</text>
<text text-anchor="middle" x="4470" y="-260.7004" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.project_id = %d</text>
<text text-anchor="middle" x="4470" y="-245.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;AND module.name = %s</text>
<text text-anchor="middle" x="4470" y="-229.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC LIMIT 1;</text>
<text text-anchor="middle" x="4470" y="-214.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4470" y="-183.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_latest_module_bytecode = [[</text>
<text text-anchor="middle" x="4470" y="-167.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT code.binary FROM code</text>
<text text-anchor="middle" x="4470" y="-152.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.code_id = %d ;</text>
<text text-anchor="middle" x="4470" y="-136.9002" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_62&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>codeblock_62&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4177.7814,-1054.8418C4188.1715,-1006.8344 4219.4435,-872.5832 4265,-768.0012 4271.9791,-751.9796 4279.5391,-735.778 4287.5009,-719.5829"/>
<polygon fill="#000000" stroke="#000000" points="4290.6547,-721.1011 4291.9643,-710.5875 4284.3842,-717.9897 4290.6547,-721.1011"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="4171,-53.4 4117,-53.4 4117,-17.4 4171,-17.4 4171,-53.4"/>
</g>
<!-- raw_64&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>raw_64&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4144,-401.3946C4144,-340.0584 4144,-138.9332 4144,-63.9328"/>
<polygon fill="#000000" stroke="#000000" points="4147.5001,-63.814 4144,-53.814 4140.5001,-63.8141 4147.5001,-63.814"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4535.5,-1090.9018 4274.5,-1090.9018 4274.5,-1054.9018 4535.5,-1054.9018 4535.5,-1090.9018"/>
<text text-anchor="middle" x="4405" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">*** SQL loader.load(conn, mod_name)</text>
</g>
<!-- header_67&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>header_67&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4408.7961,-1413.5111C4408.1448,-1355.071 4406.1106,-1172.5518 4405.3194,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="4408.8148,-1101.1167 4405.2034,-1091.1564 4401.8152,-1101.1948 4408.8148,-1101.1167"/>
</g>
<!-- raw_71 -->
<g id="node72" class="node">
<title>raw_71</title>
<ellipse fill="none" stroke="#000000" cx="4581" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="4581" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_68&#45;&gt;raw_71 -->
<g id="edge71" class="edge">
<title>prose_68&#45;&gt;raw_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4628.6558,-1414.0965C4624.6244,-1403.6945 4619.8744,-1390.1945 4617,-1377.8024 4593.7886,-1277.7345 4585.1226,-1155.5333 4582.2567,-1101.2365"/>
<polygon fill="#000000" stroke="#000000" points="4585.7405,-1100.8229 4581.7441,-1091.0107 4578.7492,-1101.1735 4585.7405,-1100.8229"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="4950,-1169.8026 4626,-1169.8026 4626,-976.0011 4950,-976.0011 4950,-1169.8026"/>
<text text-anchor="middle" x="4788" y="-1154.402" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_code_id_for_module_project = [[</text>
<text text-anchor="middle" x="4788" y="-1139.002" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT</text>
<text text-anchor="middle" x="4788" y="-1123.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;(CAST module.code_id AS REAL) FROM module</text>
<text text-anchor="middle" x="4788" y="-1108.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.project_id = %d</text>
<text text-anchor="middle" x="4788" y="-1092.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;AND module.name = %s</text>
<text text-anchor="middle" x="4788" y="-1077.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC LIMIT 1;</text>
<text text-anchor="middle" x="4788" y="-1062.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4788" y="-1030.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_bytecode = [[</text>
<text text-anchor="middle" x="4788" y="-1015.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT code.binary FROM code</text>
<text text-anchor="middle" x="4788" y="-999.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.code_id = %d ;</text>
<text text-anchor="middle" x="4788" y="-984.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_69&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>codeblock_69&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4779.4587,-1413.5111C4780.524,-1371.0273 4783.2337,-1262.9708 4785.318,-1179.8562"/>
<polygon fill="#000000" stroke="#000000" points="4788.817,-1179.9346 4785.5689,-1169.85 4781.8192,-1179.7591 4788.817,-1179.9346"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="4823,-437.4007 4769,-437.4007 4769,-401.4007 4823,-401.4007 4823,-437.4007"/>
</g>
<!-- raw_71&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>raw_71&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4576.9132,-1055.0513C4566.2249,-1003.3924 4543.121,-852.091 4617,-768.0012 4660.257,-718.7657 4716.8137,-781.2988 4760,-732.0012 4831.3139,-650.5959 4813.8137,-507.9828 4802.2511,-447.6422"/>
<polygon fill="#000000" stroke="#000000" points="4805.6537,-446.8092 4800.2531,-437.6942 4798.7908,-448.1877 4805.6537,-446.8092"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="5159.5,-1090.9018 4968.5,-1090.9018 4968.5,-1054.9018 5159.5,-1054.9018 5159.5,-1090.9018"/>
<text text-anchor="middle" x="5064" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Environment Variables</text>
</g>
<!-- header_74&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>header_74&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5217.1646,-1414.8683C5200.3048,-1405.9756 5181.6737,-1393.6026 5169,-1377.8024 5100.3846,-1292.2599 5075.2989,-1159.1205 5067.3003,-1101.3008"/>
<polygon fill="#000000" stroke="#000000" points="5070.7322,-1100.5521 5065.9597,-1091.093 5063.7918,-1101.4636 5070.7322,-1100.5521"/>
</g>
<!-- raw_79 -->
<g id="node80" class="node">
<title>raw_79</title>
<ellipse fill="none" stroke="#000000" cx="5205" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="5205" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_75&#45;&gt;raw_79 -->
<g id="edge79" class="edge">
<title>prose_75&#45;&gt;raw_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5624.801,-1429.8743C5531.8438,-1424.0018 5267.9434,-1405.059 5241,-1377.8024 5166.5899,-1302.5272 5185.9573,-1160.5747 5198.3897,-1100.6799"/>
<polygon fill="#000000" stroke="#000000" points="5201.8309,-1101.326 5200.5323,-1090.811 5194.9903,-1099.8408 5201.8309,-1101.326"/>
</g>
<!-- link_80 -->
<g id="node81" class="node">
<title>link_80</title>
<ellipse fill="none" stroke="#000000" cx="5277" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="5277" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_75&#45;&gt;link_80 -->
<g id="edge80" class="edge">
<title>prose_75&#45;&gt;link_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5624.9335,-1428.967C5543.6729,-1421.479 5334.5643,-1400.2062 5313,-1377.8024 5239.5984,-1301.5435 5258.4097,-1160.1334 5270.5419,-1100.5314"/>
<polygon fill="#000000" stroke="#000000" points="5273.9733,-1101.222 5272.6336,-1090.7122 5267.1269,-1099.7635 5273.9733,-1101.222"/>
</g>
<!-- raw_81 -->
<g id="node82" class="node">
<title>raw_81</title>
<ellipse fill="none" stroke="#000000" cx="5349" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="5349" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_75&#45;&gt;raw_81 -->
<g id="edge81" class="edge">
<title>prose_75&#45;&gt;raw_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5624.4576,-1430.0032C5559.4545,-1425.6959 5417.028,-1412.4471 5385,-1377.8024 5313.3195,-1300.2656 5331.0205,-1160.1448 5342.6927,-1100.7336"/>
<polygon fill="#000000" stroke="#000000" points="5346.1213,-1101.4364 5344.7093,-1090.9361 5339.2651,-1100.0252 5346.1213,-1101.4364"/>
</g>
<!-- prespace_82 -->
<g id="node83" class="node">
<title>prespace_82</title>
<ellipse fill="none" stroke="#000000" cx="5440" cy="-1072.9018" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5440" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_75&#45;&gt;prespace_82 -->
<g id="edge82" class="edge">
<title>prose_75&#45;&gt;prespace_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5626.7574,-1425.4955C5585.1135,-1416.195 5513.2875,-1397.7365 5496,-1377.8024 5426.4563,-1297.6119 5430.8291,-1160.0128 5436.5028,-1101.0567"/>
<polygon fill="#000000" stroke="#000000" points="5439.9958,-1101.3061 5437.5598,-1090.9951 5433.0341,-1100.5747 5439.9958,-1101.3061"/>
</g>
<!-- literal_83 -->
<g id="node84" class="node">
<title>literal_83</title>
<ellipse fill="none" stroke="#000000" cx="5536" cy="-1072.9018" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5536" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_75&#45;&gt;literal_83 -->
<g id="edge83" class="edge">
<title>prose_75&#45;&gt;literal_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5630.6611,-1421.3367C5612.2145,-1412.565 5588.6794,-1398.179 5576,-1377.8024 5520.8842,-1289.2275 5526.6034,-1158.2261 5532.3986,-1101.1739"/>
<polygon fill="#000000" stroke="#000000" points="5535.8928,-1101.4176 5533.5038,-1091.0957 5528.9345,-1100.6545 5535.8928,-1101.4176"/>
</g>
<!-- raw_84 -->
<g id="node85" class="node">
<title>raw_84</title>
<ellipse fill="none" stroke="#000000" cx="5612" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="5612" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_75&#45;&gt;raw_84 -->
<g id="edge84" class="edge">
<title>prose_75&#45;&gt;raw_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5653.7853,-1413.8356C5651.9637,-1403.3466 5649.7137,-1389.8466 5648,-1377.8024 5633.5645,-1276.3489 5620.5072,-1155.3154 5614.8996,-1101.3302"/>
<polygon fill="#000000" stroke="#000000" points="5618.3577,-1100.7429 5613.8487,-1091.1555 5611.3947,-1101.4622 5618.3577,-1100.7429"/>
</g>
<!-- prespace_85 -->
<g id="node86" class="node">
<title>prespace_85</title>
<ellipse fill="none" stroke="#000000" cx="5703" cy="-1072.9018" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5703" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_75&#45;&gt;prespace_85 -->
<g id="edge85" class="edge">
<title>prose_75&#45;&gt;prespace_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5659.3444,-1413.5111C5666.85,-1354.9508 5690.3243,-1171.8001 5699.3833,-1101.1201"/>
<polygon fill="#000000" stroke="#000000" points="5702.8606,-1101.5202 5700.6603,-1091.1564 5695.9174,-1100.6302 5702.8606,-1101.5202"/>
</g>
<!-- literal_86 -->
<g id="node87" class="node">
<title>literal_86</title>
<ellipse fill="none" stroke="#000000" cx="5799" cy="-1072.9018" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5799" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_75&#45;&gt;literal_86 -->
<g id="edge86" class="edge">
<title>prose_75&#45;&gt;literal_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5686.3303,-1424.143C5709.6639,-1416.441 5741.1072,-1402.1409 5758,-1377.8024 5817.6527,-1291.8572 5810.023,-1158.9313 5803.1489,-1101.2341"/>
<polygon fill="#000000" stroke="#000000" points="5806.5867,-1100.5244 5801.8474,-1091.0487 5799.6432,-1101.4117 5806.5867,-1100.5244"/>
</g>
<!-- raw_87 -->
<g id="node88" class="node">
<title>raw_87</title>
<ellipse fill="none" stroke="#000000" cx="5875" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="5875" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_75&#45;&gt;raw_87 -->
<g id="edge87" class="edge">
<title>prose_75&#45;&gt;raw_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5688.2184,-1426.7606C5734.9185,-1418.5516 5819.5734,-1400.8689 5839,-1377.8024 5906.7187,-1297.3953 5891.4623,-1159.9134 5880.8872,-1101.0225"/>
<polygon fill="#000000" stroke="#000000" points="5884.2841,-1100.1486 5878.9882,-1090.9723 5877.4059,-1101.4483 5884.2841,-1100.1486"/>
</g>
<!-- prespace_88 -->
<g id="node89" class="node">
<title>prespace_88</title>
<ellipse fill="none" stroke="#000000" cx="5966" cy="-1072.9018" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="5966" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_75&#45;&gt;prespace_88 -->
<g id="edge88" class="edge">
<title>prose_75&#45;&gt;prespace_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5689.1224,-1429.3594C5750.3891,-1424.0218 5880.5612,-1409.2001 5911,-1377.8024 5985.0169,-1301.4538 5977.5152,-1161.1929 5970.2588,-1101.2636"/>
<polygon fill="#000000" stroke="#000000" points="5973.6897,-1100.5055 5968.9264,-1091.0418 5966.7484,-1101.4104 5973.6897,-1100.5055"/>
</g>
<!-- literal_89 -->
<g id="node90" class="node">
<title>literal_89</title>
<ellipse fill="none" stroke="#000000" cx="6062" cy="-1072.9018" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6062" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_75&#45;&gt;literal_89 -->
<g id="edge89" class="edge">
<title>prose_75&#45;&gt;literal_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5689.0434,-1429.2371C5773.5794,-1422.169 5997.7539,-1401.367 6021,-1377.8024 6095.4845,-1302.2972 6079.0846,-1160.4715 6067.9797,-1100.6452"/>
<polygon fill="#000000" stroke="#000000" points="6071.4068,-1099.9331 6066.0575,-1090.7879 6064.5362,-1101.273 6071.4068,-1099.9331"/>
</g>
<!-- raw_90 -->
<g id="node91" class="node">
<title>raw_90</title>
<ellipse fill="none" stroke="#000000" cx="6138" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="6138" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_75&#45;&gt;raw_90 -->
<g id="edge90" class="edge">
<title>prose_75&#45;&gt;raw_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5689.3378,-1430.154C5786.8135,-1424.877 6072.8814,-1407.0152 6102,-1377.8024 6176.7229,-1302.8377 6157.183,-1160.714 6144.6575,-1100.7267"/>
<polygon fill="#000000" stroke="#000000" points="6148.052,-1099.8653 6142.4991,-1090.8422 6141.2131,-1101.3587 6148.052,-1099.8653"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="6703,-1262.1026 6183,-1262.1026 6183,-883.7011 6703,-883.7011 6703,-1262.1026"/>
<text text-anchor="middle" x="6443" y="-1246.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">local home_dir = os.getenv &quot;HOME&quot;</text>
<text text-anchor="middle" x="6443" y="-1231.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">local bridge_modules = os.getenv &quot;BRIDGE_MODULES&quot;</text>
<text text-anchor="middle" x="6443" y="-1200.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">if not bridge_modules then</text>
<text text-anchor="middle" x="6443" y="-1184.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local xdg_data_home = os.getenv &quot;XDG_DATA_HOME&quot;</text>
<text text-anchor="middle" x="6443" y="-1169.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if xdg_data_home then</text>
<text text-anchor="middle" x="6443" y="-1153.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(xdg_data_home .. &quot;/bridge/&quot;) : mkdir()</text>
<text text-anchor="middle" x="6443" y="-1138.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bridge_modules = xdg_data_home .. &quot;/bridge/bridge.modules&quot;</text>
<text text-anchor="middle" x="6443" y="-1123.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="6443" y="-1107.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; build the whole shebang from scratch, just in case</text>
<text text-anchor="middle" x="6443" y="-1092.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; =mkdir= runs =exists= as the first command so this is</text>
<text text-anchor="middle" x="6443" y="-1076.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; sufficiently clear</text>
<text text-anchor="middle" x="6443" y="-1061.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local&quot;) : mkdir()</text>
<text text-anchor="middle" x="6443" y="-1046.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local/share&quot;) : mkdir()</text>
<text text-anchor="middle" x="6443" y="-1030.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local/share/bridge/&quot;) : mkdir()</text>
<text text-anchor="middle" x="6443" y="-1015.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bridge_modules = home_dir .. &quot;/.local/share/bridge/bridge.modules&quot;</text>
<text text-anchor="middle" x="6443" y="-999.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error out if we haven&#39;t made the directory</text>
<text text-anchor="middle" x="6443" y="-984.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local bridge_dir = Dir(home_dir .. &quot;/.local/share/bridge/&quot;)</text>
<text text-anchor="middle" x="6443" y="-969.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not bridge_dir:exists() then</text>
<text text-anchor="middle" x="6443" y="-953.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error (&quot;Could not create ~/.local/share/bridge/,&quot; ..</text>
<text text-anchor="middle" x="6443" y="-938.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;consider defining $BRIDGE_MODULES&quot;)</text>
<text text-anchor="middle" x="6443" y="-922.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6443" y="-907.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6443" y="-892.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_76&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>codeblock_76&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6124.9029,-1414.5422C6140.0728,-1404.6025 6158.7876,-1391.409 6174,-1377.8024 6210.8715,-1344.8231 6247.7139,-1307.0517 6281.7802,-1269.5832"/>
<polygon fill="#000000" stroke="#000000" points="6284.4416,-1271.8585 6288.5556,-1262.095 6279.2509,-1267.1619 6284.4416,-1271.8585"/>
</g>
<!-- header_107 -->
<g id="node108" class="node">
<title>header_107</title>
<ellipse fill="none" stroke="#000000" cx="6850" cy="-1072.9018" rx="129.115" ry="18"/>
<text text-anchor="middle" x="6850" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : _unwrapForeignKey(result)</text>
</g>
<!-- section_77&#45;&gt;header_107 -->
<g id="edge107" class="edge">
<title>section_77&#45;&gt;header_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6934.4641,-1413.5111C6919.9424,-1354.9508 6874.5248,-1171.8001 6856.9976,-1101.1201"/>
<polygon fill="#000000" stroke="#000000" points="6860.3308,-1100.0199 6854.5267,-1091.1564 6853.5366,-1101.7048 6860.3308,-1100.0199"/>
</g>
<!-- prose_108 -->
<g id="node109" class="node">
<title>prose_108</title>
<ellipse fill="none" stroke="#000000" cx="7029" cy="-1072.9018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7029" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_77&#45;&gt;prose_108 -->
<g id="edge108" class="edge">
<title>section_77&#45;&gt;prose_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6959.8685,-1414.4163C6970.0539,-1404.7271 6981.4876,-1391.8066 6988,-1377.8024 7031.7055,-1283.8177 7032.7092,-1157.1134 7030.6364,-1101.3044"/>
<polygon fill="#000000" stroke="#000000" points="7034.1247,-1100.9567 7030.1926,-1091.1186 7027.1313,-1101.2615 7034.1247,-1100.9567"/>
</g>
<!-- codeblock_109 -->
<g id="node110" class="node">
<title>codeblock_109</title>
<ellipse fill="none" stroke="#000000" cx="7167" cy="-1072.9018" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7167" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 184&#45;192</text>
</g>
<!-- section_77&#45;&gt;codeblock_109 -->
<g id="edge109" class="edge">
<title>section_77&#45;&gt;codeblock_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6996.0156,-1419.9588C7021.7202,-1411.9679 7050.5934,-1398.8901 7070,-1377.8024 7144.1872,-1297.1888 7161.6379,-1159.8186 7165.7403,-1100.9898"/>
<polygon fill="#000000" stroke="#000000" points="7169.2371,-1101.1478 7166.3617,-1090.9506 7162.2505,-1100.7153 7169.2371,-1101.1478"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="4969,-447.3021 4841,-447.3021 4841,-391.4992 4969,-391.4992 4969,-447.3021"/>
<text text-anchor="middle" x="4905" y="-399.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Following the </text>
</g>
<!-- raw_79&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>raw_79&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5209.2558,-1054.8265C5220.3914,-1002.5581 5244.5041,-849.7693 5168,-768.0012 5109.2801,-705.2411 5040.0411,-791.4804 4978,-732.0012 4901.9741,-659.1148 4898.4123,-523.4892 4901.7581,-457.4715"/>
<polygon fill="#000000" stroke="#000000" points="4905.2739,-457.3049 4902.3698,-447.1159 4898.2861,-456.8921 4905.2739,-457.3049"/>
</g>
<!-- anchortext_92 -->
<g id="node93" class="node">
<title>anchortext_92</title>
<ellipse fill="none" stroke="#000000" cx="5038" cy="-419.4007" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="5038" y="-415.2007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_80&#45;&gt;anchortext_92 -->
<g id="edge92" class="edge">
<title>link_80&#45;&gt;anchortext_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5281.0868,-1055.0513C5291.7751,-1003.3924 5314.879,-852.091 5241,-768.0012 5197.743,-718.7657 5143.0036,-779.6456 5098,-732.0012 5022.6467,-652.2262 5028.0934,-508.1217 5034.3282,-447.4879"/>
<polygon fill="#000000" stroke="#000000" points="5037.812,-447.8275 5035.4425,-437.5011 5030.8551,-447.0513 5037.812,-447.8275"/>
</g>
<!-- url_93 -->
<g id="node94" class="node">
<title>url_93</title>
<ellipse fill="none" stroke="#000000" cx="5134" cy="-419.4007" rx="27" ry="18"/>
<text text-anchor="middle" x="5134" y="-415.2007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_80&#45;&gt;url_93 -->
<g id="edge93" class="edge">
<title>link_80&#45;&gt;url_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5280.3128,-1054.7174C5288.4899,-1004.0666 5304.6223,-859.1222 5241,-768.0012 5220.7455,-738.9925 5190.2128,-761.0391 5170,-732.0012 5108.4459,-643.5724 5120.3684,-505.8586 5129.0876,-447.2841"/>
<polygon fill="#000000" stroke="#000000" points="5132.562,-447.7203 5130.66,-437.2976 5125.6471,-446.6315 5132.562,-447.7203"/>
</g>
<!-- leaf_96 -->
<g id="node97" class="node">
<title>leaf_96</title>
<polygon fill="none" stroke="#c0c0c0" points="5279,-438.7012 5179,-438.7012 5179,-400.1001 5279,-400.1001 5279,-438.7012"/>
<text text-anchor="middle" x="5229" y="-423.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">,</text>
<text text-anchor="middle" x="5229" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">we place the</text>
</g>
<!-- raw_81&#45;&gt;leaf_96 -->
<g id="edge96" class="edge">
<title>raw_81&#45;&gt;leaf_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5349.8577,-1054.6559C5351.5087,-1006.1936 5352.0067,-870.926 5313,-768.0012 5306.0967,-749.7858 5295.5277,-749.9676 5288,-732.0012 5246.7965,-633.6603 5234.1845,-505.863 5230.4736,-448.9651"/>
<polygon fill="#000000" stroke="#000000" points="5233.9607,-448.6442 5229.8618,-438.8744 5226.9735,-449.068 5233.9607,-448.6442"/>
</g>
<!-- leaf_97 -->
<g id="node98" class="node">
<title>leaf_97</title>
<polygon fill="none" stroke="#c0c0c0" points="5351,-437.4007 5297,-437.4007 5297,-401.4007 5351,-401.4007 5351,-437.4007"/>
<text text-anchor="middle" x="5324" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_82&#45;&gt;leaf_97 -->
<g id="edge97" class="edge">
<title>prespace_82&#45;&gt;leaf_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5439.3942,-1054.6214C5437.2257,-1006.0746 5427.5088,-870.6183 5385,-768.0012 5377.5449,-750.0046 5366.8772,-750.2265 5360,-732.0012 5322.5718,-632.8123 5321.2016,-504.3691 5322.7295,-448.0234"/>
<polygon fill="#000000" stroke="#000000" points="5326.2368,-447.8541 5323.0639,-437.7456 5319.2405,-447.6264 5326.2368,-447.8541"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="5483,-437.4007 5369,-437.4007 5369,-401.4007 5483,-401.4007 5483,-437.4007"/>
<text text-anchor="middle" x="5426" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">bridge.modules</text>
</g>
<!-- literal_83&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>literal_83&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5533.9419,-1054.6287C5528.5126,-1007.1922 5512.9781,-876.2776 5495,-768.0012 5475.1171,-648.2532 5445.0387,-506.6564 5432.1816,-447.5305"/>
<polygon fill="#000000" stroke="#000000" points="5435.5387,-446.4982 5429.9876,-437.474 5428.6996,-447.9903 5435.5387,-446.4982"/>
</g>
<!-- leaf_99 -->
<g id="node100" class="node">
<title>leaf_99</title>
<polygon fill="none" stroke="#c0c0c0" points="5825,-438.7012 5501,-438.7012 5501,-400.1001 5825,-400.1001 5825,-438.7012"/>
<text text-anchor="middle" x="5663" y="-423.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> database in a place defined first by a user</text>
<text text-anchor="middle" x="5663" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">environment variable, then by</text>
</g>
<!-- raw_84&#45;&gt;leaf_99 -->
<g id="edge99" class="edge">
<title>raw_84&#45;&gt;leaf_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5613.4173,-1054.7414C5620.4779,-964.2683 5651.8666,-562.0611 5660.6874,-449.0339"/>
<polygon fill="#000000" stroke="#000000" points="5664.203,-448.9688 5661.4918,-438.7268 5657.2242,-448.4241 5664.203,-448.9688"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="5897,-437.4007 5843,-437.4007 5843,-401.4007 5897,-401.4007 5897,-437.4007"/>
<text text-anchor="middle" x="5870" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_85&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>prespace_85&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5701.0638,-1054.8818C5696.5986,-1004.0418 5690.7069,-857.3793 5759,-768.0012 5781.4488,-738.6216 5812.5476,-762.1161 5834,-732.0012 5896.3627,-644.4563 5884.1304,-506.8271 5875.1284,-447.8129"/>
<polygon fill="#000000" stroke="#000000" points="5878.5513,-447.0536 5873.5039,-437.7383 5871.6405,-448.168 5878.5513,-447.0536"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="6022.5,-437.4007 5915.5,-437.4007 5915.5,-401.4007 6022.5,-401.4007 6022.5,-437.4007"/>
<text text-anchor="middle" x="5969" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG_DATA_HOME</text>
</g>
<!-- literal_86&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>literal_86&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5796.0899,-1054.7682C5789.0031,-1004.249 5775.772,-859.614 5839,-768.0012 5858.2013,-740.1799 5885.8583,-759.1495 5906,-732.0012 5970.9029,-644.5213 5973.255,-506.8572 5970.8676,-447.8234"/>
<polygon fill="#000000" stroke="#000000" points="5974.3593,-447.5647 5970.3806,-437.7453 5967.3674,-447.9026 5974.3593,-447.5647"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="6365,-438.7012 6041,-438.7012 6041,-400.1001 6365,-400.1001 6365,-438.7012"/>
<text text-anchor="middle" x="6203" y="-423.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">, and if neither is defined,</text>
<text text-anchor="middle" x="6203" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">attempt to put it in the default location of</text>
</g>
<!-- raw_87&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>raw_87&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5871.0246,-1054.8421C5860.8053,-1003.2648 5839.1958,-853.5217 5911,-768.0012 5946.8043,-725.3574 5987.6902,-766.997 6031,-732.0012 6126.1904,-655.0843 6176.898,-510.7014 6195.0862,-448.8001"/>
<polygon fill="#000000" stroke="#000000" points="6198.5289,-449.4913 6197.9187,-438.9141 6191.7997,-447.5633 6198.5289,-449.4913"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="6437,-437.4007 6383,-437.4007 6383,-401.4007 6437,-401.4007 6437,-437.4007"/>
<text text-anchor="middle" x="6410" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_88&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>prespace_88&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5962.79,-1054.7138C5954.5491,-1001.4694 5938.763,-844.8534 6022,-768.0012 6079.7715,-714.6612 6318.047,-787.2459 6374,-732.0012 6451.3788,-655.602 6430.1924,-509.0231 6416.9363,-447.5866"/>
<polygon fill="#000000" stroke="#000000" points="6420.2704,-446.4607 6414.6574,-437.4749 6413.4417,-447.9997 6420.2704,-446.4607"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6562.5,-437.4007 6455.5,-437.4007 6455.5,-401.4007 6562.5,-401.4007 6562.5,-437.4007"/>
<text text-anchor="middle" x="6509" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG_DATA_HOME</text>
</g>
<!-- literal_89&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>literal_89&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6057.7128,-1054.8622C6046.3404,-1002.0263 6021.5014,-846.42 6102,-768.0012 6157.0562,-714.3676 6389.1414,-783.7203 6446,-732.0012 6527.5186,-657.8512 6520.3574,-510.0238 6513.1368,-447.9206"/>
<polygon fill="#000000" stroke="#000000" points="6516.5717,-447.1827 6511.8547,-437.6959 6509.6261,-448.0537 6516.5717,-447.1827"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="6709,-438.7012 6581,-438.7012 6581,-400.1001 6709,-400.1001 6709,-438.7012"/>
<text text-anchor="middle" x="6645" y="-423.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">, creating it if</text>
<text text-anchor="middle" x="6645" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">necessary.</text>
</g>
<!-- raw_90&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>raw_90&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6133.3875,-1054.8468C6121.0781,-1001.9683 6093.5949,-846.2568 6174,-768.0012 6237.4813,-706.2171 6504.0754,-790.0379 6571,-732.0012 6654.4442,-659.6389 6653.0691,-512.1558 6648.1695,-449.0859"/>
<polygon fill="#000000" stroke="#000000" points="6651.6476,-448.6798 6647.2996,-439.0183 6644.6736,-449.2825 6651.6476,-448.6798"/>
</g>
<!-- leaf_94 -->
<g id="node95" class="node">
<title>leaf_94</title>
<polygon fill="none" stroke="#c0c0c0" points="4965,-53.4 4865,-53.4 4865,-17.4 4965,-17.4 4965,-53.4"/>
<text text-anchor="middle" x="4915" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG Standard</text>
</g>
<!-- anchortext_92&#45;&gt;leaf_94 -->
<g id="edge94" class="edge">
<title>anchortext_92&#45;&gt;leaf_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5037.7959,-401.0758C5036.564,-351.1773 5028.5266,-209.7358 4978,-106.8001 4969.536,-89.5567 4955.7765,-73.257 4943.2724,-60.5968"/>
<polygon fill="#000000" stroke="#000000" points="4945.7002,-58.0755 4936.1047,-53.5835 4940.8046,-63.0789 4945.7002,-58.0755"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="5531,-53.4 4983,-53.4 4983,-17.4 5531,-17.4 5531,-53.4"/>
<text text-anchor="middle" x="5257" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">https://specifications.freedesktop.org/basedir&#45;spec/basedir&#45;spec&#45;latest.html</text>
</g>
<!-- url_93&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>url_93&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5131.6274,-401.4372C5125.8883,-351.2708 5115.4809,-206.8076 5170,-106.8001 5180.5128,-87.5158 5198.5669,-71.4008 5215.5129,-59.3897"/>
<polygon fill="#000000" stroke="#000000" points="5217.9104,-61.9932 5224.2277,-53.4878 5213.9852,-56.1973 5217.9104,-61.9932"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="6953,-437.4007 6727,-437.4007 6727,-401.4007 6953,-401.4007 6953,-437.4007"/>
<text text-anchor="middle" x="6840" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">**** _unwrapForeignKey(result)</text>
</g>
<!-- header_107&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>header_107&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6849.7221,-1054.7414C6848.3316,-963.8693 6842.1286,-558.5075 6840.4308,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="6843.9292,-447.4186 6840.2766,-437.4733 6836.9301,-447.5257 6843.9292,-447.4186"/>
</g>
<!-- raw_111 -->
<g id="node112" class="node">
<title>raw_111</title>
<ellipse fill="none" stroke="#000000" cx="6998" cy="-419.4007" rx="27" ry="18"/>
<text text-anchor="middle" x="6998" y="-415.2007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_111 -->
<g id="edge111" class="edge">
<title>prose_108&#45;&gt;raw_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7028.1385,-1054.7414C7023.8278,-963.8693 7004.5988,-558.5075 6999.3356,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="7002.8273,-447.2962 6998.8573,-437.4733 6995.8352,-447.628 7002.8273,-447.2962"/>
</g>
<!-- leaf_113 -->
<g id="node114" class="node">
<title>leaf_113</title>
<polygon fill="none" stroke="#c0c0c0" points="7395,-477.201 7043,-477.201 7043,-361.6003 7395,-361.6003 7395,-477.201"/>
<text text-anchor="middle" x="7219" y="-462.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _unwrapForeignKey(result)</text>
<text text-anchor="middle" x="7219" y="-446.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if result and result[1] and result[1][1] then</text>
<text text-anchor="middle" x="7219" y="-431.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return result[1][1]</text>
<text text-anchor="middle" x="7219" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="7219" y="-400.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return nil</text>
<text text-anchor="middle" x="7219" y="-385.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7219" y="-369.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_109&#45;&gt;leaf_113 -->
<g id="edge113" class="edge">
<title>codeblock_109&#45;&gt;leaf_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7168.4451,-1054.7414C7174.9766,-972.6566 7201.9269,-633.9638 7213.5851,-487.4511"/>
<polygon fill="#000000" stroke="#000000" points="7217.0933,-487.4866 7214.3976,-477.2405 7210.1153,-486.9313 7217.0933,-487.4866"/>
</g>
<!-- leaf_112 -->
<g id="node113" class="node">
<title>leaf_112</title>
<polygon fill="none" stroke="#c0c0c0" points="7275.5,-70.7004 6720.5,-70.7004 6720.5,-.0997 7275.5,-.0997 7275.5,-70.7004"/>
<text text-anchor="middle" x="6998" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Just peeling off layers here. &#160;I realize there are more sophisticated ways to</text>
<text text-anchor="middle" x="6998" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">do almost everything but for now this will get us where we&#39;re going.</text>
</g>
<!-- raw_111&#45;&gt;leaf_112 -->
<g id="edge112" class="edge">
<title>raw_111&#45;&gt;leaf_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6998,-401.3946C6998,-344.2446 6998,-165.7356 6998,-80.9671"/>
<polygon fill="#000000" stroke="#000000" points="7001.5001,-80.865 6998,-70.865 6994.5001,-80.8651 7001.5001,-80.865"/>
</g>
<!-- leaf_117 -->
<g id="node118" class="node">
<title>leaf_117</title>
<polygon fill="none" stroke="#c0c0c0" points="7407.5,-1090.9018 7272.5,-1090.9018 7272.5,-1054.9018 7407.5,-1054.9018 7407.5,-1090.9018"/>
<text text-anchor="middle" x="7340" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.open()</text>
</g>
<!-- header_114&#45;&gt;leaf_117 -->
<g id="edge117" class="edge">
<title>header_114&#45;&gt;leaf_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7376.0633,-1413.5111C7369.863,-1354.9508 7350.4712,-1171.8001 7342.9877,-1101.1201"/>
<polygon fill="#000000" stroke="#000000" points="7346.4663,-1100.7322 7341.9328,-1091.1564 7339.5052,-1101.4693 7346.4663,-1100.7322"/>
</g>
<!-- raw_118 -->
<g id="node119" class="node">
<title>raw_118</title>
<ellipse fill="none" stroke="#000000" cx="7453" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="7453" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_115&#45;&gt;raw_118 -->
<g id="edge118" class="edge">
<title>prose_115&#45;&gt;raw_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7523.8127,-1417.6681C7511.5961,-1407.9418 7496.897,-1393.9011 7489,-1377.8024 7443.335,-1284.7108 7446.2831,-1157.039 7450.3316,-1101.0949"/>
<polygon fill="#000000" stroke="#000000" points="7453.839,-1101.1398 7451.1419,-1090.894 7446.861,-1100.5854 7453.839,-1101.1398"/>
</g>
<!-- prespace_119 -->
<g id="node120" class="node">
<title>prespace_119</title>
<ellipse fill="none" stroke="#000000" cx="7544" cy="-1072.9018" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="7544" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_115&#45;&gt;prespace_119 -->
<g id="edge119" class="edge">
<title>prose_115&#45;&gt;prespace_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7544,-1413.5111C7544,-1355.071 7544,-1172.5518 7544,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="7547.5001,-1101.1563 7544,-1091.1564 7540.5001,-1101.1564 7547.5001,-1101.1563"/>
</g>
<!-- literal_120 -->
<g id="node121" class="node">
<title>literal_120</title>
<ellipse fill="none" stroke="#000000" cx="7640" cy="-1072.9018" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7640" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_115&#45;&gt;literal_120 -->
<g id="edge120" class="edge">
<title>prose_115&#45;&gt;literal_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7564.0989,-1417.6243C7576.2803,-1407.8805 7590.9733,-1393.8369 7599,-1377.8024 7645.5095,-1284.8932 7645.0096,-1157.1266 7642.0881,-1101.1265"/>
<polygon fill="#000000" stroke="#000000" points="7645.5686,-1100.6911 7641.4847,-1090.915 7638.5808,-1101.104 7645.5686,-1100.6911"/>
</g>
<!-- raw_121 -->
<g id="node122" class="node">
<title>raw_121</title>
<ellipse fill="none" stroke="#000000" cx="7716" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="7716" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_115&#45;&gt;raw_121 -->
<g id="edge121" class="edge">
<title>prose_115&#45;&gt;raw_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7575.695,-1428.4591C7607.4185,-1423.3117 7655.0017,-1410.335 7680,-1377.8024 7743.8994,-1294.6441 7730.8417,-1159.207 7721.3753,-1100.9726"/>
<polygon fill="#000000" stroke="#000000" points="7724.8097,-1100.2914 7719.6689,-1091.0274 7717.9105,-1101.4753 7724.8097,-1100.2914"/>
</g>
<!-- leaf_126 -->
<g id="node127" class="node">
<title>leaf_126</title>
<polygon fill="none" stroke="#c0c0c0" points="8197,-1184.5026 7761,-1184.5026 7761,-961.301 8197,-961.301 8197,-1184.5026"/>
<text text-anchor="middle" x="7979" y="-1169.502" font-family="Inconsolata" font-size="14.00" fill="#000000">function Loader.open()</text>
<text text-anchor="middle" x="7979" y="-1154.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local new = not (File(bridge_modules) : exists())</text>
<text text-anchor="middle" x="7979" y="-1138.702" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if new then</text>
<text text-anchor="middle" x="7979" y="-1123.302" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;print &quot;creating new bridge.modules&quot;</text>
<text text-anchor="middle" x="7979" y="-1107.9019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7979" y="-1092.5019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local conn = sql.open(bridge_modules)</text>
<text text-anchor="middle" x="7979" y="-1077.1019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo: turn on foreign_keys pragma when we add sqlayer</text>
<text text-anchor="middle" x="7979" y="-1061.7018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if new then</text>
<text text-anchor="middle" x="7979" y="-1046.3018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_project_table)</text>
<text text-anchor="middle" x="7979" y="-1030.9018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_code_table)</text>
<text text-anchor="middle" x="7979" y="-1015.5017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_module_table)</text>
<text text-anchor="middle" x="7979" y="-1000.1017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7979" y="-984.7017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return conn</text>
<text text-anchor="middle" x="7979" y="-969.3016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_116&#45;&gt;leaf_126 -->
<g id="edge126" class="edge">
<title>codeblock_116&#45;&gt;leaf_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7838.5428,-1413.5111C7855.0765,-1373.4168 7895.6943,-1274.9185 7929.0211,-1194.1009"/>
<polygon fill="#000000" stroke="#000000" points="7932.2633,-1195.4191 7932.84,-1184.84 7925.792,-1192.7505 7932.2633,-1195.4191"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="7492.5,-447.3021 7413.5,-447.3021 7413.5,-391.4992 7492.5,-391.4992 7492.5,-447.3021"/>
<text text-anchor="middle" x="7453" y="-399.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">Loads the</text>
</g>
<!-- raw_118&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>raw_118&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7453,-1054.7414C7453,-966.4069 7453,-580.9019 7453,-457.5261"/>
<polygon fill="#000000" stroke="#000000" points="7456.5001,-457.4202 7453,-447.4203 7449.5001,-457.4203 7456.5001,-457.4202"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="7565,-437.4007 7511,-437.4007 7511,-401.4007 7565,-401.4007 7565,-437.4007"/>
<text text-anchor="middle" x="7538" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_119&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>prespace_119&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7543.8333,-1054.7414C7542.9989,-963.8693 7539.2772,-558.5075 7538.2585,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="7541.7577,-447.4407 7538.1659,-437.4733 7534.758,-447.5051 7541.7577,-447.4407"/>
</g>
<!-- leaf_124 -->
<g id="node125" class="node">
<title>leaf_124</title>
<polygon fill="none" stroke="#c0c0c0" points="7697,-437.4007 7583,-437.4007 7583,-401.4007 7697,-401.4007 7697,-437.4007"/>
<text text-anchor="middle" x="7640" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">bridge.modules</text>
</g>
<!-- literal_120&#45;&gt;leaf_124 -->
<g id="edge124" class="edge">
<title>literal_120&#45;&gt;leaf_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7640,-1054.7414C7640,-963.8693 7640,-558.5075 7640,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="7643.5001,-447.4733 7640,-437.4733 7636.5001,-447.4733 7643.5001,-447.4733"/>
</g>
<!-- leaf_125 -->
<g id="node126" class="node">
<title>leaf_125</title>
<polygon fill="none" stroke="#c0c0c0" points="8039,-437.4007 7715,-437.4007 7715,-401.4007 8039,-401.4007 8039,-437.4007"/>
<text text-anchor="middle" x="7877" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> database and returns the SQLite connection.</text>
</g>
<!-- raw_121&#45;&gt;leaf_125 -->
<g id="edge125" class="edge">
<title>raw_121&#45;&gt;leaf_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7716.7076,-1054.7844C7718.8729,-1007.184 7726.8703,-874.8887 7752,-768.0012 7781.0022,-644.6425 7839.4418,-504.5962 7864.7988,-446.6812"/>
<polygon fill="#000000" stroke="#000000" points="7868.0265,-448.0359 7868.8553,-437.4735 7861.6206,-445.2137 7868.0265,-448.0359"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="8546.5,-1090.9018 8215.5,-1090.9018 8215.5,-1054.9018 8546.5,-1054.9018 8546.5,-1090.9018"/>
<text text-anchor="middle" x="8381" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.commitModule(conn, bytecode, deck)</text>
</g>
<!-- header_127&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>header_127&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8391.4394,-1413.5111C8389.6482,-1355.071 8384.0542,-1172.5518 8381.8783,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="8385.3643,-1101.0444 8381.5595,-1091.1564 8378.3676,-1101.2589 8385.3643,-1101.0444"/>
</g>
<!-- raw_133 -->
<g id="node134" class="node">
<title>raw_133</title>
<ellipse fill="none" stroke="#000000" cx="8592" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="8592" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_128&#45;&gt;raw_133 -->
<g id="edge133" class="edge">
<title>prose_128&#45;&gt;raw_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8642.6068,-1414.3C8637.4758,-1403.9659 8631.4758,-1390.4659 8628,-1377.8024 8600.8105,-1278.7414 8594.156,-1156.0311 8592.5275,-1101.4211"/>
<polygon fill="#000000" stroke="#000000" points="8596.0188,-1101.0386 8592.2575,-1091.1339 8589.0212,-1101.2223 8596.0188,-1101.0386"/>
</g>
<!-- raw_135 -->
<g id="node136" class="node">
<title>raw_135</title>
<ellipse fill="none" stroke="#000000" cx="8664" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="8664" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_129&#45;&gt;raw_135 -->
<g id="edge135" class="edge">
<title>prose_129&#45;&gt;raw_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8734.8127,-1417.6681C8722.5961,-1407.9418 8707.897,-1393.9011 8700,-1377.8024 8654.335,-1284.7108 8657.2831,-1157.039 8661.3316,-1101.0949"/>
<polygon fill="#000000" stroke="#000000" points="8664.839,-1101.1398 8662.1419,-1090.894 8657.861,-1100.5854 8664.839,-1101.1398"/>
</g>
<!-- prespace_136 -->
<g id="node137" class="node">
<title>prespace_136</title>
<ellipse fill="none" stroke="#000000" cx="8755" cy="-1072.9018" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="8755" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_129&#45;&gt;prespace_136 -->
<g id="edge136" class="edge">
<title>prose_129&#45;&gt;prespace_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8755,-1413.5111C8755,-1355.071 8755,-1172.5518 8755,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="8758.5001,-1101.1563 8755,-1091.1564 8751.5001,-1101.1564 8758.5001,-1101.1563"/>
</g>
<!-- literal_137 -->
<g id="node138" class="node">
<title>literal_137</title>
<ellipse fill="none" stroke="#000000" cx="8851" cy="-1072.9018" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8851" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_129&#45;&gt;literal_137 -->
<g id="edge137" class="edge">
<title>prose_129&#45;&gt;literal_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8775.0989,-1417.6243C8787.2803,-1407.8805 8801.9733,-1393.8369 8810,-1377.8024 8856.5095,-1284.8932 8856.0096,-1157.1266 8853.0881,-1101.1265"/>
<polygon fill="#000000" stroke="#000000" points="8856.5686,-1100.6911 8852.4847,-1090.915 8849.5808,-1101.104 8856.5686,-1100.6911"/>
</g>
<!-- raw_138 -->
<g id="node139" class="node">
<title>raw_138</title>
<ellipse fill="none" stroke="#000000" cx="8927" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="8927" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_129&#45;&gt;raw_138 -->
<g id="edge138" class="edge">
<title>prose_129&#45;&gt;raw_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8786.695,-1428.4591C8818.4185,-1423.3117 8866.0017,-1410.335 8891,-1377.8024 8954.8994,-1294.6441 8941.8417,-1159.207 8932.3753,-1100.9726"/>
<polygon fill="#000000" stroke="#000000" points="8935.8097,-1100.2914 8930.6689,-1091.0274 8928.9105,-1101.4753 8935.8097,-1100.2914"/>
</g>
<!-- leaf_143 -->
<g id="node144" class="node">
<title>leaf_143</title>
<polygon fill="none" stroke="#c0c0c0" points="9485.5,-1231.0027 8972.5,-1231.0027 8972.5,-914.801 9485.5,-914.801 9485.5,-1231.0027"/>
<text text-anchor="middle" x="9229" y="-1216.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local function commitModule(conn, bytecode, project_id)</text>
<text text-anchor="middle" x="9229" y="-1200.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; upsert code.binary and code.hash</text>
<text text-anchor="middle" x="9229" y="-1185.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(new_code):bindkv(bytecode):step()</text>
<text text-anchor="middle" x="9229" y="-1169.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; select code_id</text>
<text text-anchor="middle" x="9229" y="-1154.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local code_id = _unwrapForeignKey(conn:exec(</text>
<text text-anchor="middle" x="9229" y="-1139.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sql.format(get_code_id_by_hash,</text>
<text text-anchor="middle" x="9229" y="-1123.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bytecode.hash)))</text>
<text text-anchor="middle" x="9229" y="-1108.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not code_id then</text>
<text text-anchor="middle" x="9229" y="-1092.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;error(&quot;code_id not found for &quot; .. bytecode.name)</text>
<text text-anchor="middle" x="9229" y="-1077.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="9229" y="-1062.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local mod = { name = bytecode.name,</text>
<text text-anchor="middle" x="9229" y="-1046.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;project_id = project_id,</text>
<text text-anchor="middle" x="9229" y="-1031.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_id = code_id,</text>
<text text-anchor="middle" x="9229" y="-1015.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;snapshot = 1,</text>
<text text-anchor="middle" x="9229" y="-1000.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;vc_hash = &quot;&quot;,</text>
<text text-anchor="middle" x="9229" y="-985.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;version = &quot;SNAPSHOT&quot; }</text>
<text text-anchor="middle" x="9229" y="-969.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(add_module):bindkv(mod):step()</text>
<text text-anchor="middle" x="9229" y="-954.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="9229" y="-922.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">Loader.commitModule = commitModule</text>
</g>
<!-- codeblock_130&#45;&gt;leaf_143 -->
<g id="edge143" class="edge">
<title>codeblock_130&#45;&gt;leaf_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9069.5621,-1413.5111C9084.8563,-1380.8379 9118.3054,-1309.3801 9150.6361,-1240.3117"/>
<polygon fill="#000000" stroke="#000000" points="9153.9127,-1241.5675 9154.9823,-1231.0268 9147.5729,-1238.5998 9153.9127,-1241.5675"/>
</g>
<!-- header_144 -->
<g id="node145" class="node">
<title>header_144</title>
<ellipse fill="none" stroke="#000000" cx="9631" cy="-1072.9018" rx="127.6701" ry="18"/>
<text text-anchor="middle" x="9631" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : _newProject(conn, project)</text>
</g>
<!-- section_131&#45;&gt;header_144 -->
<g id="edge144" class="edge">
<title>section_131&#45;&gt;header_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9715.4641,-1413.5111C9700.9424,-1354.9508 9655.5248,-1171.8001 9637.9976,-1101.1201"/>
<polygon fill="#000000" stroke="#000000" points="9641.3308,-1100.0199 9635.5267,-1091.1564 9634.5366,-1101.7048 9641.3308,-1100.0199"/>
</g>
<!-- prose_145 -->
<g id="node146" class="node">
<title>prose_145</title>
<ellipse fill="none" stroke="#000000" cx="9809" cy="-1072.9018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9809" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_131&#45;&gt;prose_145 -->
<g id="edge145" class="edge">
<title>section_131&#45;&gt;prose_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9740.4409,-1414.3378C9750.418,-1404.6272 9761.6185,-1391.7112 9768,-1377.8024 9811.2232,-1283.5949 9812.4758,-1157.0056 9810.5518,-1101.2653"/>
<polygon fill="#000000" stroke="#000000" points="9814.0415,-1100.9412 9810.1361,-1091.0924 9807.0474,-1101.227 9814.0415,-1100.9412"/>
</g>
<!-- codeblock_146 -->
<g id="node147" class="node">
<title>codeblock_146</title>
<ellipse fill="none" stroke="#000000" cx="9947" cy="-1072.9018" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9947" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 251&#45;260</text>
</g>
<!-- section_131&#45;&gt;codeblock_146 -->
<g id="edge146" class="edge">
<title>section_131&#45;&gt;codeblock_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9776.5864,-1419.8596C9802.0962,-1411.8464 9830.7483,-1398.7786 9850,-1377.8024 9924.078,-1297.0885 9941.5877,-1159.7725 9945.723,-1100.974"/>
<polygon fill="#000000" stroke="#000000" points="9949.2195,-1101.139 9946.3502,-1090.9401 9942.2331,-1100.7022 9949.2195,-1101.139"/>
</g>
<!-- leaf_134 -->
<g id="node135" class="node">
<title>leaf_134</title>
<polygon fill="none" stroke="#c0c0c0" points="8409,-447.3021 8057,-447.3021 8057,-391.4992 8409,-391.4992 8409,-447.3021"/>
<text text-anchor="middle" x="8233" y="-399.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">Commits a single module and associated bytecode.</text>
</g>
<!-- raw_133&#45;&gt;leaf_134 -->
<g id="edge134" class="edge">
<title>raw_133&#45;&gt;leaf_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8595.9753,-1055.0799C8606.3507,-1003.4983 8628.6081,-852.3856 8555,-768.0012 8513.6159,-720.5585 8468.244,-769.9354 8418,-732.0012 8322.496,-659.8959 8266.9286,-522.9293 8244.5662,-456.8756"/>
<polygon fill="#000000" stroke="#000000" points="8247.8544,-455.6715 8241.3839,-447.2821 8241.2104,-457.8755 8247.8544,-455.6715"/>
</g>
<!-- leaf_139 -->
<g id="node140" class="node">
<title>leaf_139</title>
<polygon fill="none" stroke="#c0c0c0" points="8989,-454.601 8427,-454.601 8427,-384.2003 8989,-384.2003 8989,-454.601"/>
<text text-anchor="middle" x="8708" y="-423.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">It might be smarter to fetch all hashes associated with the project first, and</text>
<text text-anchor="middle" x="8708" y="-407.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">only commit ones which aren&#39;t on the list, but it&#39;s definitely easier to just</text>
<text text-anchor="middle" x="8708" y="-392.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">commit everything and let the</text>
</g>
<!-- raw_135&#45;&gt;leaf_139 -->
<g id="edge139" class="edge">
<title>raw_135&#45;&gt;leaf_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8665.2227,-1054.7414C8671.0606,-968.0357 8696.1758,-595.0177 8704.9558,-464.6148"/>
<polygon fill="#000000" stroke="#000000" points="8708.4526,-464.7772 8705.6324,-454.5646 8701.4685,-464.3069 8708.4526,-464.7772"/>
</g>
<!-- leaf_140 -->
<g id="node141" class="node">
<title>leaf_140</title>
<polygon fill="none" stroke="#c0c0c0" points="9061,-437.4007 9007,-437.4007 9007,-401.4007 9061,-401.4007 9061,-437.4007"/>
<text text-anchor="middle" x="9034" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_136&#45;&gt;leaf_140 -->
<g id="edge140" class="edge">
<title>prespace_136&#45;&gt;leaf_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8752.0666,-1054.6803C8744.7193,-1002.0156 8731.4242,-848.2599 8811,-768.0012 8870.5913,-707.8986 8940.4547,-794.0657 8998,-732.0012 9071.7575,-652.4514 9052.7499,-508.2228 9040.5118,-447.5219"/>
<polygon fill="#000000" stroke="#000000" points="9043.8914,-446.5856 9038.4022,-437.5237 9037.0422,-448.0309 9043.8914,-446.5856"/>
</g>
<!-- leaf_141 -->
<g id="node142" class="node">
<title>leaf_141</title>
<polygon fill="none" stroke="#c0c0c0" points="9221,-437.4007 9079,-437.4007 9079,-401.4007 9221,-401.4007 9221,-437.4007"/>
<text text-anchor="middle" x="9150" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">ON CONFLICT IGNORE</text>
</g>
<!-- literal_137&#45;&gt;leaf_141 -->
<g id="edge141" class="edge">
<title>literal_137&#45;&gt;leaf_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8846.997,-1054.8418C8836.5787,-1002.6151 8814.465,-849.9279 8891,-768.0012 8946.3962,-708.7025 9011.145,-787.8687 9070,-732.0012 9150.8733,-655.2332 9154.3478,-508.859 9151.8913,-447.5319"/>
<polygon fill="#000000" stroke="#000000" points="9155.3821,-447.2567 9151.4001,-437.4386 9148.3904,-447.597 9155.3821,-447.2567"/>
</g>
<!-- leaf_142 -->
<g id="node143" class="node">
<title>leaf_142</title>
<polygon fill="none" stroke="#c0c0c0" points="9402.5,-437.4007 9239.5,-437.4007 9239.5,-401.4007 9402.5,-401.4007 9402.5,-437.4007"/>
<text text-anchor="middle" x="9321" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> prevent duplication.</text>
</g>
<!-- raw_138&#45;&gt;leaf_142 -->
<g id="edge142" class="edge">
<title>raw_138&#45;&gt;leaf_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8922.551,-1055.0111C8910.6912,-1002.5846 8884.3194,-847.9905 8963,-768.0012 9046.9681,-682.6365 9139.2536,-810.1221 9230,-732.0012 9315.2666,-658.5978 9322.9527,-510.356 9322.1526,-448.0314"/>
<polygon fill="#000000" stroke="#000000" points="9325.6462,-447.6916 9321.9316,-437.7692 9318.6478,-447.8423 9325.6462,-447.6916"/>
</g>
<!-- leaf_147 -->
<g id="node148" class="node">
<title>leaf_147</title>
<polygon fill="none" stroke="#c0c0c0" points="9747.5,-437.4007 9514.5,-437.4007 9514.5,-401.4007 9747.5,-401.4007 9747.5,-437.4007"/>
<text text-anchor="middle" x="9631" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">**** _newProject(conn, project)</text>
</g>
<!-- header_144&#45;&gt;leaf_147 -->
<g id="edge147" class="edge">
<title>header_144&#45;&gt;leaf_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9631,-1054.7414C9631,-963.8693 9631,-558.5075 9631,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="9634.5001,-447.4733 9631,-437.4733 9627.5001,-447.4733 9634.5001,-447.4733"/>
</g>
<!-- raw_148 -->
<g id="node149" class="node">
<title>raw_148</title>
<ellipse fill="none" stroke="#000000" cx="9801" cy="-419.4007" rx="27" ry="18"/>
<text text-anchor="middle" x="9801" y="-415.2007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_145&#45;&gt;raw_148 -->
<g id="edge148" class="edge">
<title>prose_145&#45;&gt;raw_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9808.7777,-1054.7414C9807.6653,-963.8693 9802.7029,-558.5075 9801.3447,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="9804.8435,-447.4297 9801.2212,-437.4733 9797.844,-447.5154 9804.8435,-447.4297"/>
</g>
<!-- leaf_150 -->
<g id="node151" class="node">
<title>leaf_150</title>
<polygon fill="none" stroke="#c0c0c0" points="10219.5,-485.1011 9846.5,-485.1011 9846.5,-353.7003 10219.5,-353.7003 10219.5,-485.1011"/>
<text text-anchor="middle" x="10033" y="-469.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _newProject(conn, project)</text>
<text text-anchor="middle" x="10033" y="-454.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;assert(project.name, &quot;project must have a name&quot;)</text>
<text text-anchor="middle" x="10033" y="-439.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.repo = project.repo or &quot;&quot;</text>
<text text-anchor="middle" x="10033" y="-423.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.home = project.home or &quot;&quot;</text>
<text text-anchor="middle" x="10033" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.website = project.website or &quot;&quot;</text>
<text text-anchor="middle" x="10033" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(new_project):bindkv(project):step()</text>
<text text-anchor="middle" x="10033" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return true</text>
<text text-anchor="middle" x="10033" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_146&#45;&gt;leaf_150 -->
<g id="edge150" class="edge">
<title>codeblock_146&#45;&gt;leaf_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9949.3899,-1054.7414C9960.0041,-974.0859 10003.2218,-645.6807 10023.0148,-495.2768"/>
<polygon fill="#000000" stroke="#000000" points="10026.5066,-495.5676 10024.3414,-485.1964 10019.5665,-494.6542 10026.5066,-495.5676"/>
</g>
<!-- leaf_149 -->
<g id="node150" class="node">
<title>leaf_149</title>
<polygon fill="none" stroke="#c0c0c0" points="9828,-53.4 9774,-53.4 9774,-17.4 9828,-17.4 9828,-53.4"/>
</g>
<!-- raw_148&#45;&gt;leaf_149 -->
<g id="edge149" class="edge">
<title>raw_148&#45;&gt;leaf_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9801,-401.3946C9801,-340.0584 9801,-138.9332 9801,-63.9328"/>
<polygon fill="#000000" stroke="#000000" points="9804.5001,-63.814 9801,-53.814 9797.5001,-63.8141 9804.5001,-63.814"/>
</g>
<!-- leaf_154 -->
<g id="node155" class="node">
<title>leaf_154</title>
<polygon fill="none" stroke="#c0c0c0" points="10313.5,-1090.9018 10052.5,-1090.9018 10052.5,-1054.9018 10313.5,-1054.9018 10313.5,-1090.9018"/>
<text text-anchor="middle" x="10183" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.commitCodex(conn, codex)</text>
</g>
<!-- header_151&#45;&gt;leaf_154 -->
<g id="edge154" class="edge">
<title>header_151&#45;&gt;leaf_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10166.8664,-1413.5111C10169.6345,-1355.071 10178.2799,-1172.5518 10181.6427,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="10185.1582,-1101.3108 10182.1353,-1091.1564 10178.166,-1100.9795 10185.1582,-1101.3108"/>
</g>
<!-- raw_155 -->
<g id="node156" class="node">
<title>raw_155</title>
<ellipse fill="none" stroke="#000000" cx="10359" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="10359" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_152&#45;&gt;raw_155 -->
<g id="edge155" class="edge">
<title>prose_152&#45;&gt;raw_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10375.1336,-1413.5111C10372.3655,-1355.071 10363.7201,-1172.5518 10360.3573,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="10363.834,-1100.9795 10359.8647,-1091.1564 10356.8418,-1101.3108 10363.834,-1100.9795"/>
</g>
<!-- leaf_157 -->
<g id="node158" class="node">
<title>leaf_157</title>
<polygon fill="none" stroke="#c0c0c0" points="10847.5,-1254.1026 10404.5,-1254.1026 10404.5,-891.7011 10847.5,-891.7011 10847.5,-1254.1026"/>
<text text-anchor="middle" x="10626" y="-1238.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">function Loader.commitCodex(conn, codex)</text>
<text text-anchor="middle" x="10626" y="-1223.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; begin transaction</text>
<text text-anchor="middle" x="10626" y="-1208.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec &quot;BEGIN TRANSACTION;&quot;</text>
<text text-anchor="middle" x="10626" y="-1192.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; upsert project</text>
<text text-anchor="middle" x="10626" y="-1177.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; select project_id</text>
<text text-anchor="middle" x="10626" y="-1161.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local get_proj = sql.format(get_project_id, codex.project)</text>
<text text-anchor="middle" x="10626" y="-1146.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local project_id = _unwrapForeignKey(conn:exec(get_proj))</text>
<text text-anchor="middle" x="10626" y="-1131.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if project_id then</text>
<text text-anchor="middle" x="10626" y="-1115.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;print (&quot;project_id is &quot; .. project_id)</text>
<text text-anchor="middle" x="10626" y="-1100.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="10626" y="-1084.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;_newProject(conn, {name = codex.project})</text>
<text text-anchor="middle" x="10626" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;project_id = _unwrapForeignKey(conn:exec(get_proj))</text>
<text text-anchor="middle" x="10626" y="-1054.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not project_id then</text>
<text text-anchor="middle" x="10626" y="-1038.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error (&quot;failed to create project &quot; .. codex.project)</text>
<text text-anchor="middle" x="10626" y="-1023.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10626" y="-1007.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10626" y="-992.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for _, bytecode in pairs(codex.bytecodes) do</text>
<text text-anchor="middle" x="10626" y="-977.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;commitModule(conn, bytecode, project_id)</text>
<text text-anchor="middle" x="10626" y="-961.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10626" y="-946.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; commit transaction</text>
<text text-anchor="middle" x="10626" y="-930.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec &quot;COMMIT;&quot;</text>
<text text-anchor="middle" x="10626" y="-915.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return conn</text>
<text text-anchor="middle" x="10626" y="-900.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_153&#45;&gt;leaf_157 -->
<g id="edge157" class="edge">
<title>codeblock_153&#45;&gt;leaf_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10565.2618,-1413.5111C10570.4134,-1384.6218 10580.972,-1325.411 10591.8622,-1264.3403"/>
<polygon fill="#000000" stroke="#000000" points="10595.3733,-1264.5877 10593.6832,-1254.1285 10588.482,-1263.3587 10595.3733,-1264.5877"/>
</g>
<!-- leaf_156 -->
<g id="node157" class="node">
<title>leaf_156</title>
<polygon fill="none" stroke="#c0c0c0" points="10386,-437.4007 10332,-437.4007 10332,-401.4007 10386,-401.4007 10386,-437.4007"/>
</g>
<!-- raw_155&#45;&gt;leaf_156 -->
<g id="edge156" class="edge">
<title>raw_155&#45;&gt;leaf_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10359,-1054.7414C10359,-963.8693 10359,-558.5075 10359,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="10362.5001,-447.4733 10359,-437.4733 10355.5001,-447.4733 10362.5001,-447.4733"/>
</g>
<!-- leaf_161 -->
<g id="node162" class="node">
<title>leaf_161</title>
<polygon fill="none" stroke="#c0c0c0" points="11098.5,-1090.9018 10865.5,-1090.9018 10865.5,-1054.9018 11098.5,-1054.9018 11098.5,-1090.9018"/>
<text text-anchor="middle" x="10982" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.load(conn, mod_name)</text>
</g>
<!-- header_158&#45;&gt;leaf_161 -->
<g id="edge161" class="edge">
<title>header_158&#45;&gt;leaf_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10967.7645,-1413.5111C10970.2069,-1355.071 10977.8352,-1172.5518 10980.8024,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="10984.3163,-1101.2938 10981.2371,-1091.1564 10977.3224,-1101.0014 10984.3163,-1101.2938"/>
</g>
<!-- raw_162 -->
<g id="node163" class="node">
<title>raw_162</title>
<ellipse fill="none" stroke="#000000" cx="11144" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="11144" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_159&#45;&gt;raw_162 -->
<g id="edge162" class="edge">
<title>prose_159&#45;&gt;raw_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11159.1846,-1413.5111C11156.5793,-1355.071 11148.4425,-1172.5518 11145.2775,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="11148.7558,-1100.9905 11144.8138,-1091.1564 11141.7627,-1101.3023 11148.7558,-1100.9905"/>
</g>
<!-- leaf_164 -->
<g id="node165" class="node">
<title>leaf_164</title>
<polygon fill="none" stroke="#c0c0c0" points="11681,-1377.703 11189,-1377.703 11189,-768.1006 11681,-768.1006 11681,-1377.703"/>
<text text-anchor="middle" x="11435" y="-1362.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">local match = string.match</text>
<text text-anchor="middle" x="11435" y="-1331.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _loadModule(conn, mod_name)</text>
<text text-anchor="middle" x="11435" y="-1315.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; split the module into project and modname</text>
<text text-anchor="middle" x="11435" y="-1300.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local project, mod = match(mod_name, &quot;(.*):(.*)&quot;)</text>
<text text-anchor="middle" x="11435" y="-1285.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not mod then</text>
<text text-anchor="middle" x="11435" y="-1269.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;mod = mod_name</text>
<text text-anchor="middle" x="11435" y="-1254.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11435" y="-1238.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if project then</text>
<text text-anchor="middle" x="11435" y="-1223.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; retrive module name by project</text>
<text text-anchor="middle" x="11435" y="-1208.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local project_id = _unwrapForeignKey(</text>
<text text-anchor="middle" x="11435" y="-1192.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;conn:exec(</text>
<text text-anchor="middle" x="11435" y="-1177.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sql.format(get_project_id, project)))</text>
<text text-anchor="middle" x="11435" y="-1161.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not project_id then</text>
<text text-anchor="middle" x="11435" y="-1146.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; note that this shouldn&#39;t be an error eventually</text>
<text text-anchor="middle" x="11435" y="-1131.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error(&quot;project not found in bridge.modules: &quot; .. project)</text>
<text text-anchor="middle" x="11435" y="-1115.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11435" y="-1100.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local code_id = _unwrapForeignKey(</text>
<text text-anchor="middle" x="11435" y="-1084.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;conn:exec(</text>
<text text-anchor="middle" x="11435" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sql.format(get_code_id_for_module_project,</text>
<text text-anchor="middle" x="11435" y="-1054.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;project_id, mod)))</text>
<text text-anchor="middle" x="11435" y="-1038.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not code_id then</text>
<text text-anchor="middle" x="11435" y="-1023.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; nor this</text>
<text text-anchor="middle" x="11435" y="-1007.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error(&quot;bytecode not found in bridge.modules: &quot; .. mod_name)</text>
<text text-anchor="middle" x="11435" y="-992.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11435" y="-977.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local bytecode = _unwrapForeignKey(</text>
<text text-anchor="middle" x="11435" y="-961.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;conn:exec(</text>
<text text-anchor="middle" x="11435" y="-946.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sql.format(get_bytecode, code_id)))</text>
<text text-anchor="middle" x="11435" y="-930.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if bytecode then</text>
<text text-anchor="middle" x="11435" y="-915.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return load(bytecode)</text>
<text text-anchor="middle" x="11435" y="-900.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="11435" y="-884.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error(&quot;no bytecode in &quot; .. mod_name)</text>
<text text-anchor="middle" x="11435" y="-869.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11435" y="-853.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="11435" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; try to retrieve the module without project constraint</text>
<text text-anchor="middle" x="11435" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11435" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="11435" y="-776.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">Loader.load = _loadModule</text>
</g>
<!-- codeblock_160&#45;&gt;leaf_164 -->
<g id="edge164" class="edge">
<title>codeblock_160&#45;&gt;leaf_164</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11377.1089,-1413.5111C11378.2864,-1406.583 11379.7603,-1397.9112 11381.4638,-1387.8882"/>
<polygon fill="#000000" stroke="#000000" points="11384.9401,-1388.3223 11383.1653,-1377.8772 11378.0391,-1387.1493 11384.9401,-1388.3223"/>
</g>
<!-- leaf_163 -->
<g id="node164" class="node">
<title>leaf_163</title>
<polygon fill="none" stroke="#c0c0c0" points="11344.5,-447.3021 10943.5,-447.3021 10943.5,-391.4992 11344.5,-391.4992 11344.5,-447.3021"/>
<text text-anchor="middle" x="11144" y="-399.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">Load a module given its name and a given database conn.</text>
</g>
<!-- raw_162&#45;&gt;leaf_163 -->
<g id="edge163" class="edge">
<title>raw_162&#45;&gt;leaf_163</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11144,-1054.7414C11144,-966.4069 11144,-580.9019 11144,-457.5261"/>
<polygon fill="#000000" stroke="#000000" points="11147.5001,-457.4202 11144,-447.4203 11140.5001,-457.4203 11147.5001,-457.4202"/>
</g>
<!-- leaf_171 -->
<g id="node172" class="node">
<title>leaf_171</title>
<polygon fill="none" stroke="#c0c0c0" points="11869,-1090.9018 11699,-1090.9018 11699,-1054.9018 11869,-1054.9018 11869,-1090.9018"/>
<text text-anchor="middle" x="11784" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.loaderGen()</text>
</g>
<!-- header_165&#45;&gt;leaf_171 -->
<g id="edge171" class="edge">
<title>header_165&#45;&gt;leaf_171</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11779.2548,-1413.5111C11780.069,-1355.071 11782.6117,-1172.5518 11783.6008,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="11787.106,-1101.2042 11783.7457,-1091.1564 11780.1066,-1101.1066 11787.106,-1101.2042"/>
</g>
<!-- raw_172 -->
<g id="node173" class="node">
<title>raw_172</title>
<ellipse fill="none" stroke="#000000" cx="11923" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="11923" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_166&#45;&gt;raw_172 -->
<g id="edge172" class="edge">
<title>prose_166&#45;&gt;raw_172</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11927.7452,-1413.5111C11926.931,-1355.071 11924.3883,-1172.5518 11923.3992,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="11926.8934,-1101.1066 11923.2543,-1091.1564 11919.894,-1101.2042 11926.8934,-1101.1066"/>
</g>
<!-- hashline_174 -->
<g id="node175" class="node">
<title>hashline_174</title>
<ellipse fill="none" stroke="#000000" cx="12023" cy="-1072.9018" rx="43.0992" ry="18"/>
<text text-anchor="middle" x="12023" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">hashline</text>
</g>
<!-- structure_167&#45;&gt;hashline_174 -->
<g id="edge174" class="edge">
<title>structure_167&#45;&gt;hashline_174</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12023,-1413.5111C12023,-1355.071 12023,-1172.5518 12023,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="12026.5001,-1101.1563 12023,-1091.1564 12019.5001,-1101.1564 12026.5001,-1101.1563"/>
</g>
<!-- raw_177 -->
<g id="node178" class="node">
<title>raw_177</title>
<ellipse fill="none" stroke="#000000" cx="12114" cy="-1072.9018" rx="27" ry="18"/>
<text text-anchor="middle" x="12114" y="-1068.7018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_168&#45;&gt;raw_177 -->
<g id="edge177" class="edge">
<title>prose_168&#45;&gt;raw_177</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12117.7961,-1413.5111C12117.1448,-1355.071 12115.1106,-1172.5518 12114.3194,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="12117.8148,-1101.1167 12114.2034,-1091.1564 12110.8152,-1101.1948 12117.8148,-1101.1167"/>
</g>
<!-- leaf_179 -->
<g id="node180" class="node">
<title>leaf_179</title>
<polygon fill="none" stroke="#c0c0c0" points="12455,-1123.3028 12159,-1123.3028 12159,-1022.5008 12455,-1022.5008 12455,-1123.3028"/>
<text text-anchor="middle" x="12307" y="-1107.9019" font-family="Inconsolata" font-size="14.00" fill="#000000">function Loader.loaderGen()</text>
<text text-anchor="middle" x="12307" y="-1092.5019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local conn = Loader.open()</text>
<text text-anchor="middle" x="12307" y="-1077.1019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return function(mod_name)</text>
<text text-anchor="middle" x="12307" y="-1061.7018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return _loadModule(conn, mod_name)</text>
<text text-anchor="middle" x="12307" y="-1046.3018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="12307" y="-1030.9018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_169&#45;&gt;leaf_179 -->
<g id="edge179" class="edge">
<title>codeblock_169&#45;&gt;leaf_179</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12282.3251,-1413.5111C12286.0255,-1362.4315 12296.5929,-1216.5601 12302.6304,-1133.2191"/>
<polygon fill="#000000" stroke="#000000" points="12306.1296,-1133.3554 12303.3614,-1123.1286 12299.1479,-1132.8496 12306.1296,-1133.3554"/>
</g>
<!-- leaf_180 -->
<g id="node181" class="node">
<title>leaf_180</title>
<polygon fill="none" stroke="#c0c0c0" points="12580.5,-1090.9018 12473.5,-1090.9018 12473.5,-1054.9018 12580.5,-1054.9018 12580.5,-1090.9018"/>
<text text-anchor="middle" x="12527" y="-1069.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">return Loader</text>
</g>
<!-- codeblock_170&#45;&gt;leaf_180 -->
<g id="edge180" class="edge">
<title>codeblock_170&#45;&gt;leaf_180</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12501.3761,-1413.5111C12505.7725,-1355.071 12519.5034,-1172.5518 12524.8443,-1101.557"/>
<polygon fill="#000000" stroke="#000000" points="12528.3666,-1101.3908 12525.6267,-1091.1564 12521.3863,-1100.8656 12528.3666,-1101.3908"/>
</g>
<!-- leaf_173 -->
<g id="node174" class="node">
<title>leaf_173</title>
<polygon fill="none" stroke="#c0c0c0" points="11963.5,-447.3021 11534.5,-447.3021 11534.5,-391.4992 11963.5,-391.4992 11963.5,-447.3021"/>
<text text-anchor="middle" x="11749" y="-399.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">Closes over the conn and returns a loader which can use it.</text>
</g>
<!-- raw_172&#45;&gt;leaf_173 -->
<g id="edge173" class="edge">
<title>raw_172&#45;&gt;leaf_173</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11921.6474,-1054.7728C11917.8109,-1007.1443 11905.3213,-874.7871 11878,-768.0012 11848.1653,-651.3916 11793.3251,-519.6483 11765.7554,-456.7271"/>
<polygon fill="#000000" stroke="#000000" points="11768.8072,-454.9728 11761.5727,-447.2324 11762.4012,-457.7948 11768.8072,-454.9728"/>
</g>
<!-- hashtag_175 -->
<g id="node176" class="node">
<title>hashtag_175</title>
<ellipse fill="none" stroke="#000000" cx="12023" cy="-419.4007" rx="41.6544" ry="18"/>
<text text-anchor="middle" x="12023" y="-415.2007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">hashtag</text>
</g>
<!-- hashline_174&#45;&gt;hashtag_175 -->
<g id="edge175" class="edge">
<title>hashline_174&#45;&gt;hashtag_175</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12023,-1054.7414C12023,-963.8693 12023,-558.5075 12023,-447.5554"/>
<polygon fill="#000000" stroke="#000000" points="12026.5001,-447.4733 12023,-437.4733 12019.5001,-447.4733 12026.5001,-447.4733"/>
</g>
<!-- leaf_176 -->
<g id="node177" class="node">
<title>leaf_176</title>
<polygon fill="none" stroke="#c0c0c0" points="12050,-53.4 11996,-53.4 11996,-17.4 12050,-17.4 12050,-53.4"/>
<text text-anchor="middle" x="12023" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">Todo</text>
</g>
<!-- hashtag_175&#45;&gt;leaf_176 -->
<g id="edge176" class="edge">
<title>hashtag_175&#45;&gt;leaf_176</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12023,-401.3946C12023,-340.0584 12023,-138.9332 12023,-63.9328"/>
<polygon fill="#000000" stroke="#000000" points="12026.5001,-63.814 12023,-53.814 12019.5001,-63.8141 12026.5001,-63.814"/>
</g>
<!-- leaf_178 -->
<g id="node179" class="node">
<title>leaf_178</title>
<polygon fill="none" stroke="#c0c0c0" points="12623.5,-446.7011 12082.5,-446.7011 12082.5,-392.1002 12623.5,-392.1002 12623.5,-446.7011"/>
<text text-anchor="middle" x="12353" y="-415.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">exit, and setting this up in LuaJIT is moderately complex, so just going to</text>
<text text-anchor="middle" x="12353" y="-400.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">punt on this for now.</text>
</g>
<!-- raw_177&#45;&gt;leaf_178 -->
<g id="edge178" class="edge">
<title>raw_177&#45;&gt;leaf_178</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12113.6054,-1054.821C12113.0883,-1006.7627 12115.1229,-872.3977 12150,-768.0012 12191.436,-643.9725 12280.4189,-515.4217 12325.5476,-454.9255"/>
<polygon fill="#000000" stroke="#000000" points="12328.4073,-456.946 12331.6149,-446.8484 12322.8104,-452.7418 12328.4073,-456.946"/>
</g>
</g>
</svg>
