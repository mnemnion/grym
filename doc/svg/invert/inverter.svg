<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="4858pt" height="2656pt"
 viewBox="0.00 0.00 4858.00 2655.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2651.804)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2651.804 4854,-2651.804 4854,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1076" cy="-2629.804" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1076" y="-2625.604" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 290</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1076" cy="-2557.804" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1076" y="-2553.604" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;205</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1076,-2611.6353C1076,-2603.9349 1076,-2594.7783 1076,-2586.2206"/>
<polygon fill="#000000" stroke="#000000" points="1079.5001,-2586.2172 1076,-2576.2172 1072.5001,-2586.2173 1079.5001,-2586.2172"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="676" cy="-2485.804" rx="83.677" ry="18"/>
<text text-anchor="middle" x="676" y="-2481.604" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Inverter module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1020.2085,-2548.285C958.6502,-2537.7134 856.6744,-2519.9981 769,-2503.804 762.2634,-2502.5597 755.2567,-2501.2437 748.2462,-2499.9123"/>
<polygon fill="#000000" stroke="#000000" points="748.4822,-2496.3943 738.0033,-2497.9573 747.1698,-2503.2702 748.4822,-2496.3943"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="810" cy="-2485.804" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="810" y="-2481.604" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1021.5927,-2547.5815C975.5423,-2538.2591 908.1105,-2523.0229 851,-2503.804 848.762,-2503.0508 846.4779,-2502.223 844.1901,-2501.3488"/>
<polygon fill="#000000" stroke="#000000" points="845.4555,-2498.0852 834.8733,-2497.5667 842.8225,-2504.5711 845.4555,-2498.0852"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="892" cy="-2485.804" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="892" y="-2481.604" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1036.3292,-2543.4604C1007.5071,-2532.8849 967.6453,-2517.939 933,-2503.804 930.9531,-2502.9689 928.8551,-2502.0972 926.7425,-2501.2073"/>
<polygon fill="#000000" stroke="#000000" points="928.0709,-2497.9688 917.5007,-2497.247 925.3137,-2504.4029 928.0709,-2497.9688"/>
</g>
<!-- codeblock_5 -->
<g id="node6" class="node">
<title>codeblock_5</title>
<ellipse fill="none" stroke="#000000" cx="1015" cy="-2485.804" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="1015" y="-2481.604" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 9&#45;24</text>
</g>
<!-- section_1&#45;&gt;codeblock_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;codeblock_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1060.9213,-2540.0062C1053.5895,-2531.3523 1044.6443,-2520.7939 1036.6032,-2511.3028"/>
<polygon fill="#000000" stroke="#000000" points="1039.2513,-2509.0139 1030.1166,-2503.6465 1033.9104,-2513.5388 1039.2513,-2509.0139"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="1138" cy="-2485.804" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1138" y="-2481.604" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1091.3258,-2540.0062C1099.058,-2531.0269 1108.5557,-2519.9974 1116.9604,-2510.2371"/>
<polygon fill="#000000" stroke="#000000" points="1119.8275,-2512.2713 1123.7005,-2502.4098 1114.5231,-2507.7037 1119.8275,-2512.2713"/>
</g>
<!-- codeblock_7 -->
<g id="node8" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="1348" cy="-2485.804" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1348" y="-2481.604" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 29&#45;64</text>
</g>
<!-- section_1&#45;&gt;codeblock_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;codeblock_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1123.3788,-2545.2625C1168.6609,-2533.2761 1237.1591,-2515.1442 1286.6048,-2502.0556"/>
<polygon fill="#000000" stroke="#000000" points="1287.7677,-2505.3684 1296.5391,-2499.426 1285.9764,-2498.6015 1287.7677,-2505.3684"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="2056" cy="-2485.804" rx="70.655" ry="18"/>
<text text-anchor="middle" x="2056" y="-2481.604" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 66&#45;205</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1139.5454,-2553.1353C1312.1778,-2540.4521 1789.485,-2505.3847 1977.9753,-2491.5364"/>
<polygon fill="#000000" stroke="#000000" points="1978.3656,-2495.0172 1988.0822,-2490.7938 1977.8526,-2488.0361 1978.3656,-2495.0172"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="3430" cy="-2485.804" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="3430" y="-2481.604" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 206&#45;245</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1141.4163,-2555.8031C1473.2937,-2545.6522 2969.6733,-2499.8836 3344.6068,-2488.4158"/>
<polygon fill="#000000" stroke="#000000" points="3344.9545,-2491.9069 3354.8427,-2488.1027 3344.7404,-2484.9102 3344.9545,-2491.9069"/>
</g>
<!-- raw_10 -->
<g id="node11" class="node">
<title>raw_10</title>
<ellipse fill="none" stroke="#000000" cx="357" cy="-2164.2035" rx="27" ry="18"/>
<text text-anchor="middle" x="357" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_10 -->
<g id="edge10" class="edge">
<title>prose_3&#45;&gt;raw_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M785.1677,-2473.916C779.907,-2471.6779 774.3313,-2469.5084 769,-2467.804 694.1938,-2443.8888 664.0189,-2471.0638 596,-2431.804 489.1587,-2370.1361 404.5902,-2243.7319 371.7746,-2189.6581"/>
<polygon fill="#000000" stroke="#000000" points="374.7456,-2187.8068 366.6047,-2181.0262 368.7403,-2191.4036 374.7456,-2187.8068"/>
</g>
<!-- raw_12 -->
<g id="node13" class="node">
<title>raw_12</title>
<ellipse fill="none" stroke="#000000" cx="632" cy="-2164.2035" rx="27" ry="18"/>
<text text-anchor="middle" x="632" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_12 -->
<g id="edge12" class="edge">
<title>prose_4&#45;&gt;raw_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M867.182,-2473.8709C861.9202,-2471.636 856.3406,-2469.4792 851,-2467.804 771.9078,-2442.9939 724.8136,-2492.164 668,-2431.804 605.6496,-2365.5615 617.1421,-2245.9736 626.3529,-2191.9841"/>
<polygon fill="#000000" stroke="#000000" points="629.8055,-2192.5596 628.1421,-2182.0962 622.9174,-2191.3131 629.8055,-2192.5596"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="1092.5,-2277.3042 677.5,-2277.3042 677.5,-2051.1029 1092.5,-2051.1029 1092.5,-2277.3042"/>
<text text-anchor="middle" x="885" y="-2262.3037" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="885" y="-2230.9036" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
<text text-anchor="middle" x="885" y="-2199.5036" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="885" y="-2168.1036" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="885" y="-2136.7035" font-family="Inconsolata" font-size="14.00" fill="#000000">local function isBlank(line)</text>
<text text-anchor="middle" x="885" y="-2121.3035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local all_blanks = L.match((m.__TAB__ + m._)^0, line)</text>
<text text-anchor="middle" x="885" y="-2105.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return (all_blanks == (#line + 1) or line == &quot;&quot;)</text>
<text text-anchor="middle" x="885" y="-2090.5034" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="885" y="-2059.1034" font-family="Inconsolata" font-size="14.00" fill="#000000">local Inv, inv = u.inherit()</text>
</g>
<!-- codeblock_5&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>codeblock_5&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1007.6382,-2467.5919C993.6591,-2433.0097 962.2035,-2355.1934 934.6507,-2287.0319"/>
<polygon fill="#000000" stroke="#000000" points="937.7836,-2285.443 930.791,-2277.4836 931.2938,-2288.0665 937.7836,-2285.443"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="1138" cy="-2164.2035" rx="27" ry="18"/>
<text text-anchor="middle" x="1138" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_6&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1138,-2467.5919C1138,-2414.0823 1138,-2257.0617 1138,-2192.4616"/>
<polygon fill="#000000" stroke="#000000" points="1141.5001,-2192.2158 1138,-2182.2159 1134.5001,-2192.2159 1141.5001,-2192.2158"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="1675,-2431.9044 1183,-2431.9044 1183,-1896.5026 1675,-1896.5026 1675,-2431.9044"/>
<text text-anchor="middle" x="1429" y="-2416.604" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.lang = &quot;lua&quot;</text>
<text text-anchor="middle" x="1429" y="-2401.2039" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.extension = &quot;.lua&quot;</text>
<text text-anchor="middle" x="1429" y="-2385.8039" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.comment = L.P&quot;&#45;&#45;&quot;</text>
<text text-anchor="middle" x="1429" y="-2370.4039" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.comment_len = 3</text>
<text text-anchor="middle" x="1429" y="-2355.0038" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.tab_to_space = &quot; &#160;&#160;&quot;</text>
<text text-anchor="middle" x="1429" y="-2323.6038" font-family="Inconsolata" font-size="14.00" fill="#000000">local lang_config = { lua = { lang = &quot;lua&quot;, </text>
<text text-anchor="middle" x="1429" y="-2308.2038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;extension = &quot;.lua&quot;,</text>
<text text-anchor="middle" x="1429" y="-2292.8037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;comment = L.P&quot;&#45;&#45;&quot;,</text>
<text text-anchor="middle" x="1429" y="-2277.4037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;comment_len = 3,</text>
<text text-anchor="middle" x="1429" y="-2262.0037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tab_to_space = &quot; &#160;&#160;&quot;}}</text>
<text text-anchor="middle" x="1429" y="-2230.6037" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.write_header(inverter)</text>
<text text-anchor="middle" x="1429" y="-2215.2036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;#!&quot; .. inverter.lang .. &quot;\n&quot;</text>
<text text-anchor="middle" x="1429" y="-2199.8036" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1429" y="-2168.4036" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.write_footer(inverter)</text>
<text text-anchor="middle" x="1429" y="-2153.0035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;#/&quot; .. inverter.lang .. &quot;\n&quot;</text>
<text text-anchor="middle" x="1429" y="-2137.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1429" y="-2106.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.filter(inverter, line)</text>
<text text-anchor="middle" x="1429" y="-2090.8034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if isBlank(line) then</text>
<text text-anchor="middle" x="1429" y="-2075.4034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return &quot;&quot;</text>
<text text-anchor="middle" x="1429" y="-2060.0034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="1429" y="-2044.6033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return line:gsub(&quot;\t&quot;, inverter.tab_to_space):gsub(&quot;\r&quot;, &quot;&quot;)</text>
<text text-anchor="middle" x="1429" y="-2029.2033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1429" y="-2013.8033" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1429" y="-1982.4032" font-family="Inconsolata" font-size="14.00" fill="#000000">local function cat_lines() end &#45;&#45;stub out</text>
<text text-anchor="middle" x="1429" y="-1951.0032" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.matchComment(inverter, line)</text>
<text text-anchor="middle" x="1429" y="-1935.6032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return (L.match(inverter.comment * m._, line) </text>
<text text-anchor="middle" x="1429" y="-1920.2032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;or (L.match(inverter.comment, line) and #line == 2))</text>
<text text-anchor="middle" x="1429" y="-1904.8031" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>codeblock_7&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1352.587,-2467.5919C1354.3369,-2460.6439 1356.5264,-2451.9508 1359.0475,-2441.9414"/>
<polygon fill="#000000" stroke="#000000" points="1362.5141,-2442.5075 1361.5626,-2431.9555 1355.7261,-2440.7978 1362.5141,-2442.5075"/>
</g>
<!-- header_18 -->
<g id="node19" class="node">
<title>header_18</title>
<ellipse fill="none" stroke="#000000" cx="1775" cy="-2164.2035" rx="82.2492" ry="18"/>
<text text-anchor="middle" x="1775" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : matchLineType</text>
</g>
<!-- section_8&#45;&gt;header_18 -->
<g id="edge18" class="edge">
<title>section_8&#45;&gt;header_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1998.032,-2475.3384C1949.751,-2465.5491 1885.9409,-2449.7696 1867,-2431.804 1798.1396,-2366.4891 1780.8165,-2247.3564 1776.4612,-2192.8297"/>
<polygon fill="#000000" stroke="#000000" points="1779.9289,-2192.2474 1775.7331,-2182.5188 1772.9463,-2192.7405 1779.9289,-2192.2474"/>
</g>
<!-- prose_19 -->
<g id="node20" class="node">
<title>prose_19</title>
<ellipse fill="none" stroke="#000000" cx="1908" cy="-2164.2035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1908" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_19 -->
<g id="edge19" class="edge">
<title>section_8&#45;&gt;prose_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2007.7175,-2472.5461C1986.4744,-2464.2588 1963.1759,-2451.3399 1949,-2431.804 1896.0415,-2358.8217 1899.4328,-2244.9336 1904.4574,-2192.4416"/>
<polygon fill="#000000" stroke="#000000" points="1907.9684,-2192.5206 1905.5347,-2182.2091 1901.0069,-2191.7876 1907.9684,-2192.5206"/>
</g>
<!-- prose_20 -->
<g id="node21" class="node">
<title>prose_20</title>
<ellipse fill="none" stroke="#000000" cx="1990" cy="-2164.2035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1990" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_20 -->
<g id="edge20" class="edge">
<title>section_8&#45;&gt;prose_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2046.1137,-2467.8128C2040.8722,-2457.5431 2034.7572,-2444.2669 2031,-2431.804 2005.4599,-2347.086 1995.3109,-2242.25 1991.7281,-2192.7017"/>
<polygon fill="#000000" stroke="#000000" points="1995.2005,-2192.1779 1991.0241,-2182.441 1988.2169,-2192.6572 1995.2005,-2192.1779"/>
</g>
<!-- codeblock_21 -->
<g id="node22" class="node">
<title>codeblock_21</title>
<ellipse fill="none" stroke="#000000" cx="2122" cy="-2164.2035" rx="81.9542" ry="18"/>
<text text-anchor="middle" x="2122" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 78&#45;112</text>
</g>
<!-- section_8&#45;&gt;codeblock_21 -->
<g id="edge21" class="edge">
<title>section_8&#45;&gt;codeblock_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2059.7375,-2467.5919C2070.7417,-2413.9717 2103.0766,-2256.4124 2116.2827,-2192.0624"/>
<polygon fill="#000000" stroke="#000000" points="2119.7216,-2192.7154 2118.3034,-2182.2159 2112.8645,-2191.3081 2119.7216,-2192.7154"/>
</g>
<!-- prose_22 -->
<g id="node23" class="node">
<title>prose_22</title>
<ellipse fill="none" stroke="#000000" cx="2254" cy="-2164.2035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2254" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_22 -->
<g id="edge22" class="edge">
<title>section_8&#45;&gt;prose_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2108.9513,-2473.8221C2148.9903,-2463.6661 2199.3279,-2448.1758 2213,-2431.804 2271.0606,-2362.2782 2264.9389,-2245.7731 2258.3654,-2192.4261"/>
<polygon fill="#000000" stroke="#000000" points="2261.8111,-2191.7859 2257.0211,-2182.3357 2254.8724,-2192.7103 2261.8111,-2191.7859"/>
</g>
<!-- prose_23 -->
<g id="node24" class="node">
<title>prose_23</title>
<ellipse fill="none" stroke="#000000" cx="2336" cy="-2164.2035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2336" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_23 -->
<g id="edge23" class="edge">
<title>section_8&#45;&gt;prose_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2121.8316,-2479.2198C2184.2371,-2471.5675 2271.7953,-2456.697 2295,-2431.804 2357.0429,-2365.2467 2348.6959,-2246.3195 2340.9394,-2192.2919"/>
<polygon fill="#000000" stroke="#000000" points="2344.3955,-2191.7387 2339.417,-2182.3864 2337.4768,-2192.8021 2344.3955,-2191.7387"/>
</g>
<!-- codeblock_24 -->
<g id="node25" class="node">
<title>codeblock_24</title>
<ellipse fill="none" stroke="#000000" cx="2570" cy="-2164.2035" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="2570" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 125&#45;203</text>
</g>
<!-- section_8&#45;&gt;codeblock_24 -->
<g id="edge24" class="edge">
<title>section_8&#45;&gt;codeblock_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2123.6711,-2480.4669C2205.0108,-2473.0224 2335.7281,-2457.468 2377,-2431.804 2472.2496,-2372.575 2534.7045,-2247.3911 2558.8067,-2191.8017"/>
<polygon fill="#000000" stroke="#000000" points="2562.1702,-2192.8358 2562.8601,-2182.2635 2555.7277,-2190.098 2562.1702,-2192.8358"/>
</g>
<!-- header_35 -->
<g id="node36" class="node">
<title>header_35</title>
<ellipse fill="none" stroke="#000000" cx="3214" cy="-2164.2035" rx="83.6081" ry="18"/>
<text text-anchor="middle" x="3214" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Grym:invert(str)</text>
</g>
<!-- section_9&#45;&gt;header_35 -->
<g id="edge35" class="edge">
<title>section_9&#45;&gt;header_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3376.6573,-2472.9535C3352.5651,-2464.7376 3325.436,-2451.7614 3307,-2431.804 3242.6807,-2362.1767 3222.4965,-2245.723 3216.448,-2192.4075"/>
<polygon fill="#000000" stroke="#000000" points="3219.9143,-2191.9031 3215.3893,-2182.3232 3212.9526,-2192.634 3219.9143,-2191.9031"/>
</g>
<!-- prose_36 -->
<g id="node37" class="node">
<title>prose_36</title>
<ellipse fill="none" stroke="#000000" cx="3348" cy="-2164.2035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3348" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_36 -->
<g id="edge36" class="edge">
<title>section_9&#45;&gt;prose_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3413.0806,-2468.2584C3404.4909,-2458.3332 3394.6936,-2445.2438 3389,-2431.804 3354.241,-2349.7551 3348.4789,-2242.4656 3347.8284,-2192.3215"/>
<polygon fill="#000000" stroke="#000000" points="3351.3279,-2192.2145 3347.7584,-2182.2391 3344.3281,-2192.2632 3351.3279,-2192.2145"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="3430" cy="-2164.2035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3430" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_9&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3430,-2467.5919C3430,-2414.0823 3430,-2257.0617 3430,-2192.4616"/>
<polygon fill="#000000" stroke="#000000" points="3433.5001,-2192.2158 3430,-2182.2159 3426.5001,-2192.2159 3433.5001,-2192.2158"/>
</g>
<!-- prose_38 -->
<g id="node39" class="node">
<title>prose_38</title>
<ellipse fill="none" stroke="#000000" cx="3512" cy="-2164.2035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3512" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_38 -->
<g id="edge38" class="edge">
<title>section_9&#45;&gt;prose_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3446.9194,-2468.2584C3455.5091,-2458.3332 3465.3064,-2445.2438 3471,-2431.804 3505.759,-2349.7551 3511.5211,-2242.4656 3512.1716,-2192.3215"/>
<polygon fill="#000000" stroke="#000000" points="3515.6719,-2192.2632 3512.2416,-2182.2391 3508.6721,-2192.2145 3515.6719,-2192.2632"/>
</g>
<!-- codeblock_39 -->
<g id="node40" class="node">
<title>codeblock_39</title>
<ellipse fill="none" stroke="#000000" cx="3720" cy="-2164.2035" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3720" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 215&#45;243</text>
</g>
<!-- section_9&#45;&gt;codeblock_39 -->
<g id="edge39" class="edge">
<title>section_9&#45;&gt;codeblock_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3478.7367,-2471.9955C3503.0145,-2463.3417 3531.6602,-2450.2681 3553,-2431.804 3633.1452,-2362.4586 3687.5542,-2245.0291 3709.3367,-2191.8453"/>
<polygon fill="#000000" stroke="#000000" points="3712.6541,-2192.9767 3713.1399,-2182.393 3706.1601,-2190.3637 3712.6541,-2192.9767"/>
</g>
<!-- section_40 -->
<g id="node41" class="node">
<title>section_40</title>
<ellipse fill="none" stroke="#000000" cx="4231" cy="-2164.2035" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4231" y="-2160.0035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 246&#45;290</text>
</g>
<!-- section_9&#45;&gt;section_40 -->
<g id="edge40" class="edge">
<title>section_9&#45;&gt;section_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3501.1494,-2479.5492C3596.3703,-2470.5454 3759.7878,-2452.6971 3816,-2431.804 3976.7306,-2372.0631 4139.6405,-2242.3142 4203.2028,-2188.4256"/>
<polygon fill="#000000" stroke="#000000" points="4205.8202,-2190.7932 4211.1543,-2181.6391 4201.2759,-2185.4688 4205.8202,-2190.7932"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="450,-1288.3025 0,-1288.3025 0,-1233.7016 450,-1233.7016 450,-1288.3025"/>
<text text-anchor="middle" x="225" y="-1257.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;A work in progress, which also works well enough to invert,</text>
<text text-anchor="middle" x="225" y="-1241.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> I may hope, the whole of grym including this file.</text>
</g>
<!-- raw_10&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>raw_10&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M354.3632,-2146.1617C338.255,-2035.9417 253.0587,-1452.992 230.4901,-1298.5674"/>
<polygon fill="#000000" stroke="#000000" points="233.9446,-1298.0011 229.0352,-1288.6124 227.0181,-1299.0134 233.9446,-1298.0011"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="939.5,-1296.3024 468.5,-1296.3024 468.5,-1225.7017 939.5,-1225.7017 939.5,-1296.3024"/>
<text text-anchor="middle" x="704" y="-1265.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> Hence I&#39;m eager to use it and then document it from the grimoire</text>
<text text-anchor="middle" x="704" y="-1249.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> side.</text>
</g>
<!-- raw_12&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>raw_12&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M633.4382,-2146.1617C642.0782,-2037.7779 687.1574,-1472.2837 700.3621,-1306.6378"/>
<polygon fill="#000000" stroke="#000000" points="703.8792,-1306.5608 701.185,-1296.3143 696.9014,-1306.0045 703.8792,-1306.5608"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1247.5,-1280.9041 1028.5,-1280.9041 1028.5,-1241.0999 1247.5,-1241.0999 1247.5,-1280.9041"/>
<text text-anchor="middle" x="1138" y="-1249.502" font-family="Inconsolata" font-size="14.00" fill="#000000"> The default language is Lua.</text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1138,-2146.1617C1138,-2034.0912 1138,-1433.2843 1138,-1291.156"/>
<polygon fill="#000000" stroke="#000000" points="1141.5001,-1290.9985 1138,-1280.9985 1134.5001,-1290.9985 1141.5001,-1290.9985"/>
</g>
<!-- raw_25 -->
<g id="node26" class="node">
<title>raw_25</title>
<ellipse fill="none" stroke="#000000" cx="1473" cy="-1261.002" rx="27" ry="18"/>
<text text-anchor="middle" x="1473" y="-1256.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_19&#45;&gt;raw_25 -->
<g id="edge25" class="edge">
<title>prose_19&#45;&gt;raw_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1911.3911,-2146.2548C1919.2983,-2098.4203 1933.4943,-1966.7515 1866,-1896.6031 1808.5273,-1836.8704 1745.6414,-1914.8909 1683,-1860.6031 1503.2215,-1704.7992 1477.3106,-1385.9038 1473.6082,-1289.3339"/>
<polygon fill="#000000" stroke="#000000" points="1477.1011,-1289.0598 1473.2715,-1279.1814 1470.105,-1289.2919 1477.1011,-1289.0598"/>
</g>
<!-- raw_27 -->
<g id="node28" class="node">
<title>raw_27</title>
<ellipse fill="none" stroke="#000000" cx="1719" cy="-1261.002" rx="27" ry="18"/>
<text text-anchor="middle" x="1719" y="-1256.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_20&#45;&gt;raw_27 -->
<g id="edge27" class="edge">
<title>prose_20&#45;&gt;raw_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1993.5101,-2146.224C2001.7251,-2098.3131 2016.705,-1966.4715 1949,-1896.6031 1887.9735,-1833.6266 1813.0639,-1926.321 1755,-1860.6031 1606.0854,-1692.0585 1682.5252,-1381.9497 1710.3093,-1288.4137"/>
<polygon fill="#000000" stroke="#000000" points="1713.664,-1289.4117 1713.2144,-1278.8264 1706.9648,-1287.3817 1713.664,-1289.4117"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="2214,-1519.9032 1764,-1519.9032 1764,-1002.1009 2214,-1002.1009 2214,-1519.9032"/>
<text text-anchor="middle" x="1989" y="-1504.5025" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.sortLine(inverter, latest, line)</text>
<text text-anchor="middle" x="1989" y="-1489.1025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local block = latest or {}</text>
<text text-anchor="middle" x="1989" y="-1457.7024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if inverter:matchComment(line) then</text>
<text text-anchor="middle" x="1989" y="-1442.3024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; prose</text>
<text text-anchor="middle" x="1989" y="-1426.9024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not block.id or block.id ~= &quot;prose&quot; then</text>
<text text-anchor="middle" x="1989" y="-1411.5024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; new prose block</text>
<text text-anchor="middle" x="1989" y="-1396.1023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block = { id = &quot;prose&quot;}</text>
<text text-anchor="middle" x="1989" y="-1380.7023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = line:sub(inverter.comment_len)</text>
<text text-anchor="middle" x="1989" y="-1365.3023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1989" y="-1349.9022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = line:sub(inverter.comment_len)</text>
<text text-anchor="middle" x="1989" y="-1334.5022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1989" y="-1319.1022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif isBlank(line) then</text>
<text text-anchor="middle" x="1989" y="-1303.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; blank line</text>
<text text-anchor="middle" x="1989" y="-1288.3021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not block.id or block.id ~= &quot;blank&quot; then</text>
<text text-anchor="middle" x="1989" y="-1272.9021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block = { id = &quot;blank&quot;}</text>
<text text-anchor="middle" x="1989" y="-1257.502" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = line</text>
<text text-anchor="middle" x="1989" y="-1242.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1989" y="-1226.702" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = line</text>
<text text-anchor="middle" x="1989" y="-1211.302" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1989" y="-1195.9019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1989" y="-1180.5019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; code line</text>
<text text-anchor="middle" x="1989" y="-1165.1019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not block.id or block.id ~= &quot;code&quot; then</text>
<text text-anchor="middle" x="1989" y="-1149.7018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; new code block</text>
<text text-anchor="middle" x="1989" y="-1134.3018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block = { id = &quot;code&quot; }</text>
<text text-anchor="middle" x="1989" y="-1118.9018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = line</text>
<text text-anchor="middle" x="1989" y="-1103.5017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1989" y="-1088.1017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = line</text>
<text text-anchor="middle" x="1989" y="-1072.7017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1989" y="-1057.3016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1989" y="-1025.9016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return block</text>
<text text-anchor="middle" x="1989" y="-1010.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_21&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>codeblock_21&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2119.3433,-2146.1617C2107.9966,-2069.1063 2062.6274,-1761.0046 2028.5822,-1529.8041"/>
<polygon fill="#000000" stroke="#000000" points="2032.0419,-1529.2735 2027.1223,-1519.8901 2025.1165,-1530.2933 2032.0419,-1529.2735"/>
</g>
<!-- raw_30 -->
<g id="node31" class="node">
<title>raw_30</title>
<ellipse fill="none" stroke="#000000" cx="2259" cy="-1261.002" rx="27" ry="18"/>
<text text-anchor="middle" x="2259" y="-1256.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_22&#45;&gt;raw_30 -->
<g id="edge30" class="edge">
<title>prose_22&#45;&gt;raw_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2254.0999,-2146.1617C2254.723,-2033.5984 2258.0756,-1427.9901 2258.8433,-1289.3075"/>
<polygon fill="#000000" stroke="#000000" points="2262.3444,-1289.106 2258.8999,-1279.0868 2255.3445,-1289.0672 2262.3444,-1289.106"/>
</g>
<!-- raw_32 -->
<g id="node33" class="node">
<title>raw_32</title>
<ellipse fill="none" stroke="#000000" cx="2336" cy="-1261.002" rx="27" ry="18"/>
<text text-anchor="middle" x="2336" y="-1256.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_23&#45;&gt;raw_32 -->
<g id="edge32" class="edge">
<title>prose_23&#45;&gt;raw_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2336,-2146.1617C2336,-2033.5984 2336,-1427.9901 2336,-1289.3075"/>
<polygon fill="#000000" stroke="#000000" points="2339.5001,-1289.0868 2336,-1279.0868 2332.5001,-1289.0868 2339.5001,-1289.0868"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2950.5,-1860.7042 2381.5,-1860.7042 2381.5,-661.2999 2950.5,-661.2999 2950.5,-1860.7042"/>
<text text-anchor="middle" x="2666" y="-1845.4031" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.catBlocks(inverter, blocks)</text>
<text text-anchor="middle" x="2666" y="-1830.0031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local linum = 0</text>
<text text-anchor="middle" x="2666" y="-1814.603" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local function toLines(block) </text>
<text text-anchor="middle" x="2666" y="-1799.203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="2666" y="-1783.803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;for j = 1, #block do</text>
<text text-anchor="middle" x="2666" y="-1768.4029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;linum = linum + 1</text>
<text text-anchor="middle" x="2666" y="-1753.0029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. block[j] .. &quot;\n&quot;</text>
<text text-anchor="middle" x="2666" y="-1737.6029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2666" y="-1722.2028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="2666" y="-1706.8028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2666" y="-1691.4028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="2666" y="-1676.0027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if blocks[1].id == &quot;code&quot; then</text>
<text text-anchor="middle" x="2666" y="-1660.6027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. inverter:write_header()</text>
<text text-anchor="middle" x="2666" y="-1645.2027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2666" y="-1629.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;phrase = phrase .. toLines(blocks[1]) </text>
<text text-anchor="middle" x="2666" y="-1614.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i = 2, #blocks do</text>
<text text-anchor="middle" x="2666" y="-1599.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if blocks[i].id == &quot;code&quot; then</text>
<text text-anchor="middle" x="2666" y="-1567.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; if preceding block is blank and before that is</text>
<text text-anchor="middle" x="2666" y="-1552.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; code, write blanks and code</text>
<text text-anchor="middle" x="2666" y="-1536.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if blocks[i &#45; 1].id == &quot;blank&quot; and </text>
<text text-anchor="middle" x="2666" y="-1521.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;i &gt; 2 and blocks[i &#45; 2].id == &quot;code&quot; then</text>
<text text-anchor="middle" x="2666" y="-1506.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. toLines(blocks[i &#45; 1]) .. toLines(blocks[i])</text>
<text text-anchor="middle" x="2666" y="-1474.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; if preceding block is blank and before that is </text>
<text text-anchor="middle" x="2666" y="-1459.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; prose or nothing, write blanks, header, and code</text>
<text text-anchor="middle" x="2666" y="-1443.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif blocks[i &#45; 1].id == &quot;blank&quot; and </text>
<text text-anchor="middle" x="2666" y="-1428.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(blocks[i &#45; 2] == nil or blocks[i &#45; 2].id == &quot;prose&quot;) then</text>
<text text-anchor="middle" x="2666" y="-1413.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. toLines(blocks[i &#45; 1])</text>
<text text-anchor="middle" x="2666" y="-1397.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. inverter:write_header()</text>
<text text-anchor="middle" x="2666" y="-1382.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. toLines(blocks[i])</text>
<text text-anchor="middle" x="2666" y="-1350.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; if preceding block is prose, write a blank line, </text>
<text text-anchor="middle" x="2666" y="-1335.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; header, and code. </text>
<text text-anchor="middle" x="2666" y="-1320.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif blocks[i &#45; 1].id == &quot;prose&quot; then</text>
<text text-anchor="middle" x="2666" y="-1304.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. &quot;\n&quot; .. inverter:write_header() </text>
<text text-anchor="middle" x="2666" y="-1289.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. toLines(blocks[i])</text>
<text text-anchor="middle" x="2666" y="-1273.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2666" y="-1258.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;Reached a bad state on code in catLines&quot;)</text>
<text text-anchor="middle" x="2666" y="-1243.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2666" y="-1227.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif blocks[i].id == &quot;prose&quot; then</text>
<text text-anchor="middle" x="2666" y="-1196.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; if preceding block is blank and before that is</text>
<text text-anchor="middle" x="2666" y="-1180.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; code, write footer, blanks, and prose</text>
<text text-anchor="middle" x="2666" y="-1165.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if blocks[i &#45; 1].id == &quot;blank&quot; and </text>
<text text-anchor="middle" x="2666" y="-1150.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;i &gt; 2 and blocks[i &#45; 2].id == &quot;code&quot; then</text>
<text text-anchor="middle" x="2666" y="-1134.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. inverter:write_footer() </text>
<text text-anchor="middle" x="2666" y="-1119.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. toLines(blocks[i &#45; 1]) .. toLines(blocks[i])</text>
<text text-anchor="middle" x="2666" y="-1087.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; if preceding block is code, write a footer, newline,</text>
<text text-anchor="middle" x="2666" y="-1072.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; and prose</text>
<text text-anchor="middle" x="2666" y="-1057.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif (blocks[i &#45; 1].id == &quot;code&quot;) then</text>
<text text-anchor="middle" x="2666" y="-1041.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. inverter:write_footer()</text>
<text text-anchor="middle" x="2666" y="-1026.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;\n&quot; .. toLines(blocks[i])</text>
<text text-anchor="middle" x="2666" y="-994.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; if preceding line is blank and before that is </text>
<text text-anchor="middle" x="2666" y="-979.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; nothing or more prose, write blanks, then prose.</text>
<text text-anchor="middle" x="2666" y="-964.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif blocks[i &#45; 1].id == &quot;blank&quot; and </text>
<text text-anchor="middle" x="2666" y="-948.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(blocks[i &#45; 2] == nil or blocks[i &#45; 2].id == &quot;prose&quot;) then</text>
<text text-anchor="middle" x="2666" y="-933.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. toLines(blocks[i &#45; 1]) .. toLines(blocks[i])</text>
<text text-anchor="middle" x="2666" y="-901.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2666" y="-886.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;Reached a bad state on prose in catLines&quot;)</text>
<text text-anchor="middle" x="2666" y="-871.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2666" y="-855.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end </text>
<text text-anchor="middle" x="2666" y="-824.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2666" y="-808.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if blocks[#blocks].id == &quot;code&quot; or</text>
<text text-anchor="middle" x="2666" y="-793.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;(blocks[#blocks].id == &quot;blank&quot; </text>
<text text-anchor="middle" x="2666" y="-778.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;and blocks[#blocks &#45; 1].id == &quot;code&quot;) then</text>
<text text-anchor="middle" x="2666" y="-762.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. inverter:write_footer()</text>
<text text-anchor="middle" x="2666" y="-747.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2666" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Note that there may be a final block of blank lines which we are</text>
<text text-anchor="middle" x="2666" y="-700.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; happy to simply drop. </text>
<text text-anchor="middle" x="2666" y="-685.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase, linum</text>
<text text-anchor="middle" x="2666" y="-669.601" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_24&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>codeblock_24&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2571.9176,-2146.1617C2576.3013,-2104.9188 2587.7202,-1997.4858 2601.1555,-1871.0818"/>
<polygon fill="#000000" stroke="#000000" points="2604.6747,-1871.0854 2602.2514,-1860.7715 2597.7139,-1870.3455 2604.6747,-1871.0854"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1493.5,-494.1014 1036.5,-494.1014 1036.5,-361.2998 1493.5,-361.2998 1493.5,-494.1014"/>
<text text-anchor="middle" x="1265" y="-446.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Matches a line by type (comment, code, or blank) and either</text>
<text text-anchor="middle" x="1265" y="-431.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> concatenates to an existing block of this type or starts a new</text>
<text text-anchor="middle" x="1265" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> one if the latest is different.</text>
<text text-anchor="middle" x="1265" y="-400.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="1265" y="-385.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; latest: the latest block.</text>
<text text-anchor="middle" x="1265" y="-369.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; line: line to be matched and added.</text>
</g>
<!-- raw_25&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>raw_25&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1468.5594,-1243.2118C1444.5818,-1147.1515 1329.9571,-687.9354 1284.0616,-504.0663"/>
<polygon fill="#000000" stroke="#000000" points="1287.4168,-503.0557 1281.5991,-494.201 1280.6252,-504.751 1287.4168,-503.0557"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1926.5,-455.6021 1511.5,-455.6021 1511.5,-399.7992 1926.5,-399.7992 1926.5,-455.6021"/>
<text text-anchor="middle" x="1719" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return : the latest block, which may be created here.</text>
</g>
<!-- raw_27&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>raw_27&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1719,-1242.8224C1719,-1138.2158 1719,-612.5733 1719,-465.8101"/>
<polygon fill="#000000" stroke="#000000" points="1722.5001,-465.5162 1719,-455.5162 1715.5001,-465.5163 1722.5001,-465.5162"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="2359.5,-447.6027 1944.5,-447.6027 1944.5,-407.7986 2359.5,-407.7986 2359.5,-447.6027"/>
<text text-anchor="middle" x="2152" y="-416.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> Takes blocks and concatenates them into a single string.</text>
</g>
<!-- raw_30&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>raw_30&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259.4569,-1242.6664C2260.9659,-1169.0098 2263.5921,-887.7379 2223,-661.401 2209.4929,-586.0868 2179.7522,-500.8356 2163.3735,-457.0741"/>
<polygon fill="#000000" stroke="#000000" points="2166.6125,-455.7441 2159.8033,-447.6272 2160.0646,-458.2189 2166.6125,-455.7441"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2856,-455.0011 2378,-455.0011 2378,-400.4002 2856,-400.4002 2856,-455.0011"/>
<text text-anchor="middle" x="2617" y="-423.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> Also writes headers and footers, while doing its best to get the </text>
<text text-anchor="middle" x="2617" y="-408.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> spacing right.</text>
</g>
<!-- raw_32&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>raw_32&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2332.5335,-1242.9402C2318.9414,-1167.4231 2274.6565,-871.1665 2372,-661.401 2413.2722,-572.4636 2504.7694,-500.2106 2563.5226,-460.6561"/>
<polygon fill="#000000" stroke="#000000" points="2565.5526,-463.5095 2571.9437,-455.0593 2561.6779,-457.6796 2565.5526,-463.5095"/>
</g>
<!-- raw_41 -->
<g id="node42" class="node">
<title>raw_41</title>
<ellipse fill="none" stroke="#000000" cx="3225" cy="-1261.002" rx="27" ry="18"/>
<text text-anchor="middle" x="3225" y="-1256.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_36&#45;&gt;raw_41 -->
<g id="edge41" class="edge">
<title>prose_36&#45;&gt;raw_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3345.543,-2146.1617C3330.2139,-2033.5984 3247.7408,-1427.9901 3228.8547,-1289.3075"/>
<polygon fill="#000000" stroke="#000000" points="3232.2803,-1288.523 3227.4628,-1279.0868 3225.3443,-1289.4676 3232.2803,-1288.523"/>
</g>
<!-- raw_43 -->
<g id="node44" class="node">
<title>raw_43</title>
<ellipse fill="none" stroke="#000000" cx="3433" cy="-1261.002" rx="27" ry="18"/>
<text text-anchor="middle" x="3433" y="-1256.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_37&#45;&gt;raw_43 -->
<g id="edge43" class="edge">
<title>prose_37&#45;&gt;raw_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3430.0599,-2146.1617C3430.4338,-2033.5984 3432.4453,-1427.9901 3432.906,-1289.3075"/>
<polygon fill="#000000" stroke="#000000" points="3436.4066,-1289.0984 3432.9399,-1279.0868 3429.4066,-1289.0751 3436.4066,-1289.0984"/>
</g>
<!-- raw_45 -->
<g id="node46" class="node">
<title>raw_45</title>
<ellipse fill="none" stroke="#000000" cx="3510" cy="-1261.002" rx="27" ry="18"/>
<text text-anchor="middle" x="3510" y="-1256.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_38&#45;&gt;raw_45 -->
<g id="edge45" class="edge">
<title>prose_38&#45;&gt;raw_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3511.96,-2146.1617C3511.7108,-2033.5984 3510.3698,-1427.9901 3510.0627,-1289.3075"/>
<polygon fill="#000000" stroke="#000000" points="3513.5623,-1289.079 3510.04,-1279.0868 3506.5623,-1289.0945 3513.5623,-1289.079"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="4026.5,-1473.403 3555.5,-1473.403 3555.5,-1048.601 4026.5,-1048.601 4026.5,-1473.403"/>
<text text-anchor="middle" x="3791" y="-1458.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">local function invert(inverter, str)</text>
<text text-anchor="middle" x="3791" y="-1442.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local blocks = {}</text>
<text text-anchor="middle" x="3791" y="-1427.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local linum = 0</text>
<text text-anchor="middle" x="3791" y="-1411.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local latest = nil</text>
<text text-anchor="middle" x="3791" y="-1396.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, line in ipairs(epeg.split(str, &quot;\n&quot;)) do</text>
<text text-anchor="middle" x="3791" y="-1381.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;linum = linum + 1</text>
<text text-anchor="middle" x="3791" y="-1365.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;line = inverter:filter(line)</text>
<text text-anchor="middle" x="3791" y="-1350.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; each line is either comment, blank or code.</text>
<text text-anchor="middle" x="3791" y="-1334.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local this_block = inverter:sortLine(latest, line)</text>
<text text-anchor="middle" x="3791" y="-1319.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if this_block ~= latest then</text>
<text text-anchor="middle" x="3791" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blocks[#blocks + 1] = this_block</text>
<text text-anchor="middle" x="3791" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = this_block</text>
<text text-anchor="middle" x="3791" y="-1273.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3791" y="-1257.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3791" y="-1242.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local new_linum = 0</text>
<text text-anchor="middle" x="3791" y="-1227.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45;&#45;[[ This entire check should be wrapped in a utility assert</text>
<text text-anchor="middle" x="3791" y="-1211.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, v in ipairs(blocks) do</text>
<text text-anchor="middle" x="3791" y="-1196.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;for __, line in ipairs(v) do</text>
<text text-anchor="middle" x="3791" y="-1180.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;new_linum = new_linum + 1</text>
<text text-anchor="middle" x="3791" y="-1165.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3791" y="-1150.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3791" y="-1134.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45;]]</text>
<text text-anchor="middle" x="3791" y="-1119.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(linum == new_linum)</text>
<text text-anchor="middle" x="3791" y="-1087.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase, cat_linum = inverter:catBlocks(blocks)</text>
<text text-anchor="middle" x="3791" y="-1072.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="3791" y="-1057.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_39&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>codeblock_39&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3721.4183,-2146.1617C3727.8922,-2063.8059 3755.1131,-1717.5244 3773.5265,-1483.285"/>
<polygon fill="#000000" stroke="#000000" points="3777.0199,-1483.5055 3774.3144,-1473.262 3770.0414,-1482.9569 3777.0199,-1483.5055"/>
</g>
<!-- header_48 -->
<g id="node49" class="node">
<title>header_48</title>
<ellipse fill="none" stroke="#000000" cx="4113" cy="-1261.002" rx="68.2066" ry="18"/>
<text text-anchor="middle" x="4113" y="-1256.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Constructor</text>
</g>
<!-- section_40&#45;&gt;header_48 -->
<g id="edge48" class="edge">
<title>section_40&#45;&gt;header_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4228.5095,-2146.0723C4222.0515,-2098.9904 4204.2747,-1968.9659 4190,-1860.6031 4161.0156,-1640.5761 4127.3782,-1374.9402 4116.5499,-1289.1605"/>
<polygon fill="#000000" stroke="#000000" points="4120.0123,-1288.6419 4115.2878,-1279.1588 4113.0674,-1289.5183 4120.0123,-1288.6419"/>
</g>
<!-- prose_49 -->
<g id="node50" class="node">
<title>prose_49</title>
<ellipse fill="none" stroke="#000000" cx="4231" cy="-1261.002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4231" y="-1256.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_40&#45;&gt;prose_49 -->
<g id="edge49" class="edge">
<title>section_40&#45;&gt;prose_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4231,-2146.1617C4231,-2033.5984 4231,-1427.9901 4231,-1289.3075"/>
<polygon fill="#000000" stroke="#000000" points="4234.5001,-1289.0868 4231,-1279.0868 4227.5001,-1289.0868 4234.5001,-1289.0868"/>
</g>
<!-- prose_50 -->
<g id="node51" class="node">
<title>prose_50</title>
<ellipse fill="none" stroke="#000000" cx="4313" cy="-1261.002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4313" y="-1256.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_40&#45;&gt;prose_50 -->
<g id="edge50" class="edge">
<title>section_40&#45;&gt;prose_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4233.8672,-2146.1163C4241.2215,-2099.1389 4260.952,-1969.3423 4272,-1860.6031 4294.3018,-1641.0988 4307.7343,-1375.1221 4311.7337,-1289.208"/>
<polygon fill="#000000" stroke="#000000" points="4315.2312,-1289.3407 4312.195,-1279.1902 4308.2386,-1289.0186 4315.2312,-1289.3407"/>
</g>
<!-- codeblock_51 -->
<g id="node52" class="node">
<title>codeblock_51</title>
<ellipse fill="none" stroke="#000000" cx="4528" cy="-1261.002" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4528" y="-1256.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 263&#45;289</text>
</g>
<!-- section_40&#45;&gt;codeblock_51 -->
<g id="edge51" class="edge">
<title>section_40&#45;&gt;codeblock_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4239.1536,-2145.9717C4259.9123,-2099.176 4315.8163,-1970.7558 4354,-1860.6031 4429.1453,-1643.8233 4498.9821,-1375.6013 4520.9147,-1289.2112"/>
<polygon fill="#000000" stroke="#000000" points="4524.3454,-1289.9205 4523.4059,-1279.3674 4517.5594,-1288.203 4524.3454,-1289.9205"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="3324,-455.6021 2874,-455.6021 2874,-399.7992 3324,-399.7992 3324,-455.6021"/>
<text text-anchor="middle" x="3099" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> This takes a source file and inverts it into Grimoire format.</text>
</g>
<!-- raw_41&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>raw_41&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3222.2511,-1242.8224C3206.434,-1138.2158 3126.9538,-612.5733 3104.7624,-465.8101"/>
<polygon fill="#000000" stroke="#000000" points="3108.1617,-464.8806 3103.2059,-455.5162 3101.2404,-465.9272 3108.1617,-464.8806"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="3652,-447.6027 3342,-447.6027 3342,-407.7986 3652,-407.7986 3652,-447.6027"/>
<text text-anchor="middle" x="3497" y="-416.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; str: The source file as a single string</text>
</g>
<!-- raw_43&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>raw_43&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3434.0438,-1242.8359C3438.2808,-1169.8247 3454.8833,-890.6761 3474,-661.401 3480.1025,-588.211 3489.0057,-502.3022 3493.7461,-457.8179"/>
<polygon fill="#000000" stroke="#000000" points="3497.2459,-458.0052 3494.8298,-447.6896 3490.2857,-457.2604 3497.2459,-458.0052"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="4001.5,-455.6021 3670.5,-455.6021 3670.5,-399.7992 4001.5,-399.7992 4001.5,-455.6021"/>
<text text-anchor="middle" x="3836" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return: The Grimoire document as a string</text>
</g>
<!-- raw_45&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>raw_45&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3508.45,-1242.9553C3501.1127,-1153.0943 3473.165,-754.5358 3546,-661.401 3578.9927,-619.2129 3616.0498,-654.5183 3661,-625.401 3727.0032,-582.6461 3783.1366,-508.4053 3812.9855,-464.0823"/>
<polygon fill="#000000" stroke="#000000" points="3815.9796,-465.9005 3818.6,-455.6348 3810.1498,-462.0258 3815.9796,-465.9005"/>
</g>
<!-- raw_52 -->
<g id="node53" class="node">
<title>raw_52</title>
<ellipse fill="none" stroke="#000000" cx="4168" cy="-427.7006" rx="27" ry="18"/>
<text text-anchor="middle" x="4168" y="-423.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_49&#45;&gt;raw_52 -->
<g id="edge52" class="edge">
<title>prose_49&#45;&gt;raw_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4229.9282,-1242.8382C4225.5844,-1169.8358 4208.6307,-890.7162 4190,-661.401 4183.9764,-587.2595 4175.3581,-500.0354 4170.9075,-456.0774"/>
<polygon fill="#000000" stroke="#000000" points="4174.3632,-455.463 4169.8699,-445.8681 4167.3991,-456.1708 4174.3632,-455.463"/>
</g>
<!-- raw_54 -->
<g id="node55" class="node">
<title>raw_54</title>
<ellipse fill="none" stroke="#000000" cx="4313" cy="-427.7006" rx="27" ry="18"/>
<text text-anchor="middle" x="4313" y="-423.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_50&#45;&gt;raw_54 -->
<g id="edge54" class="edge">
<title>prose_50&#45;&gt;raw_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4313,-1242.8224C4313,-1135.7519 4313,-587.5777 4313,-456.0806"/>
<polygon fill="#000000" stroke="#000000" points="4316.5001,-455.9974 4313,-445.9974 4309.5001,-455.9975 4316.5001,-455.9974"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="4850,-625.6015 4358,-625.6015 4358,-229.7998 4850,-229.7998 4850,-625.6015"/>
<text text-anchor="middle" x="4604" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Inverter, lang)</text>
<text text-anchor="middle" x="4604" y="-594.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local inverter = setmetatable({}, Inv)</text>
<text text-anchor="middle" x="4604" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if lang and lang ~= &quot;lua&quot; then</text>
<text text-anchor="middle" x="4604" y="-564.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;configs not yet implemented&quot;)</text>
<text text-anchor="middle" x="4604" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4604" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return inverter</text>
<text text-anchor="middle" x="4604" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4604" y="-486.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">local inv_lua = new()</text>
<text text-anchor="middle" x="4604" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.getLang(inverter, key)</text>
<text text-anchor="middle" x="4604" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if key == &quot;lua&quot; then</text>
<text text-anchor="middle" x="4604" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return inv_lua</text>
<text text-anchor="middle" x="4604" y="-408.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4604" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if inverter.langs[key] then </text>
<text text-anchor="middle" x="4604" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return inverter.langs[key]</text>
<text text-anchor="middle" x="4604" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4604" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;No inverter found for language &quot; .. tostring(key))</text>
<text text-anchor="middle" x="4604" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4604" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4604" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.__call = invert</text>
<text text-anchor="middle" x="4604" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.invert = invert</text>
<text text-anchor="middle" x="4604" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">return u.export(inv, new)</text>
</g>
<!-- codeblock_51&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>codeblock_51&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4529.658,-1242.8224C4536.8004,-1164.51 4565.4643,-850.2245 4585.0394,-635.5945"/>
<polygon fill="#000000" stroke="#000000" points="4588.5417,-635.7273 4585.9645,-625.4507 4581.5706,-635.0914 4588.5417,-635.7273"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="4159.5,-132.3005 3940.5,-132.3005 3940.5,-61.6998 4159.5,-61.6998 4159.5,-132.3005"/>
<text text-anchor="middle" x="4050" y="-101.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="4050" y="-85.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Currently minimum&#45;viable. </text>
</g>
<!-- raw_52&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>raw_52&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4161.6558,-409.9207C4143.7426,-359.7182 4092.3721,-215.75 4066.0178,-141.8907"/>
<polygon fill="#000000" stroke="#000000" points="4069.2817,-140.6232 4062.6246,-132.3811 4062.6889,-142.9757 4069.2817,-140.6232"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="4684,-194.0005 4178,-194.0005 4178,.0002 4684,.0002 4684,-194.0005"/>
<text text-anchor="middle" x="4431" y="-162.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> Long term, lang can be other than nil, which gets you lua.</text>
<text text-anchor="middle" x="4431" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> A string will return an inverter.lang of that string if such</text>
<text text-anchor="middle" x="4431" y="-132.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> exists.</text>
<text text-anchor="middle" x="4431" y="-116.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="4431" y="-101.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> A table will configure a lang, memoize it if it&#39;s new, and return</text>
<text text-anchor="middle" x="4431" y="-85.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> same. If one of that name already exists, memoization isn&#39;t repeated,</text>
<text text-anchor="middle" x="4431" y="-70.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> so for a default like lua or python, making a custom python inverter</text>
<text text-anchor="middle" x="4431" y="-55.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> wont affect the result of subsequent `invert(&quot;python&quot;)` calls. </text>
<text text-anchor="middle" x="4431" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="4431" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return: an Inverter</text>
</g>
<!-- raw_54&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>raw_54&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4314.0463,-409.6487C4316.584,-374.1439 4324.7585,-293.1916 4349,-230.0003 4352.4612,-220.9777 4356.5471,-211.8907 4361.0168,-202.9319"/>
<polygon fill="#000000" stroke="#000000" points="4364.138,-204.5157 4365.6054,-194.0229 4357.9149,-201.3104 4364.138,-204.5157"/>
</g>
</g>
</svg>