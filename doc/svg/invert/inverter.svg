<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="6168pt" height="2533pt"
 viewBox="0.00 0.00 6168.00 2532.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2528.6037)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2528.6037 6164,-2528.6037 6164,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1135" cy="-2506.6037" rx="27" ry="18"/>
<text text-anchor="middle" x="1135" y="-2502.4037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">90 &#160;</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1135" cy="-2434.6037" rx="27" ry="18"/>
<text text-anchor="middle" x="1135" y="-2430.4037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">05 &#160;</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1135,-2488.4351C1135,-2480.7347 1135,-2471.5781 1135,-2463.0203"/>
<polygon fill="#000000" stroke="#000000" points="1138.5001,-2463.0169 1135,-2453.017 1131.5001,-2463.017 1138.5001,-2463.0169"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="862" cy="-2362.6037" rx="27" ry="18"/>
<text text-anchor="middle" x="862" y="-2358.4037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">le &#160;</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1108.4648,-2430.691C1064.0166,-2423.6689 972.097,-2407.1348 898,-2380.6037 896.1251,-2379.9324 894.2214,-2379.1874 892.3187,-2378.3936"/>
<polygon fill="#000000" stroke="#000000" points="893.5015,-2375.0865 882.9498,-2374.1312 890.6027,-2381.4581 893.5015,-2375.0865"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="934" cy="-2362.6037" rx="27" ry="18"/>
<text text-anchor="middle" x="934" y="-2358.4037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">&#45;4 &#160;</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1109.9888,-2427.6686C1077.3011,-2418.3228 1018.5077,-2400.5412 970,-2380.6037 968.2065,-2379.8666 966.3788,-2379.0777 964.5454,-2378.257"/>
<polygon fill="#000000" stroke="#000000" points="966.0012,-2375.0739 955.4629,-2373.9805 963.0192,-2381.407 966.0012,-2375.0739"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="1006" cy="-2362.6037" rx="27" ry="18"/>
<text text-anchor="middle" x="1006" y="-2358.4037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">&#45;8 &#160;</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1114.2739,-2423.0357C1093.1479,-2411.2444 1060.1592,-2392.8321 1036.1438,-2379.4281"/>
<polygon fill="#000000" stroke="#000000" points="1037.541,-2376.1998 1027.1032,-2374.3822 1034.1294,-2382.3122 1037.541,-2376.1998"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="1078" cy="-2362.6037" rx="27" ry="18"/>
<text text-anchor="middle" x="1078" y="-2358.4037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">26 &#160;</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1122.3499,-2418.6246C1114.8965,-2409.2098 1105.3225,-2397.1163 1096.9786,-2386.5767"/>
<polygon fill="#000000" stroke="#000000" points="1099.566,-2384.2062 1090.6148,-2378.5382 1094.0777,-2388.5511 1099.566,-2384.2062"/>
</g>
<!-- block_6 -->
<g id="node7" class="node">
<title>block_6</title>
<ellipse fill="none" stroke="#000000" cx="1171" cy="-2362.6037" rx="27" ry="18"/>
<text text-anchor="middle" x="1171" y="-2358.4037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">28 &#160;</text>
</g>
<!-- section_1&#45;&gt;block_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;block_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1143.7146,-2417.1745C1147.9597,-2408.6844 1153.1536,-2398.2966 1157.8663,-2388.8711"/>
<polygon fill="#000000" stroke="#000000" points="1161.024,-2390.3819 1162.3657,-2379.8724 1154.763,-2387.2514 1161.024,-2390.3819"/>
</g>
<!-- block_7 -->
<g id="node8" class="node">
<title>block_7</title>
<ellipse fill="none" stroke="#000000" cx="1367" cy="-2362.6037" rx="27" ry="18"/>
<text text-anchor="middle" x="1367" y="-2358.4037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">05 &#160;</text>
</g>
<!-- section_1&#45;&gt;block_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;block_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1159.8281,-2426.8985C1201.429,-2413.9878 1285.2926,-2387.9612 1332.5664,-2373.29"/>
<polygon fill="#000000" stroke="#000000" points="1333.8372,-2376.5604 1342.3505,-2370.2536 1331.7624,-2369.8749 1333.8372,-2376.5604"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="2147" cy="-2362.6037" rx="27" ry="18"/>
<text text-anchor="middle" x="2147" y="-2358.4037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">05 &#160;</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1162.0686,-2432.6779C1302.477,-2422.6884 1947.5804,-2376.7917 2109.8669,-2365.2456"/>
<polygon fill="#000000" stroke="#000000" points="2110.1213,-2368.7364 2119.8477,-2364.5355 2109.6245,-2361.7541 2110.1213,-2368.7364"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="4446" cy="-2362.6037" rx="27" ry="18"/>
<text text-anchor="middle" x="4446" y="-2358.4037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">45 &#160;</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1162.1384,-2434.0136C1457.1914,-2427.5974 4065.4441,-2370.8792 4408.7636,-2363.4134"/>
<polygon fill="#000000" stroke="#000000" points="4408.999,-2366.9093 4418.9205,-2363.1926 4408.8468,-2359.9109 4408.999,-2366.9093"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="450,-2300.5041 0,-2300.5041 0,-2245.9033 450,-2245.9033 450,-2300.5041"/>
<text text-anchor="middle" x="225" y="-2285.4037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;A work in progress, which also works well enough to invert,</text>
<text text-anchor="middle" x="225" y="-2270.0037" font-family="Inconsolata" font-size="14.00" fill="#000000"> I may hope, the whole of grym including this file.</text>
</g>
<!-- block_3&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>block_3&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M913.6025,-2350.7279C908.6414,-2348.3164 903.249,-2346.0719 898,-2344.6037 709.4699,-2291.871 653.4508,-2331.2583 459,-2308.6037 442.0275,-2306.6263 424.394,-2304.3572 406.7621,-2301.9432"/>
<polygon fill="#000000" stroke="#000000" points="406.7716,-2298.4112 396.386,-2300.5063 405.8113,-2305.345 406.7716,-2298.4112"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="939.5,-2308.504 468.5,-2308.504 468.5,-2237.9033 939.5,-2237.9033 939.5,-2308.504"/>
<text text-anchor="middle" x="704" y="-2293.4037" font-family="Inconsolata" font-size="14.00" fill="#000000"> Hence I&#39;m eager to use it and then document it from the grimoire</text>
<text text-anchor="middle" x="704" y="-2278.0037" font-family="Inconsolata" font-size="14.00" fill="#000000"> side.</text>
</g>
<!-- block_4&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>block_4&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M984.9981,-2351.2174C980.1545,-2348.8415 974.9647,-2346.4891 970,-2344.6037 937.1085,-2332.1126 901.1492,-2320.9034 866.603,-2311.271"/>
<polygon fill="#000000" stroke="#000000" points="867.471,-2307.8798 856.9004,-2308.5963 865.6106,-2314.6281 867.471,-2307.8798"/>
</g>
<!-- codeblock_12 -->
<g id="node13" class="node">
<title>codeblock_12</title>
<ellipse fill="none" stroke="#000000" cx="985" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="985" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">24 &#160;</text>
</g>
<!-- block_5&#45;&gt;codeblock_12 -->
<g id="edge12" class="edge">
<title>block_5&#45;&gt;codeblock_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1061.9542,-2347.5531C1050.4912,-2336.7645 1034.7314,-2321.8571 1021,-2308.6037 1016.6364,-2304.392 1012.0019,-2299.8711 1007.5617,-2295.5158"/>
<polygon fill="#000000" stroke="#000000" points="1009.9381,-2292.9439 1000.3546,-2288.4263 1005.0292,-2297.9342 1009.9381,-2292.9439"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="1084,-2293.2037 1030,-2293.2037 1030,-2253.2037 1084,-2253.2037 1084,-2293.2037"/>
</g>
<!-- block_5&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>block_5&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1073.7503,-2344.5123C1070.9807,-2332.7216 1067.2988,-2317.0474 1064.0925,-2303.3974"/>
<polygon fill="#000000" stroke="#000000" points="1067.4503,-2302.3862 1061.7562,-2293.4515 1060.6358,-2303.9869 1067.4503,-2302.3862"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="1321.5,-2293.1058 1102.5,-2293.1058 1102.5,-2253.3016 1321.5,-2253.3016 1321.5,-2293.1058"/>
<text text-anchor="middle" x="1212" y="-2277.7037" font-family="Inconsolata" font-size="14.00" fill="#000000"> The default language is Lua.</text>
</g>
<!-- block_6&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>block_6&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1178.9052,-2345.3665C1184.4638,-2333.2461 1192.0394,-2316.7275 1198.54,-2302.553"/>
<polygon fill="#000000" stroke="#000000" points="1201.8434,-2303.746 1202.8307,-2293.1972 1195.4806,-2300.8279 1201.8434,-2303.746"/>
</g>
<!-- codeblock_16 -->
<g id="node17" class="node">
<title>codeblock_16</title>
<ellipse fill="none" stroke="#000000" cx="1367" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="1367" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">64 &#160;</text>
</g>
<!-- block_7&#45;&gt;codeblock_16 -->
<g id="edge16" class="edge">
<title>block_7&#45;&gt;codeblock_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1367,-2344.5123C1367,-2332.1524 1367,-2315.5249 1367,-2301.4353"/>
<polygon fill="#000000" stroke="#000000" points="1370.5001,-2301.2682 1367,-2291.2682 1363.5001,-2301.2682 1370.5001,-2301.2682"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1466,-2291.2037 1412,-2291.2037 1412,-2255.2037 1466,-2255.2037 1466,-2291.2037"/>
</g>
<!-- block_7&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>block_7&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1379.8722,-2346.6208C1390.3838,-2333.5689 1405.4575,-2314.8523 1417.7541,-2299.584"/>
<polygon fill="#000000" stroke="#000000" points="1420.7067,-2301.4978 1424.2533,-2291.5142 1415.2549,-2297.1071 1420.7067,-2301.4978"/>
</g>
<!-- header_19 -->
<g id="node20" class="node">
<title>header_19</title>
<ellipse fill="none" stroke="#000000" cx="1967" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="1967" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">pe &#160;</text>
</g>
<!-- section_8&#45;&gt;header_19 -->
<g id="edge19" class="edge">
<title>section_8&#45;&gt;header_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2121.3244,-2356.4712C2091.3127,-2348.5395 2040.928,-2332.8013 2003,-2308.6037 1997.6979,-2305.2211 1992.54,-2300.9537 1987.8619,-2296.5634"/>
<polygon fill="#000000" stroke="#000000" points="1990.0442,-2293.7956 1980.5013,-2289.1931 1985.0912,-2298.7421 1990.0442,-2293.7956"/>
</g>
<!-- block_20 -->
<g id="node21" class="node">
<title>block_20</title>
<ellipse fill="none" stroke="#000000" cx="2039" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="2039" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">74 &#160;</text>
</g>
<!-- section_8&#45;&gt;block_20 -->
<g id="edge20" class="edge">
<title>section_8&#45;&gt;block_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2128.1241,-2349.5002C2113.2826,-2338.9501 2092.2964,-2323.478 2075,-2308.6037 2070.3167,-2304.5762 2065.4838,-2300.0836 2060.9387,-2295.6872"/>
<polygon fill="#000000" stroke="#000000" points="2063.2131,-2293.0143 2053.6384,-2288.4782 2058.2946,-2297.9951 2063.2131,-2293.0143"/>
</g>
<!-- block_21 -->
<g id="node22" class="node">
<title>block_21</title>
<ellipse fill="none" stroke="#000000" cx="2111" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="2111" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">77 &#160;</text>
</g>
<!-- section_8&#45;&gt;block_21 -->
<g id="edge21" class="edge">
<title>section_8&#45;&gt;block_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2139.8876,-2344.9411C2134.7596,-2332.2068 2127.7433,-2314.783 2121.9097,-2300.2961"/>
<polygon fill="#000000" stroke="#000000" points="2125.0797,-2298.7983 2118.0977,-2290.8296 2118.5864,-2301.4131 2125.0797,-2298.7983"/>
</g>
<!-- block_22 -->
<g id="node23" class="node">
<title>block_22</title>
<ellipse fill="none" stroke="#000000" cx="2183" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="2183" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">13 &#160;</text>
</g>
<!-- section_8&#45;&gt;block_22 -->
<g id="edge22" class="edge">
<title>section_8&#45;&gt;block_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2154.1124,-2344.9411C2159.2404,-2332.2068 2166.2567,-2314.783 2172.0903,-2300.2961"/>
<polygon fill="#000000" stroke="#000000" points="2175.4136,-2301.4131 2175.9023,-2290.8296 2168.9203,-2298.7983 2175.4136,-2301.4131"/>
</g>
<!-- block_23 -->
<g id="node24" class="node">
<title>block_23</title>
<ellipse fill="none" stroke="#000000" cx="2364" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="2364" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">15 &#160;</text>
</g>
<!-- section_8&#45;&gt;block_23 -->
<g id="edge23" class="edge">
<title>section_8&#45;&gt;block_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2170.2228,-2353.0363C2209.0525,-2337.0392 2287.2467,-2304.8247 2331.5142,-2286.5873"/>
<polygon fill="#000000" stroke="#000000" points="2333.0313,-2289.7477 2340.9442,-2282.7023 2330.3648,-2283.2754 2333.0313,-2289.7477"/>
</g>
<!-- block_24 -->
<g id="node25" class="node">
<title>block_24</title>
<ellipse fill="none" stroke="#000000" cx="2687" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="2687" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">18 &#160;</text>
</g>
<!-- section_8&#45;&gt;block_24 -->
<g id="edge24" class="edge">
<title>section_8&#45;&gt;block_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2173.4109,-2358.2312C2261.9644,-2343.5707 2548.5023,-2296.1327 2650.5193,-2279.2433"/>
<polygon fill="#000000" stroke="#000000" points="2651.3459,-2282.6541 2660.64,-2277.5677 2650.2026,-2275.7481 2651.3459,-2282.6541"/>
</g>
<!-- block_25 -->
<g id="node26" class="node">
<title>block_25</title>
<ellipse fill="none" stroke="#000000" cx="3221" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="3221" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">05 &#160;</text>
</g>
<!-- section_8&#45;&gt;block_25 -->
<g id="edge25" class="edge">
<title>section_8&#45;&gt;block_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2173.8164,-2360.3715C2319.4104,-2348.2522 3014.5969,-2290.3847 3183.8088,-2276.2995"/>
<polygon fill="#000000" stroke="#000000" points="3184.2843,-2279.7721 3193.9594,-2275.4545 3183.7035,-2272.7962 3184.2843,-2279.7721"/>
</g>
<!-- header_36 -->
<g id="node37" class="node">
<title>header_36</title>
<ellipse fill="none" stroke="#000000" cx="4302" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="4302" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">r) &#160;</text>
</g>
<!-- section_9&#45;&gt;header_36 -->
<g id="edge36" class="edge">
<title>section_9&#45;&gt;header_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4422.4854,-2353.3867C4399.7737,-2343.9144 4364.9509,-2327.8573 4338,-2308.6037 4332.8825,-2304.9478 4327.8057,-2300.5604 4323.1487,-2296.1388"/>
<polygon fill="#000000" stroke="#000000" points="4325.328,-2293.3692 4315.7748,-2288.7882 4320.3861,-2298.3268 4325.328,-2293.3692"/>
</g>
<!-- block_37 -->
<g id="node38" class="node">
<title>block_37</title>
<ellipse fill="none" stroke="#000000" cx="4374" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="4374" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">09 &#160;</text>
</g>
<!-- section_9&#45;&gt;block_37 -->
<g id="edge37" class="edge">
<title>section_9&#45;&gt;block_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4433.1278,-2346.6208C4422.1384,-2332.9756 4406.1627,-2313.1391 4393.587,-2297.5242"/>
<polygon fill="#000000" stroke="#000000" points="4396.0018,-2294.9426 4387.0035,-2289.3497 4390.55,-2299.3333 4396.0018,-2294.9426"/>
</g>
<!-- block_38 -->
<g id="node39" class="node">
<title>block_38</title>
<ellipse fill="none" stroke="#000000" cx="4446" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="4446" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">11 &#160;</text>
</g>
<!-- section_9&#45;&gt;block_38 -->
<g id="edge38" class="edge">
<title>section_9&#45;&gt;block_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4446,-2344.5123C4446,-2332.1524 4446,-2315.5249 4446,-2301.4353"/>
<polygon fill="#000000" stroke="#000000" points="4449.5001,-2301.2682 4446,-2291.2682 4442.5001,-2301.2682 4449.5001,-2301.2682"/>
</g>
<!-- block_39 -->
<g id="node40" class="node">
<title>block_39</title>
<ellipse fill="none" stroke="#000000" cx="4585" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="4585" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">14 &#160;</text>
</g>
<!-- section_9&#45;&gt;block_39 -->
<g id="edge39" class="edge">
<title>section_9&#45;&gt;block_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4465.6205,-2349.9845C4489.4215,-2334.6765 4529.7179,-2308.7592 4556.8323,-2291.3202"/>
<polygon fill="#000000" stroke="#000000" points="4558.962,-2294.1119 4565.4793,-2285.7587 4555.1754,-2288.2245 4558.962,-2294.1119"/>
</g>
<!-- block_40 -->
<g id="node41" class="node">
<title>block_40</title>
<ellipse fill="none" stroke="#000000" cx="4929" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="4929" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">45 &#160;</text>
</g>
<!-- section_9&#45;&gt;block_40 -->
<g id="edge40" class="edge">
<title>section_9&#45;&gt;block_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4472.3112,-2357.7337C4553.4397,-2342.7173 4799.8492,-2297.1086 4892.9025,-2279.8851"/>
<polygon fill="#000000" stroke="#000000" points="4893.7637,-2283.2852 4902.9596,-2278.0236 4892.4896,-2276.4021 4893.7637,-2283.2852"/>
</g>
<!-- section_41 -->
<g id="node42" class="node">
<title>section_41</title>
<ellipse fill="none" stroke="#000000" cx="5373" cy="-2273.2037" rx="27" ry="18"/>
<text text-anchor="middle" x="5373" y="-2269.0037" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">90 &#160;</text>
</g>
<!-- section_9&#45;&gt;section_41 -->
<g id="edge41" class="edge">
<title>section_9&#45;&gt;section_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4472.7436,-2360.0246C4604.3584,-2347.3316 5183.0865,-2291.519 5335.8938,-2276.7822"/>
<polygon fill="#000000" stroke="#000000" points="5336.5301,-2280.2372 5346.1479,-2275.7933 5335.8581,-2273.2695 5336.5301,-2280.2372"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="682.5,-2047.3038 267.5,-2047.3038 267.5,-1821.1026 682.5,-1821.1026 682.5,-2047.3038"/>
<text text-anchor="middle" x="475" y="-2032.3034" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="475" y="-2000.9033" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
<text text-anchor="middle" x="475" y="-1969.5033" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="475" y="-1938.1033" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="475" y="-1906.7032" font-family="Inconsolata" font-size="14.00" fill="#000000">local function isBlank(line)</text>
<text text-anchor="middle" x="475" y="-1891.3032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local all_blanks = L.match((m.__TAB__ + m._)^0, line)</text>
<text text-anchor="middle" x="475" y="-1875.9032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return (all_blanks == (#line + 1) or line == &quot;&quot;)</text>
<text text-anchor="middle" x="475" y="-1860.5031" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="475" y="-1829.1031" font-family="Inconsolata" font-size="14.00" fill="#000000">local Inv, inv = u.inherit()</text>
</g>
<!-- codeblock_12&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>codeblock_12&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M972.2314,-2257.059C965.746,-2249.9935 957.2791,-2242.3032 948,-2237.8037 844.6165,-2187.6716 792.0184,-2258.3519 692,-2201.8037 631.5792,-2167.643 581.3474,-2109.4676 544.4822,-2056.0676"/>
<polygon fill="#000000" stroke="#000000" points="547.2004,-2053.8408 538.6808,-2047.5427 541.4133,-2057.7791 547.2004,-2053.8408"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="1193,-2201.9041 701,-2201.9041 701,-1666.5023 1193,-1666.5023 1193,-2201.9041"/>
<text text-anchor="middle" x="947" y="-2186.6037" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.lang = &quot;lua&quot;</text>
<text text-anchor="middle" x="947" y="-2171.2036" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.extension = &quot;.lua&quot;</text>
<text text-anchor="middle" x="947" y="-2155.8036" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.comment = L.P&quot;&#45;&#45;&quot;</text>
<text text-anchor="middle" x="947" y="-2140.4036" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.comment_len = 3</text>
<text text-anchor="middle" x="947" y="-2125.0035" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.tab_to_space = &quot; &#160;&#160;&quot;</text>
<text text-anchor="middle" x="947" y="-2093.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">local lang_config = { lua = { lang = &quot;lua&quot;, </text>
<text text-anchor="middle" x="947" y="-2078.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;extension = &quot;.lua&quot;,</text>
<text text-anchor="middle" x="947" y="-2062.8034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;comment = L.P&quot;&#45;&#45;&quot;,</text>
<text text-anchor="middle" x="947" y="-2047.4034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;comment_len = 3,</text>
<text text-anchor="middle" x="947" y="-2032.0034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tab_to_space = &quot; &#160;&#160;&quot;}}</text>
<text text-anchor="middle" x="947" y="-2000.6033" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.write_header(inverter)</text>
<text text-anchor="middle" x="947" y="-1985.2033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;#!&quot; .. inverter.lang .. &quot;\n&quot;</text>
<text text-anchor="middle" x="947" y="-1969.8033" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="947" y="-1938.4032" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.write_footer(inverter)</text>
<text text-anchor="middle" x="947" y="-1923.0032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;#/&quot; .. inverter.lang .. &quot;\n&quot;</text>
<text text-anchor="middle" x="947" y="-1907.6032" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="947" y="-1876.2032" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.filter(inverter, line)</text>
<text text-anchor="middle" x="947" y="-1860.8031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if isBlank(line) then</text>
<text text-anchor="middle" x="947" y="-1845.4031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return &quot;&quot;</text>
<text text-anchor="middle" x="947" y="-1830.0031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="947" y="-1814.603" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return line:gsub(&quot;\t&quot;, inverter.tab_to_space):gsub(&quot;\r&quot;, &quot;&quot;)</text>
<text text-anchor="middle" x="947" y="-1799.203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="947" y="-1783.803" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="947" y="-1752.4029" font-family="Inconsolata" font-size="14.00" fill="#000000">local function cat_lines() end &#45;&#45;stub out</text>
<text text-anchor="middle" x="947" y="-1721.0029" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.matchComment(inverter, line)</text>
<text text-anchor="middle" x="947" y="-1705.6029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return (L.match(inverter.comment * m._, line) </text>
<text text-anchor="middle" x="947" y="-1690.2028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;or (L.match(inverter.comment, line) and #line == 2))</text>
<text text-anchor="middle" x="947" y="-1674.8028" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_16&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>codeblock_16&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1353.601,-2257.2492C1347.1014,-2250.3978 1338.8015,-2242.8283 1330,-2237.8037 1278.6782,-2208.5049 1252.6313,-2232.2801 1202,-2201.8037 1201.9098,-2201.7494 1201.8196,-2201.695 1201.7294,-2201.6406"/>
<polygon fill="#000000" stroke="#000000" points="1203.7197,-2198.7564 1193.3746,-2196.4698 1200.0358,-2204.7086 1203.7197,-2198.7564"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1668.5,-2000.604 1211.5,-2000.604 1211.5,-1867.8024 1668.5,-1867.8024 1668.5,-2000.604"/>
<text text-anchor="middle" x="1440" y="-1969.2033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Matches a line by type (comment, code, or blank) and either</text>
<text text-anchor="middle" x="1440" y="-1953.8033" font-family="Inconsolata" font-size="14.00" fill="#000000"> concatenates to an existing block of this type or starts a new</text>
<text text-anchor="middle" x="1440" y="-1938.4032" font-family="Inconsolata" font-size="14.00" fill="#000000"> one if the latest is different.</text>
<text text-anchor="middle" x="1440" y="-1923.0032" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="1440" y="-1907.6032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; latest: the latest block.</text>
<text text-anchor="middle" x="1440" y="-1892.2032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; line: line to be matched and added.</text>
</g>
<!-- block_20&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>block_20&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2026.7165,-2256.9365C2020.4369,-2249.8441 2012.1843,-2242.1667 2003,-2237.8037 1871.3321,-2175.2548 1806.433,-2268.8551 1677,-2201.8037 1593.1885,-2158.386 1525.3086,-2072.1004 1484.0138,-2009.2105"/>
<polygon fill="#000000" stroke="#000000" points="1486.742,-2006.9847 1478.3645,-2000.4987 1480.8687,-2010.7933 1486.742,-2006.9847"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="2101.5,-1962.1047 1686.5,-1962.1047 1686.5,-1906.3017 2101.5,-1906.3017 2101.5,-1962.1047"/>
<text text-anchor="middle" x="1894" y="-1946.7032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return : the latest block, which may be created here.</text>
</g>
<!-- block_21&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>block_21&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2100.2389,-2256.3926C2066.778,-2204.1194 1964.0172,-2043.5851 1917.4139,-1970.7808"/>
<polygon fill="#000000" stroke="#000000" points="1920.0913,-1968.4714 1911.7523,-1961.9361 1914.1957,-1972.2453 1920.0913,-1968.4714"/>
</g>
<!-- codeblock_28 -->
<g id="node29" class="node">
<title>codeblock_28</title>
<ellipse fill="none" stroke="#000000" cx="2147" cy="-1934.2032" rx="27" ry="18"/>
<text text-anchor="middle" x="2147" y="-1930.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">12 &#160;</text>
</g>
<!-- block_22&#45;&gt;codeblock_28 -->
<g id="edge28" class="edge">
<title>block_22&#45;&gt;codeblock_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2181.0645,-2254.9775C2175.1433,-2199.22 2157.24,-2030.6298 2150.0435,-1962.863"/>
<polygon fill="#000000" stroke="#000000" points="2153.4816,-1962.0939 2148.9451,-1952.5195 2146.5207,-1962.8332 2153.4816,-1962.0939"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="2246,-1952.2032 2192,-1952.2032 2192,-1916.2032 2246,-1916.2032 2246,-1952.2032"/>
</g>
<!-- block_22&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>block_22&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2184.9355,-2254.9775C2190.8567,-2199.22 2208.76,-2030.6298 2215.9565,-1962.863"/>
<polygon fill="#000000" stroke="#000000" points="2219.4793,-1962.8332 2217.0549,-1952.5195 2212.5184,-1962.0939 2219.4793,-1962.8332"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="2679.5,-1954.1053 2264.5,-1954.1053 2264.5,-1914.3011 2679.5,-1914.3011 2679.5,-1954.1053"/>
<text text-anchor="middle" x="2472" y="-1938.7032" font-family="Inconsolata" font-size="14.00" fill="#000000"> Takes blocks and concatenates them into a single string.</text>
</g>
<!-- block_23&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>block_23&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2369.6545,-2255.4548C2387.1584,-2200.512 2440.5877,-2032.803 2462.486,-1964.0667"/>
<polygon fill="#000000" stroke="#000000" points="2465.8993,-1964.8827 2465.6,-1954.2921 2459.2296,-1962.7578 2465.8993,-1964.8827"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="3176,-1961.5036 2698,-1961.5036 2698,-1906.9028 3176,-1906.9028 3176,-1961.5036"/>
<text text-anchor="middle" x="2937" y="-1946.4032" font-family="Inconsolata" font-size="14.00" fill="#000000"> Also writes headers and footers, while doing its best to get the </text>
<text text-anchor="middle" x="2937" y="-1931.0032" font-family="Inconsolata" font-size="14.00" fill="#000000"> spacing right.</text>
</g>
<!-- block_24&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>block_24&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2699.058,-2256.853C2737.392,-2204.8721 2857.0803,-2042.5745 2910.6357,-1969.9533"/>
<polygon fill="#000000" stroke="#000000" points="2913.7107,-1971.6805 2916.8291,-1961.555 2908.077,-1967.5259 2913.7107,-1971.6805"/>
</g>
<!-- codeblock_33 -->
<g id="node34" class="node">
<title>codeblock_33</title>
<ellipse fill="none" stroke="#000000" cx="3221" cy="-1934.2032" rx="27" ry="18"/>
<text text-anchor="middle" x="3221" y="-1930.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">03 &#160;</text>
</g>
<!-- block_25&#45;&gt;codeblock_33 -->
<g id="edge33" class="edge">
<title>block_25&#45;&gt;codeblock_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3221,-2254.9775C3221,-2199.22 3221,-2030.6298 3221,-1962.863"/>
<polygon fill="#000000" stroke="#000000" points="3224.5001,-1962.5194 3221,-1952.5195 3217.5001,-1962.5195 3224.5001,-1962.5194"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="3737.5,-1993.5034 3266.5,-1993.5034 3266.5,-1874.903 3737.5,-1874.903 3737.5,-1993.5034"/>
<text text-anchor="middle" x="3502" y="-1978.4032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; inverter : the Inverter for this language.</text>
<text text-anchor="middle" x="3502" y="-1963.0032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; blocks: blocks of single lines of types blank, prose, or code.</text>
</g>
<!-- block_25&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>block_25&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3234.1763,-2257.3077C3271.4168,-2212.3805 3379.0771,-2082.4983 3446.0131,-2001.7463"/>
<polygon fill="#000000" stroke="#000000" points="3449.0738,-2003.5382 3452.7609,-1993.6056 3443.6845,-1999.071 3449.0738,-2003.5382"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="2372,-1289.9028 1922,-1289.9028 1922,-772.1006 2372,-772.1006 2372,-1289.9028"/>
<text text-anchor="middle" x="2147" y="-1274.5022" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.sortLine(inverter, latest, line)</text>
<text text-anchor="middle" x="2147" y="-1259.1022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local block = latest or {}</text>
<text text-anchor="middle" x="2147" y="-1227.7021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if inverter:matchComment(line) then</text>
<text text-anchor="middle" x="2147" y="-1212.3021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; prose</text>
<text text-anchor="middle" x="2147" y="-1196.9021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not block.id or block.id ~= &quot;prose&quot; then</text>
<text text-anchor="middle" x="2147" y="-1181.502" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; new prose block</text>
<text text-anchor="middle" x="2147" y="-1166.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block = { id = &quot;prose&quot;}</text>
<text text-anchor="middle" x="2147" y="-1150.702" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = line:sub(inverter.comment_len)</text>
<text text-anchor="middle" x="2147" y="-1135.302" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2147" y="-1119.9019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = line:sub(inverter.comment_len)</text>
<text text-anchor="middle" x="2147" y="-1104.5019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2147" y="-1089.1019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif isBlank(line) then</text>
<text text-anchor="middle" x="2147" y="-1073.7018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; blank line</text>
<text text-anchor="middle" x="2147" y="-1058.3018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not block.id or block.id ~= &quot;blank&quot; then</text>
<text text-anchor="middle" x="2147" y="-1042.9018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block = { id = &quot;blank&quot;}</text>
<text text-anchor="middle" x="2147" y="-1027.5017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = line</text>
<text text-anchor="middle" x="2147" y="-1012.1017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2147" y="-996.7017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = line</text>
<text text-anchor="middle" x="2147" y="-981.3016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2147" y="-965.9016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2147" y="-950.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; code line</text>
<text text-anchor="middle" x="2147" y="-935.1015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not block.id or block.id ~= &quot;code&quot; then</text>
<text text-anchor="middle" x="2147" y="-919.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; new code block</text>
<text text-anchor="middle" x="2147" y="-904.3015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block = { id = &quot;code&quot; }</text>
<text text-anchor="middle" x="2147" y="-888.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = line</text>
<text text-anchor="middle" x="2147" y="-873.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2147" y="-858.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = line</text>
<text text-anchor="middle" x="2147" y="-842.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2147" y="-827.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2147" y="-795.9013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return block</text>
<text text-anchor="middle" x="2147" y="-780.5013" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_28&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>codeblock_28&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2147,-1916.1614C2147,-1839.1441 2147,-1531.3095 2147,-1300.1474"/>
<polygon fill="#000000" stroke="#000000" points="2150.5001,-1299.8897 2147,-1289.8898 2143.5001,-1299.8898 2150.5001,-1299.8897"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="3505.5,-1630.7039 2936.5,-1630.7039 2936.5,-431.2996 3505.5,-431.2996 3505.5,-1630.7039"/>
<text text-anchor="middle" x="3221" y="-1615.4028" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.catBlocks(inverter, blocks)</text>
<text text-anchor="middle" x="3221" y="-1600.0027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local linum = 0</text>
<text text-anchor="middle" x="3221" y="-1584.6027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local function toLines(block) </text>
<text text-anchor="middle" x="3221" y="-1569.2027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="3221" y="-1553.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;for j = 1, #block do</text>
<text text-anchor="middle" x="3221" y="-1538.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;linum = linum + 1</text>
<text text-anchor="middle" x="3221" y="-1523.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. block[j] .. &quot;\n&quot;</text>
<text text-anchor="middle" x="3221" y="-1507.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3221" y="-1492.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="3221" y="-1476.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3221" y="-1461.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="3221" y="-1446.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if blocks[1].id == &quot;code&quot; then</text>
<text text-anchor="middle" x="3221" y="-1430.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. inverter:write_header()</text>
<text text-anchor="middle" x="3221" y="-1415.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3221" y="-1399.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;phrase = phrase .. toLines(blocks[1]) </text>
<text text-anchor="middle" x="3221" y="-1384.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i = 2, #blocks do</text>
<text text-anchor="middle" x="3221" y="-1369.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if blocks[i].id == &quot;code&quot; then</text>
<text text-anchor="middle" x="3221" y="-1337.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; if preceding block is blank and before that is</text>
<text text-anchor="middle" x="3221" y="-1322.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; code, write blanks and code</text>
<text text-anchor="middle" x="3221" y="-1306.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if blocks[i &#45; 1].id == &quot;blank&quot; and </text>
<text text-anchor="middle" x="3221" y="-1291.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;i &gt; 2 and blocks[i &#45; 2].id == &quot;code&quot; then</text>
<text text-anchor="middle" x="3221" y="-1276.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. toLines(blocks[i &#45; 1]) .. toLines(blocks[i])</text>
<text text-anchor="middle" x="3221" y="-1244.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; if preceding block is blank and before that is </text>
<text text-anchor="middle" x="3221" y="-1229.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; prose or nothing, write blanks, header, and code</text>
<text text-anchor="middle" x="3221" y="-1213.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif blocks[i &#45; 1].id == &quot;blank&quot; and </text>
<text text-anchor="middle" x="3221" y="-1198.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(blocks[i &#45; 2] == nil or blocks[i &#45; 2].id == &quot;prose&quot;) then</text>
<text text-anchor="middle" x="3221" y="-1183.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. toLines(blocks[i &#45; 1])</text>
<text text-anchor="middle" x="3221" y="-1167.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. inverter:write_header()</text>
<text text-anchor="middle" x="3221" y="-1152.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. toLines(blocks[i])</text>
<text text-anchor="middle" x="3221" y="-1120.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; if preceding block is prose, write a blank line, </text>
<text text-anchor="middle" x="3221" y="-1105.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; header, and code. </text>
<text text-anchor="middle" x="3221" y="-1090.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif blocks[i &#45; 1].id == &quot;prose&quot; then</text>
<text text-anchor="middle" x="3221" y="-1074.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. &quot;\n&quot; .. inverter:write_header() </text>
<text text-anchor="middle" x="3221" y="-1059.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. toLines(blocks[i])</text>
<text text-anchor="middle" x="3221" y="-1043.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3221" y="-1028.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;Reached a bad state on code in catLines&quot;)</text>
<text text-anchor="middle" x="3221" y="-1013.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3221" y="-997.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif blocks[i].id == &quot;prose&quot; then</text>
<text text-anchor="middle" x="3221" y="-966.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; if preceding block is blank and before that is</text>
<text text-anchor="middle" x="3221" y="-950.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; code, write footer, blanks, and prose</text>
<text text-anchor="middle" x="3221" y="-935.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if blocks[i &#45; 1].id == &quot;blank&quot; and </text>
<text text-anchor="middle" x="3221" y="-920.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;i &gt; 2 and blocks[i &#45; 2].id == &quot;code&quot; then</text>
<text text-anchor="middle" x="3221" y="-904.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. inverter:write_footer() </text>
<text text-anchor="middle" x="3221" y="-889.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. toLines(blocks[i &#45; 1]) .. toLines(blocks[i])</text>
<text text-anchor="middle" x="3221" y="-857.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; if preceding block is code, write a footer, newline,</text>
<text text-anchor="middle" x="3221" y="-842.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; and prose</text>
<text text-anchor="middle" x="3221" y="-827.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif (blocks[i &#45; 1].id == &quot;code&quot;) then</text>
<text text-anchor="middle" x="3221" y="-811.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. inverter:write_footer()</text>
<text text-anchor="middle" x="3221" y="-796.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;\n&quot; .. toLines(blocks[i])</text>
<text text-anchor="middle" x="3221" y="-764.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; if preceding line is blank and before that is </text>
<text text-anchor="middle" x="3221" y="-749.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; nothing or more prose, write blanks, then prose.</text>
<text text-anchor="middle" x="3221" y="-734.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif blocks[i &#45; 1].id == &quot;blank&quot; and </text>
<text text-anchor="middle" x="3221" y="-718.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(blocks[i &#45; 2] == nil or blocks[i &#45; 2].id == &quot;prose&quot;) then</text>
<text text-anchor="middle" x="3221" y="-703.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. toLines(blocks[i &#45; 1]) .. toLines(blocks[i])</text>
<text text-anchor="middle" x="3221" y="-671.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3221" y="-656.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;Reached a bad state on prose in catLines&quot;)</text>
<text text-anchor="middle" x="3221" y="-641.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3221" y="-625.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end </text>
<text text-anchor="middle" x="3221" y="-594.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3221" y="-578.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if blocks[#blocks].id == &quot;code&quot; or</text>
<text text-anchor="middle" x="3221" y="-563.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;(blocks[#blocks].id == &quot;blank&quot; </text>
<text text-anchor="middle" x="3221" y="-548.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;and blocks[#blocks &#45; 1].id == &quot;code&quot;) then</text>
<text text-anchor="middle" x="3221" y="-532.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. inverter:write_footer()</text>
<text text-anchor="middle" x="3221" y="-517.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3221" y="-485.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Note that there may be a final block of blank lines which we are</text>
<text text-anchor="middle" x="3221" y="-470.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; happy to simply drop. </text>
<text text-anchor="middle" x="3221" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase, linum</text>
<text text-anchor="middle" x="3221" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_33&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>codeblock_33&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3221,-1916.1614C3221,-1874.9184 3221,-1767.4855 3221,-1641.0815"/>
<polygon fill="#000000" stroke="#000000" points="3224.5001,-1640.7712 3221,-1630.7712 3217.5001,-1640.7712 3224.5001,-1640.7712"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="4206,-1962.1047 3756,-1962.1047 3756,-1906.3017 4206,-1906.3017 4206,-1962.1047"/>
<text text-anchor="middle" x="3981" y="-1930.7032" font-family="Inconsolata" font-size="14.00" fill="#000000"> This takes a source file and inverts it into Grimoire format.</text>
</g>
<!-- block_37&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>block_37&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4361.0128,-2257.281C4354.6988,-2250.436 4346.6174,-2242.8627 4338,-2237.8037 4288.8794,-2208.9661 4263.0005,-2232.4695 4215,-2201.8037 4118.9816,-2140.4609 4039.7522,-2028.4163 4003.0357,-1970.7053"/>
<polygon fill="#000000" stroke="#000000" points="4005.7996,-1968.5259 3997.5118,-1961.9257 3999.8747,-1972.2537 4005.7996,-1968.5259"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="4534,-1954.1053 4224,-1954.1053 4224,-1914.3011 4534,-1914.3011 4534,-1954.1053"/>
<text text-anchor="middle" x="4379" y="-1938.7032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; str: The source file as a single string</text>
</g>
<!-- block_38&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>block_38&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4442.3978,-2254.9775C4431.4584,-2199.6272 4398.5432,-2033.0862 4384.9609,-1964.3638"/>
<polygon fill="#000000" stroke="#000000" points="4388.3259,-1963.3377 4382.9534,-1954.2061 4381.4588,-1964.695 4388.3259,-1963.3377"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="4883.5,-1962.1047 4552.5,-1962.1047 4552.5,-1906.3017 4883.5,-1906.3017 4883.5,-1962.1047"/>
<text text-anchor="middle" x="4718" y="-1946.7032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return: The Grimoire document as a string</text>
</g>
<!-- block_39&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>block_39&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4591.9634,-2255.4548C4612.7398,-2202.4983 4674.6168,-2044.7817 4703.2106,-1971.8997"/>
<polygon fill="#000000" stroke="#000000" points="4706.6225,-1972.786 4707.0166,-1962.1985 4700.1061,-1970.2293 4706.6225,-1972.786"/>
</g>
<!-- codeblock_45 -->
<g id="node46" class="node">
<title>codeblock_45</title>
<ellipse fill="none" stroke="#000000" cx="4929" cy="-1934.2032" rx="27" ry="18"/>
<text text-anchor="middle" x="4929" y="-1930.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">43 &#160;</text>
</g>
<!-- block_40&#45;&gt;codeblock_45 -->
<g id="edge45" class="edge">
<title>block_40&#45;&gt;codeblock_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4929,-2254.9775C4929,-2199.22 4929,-2030.6298 4929,-1962.863"/>
<polygon fill="#000000" stroke="#000000" points="4932.5001,-1962.5194 4929,-1952.5195 4925.5001,-1962.5195 4932.5001,-1962.5194"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="5028,-1954.2032 4974,-1954.2032 4974,-1914.2032 5028,-1914.2032 5028,-1954.2032"/>
</g>
<!-- block_40&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>block_40&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4939.4026,-2256.5658C4947.6887,-2242.5081 4958.8801,-2221.5623 4965,-2201.8037 4990.778,-2118.5779 4998.1011,-2015.1447 5000.1788,-1964.7155"/>
<polygon fill="#000000" stroke="#000000" points="5003.6846,-1964.6224 5000.5567,-1954.4998 4996.6894,-1964.3636 5003.6846,-1964.6224"/>
</g>
<!-- header_48 -->
<g id="node49" class="node">
<title>header_48</title>
<ellipse fill="none" stroke="#000000" cx="5301" cy="-1934.2032" rx="27" ry="18"/>
<text text-anchor="middle" x="5301" y="-1930.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">or &#160;</text>
</g>
<!-- section_41&#45;&gt;header_48 -->
<g id="edge48" class="edge">
<title>section_41&#45;&gt;header_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5362.5974,-2256.5658C5354.3113,-2242.5081 5343.1199,-2221.5623 5337,-2201.8037 5310.8892,-2117.5035 5303.7129,-2012.4708 5301.7433,-1962.7891"/>
<polygon fill="#000000" stroke="#000000" points="5305.2308,-1962.3697 5301.3798,-1952.4996 5298.2351,-1962.6169 5305.2308,-1962.3697"/>
</g>
<!-- block_49 -->
<g id="node50" class="node">
<title>block_49</title>
<ellipse fill="none" stroke="#000000" cx="5373" cy="-1934.2032" rx="27" ry="18"/>
<text text-anchor="middle" x="5373" y="-1930.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">50 &#160;</text>
</g>
<!-- section_41&#45;&gt;block_49 -->
<g id="edge49" class="edge">
<title>section_41&#45;&gt;block_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5373,-2254.9775C5373,-2199.22 5373,-2030.6298 5373,-1962.863"/>
<polygon fill="#000000" stroke="#000000" points="5376.5001,-1962.5194 5373,-1952.5195 5369.5001,-1962.5195 5376.5001,-1962.5194"/>
</g>
<!-- block_50 -->
<g id="node51" class="node">
<title>block_50</title>
<ellipse fill="none" stroke="#000000" cx="5559" cy="-1934.2032" rx="27" ry="18"/>
<text text-anchor="middle" x="5559" y="-1930.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">62 &#160;</text>
</g>
<!-- section_41&#45;&gt;block_50 -->
<g id="edge50" class="edge">
<title>section_41&#45;&gt;block_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5382.4795,-2255.9265C5412.8906,-2200.4997 5508.1361,-2026.9069 5544.6008,-1960.447"/>
<polygon fill="#000000" stroke="#000000" points="5547.7978,-1961.8963 5549.5396,-1951.4456 5541.6608,-1958.5291 5547.7978,-1961.8963"/>
</g>
<!-- block_51 -->
<g id="node52" class="node">
<title>block_51</title>
<ellipse fill="none" stroke="#000000" cx="5914" cy="-1934.2032" rx="27" ry="18"/>
<text text-anchor="middle" x="5914" y="-1930.0032" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">90 &#160;</text>
</g>
<!-- section_41&#45;&gt;block_51 -->
<g id="edge51" class="edge">
<title>section_41&#45;&gt;block_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5399.2786,-2268.2019C5442.2275,-2259.2903 5529.258,-2238.1111 5595,-2201.8037 5721.4382,-2131.9754 5844.8373,-2008.1294 5892.9158,-1957.1275"/>
<polygon fill="#000000" stroke="#000000" points="5895.6957,-1959.2793 5899.9743,-1949.5869 5890.5852,-1954.4956 5895.6957,-1959.2793"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="5107.5,-1243.4027 4636.5,-1243.4027 4636.5,-818.6007 5107.5,-818.6007 5107.5,-1243.4027"/>
<text text-anchor="middle" x="4872" y="-1228.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local function invert(inverter, str)</text>
<text text-anchor="middle" x="4872" y="-1212.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local blocks = {}</text>
<text text-anchor="middle" x="4872" y="-1197.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local linum = 0</text>
<text text-anchor="middle" x="4872" y="-1181.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local latest = nil</text>
<text text-anchor="middle" x="4872" y="-1166.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, line in ipairs(epeg.split(str, &quot;\n&quot;)) do</text>
<text text-anchor="middle" x="4872" y="-1151.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;linum = linum + 1</text>
<text text-anchor="middle" x="4872" y="-1135.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;line = inverter:filter(line)</text>
<text text-anchor="middle" x="4872" y="-1120.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; each line is either comment, blank or code.</text>
<text text-anchor="middle" x="4872" y="-1104.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local this_block = inverter:sortLine(latest, line)</text>
<text text-anchor="middle" x="4872" y="-1089.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if this_block ~= latest then</text>
<text text-anchor="middle" x="4872" y="-1074.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blocks[#blocks + 1] = this_block</text>
<text text-anchor="middle" x="4872" y="-1058.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = this_block</text>
<text text-anchor="middle" x="4872" y="-1043.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4872" y="-1027.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4872" y="-1012.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local new_linum = 0</text>
<text text-anchor="middle" x="4872" y="-997.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45;&#45;[[ This entire check should be wrapped in a utility assert</text>
<text text-anchor="middle" x="4872" y="-981.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, v in ipairs(blocks) do</text>
<text text-anchor="middle" x="4872" y="-966.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;for __, line in ipairs(v) do</text>
<text text-anchor="middle" x="4872" y="-950.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;new_linum = new_linum + 1</text>
<text text-anchor="middle" x="4872" y="-935.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4872" y="-920.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4872" y="-904.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45;]]</text>
<text text-anchor="middle" x="4872" y="-889.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(linum == new_linum)</text>
<text text-anchor="middle" x="4872" y="-857.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase, cat_linum = inverter:catBlocks(blocks)</text>
<text text-anchor="middle" x="4872" y="-842.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="4872" y="-827.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_45&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>codeblock_45&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4927.8614,-1916.1614C4922.664,-1833.8055 4900.8106,-1487.5241 4886.028,-1253.2847"/>
<polygon fill="#000000" stroke="#000000" points="4889.5185,-1253.0213 4885.3955,-1243.2616 4882.5324,-1253.4623 4889.5185,-1253.0213"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="5344.5,-1066.3021 5125.5,-1066.3021 5125.5,-995.7014 5344.5,-995.7014 5344.5,-1066.3021"/>
<text text-anchor="middle" x="5235" y="-1051.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="5235" y="-1035.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Currently minimum&#45;viable. </text>
</g>
<!-- block_49&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>block_49&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5370.7145,-1916.0106C5365.2428,-1872.7365 5350.8156,-1760.2809 5337,-1666.6028 5304.3283,-1445.0685 5260.3147,-1180.948 5242.7283,-1076.6176"/>
<polygon fill="#000000" stroke="#000000" points="5246.1265,-1075.7203 5241.0114,-1066.442 5239.224,-1076.885 5246.1265,-1075.7203"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="5869,-1128.002 5363,-1128.002 5363,-934.0014 5869,-934.0014 5869,-1128.002"/>
<text text-anchor="middle" x="5616" y="-1112.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> Long term, lang can be other than nil, which gets you lua.</text>
<text text-anchor="middle" x="5616" y="-1097.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> A string will return an inverter.lang of that string if such</text>
<text text-anchor="middle" x="5616" y="-1082.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> exists.</text>
<text text-anchor="middle" x="5616" y="-1066.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="5616" y="-1051.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> A table will configure a lang, memoize it if it&#39;s new, and return</text>
<text text-anchor="middle" x="5616" y="-1035.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> same. If one of that name already exists, memoization isn&#39;t repeated,</text>
<text text-anchor="middle" x="5616" y="-1020.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> so for a default like lua or python, making a custom python inverter</text>
<text text-anchor="middle" x="5616" y="-1005.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> wont affect the result of subsequent `invert(&quot;python&quot;)` calls. </text>
<text text-anchor="middle" x="5616" y="-989.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="5616" y="-974.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return: an Inverter</text>
</g>
<!-- block_50&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>block_50&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5560.1386,-1916.1614C5566.2859,-1818.7539 5595.7338,-1352.133 5609.2237,-1138.376"/>
<polygon fill="#000000" stroke="#000000" points="5612.717,-1138.5913 5609.8539,-1128.3907 5605.7309,-1138.1503 5612.717,-1138.5913"/>
</g>
<!-- codeblock_54 -->
<g id="node55" class="node">
<title>codeblock_54</title>
<ellipse fill="none" stroke="#000000" cx="5914" cy="-1031.0017" rx="27" ry="18"/>
<text text-anchor="middle" x="5914" y="-1026.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">89 &#160;</text>
</g>
<!-- block_51&#45;&gt;codeblock_54 -->
<g id="edge54" class="edge">
<title>block_51&#45;&gt;codeblock_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5914,-1916.1614C5914,-1803.598 5914,-1197.9898 5914,-1059.3072"/>
<polygon fill="#000000" stroke="#000000" points="5917.5001,-1059.0864 5914,-1049.0865 5910.5001,-1059.0865 5917.5001,-1059.0864"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="6013,-1049.0017 5959,-1049.0017 5959,-1013.0017 6013,-1013.0017 6013,-1049.0017"/>
</g>
<!-- block_51&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>block_51&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5916.5182,-1916.1047C5922.9775,-1869.1006 5940.3055,-1739.2457 5950,-1630.6028 5969.5994,-1410.9588 5981.3825,-1145.0732 5984.8897,-1059.195"/>
<polygon fill="#000000" stroke="#000000" points="5988.3876,-1059.3147 5985.2942,-1049.1815 5981.3933,-1059.0321 5988.3876,-1059.3147"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="6160,-395.6012 5668,-395.6012 5668,.2005 6160,.2005 6160,-395.6012"/>
<text text-anchor="middle" x="5914" y="-380.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Inverter, lang)</text>
<text text-anchor="middle" x="5914" y="-364.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local inverter = setmetatable({}, Inv)</text>
<text text-anchor="middle" x="5914" y="-349.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if lang and lang ~= &quot;lua&quot; then</text>
<text text-anchor="middle" x="5914" y="-334.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;configs not yet implemented&quot;)</text>
<text text-anchor="middle" x="5914" y="-318.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5914" y="-303.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return inverter</text>
<text text-anchor="middle" x="5914" y="-287.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5914" y="-256.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">local inv_lua = new()</text>
<text text-anchor="middle" x="5914" y="-225.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">function Inv.getLang(inverter, key)</text>
<text text-anchor="middle" x="5914" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if key == &quot;lua&quot; then</text>
<text text-anchor="middle" x="5914" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return inv_lua</text>
<text text-anchor="middle" x="5914" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5914" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if inverter.langs[key] then </text>
<text text-anchor="middle" x="5914" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return inverter.langs[key]</text>
<text text-anchor="middle" x="5914" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5914" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;No inverter found for language &quot; .. tostring(key))</text>
<text text-anchor="middle" x="5914" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5914" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5914" y="-55.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.__call = invert</text>
<text text-anchor="middle" x="5914" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Inv.invert = invert</text>
<text text-anchor="middle" x="5914" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return u.export(inv, new)</text>
</g>
<!-- codeblock_54&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>codeblock_54&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5914,-1012.8221C5914,-934.5097 5914,-620.2242 5914,-405.5942"/>
<polygon fill="#000000" stroke="#000000" points="5917.5001,-405.4503 5914,-395.4504 5910.5001,-405.4504 5917.5001,-405.4503"/>
</g>
</g>
</svg>