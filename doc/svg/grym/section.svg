<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="12919pt" height="2785pt"
 viewBox="0.00 0.00 12919.00 2785.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2781.0045)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2781.0045 12915,-2781.0045 12915,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1997.5" cy="-2759.0045" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1997.5" y="-2754.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 417</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1997.5" cy="-2687.0045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1997.5" y="-2682.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;382</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1997.5,-2740.8359C1997.5,-2733.1355 1997.5,-2723.9789 1997.5,-2715.4212"/>
<polygon fill="#000000" stroke="#000000" points="2001.0001,-2715.4178 1997.5,-2705.4178 1994.0001,-2715.4178 2001.0001,-2715.4178"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1257.5" cy="-2615.0045" rx="93.3745" ry="18"/>
<text text-anchor="middle" x="1257.5" y="-2610.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Section metatable</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1932.9982,-2683.4752C1817.6112,-2676.7323 1568.3827,-2660.2188 1359.5,-2633.0045 1351.2335,-2631.9275 1342.6161,-2630.6503 1334.0458,-2629.2807"/>
<polygon fill="#000000" stroke="#000000" points="1334.4654,-2625.8028 1324.0305,-2627.6369 1333.3316,-2632.7104 1334.4654,-2625.8028"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="1414.5" cy="-2615.0045" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="1414.5" y="-2610.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;6</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1932.188,-2684.8212C1831.753,-2680.4583 1633.7759,-2667.8646 1469.5,-2633.0045 1465.6839,-2632.1947 1461.7602,-2631.2165 1457.8492,-2630.1396"/>
<polygon fill="#000000" stroke="#000000" points="1458.8043,-2626.7723 1448.2226,-2627.299 1456.8232,-2633.4861 1458.8043,-2626.7723"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="1524.5" cy="-2615.0045" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="1524.5" y="-2610.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 7&#45;9</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1933.8262,-2682.5185C1851.3084,-2675.8549 1703.3281,-2661.0046 1579.5,-2633.0045 1575.8558,-2632.1805 1572.1097,-2631.216 1568.3683,-2630.1693"/>
<polygon fill="#000000" stroke="#000000" points="1569.1315,-2626.7448 1558.5486,-2627.2466 1567.1346,-2633.454 1569.1315,-2626.7448"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="1644.5" cy="-2615.0045" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1644.5" y="-2610.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 10&#45;12</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1940.9166,-2677.8545C1882.6282,-2668.0877 1789.2878,-2651.4971 1709.5,-2633.0045 1705.0816,-2631.9805 1700.5121,-2630.8542 1695.9385,-2629.6801"/>
<polygon fill="#000000" stroke="#000000" points="1696.5382,-2626.2187 1685.9764,-2627.0546 1694.7542,-2632.9876 1696.5382,-2626.2187"/>
</g>
<!-- block_6 -->
<g id="node7" class="node">
<title>block_6</title>
<ellipse fill="none" stroke="#000000" cx="1779.5" cy="-2615.0045" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="1779.5" y="-2610.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 13&#45;382</text>
</g>
<!-- section_1&#45;&gt;block_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;block_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1955.4674,-2673.1222C1919.6905,-2661.306 1868.1981,-2644.2993 1830.1527,-2631.7339"/>
<polygon fill="#000000" stroke="#000000" points="1830.8895,-2628.2913 1820.2963,-2628.4785 1828.6942,-2634.9382 1830.8895,-2628.2913"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="1923.5" cy="-2615.0045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1923.5" y="-2610.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 16&#45;21</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1979.5867,-2669.5753C1970.3835,-2660.6209 1959.0108,-2649.5555 1948.9171,-2639.7347"/>
<polygon fill="#000000" stroke="#000000" points="1951.1129,-2636.9878 1941.5049,-2632.5228 1946.2314,-2642.0049 1951.1129,-2636.9878"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="2117.5" cy="-2615.0045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2117.5" y="-2610.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 22&#45;29</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2025.0304,-2670.4863C2041.6471,-2660.5163 2063.0183,-2647.6935 2081.0287,-2636.8873"/>
<polygon fill="#000000" stroke="#000000" points="2083.3235,-2639.5922 2090.0977,-2631.4459 2079.722,-2633.5897 2083.3235,-2639.5922"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="2720.5" cy="-2615.0045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2720.5" y="-2610.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 47&#45;80</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2059.4551,-2680.8347C2192.7516,-2667.5604 2506.1613,-2636.3495 2648.2311,-2622.2014"/>
<polygon fill="#000000" stroke="#000000" points="2648.9657,-2625.6457 2658.5696,-2621.1719 2648.272,-2618.6801 2648.9657,-2625.6457"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="4968.5" cy="-2615.0045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4968.5" y="-2610.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 127&#45;169</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2063.0161,-2685.4168C2450.8909,-2676.0169 4444.3089,-2627.7079 4883.0287,-2617.0759"/>
<polygon fill="#000000" stroke="#000000" points="4883.1892,-2620.5731 4893.1015,-2616.8318 4883.0196,-2613.5751 4883.1892,-2620.5731"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="9565.5" cy="-2615.0045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9565.5" y="-2610.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 207&#45;220</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2063.2127,-2686.3794C2755.1675,-2679.7963 8694.458,-2623.2914 9479.8715,-2615.8192"/>
<polygon fill="#000000" stroke="#000000" points="9480.0035,-2619.3182 9489.9697,-2615.7231 9479.9368,-2612.3185 9480.0035,-2619.3182"/>
</g>
<!-- section_12 -->
<g id="node13" class="node">
<title>section_12</title>
<ellipse fill="none" stroke="#000000" cx="10797.5" cy="-2615.0045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10797.5" y="-2610.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 364&#45;382</text>
</g>
<!-- section_1&#45;&gt;section_12 -->
<g id="edge12" class="edge">
<title>section_1&#45;&gt;section_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2063.4765,-2686.7562C2613.6333,-2684.6406 6496.9946,-2668.8422 9649.5,-2633.0045 10046.5593,-2628.4908 10520.8223,-2620.1022 10711.7004,-2616.6026"/>
<polygon fill="#000000" stroke="#000000" points="10712.0121,-2620.0975 10721.9461,-2616.4144 10711.8835,-2613.0987 10712.0121,-2620.0975"/>
</g>
<!-- section_13 -->
<g id="node14" class="node">
<title>section_13</title>
<ellipse fill="none" stroke="#000000" cx="12054.5" cy="-2615.0045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="12054.5" y="-2610.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 383&#45;417</text>
</g>
<!-- section_1&#45;&gt;section_13 -->
<g id="edge13" class="edge">
<title>section_1&#45;&gt;section_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2063.3871,-2686.8381C2660.5581,-2685.2812 7200.22,-2672.4368 10881.5,-2633.0045 11288.6591,-2628.6432 11775.2677,-2620.116 11968.9153,-2616.5894"/>
<polygon fill="#000000" stroke="#000000" points="11969.0919,-2620.0869 11979.0264,-2616.405 11968.9642,-2613.0881 11969.0919,-2620.0869"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="457,-2560.9048 0,-2560.9048 0,-2490.3042 457,-2490.3042 457,-2560.9048"/>
<text text-anchor="middle" x="228.5" y="-2513.8045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Sections consist of a header and body. &#160;The body may contain</text>
<text text-anchor="middle" x="228.5" y="-2498.4045" font-family="Inconsolata" font-size="14.00" fill="#000000"> one or more blocks, followed by zero or more child sections.</text>
</g>
<!-- block_3&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>block_3&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1381.1379,-2602.4631C1374.0844,-2600.2723 1366.6192,-2598.2873 1359.5,-2597.0045 971.395,-2527.0761 863.1821,-2597.2471 467.0713,-2561.1103"/>
<polygon fill="#000000" stroke="#000000" points="467.3447,-2557.6207 457.0638,-2560.1803 466.697,-2564.5907 467.3447,-2557.6207"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="918,-2544.9051 475,-2544.9051 475,-2506.3039 918,-2506.3039 918,-2544.9051"/>
<text text-anchor="middle" x="696.5" y="-2529.8045" font-family="Inconsolata" font-size="14.00" fill="#000000"> The header and block may both be virtual, but will always be</text>
<text text-anchor="middle" x="696.5" y="-2514.4045" font-family="Inconsolata" font-size="14.00" fill="#000000"> present.</text>
</g>
<!-- block_4&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>block_4&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1491.111,-2602.6068C1484.0595,-2600.4055 1476.6019,-2598.38 1469.5,-2597.0045 1232.4846,-2551.101 1167.4818,-2587.3136 927.5,-2561.0045 892.4446,-2557.1614 854.564,-2551.8471 819.8179,-2546.5035"/>
<polygon fill="#000000" stroke="#000000" points="820.0442,-2542.9968 809.6257,-2544.9217 818.9706,-2549.914 820.0442,-2542.9968"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1330.5,-2544.9051 936.5,-2544.9051 936.5,-2506.3039 1330.5,-2506.3039 1330.5,-2544.9051"/>
<text text-anchor="middle" x="1133.5" y="-2529.8045" font-family="Inconsolata" font-size="14.00" fill="#000000"> In the first pass, we fill a lines array with the raw</text>
<text text-anchor="middle" x="1133.5" y="-2514.4045" font-family="Inconsolata" font-size="14.00" fill="#000000"> contents of the section. </text>
</g>
<!-- block_5&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>block_5&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1603.0743,-2602.7262C1595.283,-2600.6469 1587.1737,-2598.6363 1579.5,-2597.0045 1473.9988,-2574.5705 1445.9903,-2578.1392 1339.5,-2561.0045 1311.5376,-2556.5053 1281.4778,-2551.459 1253.1987,-2546.6176"/>
<polygon fill="#000000" stroke="#000000" points="1253.7245,-2543.1567 1243.2766,-2544.9149 1252.5405,-2550.0559 1253.7245,-2543.1567"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="1722,-2545.5066 1349,-2545.5066 1349,-2505.7024 1722,-2505.7024 1722,-2545.5066"/>
<text text-anchor="middle" x="1535.5" y="-2530.1045" font-family="Inconsolata" font-size="14.00" fill="#000000"> This is subsequently refined into various blocks. </text>
</g>
<!-- block_6&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>block_6&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1741.1066,-2600.9374C1703.0171,-2586.9817 1643.9781,-2565.3502 1598.9189,-2548.8408"/>
<polygon fill="#000000" stroke="#000000" points="1600.1222,-2545.5542 1589.5285,-2545.4002 1597.714,-2552.1269 1600.1222,-2545.5542"/>
</g>
<!-- header_18 -->
<g id="node19" class="node">
<title>header_18</title>
<ellipse fill="none" stroke="#000000" cx="1783.5" cy="-2525.6045" rx="43.082" ry="18"/>
<text text-anchor="middle" x="1783.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Array</text>
</g>
<!-- section_7&#45;&gt;header_18 -->
<g id="edge18" class="edge">
<title>section_7&#45;&gt;header_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1895.9408,-2598.5515C1878.4891,-2588.0201 1855.5188,-2573.9505 1835.5,-2561.0045 1828.6005,-2556.5427 1821.2652,-2551.646 1814.3461,-2546.9553"/>
<polygon fill="#000000" stroke="#000000" points="1816.102,-2543.9163 1805.8687,-2541.1723 1812.1572,-2549.699 1816.102,-2543.9163"/>
</g>
<!-- block_19 -->
<g id="node20" class="node">
<title>block_19</title>
<ellipse fill="none" stroke="#000000" cx="1900.5" cy="-2525.6045" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1900.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 16&#45;21</text>
</g>
<!-- section_7&#45;&gt;block_19 -->
<g id="edge19" class="edge">
<title>section_7&#45;&gt;block_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1918.8456,-2596.9131C1915.6346,-2584.432 1911.304,-2567.5993 1907.6567,-2553.4224"/>
<polygon fill="#000000" stroke="#000000" points="1911.0287,-2552.4816 1905.1475,-2543.669 1904.2495,-2554.2257 1911.0287,-2552.4816"/>
</g>
<!-- header_21 -->
<g id="node22" class="node">
<title>header_21</title>
<ellipse fill="none" stroke="#000000" cx="2020.5" cy="-2525.6045" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="2020.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Fields</text>
</g>
<!-- section_8&#45;&gt;header_21 -->
<g id="edge21" class="edge">
<title>section_8&#45;&gt;header_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2098.3359,-2597.342C2083.4372,-2583.6105 2062.6224,-2564.4266 2046.266,-2549.3517"/>
<polygon fill="#000000" stroke="#000000" points="2048.3653,-2546.5268 2038.64,-2542.3233 2043.6213,-2551.6741 2048.3653,-2546.5268"/>
</g>
<!-- block_22 -->
<g id="node23" class="node">
<title>block_22</title>
<ellipse fill="none" stroke="#000000" cx="2140.5" cy="-2525.6045" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2140.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 22&#45;29</text>
</g>
<!-- section_8&#45;&gt;block_22 -->
<g id="edge22" class="edge">
<title>section_8&#45;&gt;block_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2122.1544,-2596.9131C2125.3654,-2584.432 2129.696,-2567.5993 2133.3433,-2553.4224"/>
<polygon fill="#000000" stroke="#000000" points="2136.7505,-2554.2257 2135.8525,-2543.669 2129.9713,-2552.4816 2136.7505,-2554.2257"/>
</g>
<!-- section_23 -->
<g id="node24" class="node">
<title>section_23</title>
<ellipse fill="none" stroke="#000000" cx="2279.5" cy="-2525.6045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2279.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 30&#45;46</text>
</g>
<!-- section_8&#45;&gt;section_23 -->
<g id="edge23" class="edge">
<title>section_8&#45;&gt;section_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2146.837,-2598.8149C2173.2474,-2584.2402 2212.234,-2562.7254 2241.1149,-2546.7874"/>
<polygon fill="#000000" stroke="#000000" points="2243.0438,-2549.7206 2250.108,-2541.8245 2239.6616,-2543.5918 2243.0438,-2549.7206"/>
</g>
<!-- header_32 -->
<g id="node33" class="node">
<title>header_32</title>
<ellipse fill="none" stroke="#000000" cx="2472.5" cy="-2525.6045" rx="108.8185" ry="18"/>
<text text-anchor="middle" x="2472.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Metatable for sections</text>
</g>
<!-- section_9&#45;&gt;header_32 -->
<g id="edge32" class="edge">
<title>section_9&#45;&gt;header_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2680.6545,-2600.6409C2639.2379,-2585.7108 2574.1056,-2562.2317 2527.7353,-2545.5159"/>
<polygon fill="#000000" stroke="#000000" points="2528.7349,-2542.1558 2518.1405,-2542.0572 2526.361,-2548.741 2528.7349,-2542.1558"/>
</g>
<!-- block_33 -->
<g id="node34" class="node">
<title>block_33</title>
<ellipse fill="none" stroke="#000000" cx="2655.5" cy="-2525.6045" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2655.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 47&#45;48</text>
</g>
<!-- section_9&#45;&gt;block_33 -->
<g id="edge33" class="edge">
<title>section_9&#45;&gt;block_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2707.6581,-2597.342C2698.1323,-2584.2403 2684.9973,-2566.1747 2674.292,-2551.4507"/>
<polygon fill="#000000" stroke="#000000" points="2677.0268,-2549.2603 2668.3152,-2543.2304 2671.3651,-2553.3768 2677.0268,-2549.2603"/>
</g>
<!-- block_34 -->
<g id="node35" class="node">
<title>block_34</title>
<ellipse fill="none" stroke="#000000" cx="2785.5" cy="-2525.6045" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2785.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 49&#45;80</text>
</g>
<!-- section_9&#45;&gt;block_34 -->
<g id="edge34" class="edge">
<title>section_9&#45;&gt;block_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2733.3419,-2597.342C2742.8677,-2584.2403 2756.0027,-2566.1747 2766.708,-2551.4507"/>
<polygon fill="#000000" stroke="#000000" points="2769.6349,-2553.3768 2772.6848,-2543.2304 2763.9732,-2549.2603 2769.6349,-2553.3768"/>
</g>
<!-- section_35 -->
<g id="node36" class="node">
<title>section_35</title>
<ellipse fill="none" stroke="#000000" cx="2950.5" cy="-2525.6045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2950.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 67&#45;80</text>
</g>
<!-- section_9&#45;&gt;section_35 -->
<g id="edge35" class="edge">
<title>section_9&#45;&gt;section_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2758.4798,-2600.2419C2798.0987,-2584.8422 2860.2893,-2560.669 2903.1009,-2544.0283"/>
<polygon fill="#000000" stroke="#000000" points="2904.4111,-2547.2742 2912.4638,-2540.389 2901.8751,-2540.7498 2904.4111,-2547.2742"/>
</g>
<!-- section_36 -->
<g id="node37" class="node">
<title>section_36</title>
<ellipse fill="none" stroke="#000000" cx="3804.5" cy="-2525.6045" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3804.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 81&#45;103</text>
</g>
<!-- section_9&#45;&gt;section_36 -->
<g id="edge36" class="edge">
<title>section_9&#45;&gt;section_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2783.4659,-2609.8116C2970.5406,-2594.3831 3522.6837,-2548.8465 3727.1755,-2531.9816"/>
<polygon fill="#000000" stroke="#000000" points="3727.553,-2535.4625 3737.2315,-2531.1523 3726.9776,-2528.4862 3727.553,-2535.4625"/>
</g>
<!-- header_69 -->
<g id="node70" class="node">
<title>header_69</title>
<ellipse fill="none" stroke="#000000" cx="4552.5" cy="-2525.6045" rx="108.8358" ry="18"/>
<text text-anchor="middle" x="4552.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : addLine(section, line) </text>
</g>
<!-- section_10&#45;&gt;header_69 -->
<g id="edge69" class="edge">
<title>section_10&#45;&gt;header_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4904.1227,-2605.4783C4843.4723,-2595.9998 4750.2614,-2580.1316 4670.5,-2561.0045 4651.1062,-2556.3538 4630.1852,-2550.3945 4611.4224,-2544.6968"/>
<polygon fill="#000000" stroke="#000000" points="4612.4139,-2541.34 4601.827,-2541.7495 4610.3585,-2548.0315 4612.4139,-2541.34"/>
</g>
<!-- block_70 -->
<g id="node71" class="node">
<title>block_70</title>
<ellipse fill="none" stroke="#000000" cx="4745.5" cy="-2525.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4745.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 127&#45;130</text>
</g>
<!-- section_10&#45;&gt;block_70 -->
<g id="edge70" class="edge">
<title>section_10&#45;&gt;block_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4924.3798,-2600.2943C4894.492,-2590.018 4854.2639,-2575.5775 4819.5,-2561.0045 4808.5288,-2556.4054 4796.8387,-2551.0387 4786.0668,-2545.8949"/>
<polygon fill="#000000" stroke="#000000" points="4787.4052,-2542.6545 4776.8782,-2541.4569 4784.3607,-2548.9578 4787.4052,-2542.6545"/>
</g>
<!-- block_71 -->
<g id="node72" class="node">
<title>block_71</title>
<ellipse fill="none" stroke="#000000" cx="4894.5" cy="-2525.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4894.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 131&#45;137</text>
</g>
<!-- section_10&#45;&gt;block_71 -->
<g id="edge71" class="edge">
<title>section_10&#45;&gt;block_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4953.88,-2597.342C4942.9338,-2584.1178 4927.8017,-2565.8366 4915.553,-2551.0388"/>
<polygon fill="#000000" stroke="#000000" points="4918.1622,-2548.702 4909.0896,-2543.2304 4912.7699,-2553.1655 4918.1622,-2548.702"/>
</g>
<!-- block_72 -->
<g id="node73" class="node">
<title>block_72</title>
<ellipse fill="none" stroke="#000000" cx="5043.5" cy="-2525.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5043.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 138&#45;139</text>
</g>
<!-- section_10&#45;&gt;block_72 -->
<g id="edge72" class="edge">
<title>section_10&#45;&gt;block_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4983.3176,-2597.342C4994.4117,-2584.1178 5009.7483,-2565.8366 5022.1625,-2551.0388"/>
<polygon fill="#000000" stroke="#000000" points="5024.9675,-2553.141 5028.7132,-2543.2304 5019.6047,-2548.642 5024.9675,-2553.141"/>
</g>
<!-- block_73 -->
<g id="node74" class="node">
<title>block_73</title>
<ellipse fill="none" stroke="#000000" cx="5233.5" cy="-2525.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5233.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 140&#45;169</text>
</g>
<!-- section_10&#45;&gt;block_73 -->
<g id="edge73" class="edge">
<title>section_10&#45;&gt;block_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5012.2594,-2600.2419C5058.9799,-2584.4803 5132.9436,-2559.5281 5182.3278,-2542.8679"/>
<polygon fill="#000000" stroke="#000000" points="5183.505,-2546.1646 5191.8615,-2539.6516 5181.2673,-2539.5319 5183.505,-2546.1646"/>
</g>
<!-- section_74 -->
<g id="node75" class="node">
<title>section_74</title>
<ellipse fill="none" stroke="#000000" cx="5920.5" cy="-2525.6045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5920.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 148&#45;169</text>
</g>
<!-- section_10&#45;&gt;section_74 -->
<g id="edge74" class="edge">
<title>section_10&#45;&gt;section_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5038.8894,-2608.3944C5211.8765,-2592.1496 5657.0052,-2550.3487 5840.0522,-2533.1592"/>
<polygon fill="#000000" stroke="#000000" points="5840.5204,-2536.6307 5850.1493,-2532.211 5839.8658,-2529.6613 5840.5204,-2536.6307"/>
</g>
<!-- section_75 -->
<g id="node76" class="node">
<title>section_75</title>
<ellipse fill="none" stroke="#000000" cx="7556.5" cy="-2525.6045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7556.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 170&#45;244</text>
</g>
<!-- section_10&#45;&gt;section_75 -->
<g id="edge75" class="edge">
<title>section_10&#45;&gt;section_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5043.5091,-2612.4134C5417.1565,-2599.5061 7075.2975,-2542.2272 7471.3379,-2528.5463"/>
<polygon fill="#000000" stroke="#000000" points="7471.7003,-2532.036 7481.5735,-2528.1928 7471.4586,-2525.0402 7471.7003,-2532.036"/>
</g>
<!-- header_134 -->
<g id="node135" class="node">
<title>header_134</title>
<ellipse fill="none" stroke="#000000" cx="9351.5" cy="-2525.6045" rx="55.6456" ry="18"/>
<text text-anchor="middle" x="9351.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Blocking</text>
</g>
<!-- section_11&#45;&gt;header_134 -->
<g id="edge134" class="edge">
<title>section_11&#45;&gt;header_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9519.7905,-2600.6622C9489.6825,-2590.7031 9449.6609,-2576.4815 9415.5,-2561.0045 9406.0449,-2556.7208 9396.1021,-2551.563 9386.9472,-2546.5262"/>
<polygon fill="#000000" stroke="#000000" points="9388.5364,-2543.4047 9378.1022,-2541.5667 9385.1128,-2549.5104 9388.5364,-2543.4047"/>
</g>
<!-- block_135 -->
<g id="node136" class="node">
<title>block_135</title>
<ellipse fill="none" stroke="#000000" cx="9490.5" cy="-2525.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9490.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 207&#45;210</text>
</g>
<!-- section_11&#45;&gt;block_135 -->
<g id="edge135" class="edge">
<title>section_11&#45;&gt;block_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9550.6824,-2597.342C9539.5883,-2584.1178 9524.2517,-2565.8366 9511.8375,-2551.0388"/>
<polygon fill="#000000" stroke="#000000" points="9514.3953,-2548.642 9505.2868,-2543.2304 9509.0325,-2553.141 9514.3953,-2548.642"/>
</g>
<!-- block_136 -->
<g id="node137" class="node">
<title>block_136</title>
<ellipse fill="none" stroke="#000000" cx="9639.5" cy="-2525.6045" rx="65.0229" ry="18"/>
<text text-anchor="middle" x="9639.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 211&#45;213</text>
</g>
<!-- section_11&#45;&gt;block_136 -->
<g id="edge136" class="edge">
<title>section_11&#45;&gt;block_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9580.12,-2597.342C9591.0662,-2584.1178 9606.1983,-2565.8366 9618.447,-2551.0388"/>
<polygon fill="#000000" stroke="#000000" points="9621.2301,-2553.1655 9624.9104,-2543.2304 9615.8378,-2548.702 9621.2301,-2553.1655"/>
</g>
<!-- block_137 -->
<g id="node138" class="node">
<title>block_137</title>
<ellipse fill="none" stroke="#000000" cx="9930.5" cy="-2525.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9930.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 214&#45;220</text>
</g>
<!-- section_11&#45;&gt;block_137 -->
<g id="edge137" class="edge">
<title>section_11&#45;&gt;block_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9618.1843,-2602.1005C9685.36,-2585.647 9801.1882,-2557.277 9871.3325,-2540.0965"/>
<polygon fill="#000000" stroke="#000000" points="9872.4587,-2543.4242 9881.3389,-2537.6456 9870.7933,-2536.6252 9872.4587,-2543.4242"/>
</g>
<!-- section_138 -->
<g id="node139" class="node">
<title>section_138</title>
<ellipse fill="none" stroke="#000000" cx="10384.5" cy="-2525.6045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10384.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 221&#45;226</text>
</g>
<!-- section_11&#45;&gt;section_138 -->
<g id="edge138" class="edge">
<title>section_11&#45;&gt;section_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9634.2698,-2607.4978C9785.3569,-2591.0055 10145.4997,-2551.6932 10305.529,-2534.2248"/>
<polygon fill="#000000" stroke="#000000" points="10306.215,-2537.6708 10315.7761,-2533.1062 10305.4554,-2530.7121 10306.215,-2537.6708"/>
</g>
<!-- header_145 -->
<g id="node146" class="node">
<title>header_145</title>
<ellipse fill="none" stroke="#000000" cx="10715.5" cy="-2525.6045" rx="81.2629" ry="18"/>
<text text-anchor="middle" x="10715.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Section:weed()</text>
</g>
<!-- section_12&#45;&gt;header_145 -->
<g id="edge145" class="edge">
<title>section_12&#45;&gt;header_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10781.2994,-2597.342C10769.1371,-2584.082 10752.3111,-2565.7376 10738.7189,-2550.9187"/>
<polygon fill="#000000" stroke="#000000" points="10741.2864,-2548.5401 10731.9476,-2543.5364 10736.1278,-2553.2717 10741.2864,-2548.5401"/>
</g>
<!-- block_146 -->
<g id="node147" class="node">
<title>block_146</title>
<ellipse fill="none" stroke="#000000" cx="10880.5" cy="-2525.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10880.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 364&#45;368</text>
</g>
<!-- section_12&#45;&gt;block_146 -->
<g id="edge146" class="edge">
<title>section_12&#45;&gt;block_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10813.8981,-2597.342C10826.2892,-2583.9954 10843.4628,-2565.4976 10857.2673,-2550.6286"/>
<polygon fill="#000000" stroke="#000000" points="10859.897,-2552.9403 10864.1359,-2543.2304 10854.767,-2548.1775 10859.897,-2552.9403"/>
</g>
<!-- block_147 -->
<g id="node148" class="node">
<title>block_147</title>
<ellipse fill="none" stroke="#000000" cx="11252.5" cy="-2525.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="11252.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 369&#45;382</text>
</g>
<!-- section_12&#45;&gt;block_147 -->
<g id="edge147" class="edge">
<title>section_12&#45;&gt;block_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10856.0518,-2603.5001C10941.7934,-2586.6532 11100.8838,-2555.3946 11189.2291,-2538.0362"/>
<polygon fill="#000000" stroke="#000000" points="11189.9824,-2541.4552 11199.12,-2536.0928 11188.6328,-2534.5865 11189.9824,-2541.4552"/>
</g>
<!-- header_152 -->
<g id="node153" class="node">
<title>header_152</title>
<ellipse fill="none" stroke="#000000" cx="11785.5" cy="-2525.6045" rx="110.7653" ry="18"/>
<text text-anchor="middle" x="11785.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Section(header, linum)</text>
</g>
<!-- section_13&#45;&gt;header_152 -->
<g id="edge152" class="edge">
<title>section_13&#45;&gt;header_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12010.3813,-2600.342C11964.9671,-2585.249 11893.9658,-2561.6522 11843.9136,-2545.0178"/>
<polygon fill="#000000" stroke="#000000" points="11844.7897,-2541.6208 11834.1962,-2541.7883 11842.582,-2548.2636 11844.7897,-2541.6208"/>
</g>
<!-- block_153 -->
<g id="node154" class="node">
<title>block_153</title>
<ellipse fill="none" stroke="#000000" cx="11980.5" cy="-2525.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="11980.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 383&#45;386</text>
</g>
<!-- section_13&#45;&gt;block_153 -->
<g id="edge153" class="edge">
<title>section_13&#45;&gt;block_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12039.88,-2597.342C12028.9338,-2584.1178 12013.8017,-2565.8366 12001.553,-2551.0388"/>
<polygon fill="#000000" stroke="#000000" points="12004.1622,-2548.702 11995.0896,-2543.2304 11998.7699,-2553.1655 12004.1622,-2548.702"/>
</g>
<!-- block_154 -->
<g id="node155" class="node">
<title>block_154</title>
<ellipse fill="none" stroke="#000000" cx="12129.5" cy="-2525.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="12129.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 387&#45;391</text>
</g>
<!-- section_13&#45;&gt;block_154 -->
<g id="edge154" class="edge">
<title>section_13&#45;&gt;block_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12069.3176,-2597.342C12080.4117,-2584.1178 12095.7483,-2565.8366 12108.1625,-2551.0388"/>
<polygon fill="#000000" stroke="#000000" points="12110.9675,-2553.141 12114.7132,-2543.2304 12105.6047,-2548.642 12110.9675,-2553.141"/>
</g>
<!-- block_155 -->
<g id="node156" class="node">
<title>block_155</title>
<ellipse fill="none" stroke="#000000" cx="12389.5" cy="-2525.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="12389.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 392&#45;393</text>
</g>
<!-- section_13&#45;&gt;block_155 -->
<g id="edge155" class="edge">
<title>section_13&#45;&gt;block_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12105.0156,-2601.5236C12166.0882,-2585.2254 12268.604,-2557.8675 12332.4632,-2540.8257"/>
<polygon fill="#000000" stroke="#000000" points="12333.6087,-2544.1425 12342.3681,-2538.1824 12331.8037,-2537.3792 12333.6087,-2544.1425"/>
</g>
<!-- block_156 -->
<g id="node157" class="node">
<title>block_156</title>
<ellipse fill="none" stroke="#000000" cx="12710.5" cy="-2525.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="12710.5" y="-2521.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 394&#45;417</text>
</g>
<!-- section_13&#45;&gt;block_156 -->
<g id="edge156" class="edge">
<title>section_13&#45;&gt;block_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12121.2873,-2606.4575C12202.4626,-2596.0117 12343.5906,-2577.6658 12464.5,-2561.0045 12524.684,-2552.7112 12593.0804,-2542.832 12642.4501,-2535.6202"/>
<polygon fill="#000000" stroke="#000000" points="12642.9857,-2539.0792 12652.374,-2534.169 12641.9728,-2532.1528 12642.9857,-2539.0792"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1456.5,-2438.7047 978.5,-2438.7047 978.5,-2368.1041 1456.5,-2368.1041 1456.5,-2438.7047"/>
<text text-anchor="middle" x="1217.5" y="-2407.6044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;The array portion of a section starts at [1] with a header. The</text>
<text text-anchor="middle" x="1217.5" y="-2392.2044" font-family="Inconsolata" font-size="14.00" fill="#000000"> rest consists, optionally, of nodes of types Block and Section.</text>
</g>
<!-- block_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>block_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1876.2279,-2509.3474C1864.4313,-2502.2572 1849.7494,-2494.5787 1835.5,-2490.2045 1677.5536,-2441.7184 1628.8776,-2478.816 1465.5,-2454.2045 1440.1625,-2450.3876 1413.503,-2445.6744 1387.4378,-2440.6712"/>
<polygon fill="#000000" stroke="#000000" points="1387.9646,-2437.2082 1377.4812,-2438.7407 1386.6321,-2444.0802 1387.9646,-2437.2082"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1960,-2454.0053 1475,-2454.0053 1475,-2352.8035 1960,-2352.8035 1960,-2454.0053"/>
<text text-anchor="middle" x="1717.5" y="-2423.0045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; header : The header for the section.</text>
<text text-anchor="middle" x="1717.5" y="-2407.6044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; level : The header level, lifted from the header for ease of use</text>
<text text-anchor="middle" x="1717.5" y="-2392.2044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; lines : An array of the lines owned by the section. Note that </text>
<text text-anchor="middle" x="1717.5" y="-2376.8044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;this doesn&#39;t include the header. </text>
</g>
<!-- block_22&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>block_22&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2114.6829,-2509.5211C2103.0465,-2502.8091 2088.9267,-2495.3857 2075.5,-2490.2045 2042.0956,-2477.314 2006.1796,-2465.9103 1970.4482,-2455.9595"/>
<polygon fill="#000000" stroke="#000000" points="1970.9473,-2452.467 1960.3772,-2453.1914 1969.092,-2459.2166 1970.9473,-2452.467"/>
</g>
<!-- header_25 -->
<g id="node26" class="node">
<title>header_25</title>
<ellipse fill="none" stroke="#000000" cx="2033.5" cy="-2403.4044" rx="55.1697" ry="18"/>
<text text-anchor="middle" x="2033.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Includes</text>
</g>
<!-- section_23&#45;&gt;header_25 -->
<g id="edge25" class="edge">
<title>section_23&#45;&gt;header_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2248.1979,-2509.5671C2235.1596,-2503.167 2219.7609,-2495.9663 2205.5,-2490.2045 2158.5879,-2471.2505 2141.9912,-2478.2988 2097.5,-2454.2045 2083.949,-2446.8659 2070.3741,-2436.6079 2059.2358,-2427.2297"/>
<polygon fill="#000000" stroke="#000000" points="2061.4422,-2424.5105 2051.5912,-2420.6107 2056.8602,-2429.8025 2061.4422,-2424.5105"/>
</g>
<!-- block_26 -->
<g id="node27" class="node">
<title>block_26</title>
<ellipse fill="none" stroke="#000000" cx="2162.5" cy="-2403.4044" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2162.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 30&#45;31</text>
</g>
<!-- section_23&#45;&gt;block_26 -->
<g id="edge26" class="edge">
<title>section_23&#45;&gt;block_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2262.7368,-2508.0962C2242.6671,-2487.1346 2208.9224,-2451.89 2186.1933,-2428.1508"/>
<polygon fill="#000000" stroke="#000000" points="2188.676,-2425.6828 2179.2322,-2420.8802 2183.6198,-2430.5238 2188.676,-2425.6828"/>
</g>
<!-- block_27 -->
<g id="node28" class="node">
<title>block_27</title>
<ellipse fill="none" stroke="#000000" cx="2292.5" cy="-2403.4044" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2292.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 32&#45;46</text>
</g>
<!-- section_23&#45;&gt;block_27 -->
<g id="edge27" class="edge">
<title>section_23&#45;&gt;block_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2281.4182,-2507.5734C2283.5496,-2487.538 2287.0184,-2454.9314 2289.5075,-2431.5336"/>
<polygon fill="#000000" stroke="#000000" points="2292.9963,-2431.8236 2290.5739,-2421.5094 2286.0356,-2431.083 2292.9963,-2431.8236"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="2036.5,-2168.604 1982.5,-2168.604 1982.5,-2132.604 2036.5,-2132.604 2036.5,-2168.604"/>
</g>
<!-- block_26&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>block_26&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2141.6596,-2386.6202C2129.023,-2376.5682 2112.4955,-2363.6406 2097.5,-2352.6043 2074.8612,-2335.9428 2061.1249,-2339.9706 2045.5,-2316.6043 2017.2747,-2274.3948 2010.732,-2213.8675 2009.4734,-2178.7594"/>
<polygon fill="#000000" stroke="#000000" points="2012.9717,-2178.642 2009.2343,-2168.7283 2005.9737,-2178.8089 2012.9717,-2178.642"/>
</g>
<!-- codeblock_29 -->
<g id="node30" class="node">
<title>codeblock_29</title>
<ellipse fill="none" stroke="#000000" cx="2131.5" cy="-2150.604" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2131.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 32&#45;44</text>
</g>
<!-- block_27&#45;&gt;codeblock_29 -->
<g id="edge29" class="edge">
<title>block_27&#45;&gt;codeblock_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2275.3925,-2386.1164C2259.2695,-2369.2745 2235.0334,-2342.4932 2217.5,-2316.6043 2186.3569,-2270.6202 2158.4249,-2211.9461 2143.3247,-2178.0895"/>
<polygon fill="#000000" stroke="#000000" points="2146.476,-2176.5612 2139.2373,-2168.8248 2140.0716,-2179.3867 2146.476,-2176.5612"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="2280.5,-2168.604 2226.5,-2168.604 2226.5,-2132.604 2280.5,-2132.604 2280.5,-2168.604"/>
</g>
<!-- block_27&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>block_27&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2289.6952,-2385.2236C2282.9632,-2341.5864 2265.8539,-2230.6825 2257.8071,-2178.5228"/>
<polygon fill="#000000" stroke="#000000" points="2261.2632,-2177.9695 2256.2794,-2168.6201 2254.3451,-2179.0368 2261.2632,-2177.9695"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="2286.5,-1911.1038 1976.5,-1911.1038 1976.5,-1731.7031 2286.5,-1731.7031 2286.5,-1911.1038"/>
<text text-anchor="middle" x="2131.5" y="-1895.8036" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="2131.5" y="-1864.4036" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;util&quot;</text>
<text text-anchor="middle" x="2131.5" y="-1849.0035" font-family="Inconsolata" font-size="14.00" fill="#000000">local status = require &quot;status&quot;</text>
<text text-anchor="middle" x="2131.5" y="-1817.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="2131.5" y="-1786.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">local Header = require &quot;grym/header&quot;</text>
<text text-anchor="middle" x="2131.5" y="-1770.8034" font-family="Inconsolata" font-size="14.00" fill="#000000">local Block = require &quot;grym/block&quot;</text>
<text text-anchor="middle" x="2131.5" y="-1755.4034" font-family="Inconsolata" font-size="14.00" fill="#000000">local Codeblock = require &quot;grym/codeblock&quot;</text>
<text text-anchor="middle" x="2131.5" y="-1740.0034" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
</g>
<!-- codeblock_29&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>codeblock_29&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2131.5,-2132.4359C2131.5,-2092.9138 2131.5,-1996.6535 2131.5,-1921.6015"/>
<polygon fill="#000000" stroke="#000000" points="2135.0001,-1921.1601 2131.5,-1911.1602 2128.0001,-1921.1602 2135.0001,-1921.1601"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="2434.5,-2421.4044 2380.5,-2421.4044 2380.5,-2385.4044 2434.5,-2385.4044 2434.5,-2421.4044"/>
</g>
<!-- block_33&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>block_33&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2629.6772,-2509.5358C2618.0397,-2502.8265 2603.9207,-2495.4012 2590.5,-2490.2045 2527.7742,-2465.9162 2499.1205,-2492.0304 2443.5,-2454.2045 2434.5169,-2448.0953 2427.0388,-2438.9536 2421.2683,-2430.102"/>
<polygon fill="#000000" stroke="#000000" points="2424.2293,-2428.2341 2416.0747,-2421.47 2418.2312,-2431.843 2424.2293,-2428.2341"/>
</g>
<!-- codeblock_38 -->
<g id="node39" class="node">
<title>codeblock_38</title>
<ellipse fill="none" stroke="#000000" cx="2529.5" cy="-2403.4044" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2529.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 49&#45;64</text>
</g>
<!-- block_34&#45;&gt;codeblock_38 -->
<g id="edge38" class="edge">
<title>block_34&#45;&gt;codeblock_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2758.814,-2509.7501C2747.2582,-2503.2334 2733.4378,-2495.897 2720.5,-2490.2045 2675.3443,-2470.3364 2660.3026,-2474.8564 2615.5,-2454.2045 2597.9911,-2446.1337 2579.4696,-2435.4916 2564.1174,-2426.0338"/>
<polygon fill="#000000" stroke="#000000" points="2565.8107,-2422.9647 2555.4761,-2420.6305 2562.0994,-2428.8999 2565.8107,-2422.9647"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="2678.5,-2421.4044 2624.5,-2421.4044 2624.5,-2385.4044 2678.5,-2385.4044 2678.5,-2421.4044"/>
</g>
<!-- block_34&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>block_34&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2758.7258,-2509.5014C2737.9282,-2496.2261 2709.089,-2476.0788 2687.5,-2454.2045 2680.3625,-2446.9726 2673.6128,-2438.2024 2667.9285,-2429.9987"/>
<polygon fill="#000000" stroke="#000000" points="2670.6687,-2427.7992 2662.2106,-2421.4187 2664.8437,-2431.6811 2670.6687,-2427.7992"/>
</g>
<!-- header_41 -->
<g id="node42" class="node">
<title>header_41</title>
<ellipse fill="none" stroke="#000000" cx="2786.5" cy="-2403.4044" rx="90.4762" ry="18"/>
<text text-anchor="middle" x="2786.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : dotLabel(section)</text>
</g>
<!-- section_35&#45;&gt;header_41 -->
<g id="edge41" class="edge">
<title>section_35&#45;&gt;header_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2927.6965,-2508.6131C2899.1765,-2487.3622 2850.1995,-2450.8683 2818.0838,-2426.9382"/>
<polygon fill="#000000" stroke="#000000" points="2820.0146,-2424.0121 2809.9046,-2420.8437 2815.8321,-2429.6252 2820.0146,-2424.0121"/>
</g>
<!-- block_42 -->
<g id="node43" class="node">
<title>block_42</title>
<ellipse fill="none" stroke="#000000" cx="2950.5" cy="-2403.4044" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2950.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 67&#45;70</text>
</g>
<!-- section_35&#45;&gt;block_42 -->
<g id="edge42" class="edge">
<title>section_35&#45;&gt;block_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2950.5,-2507.5734C2950.5,-2487.538 2950.5,-2454.9314 2950.5,-2431.5336"/>
<polygon fill="#000000" stroke="#000000" points="2954.0001,-2431.5094 2950.5,-2421.5094 2947.0001,-2431.5095 2954.0001,-2431.5094"/>
</g>
<!-- block_43 -->
<g id="node44" class="node">
<title>block_43</title>
<ellipse fill="none" stroke="#000000" cx="3080.5" cy="-2403.4044" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3080.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 71&#45;72</text>
</g>
<!-- section_35&#45;&gt;block_43 -->
<g id="edge43" class="edge">
<title>section_35&#45;&gt;block_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2969.1258,-2508.0962C2991.6492,-2486.9242 3029.6736,-2451.1812 3054.9307,-2427.4396"/>
<polygon fill="#000000" stroke="#000000" points="3057.4387,-2429.8856 3062.3279,-2420.4862 3052.6444,-2424.7852 3057.4387,-2429.8856"/>
</g>
<!-- block_44 -->
<g id="node45" class="node">
<title>block_44</title>
<ellipse fill="none" stroke="#000000" cx="3255.5" cy="-2403.4044" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3255.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 73&#45;80</text>
</g>
<!-- section_35&#45;&gt;block_44 -->
<g id="edge44" class="edge">
<title>section_35&#45;&gt;block_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2991.962,-2511.5267C3031.6973,-2497.7764 3093.1875,-2475.8189 3145.5,-2454.2045 3168.9343,-2444.5219 3194.6878,-2432.6949 3215.381,-2422.8895"/>
<polygon fill="#000000" stroke="#000000" points="3216.984,-2426.0028 3224.5061,-2418.5416 3213.973,-2419.6835 3216.984,-2426.0028"/>
</g>
<!-- header_50 -->
<g id="node51" class="node">
<title>header_50</title>
<ellipse fill="none" stroke="#000000" cx="3496.5" cy="-2403.4044" rx="104.4491" ry="18"/>
<text text-anchor="middle" x="3496.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : toMarkdown(section)</text>
</g>
<!-- section_36&#45;&gt;header_50 -->
<g id="edge50" class="edge">
<title>section_36&#45;&gt;header_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3762.3257,-2511.1421C3722.6044,-2497.2904 3661.5877,-2475.4171 3609.5,-2454.2045 3586.9561,-2445.0235 3562.2615,-2434.0323 3541.7231,-2424.6256"/>
<polygon fill="#000000" stroke="#000000" points="3543.1491,-2421.429 3532.6017,-2420.4272 3540.2223,-2427.7878 3543.1491,-2421.429"/>
</g>
<!-- block_51 -->
<g id="node52" class="node">
<title>block_51</title>
<ellipse fill="none" stroke="#000000" cx="3674.5" cy="-2403.4044" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3674.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 81&#45;84</text>
</g>
<!-- section_36&#45;&gt;block_51 -->
<g id="edge51" class="edge">
<title>section_36&#45;&gt;block_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3785.8742,-2508.0962C3763.3508,-2486.9242 3725.3264,-2451.1812 3700.0693,-2427.4396"/>
<polygon fill="#000000" stroke="#000000" points="3702.3556,-2424.7852 3692.6721,-2420.4862 3697.5613,-2429.8856 3702.3556,-2424.7852"/>
</g>
<!-- block_52 -->
<g id="node53" class="node">
<title>block_52</title>
<ellipse fill="none" stroke="#000000" cx="3804.5" cy="-2403.4044" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3804.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 85&#45;86</text>
</g>
<!-- section_36&#45;&gt;block_52 -->
<g id="edge52" class="edge">
<title>section_36&#45;&gt;block_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3804.5,-2507.5734C3804.5,-2487.538 3804.5,-2454.9314 3804.5,-2431.5336"/>
<polygon fill="#000000" stroke="#000000" points="3808.0001,-2431.5094 3804.5,-2421.5094 3801.0001,-2431.5095 3808.0001,-2431.5094"/>
</g>
<!-- block_53 -->
<g id="node54" class="node">
<title>block_53</title>
<ellipse fill="none" stroke="#000000" cx="3934.5" cy="-2403.4044" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3934.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 87&#45;88</text>
</g>
<!-- section_36&#45;&gt;block_53 -->
<g id="edge53" class="edge">
<title>section_36&#45;&gt;block_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3823.1258,-2508.0962C3845.6492,-2486.9242 3883.6736,-2451.1812 3908.9307,-2427.4396"/>
<polygon fill="#000000" stroke="#000000" points="3911.4387,-2429.8856 3916.3279,-2420.4862 3906.6444,-2424.7852 3911.4387,-2429.8856"/>
</g>
<!-- block_54 -->
<g id="node55" class="node">
<title>block_54</title>
<ellipse fill="none" stroke="#000000" cx="4069.5" cy="-2403.4044" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="4069.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 89&#45;103</text>
</g>
<!-- section_36&#45;&gt;block_54 -->
<g id="edge54" class="edge">
<title>section_36&#45;&gt;block_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3852.1568,-2512.216C3892.6333,-2499.904 3951.6102,-2479.7105 3999.5,-2454.2045 4013.9295,-2446.5194 4028.7466,-2436.1827 4041.0118,-2426.8399"/>
<polygon fill="#000000" stroke="#000000" points="4043.3182,-2429.4799 4049.0592,-2420.5753 4039.0183,-2423.9562 4043.3182,-2429.4799"/>
</g>
<!-- section_55 -->
<g id="node56" class="node">
<title>section_55</title>
<ellipse fill="none" stroke="#000000" cx="4223.5" cy="-2403.4044" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4223.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 104&#45;126</text>
</g>
<!-- section_36&#45;&gt;section_55 -->
<g id="edge55" class="edge">
<title>section_36&#45;&gt;section_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3869.3291,-2518.3081C3938.2065,-2509.0737 4049.3757,-2489.8832 4139.5,-2454.2045 4157.6476,-2447.0201 4176.3691,-2436.0972 4191.5191,-2426.2184"/>
<polygon fill="#000000" stroke="#000000" points="4193.6223,-2429.0226 4199.9952,-2420.5587 4189.7352,-2423.2011 4193.6223,-2429.0226"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="2630,-2262.9045 2299,-2262.9045 2299,-2038.3036 2630,-2038.3036 2630,-2262.9045"/>
<text text-anchor="middle" x="2464.5" y="-2247.8042" font-family="Inconsolata" font-size="14.00" fill="#000000">local S, s = u.inherit(Node)</text>
<text text-anchor="middle" x="2464.5" y="-2232.4042" font-family="Inconsolata" font-size="14.00" fill="#000000">S.id = &quot;section&quot;</text>
<text text-anchor="middle" x="2464.5" y="-2201.0042" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.__tostring(section)</text>
<text text-anchor="middle" x="2464.5" y="-2185.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="2464.5" y="-2170.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(section) do</text>
<text text-anchor="middle" x="2464.5" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local repr = tostring(v)</text>
<text text-anchor="middle" x="2464.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if (repr ~= &quot;&quot; and repr ~= &quot;\n&quot;) then</text>
<text text-anchor="middle" x="2464.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. repr .. &quot;\n&quot;</text>
<text text-anchor="middle" x="2464.5" y="-2108.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2464.5" y="-2093.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2464.5" y="-2061.8039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="2464.5" y="-2046.4039" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_38&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>codeblock_38&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2524.8254,-2385.2236C2518.6416,-2361.1735 2507.2042,-2316.6909 2495.9373,-2272.8713"/>
<polygon fill="#000000" stroke="#000000" points="2499.2663,-2271.7629 2493.3863,-2262.9495 2492.4868,-2273.5061 2499.2663,-2271.7629"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="2895,-2170.5061 2648,-2170.5061 2648,-2130.7019 2895,-2130.7019 2895,-2170.5061"/>
<text text-anchor="middle" x="2771.5" y="-2139.104" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Produces a label for a dotfile.</text>
</g>
<!-- block_42&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>block_42&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2937.9131,-2385.628C2907.2326,-2342.2982 2828.3988,-2230.9618 2791.327,-2178.6055"/>
<polygon fill="#000000" stroke="#000000" points="2794.1746,-2176.5705 2785.5394,-2170.4318 2788.4617,-2180.6156 2794.1746,-2176.5705"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="3160,-2168.604 2913,-2168.604 2913,-2132.604 3160,-2132.604 3160,-2168.604"/>
<text text-anchor="middle" x="3036.5" y="-2147.104" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; #return : string in dot format.</text>
</g>
<!-- block_43&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>block_43&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3077.3356,-2385.2236C3069.7405,-2341.5864 3050.4377,-2230.6825 3041.3593,-2178.5228"/>
<polygon fill="#000000" stroke="#000000" points="3044.7987,-2177.8718 3039.6357,-2168.6201 3037.9023,-2179.0721 3044.7987,-2177.8718"/>
</g>
<!-- codeblock_47 -->
<g id="node48" class="node">
<title>codeblock_47</title>
<ellipse fill="none" stroke="#000000" cx="3255.5" cy="-2150.604" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3255.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 73&#45;78</text>
</g>
<!-- block_44&#45;&gt;codeblock_47 -->
<g id="edge47" class="edge">
<title>block_44&#45;&gt;codeblock_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3255.5,-2385.2236C3255.5,-2341.6775 3255.5,-2231.1453 3255.5,-2178.8503"/>
<polygon fill="#000000" stroke="#000000" points="3259.0001,-2178.62 3255.5,-2168.6201 3252.0001,-2178.6201 3259.0001,-2178.62"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="3404.5,-2168.604 3350.5,-2168.604 3350.5,-2132.604 3404.5,-2132.604 3404.5,-2168.604"/>
</g>
<!-- block_44&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>block_44&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3278.1581,-2386.7211C3297.9626,-2370.8966 3325.9192,-2345.3181 3341.5,-2316.6043 3365.4861,-2272.4006 3373.4907,-2213.4215 3376.162,-2178.9708"/>
<polygon fill="#000000" stroke="#000000" points="3379.674,-2178.9103 3376.8554,-2168.6972 3372.6899,-2178.4388 3379.674,-2178.9103"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="3456,-1856.0047 3055,-1856.0047 3055,-1786.8022 3456,-1786.8022 3456,-1856.0047"/>
<text text-anchor="middle" x="3255.5" y="-1841.0035" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.dotLabel(section)</text>
<text text-anchor="middle" x="3255.5" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;section: &quot; .. tostring(section.line_first) </text>
<text text-anchor="middle" x="3255.5" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;&#45;&quot; .. tostring(section.line_last)</text>
<text text-anchor="middle" x="3255.5" y="-1794.8034" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_47&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>codeblock_47&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3255.5,-2132.4359C3255.5,-2082.1386 3255.5,-1939.948 3255.5,-1866.5246"/>
<polygon fill="#000000" stroke="#000000" points="3259.0001,-1866.2097 3255.5,-1856.2097 3252.0001,-1866.2097 3259.0001,-1866.2097"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3698,-2170.5061 3423,-2170.5061 3423,-2130.7019 3698,-2130.7019 3698,-2170.5061"/>
<text text-anchor="middle" x="3560.5" y="-2139.104" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Translates the Section to markdown.</text>
</g>
<!-- block_51&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>block_51&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3666.3014,-2385.2236C3646.7809,-2341.936 3597.4107,-2232.4551 3573.6603,-2179.7876"/>
<polygon fill="#000000" stroke="#000000" points="3576.7038,-2178.0226 3569.4024,-2170.3454 3570.3227,-2180.9002 3576.7038,-2178.0226"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3893,-2168.604 3716,-2168.604 3716,-2132.604 3893,-2132.604 3893,-2168.604"/>
<text text-anchor="middle" x="3804.5" y="-2147.104" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section: the Section.</text>
</g>
<!-- block_52&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>block_52&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3804.5,-2385.2236C3804.5,-2341.6775 3804.5,-2231.1453 3804.5,-2178.8503"/>
<polygon fill="#000000" stroke="#000000" points="3808.0001,-2178.62 3804.5,-2168.6201 3801.0001,-2178.6201 3808.0001,-2178.62"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="4144,-2168.604 3911,-2168.604 3911,-2132.604 4144,-2132.604 4144,-2168.604"/>
<text text-anchor="middle" x="4027.5" y="-2147.104" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; #return: A Markdown string. &#160;</text>
</g>
<!-- block_53&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>block_53&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3941.1883,-2385.2236C3957.2751,-2341.4953 3998.2112,-2230.2192 4017.3492,-2178.1969"/>
<polygon fill="#000000" stroke="#000000" points="4020.7044,-2179.2136 4020.8723,-2168.6201 4014.1349,-2176.7967 4020.7044,-2179.2136"/>
</g>
<!-- codeblock_59 -->
<g id="node60" class="node">
<title>codeblock_59</title>
<ellipse fill="none" stroke="#000000" cx="4244.5" cy="-2150.604" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="4244.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 89&#45;102</text>
</g>
<!-- block_54&#45;&gt;codeblock_59 -->
<g id="edge59" class="edge">
<title>block_54&#45;&gt;codeblock_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4088.7734,-2386.0088C4106.6149,-2369.3011 4133.218,-2342.799 4152.5,-2316.6043 4185.9227,-2271.1994 4215.7675,-2212.3303 4231.8856,-2178.2805"/>
<polygon fill="#000000" stroke="#000000" points="4235.1791,-2179.5003 4236.2478,-2168.9595 4228.839,-2176.5332 4235.1791,-2179.5003"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="4398.5,-2168.604 4344.5,-2168.604 4344.5,-2132.604 4398.5,-2132.604 4398.5,-2168.604"/>
</g>
<!-- block_54&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>block_54&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4088.2659,-2386.1755C4101.5992,-2374.8881 4120.4523,-2360.7636 4139.5,-2352.6043 4220.9134,-2317.7301 4271.8815,-2378.2244 4335.5,-2316.6043 4372.7087,-2280.5645 4375.8042,-2215.8254 4374.0825,-2178.741"/>
<polygon fill="#000000" stroke="#000000" points="4377.5675,-2178.3878 4373.46,-2168.6216 4370.5807,-2178.8176 4377.5675,-2178.3878"/>
</g>
<!-- header_62 -->
<g id="node63" class="node">
<title>header_62</title>
<ellipse fill="none" stroke="#000000" cx="4467.5" cy="-2150.604" rx="50.8" ry="18"/>
<text text-anchor="middle" x="4467.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : asserts</text>
</g>
<!-- section_55&#45;&gt;header_62 -->
<g id="edge62" class="edge">
<title>section_55&#45;&gt;header_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4248.8694,-2386.2455C4265.1647,-2375.6867 4287.038,-2362.3561 4307.5,-2352.6043 4350.1418,-2332.2822 4374.0772,-2349.9844 4407.5,-2316.6043 4445.3904,-2278.7624 4459.5095,-2215.233 4464.655,-2178.7187"/>
<polygon fill="#000000" stroke="#000000" points="4468.1335,-2179.1091 4465.9307,-2168.7458 4461.1901,-2178.2209 4468.1335,-2179.1091"/>
</g>
<!-- block_63 -->
<g id="node64" class="node">
<title>block_63</title>
<ellipse fill="none" stroke="#000000" cx="4602.5" cy="-2150.604" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4602.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 104&#45;105</text>
</g>
<!-- section_55&#45;&gt;block_63 -->
<g id="edge63" class="edge">
<title>section_55&#45;&gt;block_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4246.522,-2386.1582C4262.7463,-2374.863 4285.4316,-2360.7365 4307.5,-2352.6043 4400.4671,-2318.3463 4448.8852,-2376.9053 4527.5,-2316.6043 4571.6922,-2282.707 4590.576,-2216.8851 4598.0582,-2179.1065"/>
<polygon fill="#000000" stroke="#000000" points="4601.5877,-2179.2644 4599.954,-2168.7963 4594.7031,-2177.9984 4601.5877,-2179.2644"/>
</g>
<!-- block_64 -->
<g id="node65" class="node">
<title>block_64</title>
<ellipse fill="none" stroke="#000000" cx="4751.5" cy="-2150.604" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4751.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 106&#45;126</text>
</g>
<!-- section_55&#45;&gt;block_64 -->
<g id="edge64" class="edge">
<title>section_55&#45;&gt;block_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4245.6623,-2386.1953C4261.8557,-2374.6084 4284.8547,-2360.1201 4307.5,-2352.6043 4385.905,-2326.5823 4610.4684,-2364.8875 4677.5,-2316.6043 4722.9012,-2283.9016 4740.9111,-2216.8548 4747.6927,-2178.7346"/>
<polygon fill="#000000" stroke="#000000" points="4751.157,-2179.237 4749.3211,-2168.8024 4744.2492,-2178.1043 4751.157,-2179.237"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="4459,-1918.3042 4030,-1918.3042 4030,-1724.5027 4459,-1724.5027 4459,-1918.3042"/>
<text text-anchor="middle" x="4244.5" y="-1902.9036" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.toMarkdown(section)</text>
<text text-anchor="middle" x="4244.5" y="-1887.5036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="4244.5" y="-1872.1036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, node in ipairs(section) do</text>
<text text-anchor="middle" x="4244.5" y="-1856.7035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if node.toMarkdown then</text>
<text text-anchor="middle" x="4244.5" y="-1841.3035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. node:toMarkdown()</text>
<text text-anchor="middle" x="4244.5" y="-1825.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else </text>
<text text-anchor="middle" x="4244.5" y="-1810.5034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;no toMarkdown method in &quot; .. node.id)</text>
<text text-anchor="middle" x="4244.5" y="-1795.1034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4244.5" y="-1779.7034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4244.5" y="-1748.3034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="4244.5" y="-1732.9033" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_59&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>codeblock_59&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4244.5,-2132.4359C4244.5,-2094.1368 4244.5,-2002.5566 4244.5,-1928.6274"/>
<polygon fill="#000000" stroke="#000000" points="4248.0001,-1928.3202 4244.5,-1918.3202 4241.0001,-1928.3203 4248.0001,-1928.3202"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="4629.5,-1839.4035 4575.5,-1839.4035 4575.5,-1803.4035 4629.5,-1803.4035 4629.5,-1839.4035"/>
</g>
<!-- block_63&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>block_63&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4602.5,-2132.4359C4602.5,-2077.915 4602.5,-1915.42 4602.5,-1849.5779"/>
<polygon fill="#000000" stroke="#000000" points="4606.0001,-1849.5154 4602.5,-1839.5155 4599.0001,-1849.5155 4606.0001,-1849.5154"/>
</g>
<!-- codeblock_66 -->
<g id="node67" class="node">
<title>codeblock_66</title>
<ellipse fill="none" stroke="#000000" cx="4743.5" cy="-1821.4035" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4743.5" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 106&#45;124</text>
</g>
<!-- block_64&#45;&gt;codeblock_66 -->
<g id="edge66" class="edge">
<title>block_64&#45;&gt;codeblock_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4751.0585,-2132.4359C4749.7336,-2077.915 4745.7847,-1915.42 4744.1847,-1849.5779"/>
<polygon fill="#000000" stroke="#000000" points="4747.6822,-1849.4275 4743.9401,-1839.5155 4740.6842,-1849.5976 4747.6822,-1849.4275"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="4902.5,-1839.4035 4848.5,-1839.4035 4848.5,-1803.4035 4902.5,-1803.4035 4902.5,-1839.4035"/>
</g>
<!-- block_64&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>block_64&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4760.35,-2132.5552C4777.2511,-2097.6321 4814.6478,-2018.1231 4839.5,-1948.6037 4851.4508,-1915.1736 4862.1032,-1875.7009 4868.663,-1849.6938"/>
<polygon fill="#000000" stroke="#000000" points="4872.116,-1850.3113 4871.134,-1839.7621 4865.3231,-1848.6212 4872.116,-1850.3113"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="4968.5,-963.9022 4518.5,-963.9022 4518.5,-694.301 4968.5,-694.301 4968.5,-963.9022"/>
<text text-anchor="middle" x="4743.5" y="-948.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.check(section)</text>
<text text-anchor="middle" x="4743.5" y="-933.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i, v in ipairs(section) do</text>
<text text-anchor="middle" x="4743.5" y="-918.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if (i == 1) then</text>
<text text-anchor="middle" x="4743.5" y="-902.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if section.header then</text>
<text text-anchor="middle" x="4743.5" y="-887.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assert(v.id == &quot;header&quot;)</text>
<text text-anchor="middle" x="4743.5" y="-871.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4743.5" y="-856.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4743.5" y="-841.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assert(v.id == &quot;section&quot; or v.id == &quot;block&quot;)</text>
<text text-anchor="middle" x="4743.5" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4743.5" y="-810.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4743.5" y="-794.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.level)</text>
<text text-anchor="middle" x="4743.5" y="-779.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.id)</text>
<text text-anchor="middle" x="4743.5" y="-764.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.first, &quot;no first in &quot; .. tostring(section))</text>
<text text-anchor="middle" x="4743.5" y="-748.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.lines)</text>
<text text-anchor="middle" x="4743.5" y="-733.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.line_first)</text>
<text text-anchor="middle" x="4743.5" y="-717.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.line_last)</text>
<text text-anchor="middle" x="4743.5" y="-702.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_66&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>codeblock_66&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4743.5,-1803.3331C4743.5,-1704.1039 4743.5,-1220.9511 4743.5,-974.4257"/>
<polygon fill="#000000" stroke="#000000" points="4747.0001,-974.3122 4743.5,-964.3122 4740.0001,-974.3122 4747.0001,-974.3122"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="4500.5,-2423.3065 4316.5,-2423.3065 4316.5,-2383.5023 4500.5,-2383.5023 4500.5,-2423.3065"/>
<text text-anchor="middle" x="4408.5" y="-2391.9044" font-family="Inconsolata" font-size="14.00" fill="#000000">Add a line to a section.</text>
</g>
<!-- block_70&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>block_70&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4715.4843,-2509.5703C4702.0156,-2502.8675 4685.7535,-2495.4375 4670.5,-2490.2045 4601.1454,-2466.4107 4578.5515,-2478.864 4509.5,-2454.2045 4489.8242,-2447.1779 4469.0488,-2437.2117 4451.4901,-2427.9654"/>
<polygon fill="#000000" stroke="#000000" points="4453.0916,-2424.8528 4442.6241,-2423.2152 4449.7857,-2431.023 4453.0916,-2424.8528"/>
</g>
<!-- leaf_77 -->
<g id="node78" class="node">
<title>leaf_77</title>
<polygon fill="none" stroke="#c0c0c0" points="4940.5,-2453.8054 4518.5,-2453.8054 4518.5,-2353.0034 4940.5,-2353.0034 4940.5,-2453.8054"/>
<text text-anchor="middle" x="4729.5" y="-2438.4045" font-family="Inconsolata" font-size="14.00" fill="#000000">These lines are later translated into blocks, and when the</text>
<text text-anchor="middle" x="4729.5" y="-2423.0045" font-family="Inconsolata" font-size="14.00" fill="#000000">parser is mature, =section.line= will be set to nil before</text>
<text text-anchor="middle" x="4729.5" y="-2407.6044" font-family="Inconsolata" font-size="14.00" fill="#000000">the Doc is returned. &#160;</text>
<text text-anchor="middle" x="4729.5" y="-2392.2044" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="4729.5" y="-2376.8044" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section: the section</text>
<text text-anchor="middle" x="4729.5" y="-2361.4043" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; line: the line</text>
</g>
<!-- block_71&#45;&gt;leaf_77 -->
<g id="edge77" class="edge">
<title>block_71&#45;&gt;leaf_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4871.5575,-2508.6131C4854.2937,-2495.8274 4829.5797,-2477.5241 4805.5925,-2459.759"/>
<polygon fill="#000000" stroke="#000000" points="4807.6166,-2456.9027 4797.4974,-2453.7637 4803.4504,-2462.528 4807.6166,-2456.9027"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="5128.5,-2421.4044 4958.5,-2421.4044 4958.5,-2385.4044 5128.5,-2385.4044 5128.5,-2421.4044"/>
<text text-anchor="middle" x="5043.5" y="-2399.9044" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; return : the section</text>
</g>
<!-- block_72&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>block_72&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5043.5,-2507.5734C5043.5,-2487.538 5043.5,-2454.9314 5043.5,-2431.5336"/>
<polygon fill="#000000" stroke="#000000" points="5047.0001,-2431.5094 5043.5,-2421.5094 5040.0001,-2431.5095 5047.0001,-2431.5094"/>
</g>
<!-- codeblock_79 -->
<g id="node80" class="node">
<title>codeblock_79</title>
<ellipse fill="none" stroke="#000000" cx="5233.5" cy="-2403.4044" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5233.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 140&#45;145</text>
</g>
<!-- block_73&#45;&gt;codeblock_79 -->
<g id="edge79" class="edge">
<title>block_73&#45;&gt;codeblock_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5233.5,-2507.5734C5233.5,-2487.538 5233.5,-2454.9314 5233.5,-2431.5336"/>
<polygon fill="#000000" stroke="#000000" points="5237.0001,-2431.5094 5233.5,-2421.5094 5230.0001,-2431.5095 5237.0001,-2431.5094"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="5392.5,-2421.4044 5338.5,-2421.4044 5338.5,-2385.4044 5392.5,-2385.4044 5392.5,-2421.4044"/>
</g>
<!-- block_73&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>block_73&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5260.121,-2509.1235C5280.4469,-2495.7898 5308.4494,-2475.7443 5329.5,-2454.2045 5336.4909,-2447.0511 5343.1313,-2438.4321 5348.7613,-2430.3414"/>
<polygon fill="#000000" stroke="#000000" points="5351.7829,-2432.1196 5354.4426,-2421.864 5345.968,-2428.2226 5351.7829,-2432.1196"/>
</g>
<!-- header_82 -->
<g id="node83" class="node">
<title>header_82</title>
<ellipse fill="none" stroke="#000000" cx="5586.5" cy="-2403.4044" rx="175.5244" ry="18"/>
<text text-anchor="middle" x="5586.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : addSection(section, newsection, linum)</text>
</g>
<!-- section_74&#45;&gt;header_82 -->
<g id="edge82" class="edge">
<title>section_74&#45;&gt;header_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5879.2101,-2510.4978C5819.9049,-2488.7999 5710.3967,-2448.7343 5643.4398,-2424.2369"/>
<polygon fill="#000000" stroke="#000000" points="5644.4746,-2420.8886 5633.8808,-2420.7395 5642.0693,-2427.4624 5644.4746,-2420.8886"/>
</g>
<!-- block_83 -->
<g id="node84" class="node">
<title>block_83</title>
<ellipse fill="none" stroke="#000000" cx="5845.5" cy="-2403.4044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5845.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 148&#45;151</text>
</g>
<!-- section_74&#45;&gt;block_83 -->
<g id="edge83" class="edge">
<title>section_74&#45;&gt;block_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5909.4335,-2507.5734C5896.9152,-2487.177 5876.4009,-2453.7523 5861.9935,-2430.2779"/>
<polygon fill="#000000" stroke="#000000" points="5864.8258,-2428.2014 5856.6119,-2421.5094 5858.8598,-2431.8631 5864.8258,-2428.2014"/>
</g>
<!-- block_84 -->
<g id="node85" class="node">
<title>block_84</title>
<ellipse fill="none" stroke="#000000" cx="5994.5" cy="-2403.4044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5994.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 152&#45;155</text>
</g>
<!-- section_74&#45;&gt;block_84 -->
<g id="edge84" class="edge">
<title>section_74&#45;&gt;block_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5931.419,-2507.5734C5943.7703,-2487.177 5964.0111,-2453.7523 5978.2264,-2430.2779"/>
<polygon fill="#000000" stroke="#000000" points="5981.3501,-2431.8763 5983.5362,-2421.5094 5975.3624,-2428.2503 5981.3501,-2431.8763"/>
</g>
<!-- block_85 -->
<g id="node86" class="node">
<title>block_85</title>
<ellipse fill="none" stroke="#000000" cx="6143.5" cy="-2403.4044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6143.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 156&#45;157</text>
</g>
<!-- section_74&#45;&gt;block_85 -->
<g id="edge85" class="edge">
<title>section_74&#45;&gt;block_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5957.4387,-2509.8234C5988.0945,-2496.2756 6032.4994,-2475.598 6069.5,-2454.2045 6084.1076,-2445.7584 6099.5971,-2435.3688 6112.6089,-2426.1908"/>
<polygon fill="#000000" stroke="#000000" points="6114.6619,-2429.0257 6120.7677,-2420.3672 6110.595,-2423.3282 6114.6619,-2429.0257"/>
</g>
<!-- block_86 -->
<g id="node87" class="node">
<title>block_86</title>
<ellipse fill="none" stroke="#000000" cx="6292.5" cy="-2403.4044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6292.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 158&#45;169</text>
</g>
<!-- section_74&#45;&gt;block_86 -->
<g id="edge86" class="edge">
<title>section_74&#45;&gt;block_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5986.675,-2516.8668C6048.5958,-2507.0605 6142.6657,-2487.9229 6218.5,-2454.2045 6234.3854,-2447.1413 6250.479,-2436.5866 6263.5825,-2426.925"/>
<polygon fill="#000000" stroke="#000000" points="6265.8737,-2429.5801 6271.7293,-2420.7505 6261.6455,-2424.0013 6265.8737,-2429.5801"/>
</g>
<!-- header_93 -->
<g id="node94" class="node">
<title>header_93</title>
<ellipse fill="none" stroke="#000000" cx="6548.5" cy="-2403.4044" rx="137.8106" ry="18"/>
<text text-anchor="middle" x="6548.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Helper Functions for Blocking</text>
</g>
<!-- section_75&#45;&gt;header_93 -->
<g id="edge93" class="edge">
<title>section_75&#45;&gt;header_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7482.5572,-2521.8516C7302.4992,-2512.3302 6845.1112,-2485.7387 6695.5,-2454.2045 6662.6479,-2447.2801 6627.0301,-2435.098 6599.0834,-2424.3991"/>
<polygon fill="#000000" stroke="#000000" points="6600.124,-2421.0485 6589.5353,-2420.6876 6597.5878,-2427.5729 6600.124,-2421.0485"/>
</g>
<!-- block_94 -->
<g id="node95" class="node">
<title>block_94</title>
<ellipse fill="none" stroke="#000000" cx="6770.5" cy="-2403.4044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6770.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 170&#45;173</text>
</g>
<!-- section_75&#45;&gt;block_94 -->
<g id="edge94" class="edge">
<title>section_75&#45;&gt;block_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7481.8036,-2522.8035C7323.6746,-2516.1157 6960.1455,-2496.5197 6844.5,-2454.2045 6827.6935,-2448.0549 6811.0736,-2437.1993 6797.8552,-2427.0977"/>
<polygon fill="#000000" stroke="#000000" points="6799.7026,-2424.0958 6789.6922,-2420.6253 6795.3535,-2429.5808 6799.7026,-2424.0958"/>
</g>
<!-- block_95 -->
<g id="node96" class="node">
<title>block_95</title>
<ellipse fill="none" stroke="#000000" cx="6919.5" cy="-2403.4044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6919.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 174&#45;180</text>
</g>
<!-- section_75&#45;&gt;block_95 -->
<g id="edge95" class="edge">
<title>section_75&#45;&gt;block_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7482.1191,-2521.9776C7379.644,-2515.513 7190.0546,-2498.2537 7034.5,-2454.2045 7008.5231,-2446.8484 6980.8007,-2434.7409 6959.0844,-2424.1909"/>
<polygon fill="#000000" stroke="#000000" points="6960.3785,-2420.9263 6949.8632,-2419.6301 6957.2751,-2427.2008 6960.3785,-2420.9263"/>
</g>
<!-- block_96 -->
<g id="node97" class="node">
<title>block_96</title>
<ellipse fill="none" stroke="#000000" cx="7109.5" cy="-2403.4044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7109.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 181&#45;182</text>
</g>
<!-- section_75&#45;&gt;block_96 -->
<g id="edge96" class="edge">
<title>section_75&#45;&gt;block_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7506.5246,-2511.9423C7422.6177,-2489.004 7253.9828,-2442.9029 7165.936,-2418.8328"/>
<polygon fill="#000000" stroke="#000000" points="7166.6937,-2415.4116 7156.1247,-2416.1506 7164.8478,-2422.1638 7166.6937,-2415.4116"/>
</g>
<!-- block_97 -->
<g id="node98" class="node">
<title>block_97</title>
<ellipse fill="none" stroke="#000000" cx="7481.5" cy="-2403.4044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7481.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 183&#45;185</text>
</g>
<!-- section_75&#45;&gt;block_97 -->
<g id="edge97" class="edge">
<title>section_75&#45;&gt;block_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7545.4335,-2507.5734C7532.9152,-2487.177 7512.4009,-2453.7523 7497.9935,-2430.2779"/>
<polygon fill="#000000" stroke="#000000" points="7500.8258,-2428.2014 7492.6119,-2421.5094 7494.8598,-2431.8631 7500.8258,-2428.2014"/>
</g>
<!-- block_98 -->
<g id="node99" class="node">
<title>block_98</title>
<ellipse fill="none" stroke="#000000" cx="7683.5" cy="-2403.4044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7683.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 186&#45;187</text>
</g>
<!-- section_75&#45;&gt;block_98 -->
<g id="edge98" class="edge">
<title>section_75&#45;&gt;block_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7574.696,-2508.0962C7596.5753,-2487.0438 7633.4273,-2451.5846 7658.1013,-2427.8431"/>
<polygon fill="#000000" stroke="#000000" points="7660.5586,-2430.3359 7665.3378,-2420.8802 7655.705,-2425.2917 7660.5586,-2430.3359"/>
</g>
<!-- block_99 -->
<g id="node100" class="node">
<title>block_99</title>
<ellipse fill="none" stroke="#000000" cx="8073.5" cy="-2403.4044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="8073.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 188&#45;244</text>
</g>
<!-- section_75&#45;&gt;block_99 -->
<g id="edge99" class="edge">
<title>section_75&#45;&gt;block_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7610.365,-2512.8728C7707.7284,-2489.8596 7912.3013,-2441.5059 8013.7872,-2417.5184"/>
<polygon fill="#000000" stroke="#000000" points="8014.6481,-2420.9114 8023.5748,-2415.2049 8013.0378,-2414.0991 8014.6481,-2420.9114"/>
</g>
<!-- section_100 -->
<g id="node101" class="node">
<title>section_100</title>
<ellipse fill="none" stroke="#000000" cx="8302.5" cy="-2403.4044" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8302.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 227&#45;232</text>
</g>
<!-- section_75&#45;&gt;section_100 -->
<g id="edge100" class="edge">
<title>section_75&#45;&gt;section_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7630.2022,-2521.4316C7742.9685,-2513.9918 7964.6025,-2495.1981 8148.5,-2454.2045 8184.1741,-2446.2522 8223.2709,-2433.3009 8253.1443,-2422.466"/>
<polygon fill="#000000" stroke="#000000" points="8254.7224,-2425.6151 8262.9035,-2418.883 8252.3098,-2419.044 8254.7224,-2425.6151"/>
</g>
<!-- section_101 -->
<g id="node102" class="node">
<title>section_101</title>
<ellipse fill="none" stroke="#000000" cx="8581.5" cy="-2403.4044" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8581.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 233&#45;237</text>
</g>
<!-- section_75&#45;&gt;section_101 -->
<g id="edge101" class="edge">
<title>section_75&#45;&gt;section_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7631.4411,-2523.3978C7777.6297,-2518.1602 8110.692,-2501.6427 8386.5,-2454.2045 8433.9744,-2446.039 8486.7932,-2431.9607 8525.4726,-2420.6926"/>
<polygon fill="#000000" stroke="#000000" points="8526.884,-2423.9257 8535.4894,-2417.7453 8524.908,-2417.2104 8526.884,-2423.9257"/>
</g>
<!-- section_102 -->
<g id="node103" class="node">
<title>section_102</title>
<ellipse fill="none" stroke="#000000" cx="8863.5" cy="-2403.4044" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8863.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 238&#45;244</text>
</g>
<!-- section_75&#45;&gt;section_102 -->
<g id="edge102" class="edge">
<title>section_75&#45;&gt;section_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7631.2891,-2522.6149C7846.6054,-2513.7183 8465.3154,-2486.0423 8665.5,-2454.2045 8714.2877,-2446.4452 8768.5617,-2432.1039 8807.9301,-2420.6329"/>
<polygon fill="#000000" stroke="#000000" points="8809.0012,-2423.9662 8817.6055,-2417.7841 8807.024,-2417.2512 8809.0012,-2423.9662"/>
</g>
<!-- section_103 -->
<g id="node104" class="node">
<title>section_103</title>
<ellipse fill="none" stroke="#000000" cx="9195.5" cy="-2403.4044" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9195.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 245&#45;363</text>
</g>
<!-- section_75&#45;&gt;section_103 -->
<g id="edge103" class="edge">
<title>section_75&#45;&gt;section_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7631.3913,-2523.2521C7881.9035,-2515.1492 8689.3358,-2487.0807 8947.5,-2454.2045 9011.3324,-2446.0756 9083.2706,-2430.6283 9133.1633,-2418.8927"/>
<polygon fill="#000000" stroke="#000000" points="9134.2291,-2422.2371 9143.1514,-2416.5236 9132.6135,-2415.4261 9134.2291,-2422.2371"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="5210.5,-2185.2053 4886.5,-2185.2053 4886.5,-2116.0028 5210.5,-2116.0028 5210.5,-2185.2053"/>
<text text-anchor="middle" x="5048.5" y="-2170.2041" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.addLine(section, line)</text>
<text text-anchor="middle" x="5048.5" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.lines[#section.lines + 1] = line</text>
<text text-anchor="middle" x="5048.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="5048.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_79&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>codeblock_79&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5220.1953,-2385.2236C5191.1166,-2345.488 5121.2212,-2249.9767 5080.1347,-2193.8325"/>
<polygon fill="#000000" stroke="#000000" points="5082.7745,-2191.5131 5074.0444,-2185.5101 5077.1255,-2195.6471 5082.7745,-2191.5131"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="5496.5,-2170.5061 5228.5,-2170.5061 5228.5,-2130.7019 5496.5,-2130.7019 5496.5,-2170.5061"/>
<text text-anchor="middle" x="5362.5" y="-2139.104" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Adds a section to the host section</text>
</g>
<!-- block_83&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>block_83&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5825.922,-2386.1543C5811.7894,-2374.7048 5791.7099,-2360.3979 5771.5,-2352.6043 5660.1899,-2309.6795 5610.3606,-2373.4968 5505.5,-2316.6043 5446.6294,-2284.6639 5401.092,-2218.1303 5378.3967,-2179.7005"/>
<polygon fill="#000000" stroke="#000000" points="5381.1574,-2177.4823 5373.1246,-2170.5739 5375.096,-2180.9837 5381.1574,-2177.4823"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5860,-2177.8045 5515,-2177.8045 5515,-2123.4036 5860,-2123.4036 5860,-2177.8045"/>
<text text-anchor="middle" x="5687.5" y="-2162.5041" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section: &#160;Section to contain the new section.</text>
<text text-anchor="middle" x="5687.5" y="-2147.104" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; newsection: &#160;The new section.</text>
<text text-anchor="middle" x="5687.5" y="-2131.704" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; linum: &#160;The line number.</text>
</g>
<!-- block_84&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>block_84&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5969.8857,-2386.5708C5936.174,-2363.476 5878.7436,-2323.976 5869.5,-2316.6043 5815.9656,-2273.9114 5758.203,-2219.6876 5722.4422,-2185.0567"/>
<polygon fill="#000000" stroke="#000000" points="5724.7656,-2182.4341 5715.1546,-2177.9755 5719.8874,-2187.4545 5724.7656,-2182.4341"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="6104.5,-2168.604 5878.5,-2168.604 5878.5,-2132.604 6104.5,-2132.604 6104.5,-2168.604"/>
<text text-anchor="middle" x="5991.5" y="-2147.104" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; #return: the parent section.</text>
</g>
<!-- block_85&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>block_85&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6132.8117,-2385.628C6106.5477,-2341.9467 6038.7277,-2229.1513 6007.5774,-2177.3433"/>
<polygon fill="#000000" stroke="#000000" points="6010.5325,-2175.4658 6002.38,-2168.6992 6004.5334,-2179.0729 6010.5325,-2175.4658"/>
</g>
<!-- codeblock_90 -->
<g id="node91" class="node">
<title>codeblock_90</title>
<ellipse fill="none" stroke="#000000" cx="6209.5" cy="-2150.604" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6209.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 158&#45;167</text>
</g>
<!-- block_86&#45;&gt;codeblock_90 -->
<g id="edge90" class="edge">
<title>block_86&#45;&gt;codeblock_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6286.5308,-2385.2236C6272.1738,-2341.4953 6235.6394,-2230.2192 6218.5594,-2178.1969"/>
<polygon fill="#000000" stroke="#000000" points="6221.8599,-2177.0293 6215.4151,-2168.6201 6215.2092,-2179.2129 6221.8599,-2177.0293"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="6368.5,-2168.604 6314.5,-2168.604 6314.5,-2132.604 6368.5,-2132.604 6368.5,-2168.604"/>
</g>
<!-- block_86&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>block_86&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6296.024,-2385.2236C6304.4821,-2341.5864 6325.9785,-2230.6825 6336.0885,-2178.5228"/>
<polygon fill="#000000" stroke="#000000" points="6339.5411,-2179.1034 6338.008,-2168.6201 6332.669,-2177.7713 6339.5411,-2179.1034"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="6441.5,-1887.1039 5977.5,-1887.1039 5977.5,-1755.7031 6441.5,-1755.7031 6441.5,-1887.1039"/>
<text text-anchor="middle" x="6209.5" y="-1871.8036" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.addSection(section, newsection, linum, start, finish)</text>
<text text-anchor="middle" x="6209.5" y="-1856.4036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if linum &gt; 0 then</text>
<text text-anchor="middle" x="6209.5" y="-1841.0035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.line_last = linum &#45; 1</text>
<text text-anchor="middle" x="6209.5" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.last = finish</text>
<text text-anchor="middle" x="6209.5" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6209.5" y="-1794.8034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section[#section + 1] = newsection</text>
<text text-anchor="middle" x="6209.5" y="-1779.4034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="6209.5" y="-1764.0034" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_90&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>codeblock_90&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6209.5,-2132.4359C6209.5,-2088.5115 6209.5,-1974.5049 6209.5,-1897.4188"/>
<polygon fill="#000000" stroke="#000000" points="6213.0001,-1897.2687 6209.5,-1887.2687 6206.0001,-1897.2687 6213.0001,-1897.2687"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6592,-2170.5061 6387,-2170.5061 6387,-2130.7019 6592,-2130.7019 6592,-2170.5061"/>
<text text-anchor="middle" x="6489.5" y="-2139.104" font-family="Inconsolata" font-size="14.00" fill="#000000">Boolean match for a tagline</text>
</g>
<!-- block_94&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>block_94&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6748.3668,-2386.4263C6733.8599,-2375.8079 6714.1868,-2362.346 6695.5,-2352.6043 6655.83,-2331.924 6636.524,-2344.4379 6601.5,-2316.6043 6554.2785,-2279.0774 6519.6209,-2216.1714 6502.1865,-2179.5224"/>
<polygon fill="#000000" stroke="#000000" points="6505.318,-2177.9558 6497.9286,-2170.3632 6498.9704,-2180.9067 6505.318,-2177.9558"/>
</g>
<!-- codeblock_105 -->
<g id="node106" class="node">
<title>codeblock_105</title>
<ellipse fill="none" stroke="#000000" cx="6697.5" cy="-2150.604" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6697.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 174&#45;178</text>
</g>
<!-- block_95&#45;&gt;codeblock_105 -->
<g id="edge105" class="edge">
<title>block_95&#45;&gt;codeblock_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6895.0312,-2386.597C6858.5313,-2361.5188 6794.0169,-2317.1637 6793.5,-2316.6043 6754.4284,-2274.3212 6724.3373,-2213.4157 6708.9228,-2178.341"/>
<polygon fill="#000000" stroke="#000000" points="6711.9629,-2176.5516 6704.7924,-2168.752 6705.534,-2179.3208 6711.9629,-2176.5516"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="6856.5,-2168.604 6802.5,-2168.604 6802.5,-2132.604 6856.5,-2132.604 6856.5,-2168.604"/>
</g>
<!-- block_95&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>block_95&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6905.9783,-2385.7637C6893.6764,-2368.8827 6875.8989,-2342.2635 6865.5,-2316.6043 6846.7103,-2270.2411 6837.0147,-2212.4304 6832.6115,-2178.7026"/>
<polygon fill="#000000" stroke="#000000" points="6836.0682,-2178.136 6831.3631,-2168.6433 6829.1215,-2178.9982 6836.0682,-2178.136"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="7248,-2168.604 6875,-2168.604 6875,-2132.604 7248,-2132.604 7248,-2168.604"/>
<text text-anchor="middle" x="7061.5" y="-2147.104" font-family="Inconsolata" font-size="14.00" fill="#000000">Lookahead, counting blank lines, return the number.</text>
</g>
<!-- block_96&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>block_96&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7106.048,-2385.2236C7097.7624,-2341.5864 7076.7048,-2230.6825 7066.801,-2178.5228"/>
<polygon fill="#000000" stroke="#000000" points="7070.2248,-2177.7916 7064.9208,-2168.6201 7063.3477,-2179.0975 7070.2248,-2177.7916"/>
</g>
<!-- leaf_109 -->
<g id="node110" class="node">
<title>leaf_109</title>
<polygon fill="none" stroke="#c0c0c0" points="7590.5,-2169.9046 7266.5,-2169.9046 7266.5,-2131.3035 7590.5,-2131.3035 7590.5,-2169.9046"/>
<text text-anchor="middle" x="7428.5" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines: the full lines array of the section</text>
<text text-anchor="middle" x="7428.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; linum: current index into lines</text>
</g>
<!-- block_97&#45;&gt;leaf_109 -->
<g id="edge109" class="edge">
<title>block_97&#45;&gt;leaf_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7477.6884,-2385.2236C7468.6286,-2342.01 7445.7387,-2232.8296 7434.6752,-2180.0585"/>
<polygon fill="#000000" stroke="#000000" points="7438.0429,-2179.064 7432.5653,-2169.995 7431.1918,-2180.5004 7438.0429,-2179.064"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="7968,-2168.604 7609,-2168.604 7609,-2132.604 7968,-2132.604 7968,-2168.604"/>
<text text-anchor="middle" x="7788.5" y="-2147.104" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; returns: number of blank lines forward of index</text>
</g>
<!-- block_98&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>block_98&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7691.0513,-2385.2236C7709.2516,-2341.4042 7755.6248,-2229.7552 7777.1741,-2177.8725"/>
<polygon fill="#000000" stroke="#000000" points="7780.4135,-2179.1977 7781.0171,-2168.6201 7773.949,-2176.5126 7780.4135,-2179.1977"/>
</g>
<!-- codeblock_111 -->
<g id="node112" class="node">
<title>codeblock_111</title>
<ellipse fill="none" stroke="#000000" cx="8073.5" cy="-2150.604" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8073.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 188&#45;205</text>
</g>
<!-- block_99&#45;&gt;codeblock_111 -->
<g id="edge111" class="edge">
<title>block_99&#45;&gt;codeblock_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8073.5,-2385.2236C8073.5,-2341.6775 8073.5,-2231.1453 8073.5,-2178.8503"/>
<polygon fill="#000000" stroke="#000000" points="8077.0001,-2178.62 8073.5,-2168.6201 8070.0001,-2178.6201 8077.0001,-2178.62"/>
</g>
<!-- leaf_113 -->
<g id="node114" class="node">
<title>leaf_113</title>
<polygon fill="none" stroke="#c0c0c0" points="8232.5,-2168.604 8178.5,-2168.604 8178.5,-2132.604 8232.5,-2132.604 8232.5,-2168.604"/>
</g>
<!-- block_99&#45;&gt;leaf_113 -->
<g id="edge113" class="edge">
<title>block_99&#45;&gt;leaf_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8099.6883,-2386.7033C8121.7569,-2371.2223 8152.3931,-2346.1644 8169.5,-2316.6043 8194.6906,-2273.0758 8202.2949,-2213.8723 8204.5647,-2179.1965"/>
<polygon fill="#000000" stroke="#000000" points="8208.0791,-2179.027 8205.1297,-2168.851 8201.0895,-2178.6452 8208.0791,-2179.027"/>
</g>
<!-- header_114 -->
<g id="node115" class="node">
<title>header_114</title>
<ellipse fill="none" stroke="#000000" cx="8302.5" cy="-2150.604" rx="52.2623" ry="18"/>
<text text-anchor="middle" x="8302.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : List line</text>
</g>
<!-- section_100&#45;&gt;header_114 -->
<g id="edge114" class="edge">
<title>section_100&#45;&gt;header_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8302.5,-2385.2236C8302.5,-2341.6775 8302.5,-2231.1453 8302.5,-2178.8503"/>
<polygon fill="#000000" stroke="#000000" points="8306.0001,-2178.62 8302.5,-2168.6201 8299.0001,-2178.6201 8306.0001,-2178.62"/>
</g>
<!-- block_115 -->
<g id="node116" class="node">
<title>block_115</title>
<ellipse fill="none" stroke="#000000" cx="8438.5" cy="-2150.604" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="8438.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 227&#45;232</text>
</g>
<!-- section_100&#45;&gt;block_115 -->
<g id="edge115" class="edge">
<title>section_100&#45;&gt;block_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8316.6339,-2385.4422C8329.7245,-2368.334 8349.2614,-2341.5612 8363.5,-2316.6043 8390.2003,-2269.8051 8414.5805,-2211.7723 8427.9026,-2178.187"/>
<polygon fill="#000000" stroke="#000000" points="8431.2744,-2179.1757 8431.6723,-2168.5883 8424.7589,-2176.6168 8431.2744,-2179.1757"/>
</g>
<!-- header_117 -->
<g id="node118" class="node">
<title>header_117</title>
<ellipse fill="none" stroke="#000000" cx="8581.5" cy="-2150.604" rx="59.7106" ry="18"/>
<text text-anchor="middle" x="8581.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Table line</text>
</g>
<!-- section_101&#45;&gt;header_117 -->
<g id="edge117" class="edge">
<title>section_101&#45;&gt;header_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8581.5,-2385.2236C8581.5,-2341.6775 8581.5,-2231.1453 8581.5,-2178.8503"/>
<polygon fill="#000000" stroke="#000000" points="8585.0001,-2178.62 8581.5,-2168.6201 8578.0001,-2178.6201 8585.0001,-2178.62"/>
</g>
<!-- block_118 -->
<g id="node119" class="node">
<title>block_118</title>
<ellipse fill="none" stroke="#000000" cx="8724.5" cy="-2150.604" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="8724.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 233&#45;237</text>
</g>
<!-- section_101&#45;&gt;block_118 -->
<g id="edge118" class="edge">
<title>section_101&#45;&gt;block_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8597.7277,-2385.7699C8612.7048,-2368.8933 8634.9187,-2342.2771 8650.5,-2316.6043 8678.3922,-2270.6472 8701.935,-2212.3356 8714.5634,-2178.4696"/>
<polygon fill="#000000" stroke="#000000" points="8717.9582,-2179.3785 8718.1249,-2168.785 8711.3884,-2176.9624 8717.9582,-2179.3785"/>
</g>
<!-- header_120 -->
<g id="node121" class="node">
<title>header_120</title>
<ellipse fill="none" stroke="#000000" cx="8863.5" cy="-2150.604" rx="55.3589" ry="18"/>
<text text-anchor="middle" x="8863.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Tag line </text>
</g>
<!-- section_102&#45;&gt;header_120 -->
<g id="edge120" class="edge">
<title>section_102&#45;&gt;header_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8863.5,-2385.2236C8863.5,-2341.6775 8863.5,-2231.1453 8863.5,-2178.8503"/>
<polygon fill="#000000" stroke="#000000" points="8867.0001,-2178.62 8863.5,-2168.6201 8860.0001,-2178.6201 8867.0001,-2178.62"/>
</g>
<!-- block_121 -->
<g id="node122" class="node">
<title>block_121</title>
<ellipse fill="none" stroke="#000000" cx="9002.5" cy="-2150.604" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9002.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 238&#45;244</text>
</g>
<!-- section_102&#45;&gt;block_121 -->
<g id="edge121" class="edge">
<title>section_102&#45;&gt;block_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8878.4102,-2385.5548C8892.2019,-2368.5262 8912.7384,-2341.8072 8927.5,-2316.6043 8954.7311,-2270.112 8978.9356,-2211.9776 8992.0807,-2178.29"/>
<polygon fill="#000000" stroke="#000000" points="8995.4619,-2179.2496 8995.7963,-2168.66 8988.9312,-2176.7297 8995.4619,-2179.2496"/>
</g>
<!-- header_123 -->
<g id="node124" class="node">
<title>header_123</title>
<ellipse fill="none" stroke="#000000" cx="9162.5" cy="-2150.604" rx="66.779" ry="18"/>
<text text-anchor="middle" x="9162.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Code block</text>
</g>
<!-- section_103&#45;&gt;header_123 -->
<g id="edge123" class="edge">
<title>section_103&#45;&gt;header_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9193.1267,-2385.2236C9187.4423,-2341.6775 9173.0137,-2231.1453 9166.1872,-2178.8503"/>
<polygon fill="#000000" stroke="#000000" points="9169.6168,-2178.0829 9164.8518,-2168.6201 9162.6757,-2178.989 9169.6168,-2178.0829"/>
</g>
<!-- block_124 -->
<g id="node125" class="node">
<title>block_124</title>
<ellipse fill="none" stroke="#000000" cx="9312.5" cy="-2150.604" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9312.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 245&#45;249</text>
</g>
<!-- section_103&#45;&gt;block_124 -->
<g id="edge124" class="edge">
<title>section_103&#45;&gt;block_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9204.7765,-2385.2206C9213.6355,-2367.7301 9227.2623,-2340.4965 9238.5,-2316.6043 9261.2592,-2268.2164 9286.3146,-2211.147 9300.6524,-2178.0951"/>
<polygon fill="#000000" stroke="#000000" points="9303.9826,-2179.2124 9304.7436,-2168.6449 9297.5587,-2176.4313 9303.9826,-2179.2124"/>
</g>
<!-- block_125 -->
<g id="node126" class="node">
<title>block_125</title>
<ellipse fill="none" stroke="#000000" cx="9556.5" cy="-2150.604" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9556.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 250&#45;251</text>
</g>
<!-- section_103&#45;&gt;block_125 -->
<g id="edge125" class="edge">
<title>section_103&#45;&gt;block_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9220.4241,-2386.3155C9236.7256,-2375.6528 9258.7687,-2362.1833 9279.5,-2352.6043 9325.4305,-2331.382 9344.3414,-2343.0115 9387.5,-2316.6043 9450.1813,-2278.2519 9507.6917,-2212.5709 9536.7149,-2176.3922"/>
<polygon fill="#000000" stroke="#000000" points="9539.6679,-2178.3011 9543.1339,-2168.2892 9534.1809,-2173.9544 9539.6679,-2178.3011"/>
</g>
<!-- block_126 -->
<g id="node127" class="node">
<title>block_126</title>
<ellipse fill="none" stroke="#000000" cx="9801.5" cy="-2150.604" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9801.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 252&#45;253</text>
</g>
<!-- section_103&#45;&gt;block_126 -->
<g id="edge126" class="edge">
<title>section_103&#45;&gt;block_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9218.0219,-2385.9812C9234.2011,-2374.4524 9257.0349,-2360.1218 9279.5,-2352.6043 9428.6323,-2302.7003 9489.0651,-2383.2613 9631.5,-2316.6043 9698.9486,-2285.0396 9755.8083,-2215.4432 9783.4721,-2177.1506"/>
<polygon fill="#000000" stroke="#000000" points="9786.6208,-2178.7613 9789.553,-2168.5803 9780.9118,-2174.7106 9786.6208,-2178.7613"/>
</g>
<!-- block_127 -->
<g id="node128" class="node">
<title>block_127</title>
<ellipse fill="none" stroke="#000000" cx="10269.5" cy="-2150.604" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10269.5" y="-2146.404" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 254&#45;363</text>
</g>
<!-- section_103&#45;&gt;block_127 -->
<g id="edge127" class="edge">
<title>section_103&#45;&gt;block_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9217.5796,-2385.9381C9233.7339,-2374.23 9256.7204,-2359.7026 9279.5,-2352.6043 9533.2798,-2273.5247 9617.6812,-2377.1899 9876.5,-2316.6043 10013.2208,-2284.6001 10162.9739,-2208.9588 10231.4756,-2171.8641"/>
<polygon fill="#000000" stroke="#000000" points="10233.4874,-2174.7537 10240.5924,-2166.8942 10230.137,-2168.6075 10233.4874,-2174.7537"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="6835,-1848.6039 6560,-1848.6039 6560,-1794.203 6835,-1794.203 6835,-1848.6039"/>
<text text-anchor="middle" x="6697.5" y="-1833.3035" font-family="Inconsolata" font-size="14.00" fill="#000000">local function isTagline(line)</text>
<text text-anchor="middle" x="6697.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return L.match(m.tagline_p, line)</text>
<text text-anchor="middle" x="6697.5" y="-1802.5034" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_105&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>codeblock_105&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6697.5,-2132.4359C6697.5,-2080.3826 6697.5,-1929.9077 6697.5,-1859.0928"/>
<polygon fill="#000000" stroke="#000000" points="6701.0001,-1858.8408 6697.5,-1848.8409 6694.0001,-1858.8409 6701.0001,-1858.8408"/>
</g>
<!-- leaf_112 -->
<g id="node113" class="node">
<title>leaf_112</title>
<polygon fill="none" stroke="#c0c0c0" points="8203.5,-1948.8043 7921.5,-1948.8043 7921.5,-1694.0026 8203.5,-1694.0026 8203.5,-1948.8043"/>
<text text-anchor="middle" x="8062.5" y="-1933.4037" font-family="Inconsolata" font-size="14.00" fill="#000000">local function fwdBlanks(lines, linum)</text>
<text text-anchor="middle" x="8062.5" y="-1918.0037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local fwd = 0</text>
<text text-anchor="middle" x="8062.5" y="-1902.6037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local index = linum + 1</text>
<text text-anchor="middle" x="8062.5" y="-1887.2036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if index &gt; #lines then </text>
<text text-anchor="middle" x="8062.5" y="-1871.8036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="8062.5" y="-1856.4036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="8062.5" y="-1841.0035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;for i = index, #lines do</text>
<text text-anchor="middle" x="8062.5" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if lines[i] == &quot;&quot; then</text>
<text text-anchor="middle" x="8062.5" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fwd = fwd + 1</text>
<text text-anchor="middle" x="8062.5" y="-1794.8034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="8062.5" y="-1779.4034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break</text>
<text text-anchor="middle" x="8062.5" y="-1764.0034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8062.5" y="-1748.6033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8062.5" y="-1733.2033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8062.5" y="-1717.8033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return fwd</text>
<text text-anchor="middle" x="8062.5" y="-1702.4032" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_111&#45;&gt;leaf_112 -->
<g id="edge112" class="edge">
<title>codeblock_111&#45;&gt;leaf_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8072.8929,-2132.4359C8071.7834,-2099.2295 8069.3354,-2025.9698 8067.094,-1958.8886"/>
<polygon fill="#000000" stroke="#000000" points="8070.5827,-1958.4904 8066.7506,-1948.6129 8063.5866,-1958.7243 8070.5827,-1958.4904"/>
</g>
<!-- leaf_116 -->
<g id="node117" class="node">
<title>leaf_116</title>
<polygon fill="none" stroke="#c0c0c0" points="8545.5,-1856.7038 8221.5,-1856.7038 8221.5,-1786.1031 8545.5,-1786.1031 8545.5,-1856.7038"/>
<text text-anchor="middle" x="8383.5" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">New block unless previous line is also list,</text>
<text text-anchor="middle" x="8383.5" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">in which case append. </text>
</g>
<!-- block_115&#45;&gt;leaf_116 -->
<g id="edge116" class="edge">
<title>block_115&#45;&gt;leaf_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8435.4646,-2132.4359C8427.0657,-2082.1643 8403.3296,-1940.0931 8391.0572,-1866.637"/>
<polygon fill="#000000" stroke="#000000" points="8394.5045,-1866.0306 8389.4044,-1856.7441 8387.6002,-1867.1842 8394.5045,-1866.0306"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="8671,-1849.305 8564,-1849.305 8564,-1793.502 8671,-1793.502 8671,-1849.305"/>
<text text-anchor="middle" x="8617.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">Same as list.</text>
</g>
<!-- block_118&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>block_118&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8718.5948,-2132.4359C8701.683,-2080.4042 8652.8077,-1930.0325 8629.7788,-1859.1809"/>
<polygon fill="#000000" stroke="#000000" points="8632.9953,-1857.7539 8626.5755,-1849.3256 8626.3381,-1859.9178 8632.9953,-1857.7539"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="9111.5,-1864.6038 8689.5,-1864.6038 8689.5,-1778.2031 9111.5,-1778.2031 9111.5,-1864.6038"/>
<text text-anchor="middle" x="8900.5" y="-1833.3035" font-family="Inconsolata" font-size="14.00" fill="#000000">A tag needs to cling, so we need to check the</text>
<text text-anchor="middle" x="8900.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">number of blank lines before and after a tag line, if any.</text>
<text text-anchor="middle" x="8900.5" y="-1802.5034" font-family="Inconsolata" font-size="14.00" fill="#000000">If even, a tag line clings down.</text>
</g>
<!-- block_121&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>block_121&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8996.8707,-2132.4359C8981.8222,-2083.8675 8940.2251,-1949.6144 8916.8998,-1874.3331"/>
<polygon fill="#000000" stroke="#000000" points="8920.1755,-1873.079 8913.8726,-1864.5629 8913.4891,-1875.1508 8920.1755,-1873.079"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="9495.5,-1848.7039 9129.5,-1848.7039 9129.5,-1794.103 9495.5,-1794.103 9495.5,-1848.7039"/>
<text text-anchor="middle" x="9312.5" y="-1817.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">A code block is anything between a code header and</text>
<text text-anchor="middle" x="9312.5" y="-1802.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">either a code footer or the end of a file. </text>
</g>
<!-- block_124&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>block_124&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9312.5,-2132.4359C9312.5,-2080.3826 9312.5,-1929.9077 9312.5,-1859.0928"/>
<polygon fill="#000000" stroke="#000000" points="9316.0001,-1858.8408 9312.5,-1848.8409 9309.0001,-1858.8409 9316.0001,-1858.8408"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="9789,-1839.4035 9514,-1839.4035 9514,-1803.4035 9789,-1803.4035 9789,-1839.4035"/>
<text text-anchor="middle" x="9651.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section : the Section to be blocked</text>
</g>
<!-- block_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>block_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9561.7429,-2132.4359C9577.5089,-2077.8026 9624.5624,-1914.7495 9643.4867,-1849.1718"/>
<polygon fill="#000000" stroke="#000000" points="9646.8633,-1850.0939 9646.2733,-1839.5155 9640.1378,-1848.153 9646.8633,-1850.0939"/>
</g>
<!-- leaf_130 -->
<g id="node131" class="node">
<title>leaf_130</title>
<polygon fill="none" stroke="#c0c0c0" points="10180,-1839.4035 9807,-1839.4035 9807,-1803.4035 10180,-1803.4035 10180,-1839.4035"/>
<text text-anchor="middle" x="9993.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; returns : the same Section, filled in with blocks</text>
</g>
<!-- block_126&#45;&gt;leaf_130 -->
<g id="edge130" class="edge">
<title>block_126&#45;&gt;leaf_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9812.0962,-2132.4359C9844.0912,-2077.5778 9939.8415,-1913.4056 9977.7739,-1848.3672"/>
<polygon fill="#000000" stroke="#000000" points="9980.9218,-1849.917 9982.9365,-1839.5155 9974.875,-1846.3903 9980.9218,-1849.917"/>
</g>
<!-- codeblock_131 -->
<g id="node132" class="node">
<title>codeblock_131</title>
<ellipse fill="none" stroke="#000000" cx="10285.5" cy="-1821.4035" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10285.5" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 254&#45;362</text>
</g>
<!-- block_127&#45;&gt;codeblock_131 -->
<g id="edge131" class="edge">
<title>block_127&#45;&gt;codeblock_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10270.383,-2132.4359C10273.0329,-2077.915 10280.9306,-1915.42 10284.1307,-1849.5779"/>
<polygon fill="#000000" stroke="#000000" points="10287.63,-1849.6736 10284.6197,-1839.5155 10280.6383,-1849.3338 10287.63,-1849.6736"/>
</g>
<!-- leaf_133 -->
<g id="node134" class="node">
<title>leaf_133</title>
<polygon fill="none" stroke="#c0c0c0" points="10444.5,-1839.4035 10390.5,-1839.4035 10390.5,-1803.4035 10444.5,-1803.4035 10444.5,-1839.4035"/>
</g>
<!-- block_127&#45;&gt;leaf_133 -->
<g id="edge133" class="edge">
<title>block_127&#45;&gt;leaf_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10274.9739,-2132.4473C10285.1331,-2100.564 10309.0497,-2033.2824 10343.5,-1984.6037 10356.9393,-1965.6137 10369.457,-1968.5085 10381.5,-1948.6037 10400.2742,-1917.5736 10409.5878,-1876.3844 10413.9668,-1849.4016"/>
<polygon fill="#000000" stroke="#000000" points="10417.4351,-1849.8734 10415.4604,-1839.4643 10410.5129,-1848.833 10417.4351,-1849.8734"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="10577,-1658.3048 9994,-1658.3048 9994,.1016 10577,.1016 10577,-1658.3048"/>
<text text-anchor="middle" x="10285.5" y="-1643.0032" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.block(section)</text>
<text text-anchor="middle" x="10285.5" y="-1627.6032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; There is always a header at [1], though it may be nil</text>
<text text-anchor="middle" x="10285.5" y="-1612.2032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If there are other Nodes, they are sections and must be appended</text>
<text text-anchor="middle" x="10285.5" y="-1596.8031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; after the blocks.</text>
<text text-anchor="middle" x="10285.5" y="-1581.4031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local sub_sections = {}</text>
<text text-anchor="middle" x="10285.5" y="-1566.0031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i = 2, #section do</text>
<text text-anchor="middle" x="10285.5" y="-1550.603" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;sub_sections[#sub_sections + 1] = section[i]</text>
<text text-anchor="middle" x="10285.5" y="-1535.203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[i] = nil</text>
<text text-anchor="middle" x="10285.5" y="-1519.803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10285.5" y="-1488.4029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Every section gets at least one block, at [2], which may be empty.</text>
<text text-anchor="middle" x="10285.5" y="-1473.0029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local latest = Block(nil, section.line_first) &#45;&#45; current block</text>
<text text-anchor="middle" x="10285.5" y="-1457.6029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section[2] = latest</text>
<text text-anchor="middle" x="10285.5" y="-1426.2028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; State machine for blocking a section</text>
<text text-anchor="middle" x="10285.5" y="-1410.8028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local back_blanks = 0</text>
<text text-anchor="middle" x="10285.5" y="-1395.4028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; first set of blank lines in a section belong to the first block</text>
<text text-anchor="middle" x="10285.5" y="-1380.0027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local lead_blanks = true</text>
<text text-anchor="middle" x="10285.5" y="-1364.6027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Track code blocks in own logic</text>
<text text-anchor="middle" x="10285.5" y="-1349.2027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local code_block = false</text>
<text text-anchor="middle" x="10285.5" y="-1333.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Tags also</text>
<text text-anchor="middle" x="10285.5" y="-1318.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local tagging = false</text>
<text text-anchor="middle" x="10285.5" y="-1303.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i = 1, #section.lines do</text>
<text text-anchor="middle" x="10285.5" y="-1287.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local inset = i + section.line_first</text>
<text text-anchor="middle" x="10285.5" y="-1272.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local l = section.lines[i]</text>
<text text-anchor="middle" x="10285.5" y="-1256.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not code_block then</text>
<text text-anchor="middle" x="10285.5" y="-1241.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if l == &quot;&quot; then </text>
<text text-anchor="middle" x="10285.5" y="-1226.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; increment back blanks for clinging subsequent lines</text>
<text text-anchor="middle" x="10285.5" y="-1210.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = back_blanks + 1</text>
<text text-anchor="middle" x="10285.5" y="-1195.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; blank lines attach to the preceding block</text>
<text text-anchor="middle" x="10285.5" y="-1179.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="10285.5" y="-1164.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10285.5" y="-1149.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local isCodeHeader, level, l_trim = Codeblock.matchHead(l)</text>
<text text-anchor="middle" x="10285.5" y="-1133.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if isCodeHeader then</text>
<text text-anchor="middle" x="10285.5" y="-1118.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_block = true</text>
<text text-anchor="middle" x="10285.5" y="-1102.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not tagging then</text>
<text text-anchor="middle" x="10285.5" y="-1087.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; create a new block for the codeblock</text>
<text text-anchor="middle" x="10285.5" y="-1072.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest.line_last = inset &#45; 1</text>
<text text-anchor="middle" x="10285.5" y="-1056.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = Block(nil, inset)</text>
<text text-anchor="middle" x="10285.5" y="-1041.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1] = Codeblock(level, l_trim, inset)</text>
<text text-anchor="middle" x="10285.5" y="-1025.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = latest</text>
<text text-anchor="middle" x="10285.5" y="-1010.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10285.5" y="-995.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; preserve existing block and add codeblock</text>
<text text-anchor="middle" x="10285.5" y="-979.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tagging = false</text>
<text text-anchor="middle" x="10285.5" y="-964.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1] = Codeblock(level, l_trim, inset)</text>
<text text-anchor="middle" x="10285.5" y="-948.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10285.5" y="-933.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif isTagline(l) then</text>
<text text-anchor="middle" x="10285.5" y="-918.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tagging = true</text>
<text text-anchor="middle" x="10285.5" y="-902.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; apply cling rule</text>
<text text-anchor="middle" x="10285.5" y="-887.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local fwd_blanks = fwdBlanks(section.lines, i)</text>
<text text-anchor="middle" x="10285.5" y="-871.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if fwd_blanks &gt; back_blanks then</text>
<text text-anchor="middle" x="10285.5" y="-856.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="10285.5" y="-841.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10285.5" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; new block</text>
<text text-anchor="middle" x="10285.5" y="-810.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest.line_last = inset &#45; 1</text>
<text text-anchor="middle" x="10285.5" y="-794.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = Block(l, inset)</text>
<text text-anchor="middle" x="10285.5" y="-779.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = latest</text>
<text text-anchor="middle" x="10285.5" y="-764.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = 0</text>
<text text-anchor="middle" x="10285.5" y="-748.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="middle" x="10285.5" y="-733.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10285.5" y="-717.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if back_blanks &gt; 0 and lead_blanks == false then</text>
<text text-anchor="middle" x="10285.5" y="-702.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not tagging then</text>
<text text-anchor="middle" x="10285.5" y="-687.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; new block</text>
<text text-anchor="middle" x="10285.5" y="-671.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest.line_last = inset &#45; 1</text>
<text text-anchor="middle" x="10285.5" y="-656.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = Block(l, inset)</text>
<text text-anchor="middle" x="10285.5" y="-640.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = latest</text>
<text text-anchor="middle" x="10285.5" y="-625.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = 0</text>
<text text-anchor="middle" x="10285.5" y="-610.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10285.5" y="-594.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="10285.5" y="-579.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tagging = false</text>
<text text-anchor="middle" x="10285.5" y="-563.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end </text>
<text text-anchor="middle" x="10285.5" y="-548.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10285.5" y="-533.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; continuing a block</text>
<text text-anchor="middle" x="10285.5" y="-517.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;lead_blanks = false</text>
<text text-anchor="middle" x="10285.5" y="-502.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = 0</text>
<text text-anchor="middle" x="10285.5" y="-486.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="10285.5" y="-471.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10285.5" y="-456.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10285.5" y="-440.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10285.5" y="-425.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10285.5" y="-409.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Collecting a code block</text>
<text text-anchor="middle" x="10285.5" y="-394.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local isCodeFoot, level, l_trim = Codeblock.matchFoot(l)</text>
<text text-anchor="middle" x="10285.5" y="-379.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if (isCodeFoot and level == latest[1].level) then</text>
<text text-anchor="middle" x="10285.5" y="-363.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_block = false</text>
<text text-anchor="middle" x="10285.5" y="-348.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].footer = l_trim</text>
<text text-anchor="middle" x="10285.5" y="-332.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].line_last = inset</text>
<text text-anchor="middle" x="10285.5" y="-317.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10285.5" y="-302.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].lines[#latest[1].lines + 1] = l</text>
<text text-anchor="middle" x="10285.5" y="-286.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10285.5" y="-271.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Continue in normal parse mode</text>
<text text-anchor="middle" x="10285.5" y="-255.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; This may add more lines to the code block</text>
<text text-anchor="middle" x="10285.5" y="-240.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10285.5" y="-225.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10285.5" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Auto&#45;close a code block with no footer.</text>
<text text-anchor="middle" x="10285.5" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if latest[1] and latest[1].id == &quot;codeblock&quot; and not latest[1].line_last then</text>
<text text-anchor="middle" x="10285.5" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].line_last = #section.lines</text>
<text text-anchor="middle" x="10285.5" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10285.5" y="-132.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Close last block</text>
<text text-anchor="middle" x="10285.5" y="-116.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;latest.line_last = section.line_last</text>
<text text-anchor="middle" x="10285.5" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Append sections, if any, which follow our blocks</text>
<text text-anchor="middle" x="10285.5" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, v in ipairs(sub_sections) do</text>
<text text-anchor="middle" x="10285.5" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = v</text>
<text text-anchor="middle" x="10285.5" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10285.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="10285.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_131&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>codeblock_131&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10285.5,-1803.3331C10285.5,-1778.7735 10285.5,-1730.6954 10285.5,-1668.5073"/>
<polygon fill="#000000" stroke="#000000" points="10289.0001,-1668.4068 10285.5,-1658.4068 10282.0001,-1668.4068 10289.0001,-1668.4068"/>
</g>
<!-- leaf_139 -->
<g id="node140" class="node">
<title>leaf_139</title>
<polygon fill="none" stroke="#c0c0c0" points="9438,-2423.3065 9289,-2423.3065 9289,-2383.5023 9438,-2383.5023 9438,-2423.3065"/>
<text text-anchor="middle" x="9363.5" y="-2391.9044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Blocks a Section.</text>
</g>
<!-- block_135&#45;&gt;leaf_139 -->
<g id="edge139" class="edge">
<title>block_135&#45;&gt;leaf_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9472.304,-2508.0962C9451.1706,-2487.7615 9416.0679,-2453.9856 9391.4635,-2430.3111"/>
<polygon fill="#000000" stroke="#000000" points="9393.8245,-2427.7257 9384.1918,-2423.3142 9388.971,-2432.7699 9393.8245,-2427.7257"/>
</g>
<!-- leaf_140 -->
<g id="node141" class="node">
<title>leaf_140</title>
<polygon fill="none" stroke="#c0c0c0" points="9822.5,-2422.705 9456.5,-2422.705 9456.5,-2384.1038 9822.5,-2384.1038 9822.5,-2422.705"/>
<text text-anchor="middle" x="9639.5" y="-2407.6044" font-family="Inconsolata" font-size="14.00" fill="#000000">This is a moderately complex state machine, which</text>
<text text-anchor="middle" x="9639.5" y="-2392.2044" font-family="Inconsolata" font-size="14.00" fill="#000000">works on a line&#45;by&#45;line basis with some lookahead.</text>
</g>
<!-- block_136&#45;&gt;leaf_140 -->
<g id="edge140" class="edge">
<title>block_136&#45;&gt;leaf_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9639.5,-2507.5734C9639.5,-2487.8834 9639.5,-2456.0521 9639.5,-2432.7519"/>
<polygon fill="#000000" stroke="#000000" points="9643.0001,-2432.721 9639.5,-2422.721 9636.0001,-2432.721 9643.0001,-2432.721"/>
</g>
<!-- leaf_141 -->
<g id="node142" class="node">
<title>leaf_141</title>
<polygon fill="none" stroke="#c0c0c0" points="10304.5,-2453.9046 9840.5,-2453.9046 9840.5,-2352.9042 10304.5,-2352.9042 10304.5,-2453.9046"/>
<text text-anchor="middle" x="10072.5" y="-2438.7045" font-family="Inconsolata" font-size="14.00" fill="#000000">First off, we have a Header at [1], and may have one or </text>
<text text-anchor="middle" x="10072.5" y="-2423.3044" font-family="Inconsolata" font-size="14.00" fill="#000000">more Sections The blocks go between the Header and the remaining</text>
<text text-anchor="middle" x="10072.5" y="-2407.9044" font-family="Inconsolata" font-size="14.00" fill="#000000">Sections, so we have to lift them and append after blocking.</text>
<text text-anchor="middle" x="10072.5" y="-2392.5044" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="10072.5" y="-2377.1044" font-family="Inconsolata" font-size="14.00" fill="#000000">Next, we parse the lines, thus:</text>
</g>
<!-- block_137&#45;&gt;leaf_141 -->
<g id="edge141" class="edge">
<title>block_137&#45;&gt;leaf_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9950.544,-2508.3554C9965.1187,-2495.8129 9985.7484,-2478.0597 10005.903,-2460.7154"/>
<polygon fill="#000000" stroke="#000000" points="10008.2939,-2463.2755 10013.5906,-2454.0997 10003.7279,-2457.9696 10008.2939,-2463.2755"/>
</g>
<!-- header_142 -->
<g id="node143" class="node">
<title>header_142</title>
<ellipse fill="none" stroke="#000000" cx="10384.5" cy="-2403.4044" rx="61.9429" ry="18"/>
<text text-anchor="middle" x="10384.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Prose line</text>
</g>
<!-- section_138&#45;&gt;header_142 -->
<g id="edge142" class="edge">
<title>section_138&#45;&gt;header_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10384.5,-2507.5734C10384.5,-2487.538 10384.5,-2454.9314 10384.5,-2431.5336"/>
<polygon fill="#000000" stroke="#000000" points="10388.0001,-2431.5094 10384.5,-2421.5094 10381.0001,-2431.5095 10388.0001,-2431.5094"/>
</g>
<!-- block_143 -->
<g id="node144" class="node">
<title>block_143</title>
<ellipse fill="none" stroke="#000000" cx="10529.5" cy="-2403.4044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10529.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 221&#45;226</text>
</g>
<!-- section_138&#45;&gt;block_143 -->
<g id="edge143" class="edge">
<title>section_138&#45;&gt;block_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10405.275,-2508.0962C10430.363,-2486.9531 10472.6934,-2451.2787 10500.865,-2427.5368"/>
<polygon fill="#000000" stroke="#000000" points="10503.3724,-2430.0009 10508.7636,-2420.8802 10498.8614,-2424.6482 10503.3724,-2430.0009"/>
</g>
<!-- leaf_144 -->
<g id="node145" class="node">
<title>leaf_144</title>
<polygon fill="none" stroke="#c0c0c0" points="10740,-2185.9044 10353,-2185.9044 10353,-2115.3037 10740,-2115.3037 10740,-2185.9044"/>
<text text-anchor="middle" x="10546.5" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000">If preceded by at least one blank line,</text>
<text text-anchor="middle" x="10546.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000">make a new block, otherwise append to existing block.</text>
</g>
<!-- block_143&#45;&gt;leaf_144 -->
<g id="edge144" class="edge">
<title>block_143&#45;&gt;leaf_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10530.7226,-2385.2236C10533.3601,-2346.0025 10539.6518,-2252.4409 10543.445,-2196.0331"/>
<polygon fill="#000000" stroke="#000000" points="10546.9439,-2196.1667 10544.1228,-2185.9544 10539.9596,-2195.697 10546.9439,-2196.1667"/>
</g>
<!-- leaf_148 -->
<g id="node149" class="node">
<title>leaf_148</title>
<polygon fill="none" stroke="#c0c0c0" points="11147.5,-2430.7048 10613.5,-2430.7048 10613.5,-2376.104 11147.5,-2376.104 11147.5,-2430.7048"/>
<text text-anchor="middle" x="10880.5" y="-2399.6044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;This is a kludgy thing we&#39;re going to do to remove &#39;blocks&#39; once they&#39;ve</text>
<text text-anchor="middle" x="10880.5" y="-2384.2044" font-family="Inconsolata" font-size="14.00" fill="#000000">become either codeblocks or prose.</text>
</g>
<!-- block_146&#45;&gt;leaf_148 -->
<g id="edge148" class="edge">
<title>block_146&#45;&gt;leaf_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10880.5,-2507.5734C10880.5,-2490.1501 10880.5,-2463.2197 10880.5,-2441.1061"/>
<polygon fill="#000000" stroke="#000000" points="10884.0001,-2441.019 10880.5,-2431.019 10877.0001,-2441.019 10884.0001,-2441.019"/>
</g>
<!-- codeblock_149 -->
<g id="node150" class="node">
<title>codeblock_149</title>
<ellipse fill="none" stroke="#000000" cx="11252.5" cy="-2403.4044" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11252.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 369&#45;380</text>
</g>
<!-- block_147&#45;&gt;codeblock_149 -->
<g id="edge149" class="edge">
<title>block_147&#45;&gt;codeblock_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11252.5,-2507.5734C11252.5,-2487.538 11252.5,-2454.9314 11252.5,-2431.5336"/>
<polygon fill="#000000" stroke="#000000" points="11256.0001,-2431.5094 11252.5,-2421.5094 11249.0001,-2431.5095 11256.0001,-2431.5094"/>
</g>
<!-- leaf_151 -->
<g id="node152" class="node">
<title>leaf_151</title>
<polygon fill="none" stroke="#c0c0c0" points="11411.5,-2421.4044 11357.5,-2421.4044 11357.5,-2385.4044 11411.5,-2385.4044 11411.5,-2421.4044"/>
</g>
<!-- block_147&#45;&gt;leaf_151 -->
<g id="edge151" class="edge">
<title>block_147&#45;&gt;leaf_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11279.121,-2509.1235C11299.4469,-2495.7898 11327.4494,-2475.7443 11348.5,-2454.2045 11355.4909,-2447.0511 11362.1313,-2438.4321 11367.7613,-2430.3414"/>
<polygon fill="#000000" stroke="#000000" points="11370.7829,-2432.1196 11373.4426,-2421.864 11364.968,-2428.2226 11370.7829,-2432.1196"/>
</g>
<!-- leaf_150 -->
<g id="node151" class="node">
<title>leaf_150</title>
<polygon fill="none" stroke="#c0c0c0" points="11425,-2231.6043 11080,-2231.6043 11080,-2069.6037 11425,-2069.6037 11425,-2231.6043"/>
<text text-anchor="middle" x="11252.5" y="-2216.4042" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.weed(section)</text>
<text text-anchor="middle" x="11252.5" y="-2201.0042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i, v in ipairs(section) do</text>
<text text-anchor="middle" x="11252.5" y="-2185.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if v.id == &quot;block&quot; then</text>
<text text-anchor="middle" x="11252.5" y="-2170.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if v[1] and v[1].id == &quot;codeblock&quot; </text>
<text text-anchor="middle" x="11252.5" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;or v[1].id == &quot;prose&quot; then</text>
<text text-anchor="middle" x="11252.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[i] = v[1] &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="middle" x="11252.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11252.5" y="-2108.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11252.5" y="-2093.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11252.5" y="-2077.8039" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_149&#45;&gt;leaf_150 -->
<g id="edge150" class="edge">
<title>codeblock_149&#45;&gt;leaf_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11252.5,-2385.2236C11252.5,-2355.3902 11252.5,-2294.1163 11252.5,-2241.6683"/>
<polygon fill="#000000" stroke="#000000" points="11256.0001,-2241.6483 11252.5,-2231.6484 11249.0001,-2241.6484 11256.0001,-2241.6483"/>
</g>
<!-- leaf_157 -->
<g id="node158" class="node">
<title>leaf_157</title>
<polygon fill="none" stroke="#c0c0c0" points="11865.5,-2423.3065 11429.5,-2423.3065 11429.5,-2383.5023 11865.5,-2383.5023 11865.5,-2423.3065"/>
<text text-anchor="middle" x="11647.5" y="-2391.9044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Creates a new section, given a header and the line number.</text>
</g>
<!-- block_153&#45;&gt;leaf_157 -->
<g id="edge157" class="edge">
<title>block_153&#45;&gt;leaf_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11949.1127,-2509.7906C11935.8163,-2503.3539 11920.0585,-2496.0661 11905.5,-2490.2045 11845.0618,-2465.8704 11774.8948,-2442.5722 11723.0057,-2426.2514"/>
<polygon fill="#000000" stroke="#000000" points="11723.7974,-2422.8318 11713.2084,-2423.1843 11721.7061,-2429.5121 11723.7974,-2422.8318"/>
</g>
<!-- leaf_158 -->
<g id="node159" class="node">
<title>leaf_158</title>
<polygon fill="none" stroke="#c0c0c0" points="12375.5,-2438.0057 11883.5,-2438.0057 11883.5,-2368.8031 12375.5,-2368.8031 12375.5,-2438.0057"/>
<text text-anchor="middle" x="12129.5" y="-2423.0045" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; header : &#160;Header for the section, which may be of type Header or </text>
<text text-anchor="middle" x="12129.5" y="-2407.6044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;a number. &#160;A number means the header is virtual.</text>
<text text-anchor="middle" x="12129.5" y="-2392.2044" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; linum &#160;: &#160;The line number of the header, which is the first of the</text>
<text text-anchor="middle" x="12129.5" y="-2376.8044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Section.</text>
</g>
<!-- block_154&#45;&gt;leaf_158 -->
<g id="edge158" class="edge">
<title>block_154&#45;&gt;leaf_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12129.5,-2507.5734C12129.5,-2492.0116 12129.5,-2468.8657 12129.5,-2448.3415"/>
<polygon fill="#000000" stroke="#000000" points="12133.0001,-2448.2125 12129.5,-2438.2125 12126.0001,-2448.2126 12133.0001,-2448.2125"/>
</g>
<!-- leaf_159 -->
<g id="node160" class="node">
<title>leaf_159</title>
<polygon fill="none" stroke="#c0c0c0" points="12605.5,-2421.4044 12393.5,-2421.4044 12393.5,-2385.4044 12605.5,-2385.4044 12605.5,-2421.4044"/>
<text text-anchor="middle" x="12499.5" y="-2399.9044" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; return : &#160;The new Section.</text>
</g>
<!-- block_155&#45;&gt;leaf_159 -->
<g id="edge159" class="edge">
<title>block_155&#45;&gt;leaf_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12405.2603,-2508.0962C12423.834,-2487.4625 12454.8656,-2452.9892 12476.2138,-2429.2732"/>
<polygon fill="#000000" stroke="#000000" points="12478.9614,-2431.4523 12483.0505,-2421.6783 12473.7588,-2426.7691 12478.9614,-2431.4523"/>
</g>
<!-- codeblock_160 -->
<g id="node161" class="node">
<title>codeblock_160</title>
<ellipse fill="none" stroke="#000000" cx="12710.5" cy="-2403.4044" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12710.5" y="-2399.2044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 394&#45;416</text>
</g>
<!-- block_156&#45;&gt;codeblock_160 -->
<g id="edge160" class="edge">
<title>block_156&#45;&gt;codeblock_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12710.5,-2507.5734C12710.5,-2487.538 12710.5,-2454.9314 12710.5,-2431.5336"/>
<polygon fill="#000000" stroke="#000000" points="12714.0001,-2431.5094 12710.5,-2421.5094 12707.0001,-2431.5095 12714.0001,-2431.5094"/>
</g>
<!-- leaf_162 -->
<g id="node163" class="node">
<title>leaf_162</title>
<polygon fill="none" stroke="#c0c0c0" points="12869.5,-2421.4044 12815.5,-2421.4044 12815.5,-2385.4044 12869.5,-2385.4044 12869.5,-2421.4044"/>
</g>
<!-- block_156&#45;&gt;leaf_162 -->
<g id="edge162" class="edge">
<title>block_156&#45;&gt;leaf_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12737.121,-2509.1235C12757.4469,-2495.7898 12785.4494,-2475.7443 12806.5,-2454.2045 12813.4909,-2447.0511 12820.1313,-2438.4321 12825.7613,-2430.3414"/>
<polygon fill="#000000" stroke="#000000" points="12828.7829,-2432.1196 12831.4426,-2421.864 12822.968,-2428.2226 12828.7829,-2432.1196"/>
</g>
<!-- leaf_161 -->
<g id="node162" class="node">
<title>leaf_161</title>
<polygon fill="none" stroke="#c0c0c0" points="12911,-2316.6047 12510,-2316.6047 12510,-1984.6034 12911,-1984.6034 12911,-2316.6047"/>
<text text-anchor="middle" x="12710.5" y="-2301.4043" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Section, header, linum, first, last)</text>
<text text-anchor="middle" x="12710.5" y="-2286.0043" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local section = setmetatable({}, S)</text>
<text text-anchor="middle" x="12710.5" y="-2270.6043" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if type(header) == &quot;number&quot; then</text>
<text text-anchor="middle" x="12710.5" y="-2255.2042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; We have a virtual header</text>
<text text-anchor="middle" x="12710.5" y="-2239.8042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;status:verb(&quot;creating virtual header&quot;)</text>
<text text-anchor="middle" x="12710.5" y="-2224.4042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[1] = Header(&quot;&quot;, header)</text>
<text text-anchor="middle" x="12710.5" y="-2209.0042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.header = nil</text>
<text text-anchor="middle" x="12710.5" y="-2193.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.level = header</text>
<text text-anchor="middle" x="12710.5" y="-2178.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="12710.5" y="-2162.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[1] = header</text>
<text text-anchor="middle" x="12710.5" y="-2147.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.header = header</text>
<text text-anchor="middle" x="12710.5" y="-2132.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.level = header.level</text>
<text text-anchor="middle" x="12710.5" y="-2116.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="12710.5" y="-2101.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.first = first</text>
<text text-anchor="middle" x="12710.5" y="-2085.8039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.last = last</text>
<text text-anchor="middle" x="12710.5" y="-2070.4039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.line_first = linum</text>
<text text-anchor="middle" x="12710.5" y="-2055.0038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.lines = {}</text>
<text text-anchor="middle" x="12710.5" y="-2039.6038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="12710.5" y="-2024.2038" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="12710.5" y="-1992.8037" font-family="Inconsolata" font-size="14.00" fill="#000000">return u.export(s, new)</text>
</g>
<!-- codeblock_160&#45;&gt;leaf_161 -->
<g id="edge161" class="edge">
<title>codeblock_160&#45;&gt;leaf_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12710.5,-2385.2236C12710.5,-2371.3055 12710.5,-2350.5445 12710.5,-2327.0292"/>
<polygon fill="#000000" stroke="#000000" points="12714.0001,-2326.7944 12710.5,-2316.7944 12707.0001,-2326.7945 12714.0001,-2326.7944"/>
</g>
</g>
</svg>