<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="12018pt" height="2689pt"
 viewBox="0.00 0.00 12017.50 2688.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2684.6043)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2684.6043 12013.5,-2684.6043 12013.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1741.5" cy="-2662.6043" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1741.5" y="-2658.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 394</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1741.5" cy="-2590.6043" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1741.5" y="-2586.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;361</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1741.5,-2644.4357C1741.5,-2636.7353 1741.5,-2627.5787 1741.5,-2619.021"/>
<polygon fill="#000000" stroke="#000000" points="1745.0001,-2619.0176 1741.5,-2609.0176 1738.0001,-2619.0176 1745.0001,-2619.0176"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1075.5" cy="-2518.6043" rx="93.3745" ry="18"/>
<text text-anchor="middle" x="1075.5" y="-2514.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Section metatable</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1677.4506,-2586.1329C1572.6375,-2578.4433 1358.0606,-2561.1408 1177.5,-2536.6043 1169.3036,-2535.4905 1160.7595,-2534.1958 1152.2572,-2532.8212"/>
<polygon fill="#000000" stroke="#000000" points="1152.7561,-2529.3562 1142.3189,-2531.1768 1151.6134,-2536.2623 1152.7561,-2529.3562"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="1232.5" cy="-2518.6043" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="1232.5" y="-2514.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;6</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1676.9223,-2586.9557C1588.2733,-2581.0356 1424.3012,-2566.8134 1287.5,-2536.6043 1283.8517,-2535.7987 1280.1027,-2534.8473 1276.3593,-2533.8095"/>
<polygon fill="#000000" stroke="#000000" points="1277.1186,-2530.3841 1266.5363,-2530.9012 1275.1313,-2537.0961 1277.1186,-2530.3841"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="1342.5" cy="-2518.6043" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="1342.5" y="-2514.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 7&#45;9</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1680.3346,-2584.0115C1611.0954,-2575.8551 1495.2183,-2560.1034 1397.5,-2536.6043 1393.8673,-2535.7308 1390.1295,-2534.7312 1386.3937,-2533.6606"/>
<polygon fill="#000000" stroke="#000000" points="1387.1679,-2530.2384 1376.583,-2530.6987 1385.1447,-2536.9396 1387.1679,-2530.2384"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="1462.5" cy="-2518.6043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1462.5" y="-2514.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 10&#45;12</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1692.5464,-2578.5911C1649.118,-2567.8528 1583.99,-2551.5512 1527.5,-2536.6043 1523.2462,-2535.4788 1518.8407,-2534.2959 1514.4196,-2533.0966"/>
<polygon fill="#000000" stroke="#000000" points="1515.338,-2529.7193 1504.7691,-2530.4612 1513.4938,-2536.472 1515.338,-2529.7193"/>
</g>
<!-- block_6 -->
<g id="node7" class="node">
<title>block_6</title>
<ellipse fill="none" stroke="#000000" cx="1597.5" cy="-2518.6043" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="1597.5" y="-2514.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 13&#45;361</text>
</g>
<!-- section_1&#45;&gt;block_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;block_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1709.8986,-2574.8036C1688.6512,-2564.1799 1660.4639,-2550.0863 1637.6324,-2538.6706"/>
<polygon fill="#000000" stroke="#000000" points="1639.0421,-2535.4623 1628.5326,-2534.1206 1635.9116,-2541.7233 1639.0421,-2535.4623"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="1741.5" cy="-2518.6043" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1741.5" y="-2514.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 16&#45;21</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1741.5,-2572.4357C1741.5,-2564.7353 1741.5,-2555.5787 1741.5,-2547.021"/>
<polygon fill="#000000" stroke="#000000" points="1745.0001,-2547.0176 1741.5,-2537.0176 1738.0001,-2547.0176 1745.0001,-2547.0176"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="1935.5" cy="-2518.6043" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1935.5" y="-2514.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 22&#45;29</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1780.7588,-2576.0341C1811.3929,-2564.6647 1854.1077,-2548.8118 1886.8998,-2536.6415"/>
<polygon fill="#000000" stroke="#000000" points="1888.1423,-2539.9138 1896.2996,-2533.1529 1885.7066,-2533.3511 1888.1423,-2539.9138"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="2561.5" cy="-2518.6043" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2561.5" y="-2514.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 46&#45;79</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1804.144,-2585.1039C1953.4295,-2571.9959 2329.5458,-2538.9711 2488.6358,-2525.0022"/>
<polygon fill="#000000" stroke="#000000" points="2489.1407,-2528.4714 2498.7962,-2524.11 2488.5284,-2521.4982 2489.1407,-2528.4714"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="4881.5" cy="-2518.6043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4881.5" y="-2514.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 125&#45;166</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1807.0834,-2589.1005C2209.3542,-2579.8765 4340.7494,-2531.0037 4795.9275,-2520.5665"/>
<polygon fill="#000000" stroke="#000000" points="4796.1301,-2524.0629 4806.0472,-2520.3345 4795.9696,-2517.0647 4796.1301,-2524.0629"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="9666.5" cy="-2518.6043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9666.5" y="-2514.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 204&#45;217</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1807.337,-2590.0062C2518.8229,-2583.5422 8773.1122,-2526.7209 9580.7271,-2519.3836"/>
<polygon fill="#000000" stroke="#000000" points="9580.8536,-2522.8827 9590.8213,-2519.2919 9580.7899,-2515.883 9580.8536,-2522.8827"/>
</g>
<!-- section_12 -->
<g id="node13" class="node">
<title>section_12</title>
<ellipse fill="none" stroke="#000000" cx="11130.5" cy="-2518.6043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11130.5" y="-2514.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 362&#45;394</text>
</g>
<!-- section_1&#45;&gt;section_12 -->
<g id="edge12" class="edge">
<title>section_1&#45;&gt;section_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1807.4048,-2590.3188C2371.3833,-2587.8423 6444.7884,-2569.3072 9750.5,-2536.6043 10240.475,-2531.7571 10828.2715,-2523.1675 11044.9234,-2519.908"/>
<polygon fill="#000000" stroke="#000000" points="11045.0117,-2523.4071 11054.9578,-2519.7568 11044.9062,-2516.4079 11045.0117,-2523.4071"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="582.5" cy="-2446.6043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="582.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_3&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>block_3&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1198.7905,-2506.2475C1191.828,-2504.0715 1184.4863,-2502.0453 1177.5,-2500.6043 973.3866,-2458.5061 723.1416,-2449.226 624.921,-2447.1815"/>
<polygon fill="#000000" stroke="#000000" points="624.8653,-2443.6799 614.7994,-2446.9856 624.7298,-2450.6786 624.8653,-2443.6799"/>
</g>
<!-- prose_15 -->
<g id="node16" class="node">
<title>prose_15</title>
<ellipse fill="none" stroke="#000000" cx="1034.5" cy="-2446.6043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1034.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_4&#45;&gt;prose_15 -->
<g id="edge15" class="edge">
<title>block_4&#45;&gt;prose_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1307.7529,-2506.6164C1301.0692,-2504.4858 1294.0965,-2502.3824 1287.5,-2500.6043 1213.4593,-2480.6473 1125.6428,-2463.2908 1075.3601,-2453.9431"/>
<polygon fill="#000000" stroke="#000000" points="1075.9881,-2450.5 1065.5189,-2452.127 1074.7176,-2457.3837 1075.9881,-2450.5"/>
</g>
<!-- prose_17 -->
<g id="node18" class="node">
<title>prose_17</title>
<ellipse fill="none" stroke="#000000" cx="1293.5" cy="-2446.6043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1293.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_5&#45;&gt;prose_17 -->
<g id="edge17" class="edge">
<title>block_5&#45;&gt;prose_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1428.7065,-2504.2071C1399.7149,-2491.8556 1358.0862,-2474.1204 1328.6962,-2461.5992"/>
<polygon fill="#000000" stroke="#000000" points="1329.806,-2458.2676 1319.2342,-2457.568 1327.0623,-2464.7075 1329.806,-2458.2676"/>
</g>
<!-- prose_19 -->
<g id="node20" class="node">
<title>prose_19</title>
<ellipse fill="none" stroke="#000000" cx="1531.5" cy="-2446.6043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1531.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_6&#45;&gt;prose_19 -->
<g id="edge19" class="edge">
<title>block_6&#45;&gt;prose_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1581.5232,-2501.1751C1573.0944,-2491.9801 1562.6253,-2480.5592 1553.4461,-2470.5456"/>
<polygon fill="#000000" stroke="#000000" points="1555.7622,-2467.8925 1546.4249,-2462.886 1550.6021,-2472.6226 1555.7622,-2467.8925"/>
</g>
<!-- header_21 -->
<g id="node22" class="node">
<title>header_21</title>
<ellipse fill="none" stroke="#000000" cx="1624.5" cy="-2446.6043" rx="43.082" ry="18"/>
<text text-anchor="middle" x="1624.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Array</text>
</g>
<!-- section_7&#45;&gt;header_21 -->
<g id="edge21" class="edge">
<title>section_7&#45;&gt;header_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1714.6578,-2502.0861C1697.7672,-2491.6918 1675.8379,-2478.1969 1657.8362,-2467.1189"/>
<polygon fill="#000000" stroke="#000000" points="1659.1789,-2463.8356 1648.8279,-2461.5754 1655.5102,-2469.7972 1659.1789,-2463.8356"/>
</g>
<!-- block_22 -->
<g id="node23" class="node">
<title>block_22</title>
<ellipse fill="none" stroke="#000000" cx="1741.5" cy="-2446.6043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1741.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 16&#45;21</text>
</g>
<!-- section_7&#45;&gt;block_22 -->
<g id="edge22" class="edge">
<title>section_7&#45;&gt;block_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1741.5,-2500.4357C1741.5,-2492.7353 1741.5,-2483.5787 1741.5,-2475.021"/>
<polygon fill="#000000" stroke="#000000" points="1745.0001,-2475.0176 1741.5,-2465.0176 1738.0001,-2475.0176 1745.0001,-2475.0176"/>
</g>
<!-- header_25 -->
<g id="node26" class="node">
<title>header_25</title>
<ellipse fill="none" stroke="#000000" cx="1861.5" cy="-2446.6043" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="1861.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Fields</text>
</g>
<!-- section_8&#45;&gt;header_25 -->
<g id="edge25" class="edge">
<title>section_8&#45;&gt;header_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1917.5867,-2501.1751C1908.0867,-2491.932 1896.2751,-2480.4396 1885.9448,-2470.3885"/>
<polygon fill="#000000" stroke="#000000" points="1888.3469,-2467.8423 1878.7388,-2463.3773 1883.4654,-2472.8594 1888.3469,-2467.8423"/>
</g>
<!-- block_26 -->
<g id="node27" class="node">
<title>block_26</title>
<ellipse fill="none" stroke="#000000" cx="1981.5" cy="-2446.6043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1981.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 22&#45;29</text>
</g>
<!-- section_8&#45;&gt;block_26 -->
<g id="edge26" class="edge">
<title>section_8&#45;&gt;block_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1946.8708,-2500.8066C1952.2338,-2492.4122 1958.7417,-2482.2261 1964.6615,-2472.9602"/>
<polygon fill="#000000" stroke="#000000" points="1967.6661,-2474.7582 1970.1006,-2464.4469 1961.7672,-2470.9895 1967.6661,-2474.7582"/>
</g>
<!-- section_27 -->
<g id="node28" class="node">
<title>section_27</title>
<ellipse fill="none" stroke="#000000" cx="2120.5" cy="-2446.6043" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2120.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 30&#45;45</text>
</g>
<!-- section_8&#45;&gt;section_27 -->
<g id="edge27" class="edge">
<title>section_8&#45;&gt;section_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1973.3839,-2503.8603C2002.1911,-2492.6489 2042.0087,-2477.1523 2072.9559,-2465.108"/>
<polygon fill="#000000" stroke="#000000" points="2074.6171,-2468.2173 2082.6667,-2461.3286 2072.0782,-2461.6939 2074.6171,-2468.2173"/>
</g>
<!-- header_37 -->
<g id="node38" class="node">
<title>header_37</title>
<ellipse fill="none" stroke="#000000" cx="2313.5" cy="-2446.6043" rx="108.8185" ry="18"/>
<text text-anchor="middle" x="2313.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Metatable for sections</text>
</g>
<!-- section_9&#45;&gt;header_37 -->
<g id="edge37" class="edge">
<title>section_9&#45;&gt;header_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2516.3013,-2505.4821C2477.3353,-2494.1694 2420.6425,-2477.7102 2377.0987,-2465.0685"/>
<polygon fill="#000000" stroke="#000000" points="2378.0373,-2461.6965 2367.458,-2462.2696 2376.0856,-2468.419 2378.0373,-2461.6965"/>
</g>
<!-- block_38 -->
<g id="node39" class="node">
<title>block_38</title>
<ellipse fill="none" stroke="#000000" cx="2496.5" cy="-2446.6043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2496.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 46&#45;47</text>
</g>
<!-- section_9&#45;&gt;block_38 -->
<g id="edge38" class="edge">
<title>section_9&#45;&gt;block_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2545.4326,-2500.8066C2537.4232,-2491.9347 2527.6069,-2481.0612 2518.8742,-2471.3881"/>
<polygon fill="#000000" stroke="#000000" points="2521.4573,-2469.0263 2512.1583,-2463.9489 2516.2614,-2473.717 2521.4573,-2469.0263"/>
</g>
<!-- block_39 -->
<g id="node40" class="node">
<title>block_39</title>
<ellipse fill="none" stroke="#000000" cx="2626.5" cy="-2446.6043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2626.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 48&#45;79</text>
</g>
<!-- section_9&#45;&gt;block_39 -->
<g id="edge39" class="edge">
<title>section_9&#45;&gt;block_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2577.5674,-2500.8066C2585.5768,-2491.9347 2595.3931,-2481.0612 2604.1258,-2471.3881"/>
<polygon fill="#000000" stroke="#000000" points="2606.7386,-2473.717 2610.8417,-2463.9489 2601.5427,-2469.0263 2606.7386,-2473.717"/>
</g>
<!-- section_40 -->
<g id="node41" class="node">
<title>section_40</title>
<ellipse fill="none" stroke="#000000" cx="2843.5" cy="-2446.6043" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2843.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 66&#45;79</text>
</g>
<!-- section_9&#45;&gt;section_40 -->
<g id="edge40" class="edge">
<title>section_9&#45;&gt;section_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2609.6571,-2506.3089C2658.2784,-2493.895 2733.4141,-2474.7114 2785.3336,-2461.4553"/>
<polygon fill="#000000" stroke="#000000" points="2786.2461,-2464.8347 2795.0695,-2458.9696 2784.5144,-2458.0523 2786.2461,-2464.8347"/>
</g>
<!-- section_41 -->
<g id="node42" class="node">
<title>section_41</title>
<ellipse fill="none" stroke="#000000" cx="3646.5" cy="-2446.6043" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3646.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 80&#45;102</text>
</g>
<!-- section_9&#45;&gt;section_41 -->
<g id="edge41" class="edge">
<title>section_9&#45;&gt;section_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2625.321,-2514.3692C2812.9388,-2501.919 3362.3939,-2465.4575 3567.809,-2451.8262"/>
<polygon fill="#000000" stroke="#000000" points="3568.1686,-2455.3102 3577.9148,-2451.1556 3567.705,-2448.3255 3568.1686,-2455.3102"/>
</g>
<!-- header_77 -->
<g id="node78" class="node">
<title>header_77</title>
<ellipse fill="none" stroke="#000000" cx="4464.5" cy="-2446.6043" rx="108.8358" ry="18"/>
<text text-anchor="middle" x="4464.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : addLine(section, line) </text>
</g>
<!-- section_10&#45;&gt;header_77 -->
<g id="edge77" class="edge">
<title>section_10&#45;&gt;header_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4819.9702,-2507.9805C4748.5998,-2495.6575 4630.4831,-2475.2633 4550.1639,-2461.3952"/>
<polygon fill="#000000" stroke="#000000" points="4550.5219,-2457.9053 4540.0722,-2459.6528 4549.3309,-2464.8033 4550.5219,-2457.9053"/>
</g>
<!-- block_78 -->
<g id="node79" class="node">
<title>block_78</title>
<ellipse fill="none" stroke="#000000" cx="4657.5" cy="-2446.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4657.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 125&#45;128</text>
</g>
<!-- section_10&#45;&gt;block_78 -->
<g id="edge78" class="edge">
<title>section_10&#45;&gt;block_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4836.4397,-2504.1207C4799.9665,-2492.3972 4748.5334,-2475.8651 4710.1635,-2463.5319"/>
<polygon fill="#000000" stroke="#000000" points="4710.8013,-2460.0606 4700.21,-2460.3326 4708.6592,-2466.7248 4710.8013,-2460.0606"/>
</g>
<!-- block_79 -->
<g id="node80" class="node">
<title>block_79</title>
<ellipse fill="none" stroke="#000000" cx="4806.5" cy="-2446.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4806.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 129&#45;135</text>
</g>
<!-- section_10&#45;&gt;block_79 -->
<g id="edge79" class="edge">
<title>section_10&#45;&gt;block_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4862.9607,-2500.8066C4853.6276,-2491.8468 4842.1681,-2480.8457 4832.0175,-2471.1011"/>
<polygon fill="#000000" stroke="#000000" points="4834.205,-2468.3494 4824.5673,-2463.9489 4829.3573,-2473.3991 4834.205,-2468.3494"/>
</g>
<!-- block_80 -->
<g id="node81" class="node">
<title>block_80</title>
<ellipse fill="none" stroke="#000000" cx="4955.5" cy="-2446.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4955.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 136&#45;137</text>
</g>
<!-- section_10&#45;&gt;block_80 -->
<g id="edge80" class="edge">
<title>section_10&#45;&gt;block_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4899.7921,-2500.8066C4909.0008,-2491.8468 4920.3075,-2480.8457 4930.3228,-2471.1011"/>
<polygon fill="#000000" stroke="#000000" points="4932.9471,-2473.4311 4937.6736,-2463.9489 4928.0656,-2468.4139 4932.9471,-2473.4311"/>
</g>
<!-- block_81 -->
<g id="node82" class="node">
<title>block_81</title>
<ellipse fill="none" stroke="#000000" cx="5104.5" cy="-2446.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5104.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 138&#45;166</text>
</g>
<!-- section_10&#45;&gt;block_81 -->
<g id="edge81" class="edge">
<title>section_10&#45;&gt;block_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4926.3591,-2504.1207C4962.6695,-2492.3972 5013.873,-2475.8651 5052.0716,-2463.5319"/>
<polygon fill="#000000" stroke="#000000" points="5053.5398,-2466.7358 5061.9807,-2460.3326 5051.389,-2460.0744 5053.5398,-2466.7358"/>
</g>
<!-- section_82 -->
<g id="node83" class="node">
<title>section_82</title>
<ellipse fill="none" stroke="#000000" cx="5708.5" cy="-2446.6043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5708.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 146&#45;166</text>
</g>
<!-- section_10&#45;&gt;section_82 -->
<g id="edge82" class="edge">
<title>section_10&#45;&gt;section_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4952.7253,-2512.4033C5105.7897,-2499.0773 5465.2935,-2467.7783 5627.0802,-2453.6929"/>
<polygon fill="#000000" stroke="#000000" points="5627.7878,-2457.1446 5637.4466,-2452.7904 5627.1806,-2450.171 5627.7878,-2457.1446"/>
</g>
<!-- section_83 -->
<g id="node84" class="node">
<title>section_83</title>
<ellipse fill="none" stroke="#000000" cx="7421.5" cy="-2446.6043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7421.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 167&#45;241</text>
</g>
<!-- section_10&#45;&gt;section_83 -->
<g id="edge83" class="edge">
<title>section_10&#45;&gt;section_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4956.4846,-2516.4788C5325.3047,-2506.024 6944.8272,-2460.1163 7336.1595,-2449.0234"/>
<polygon fill="#000000" stroke="#000000" points="7336.3811,-2452.5187 7346.2779,-2448.7366 7336.1827,-2445.5215 7336.3811,-2452.5187"/>
</g>
<!-- header_153 -->
<g id="node154" class="node">
<title>header_153</title>
<ellipse fill="none" stroke="#000000" cx="9452.5" cy="-2446.6043" rx="55.6456" ry="18"/>
<text text-anchor="middle" x="9452.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Blocking</text>
</g>
<!-- section_11&#45;&gt;header_153 -->
<g id="edge153" class="edge">
<title>section_11&#45;&gt;header_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9622.6775,-2503.8603C9587.357,-2491.9768 9537.7273,-2475.279 9501.1746,-2462.9808"/>
<polygon fill="#000000" stroke="#000000" points="9501.8285,-2459.5081 9491.2344,-2459.6365 9499.5962,-2466.1427 9501.8285,-2459.5081"/>
</g>
<!-- block_154 -->
<g id="node155" class="node">
<title>block_154</title>
<ellipse fill="none" stroke="#000000" cx="9591.5" cy="-2446.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9591.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 204&#45;207</text>
</g>
<!-- section_11&#45;&gt;block_154 -->
<g id="edge154" class="edge">
<title>section_11&#45;&gt;block_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9647.9607,-2500.8066C9638.6276,-2491.8468 9627.1681,-2480.8457 9617.0175,-2471.1011"/>
<polygon fill="#000000" stroke="#000000" points="9619.205,-2468.3494 9609.5673,-2463.9489 9614.3573,-2473.3991 9619.205,-2468.3494"/>
</g>
<!-- block_155 -->
<g id="node156" class="node">
<title>block_155</title>
<ellipse fill="none" stroke="#000000" cx="9740.5" cy="-2446.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9740.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 208&#45;210</text>
</g>
<!-- section_11&#45;&gt;block_155 -->
<g id="edge155" class="edge">
<title>section_11&#45;&gt;block_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9684.7921,-2500.8066C9694.0008,-2491.8468 9705.3075,-2480.8457 9715.3228,-2471.1011"/>
<polygon fill="#000000" stroke="#000000" points="9717.9471,-2473.4311 9722.6736,-2463.9489 9713.0656,-2468.4139 9717.9471,-2473.4311"/>
</g>
<!-- block_156 -->
<g id="node157" class="node">
<title>block_156</title>
<ellipse fill="none" stroke="#000000" cx="10020.5" cy="-2446.6043" rx="65.0229" ry="18"/>
<text text-anchor="middle" x="10020.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 211&#45;217</text>
</g>
<!-- section_11&#45;&gt;block_156 -->
<g id="edge156" class="edge">
<title>section_11&#45;&gt;block_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9724.1641,-2506.876C9788.4555,-2493.7998 9892.0656,-2472.7266 9958.1836,-2459.2789"/>
<polygon fill="#000000" stroke="#000000" points="9958.9575,-2462.6932 9968.0592,-2457.2703 9957.5622,-2455.8337 9958.9575,-2462.6932"/>
</g>
<!-- section_157 -->
<g id="node158" class="node">
<title>section_157</title>
<ellipse fill="none" stroke="#000000" cx="10244.5" cy="-2446.6043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10244.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 218&#45;223</text>
</g>
<!-- section_11&#45;&gt;section_157 -->
<g id="edge157" class="edge">
<title>section_11&#45;&gt;section_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9733.6516,-2510.2394C9841.6492,-2496.7864 10053.3347,-2470.4173 10167.3657,-2456.2128"/>
<polygon fill="#000000" stroke="#000000" points="10167.9274,-2459.6699 10177.4181,-2454.9606 10167.0621,-2452.7236 10167.9274,-2459.6699"/>
</g>
<!-- header_168 -->
<g id="node169" class="node">
<title>header_168</title>
<ellipse fill="none" stroke="#000000" cx="10861.5" cy="-2446.6043" rx="110.7653" ry="18"/>
<text text-anchor="middle" x="10861.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Section(header, linum)</text>
</g>
<!-- section_12&#45;&gt;header_168 -->
<g id="edge168" class="edge">
<title>section_12&#45;&gt;header_168</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11080.2187,-2505.1462C11037.628,-2493.7464 10976.1847,-2477.3006 10929.2594,-2464.7407"/>
<polygon fill="#000000" stroke="#000000" points="10930.0433,-2461.3274 10919.4784,-2462.1227 10928.2334,-2468.0893 10930.0433,-2461.3274"/>
</g>
<!-- block_169 -->
<g id="node170" class="node">
<title>block_169</title>
<ellipse fill="none" stroke="#000000" cx="11056.5" cy="-2446.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="11056.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 362&#45;365</text>
</g>
<!-- section_12&#45;&gt;block_169 -->
<g id="edge169" class="edge">
<title>section_12&#45;&gt;block_169</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11112.2079,-2500.8066C11102.9992,-2491.8468 11091.6925,-2480.8457 11081.6772,-2471.1011"/>
<polygon fill="#000000" stroke="#000000" points="11083.9344,-2468.4139 11074.3264,-2463.9489 11079.0529,-2473.4311 11083.9344,-2468.4139"/>
</g>
<!-- block_170 -->
<g id="node171" class="node">
<title>block_170</title>
<ellipse fill="none" stroke="#000000" cx="11205.5" cy="-2446.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="11205.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 366&#45;370</text>
</g>
<!-- section_12&#45;&gt;block_170 -->
<g id="edge170" class="edge">
<title>section_12&#45;&gt;block_170</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11149.0393,-2500.8066C11158.3724,-2491.8468 11169.8319,-2480.8457 11179.9825,-2471.1011"/>
<polygon fill="#000000" stroke="#000000" points="11182.6427,-2473.3991 11187.4327,-2463.9489 11177.795,-2468.3494 11182.6427,-2473.3991"/>
</g>
<!-- block_171 -->
<g id="node172" class="node">
<title>block_171</title>
<ellipse fill="none" stroke="#000000" cx="11464.5" cy="-2446.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="11464.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 371&#45;372</text>
</g>
<!-- section_12&#45;&gt;block_171 -->
<g id="edge171" class="edge">
<title>section_12&#45;&gt;block_171</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11186.7809,-2506.4719C11246.5699,-2493.5833 11340.819,-2473.2661 11402.6495,-2459.9374"/>
<polygon fill="#000000" stroke="#000000" points="11403.625,-2463.3076 11412.6629,-2457.7788 11402.1499,-2456.4648 11403.625,-2463.3076"/>
</g>
<!-- block_172 -->
<g id="node173" class="node">
<title>block_172</title>
<ellipse fill="none" stroke="#000000" cx="11733.5" cy="-2446.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="11733.5" y="-2442.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 373&#45;394</text>
</g>
<!-- section_12&#45;&gt;block_172 -->
<g id="edge172" class="edge">
<title>section_12&#45;&gt;block_172</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11198.2078,-2510.5198C11313.1895,-2496.7907 11545.5128,-2469.0506 11662.6161,-2455.0681"/>
<polygon fill="#000000" stroke="#000000" points="11663.3833,-2458.5014 11672.8978,-2453.8404 11662.5533,-2451.5508 11663.3833,-2458.5014"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="457,-2392.5047 0,-2392.5047 0,-2321.904 457,-2321.904 457,-2392.5047"/>
<text text-anchor="middle" x="228.5" y="-2345.4043" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Sections consist of a header and body. &#160;The body may contain</text>
<text text-anchor="middle" x="228.5" y="-2330.0043" font-family="Inconsolata" font-size="14.00" fill="#000000"> one or more blocks, followed by zero or more child sections.</text>
</g>
<!-- prose_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>prose_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M552.927,-2439.1359C514.2817,-2429.3763 443.8086,-2411.5789 378.3945,-2395.059"/>
<polygon fill="#000000" stroke="#000000" points="378.9181,-2391.5814 368.3655,-2392.5263 377.2041,-2398.3684 378.9181,-2391.5814"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="918,-2376.5049 475,-2376.5049 475,-2337.9037 918,-2337.9037 918,-2376.5049"/>
<text text-anchor="middle" x="696.5" y="-2361.4043" font-family="Inconsolata" font-size="14.00" fill="#000000"> The header and block may both be virtual, but will always be</text>
<text text-anchor="middle" x="696.5" y="-2346.0043" font-family="Inconsolata" font-size="14.00" fill="#000000"> present.</text>
</g>
<!-- prose_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>prose_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1005.096,-2438.8271C955.2937,-2425.6545 852.6281,-2398.4997 779.3958,-2379.13"/>
<polygon fill="#000000" stroke="#000000" points="780.2799,-2375.7436 769.7173,-2376.5701 778.4899,-2382.5108 780.2799,-2375.7436"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1330.5,-2376.5049 936.5,-2376.5049 936.5,-2337.9037 1330.5,-2337.9037 1330.5,-2376.5049"/>
<text text-anchor="middle" x="1133.5" y="-2361.4043" font-family="Inconsolata" font-size="14.00" fill="#000000"> In the first pass, we fill a lines array with the raw</text>
<text text-anchor="middle" x="1133.5" y="-2346.0043" font-family="Inconsolata" font-size="14.00" fill="#000000"> contents of the section. </text>
</g>
<!-- prose_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>prose_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1270.5759,-2433.7955C1246.3004,-2420.2315 1207.3945,-2398.4929 1177.2227,-2381.6344"/>
<polygon fill="#000000" stroke="#000000" points="1178.6022,-2378.3959 1168.1653,-2376.5735 1175.1878,-2384.5067 1178.6022,-2378.3959"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1722,-2377.1064 1349,-2377.1064 1349,-2337.3022 1722,-2337.3022 1722,-2377.1064"/>
<text text-anchor="middle" x="1535.5" y="-2361.7043" font-family="Inconsolata" font-size="14.00" fill="#000000"> This is subsequently refined into various blocks. </text>
</g>
<!-- prose_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>prose_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1532.3095,-2428.5129C1532.8354,-2416.7573 1533.5341,-2401.1412 1534.1436,-2387.5199"/>
<polygon fill="#000000" stroke="#000000" points="1537.6577,-2387.2818 1534.6082,-2377.1353 1530.6647,-2386.9688 1537.6577,-2387.2818"/>
</g>
<!-- prose_23 -->
<g id="node24" class="node">
<title>prose_23</title>
<ellipse fill="none" stroke="#000000" cx="1772.5" cy="-2357.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1772.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_22&#45;&gt;prose_23 -->
<g id="edge23" class="edge">
<title>block_22&#45;&gt;prose_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1747.7733,-2428.5129C1752.1297,-2415.9497 1758.0149,-2398.9774 1762.9509,-2384.7428"/>
<polygon fill="#000000" stroke="#000000" points="1766.3724,-2385.5585 1766.3418,-2374.9637 1759.7587,-2383.2652 1766.3724,-2385.5585"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1561.5,-2170.5043 1083.5,-2170.5043 1083.5,-2099.9037 1561.5,-2099.9037 1561.5,-2170.5043"/>
<text text-anchor="middle" x="1322.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;The array portion of a section starts at [1] with a header. The</text>
<text text-anchor="middle" x="1322.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> rest consists, optionally, of nodes of types Block and Section.</text>
</g>
<!-- prose_23&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>prose_23&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1757.0563,-2341.0742C1749.631,-2334.1873 1740.2373,-2326.6386 1730.5,-2321.8043 1665.2144,-2289.3916 1638.0935,-2313.0788 1570.5,-2285.8043 1500.4333,-2257.5318 1427.3354,-2210.6893 1378.812,-2176.7436"/>
<polygon fill="#000000" stroke="#000000" points="1380.5338,-2173.6752 1370.3435,-2170.7755 1376.5013,-2179.3971 1380.5338,-2173.6752"/>
</g>
<!-- prose_28 -->
<g id="node29" class="node">
<title>prose_28</title>
<ellipse fill="none" stroke="#000000" cx="1871.5" cy="-2357.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1871.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_26&#45;&gt;prose_28 -->
<g id="edge28" class="edge">
<title>block_26&#45;&gt;prose_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1960.8098,-2429.7889C1942.9484,-2415.2724 1917.049,-2394.2232 1897.7353,-2378.5264"/>
<polygon fill="#000000" stroke="#000000" points="1899.8715,-2375.7525 1889.9038,-2372.1616 1895.4566,-2381.1847 1899.8715,-2375.7525"/>
</g>
<!-- header_30 -->
<g id="node31" class="node">
<title>header_30</title>
<ellipse fill="none" stroke="#000000" cx="1986.5" cy="-2357.2043" rx="55.1697" ry="18"/>
<text text-anchor="middle" x="1986.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Includes</text>
</g>
<!-- section_27&#45;&gt;header_30 -->
<g id="edge30" class="edge">
<title>section_27&#45;&gt;header_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2095.2956,-2429.7889C2073.918,-2415.5265 2043.0884,-2394.9581 2019.702,-2379.3555"/>
<polygon fill="#000000" stroke="#000000" points="2021.3997,-2376.2807 2011.1386,-2373.6423 2017.5148,-2382.1037 2021.3997,-2376.2807"/>
</g>
<!-- block_31 -->
<g id="node32" class="node">
<title>block_31</title>
<ellipse fill="none" stroke="#000000" cx="2115.5" cy="-2357.2043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2115.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 30&#45;31</text>
</g>
<!-- section_27&#45;&gt;block_31 -->
<g id="edge31" class="edge">
<title>section_27&#45;&gt;block_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2119.4882,-2428.5129C2118.7969,-2416.153 2117.867,-2399.5256 2117.0789,-2385.4359"/>
<polygon fill="#000000" stroke="#000000" points="2120.5634,-2385.0578 2116.5103,-2375.2688 2113.5743,-2385.4487 2120.5634,-2385.0578"/>
</g>
<!-- block_32 -->
<g id="node33" class="node">
<title>block_32</title>
<ellipse fill="none" stroke="#000000" cx="2245.5" cy="-2357.2043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2245.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 32&#45;45</text>
</g>
<!-- section_27&#45;&gt;block_32 -->
<g id="edge32" class="edge">
<title>section_27&#45;&gt;block_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2144.0115,-2429.7889C2163.8655,-2415.5893 2192.4591,-2395.1392 2214.2392,-2379.562"/>
<polygon fill="#000000" stroke="#000000" points="2216.4184,-2382.3065 2222.5162,-2373.6423 2212.3463,-2376.6128 2216.4184,-2382.3065"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="2065,-2185.8049 1580,-2185.8049 1580,-2084.6031 2065,-2084.6031 2065,-2185.8049"/>
<text text-anchor="middle" x="1822.5" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; header : The header for the section.</text>
<text text-anchor="middle" x="1822.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; level : The header level, lifted from the header for ease of use</text>
<text text-anchor="middle" x="1822.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; lines : An array of the lines owned by the section. Note that </text>
<text text-anchor="middle" x="1822.5" y="-2108.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;this doesn&#39;t include the header. </text>
</g>
<!-- prose_28&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>prose_28&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1867.4901,-2339.0371C1860.683,-2308.1967 1846.5728,-2244.2688 1835.9587,-2196.1803"/>
<polygon fill="#000000" stroke="#000000" points="1839.3239,-2195.1873 1833.7507,-2186.1767 1832.4884,-2196.6961 1839.3239,-2195.1873"/>
</g>
<!-- prose_33 -->
<g id="node34" class="node">
<title>prose_33</title>
<ellipse fill="none" stroke="#000000" cx="2115.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2115.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_31&#45;&gt;prose_33 -->
<g id="edge33" class="edge">
<title>block_31&#45;&gt;prose_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2115.5,-2339.0371C2115.5,-2300.4018 2115.5,-2209.8394 2115.5,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="2119.0001,-2163.3109 2115.5,-2153.3109 2112.0001,-2163.3109 2119.0001,-2163.3109"/>
</g>
<!-- codeblock_35 -->
<g id="node36" class="node">
<title>codeblock_35</title>
<ellipse fill="none" stroke="#000000" cx="2243.5" cy="-2135.204" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2243.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 32&#45;43</text>
</g>
<!-- block_32&#45;&gt;codeblock_35 -->
<g id="edge35" class="edge">
<title>block_32&#45;&gt;codeblock_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2245.3363,-2339.0371C2244.9883,-2300.4018 2244.1724,-2209.8394 2243.7553,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="2247.2532,-2163.2789 2243.6631,-2153.3109 2240.2535,-2163.342 2247.2532,-2163.2789"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2026.5,-1839.4035 1972.5,-1839.4035 1972.5,-1803.4035 2026.5,-1803.4035 2026.5,-1839.4035"/>
</g>
<!-- prose_33&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>prose_33&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2113.5796,-2116.803C2109.8069,-2087.1111 2099.4122,-2027.6173 2073.5,-1984.6037 2061.4951,-1964.6759 2047.543,-1968.5085 2035.5,-1948.6037 2016.7258,-1917.5736 2007.4122,-1876.3844 2003.0332,-1849.4016"/>
<polygon fill="#000000" stroke="#000000" points="2006.4871,-1848.833 2001.5396,-1839.4643 1999.5649,-1849.8734 2006.4871,-1848.833"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2354.5,-1903.2038 2044.5,-1903.2038 2044.5,-1739.6031 2354.5,-1739.6031 2354.5,-1903.2038"/>
<text text-anchor="middle" x="2199.5" y="-1888.1036" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="2199.5" y="-1856.7035" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="2199.5" y="-1825.3035" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="2199.5" y="-1793.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">local Header = require &quot;grym/header&quot;</text>
<text text-anchor="middle" x="2199.5" y="-1778.5034" font-family="Inconsolata" font-size="14.00" fill="#000000">local Block = require &quot;grym/block&quot;</text>
<text text-anchor="middle" x="2199.5" y="-1763.1034" font-family="Inconsolata" font-size="14.00" fill="#000000">local Codeblock = require &quot;grym/codeblock&quot;</text>
<text text-anchor="middle" x="2199.5" y="-1747.7034" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
</g>
<!-- codeblock_35&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>codeblock_35&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2240.9442,-2116.9764C2235.4963,-2078.1232 2222.4211,-1984.873 2212.4019,-1913.4175"/>
<polygon fill="#000000" stroke="#000000" points="2215.8643,-1912.9045 2211.0095,-1903.4874 2208.9321,-1913.8765 2215.8643,-1912.9045"/>
</g>
<!-- prose_42 -->
<g id="node43" class="node">
<title>prose_42</title>
<ellipse fill="none" stroke="#000000" cx="2365.5" cy="-2357.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2365.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_38&#45;&gt;prose_42 -->
<g id="edge42" class="edge">
<title>block_38&#45;&gt;prose_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2468.1271,-2430.8966C2450.2831,-2420.654 2427.0235,-2406.6264 2407.5,-2392.6043 2401.7756,-2388.493 2395.8559,-2383.805 2390.3308,-2379.2161"/>
<polygon fill="#000000" stroke="#000000" points="2392.4755,-2376.4457 2382.5869,-2372.6423 2387.9453,-2381.7822 2392.4755,-2376.4457"/>
</g>
<!-- codeblock_44 -->
<g id="node45" class="node">
<title>codeblock_44</title>
<ellipse fill="none" stroke="#000000" cx="2493.5" cy="-2357.2043" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2493.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 48&#45;63</text>
</g>
<!-- block_39&#45;&gt;codeblock_44 -->
<g id="edge44" class="edge">
<title>block_39&#45;&gt;codeblock_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2602.1058,-2430.207C2581.2257,-2416.1718 2550.9375,-2395.8127 2527.6483,-2380.1582"/>
<polygon fill="#000000" stroke="#000000" points="2529.3513,-2377.0857 2519.0994,-2374.4118 2525.4462,-2382.8952 2529.3513,-2377.0857"/>
</g>
<!-- header_46 -->
<g id="node47" class="node">
<title>header_46</title>
<ellipse fill="none" stroke="#000000" cx="2679.5" cy="-2357.2043" rx="90.4762" ry="18"/>
<text text-anchor="middle" x="2679.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : dotLabel(section)</text>
</g>
<!-- section_40&#45;&gt;header_46 -->
<g id="edge46" class="edge">
<title>section_40&#45;&gt;header_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2813.8008,-2430.4147C2787.4809,-2416.0671 2748.8228,-2394.9937 2719.7325,-2379.136"/>
<polygon fill="#000000" stroke="#000000" points="2721.107,-2375.899 2710.6516,-2374.1857 2717.7566,-2382.0451 2721.107,-2375.899"/>
</g>
<!-- block_47 -->
<g id="node48" class="node">
<title>block_47</title>
<ellipse fill="none" stroke="#000000" cx="2843.5" cy="-2357.2043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2843.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 66&#45;69</text>
</g>
<!-- section_40&#45;&gt;block_47 -->
<g id="edge47" class="edge">
<title>section_40&#45;&gt;block_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2843.5,-2428.5129C2843.5,-2416.153 2843.5,-2399.5256 2843.5,-2385.4359"/>
<polygon fill="#000000" stroke="#000000" points="2847.0001,-2385.2688 2843.5,-2375.2688 2840.0001,-2385.2689 2847.0001,-2385.2688"/>
</g>
<!-- block_48 -->
<g id="node49" class="node">
<title>block_48</title>
<ellipse fill="none" stroke="#000000" cx="2973.5" cy="-2357.2043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2973.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 70&#45;71</text>
</g>
<!-- section_40&#45;&gt;block_48 -->
<g id="edge48" class="edge">
<title>section_40&#45;&gt;block_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2867.952,-2429.7889C2888.6915,-2415.5265 2918.6008,-2394.9581 2941.2891,-2379.3555"/>
<polygon fill="#000000" stroke="#000000" points="2943.3404,-2382.1926 2949.5969,-2373.6423 2939.3739,-2376.4248 2943.3404,-2382.1926"/>
</g>
<!-- block_49 -->
<g id="node50" class="node">
<title>block_49</title>
<ellipse fill="none" stroke="#000000" cx="3103.5" cy="-2357.2043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3103.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 72&#45;79</text>
</g>
<!-- section_40&#45;&gt;block_49 -->
<g id="edge49" class="edge">
<title>section_40&#45;&gt;block_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2895.8873,-2435.5338C2935.7697,-2426.2896 2991.6073,-2411.575 3038.5,-2392.6043 3048.52,-2388.5507 3058.973,-2383.339 3068.4926,-2378.1678"/>
<polygon fill="#000000" stroke="#000000" points="3070.2606,-2381.1894 3077.2892,-2373.2615 3066.8508,-2375.076 3070.2606,-2381.1894"/>
</g>
<!-- header_56 -->
<g id="node57" class="node">
<title>header_56</title>
<ellipse fill="none" stroke="#000000" cx="3338.5" cy="-2357.2043" rx="104.4491" ry="18"/>
<text text-anchor="middle" x="3338.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : toMarkdown(section)</text>
</g>
<!-- section_41&#45;&gt;header_56 -->
<g id="edge56" class="edge">
<title>section_41&#45;&gt;header_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3597.4864,-2433.5185C3557.9732,-2422.852 3501.0283,-2407.2156 3451.5,-2392.6043 3434.028,-2387.4499 3415.113,-2381.6226 3397.8473,-2376.2056"/>
<polygon fill="#000000" stroke="#000000" points="3398.485,-2372.7371 3387.8955,-2373.0719 3396.3825,-2379.4139 3398.485,-2372.7371"/>
</g>
<!-- block_57 -->
<g id="node58" class="node">
<title>block_57</title>
<ellipse fill="none" stroke="#000000" cx="3516.5" cy="-2357.2043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3516.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 80&#45;83</text>
</g>
<!-- section_41&#45;&gt;block_57 -->
<g id="edge57" class="edge">
<title>section_41&#45;&gt;block_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3621.742,-2429.5784C3600.9692,-2415.2931 3571.1561,-2394.7909 3548.561,-2379.2524"/>
<polygon fill="#000000" stroke="#000000" points="3550.5114,-2376.346 3540.2885,-2373.5635 3546.5449,-2382.1138 3550.5114,-2376.346"/>
</g>
<!-- block_58 -->
<g id="node59" class="node">
<title>block_58</title>
<ellipse fill="none" stroke="#000000" cx="3646.5" cy="-2357.2043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3646.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 84&#45;85</text>
</g>
<!-- section_41&#45;&gt;block_58 -->
<g id="edge58" class="edge">
<title>section_41&#45;&gt;block_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3646.5,-2428.5129C3646.5,-2416.153 3646.5,-2399.5256 3646.5,-2385.4359"/>
<polygon fill="#000000" stroke="#000000" points="3650.0001,-2385.2688 3646.5,-2375.2688 3643.0001,-2385.2689 3650.0001,-2385.2688"/>
</g>
<!-- block_59 -->
<g id="node60" class="node">
<title>block_59</title>
<ellipse fill="none" stroke="#000000" cx="3776.5" cy="-2357.2043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3776.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 86&#45;87</text>
</g>
<!-- section_41&#45;&gt;block_59 -->
<g id="edge59" class="edge">
<title>section_41&#45;&gt;block_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3671.258,-2429.5784C3692.0308,-2415.2931 3721.8439,-2394.7909 3744.439,-2379.2524"/>
<polygon fill="#000000" stroke="#000000" points="3746.4551,-2382.1138 3752.7115,-2373.5635 3742.4886,-2376.346 3746.4551,-2382.1138"/>
</g>
<!-- block_60 -->
<g id="node61" class="node">
<title>block_60</title>
<ellipse fill="none" stroke="#000000" cx="3911.5" cy="-2357.2043" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="3911.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 88&#45;102</text>
</g>
<!-- section_41&#45;&gt;block_60 -->
<g id="edge60" class="edge">
<title>section_41&#45;&gt;block_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3699.9732,-2434.8247C3739.683,-2425.3534 3794.815,-2410.6678 3841.5,-2392.6043 3852.2937,-2388.428 3863.6354,-2383.1233 3873.9716,-2377.8996"/>
<polygon fill="#000000" stroke="#000000" points="3875.8621,-2380.8623 3883.1369,-2373.1598 3872.6466,-2374.6445 3875.8621,-2380.8623"/>
</g>
<!-- section_61 -->
<g id="node62" class="node">
<title>section_61</title>
<ellipse fill="none" stroke="#000000" cx="4131.5" cy="-2357.2043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4131.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 103&#45;124</text>
</g>
<!-- section_41&#45;&gt;section_61 -->
<g id="edge61" class="edge">
<title>section_41&#45;&gt;section_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3708.4814,-2437.9769C3775.9019,-2428.275 3886.7327,-2411.3996 3981.5,-2392.6043 4010.5908,-2386.8347 4042.6101,-2379.4251 4069.5685,-2372.8772"/>
<polygon fill="#000000" stroke="#000000" points="4070.7539,-2376.1905 4079.6361,-2370.415 4069.0909,-2369.3909 4070.7539,-2376.1905"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="2392.5,-2153.204 2338.5,-2153.204 2338.5,-2117.204 2392.5,-2117.204 2392.5,-2153.204"/>
</g>
<!-- prose_42&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>prose_42&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2365.5,-2339.0371C2365.5,-2300.4018 2365.5,-2209.8394 2365.5,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="2369.0001,-2163.3109 2365.5,-2153.3109 2362.0001,-2163.3109 2369.0001,-2163.3109"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="2748.5,-2247.5045 2410.5,-2247.5045 2410.5,-2022.9035 2748.5,-2022.9035 2748.5,-2247.5045"/>
<text text-anchor="middle" x="2579.5" y="-2232.4042" font-family="Inconsolata" font-size="14.00" fill="#000000">local S, s = u.inherit(Node)</text>
<text text-anchor="middle" x="2579.5" y="-2201.0042" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.__tostring(section)</text>
<text text-anchor="middle" x="2579.5" y="-2185.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="2579.5" y="-2170.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(section) do</text>
<text text-anchor="middle" x="2579.5" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local repr = tostring(v)</text>
<text text-anchor="middle" x="2579.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if (repr ~= &quot;&quot; and repr ~= &quot;\n&quot;) then</text>
<text text-anchor="middle" x="2579.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;io.write(&quot;repr: &quot; .. repr .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="2579.5" y="-2108.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. repr .. &quot;\n&quot;</text>
<text text-anchor="middle" x="2579.5" y="-2093.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2579.5" y="-2077.8039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2579.5" y="-2046.4039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="2579.5" y="-2031.0038" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_44&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>codeblock_44&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2500.5377,-2339.0371C2507.7853,-2320.3282 2519.7499,-2289.4429 2532.2001,-2257.3039"/>
<polygon fill="#000000" stroke="#000000" points="2535.5485,-2258.3493 2535.8972,-2247.7602 2529.0212,-2255.8207 2535.5485,-2258.3493"/>
</g>
<!-- prose_50 -->
<g id="node51" class="node">
<title>prose_50</title>
<ellipse fill="none" stroke="#000000" cx="2821.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2821.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_47&#45;&gt;prose_50 -->
<g id="edge50" class="edge">
<title>block_47&#45;&gt;prose_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2841.6996,-2339.0371C2837.8709,-2300.4018 2828.8963,-2209.8394 2824.3083,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="2827.7636,-2162.917 2823.2944,-2153.3109 2820.7977,-2163.6073 2827.7636,-2162.917"/>
</g>
<!-- prose_52 -->
<g id="node53" class="node">
<title>prose_52</title>
<ellipse fill="none" stroke="#000000" cx="2938.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2938.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_48&#45;&gt;prose_52 -->
<g id="edge52" class="edge">
<title>block_48&#45;&gt;prose_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2970.6358,-2339.0371C2964.5318,-2300.3203 2950.2065,-2209.457 2942.9217,-2163.2501"/>
<polygon fill="#000000" stroke="#000000" points="2946.3694,-2162.6438 2941.3547,-2153.3109 2939.4548,-2163.734 2946.3694,-2162.6438"/>
</g>
<!-- codeblock_54 -->
<g id="node55" class="node">
<title>codeblock_54</title>
<ellipse fill="none" stroke="#000000" cx="3103.5" cy="-2135.204" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3103.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 72&#45;77</text>
</g>
<!-- block_49&#45;&gt;codeblock_54 -->
<g id="edge54" class="edge">
<title>block_49&#45;&gt;codeblock_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3103.5,-2339.0371C3103.5,-2300.4018 3103.5,-2209.8394 3103.5,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="3107.0001,-2163.3109 3103.5,-2153.3109 3100.0001,-2163.3109 3107.0001,-2163.3109"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="2620,-1841.3055 2373,-1841.3055 2373,-1801.5014 2620,-1801.5014 2620,-1841.3055"/>
<text text-anchor="middle" x="2496.5" y="-1809.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Produces a label for a dotfile.</text>
</g>
<!-- prose_50&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>prose_50&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2818.9771,-2117.1874C2813.5856,-2085.5785 2797.9538,-2020.1238 2757.5,-1984.6037 2712.7711,-1945.3299 2680.1705,-1978.1549 2628.5,-1948.6037 2583.4918,-1922.8628 2542.3095,-1878.3684 2518.312,-1849.415"/>
<polygon fill="#000000" stroke="#000000" points="2520.7516,-1846.8682 2511.7206,-1841.3281 2515.3256,-1851.2908 2520.7516,-1846.8682"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="2885,-1839.4035 2638,-1839.4035 2638,-1803.4035 2885,-1803.4035 2885,-1839.4035"/>
<text text-anchor="middle" x="2761.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; #return : string in dot format.</text>
</g>
<!-- prose_52&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>prose_52&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2930.3168,-2117.784C2916.881,-2089.4693 2888.9858,-2031.8687 2862.5,-1984.6037 2835.0734,-1935.6599 2800.0319,-1880.4979 2779.2576,-1848.4709"/>
<polygon fill="#000000" stroke="#000000" points="2781.9318,-1846.1634 2773.5437,-1839.6911 2776.0648,-1849.9816 2781.9318,-1846.1634"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="3304,-1856.0047 2903,-1856.0047 2903,-1786.8022 3304,-1786.8022 3304,-1856.0047"/>
<text text-anchor="middle" x="3103.5" y="-1841.0035" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.dotLabel(section)</text>
<text text-anchor="middle" x="3103.5" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;section: &quot; .. tostring(section.line_first) </text>
<text text-anchor="middle" x="3103.5" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;&#45;&quot; .. tostring(section.line_last)</text>
<text text-anchor="middle" x="3103.5" y="-1794.8034" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_54&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>codeblock_54&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3103.5,-2116.9764C3103.5,-2068.7018 3103.5,-1936.4509 3103.5,-1866.3675"/>
<polygon fill="#000000" stroke="#000000" points="3107.0001,-1866.0856 3103.5,-1856.0856 3100.0001,-1866.0856 3107.0001,-1866.0856"/>
</g>
<!-- prose_62 -->
<g id="node63" class="node">
<title>prose_62</title>
<ellipse fill="none" stroke="#000000" cx="3487.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3487.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_57&#45;&gt;prose_62 -->
<g id="edge62" class="edge">
<title>block_57&#45;&gt;prose_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3514.1268,-2339.0371C3509.0692,-2300.3203 3497.1997,-2209.457 3491.1637,-2163.2501"/>
<polygon fill="#000000" stroke="#000000" points="3494.6312,-2162.7733 3489.8653,-2153.3109 3487.6902,-2163.68 3494.6312,-2162.7733"/>
</g>
<!-- prose_64 -->
<g id="node65" class="node">
<title>prose_64</title>
<ellipse fill="none" stroke="#000000" cx="3670.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3670.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_58&#45;&gt;prose_64 -->
<g id="edge64" class="edge">
<title>block_58&#45;&gt;prose_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3648.464,-2339.0371C3652.6408,-2300.4018 3662.4313,-2209.8394 3667.4364,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="3670.9473,-2163.6292 3668.5425,-2153.3109 3663.9879,-2162.8767 3670.9473,-2163.6292"/>
</g>
<!-- prose_66 -->
<g id="node67" class="node">
<title>prose_66</title>
<ellipse fill="none" stroke="#000000" cx="3776.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3776.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_59&#45;&gt;prose_66 -->
<g id="edge66" class="edge">
<title>block_59&#45;&gt;prose_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3776.5,-2339.0371C3776.5,-2300.4018 3776.5,-2209.8394 3776.5,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="3780.0001,-2163.3109 3776.5,-2153.3109 3773.0001,-2163.3109 3780.0001,-2163.3109"/>
</g>
<!-- codeblock_68 -->
<g id="node69" class="node">
<title>codeblock_68</title>
<ellipse fill="none" stroke="#000000" cx="3910.5" cy="-2135.204" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="3910.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 88&#45;101</text>
</g>
<!-- block_60&#45;&gt;codeblock_68 -->
<g id="edge68" class="edge">
<title>block_60&#45;&gt;codeblock_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3911.4182,-2339.0371C3911.2441,-2300.4018 3910.8362,-2209.8394 3910.6277,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="3914.1267,-2163.295 3910.5816,-2153.3109 3907.1267,-2163.3266 3914.1267,-2163.295"/>
</g>
<!-- header_70 -->
<g id="node71" class="node">
<title>header_70</title>
<ellipse fill="none" stroke="#000000" cx="4061.5" cy="-2135.204" rx="50.8" ry="18"/>
<text text-anchor="middle" x="4061.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : asserts</text>
</g>
<!-- section_61&#45;&gt;header_70 -->
<g id="edge70" class="edge">
<title>section_61&#45;&gt;header_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4125.7716,-2339.0371C4113.5379,-2300.2387 4084.7924,-2209.0742 4070.2515,-2162.9589"/>
<polygon fill="#000000" stroke="#000000" points="4073.5546,-2161.7955 4067.2094,-2153.3109 4066.8786,-2163.9006 4073.5546,-2161.7955"/>
</g>
<!-- block_71 -->
<g id="node72" class="node">
<title>block_71</title>
<ellipse fill="none" stroke="#000000" cx="4196.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4196.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 103&#45;104</text>
</g>
<!-- section_61&#45;&gt;block_71 -->
<g id="edge71" class="edge">
<title>section_61&#45;&gt;block_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4136.8192,-2339.0371C4148.1791,-2300.2387 4174.8714,-2209.0742 4188.3736,-2162.9589"/>
<polygon fill="#000000" stroke="#000000" points="4191.7474,-2163.8915 4191.1984,-2153.3109 4185.0294,-2161.9245 4191.7474,-2163.8915"/>
</g>
<!-- block_72 -->
<g id="node73" class="node">
<title>block_72</title>
<ellipse fill="none" stroke="#000000" cx="4345.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4345.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 105&#45;124</text>
</g>
<!-- section_61&#45;&gt;block_72 -->
<g id="edge72" class="edge">
<title>section_61&#45;&gt;block_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4176.7969,-2342.6499C4206.7369,-2331.1431 4245.1709,-2312.5286 4271.5,-2285.8043 4306.1834,-2250.6002 4327.3949,-2195.9217 4337.759,-2163.0371"/>
<polygon fill="#000000" stroke="#000000" points="4341.1959,-2163.7638 4340.7461,-2153.1785 4334.4967,-2161.7339 4341.1959,-2163.7638"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="3597,-1841.3055 3322,-1841.3055 3322,-1801.5014 3597,-1801.5014 3597,-1841.3055"/>
<text text-anchor="middle" x="3459.5" y="-1809.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Translates the Section to markdown.</text>
</g>
<!-- prose_62&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>prose_62&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3485.8736,-2116.9764C3481.2396,-2065.0423 3467.9334,-1915.9175 3462.1912,-1851.5647"/>
<polygon fill="#000000" stroke="#000000" points="3465.6488,-1850.9317 3461.2738,-1841.2823 3458.6765,-1851.5539 3465.6488,-1850.9317"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="3792,-1839.4035 3615,-1839.4035 3615,-1803.4035 3792,-1803.4035 3792,-1839.4035"/>
<text text-anchor="middle" x="3703.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section: the Section.</text>
</g>
<!-- prose_64&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>prose_64&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3672.4169,-2116.9764C3677.9304,-2064.5477 3693.8603,-1913.0682 3700.5191,-1849.7492"/>
<polygon fill="#000000" stroke="#000000" points="3704.0127,-1849.9926 3701.5779,-1839.6814 3697.0511,-1849.2605 3704.0127,-1849.9926"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="4043,-1839.4035 3810,-1839.4035 3810,-1803.4035 4043,-1803.4035 4043,-1839.4035"/>
<text text-anchor="middle" x="3926.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; #return: A Markdown string. &#160;</text>
</g>
<!-- prose_66&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>prose_66&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3779.8499,-2116.9624C3785.5742,-2087.9936 3798.6788,-2030.0963 3819.5,-1984.6037 3843.2141,-1932.7905 3881.9527,-1878.6166 3905.7385,-1847.5478"/>
<polygon fill="#000000" stroke="#000000" points="3908.6764,-1849.4701 3912.0259,-1839.4186 3903.1393,-1845.1875 3908.6764,-1849.4701"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="4497.5,-1918.3042 4061.5,-1918.3042 4061.5,-1724.5027 4497.5,-1724.5027 4497.5,-1918.3042"/>
<text text-anchor="middle" x="4279.5" y="-1902.9036" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.toMarkdown(section)</text>
<text text-anchor="middle" x="4279.5" y="-1887.5036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="4279.5" y="-1872.1036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, node in ipairs(section) do</text>
<text text-anchor="middle" x="4279.5" y="-1856.7035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if node.toMarkdown then</text>
<text text-anchor="middle" x="4279.5" y="-1841.3035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. node:toMarkdown()</text>
<text text-anchor="middle" x="4279.5" y="-1825.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else </text>
<text text-anchor="middle" x="4279.5" y="-1810.5034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;no toMarkdown method in &quot; .. block.id)</text>
<text text-anchor="middle" x="4279.5" y="-1795.1034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4279.5" y="-1779.7034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4279.5" y="-1748.3034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="4279.5" y="-1732.9033" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_68&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>codeblock_68&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3917.9098,-2117.0271C3931.0313,-2086.5978 3960.8506,-2024.7403 4001.5,-1984.6037 4010.8961,-1975.3261 4051.1466,-1950.7089 4098.2252,-1923.323"/>
<polygon fill="#000000" stroke="#000000" points="4100.196,-1926.226 4107.0893,-1918.1803 4096.6832,-1920.1712 4100.196,-1926.226"/>
</g>
<!-- prose_73 -->
<g id="node74" class="node">
<title>prose_73</title>
<ellipse fill="none" stroke="#000000" cx="4547.5" cy="-1821.4035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4547.5" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_71&#45;&gt;prose_73 -->
<g id="edge73" class="edge">
<title>block_71&#45;&gt;prose_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4199.765,-2117.1173C4206.6219,-2084.7911 4225.7471,-2017.421 4270.5,-1984.6037 4356.0627,-1921.8606 4425.7037,-2017.3761 4506.5,-1948.6037 4535.2967,-1924.0925 4544.0447,-1879.2333 4546.6002,-1849.8708"/>
<polygon fill="#000000" stroke="#000000" points="4550.097,-1850.0359 4547.2871,-1839.8205 4543.1133,-1849.5585 4550.097,-1850.0359"/>
</g>
<!-- codeblock_75 -->
<g id="node76" class="node">
<title>codeblock_75</title>
<ellipse fill="none" stroke="#000000" cx="4713.5" cy="-1821.4035" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4713.5" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 105&#45;122</text>
</g>
<!-- block_72&#45;&gt;codeblock_75 -->
<g id="edge75" class="edge">
<title>block_72&#45;&gt;codeblock_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4349.142,-2117.1195C4356.5794,-2085.1035 4376.6554,-2018.626 4420.5,-1984.6037 4480.829,-1937.79 4521.582,-1985.3881 4588.5,-1948.6037 4633.9387,-1923.6264 4673.4208,-1876.8935 4695.2943,-1847.5578"/>
<polygon fill="#000000" stroke="#000000" points="4698.1697,-1849.5551 4701.246,-1839.4166 4692.5188,-1845.4239 4698.1697,-1849.5551"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="4519.5,-847.1016 4465.5,-847.1016 4465.5,-811.1016 4519.5,-811.1016 4519.5,-847.1016"/>
</g>
<!-- prose_73&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>prose_73&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4544.962,-1803.333C4540.8385,-1773.2785 4532.7213,-1711.091 4528.5,-1658.2032 4503.4789,-1344.7158 4494.954,-963.0609 4492.9848,-857.3857"/>
<polygon fill="#000000" stroke="#000000" points="4496.4813,-857.1533 4492.8,-847.2186 4489.4824,-857.2806 4496.4813,-857.1533"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="4945.5,-956.5024 4537.5,-956.5024 4537.5,-701.7008 4945.5,-701.7008 4945.5,-956.5024"/>
<text text-anchor="middle" x="4741.5" y="-941.1019" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.check(section)</text>
<text text-anchor="middle" x="4741.5" y="-925.7018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i, v in ipairs(section) do</text>
<text text-anchor="middle" x="4741.5" y="-910.3018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if (i == 1) then</text>
<text text-anchor="middle" x="4741.5" y="-894.9018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if section.header then</text>
<text text-anchor="middle" x="4741.5" y="-879.5017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assert(v.id == &quot;header&quot;)</text>
<text text-anchor="middle" x="4741.5" y="-864.1017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4741.5" y="-848.7017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4741.5" y="-833.3016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assert(v.id == &quot;section&quot; or v.id == &quot;block&quot;)</text>
<text text-anchor="middle" x="4741.5" y="-817.9016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4741.5" y="-802.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4741.5" y="-787.1015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.level)</text>
<text text-anchor="middle" x="4741.5" y="-771.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.id)</text>
<text text-anchor="middle" x="4741.5" y="-756.3015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.lines)</text>
<text text-anchor="middle" x="4741.5" y="-740.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.line_first)</text>
<text text-anchor="middle" x="4741.5" y="-725.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.line_last)</text>
<text text-anchor="middle" x="4741.5" y="-710.1014" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_75&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>codeblock_75&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4714.0099,-1803.3331C4716.8409,-1703.0028 4730.747,-1210.1811 4737.6284,-966.3072"/>
<polygon fill="#000000" stroke="#000000" points="4741.127,-966.4059 4737.9105,-956.3111 4734.1297,-966.2084 4741.127,-966.4059"/>
</g>
<!-- prose_84 -->
<g id="node85" class="node">
<title>prose_84</title>
<ellipse fill="none" stroke="#000000" cx="4589.5" cy="-2357.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4589.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_78&#45;&gt;prose_84 -->
<g id="edge84" class="edge">
<title>block_78&#45;&gt;prose_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4644.0654,-2428.9418C4633.9058,-2415.5848 4619.8219,-2397.0688 4608.5077,-2382.1939"/>
<polygon fill="#000000" stroke="#000000" points="4611.0565,-2379.7634 4602.2167,-2373.9231 4605.485,-2384.0012 4611.0565,-2379.7634"/>
</g>
<!-- prose_86 -->
<g id="node87" class="node">
<title>prose_86</title>
<ellipse fill="none" stroke="#000000" cx="4824.5" cy="-2357.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4824.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_79&#45;&gt;prose_86 -->
<g id="edge86" class="edge">
<title>block_79&#45;&gt;prose_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4810.1426,-2428.5129C4812.6311,-2416.153 4815.9789,-2399.5256 4818.8158,-2385.4359"/>
<polygon fill="#000000" stroke="#000000" points="4822.3201,-2385.763 4820.8628,-2375.2688 4815.4578,-2384.3812 4822.3201,-2385.763"/>
</g>
<!-- prose_88 -->
<g id="node89" class="node">
<title>prose_88</title>
<ellipse fill="none" stroke="#000000" cx="4955.5" cy="-2357.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4955.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_80&#45;&gt;prose_88 -->
<g id="edge88" class="edge">
<title>block_80&#45;&gt;prose_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4955.5,-2428.5129C4955.5,-2416.153 4955.5,-2399.5256 4955.5,-2385.4359"/>
<polygon fill="#000000" stroke="#000000" points="4959.0001,-2385.2688 4955.5,-2375.2688 4952.0001,-2385.2689 4959.0001,-2385.2688"/>
</g>
<!-- codeblock_90 -->
<g id="node91" class="node">
<title>codeblock_90</title>
<ellipse fill="none" stroke="#000000" cx="5093.5" cy="-2357.2043" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5093.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 138&#45;143</text>
</g>
<!-- block_81&#45;&gt;codeblock_90 -->
<g id="edge90" class="edge">
<title>block_81&#45;&gt;codeblock_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5102.274,-2428.5129C5100.7532,-2416.153 5098.7073,-2399.5256 5096.9737,-2385.4359"/>
<polygon fill="#000000" stroke="#000000" points="5100.4178,-2384.7665 5095.7227,-2375.2688 5093.4702,-2385.6214 5100.4178,-2384.7665"/>
</g>
<!-- header_92 -->
<g id="node93" class="node">
<title>header_92</title>
<ellipse fill="none" stroke="#000000" cx="5374.5" cy="-2357.2043" rx="175.5244" ry="18"/>
<text text-anchor="middle" x="5374.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : addSection(section, newsection, linum)</text>
</g>
<!-- section_82&#45;&gt;header_92 -->
<g id="edge92" class="edge">
<title>section_82&#45;&gt;header_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5658.1352,-2433.1235C5602.1749,-2418.1449 5511.3153,-2393.8249 5447.547,-2376.7564"/>
<polygon fill="#000000" stroke="#000000" points="5448.1197,-2373.2866 5437.5547,-2374.0818 5446.3097,-2380.0485 5448.1197,-2373.2866"/>
</g>
<!-- block_93 -->
<g id="node94" class="node">
<title>block_93</title>
<ellipse fill="none" stroke="#000000" cx="5633.5" cy="-2357.2043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5633.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 146&#45;149</text>
</g>
<!-- section_82&#45;&gt;block_93 -->
<g id="edge93" class="edge">
<title>section_82&#45;&gt;block_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5693.6824,-2428.9418C5682.5883,-2415.7176 5667.2517,-2397.4364 5654.8375,-2382.6386"/>
<polygon fill="#000000" stroke="#000000" points="5657.3953,-2380.2418 5648.2868,-2374.8302 5652.0325,-2384.7408 5657.3953,-2380.2418"/>
</g>
<!-- block_94 -->
<g id="node95" class="node">
<title>block_94</title>
<ellipse fill="none" stroke="#000000" cx="5782.5" cy="-2357.2043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5782.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 150&#45;153</text>
</g>
<!-- section_82&#45;&gt;block_94 -->
<g id="edge94" class="edge">
<title>section_82&#45;&gt;block_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5723.12,-2428.9418C5734.0662,-2415.7176 5749.1983,-2397.4364 5761.447,-2382.6386"/>
<polygon fill="#000000" stroke="#000000" points="5764.2301,-2384.7653 5767.9104,-2374.8302 5758.8378,-2380.3018 5764.2301,-2384.7653"/>
</g>
<!-- block_95 -->
<g id="node96" class="node">
<title>block_95</title>
<ellipse fill="none" stroke="#000000" cx="5931.5" cy="-2357.2043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5931.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 154&#45;155</text>
</g>
<!-- section_82&#45;&gt;block_95 -->
<g id="edge95" class="edge">
<title>section_82&#45;&gt;block_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5752.6202,-2431.8941C5782.508,-2421.6179 5822.7361,-2407.1773 5857.5,-2392.6043 5868.4712,-2388.0052 5880.1613,-2382.6385 5890.9332,-2377.4947"/>
<polygon fill="#000000" stroke="#000000" points="5892.6393,-2380.5576 5900.1218,-2373.0567 5889.5948,-2374.2543 5892.6393,-2380.5576"/>
</g>
<!-- block_96 -->
<g id="node97" class="node">
<title>block_96</title>
<ellipse fill="none" stroke="#000000" cx="6080.5" cy="-2357.2043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6080.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 156&#45;166</text>
</g>
<!-- section_82&#45;&gt;block_96 -->
<g id="edge96" class="edge">
<title>section_82&#45;&gt;block_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5777.8313,-2439.3585C5839.0607,-2431.714 5930.2067,-2417.2732 6006.5,-2392.6043 6018.4628,-2388.7362 6030.975,-2383.3262 6042.2351,-2377.8976"/>
<polygon fill="#000000" stroke="#000000" points="6043.9596,-2380.9491 6051.3595,-2373.3667 6040.8463,-2374.6795 6043.9596,-2380.9491"/>
</g>
<!-- header_105 -->
<g id="node106" class="node">
<title>header_105</title>
<ellipse fill="none" stroke="#000000" cx="6678.5" cy="-2357.2043" rx="137.8106" ry="18"/>
<text text-anchor="middle" x="6678.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Helper Functions for Blocking</text>
</g>
<!-- section_83&#45;&gt;header_105 -->
<g id="edge105" class="edge">
<title>section_83&#45;&gt;header_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7347.1928,-2443.3608C7233.9894,-2437.6347 7011.8178,-2423.3105 6825.5,-2392.6043 6799.776,-2388.3649 6771.8867,-2382.0869 6747.3839,-2375.9901"/>
<polygon fill="#000000" stroke="#000000" points="6748.0159,-2372.5399 6737.4634,-2373.4862 6746.3028,-2379.327 6748.0159,-2372.5399"/>
</g>
<!-- block_106 -->
<g id="node107" class="node">
<title>block_106</title>
<ellipse fill="none" stroke="#000000" cx="6900.5" cy="-2357.2043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6900.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 167&#45;170</text>
</g>
<!-- section_83&#45;&gt;block_106 -->
<g id="edge106" class="edge">
<title>section_83&#45;&gt;block_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7349.9399,-2440.8113C7242.0838,-2431.5971 7043.1748,-2412.5911 6974.5,-2392.6043 6962.3214,-2389.0599 6949.6601,-2383.6971 6938.326,-2378.2101"/>
<polygon fill="#000000" stroke="#000000" points="6939.6648,-2374.966 6929.1573,-2373.609 6936.5252,-2381.2224 6939.6648,-2374.966"/>
</g>
<!-- block_107 -->
<g id="node108" class="node">
<title>block_107</title>
<ellipse fill="none" stroke="#000000" cx="7049.5" cy="-2357.2043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7049.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 171&#45;177</text>
</g>
<!-- section_83&#45;&gt;block_107 -->
<g id="edge107" class="edge">
<title>section_83&#45;&gt;block_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7352.1687,-2439.3585C7290.9393,-2431.714 7199.7933,-2417.2732 7123.5,-2392.6043 7111.5372,-2388.7362 7099.025,-2383.3262 7087.7649,-2377.8976"/>
<polygon fill="#000000" stroke="#000000" points="7089.1537,-2374.6795 7078.6405,-2373.3667 7086.0404,-2380.9491 7089.1537,-2374.6795"/>
</g>
<!-- block_108 -->
<g id="node109" class="node">
<title>block_108</title>
<ellipse fill="none" stroke="#000000" cx="7198.5" cy="-2357.2043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7198.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 178&#45;179</text>
</g>
<!-- section_83&#45;&gt;block_108 -->
<g id="edge108" class="edge">
<title>section_83&#45;&gt;block_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7377.3798,-2431.8941C7347.492,-2421.6179 7307.2639,-2407.1773 7272.5,-2392.6043 7261.5288,-2388.0052 7249.8387,-2382.6385 7239.0668,-2377.4947"/>
<polygon fill="#000000" stroke="#000000" points="7240.4052,-2374.2543 7229.8782,-2373.0567 7237.3607,-2380.5576 7240.4052,-2374.2543"/>
</g>
<!-- block_109 -->
<g id="node110" class="node">
<title>block_109</title>
<ellipse fill="none" stroke="#000000" cx="7347.5" cy="-2357.2043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7347.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 180&#45;182</text>
</g>
<!-- section_83&#45;&gt;block_109 -->
<g id="edge109" class="edge">
<title>section_83&#45;&gt;block_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7406.88,-2428.9418C7395.9338,-2415.7176 7380.8017,-2397.4364 7368.553,-2382.6386"/>
<polygon fill="#000000" stroke="#000000" points="7371.1622,-2380.3018 7362.0896,-2374.8302 7365.7699,-2384.7653 7371.1622,-2380.3018"/>
</g>
<!-- block_110 -->
<g id="node111" class="node">
<title>block_110</title>
<ellipse fill="none" stroke="#000000" cx="7496.5" cy="-2357.2043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7496.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 183&#45;184</text>
</g>
<!-- section_83&#45;&gt;block_110 -->
<g id="edge110" class="edge">
<title>section_83&#45;&gt;block_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7436.3176,-2428.9418C7447.4117,-2415.7176 7462.7483,-2397.4364 7475.1625,-2382.6386"/>
<polygon fill="#000000" stroke="#000000" points="7477.9675,-2384.7408 7481.7132,-2374.8302 7472.6047,-2380.2418 7477.9675,-2384.7408"/>
</g>
<!-- block_111 -->
<g id="node112" class="node">
<title>block_111</title>
<ellipse fill="none" stroke="#000000" cx="7645.5" cy="-2357.2043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7645.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 185&#45;241</text>
</g>
<!-- section_83&#45;&gt;block_111 -->
<g id="edge111" class="edge">
<title>section_83&#45;&gt;block_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7465.9237,-2431.9259C7496.0153,-2421.6635 7536.5141,-2407.2264 7571.5,-2392.6043 7582.4761,-2388.017 7594.1679,-2382.6543 7604.9398,-2377.5107"/>
<polygon fill="#000000" stroke="#000000" points="7606.6462,-2380.5734 7614.1281,-2373.0719 7603.6013,-2374.2703 7606.6462,-2380.5734"/>
</g>
<!-- section_112 -->
<g id="node113" class="node">
<title>section_112</title>
<ellipse fill="none" stroke="#000000" cx="7804.5" cy="-2357.2043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7804.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 224&#45;229</text>
</g>
<!-- section_83&#45;&gt;section_112 -->
<g id="edge112" class="edge">
<title>section_83&#45;&gt;section_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7489.5867,-2438.6551C7550.845,-2430.483 7642.8819,-2415.6617 7720.5,-2392.6043 7734.1722,-2388.5429 7748.6287,-2382.9536 7761.6228,-2377.4157"/>
<polygon fill="#000000" stroke="#000000" points="7763.0276,-2380.6214 7770.7939,-2373.4148 7760.2286,-2374.2054 7763.0276,-2380.6214"/>
</g>
<!-- section_113 -->
<g id="node114" class="node">
<title>section_113</title>
<ellipse fill="none" stroke="#000000" cx="8082.5" cy="-2357.2043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8082.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 230&#45;234</text>
</g>
<!-- section_83&#45;&gt;section_113 -->
<g id="edge113" class="edge">
<title>section_83&#45;&gt;section_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7491.7073,-2439.9308C7583.2474,-2430.8988 7748.2373,-2413.4881 7888.5,-2392.6043 7930.4417,-2386.3596 7977.2098,-2377.8713 8014.3168,-2370.7719"/>
<polygon fill="#000000" stroke="#000000" points="8015.3562,-2374.1362 8024.5146,-2368.8094 8014.0334,-2367.2623 8015.3562,-2374.1362"/>
</g>
<!-- section_114 -->
<g id="node115" class="node">
<title>section_114</title>
<ellipse fill="none" stroke="#000000" cx="8364.5" cy="-2357.2043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8364.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 235&#45;241</text>
</g>
<!-- section_83&#45;&gt;section_114 -->
<g id="edge114" class="edge">
<title>section_83&#45;&gt;section_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7496.3028,-2443.7727C7630.8308,-2438.1043 7922.3418,-2423.1942 8166.5,-2392.6043 8210.2345,-2387.125 8258.9758,-2378.4431 8297.155,-2371.0488"/>
<polygon fill="#000000" stroke="#000000" points="8297.9829,-2374.4533 8307.1261,-2369.1005 8296.6405,-2367.5832 8297.9829,-2374.4533"/>
</g>
<!-- section_115 -->
<g id="node116" class="node">
<title>section_115</title>
<ellipse fill="none" stroke="#000000" cx="8934.5" cy="-2357.2043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8934.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 242&#45;361</text>
</g>
<!-- section_83&#45;&gt;section_115 -->
<g id="edge115" class="edge">
<title>section_83&#45;&gt;section_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7495.9514,-2443.2056C7665.2154,-2435.3656 8091.8874,-2414.9652 8448.5,-2392.6043 8590.5954,-2383.6945 8755.9004,-2371.2003 8852.4892,-2363.6851"/>
<polygon fill="#000000" stroke="#000000" points="8852.7838,-2367.1729 8862.4815,-2362.9063 8852.2398,-2360.194 8852.7838,-2367.1729"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="4613.5,-2155.1061 4429.5,-2155.1061 4429.5,-2115.3019 4613.5,-2115.3019 4613.5,-2155.1061"/>
<text text-anchor="middle" x="4521.5" y="-2123.704" font-family="Inconsolata" font-size="14.00" fill="#000000">Add a line to a section.</text>
</g>
<!-- prose_84&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>prose_84&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4584.0502,-2339.4124C4572.3888,-2301.3413 4544.914,-2211.644 4530.5726,-2164.8232"/>
<polygon fill="#000000" stroke="#000000" points="4533.8318,-2163.5131 4527.5565,-2154.9767 4527.1388,-2165.5633 4533.8318,-2163.5131"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="5053.5,-2185.605 4631.5,-2185.605 4631.5,-2084.803 5053.5,-2084.803 5053.5,-2185.605"/>
<text text-anchor="middle" x="4842.5" y="-2170.2041" font-family="Inconsolata" font-size="14.00" fill="#000000">These lines are later translated into blocks, and when the</text>
<text text-anchor="middle" x="4842.5" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000">parser is mature, =section.line= will be set to nil before</text>
<text text-anchor="middle" x="4842.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000">the Doc is returned. &#160;</text>
<text text-anchor="middle" x="4842.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="4842.5" y="-2108.604" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section: the section</text>
<text text-anchor="middle" x="4842.5" y="-2093.2039" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; line: the line</text>
</g>
<!-- prose_86&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>prose_86&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4825.973,-2339.0371C4828.4814,-2308.1 4833.6894,-2243.8677 4837.5926,-2195.7285"/>
<polygon fill="#000000" stroke="#000000" points="4841.0846,-2195.9683 4838.4043,-2185.7181 4834.1075,-2195.4025 4841.0846,-2195.9683"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="5241.5,-2153.204 5071.5,-2153.204 5071.5,-2117.204 5241.5,-2117.204 5241.5,-2153.204"/>
<text text-anchor="middle" x="5156.5" y="-2131.704" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; return : the section</text>
</g>
<!-- prose_88&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>prose_88&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4972.4704,-2341.6006C4979.8911,-2335.1264 4988.8605,-2327.7538 4997.5,-2321.8043 5024.6984,-2303.0743 5038.5471,-2308.5381 5062.5,-2285.8043 5100.385,-2249.8474 5129.3046,-2195.4994 5144.5265,-2162.8669"/>
<polygon fill="#000000" stroke="#000000" points="5147.8418,-2164.0321 5148.8055,-2153.4811 5141.4725,-2161.1282 5147.8418,-2164.0321"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="5583.5,-2169.8053 5259.5,-2169.8053 5259.5,-2100.6027 5583.5,-2100.6027 5583.5,-2169.8053"/>
<text text-anchor="middle" x="5421.5" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.addLine(section, line)</text>
<text text-anchor="middle" x="5421.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.lines[#section.lines + 1] = line</text>
<text text-anchor="middle" x="5421.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="5421.5" y="-2108.604" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_90&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>codeblock_90&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5136.9123,-2341.4837C5169.4646,-2328.7593 5214.4279,-2309.1517 5250.5,-2285.8043 5299.1283,-2254.3299 5348.0719,-2209.5909 5381.061,-2177.0583"/>
<polygon fill="#000000" stroke="#000000" points="5383.6402,-2179.4296 5388.2652,-2169.8975 5378.7054,-2174.4649 5383.6402,-2179.4296"/>
</g>
<!-- prose_97 -->
<g id="node98" class="node">
<title>prose_97</title>
<ellipse fill="none" stroke="#000000" cx="5633.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5633.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_93&#45;&gt;prose_97 -->
<g id="edge97" class="edge">
<title>block_93&#45;&gt;prose_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5633.5,-2339.0371C5633.5,-2300.4018 5633.5,-2209.8394 5633.5,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="5637.0001,-2163.3109 5633.5,-2153.3109 5630.0001,-2163.3109 5637.0001,-2163.3109"/>
</g>
<!-- prose_99 -->
<g id="node100" class="node">
<title>prose_99</title>
<ellipse fill="none" stroke="#000000" cx="5749.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5749.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_94&#45;&gt;prose_99 -->
<g id="edge99" class="edge">
<title>block_94&#45;&gt;prose_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5779.7995,-2339.0371C5774.0443,-2300.3203 5760.5376,-2209.457 5753.669,-2163.2501"/>
<polygon fill="#000000" stroke="#000000" points="5757.1239,-2162.6876 5752.1916,-2153.3109 5750.2,-2163.7169 5757.1239,-2162.6876"/>
</g>
<!-- prose_101 -->
<g id="node102" class="node">
<title>prose_101</title>
<ellipse fill="none" stroke="#000000" cx="5881.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5881.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_95&#45;&gt;prose_101 -->
<g id="edge101" class="edge">
<title>block_95&#45;&gt;prose_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5927.4083,-2339.0371C5918.6883,-2300.3203 5898.2236,-2209.457 5887.8167,-2163.2501"/>
<polygon fill="#000000" stroke="#000000" points="5891.1899,-2162.2975 5885.5781,-2153.3109 5884.3609,-2163.8356 5891.1899,-2162.2975"/>
</g>
<!-- codeblock_103 -->
<g id="node104" class="node">
<title>codeblock_103</title>
<ellipse fill="none" stroke="#000000" cx="6080.5" cy="-2135.204" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6080.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 156&#45;164</text>
</g>
<!-- block_96&#45;&gt;codeblock_103 -->
<g id="edge103" class="edge">
<title>block_96&#45;&gt;codeblock_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6080.5,-2339.0371C6080.5,-2300.4018 6080.5,-2209.8394 6080.5,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="6084.0001,-2163.3109 6080.5,-2153.3109 6077.0001,-2163.3109 6084.0001,-2163.3109"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="5274.5,-1841.3055 5006.5,-1841.3055 5006.5,-1801.5014 5274.5,-1801.5014 5274.5,-1841.3055"/>
<text text-anchor="middle" x="5140.5" y="-1809.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Adds a section to the host section</text>
</g>
<!-- prose_97&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>prose_97&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5634.5119,-2117.0311C5635.2084,-2084.8748 5631.528,-2018.1826 5592.5,-1984.6037 5540.0956,-1939.5161 5346.5809,-1976.8864 5283.5,-1948.6037 5233.3388,-1926.1136 5188.2868,-1879.5657 5162.6908,-1849.449"/>
<polygon fill="#000000" stroke="#000000" points="5165.0915,-1846.8629 5155.9992,-1841.424 5159.7152,-1851.3458 5165.0915,-1846.8629"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="5638,-1848.6039 5293,-1848.6039 5293,-1794.203 5638,-1794.203 5638,-1848.6039"/>
<text text-anchor="middle" x="5465.5" y="-1833.3035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section: &#160;Section to contain the new section.</text>
<text text-anchor="middle" x="5465.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; newsection: &#160;The new section.</text>
<text text-anchor="middle" x="5465.5" y="-1802.5034" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; linum: &#160;The line number.</text>
</g>
<!-- prose_99&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>prose_99&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5743.6223,-2117.4988C5733.1458,-2087.7646 5709.0544,-2026.9047 5674.5,-1984.6037 5630.5861,-1930.845 5565.8974,-1883.797 5520.1406,-1854.2043"/>
<polygon fill="#000000" stroke="#000000" points="5521.8502,-1851.1431 5511.5402,-1848.703 5518.0783,-1857.0399 5521.8502,-1851.1431"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="5882.5,-1839.4035 5656.5,-1839.4035 5656.5,-1803.4035 5882.5,-1803.4035 5882.5,-1839.4035"/>
<text text-anchor="middle" x="5769.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; #return: the parent section.</text>
</g>
<!-- prose_101&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>prose_101&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5875.1575,-2117.4336C5856.5715,-2065.3596 5802.1269,-1912.8173 5779.5198,-1849.477"/>
<polygon fill="#000000" stroke="#000000" points="5782.7098,-1848.0021 5776.0519,-1839.7606 5776.1171,-1850.3552 5782.7098,-1848.0021"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6260,-1879.2039 5901,-1879.2039 5901,-1763.6031 6260,-1763.6031 6260,-1879.2039"/>
<text text-anchor="middle" x="6080.5" y="-1864.1036" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.addSection(section, newsection, linum)</text>
<text text-anchor="middle" x="6080.5" y="-1848.7035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if linum &gt; 0 then</text>
<text text-anchor="middle" x="6080.5" y="-1833.3035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.line_last = linum &#45; 1</text>
<text text-anchor="middle" x="6080.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6080.5" y="-1802.5034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section[#section + 1] = newsection</text>
<text text-anchor="middle" x="6080.5" y="-1787.1034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="6080.5" y="-1771.7034" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_103&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>codeblock_103&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6080.5,-2116.9764C6080.5,-2073.5632 6080.5,-1962.2355 6080.5,-1889.2825"/>
<polygon fill="#000000" stroke="#000000" points="6084.0001,-1889.2542 6080.5,-1879.2542 6077.0001,-1889.2543 6084.0001,-1889.2542"/>
</g>
<!-- prose_116 -->
<g id="node117" class="node">
<title>prose_116</title>
<ellipse fill="none" stroke="#000000" cx="6542.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6542.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_106&#45;&gt;prose_116 -->
<g id="edge116" class="edge">
<title>block_106&#45;&gt;prose_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6870.542,-2340.9986C6857.0841,-2334.2639 6840.8143,-2326.8566 6825.5,-2321.8043 6747.6092,-2296.1074 6712.8402,-2331.1576 6644.5,-2285.8043 6598.7602,-2255.4495 6568.1059,-2196.8747 6553.141,-2162.4035"/>
<polygon fill="#000000" stroke="#000000" points="6556.2693,-2160.8134 6549.1685,-2152.9502 6549.8159,-2163.5253 6556.2693,-2160.8134"/>
</g>
<!-- codeblock_118 -->
<g id="node119" class="node">
<title>codeblock_118</title>
<ellipse fill="none" stroke="#000000" cx="6740.5" cy="-2135.204" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6740.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 171&#45;175</text>
</g>
<!-- block_107&#45;&gt;codeblock_118 -->
<g id="edge118" class="edge">
<title>block_107&#45;&gt;codeblock_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7026.0212,-2340.336C6971.4091,-2301.1001 6835.7499,-2203.6361 6773.1293,-2158.6464"/>
<polygon fill="#000000" stroke="#000000" points="6774.9576,-2155.6503 6764.794,-2152.658 6770.8732,-2161.3352 6774.9576,-2155.6503"/>
</g>
<!-- prose_120 -->
<g id="node121" class="node">
<title>prose_120</title>
<ellipse fill="none" stroke="#000000" cx="7089.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7089.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_108&#45;&gt;prose_120 -->
<g id="edge120" class="edge">
<title>block_108&#45;&gt;prose_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7189.5801,-2339.0371C7170.3555,-2299.8824 7124.9451,-2207.3951 7102.5091,-2161.6996"/>
<polygon fill="#000000" stroke="#000000" points="7105.637,-2160.1287 7098.0879,-2152.6949 7099.3535,-2163.2139 7105.637,-2160.1287"/>
</g>
<!-- prose_122 -->
<g id="node123" class="node">
<title>prose_122</title>
<ellipse fill="none" stroke="#000000" cx="7347.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7347.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_109&#45;&gt;prose_122 -->
<g id="edge122" class="edge">
<title>block_109&#45;&gt;prose_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7347.5,-2339.0371C7347.5,-2300.4018 7347.5,-2209.8394 7347.5,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="7351.0001,-2163.3109 7347.5,-2153.3109 7344.0001,-2163.3109 7351.0001,-2163.3109"/>
</g>
<!-- prose_124 -->
<g id="node125" class="node">
<title>prose_124</title>
<ellipse fill="none" stroke="#000000" cx="7501.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7501.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_110&#45;&gt;prose_124 -->
<g id="edge124" class="edge">
<title>block_110&#45;&gt;prose_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7496.9092,-2339.0371C7497.7793,-2300.4018 7499.819,-2209.8394 7500.8617,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="7504.366,-2163.3872 7501.0922,-2153.3109 7497.3678,-2163.2295 7504.366,-2163.3872"/>
</g>
<!-- codeblock_126 -->
<g id="node127" class="node">
<title>codeblock_126</title>
<ellipse fill="none" stroke="#000000" cx="7645.5" cy="-2135.204" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7645.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 185&#45;202</text>
</g>
<!-- block_111&#45;&gt;codeblock_126 -->
<g id="edge126" class="edge">
<title>block_111&#45;&gt;codeblock_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7645.5,-2339.0371C7645.5,-2300.4018 7645.5,-2209.8394 7645.5,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="7649.0001,-2163.3109 7645.5,-2153.3109 7642.0001,-2163.3109 7649.0001,-2163.3109"/>
</g>
<!-- header_128 -->
<g id="node129" class="node">
<title>header_128</title>
<ellipse fill="none" stroke="#000000" cx="7803.5" cy="-2135.204" rx="52.2623" ry="18"/>
<text text-anchor="middle" x="7803.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : List line</text>
</g>
<!-- section_112&#45;&gt;header_128 -->
<g id="edge128" class="edge">
<title>section_112&#45;&gt;header_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7804.4182,-2339.0371C7804.2441,-2300.4018 7803.8362,-2209.8394 7803.6277,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="7807.1267,-2163.295 7803.5816,-2153.3109 7800.1267,-2163.3266 7807.1267,-2163.295"/>
</g>
<!-- block_129 -->
<g id="node130" class="node">
<title>block_129</title>
<ellipse fill="none" stroke="#000000" cx="7939.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7939.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 224&#45;229</text>
</g>
<!-- section_112&#45;&gt;block_129 -->
<g id="edge129" class="edge">
<title>section_112&#45;&gt;block_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7821.2968,-2339.6474C7834.0858,-2325.7355 7851.6248,-2305.4366 7864.5,-2285.8043 7891.2397,-2245.0312 7914.9974,-2193.3957 7928.292,-2162.4016"/>
<polygon fill="#000000" stroke="#000000" points="7931.5528,-2163.6768 7932.2313,-2153.1038 7925.1074,-2160.946 7931.5528,-2163.6768"/>
</g>
<!-- header_132 -->
<g id="node133" class="node">
<title>header_132</title>
<ellipse fill="none" stroke="#000000" cx="8082.5" cy="-2135.204" rx="59.7106" ry="18"/>
<text text-anchor="middle" x="8082.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Table line</text>
</g>
<!-- section_113&#45;&gt;header_132 -->
<g id="edge132" class="edge">
<title>section_113&#45;&gt;header_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8082.5,-2339.0371C8082.5,-2300.4018 8082.5,-2209.8394 8082.5,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="8086.0001,-2163.3109 8082.5,-2153.3109 8079.0001,-2163.3109 8086.0001,-2163.3109"/>
</g>
<!-- block_133 -->
<g id="node134" class="node">
<title>block_133</title>
<ellipse fill="none" stroke="#000000" cx="8225.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="8225.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 230&#45;234</text>
</g>
<!-- section_113&#45;&gt;block_133 -->
<g id="edge133" class="edge">
<title>section_113&#45;&gt;block_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8102.37,-2339.8258C8117.1805,-2326.1673 8137.2286,-2306.1147 8151.5,-2285.8043 8179.4589,-2246.0143 8202.4205,-2194.0798 8215.0136,-2162.7586"/>
<polygon fill="#000000" stroke="#000000" points="8218.3095,-2163.9416 8218.7312,-2153.3552 8211.7997,-2161.368 8218.3095,-2163.9416"/>
</g>
<!-- header_136 -->
<g id="node137" class="node">
<title>header_136</title>
<ellipse fill="none" stroke="#000000" cx="8364.5" cy="-2135.204" rx="55.3589" ry="18"/>
<text text-anchor="middle" x="8364.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Tag line </text>
</g>
<!-- section_114&#45;&gt;header_136 -->
<g id="edge136" class="edge">
<title>section_114&#45;&gt;header_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8364.5,-2339.0371C8364.5,-2300.4018 8364.5,-2209.8394 8364.5,-2163.5425"/>
<polygon fill="#000000" stroke="#000000" points="8368.0001,-2163.3109 8364.5,-2153.3109 8361.0001,-2163.3109 8368.0001,-2163.3109"/>
</g>
<!-- block_137 -->
<g id="node138" class="node">
<title>block_137</title>
<ellipse fill="none" stroke="#000000" cx="8503.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="8503.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 235&#45;241</text>
</g>
<!-- section_114&#45;&gt;block_137 -->
<g id="edge137" class="edge">
<title>section_114&#45;&gt;block_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8382.7997,-2339.5514C8396.4686,-2325.7492 8415.0356,-2305.6369 8428.5,-2285.8043 8455.8875,-2245.4635 8479.4481,-2193.6965 8492.5272,-2162.5585"/>
<polygon fill="#000000" stroke="#000000" points="8495.8044,-2163.7926 8496.3969,-2153.2143 8489.337,-2161.1142 8495.8044,-2163.7926"/>
</g>
<!-- header_140 -->
<g id="node141" class="node">
<title>header_140</title>
<ellipse fill="none" stroke="#000000" cx="8709.5" cy="-2135.204" rx="66.779" ry="18"/>
<text text-anchor="middle" x="8709.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Code block</text>
</g>
<!-- section_115&#45;&gt;header_140 -->
<g id="edge140" class="edge">
<title>section_115&#45;&gt;header_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8886.0191,-2343.3357C8853.9633,-2332.1307 8812.7899,-2313.5954 8784.5,-2285.8043 8749.1527,-2251.0802 8727.7181,-2196.2455 8717.279,-2163.201"/>
<polygon fill="#000000" stroke="#000000" points="8720.5249,-2161.8442 8714.2723,-2153.2911 8713.8264,-2163.8765 8720.5249,-2161.8442"/>
</g>
<!-- block_141 -->
<g id="node142" class="node">
<title>block_141</title>
<ellipse fill="none" stroke="#000000" cx="8859.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="8859.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 242&#45;246</text>
</g>
<!-- section_115&#45;&gt;block_141 -->
<g id="edge141" class="edge">
<title>section_115&#45;&gt;block_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8928.3624,-2339.0371C8915.2549,-2300.2387 8884.4561,-2209.0742 8868.8766,-2162.9589"/>
<polygon fill="#000000" stroke="#000000" points="8872.1338,-2161.6646 8865.6172,-2153.3109 8865.502,-2163.9051 8872.1338,-2161.6646"/>
</g>
<!-- block_142 -->
<g id="node143" class="node">
<title>block_142</title>
<ellipse fill="none" stroke="#000000" cx="9008.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9008.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 247&#45;248</text>
</g>
<!-- section_115&#45;&gt;block_142 -->
<g id="edge142" class="edge">
<title>section_115&#45;&gt;block_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8940.5557,-2339.0371C8953.4885,-2300.2387 8983.8766,-2209.0742 8999.2484,-2162.9589"/>
<polygon fill="#000000" stroke="#000000" points="9002.6224,-2163.9045 9002.4644,-2153.3109 8995.9816,-2161.6909 9002.6224,-2163.9045"/>
</g>
<!-- block_143 -->
<g id="node144" class="node">
<title>block_143</title>
<ellipse fill="none" stroke="#000000" cx="9157.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9157.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 249&#45;250</text>
</g>
<!-- section_115&#45;&gt;block_143 -->
<g id="edge143" class="edge">
<title>section_115&#45;&gt;block_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8982.7058,-2343.3102C9014.5692,-2332.0942 9055.4736,-2313.5559 9083.5,-2285.8043 9118.6164,-2251.0321 9139.6871,-2196.213 9149.9068,-2163.1846"/>
<polygon fill="#000000" stroke="#000000" points="9153.3565,-2163.8624 9152.8477,-2153.2798 9146.6461,-2161.8699 9153.3565,-2163.8624"/>
</g>
<!-- block_144 -->
<g id="node145" class="node">
<title>block_144</title>
<ellipse fill="none" stroke="#000000" cx="9306.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9306.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 251&#45;361</text>
</g>
<!-- section_115&#45;&gt;block_144 -->
<g id="edge144" class="edge">
<title>section_115&#45;&gt;block_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8999.8296,-2348.1621C9076.3024,-2336.463 9197.0297,-2314.1736 9232.5,-2285.8043 9271.6731,-2254.4735 9291.6276,-2197.1577 9300.4947,-2162.9863"/>
<polygon fill="#000000" stroke="#000000" points="9303.9173,-2163.7247 9302.8996,-2153.1789 9297.1187,-2162.0576 9303.9173,-2163.7247"/>
</g>
<!-- leaf_117 -->
<g id="node118" class="node">
<title>leaf_117</title>
<polygon fill="none" stroke="#c0c0c0" points="6483,-1841.3055 6278,-1841.3055 6278,-1801.5014 6483,-1801.5014 6483,-1841.3055"/>
<text text-anchor="middle" x="6380.5" y="-1809.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">Boolean match for a tagline</text>
</g>
<!-- prose_116&#45;&gt;leaf_117 -->
<g id="edge117" class="edge">
<title>prose_116&#45;&gt;leaf_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6533.5594,-2117.8857C6507.0607,-2066.5566 6428.7306,-1914.8282 6395.5854,-1850.6245"/>
<polygon fill="#000000" stroke="#000000" points="6398.5486,-1848.7345 6390.8513,-1841.4543 6392.3286,-1851.9456 6398.5486,-1848.7345"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="6776,-1848.6039 6501,-1848.6039 6501,-1794.203 6776,-1794.203 6776,-1848.6039"/>
<text text-anchor="middle" x="6638.5" y="-1833.3035" font-family="Inconsolata" font-size="14.00" fill="#000000">local function isTagline(line)</text>
<text text-anchor="middle" x="6638.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return L.match(m.tagline_p, line)</text>
<text text-anchor="middle" x="6638.5" y="-1802.5034" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_118&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>codeblock_118&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6734.5752,-2116.9764C6718.277,-2066.8355 6672.5313,-1926.0998 6650.5667,-1858.5264"/>
<polygon fill="#000000" stroke="#000000" points="6653.7992,-1857.1487 6647.3793,-1848.7204 6647.1421,-1859.3126 6653.7992,-1857.1487"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="7167,-1839.4035 6794,-1839.4035 6794,-1803.4035 7167,-1803.4035 7167,-1839.4035"/>
<text text-anchor="middle" x="6980.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">Lookahead, counting blank lines, return the number.</text>
</g>
<!-- prose_120&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>prose_120&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7083.3274,-2117.4336C7065.2392,-2065.3596 7012.253,-1912.8173 6990.2515,-1849.477"/>
<polygon fill="#000000" stroke="#000000" points="6993.4639,-1848.0585 6986.8764,-1839.7606 6986.8515,-1850.3554 6993.4639,-1848.0585"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="7509.5,-1840.704 7185.5,-1840.704 7185.5,-1802.1029 7509.5,-1802.1029 7509.5,-1840.704"/>
<text text-anchor="middle" x="7347.5" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines: the full lines array of the section</text>
<text text-anchor="middle" x="7347.5" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; linum: current index into lines</text>
</g>
<!-- prose_122&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>prose_122&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7347.5,-2116.9764C7347.5,-2064.9186 7347.5,-1915.2068 7347.5,-1851.1064"/>
<polygon fill="#000000" stroke="#000000" points="7351.0001,-1850.8766 7347.5,-1840.8766 7344.0001,-1850.8767 7351.0001,-1850.8766"/>
</g>
<!-- leaf_125 -->
<g id="node126" class="node">
<title>leaf_125</title>
<polygon fill="none" stroke="#c0c0c0" points="7887,-1839.4035 7528,-1839.4035 7528,-1803.4035 7887,-1803.4035 7887,-1839.4035"/>
<text text-anchor="middle" x="7707.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; returns: number of blank lines forward of index</text>
</g>
<!-- prose_124&#45;&gt;leaf_125 -->
<g id="edge125" class="edge">
<title>prose_124&#45;&gt;leaf_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7504.5166,-2116.932C7509.9819,-2087.4213 7523.4476,-2028.1765 7549.5,-1984.6037 7583.4114,-1927.8866 7640.6231,-1875.4964 7676.1033,-1846.0688"/>
<polygon fill="#000000" stroke="#000000" points="7678.6745,-1848.4871 7684.1942,-1839.4437 7674.2397,-1843.0711 7678.6745,-1848.4871"/>
</g>
<!-- leaf_127 -->
<g id="node128" class="node">
<title>leaf_127</title>
<polygon fill="none" stroke="#c0c0c0" points="8187.5,-1948.8043 7905.5,-1948.8043 7905.5,-1694.0026 8187.5,-1694.0026 8187.5,-1948.8043"/>
<text text-anchor="middle" x="8046.5" y="-1933.4037" font-family="Inconsolata" font-size="14.00" fill="#000000">local function fwdBlanks(lines, linum)</text>
<text text-anchor="middle" x="8046.5" y="-1918.0037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local fwd = 0</text>
<text text-anchor="middle" x="8046.5" y="-1902.6037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local index = linum + 1</text>
<text text-anchor="middle" x="8046.5" y="-1887.2036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if index &gt; #lines then </text>
<text text-anchor="middle" x="8046.5" y="-1871.8036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="8046.5" y="-1856.4036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="8046.5" y="-1841.0035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;for i = index, #lines do</text>
<text text-anchor="middle" x="8046.5" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if lines[i] == &quot;&quot; then</text>
<text text-anchor="middle" x="8046.5" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fwd = fwd + 1</text>
<text text-anchor="middle" x="8046.5" y="-1794.8034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="8046.5" y="-1779.4034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break</text>
<text text-anchor="middle" x="8046.5" y="-1764.0034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8046.5" y="-1748.6033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8046.5" y="-1733.2033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8046.5" y="-1717.8033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return fwd</text>
<text text-anchor="middle" x="8046.5" y="-1702.4032" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_126&#45;&gt;leaf_127 -->
<g id="edge127" class="edge">
<title>codeblock_126&#45;&gt;leaf_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7651.8928,-2117.1319C7664.1799,-2085.1356 7694.2316,-2018.6883 7742.5,-1984.6037 7799.5638,-1944.3083 7833.0783,-1979.965 7895.5,-1948.6037 7895.701,-1948.5027 7895.902,-1948.4014 7896.1029,-1948.2998"/>
<polygon fill="#000000" stroke="#000000" points="7897.919,-1951.2985 7905.1141,-1943.5215 7894.6396,-1945.1141 7897.919,-1951.2985"/>
</g>
<!-- prose_130 -->
<g id="node131" class="node">
<title>prose_130</title>
<ellipse fill="none" stroke="#000000" cx="8237.5" cy="-1821.4035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8237.5" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_129&#45;&gt;prose_130 -->
<g id="edge130" class="edge">
<title>block_129&#45;&gt;prose_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7942.9611,-2117.0513C7950.0895,-2084.9271 7969.5762,-2018.284 8013.5,-1984.6037 8079.2799,-1934.1644 8134.544,-2003.6724 8196.5,-1948.6037 8224.7647,-1923.481 8233.6582,-1878.789 8236.3895,-1849.6286"/>
<polygon fill="#000000" stroke="#000000" points="8239.8798,-1849.8878 8237.1414,-1839.653 8232.8996,-1849.3616 8239.8798,-1849.8878"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="8092.5,-864.402 7768.5,-864.402 7768.5,-793.8013 8092.5,-793.8013 8092.5,-864.402"/>
<text text-anchor="middle" x="7930.5" y="-833.3016" font-family="Inconsolata" font-size="14.00" fill="#000000">New block unless previous line is also list,</text>
<text text-anchor="middle" x="7930.5" y="-817.9016" font-family="Inconsolata" font-size="14.00" fill="#000000">in which case append. </text>
</g>
<!-- prose_130&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>prose_130&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8236.497,-1803.3339C8234.0448,-1776.1866 8225.5976,-1724.8061 8196.5,-1694.2032 8165.3875,-1661.4812 8130.7939,-1692.5628 8101.5,-1658.2032 7900.0722,-1421.9428 7914.6353,-1011.0418 7925.8831,-874.5964"/>
<polygon fill="#000000" stroke="#000000" points="7929.3816,-874.7623 7926.7515,-864.4991 7922.4074,-874.1624 7929.3816,-874.7623"/>
</g>
<!-- prose_134 -->
<g id="node135" class="node">
<title>prose_134</title>
<ellipse fill="none" stroke="#000000" cx="8319.5" cy="-1821.4035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8319.5" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_133&#45;&gt;prose_134 -->
<g id="edge134" class="edge">
<title>block_133&#45;&gt;prose_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8230.9601,-2116.9764C8246.7349,-2064.3154 8292.4441,-1911.7243 8311.2594,-1848.913"/>
<polygon fill="#000000" stroke="#000000" points="8314.6251,-1849.8742 8314.1419,-1839.2903 8307.9195,-1847.8654 8314.6251,-1849.8742"/>
</g>
<!-- leaf_135 -->
<g id="node136" class="node">
<title>leaf_135</title>
<polygon fill="none" stroke="#c0c0c0" points="8218,-857.0031 8111,-857.0031 8111,-801.2001 8218,-801.2001 8218,-857.0031"/>
<text text-anchor="middle" x="8164.5" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">Same as list.</text>
</g>
<!-- prose_134&#45;&gt;leaf_135 -->
<g id="edge135" class="edge">
<title>prose_134&#45;&gt;leaf_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8317.346,-1803.3244C8313.4585,-1777.0678 8303.2389,-1727.8516 8278.5,-1694.2032 8262.0653,-1671.8497 8241.1891,-1682.3359 8227.5,-1658.2032 8075.0709,-1389.485 8133.4701,-990.6196 8156.727,-867.0094"/>
<polygon fill="#000000" stroke="#000000" points="8160.2171,-867.3932 8158.6649,-856.9127 8153.3426,-866.0737 8160.2171,-867.3932"/>
</g>
<!-- prose_138 -->
<g id="node139" class="node">
<title>prose_138</title>
<ellipse fill="none" stroke="#000000" cx="8475.5" cy="-1821.4035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8475.5" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_137&#45;&gt;prose_138 -->
<g id="edge138" class="edge">
<title>block_137&#45;&gt;prose_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8501.8736,-2116.9764C8497.1954,-2064.5477 8483.6791,-1913.0682 8478.0293,-1849.7492"/>
<polygon fill="#000000" stroke="#000000" points="8481.5059,-1849.3307 8477.1309,-1839.6814 8474.5336,-1849.9529 8481.5059,-1849.3307"/>
</g>
<!-- leaf_139 -->
<g id="node140" class="node">
<title>leaf_139</title>
<polygon fill="none" stroke="#c0c0c0" points="8658.5,-872.3019 8236.5,-872.3019 8236.5,-785.9013 8658.5,-785.9013 8658.5,-872.3019"/>
<text text-anchor="middle" x="8447.5" y="-841.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">A tag needs to cling, so we need to check the</text>
<text text-anchor="middle" x="8447.5" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">number of blank lines before and after a tag line, if any.</text>
<text text-anchor="middle" x="8447.5" y="-810.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">If even, a tag line clings down.</text>
</g>
<!-- prose_138&#45;&gt;leaf_139 -->
<g id="edge139" class="edge">
<title>prose_138&#45;&gt;leaf_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8474.9901,-1803.3331C8471.7748,-1689.3848 8454.274,-1069.1678 8449.003,-882.3663"/>
<polygon fill="#000000" stroke="#000000" points="8452.4981,-882.14 8448.7173,-872.2427 8445.5009,-882.3375 8452.4981,-882.14"/>
</g>
<!-- prose_145 -->
<g id="node146" class="node">
<title>prose_145</title>
<ellipse fill="none" stroke="#000000" cx="8859.5" cy="-1821.4035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8859.5" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_141&#45;&gt;prose_145 -->
<g id="edge145" class="edge">
<title>block_141&#45;&gt;prose_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8859.5,-2116.9764C8859.5,-2064.5477 8859.5,-1913.0682 8859.5,-1849.7492"/>
<polygon fill="#000000" stroke="#000000" points="8863.0001,-1849.6813 8859.5,-1839.6814 8856.0001,-1849.6814 8863.0001,-1849.6813"/>
</g>
<!-- prose_147 -->
<g id="node148" class="node">
<title>prose_147</title>
<ellipse fill="none" stroke="#000000" cx="9103.5" cy="-1821.4035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9103.5" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_142&#45;&gt;prose_147 -->
<g id="edge147" class="edge">
<title>block_142&#45;&gt;prose_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9014.0182,-2116.9764C9029.9608,-2064.3154 9076.1563,-1911.7243 9095.1718,-1848.913"/>
<polygon fill="#000000" stroke="#000000" points="9098.5372,-1849.8755 9098.0849,-1839.2903 9091.8375,-1847.8472 9098.5372,-1849.8755"/>
</g>
<!-- prose_149 -->
<g id="node150" class="node">
<title>prose_149</title>
<ellipse fill="none" stroke="#000000" cx="9315.5" cy="-1821.4035" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9315.5" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_143&#45;&gt;prose_149 -->
<g id="edge149" class="edge">
<title>block_143&#45;&gt;prose_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9166.2764,-2117.0682C9180.0241,-2088.7224 9207.545,-2032.2297 9231.5,-1984.6037 9255.766,-1936.3594 9284.7155,-1880.4706 9301.5137,-1848.2003"/>
<polygon fill="#000000" stroke="#000000" points="9304.8018,-1849.464 9306.3181,-1838.9783 9298.5937,-1846.2298 9304.8018,-1849.464"/>
</g>
<!-- codeblock_151 -->
<g id="node152" class="node">
<title>codeblock_151</title>
<ellipse fill="none" stroke="#000000" cx="9745.5" cy="-1821.4035" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9745.5" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 251&#45;359</text>
</g>
<!-- block_144&#45;&gt;codeblock_151 -->
<g id="edge151" class="edge">
<title>block_144&#45;&gt;codeblock_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9311.1801,-2117.0219C9320.01,-2086.0287 9341.8915,-2022.6371 9381.5,-1984.6037 9465.5738,-1903.8733 9596.4279,-1858.7547 9676.2151,-1837.3161"/>
<polygon fill="#000000" stroke="#000000" points="9677.3866,-1840.627 9686.1647,-1834.6944 9675.6029,-1833.858 9677.3866,-1840.627"/>
</g>
<!-- leaf_146 -->
<g id="node147" class="node">
<title>leaf_146</title>
<polygon fill="none" stroke="#c0c0c0" points="9042.5,-856.402 8676.5,-856.402 8676.5,-801.8012 9042.5,-801.8012 9042.5,-856.402"/>
<text text-anchor="middle" x="8859.5" y="-825.3016" font-family="Inconsolata" font-size="14.00" fill="#000000">A code block is anything between a code header and</text>
<text text-anchor="middle" x="8859.5" y="-809.9016" font-family="Inconsolata" font-size="14.00" fill="#000000">either a code footer or the end of a file. </text>
</g>
<!-- prose_145&#45;&gt;leaf_146 -->
<g id="edge146" class="edge">
<title>prose_145&#45;&gt;leaf_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8859.5,-1803.3331C8859.5,-1685.998 8859.5,-1031.8519 8859.5,-866.8831"/>
<polygon fill="#000000" stroke="#000000" points="8863.0001,-866.7352 8859.5,-856.7352 8856.0001,-866.7352 8863.0001,-866.7352"/>
</g>
<!-- leaf_148 -->
<g id="node149" class="node">
<title>leaf_148</title>
<polygon fill="none" stroke="#c0c0c0" points="9336,-847.1016 9061,-847.1016 9061,-811.1016 9336,-811.1016 9336,-847.1016"/>
<text text-anchor="middle" x="9198.5" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section : the Section to be blocked</text>
</g>
<!-- prose_147&#45;&gt;leaf_148 -->
<g id="edge148" class="edge">
<title>prose_147&#45;&gt;leaf_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9105.23,-1803.3331C9116.6996,-1683.5304 9181.7461,-1004.1008 9195.8163,-857.1337"/>
<polygon fill="#000000" stroke="#000000" points="9199.3062,-857.4057 9196.7752,-847.1176 9192.338,-856.7385 9199.3062,-857.4057"/>
</g>
<!-- leaf_150 -->
<g id="node151" class="node">
<title>leaf_150</title>
<polygon fill="none" stroke="#c0c0c0" points="9727,-847.1016 9354,-847.1016 9354,-811.1016 9727,-811.1016 9727,-847.1016"/>
<text text-anchor="middle" x="9540.5" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; returns : the same Section, filled in with blocks</text>
</g>
<!-- prose_149&#45;&gt;leaf_150 -->
<g id="edge150" class="edge">
<title>prose_149&#45;&gt;leaf_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9319.5974,-1803.3331C9346.7621,-1683.5304 9500.8197,-1004.1008 9534.1439,-857.1337"/>
<polygon fill="#000000" stroke="#000000" points="9537.6169,-857.644 9536.415,-847.1176 9530.7902,-856.0961 9537.6169,-857.644"/>
</g>
<!-- leaf_152 -->
<g id="node153" class="node">
<title>leaf_152</title>
<polygon fill="none" stroke="#c0c0c0" points="10328,-1658.3048 9745,-1658.3048 9745,.1016 10328,.1016 10328,-1658.3048"/>
<text text-anchor="middle" x="10036.5" y="-1643.0032" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.block(section)</text>
<text text-anchor="middle" x="10036.5" y="-1627.6032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; There is always a header at [1], though it may be nil</text>
<text text-anchor="middle" x="10036.5" y="-1612.2032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If there are other Nodes, they are sections and must be appended</text>
<text text-anchor="middle" x="10036.5" y="-1596.8031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; after the blocks.</text>
<text text-anchor="middle" x="10036.5" y="-1581.4031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local sub_sections = {}</text>
<text text-anchor="middle" x="10036.5" y="-1566.0031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i = 2, #section do</text>
<text text-anchor="middle" x="10036.5" y="-1550.603" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;sub_sections[#sub_sections + 1] = section[i]</text>
<text text-anchor="middle" x="10036.5" y="-1535.203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[i] = nil</text>
<text text-anchor="middle" x="10036.5" y="-1519.803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10036.5" y="-1488.4029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Every section gets at least one block, at [2], which may be empty.</text>
<text text-anchor="middle" x="10036.5" y="-1473.0029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local latest = Block(nil, section.line_first) &#45;&#45; current block</text>
<text text-anchor="middle" x="10036.5" y="-1457.6029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section[2] = latest</text>
<text text-anchor="middle" x="10036.5" y="-1426.2028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; State machine for blocking a section</text>
<text text-anchor="middle" x="10036.5" y="-1410.8028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local back_blanks = 0</text>
<text text-anchor="middle" x="10036.5" y="-1395.4028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; first set of blank lines in a section belong to the first block</text>
<text text-anchor="middle" x="10036.5" y="-1380.0027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local lead_blanks = true</text>
<text text-anchor="middle" x="10036.5" y="-1364.6027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Track code blocks in own logic</text>
<text text-anchor="middle" x="10036.5" y="-1349.2027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local code_block = false</text>
<text text-anchor="middle" x="10036.5" y="-1333.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Tags also</text>
<text text-anchor="middle" x="10036.5" y="-1318.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local tagging = false</text>
<text text-anchor="middle" x="10036.5" y="-1303.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i = 1, #section.lines do</text>
<text text-anchor="middle" x="10036.5" y="-1287.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local inset = i + section.line_first</text>
<text text-anchor="middle" x="10036.5" y="-1272.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local l = section.lines[i]</text>
<text text-anchor="middle" x="10036.5" y="-1256.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not code_block then</text>
<text text-anchor="middle" x="10036.5" y="-1241.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if l == &quot;&quot; then </text>
<text text-anchor="middle" x="10036.5" y="-1226.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; increment back blanks for clinging subsequent lines</text>
<text text-anchor="middle" x="10036.5" y="-1210.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = back_blanks + 1</text>
<text text-anchor="middle" x="10036.5" y="-1195.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; blank lines attach to the preceding block</text>
<text text-anchor="middle" x="10036.5" y="-1179.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="10036.5" y="-1164.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10036.5" y="-1149.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local isCodeHeader, level, l_trim = Codeblock.matchHead(l)</text>
<text text-anchor="middle" x="10036.5" y="-1133.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if isCodeHeader then</text>
<text text-anchor="middle" x="10036.5" y="-1118.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_block = true</text>
<text text-anchor="middle" x="10036.5" y="-1102.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not tagging then</text>
<text text-anchor="middle" x="10036.5" y="-1087.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; create a new block for the codeblock</text>
<text text-anchor="middle" x="10036.5" y="-1072.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest.line_last = inset &#45; 1</text>
<text text-anchor="middle" x="10036.5" y="-1056.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = Block(nil, inset)</text>
<text text-anchor="middle" x="10036.5" y="-1041.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1] = Codeblock(level, l_trim, inset)</text>
<text text-anchor="middle" x="10036.5" y="-1025.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = latest</text>
<text text-anchor="middle" x="10036.5" y="-1010.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10036.5" y="-995.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; preserve existing block and add codeblock</text>
<text text-anchor="middle" x="10036.5" y="-979.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tagging = false</text>
<text text-anchor="middle" x="10036.5" y="-964.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1] = Codeblock(level, l_trim, inset)</text>
<text text-anchor="middle" x="10036.5" y="-948.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10036.5" y="-933.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif isTagline(l) then</text>
<text text-anchor="middle" x="10036.5" y="-918.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tagging = true</text>
<text text-anchor="middle" x="10036.5" y="-902.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; apply cling rule</text>
<text text-anchor="middle" x="10036.5" y="-887.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local fwd_blanks = fwdBlanks(section.lines, i)</text>
<text text-anchor="middle" x="10036.5" y="-871.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if fwd_blanks &gt; back_blanks then</text>
<text text-anchor="middle" x="10036.5" y="-856.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="10036.5" y="-841.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10036.5" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; new block</text>
<text text-anchor="middle" x="10036.5" y="-810.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest.line_last = inset &#45; 1</text>
<text text-anchor="middle" x="10036.5" y="-794.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = Block(l, inset)</text>
<text text-anchor="middle" x="10036.5" y="-779.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = latest</text>
<text text-anchor="middle" x="10036.5" y="-764.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = 0</text>
<text text-anchor="middle" x="10036.5" y="-748.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="middle" x="10036.5" y="-733.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10036.5" y="-717.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if back_blanks &gt; 0 and lead_blanks == false then</text>
<text text-anchor="middle" x="10036.5" y="-702.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not tagging then</text>
<text text-anchor="middle" x="10036.5" y="-687.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; new block</text>
<text text-anchor="middle" x="10036.5" y="-671.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest.line_last = inset &#45; 1</text>
<text text-anchor="middle" x="10036.5" y="-656.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = Block(l, inset)</text>
<text text-anchor="middle" x="10036.5" y="-640.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = latest</text>
<text text-anchor="middle" x="10036.5" y="-625.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = 0</text>
<text text-anchor="middle" x="10036.5" y="-610.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10036.5" y="-594.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="10036.5" y="-579.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tagging = false</text>
<text text-anchor="middle" x="10036.5" y="-563.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end </text>
<text text-anchor="middle" x="10036.5" y="-548.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10036.5" y="-533.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; continuing a block</text>
<text text-anchor="middle" x="10036.5" y="-517.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;lead_blanks = false</text>
<text text-anchor="middle" x="10036.5" y="-502.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = 0</text>
<text text-anchor="middle" x="10036.5" y="-486.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="10036.5" y="-471.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10036.5" y="-456.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10036.5" y="-440.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10036.5" y="-425.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10036.5" y="-409.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Collecting a code block</text>
<text text-anchor="middle" x="10036.5" y="-394.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local isCodeFoot, level, l_trim = Codeblock.matchFoot(l)</text>
<text text-anchor="middle" x="10036.5" y="-379.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if (isCodeFoot and level == latest[1].level) then</text>
<text text-anchor="middle" x="10036.5" y="-363.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_block = false</text>
<text text-anchor="middle" x="10036.5" y="-348.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].footer = l_trim</text>
<text text-anchor="middle" x="10036.5" y="-332.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].line_last = inset</text>
<text text-anchor="middle" x="10036.5" y="-317.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10036.5" y="-302.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].lines[#latest[1].lines + 1] = l</text>
<text text-anchor="middle" x="10036.5" y="-286.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10036.5" y="-271.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Continue in normal parse mode</text>
<text text-anchor="middle" x="10036.5" y="-255.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; This may add more lines to the code block</text>
<text text-anchor="middle" x="10036.5" y="-240.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10036.5" y="-225.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10036.5" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Auto&#45;close a code block with no footer.</text>
<text text-anchor="middle" x="10036.5" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if latest[1] and latest[1].id == &quot;codeblock&quot; and not latest[1].line_last then</text>
<text text-anchor="middle" x="10036.5" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].line_last = #section.lines</text>
<text text-anchor="middle" x="10036.5" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10036.5" y="-132.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Close last block</text>
<text text-anchor="middle" x="10036.5" y="-116.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;latest.line_last = section.line_last</text>
<text text-anchor="middle" x="10036.5" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Append sections, if any, which follow our blocks</text>
<text text-anchor="middle" x="10036.5" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, v in ipairs(sub_sections) do</text>
<text text-anchor="middle" x="10036.5" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = v</text>
<text text-anchor="middle" x="10036.5" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10036.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="10036.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_151&#45;&gt;leaf_152 -->
<g id="edge152" class="edge">
<title>codeblock_151&#45;&gt;leaf_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9750.7993,-1803.3331C9758.0164,-1778.723 9772.1589,-1730.4974 9790.4506,-1668.1233"/>
<polygon fill="#000000" stroke="#000000" points="9793.8444,-1668.9877 9793.3,-1658.4068 9787.1273,-1667.0178 9793.8444,-1668.9877"/>
</g>
<!-- prose_158 -->
<g id="node159" class="node">
<title>prose_158</title>
<ellipse fill="none" stroke="#000000" cx="9528.5" cy="-2357.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9528.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_154&#45;&gt;prose_158 -->
<g id="edge158" class="edge">
<title>block_154&#45;&gt;prose_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9578.751,-2428.5129C9569.3736,-2415.2059 9556.5103,-2396.9523 9546.146,-2382.2448"/>
<polygon fill="#000000" stroke="#000000" points="9548.999,-2380.2173 9540.3776,-2374.0592 9543.277,-2384.2496 9548.999,-2380.2173"/>
</g>
<!-- prose_160 -->
<g id="node161" class="node">
<title>prose_160</title>
<ellipse fill="none" stroke="#000000" cx="9740.5" cy="-2357.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9740.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_155&#45;&gt;prose_160 -->
<g id="edge160" class="edge">
<title>block_155&#45;&gt;prose_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9740.5,-2428.5129C9740.5,-2416.153 9740.5,-2399.5256 9740.5,-2385.4359"/>
<polygon fill="#000000" stroke="#000000" points="9744.0001,-2385.2688 9740.5,-2375.2688 9737.0001,-2385.2689 9744.0001,-2385.2688"/>
</g>
<!-- prose_162 -->
<g id="node163" class="node">
<title>prose_162</title>
<ellipse fill="none" stroke="#000000" cx="10076.5" cy="-2357.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10076.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_156&#45;&gt;prose_162 -->
<g id="edge162" class="edge">
<title>block_156&#45;&gt;prose_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10031.8324,-2428.5129C10040.0371,-2415.4148 10051.2437,-2397.5241 10060.3793,-2382.9399"/>
<polygon fill="#000000" stroke="#000000" points="10063.412,-2384.6915 10065.7544,-2374.3589 10057.4797,-2380.9755 10063.412,-2384.6915"/>
</g>
<!-- header_164 -->
<g id="node165" class="node">
<title>header_164</title>
<ellipse fill="none" stroke="#000000" cx="10244.5" cy="-2357.2043" rx="61.9429" ry="18"/>
<text text-anchor="middle" x="10244.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Prose line</text>
</g>
<!-- section_157&#45;&gt;header_164 -->
<g id="edge164" class="edge">
<title>section_157&#45;&gt;header_164</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10244.5,-2428.5129C10244.5,-2416.153 10244.5,-2399.5256 10244.5,-2385.4359"/>
<polygon fill="#000000" stroke="#000000" points="10248.0001,-2385.2688 10244.5,-2375.2688 10241.0001,-2385.2689 10248.0001,-2385.2688"/>
</g>
<!-- block_165 -->
<g id="node166" class="node">
<title>block_165</title>
<ellipse fill="none" stroke="#000000" cx="10422.5" cy="-2357.2043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10422.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 218&#45;223</text>
</g>
<!-- section_157&#45;&gt;block_165 -->
<g id="edge165" class="edge">
<title>section_157&#45;&gt;block_165</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10277.1479,-2430.207C10306.6534,-2415.3879 10350.1961,-2393.5187 10381.9287,-2377.5811"/>
<polygon fill="#000000" stroke="#000000" points="10383.5905,-2380.6632 10390.9559,-2373.0473 10380.4487,-2374.4078 10383.5905,-2380.6632"/>
</g>
<!-- leaf_159 -->
<g id="node160" class="node">
<title>leaf_159</title>
<polygon fill="none" stroke="#c0c0c0" points="9539,-2155.1061 9390,-2155.1061 9390,-2115.3019 9539,-2115.3019 9539,-2155.1061"/>
<text text-anchor="middle" x="9464.5" y="-2123.704" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Blocks a Section.</text>
</g>
<!-- prose_158&#45;&gt;leaf_159 -->
<g id="edge159" class="edge">
<title>prose_158&#45;&gt;leaf_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9523.3708,-2339.4124C9512.3954,-2301.3413 9486.5367,-2211.644 9473.0389,-2164.8232"/>
<polygon fill="#000000" stroke="#000000" points="9476.3334,-2163.6158 9470.2002,-2154.9767 9469.6073,-2165.5549 9476.3334,-2163.6158"/>
</g>
<!-- leaf_161 -->
<g id="node162" class="node">
<title>leaf_161</title>
<polygon fill="none" stroke="#c0c0c0" points="9923.5,-2154.5046 9557.5,-2154.5046 9557.5,-2115.9034 9923.5,-2115.9034 9923.5,-2154.5046"/>
<text text-anchor="middle" x="9740.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000">This is a moderately complex state machine, which</text>
<text text-anchor="middle" x="9740.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000">works on a line&#45;by&#45;line basis with some lookahead.</text>
</g>
<!-- prose_160&#45;&gt;leaf_161 -->
<g id="edge161" class="edge">
<title>prose_160&#45;&gt;leaf_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9740.5,-2339.0371C9740.5,-2300.7045 9740.5,-2211.2556 9740.5,-2164.6391"/>
<polygon fill="#000000" stroke="#000000" points="9744.0001,-2164.5696 9740.5,-2154.5696 9737.0001,-2164.5696 9744.0001,-2164.5696"/>
</g>
<!-- leaf_163 -->
<g id="node164" class="node">
<title>leaf_163</title>
<polygon fill="none" stroke="#c0c0c0" points="10405.5,-2185.7042 9941.5,-2185.7042 9941.5,-2084.7038 10405.5,-2084.7038 10405.5,-2185.7042"/>
<text text-anchor="middle" x="10173.5" y="-2170.5041" font-family="Inconsolata" font-size="14.00" fill="#000000">First off, we have a Header at [1], and may have one or </text>
<text text-anchor="middle" x="10173.5" y="-2155.104" font-family="Inconsolata" font-size="14.00" fill="#000000">more Sections The blocks go between the Header and the remaining</text>
<text text-anchor="middle" x="10173.5" y="-2139.704" font-family="Inconsolata" font-size="14.00" fill="#000000">Sections, so we have to lift them and append after blocking.</text>
<text text-anchor="middle" x="10173.5" y="-2124.304" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="10173.5" y="-2108.9039" font-family="Inconsolata" font-size="14.00" fill="#000000">Next, we parse the lines, thus:</text>
</g>
<!-- prose_162&#45;&gt;leaf_163 -->
<g id="edge163" class="edge">
<title>prose_162&#45;&gt;leaf_163</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10084.2739,-2339.4124C10097.7609,-2308.5453 10126.0762,-2243.7412 10147.2124,-2195.3674"/>
<polygon fill="#000000" stroke="#000000" points="10150.5408,-2196.4915 10151.3374,-2185.9266 10144.1263,-2193.6887 10150.5408,-2196.4915"/>
</g>
<!-- prose_166 -->
<g id="node167" class="node">
<title>prose_166</title>
<ellipse fill="none" stroke="#000000" cx="10455.5" cy="-2135.204" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10455.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_165&#45;&gt;prose_166 -->
<g id="edge166" class="edge">
<title>block_165&#45;&gt;prose_166</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10425.2005,-2339.0371C10430.9557,-2300.3203 10444.4624,-2209.457 10451.331,-2163.2501"/>
<polygon fill="#000000" stroke="#000000" points="10454.8,-2163.7169 10452.8084,-2153.3109 10447.8761,-2162.6876 10454.8,-2163.7169"/>
</g>
<!-- leaf_167 -->
<g id="node168" class="node">
<title>leaf_167</title>
<polygon fill="none" stroke="#c0c0c0" points="10649,-1856.7038 10262,-1856.7038 10262,-1786.1031 10649,-1786.1031 10649,-1856.7038"/>
<text text-anchor="middle" x="10455.5" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">If preceded by at least one blank line,</text>
<text text-anchor="middle" x="10455.5" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">make a new block, otherwise append to existing block.</text>
</g>
<!-- prose_166&#45;&gt;leaf_167 -->
<g id="edge167" class="edge">
<title>prose_166&#45;&gt;leaf_167</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10455.5,-2116.9764C10455.5,-2068.8884 10455.5,-1937.4722 10455.5,-1867.1831"/>
<polygon fill="#000000" stroke="#000000" points="10459.0001,-1866.861 10455.5,-1856.8611 10452.0001,-1866.8611 10459.0001,-1866.861"/>
</g>
<!-- prose_173 -->
<g id="node174" class="node">
<title>prose_173</title>
<ellipse fill="none" stroke="#000000" cx="10890.5" cy="-2357.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10890.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_169&#45;&gt;prose_173 -->
<g id="edge173" class="edge">
<title>block_169&#45;&gt;prose_173</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11026.4387,-2430.4147C10997.1422,-2414.6369 10952.7436,-2390.7259 10922.7288,-2374.5613"/>
<polygon fill="#000000" stroke="#000000" points="10924.3723,-2371.4711 10913.9084,-2369.811 10921.0532,-2377.6342 10924.3723,-2371.4711"/>
</g>
<!-- prose_175 -->
<g id="node176" class="node">
<title>prose_175</title>
<ellipse fill="none" stroke="#000000" cx="11205.5" cy="-2357.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11205.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_170&#45;&gt;prose_175 -->
<g id="edge175" class="edge">
<title>block_170&#45;&gt;prose_175</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11205.5,-2428.5129C11205.5,-2416.153 11205.5,-2399.5256 11205.5,-2385.4359"/>
<polygon fill="#000000" stroke="#000000" points="11209.0001,-2385.2688 11205.5,-2375.2688 11202.0001,-2385.2689 11209.0001,-2385.2688"/>
</g>
<!-- prose_177 -->
<g id="node178" class="node">
<title>prose_177</title>
<ellipse fill="none" stroke="#000000" cx="11520.5" cy="-2357.2043" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11520.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_171&#45;&gt;prose_177 -->
<g id="edge177" class="edge">
<title>block_171&#45;&gt;prose_177</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11475.8324,-2428.5129C11484.0371,-2415.4148 11495.2437,-2397.5241 11504.3793,-2382.9399"/>
<polygon fill="#000000" stroke="#000000" points="11507.412,-2384.6915 11509.7544,-2374.3589 11501.4797,-2380.9755 11507.412,-2384.6915"/>
</g>
<!-- codeblock_179 -->
<g id="node180" class="node">
<title>codeblock_179</title>
<ellipse fill="none" stroke="#000000" cx="11794.5" cy="-2357.2043" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11794.5" y="-2353.0043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 373&#45;393</text>
</g>
<!-- block_172&#45;&gt;codeblock_179 -->
<g id="edge179" class="edge">
<title>block_172&#45;&gt;codeblock_179</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11745.8443,-2428.5129C11754.6085,-2415.6683 11766.5174,-2398.2149 11776.3596,-2383.7904"/>
<polygon fill="#000000" stroke="#000000" points="11779.4289,-2385.5019 11782.1741,-2375.2688 11773.6467,-2381.5565 11779.4289,-2385.5019"/>
</g>
<!-- leaf_174 -->
<g id="node175" class="node">
<title>leaf_174</title>
<polygon fill="none" stroke="#c0c0c0" points="10941.5,-2155.1061 10505.5,-2155.1061 10505.5,-2115.3019 10941.5,-2115.3019 10941.5,-2155.1061"/>
<text text-anchor="middle" x="10723.5" y="-2123.704" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Creates a new section, given a header and the line number.</text>
</g>
<!-- prose_173&#45;&gt;leaf_174 -->
<g id="edge174" class="edge">
<title>prose_173&#45;&gt;leaf_174</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10877.9479,-2340.5182C10849.4551,-2302.6416 10779.642,-2209.8359 10744.472,-2163.0829"/>
<polygon fill="#000000" stroke="#000000" points="10747.1344,-2160.8 10738.3259,-2154.9127 10741.5404,-2165.0081 10747.1344,-2160.8"/>
</g>
<!-- leaf_176 -->
<g id="node177" class="node">
<title>leaf_176</title>
<polygon fill="none" stroke="#c0c0c0" points="11451.5,-2169.8053 10959.5,-2169.8053 10959.5,-2100.6027 11451.5,-2100.6027 11451.5,-2169.8053"/>
<text text-anchor="middle" x="11205.5" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; header : &#160;Header for the section, which may be of type Header or </text>
<text text-anchor="middle" x="11205.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;a number. &#160;A number means the header is virtual.</text>
<text text-anchor="middle" x="11205.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; linum &#160;: &#160;The line number of the header, which is the first of the</text>
<text text-anchor="middle" x="11205.5" y="-2108.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Section.</text>
</g>
<!-- prose_175&#45;&gt;leaf_176 -->
<g id="edge176" class="edge">
<title>prose_175&#45;&gt;leaf_176</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11205.5,-2339.0371C11205.5,-2304.6916 11205.5,-2229.3103 11205.5,-2180.4697"/>
<polygon fill="#000000" stroke="#000000" points="11209.0001,-2180.1739 11205.5,-2170.174 11202.0001,-2180.174 11209.0001,-2180.1739"/>
</g>
<!-- leaf_178 -->
<g id="node179" class="node">
<title>leaf_178</title>
<polygon fill="none" stroke="#c0c0c0" points="11681.5,-2153.204 11469.5,-2153.204 11469.5,-2117.204 11681.5,-2117.204 11681.5,-2153.204"/>
<text text-anchor="middle" x="11575.5" y="-2131.704" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; return : &#160;The new Section.</text>
</g>
<!-- prose_177&#45;&gt;leaf_178 -->
<g id="edge178" class="edge">
<title>prose_177&#45;&gt;leaf_178</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11525.0009,-2339.0371C11534.5929,-2300.3203 11557.104,-2209.457 11568.5517,-2163.2501"/>
<polygon fill="#000000" stroke="#000000" points="11572.0065,-2163.8591 11571.0141,-2153.3109 11565.2119,-2162.1757 11572.0065,-2163.8591"/>
</g>
<!-- leaf_180 -->
<g id="node181" class="node">
<title>leaf_180</title>
<polygon fill="none" stroke="#c0c0c0" points="12009.5,-2285.9046 11699.5,-2285.9046 11699.5,-1984.5034 12009.5,-1984.5034 12009.5,-2285.9046"/>
<text text-anchor="middle" x="11854.5" y="-2270.6043" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(section, header, linum)</text>
<text text-anchor="middle" x="11854.5" y="-2255.2042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local section = setmetatable({}, S)</text>
<text text-anchor="middle" x="11854.5" y="-2239.8042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if type(header) == &quot;number&quot; then</text>
<text text-anchor="middle" x="11854.5" y="-2224.4042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; We have a virtual header</text>
<text text-anchor="middle" x="11854.5" y="-2209.0042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[1] = Header(&quot;&quot;, header)</text>
<text text-anchor="middle" x="11854.5" y="-2193.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.header = nil</text>
<text text-anchor="middle" x="11854.5" y="-2178.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.level = header</text>
<text text-anchor="middle" x="11854.5" y="-2162.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="11854.5" y="-2147.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[1] = header</text>
<text text-anchor="middle" x="11854.5" y="-2132.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.header = header</text>
<text text-anchor="middle" x="11854.5" y="-2116.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.level = header.level</text>
<text text-anchor="middle" x="11854.5" y="-2101.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11854.5" y="-2085.8039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.line_first = linum</text>
<text text-anchor="middle" x="11854.5" y="-2070.4039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.lines = {}</text>
<text text-anchor="middle" x="11854.5" y="-2055.0038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.id = &quot;section&quot;</text>
<text text-anchor="middle" x="11854.5" y="-2039.6038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="11854.5" y="-2024.2038" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="11854.5" y="-1992.8037" font-family="Inconsolata" font-size="14.00" fill="#000000">return u.export(s, new)</text>
</g>
<!-- codeblock_179&#45;&gt;leaf_180 -->
<g id="edge180" class="edge">
<title>codeblock_179&#45;&gt;leaf_180</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11799.4101,-2339.0371C11802.3855,-2328.0279 11806.5005,-2312.8024 11811.1535,-2295.5861"/>
<polygon fill="#000000" stroke="#000000" points="11814.5597,-2296.3977 11813.7901,-2285.8309 11807.8022,-2294.5713 11814.5597,-2296.3977"/>
</g>
</g>
</svg>