<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="12603pt" height="2754pt"
 viewBox="0.00 0.00 12602.50 2754.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2750.2045)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2750.2045 12598.5,-2750.2045 12598.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1900.5" cy="-2728.2045" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1900.5" y="-2724.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 394</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1900.5" cy="-2656.2045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1900.5" y="-2652.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;361</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1900.5,-2710.0358C1900.5,-2702.3354 1900.5,-2693.1788 1900.5,-2684.6211"/>
<polygon fill="#000000" stroke="#000000" points="1904.0001,-2684.6177 1900.5,-2674.6177 1897.0001,-2684.6178 1904.0001,-2684.6177"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1234.5" cy="-2584.2045" rx="93.3745" ry="18"/>
<text text-anchor="middle" x="1234.5" y="-2580.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Section metatable</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1836.4506,-2651.733C1731.6375,-2644.0434 1517.0606,-2626.7409 1336.5,-2602.2045 1328.3036,-2601.0907 1319.7595,-2599.7959 1311.2572,-2598.4213"/>
<polygon fill="#000000" stroke="#000000" points="1311.7561,-2594.9563 1301.3189,-2596.7769 1310.6134,-2601.8625 1311.7561,-2594.9563"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="1391.5" cy="-2584.2045" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="1391.5" y="-2580.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;6</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1835.9223,-2652.5558C1747.2733,-2646.6358 1583.3012,-2632.4135 1446.5,-2602.2045 1442.8517,-2601.3988 1439.1027,-2600.4474 1435.3593,-2599.4096"/>
<polygon fill="#000000" stroke="#000000" points="1436.1186,-2595.9843 1425.5363,-2596.5013 1434.1313,-2602.6963 1436.1186,-2595.9843"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="1501.5" cy="-2584.2045" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="1501.5" y="-2580.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 7&#45;9</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1839.3346,-2649.6116C1770.0954,-2641.4552 1654.2183,-2625.7035 1556.5,-2602.2045 1552.8673,-2601.3309 1549.1295,-2600.3313 1545.3937,-2599.2607"/>
<polygon fill="#000000" stroke="#000000" points="1546.1679,-2595.8385 1535.583,-2596.2988 1544.1447,-2602.5397 1546.1679,-2595.8385"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="1621.5" cy="-2584.2045" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1621.5" y="-2580.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 10&#45;12</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1851.5464,-2644.1912C1808.118,-2633.4529 1742.99,-2617.1513 1686.5,-2602.2045 1682.2462,-2601.0789 1677.8407,-2599.896 1673.4196,-2598.6967"/>
<polygon fill="#000000" stroke="#000000" points="1674.338,-2595.3194 1663.7691,-2596.0613 1672.4938,-2602.0722 1674.338,-2595.3194"/>
</g>
<!-- block_6 -->
<g id="node7" class="node">
<title>block_6</title>
<ellipse fill="none" stroke="#000000" cx="1756.5" cy="-2584.2045" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="1756.5" y="-2580.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 13&#45;361</text>
</g>
<!-- section_1&#45;&gt;block_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;block_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1868.8986,-2640.4038C1847.6512,-2629.78 1819.4639,-2615.6864 1796.6324,-2604.2707"/>
<polygon fill="#000000" stroke="#000000" points="1798.0421,-2601.0625 1787.5326,-2599.7208 1794.9116,-2607.3235 1798.0421,-2601.0625"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="1900.5" cy="-2584.2045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1900.5" y="-2580.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 16&#45;21</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1900.5,-2638.0358C1900.5,-2630.3354 1900.5,-2621.1788 1900.5,-2612.6211"/>
<polygon fill="#000000" stroke="#000000" points="1904.0001,-2612.6177 1900.5,-2602.6177 1897.0001,-2612.6178 1904.0001,-2612.6177"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="2094.5" cy="-2584.2045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2094.5" y="-2580.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 22&#45;29</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1939.7588,-2641.6342C1970.3929,-2630.2648 2013.1077,-2614.4119 2045.8998,-2602.2416"/>
<polygon fill="#000000" stroke="#000000" points="2047.1423,-2605.5139 2055.2996,-2598.7531 2044.7066,-2598.9513 2047.1423,-2605.5139"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="2720.5" cy="-2584.2045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2720.5" y="-2580.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 46&#45;79</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1963.144,-2650.704C2112.4295,-2637.596 2488.5458,-2604.5712 2647.6358,-2590.6023"/>
<polygon fill="#000000" stroke="#000000" points="2648.1407,-2594.0715 2657.7962,-2589.7102 2647.5284,-2587.0983 2648.1407,-2594.0715"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="5284.5" cy="-2584.2045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5284.5" y="-2580.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 125&#45;166</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1966.2025,-2654.8065C2388.6711,-2645.8178 4720.4151,-2596.2063 5198.7351,-2586.0292"/>
<polygon fill="#000000" stroke="#000000" points="5199.0951,-2589.5225 5209.0184,-2585.8105 5198.9462,-2582.5241 5199.0951,-2589.5225"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="10105.5" cy="-2584.2045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10105.5" y="-2580.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 204&#45;217</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1966.2458,-2655.6275C2691.8808,-2649.26 9195.5725,-2592.1892 10019.7553,-2584.9569"/>
<polygon fill="#000000" stroke="#000000" points="10020.081,-2588.4543 10030.0499,-2584.8665 10020.0195,-2581.4545 10020.081,-2588.4543"/>
</g>
<!-- section_12 -->
<g id="node13" class="node">
<title>section_12</title>
<ellipse fill="none" stroke="#000000" cx="11779.5" cy="-2584.2045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11779.5" y="-2580.0045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 362&#45;394</text>
</g>
<!-- section_1&#45;&gt;section_12 -->
<g id="edge12" class="edge">
<title>section_1&#45;&gt;section_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1966.4257,-2655.8962C2541.3168,-2653.1834 6763.6954,-2632.7546 10189.5,-2602.2045 10763.7699,-2597.0833 11454.681,-2588.3988 11693.4361,-2585.3241"/>
<polygon fill="#000000" stroke="#000000" points="11693.8286,-2588.8195 11703.7826,-2585.1907 11693.7383,-2581.82 11693.8286,-2588.8195"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="457,-2530.1048 0,-2530.1048 0,-2459.5041 457,-2459.5041 457,-2530.1048"/>
<text text-anchor="middle" x="228.5" y="-2483.0045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Sections consist of a header and body. &#160;The body may contain</text>
<text text-anchor="middle" x="228.5" y="-2467.6044" font-family="Inconsolata" font-size="14.00" fill="#000000"> one or more blocks, followed by zero or more child sections.</text>
</g>
<!-- block_3&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>block_3&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1358.1368,-2571.6689C1351.0834,-2569.4776 1343.6185,-2567.491 1336.5,-2566.2045 958.4927,-2497.8883 853.0005,-2565.696 467.1046,-2530.314"/>
<polygon fill="#000000" stroke="#000000" points="467.3464,-2526.8215 457.0642,-2529.3761 466.6952,-2533.7911 467.3464,-2526.8215"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="918,-2514.105 475,-2514.105 475,-2475.5039 918,-2475.5039 918,-2514.105"/>
<text text-anchor="middle" x="696.5" y="-2499.0045" font-family="Inconsolata" font-size="14.00" fill="#000000"> The header and block may both be virtual, but will always be</text>
<text text-anchor="middle" x="696.5" y="-2483.6044" font-family="Inconsolata" font-size="14.00" fill="#000000"> present.</text>
</g>
<!-- block_4&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>block_4&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1468.1079,-2571.8228C1461.0566,-2569.6204 1453.5998,-2567.5903 1446.5,-2566.2045 1219.5619,-2521.9076 1157.3067,-2555.7388 927.5,-2530.2045 892.6338,-2526.3304 854.968,-2521.0349 820.3713,-2515.7202"/>
<polygon fill="#000000" stroke="#000000" points="820.6394,-2512.22 810.2213,-2514.1471 819.5673,-2519.1375 820.6394,-2512.22"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="1330.5,-2514.105 936.5,-2514.105 936.5,-2475.5039 1330.5,-2475.5039 1330.5,-2514.105"/>
<text text-anchor="middle" x="1133.5" y="-2499.0045" font-family="Inconsolata" font-size="14.00" fill="#000000"> In the first pass, we fill a lines array with the raw</text>
<text text-anchor="middle" x="1133.5" y="-2483.6044" font-family="Inconsolata" font-size="14.00" fill="#000000"> contents of the section. </text>
</g>
<!-- block_5&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>block_5&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1580.0532,-2572.0234C1572.264,-2569.9346 1564.1609,-2567.8957 1556.5,-2566.2045 1461.036,-2545.1296 1435.8978,-2546.4832 1339.5,-2530.2045 1312.2529,-2525.6032 1282.9887,-2520.6072 1255.318,-2515.8582"/>
<polygon fill="#000000" stroke="#000000" points="1255.6506,-2512.3642 1245.2024,-2514.121 1254.4657,-2519.2632 1255.6506,-2512.3642"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1722,-2514.7065 1349,-2514.7065 1349,-2474.9023 1722,-2474.9023 1722,-2514.7065"/>
<text text-anchor="middle" x="1535.5" y="-2499.3044" font-family="Inconsolata" font-size="14.00" fill="#000000"> This is subsequently refined into various blocks. </text>
</g>
<!-- block_6&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>block_6&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1720.5007,-2569.6418C1686.1911,-2555.7628 1633.9453,-2534.628 1593.7153,-2518.354"/>
<polygon fill="#000000" stroke="#000000" points="1594.8697,-2515.0455 1584.2869,-2514.5399 1592.2446,-2521.5346 1594.8697,-2515.0455"/>
</g>
<!-- header_17 -->
<g id="node18" class="node">
<title>header_17</title>
<ellipse fill="none" stroke="#000000" cx="1783.5" cy="-2494.8044" rx="43.082" ry="18"/>
<text text-anchor="middle" x="1783.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Array</text>
</g>
<!-- section_7&#45;&gt;header_17 -->
<g id="edge17" class="edge">
<title>section_7&#45;&gt;header_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1878.2178,-2567.1786C1859.5704,-2552.9301 1832.8287,-2532.4967 1812.5122,-2516.9727"/>
<polygon fill="#000000" stroke="#000000" points="1814.5895,-2514.1552 1804.5186,-2510.8648 1810.3395,-2519.7174 1814.5895,-2514.1552"/>
</g>
<!-- block_18 -->
<g id="node19" class="node">
<title>block_18</title>
<ellipse fill="none" stroke="#000000" cx="1900.5" cy="-2494.8044" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1900.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 16&#45;21</text>
</g>
<!-- section_7&#45;&gt;block_18 -->
<g id="edge18" class="edge">
<title>section_7&#45;&gt;block_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1900.5,-2566.113C1900.5,-2553.7531 1900.5,-2537.1257 1900.5,-2523.036"/>
<polygon fill="#000000" stroke="#000000" points="1904.0001,-2522.8689 1900.5,-2512.869 1897.0001,-2522.869 1904.0001,-2522.8689"/>
</g>
<!-- header_20 -->
<g id="node21" class="node">
<title>header_20</title>
<ellipse fill="none" stroke="#000000" cx="2020.5" cy="-2494.8044" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="2020.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Fields</text>
</g>
<!-- section_8&#45;&gt;header_20 -->
<g id="edge20" class="edge">
<title>section_8&#45;&gt;header_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2079.88,-2566.5419C2068.8628,-2553.2319 2053.605,-2534.7989 2041.3147,-2519.9509"/>
<polygon fill="#000000" stroke="#000000" points="2043.9105,-2517.5977 2034.8378,-2512.1261 2038.5181,-2522.0612 2043.9105,-2517.5977"/>
</g>
<!-- block_21 -->
<g id="node22" class="node">
<title>block_21</title>
<ellipse fill="none" stroke="#000000" cx="2140.5" cy="-2494.8044" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2140.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 22&#45;29</text>
</g>
<!-- section_8&#45;&gt;block_21 -->
<g id="edge21" class="edge">
<title>section_8&#45;&gt;block_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2103.8088,-2566.113C2110.3986,-2553.3059 2119.346,-2535.9168 2126.7554,-2521.5168"/>
<polygon fill="#000000" stroke="#000000" points="2129.8989,-2523.0572 2131.362,-2512.5639 2123.6745,-2519.8545 2129.8989,-2523.0572"/>
</g>
<!-- section_22 -->
<g id="node23" class="node">
<title>section_22</title>
<ellipse fill="none" stroke="#000000" cx="2279.5" cy="-2494.8044" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2279.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 30&#45;45</text>
</g>
<!-- section_8&#45;&gt;section_22 -->
<g id="edge22" class="edge">
<title>section_8&#45;&gt;section_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2127.1484,-2568.4273C2157.9636,-2553.5361 2204.309,-2531.14 2237.789,-2514.961"/>
<polygon fill="#000000" stroke="#000000" points="2239.3864,-2518.0764 2246.8673,-2510.574 2236.3406,-2511.7737 2239.3864,-2518.0764"/>
</g>
<!-- header_31 -->
<g id="node32" class="node">
<title>header_31</title>
<ellipse fill="none" stroke="#000000" cx="2472.5" cy="-2494.8044" rx="108.8185" ry="18"/>
<text text-anchor="middle" x="2472.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Metatable for sections</text>
</g>
<!-- section_9&#45;&gt;header_31 -->
<g id="edge31" class="edge">
<title>section_9&#45;&gt;header_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2680.6545,-2569.8408C2639.2379,-2554.9108 2574.1056,-2531.4316 2527.7353,-2514.7159"/>
<polygon fill="#000000" stroke="#000000" points="2528.7349,-2511.3558 2518.1405,-2511.2571 2526.361,-2517.941 2528.7349,-2511.3558"/>
</g>
<!-- block_32 -->
<g id="node33" class="node">
<title>block_32</title>
<ellipse fill="none" stroke="#000000" cx="2655.5" cy="-2494.8044" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2655.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 46&#45;47</text>
</g>
<!-- section_9&#45;&gt;block_32 -->
<g id="edge32" class="edge">
<title>section_9&#45;&gt;block_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2707.6581,-2566.5419C2698.1323,-2553.4402 2684.9973,-2535.3746 2674.292,-2520.6506"/>
<polygon fill="#000000" stroke="#000000" points="2677.0268,-2518.4602 2668.3152,-2512.4303 2671.3651,-2522.5767 2677.0268,-2518.4602"/>
</g>
<!-- block_33 -->
<g id="node34" class="node">
<title>block_33</title>
<ellipse fill="none" stroke="#000000" cx="2785.5" cy="-2494.8044" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2785.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 48&#45;79</text>
</g>
<!-- section_9&#45;&gt;block_33 -->
<g id="edge33" class="edge">
<title>section_9&#45;&gt;block_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2733.3419,-2566.5419C2742.8677,-2553.4402 2756.0027,-2535.3746 2766.708,-2520.6506"/>
<polygon fill="#000000" stroke="#000000" points="2769.6349,-2522.5767 2772.6848,-2512.4303 2763.9732,-2518.4602 2769.6349,-2522.5767"/>
</g>
<!-- section_34 -->
<g id="node35" class="node">
<title>section_34</title>
<ellipse fill="none" stroke="#000000" cx="3076.5" cy="-2494.8044" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3076.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 66&#45;79</text>
</g>
<!-- section_9&#45;&gt;section_34 -->
<g id="edge34" class="edge">
<title>section_9&#45;&gt;section_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2769.2538,-2571.9612C2834.1409,-2555.6665 2948.743,-2526.8872 3018.1493,-2509.4577"/>
<polygon fill="#000000" stroke="#000000" points="3019.204,-2512.8016 3028.0503,-2506.9713 3017.499,-2506.0124 3019.204,-2512.8016"/>
</g>
<!-- section_35 -->
<g id="node36" class="node">
<title>section_35</title>
<ellipse fill="none" stroke="#000000" cx="3989.5" cy="-2494.8044" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3989.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 80&#45;102</text>
</g>
<!-- section_9&#45;&gt;section_35 -->
<g id="edge35" class="edge">
<title>section_9&#45;&gt;section_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2784.2996,-2579.7098C2996.633,-2564.7511 3679.1181,-2516.6706 3911.31,-2500.3129"/>
<polygon fill="#000000" stroke="#000000" points="3911.6346,-2503.7988 3921.3638,-2499.6046 3911.1426,-2496.8161 3911.6346,-2503.7988"/>
</g>
<!-- header_68 -->
<g id="node69" class="node">
<title>header_68</title>
<ellipse fill="none" stroke="#000000" cx="4868.5" cy="-2494.8044" rx="108.8358" ry="18"/>
<text text-anchor="middle" x="4868.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : addLine(section, line) </text>
</g>
<!-- section_10&#45;&gt;header_68 -->
<g id="edge68" class="edge">
<title>section_10&#45;&gt;header_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5220.1227,-2574.6782C5159.4723,-2565.1998 5066.2614,-2549.3316 4986.5,-2530.2045 4967.1062,-2525.5538 4946.1852,-2519.5944 4927.4224,-2513.8968"/>
<polygon fill="#000000" stroke="#000000" points="4928.4139,-2510.54 4917.827,-2510.9494 4926.3585,-2517.2314 4928.4139,-2510.54"/>
</g>
<!-- block_69 -->
<g id="node70" class="node">
<title>block_69</title>
<ellipse fill="none" stroke="#000000" cx="5061.5" cy="-2494.8044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5061.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 125&#45;128</text>
</g>
<!-- section_10&#45;&gt;block_69 -->
<g id="edge69" class="edge">
<title>section_10&#45;&gt;block_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5240.3798,-2569.4942C5210.492,-2559.218 5170.2639,-2544.7775 5135.5,-2530.2045 5124.5288,-2525.6053 5112.8387,-2520.2386 5102.0668,-2515.0948"/>
<polygon fill="#000000" stroke="#000000" points="5103.4052,-2511.8544 5092.8782,-2510.6568 5100.3607,-2518.1577 5103.4052,-2511.8544"/>
</g>
<!-- block_70 -->
<g id="node71" class="node">
<title>block_70</title>
<ellipse fill="none" stroke="#000000" cx="5210.5" cy="-2494.8044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5210.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 129&#45;135</text>
</g>
<!-- section_10&#45;&gt;block_70 -->
<g id="edge70" class="edge">
<title>section_10&#45;&gt;block_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5269.88,-2566.5419C5258.9338,-2553.3178 5243.8017,-2535.0365 5231.553,-2520.2387"/>
<polygon fill="#000000" stroke="#000000" points="5234.1622,-2517.9019 5225.0896,-2512.4303 5228.7699,-2522.3654 5234.1622,-2517.9019"/>
</g>
<!-- block_71 -->
<g id="node72" class="node">
<title>block_71</title>
<ellipse fill="none" stroke="#000000" cx="5359.5" cy="-2494.8044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5359.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 136&#45;137</text>
</g>
<!-- section_10&#45;&gt;block_71 -->
<g id="edge71" class="edge">
<title>section_10&#45;&gt;block_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5299.3176,-2566.5419C5310.4117,-2553.3178 5325.7483,-2535.0365 5338.1625,-2520.2387"/>
<polygon fill="#000000" stroke="#000000" points="5340.9675,-2522.3409 5344.7132,-2512.4303 5335.6047,-2517.8419 5340.9675,-2522.3409"/>
</g>
<!-- block_72 -->
<g id="node73" class="node">
<title>block_72</title>
<ellipse fill="none" stroke="#000000" cx="5549.5" cy="-2494.8044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5549.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 138&#45;166</text>
</g>
<!-- section_10&#45;&gt;block_72 -->
<g id="edge72" class="edge">
<title>section_10&#45;&gt;block_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5328.2594,-2569.4419C5374.9799,-2553.6803 5448.9436,-2528.728 5498.3278,-2512.0678"/>
<polygon fill="#000000" stroke="#000000" points="5499.505,-2515.3646 5507.8615,-2508.8515 5497.2673,-2508.7318 5499.505,-2515.3646"/>
</g>
<!-- section_73 -->
<g id="node74" class="node">
<title>section_73</title>
<ellipse fill="none" stroke="#000000" cx="6236.5" cy="-2494.8044" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6236.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 146&#45;166</text>
</g>
<!-- section_10&#45;&gt;section_73 -->
<g id="edge73" class="edge">
<title>section_10&#45;&gt;section_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5354.8894,-2577.5944C5527.8765,-2561.3496 5973.0052,-2519.5486 6156.0522,-2502.3591"/>
<polygon fill="#000000" stroke="#000000" points="6156.5204,-2505.8306 6166.1493,-2501.4109 6155.8658,-2498.8613 6156.5204,-2505.8306"/>
</g>
<!-- section_74 -->
<g id="node75" class="node">
<title>section_74</title>
<ellipse fill="none" stroke="#000000" cx="8041.5" cy="-2494.8044" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8041.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 167&#45;241</text>
</g>
<!-- section_10&#45;&gt;section_74 -->
<g id="edge74" class="edge">
<title>section_10&#45;&gt;section_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5359.3143,-2581.7785C5748.9372,-2569.1444 7543.6341,-2510.9485 7956.6006,-2497.5574"/>
<polygon fill="#000000" stroke="#000000" points="7956.7972,-2501.053 7966.6785,-2497.2306 7956.5702,-2494.0567 7956.7972,-2501.053"/>
</g>
<!-- header_133 -->
<g id="node134" class="node">
<title>header_133</title>
<ellipse fill="none" stroke="#000000" cx="9892.5" cy="-2494.8044" rx="55.6456" ry="18"/>
<text text-anchor="middle" x="9892.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Blocking</text>
</g>
<!-- section_11&#45;&gt;header_133 -->
<g id="edge133" class="edge">
<title>section_11&#45;&gt;header_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10059.7702,-2569.715C10029.9039,-2559.7462 9990.3176,-2545.5695 9956.5,-2530.2045 9947.0495,-2525.9106 9937.1083,-2520.7492 9927.9536,-2515.7121"/>
<polygon fill="#000000" stroke="#000000" points="9929.5426,-2512.5905 9919.1083,-2510.7533 9926.1195,-2518.6965 9929.5426,-2512.5905"/>
</g>
<!-- block_134 -->
<g id="node135" class="node">
<title>block_134</title>
<ellipse fill="none" stroke="#000000" cx="10031.5" cy="-2494.8044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10031.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 204&#45;207</text>
</g>
<!-- section_11&#45;&gt;block_134 -->
<g id="edge134" class="edge">
<title>section_11&#45;&gt;block_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10090.88,-2566.5419C10079.9338,-2553.3178 10064.8017,-2535.0365 10052.553,-2520.2387"/>
<polygon fill="#000000" stroke="#000000" points="10055.1622,-2517.9019 10046.0896,-2512.4303 10049.7699,-2522.3654 10055.1622,-2517.9019"/>
</g>
<!-- block_135 -->
<g id="node136" class="node">
<title>block_135</title>
<ellipse fill="none" stroke="#000000" cx="10180.5" cy="-2494.8044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10180.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 208&#45;210</text>
</g>
<!-- section_11&#45;&gt;block_135 -->
<g id="edge135" class="edge">
<title>section_11&#45;&gt;block_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10120.3176,-2566.5419C10131.4117,-2553.3178 10146.7483,-2535.0365 10159.1625,-2520.2387"/>
<polygon fill="#000000" stroke="#000000" points="10161.9675,-2522.3409 10165.7132,-2512.4303 10156.6047,-2517.8419 10161.9675,-2522.3409"/>
</g>
<!-- block_136 -->
<g id="node137" class="node">
<title>block_136</title>
<ellipse fill="none" stroke="#000000" cx="10471.5" cy="-2494.8044" rx="65.0229" ry="18"/>
<text text-anchor="middle" x="10471.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 211&#45;217</text>
</g>
<!-- section_11&#45;&gt;block_136 -->
<g id="edge136" class="edge">
<title>section_11&#45;&gt;block_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10158.3287,-2571.3004C10225.7827,-2554.8239 10342.1594,-2526.3975 10412.4656,-2509.2243"/>
<polygon fill="#000000" stroke="#000000" points="10413.6092,-2512.548 10422.4931,-2506.775 10411.9482,-2505.7479 10413.6092,-2512.548"/>
</g>
<!-- section_137 -->
<g id="node138" class="node">
<title>section_137</title>
<ellipse fill="none" stroke="#000000" cx="10925.5" cy="-2494.8044" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10925.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 218&#45;223</text>
</g>
<!-- section_11&#45;&gt;section_137 -->
<g id="edge137" class="edge">
<title>section_11&#45;&gt;section_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10174.3538,-2576.6977C10325.6254,-2560.2054 10686.2079,-2520.8931 10846.4326,-2503.4247"/>
<polygon fill="#000000" stroke="#000000" points="10847.1305,-2506.8695 10856.6922,-2502.3062 10846.3718,-2499.9107 10847.1305,-2506.8695"/>
</g>
<!-- header_144 -->
<g id="node145" class="node">
<title>header_144</title>
<ellipse fill="none" stroke="#000000" cx="11510.5" cy="-2494.8044" rx="110.7653" ry="18"/>
<text text-anchor="middle" x="11510.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Section(header, linum)</text>
</g>
<!-- section_12&#45;&gt;header_144 -->
<g id="edge144" class="edge">
<title>section_12&#45;&gt;header_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11735.3813,-2569.542C11689.9671,-2554.4489 11618.9658,-2530.8522 11568.9136,-2514.2177"/>
<polygon fill="#000000" stroke="#000000" points="11569.7897,-2510.8207 11559.1962,-2510.9882 11567.582,-2517.4635 11569.7897,-2510.8207"/>
</g>
<!-- block_145 -->
<g id="node146" class="node">
<title>block_145</title>
<ellipse fill="none" stroke="#000000" cx="11705.5" cy="-2494.8044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="11705.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 362&#45;365</text>
</g>
<!-- section_12&#45;&gt;block_145 -->
<g id="edge145" class="edge">
<title>section_12&#45;&gt;block_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11764.88,-2566.5419C11753.9338,-2553.3178 11738.8017,-2535.0365 11726.553,-2520.2387"/>
<polygon fill="#000000" stroke="#000000" points="11729.1622,-2517.9019 11720.0896,-2512.4303 11723.7699,-2522.3654 11729.1622,-2517.9019"/>
</g>
<!-- block_146 -->
<g id="node147" class="node">
<title>block_146</title>
<ellipse fill="none" stroke="#000000" cx="11854.5" cy="-2494.8044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="11854.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 366&#45;370</text>
</g>
<!-- section_12&#45;&gt;block_146 -->
<g id="edge146" class="edge">
<title>section_12&#45;&gt;block_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11794.3176,-2566.5419C11805.4117,-2553.3178 11820.7483,-2535.0365 11833.1625,-2520.2387"/>
<polygon fill="#000000" stroke="#000000" points="11835.9675,-2522.3409 11839.7132,-2512.4303 11830.6047,-2517.8419 11835.9675,-2522.3409"/>
</g>
<!-- block_147 -->
<g id="node148" class="node">
<title>block_147</title>
<ellipse fill="none" stroke="#000000" cx="12114.5" cy="-2494.8044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="12114.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 371&#45;372</text>
</g>
<!-- section_12&#45;&gt;block_147 -->
<g id="edge147" class="edge">
<title>section_12&#45;&gt;block_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11830.0156,-2570.7236C11891.0882,-2554.4254 11993.604,-2527.0674 12057.4632,-2510.0256"/>
<polygon fill="#000000" stroke="#000000" points="12058.6087,-2513.3425 12067.3681,-2507.3823 12056.8037,-2506.5792 12058.6087,-2513.3425"/>
</g>
<!-- block_148 -->
<g id="node149" class="node">
<title>block_148</title>
<ellipse fill="none" stroke="#000000" cx="12435.5" cy="-2494.8044" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="12435.5" y="-2490.6044" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 373&#45;394</text>
</g>
<!-- section_12&#45;&gt;block_148 -->
<g id="edge148" class="edge">
<title>section_12&#45;&gt;block_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11846.2873,-2575.6575C11927.4626,-2565.2116 12068.5906,-2546.8658 12189.5,-2530.2045 12249.684,-2521.9111 12318.0804,-2512.032 12367.4501,-2504.8201"/>
<polygon fill="#000000" stroke="#000000" points="12367.9857,-2508.2791 12377.374,-2503.3689 12366.9728,-2501.3528 12367.9857,-2508.2791"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="1573.5,-2407.9047 1095.5,-2407.9047 1095.5,-2337.304 1573.5,-2337.304 1573.5,-2407.9047"/>
<text text-anchor="middle" x="1334.5" y="-2376.8044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;The array portion of a section starts at [1] with a header. The</text>
<text text-anchor="middle" x="1334.5" y="-2361.4043" font-family="Inconsolata" font-size="14.00" fill="#000000"> rest consists, optionally, of nodes of types Block and Section.</text>
</g>
<!-- block_18&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>block_18&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1875.8315,-2478.6479C1864.0684,-2471.6689 1849.527,-2464.0531 1835.5,-2459.4044 1727.6894,-2423.6745 1694.4071,-2442.8092 1582.5,-2423.4044 1558.9982,-2419.3292 1534.3149,-2414.6986 1510.0075,-2409.9314"/>
<polygon fill="#000000" stroke="#000000" points="1510.4742,-2406.4561 1499.9858,-2407.9543 1509.1193,-2413.3238 1510.4742,-2406.4561"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="2077,-2423.2052 1592,-2423.2052 1592,-2322.0034 2077,-2322.0034 2077,-2423.2052"/>
<text text-anchor="middle" x="1834.5" y="-2392.2044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; header : The header for the section.</text>
<text text-anchor="middle" x="1834.5" y="-2376.8044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; level : The header level, lifted from the header for ease of use</text>
<text text-anchor="middle" x="1834.5" y="-2361.4043" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; lines : An array of the lines owned by the section. Note that </text>
<text text-anchor="middle" x="1834.5" y="-2346.0043" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;this doesn&#39;t include the header. </text>
</g>
<!-- block_21&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>block_21&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2113.4549,-2478.8696C2101.9567,-2472.4133 2088.2763,-2465.1437 2075.5,-2459.4044 2050.0986,-2447.9937 2022.7048,-2436.9719 1995.813,-2426.8316"/>
<polygon fill="#000000" stroke="#000000" points="1996.9186,-2423.5083 1986.3261,-2423.2824 1994.4657,-2430.0645 1996.9186,-2423.5083"/>
</g>
<!-- header_24 -->
<g id="node25" class="node">
<title>header_24</title>
<ellipse fill="none" stroke="#000000" cx="2150.5" cy="-2372.6043" rx="55.1697" ry="18"/>
<text text-anchor="middle" x="2150.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Includes</text>
</g>
<!-- section_22&#45;&gt;header_24 -->
<g id="edge24" class="edge">
<title>section_22&#45;&gt;header_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2261.0174,-2477.2961C2238.6673,-2456.1241 2200.9354,-2420.3812 2175.8727,-2396.6395"/>
<polygon fill="#000000" stroke="#000000" points="2178.1992,-2394.0224 2168.5324,-2389.6862 2173.3852,-2399.1043 2178.1992,-2394.0224"/>
</g>
<!-- block_25 -->
<g id="node26" class="node">
<title>block_25</title>
<ellipse fill="none" stroke="#000000" cx="2279.5" cy="-2372.6043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2279.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 30&#45;31</text>
</g>
<!-- section_22&#45;&gt;block_25 -->
<g id="edge25" class="edge">
<title>section_22&#45;&gt;block_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2279.5,-2476.7734C2279.5,-2456.7379 2279.5,-2424.1314 2279.5,-2400.7335"/>
<polygon fill="#000000" stroke="#000000" points="2283.0001,-2400.7093 2279.5,-2390.7094 2276.0001,-2400.7094 2283.0001,-2400.7093"/>
</g>
<!-- block_26 -->
<g id="node27" class="node">
<title>block_26</title>
<ellipse fill="none" stroke="#000000" cx="2409.5" cy="-2372.6043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2409.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 32&#45;45</text>
</g>
<!-- section_22&#45;&gt;block_26 -->
<g id="edge26" class="edge">
<title>section_22&#45;&gt;block_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2298.1258,-2477.2961C2320.6492,-2456.1241 2358.6736,-2420.3812 2383.9307,-2396.6395"/>
<polygon fill="#000000" stroke="#000000" points="2386.4387,-2399.0855 2391.3279,-2389.6862 2381.6444,-2393.9851 2386.4387,-2399.0855"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="2192.5,-2153.204 2138.5,-2153.204 2138.5,-2117.204 2192.5,-2117.204 2192.5,-2153.204"/>
</g>
<!-- block_25&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>block_25&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259.4719,-2355.7169C2241.61,-2339.5648 2216.0943,-2313.6098 2201.5,-2285.8043 2180.8247,-2246.4131 2171.8363,-2195.0166 2168.0648,-2163.5971"/>
<polygon fill="#000000" stroke="#000000" points="2171.5121,-2162.9256 2166.9378,-2153.3692 2164.5542,-2163.6924 2171.5121,-2162.9256"/>
</g>
<!-- codeblock_28 -->
<g id="node29" class="node">
<title>codeblock_28</title>
<ellipse fill="none" stroke="#000000" cx="2287.5" cy="-2135.204" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2287.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 32&#45;43</text>
</g>
<!-- block_26&#45;&gt;codeblock_28 -->
<g id="edge28" class="edge">
<title>block_26&#45;&gt;codeblock_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2400.3302,-2354.7607C2379.1339,-2313.5148 2326.6357,-2211.3584 2301.435,-2162.3203"/>
<polygon fill="#000000" stroke="#000000" points="2304.4601,-2160.5492 2296.7762,-2153.2547 2298.2341,-2163.7487 2304.4601,-2160.5492"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="2436.5,-2153.204 2382.5,-2153.204 2382.5,-2117.204 2436.5,-2117.204 2436.5,-2153.204"/>
</g>
<!-- block_26&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>block_26&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2409.5,-2354.3701C2409.5,-2313.2873 2409.5,-2213.2267 2409.5,-2163.7988"/>
<polygon fill="#000000" stroke="#000000" points="2413.0001,-2163.5003 2409.5,-2153.5003 2406.0001,-2163.5004 2413.0001,-2163.5003"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="2442.5,-1903.2038 2132.5,-1903.2038 2132.5,-1739.6031 2442.5,-1739.6031 2442.5,-1903.2038"/>
<text text-anchor="middle" x="2287.5" y="-1888.1036" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="2287.5" y="-1856.7035" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="2287.5" y="-1825.3035" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="2287.5" y="-1793.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">local Header = require &quot;grym/header&quot;</text>
<text text-anchor="middle" x="2287.5" y="-1778.5034" font-family="Inconsolata" font-size="14.00" fill="#000000">local Block = require &quot;grym/block&quot;</text>
<text text-anchor="middle" x="2287.5" y="-1763.1034" font-family="Inconsolata" font-size="14.00" fill="#000000">local Codeblock = require &quot;grym/codeblock&quot;</text>
<text text-anchor="middle" x="2287.5" y="-1747.7034" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
</g>
<!-- codeblock_28&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>codeblock_28&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2287.5,-2116.9764C2287.5,-2078.2026 2287.5,-1985.2542 2287.5,-1913.8561"/>
<polygon fill="#000000" stroke="#000000" points="2291.0001,-1913.4873 2287.5,-1903.4874 2284.0001,-1913.4874 2291.0001,-1913.4873"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2560.5,-2390.6043 2506.5,-2390.6043 2506.5,-2354.6043 2560.5,-2354.6043 2560.5,-2390.6043"/>
</g>
<!-- block_32&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>block_32&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2632.5474,-2478.3762C2614.3651,-2464.7673 2588.8861,-2444.3311 2569.5,-2423.4044 2562.7026,-2416.0669 2556.1158,-2407.3968 2550.4754,-2399.3161"/>
<polygon fill="#000000" stroke="#000000" points="2553.2637,-2397.1913 2544.7612,-2390.87 2547.4659,-2401.1138 2553.2637,-2397.1913"/>
</g>
<!-- codeblock_37 -->
<g id="node38" class="node">
<title>codeblock_37</title>
<ellipse fill="none" stroke="#000000" cx="2655.5" cy="-2372.6043" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2655.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 48&#45;63</text>
</g>
<!-- block_33&#45;&gt;codeblock_37 -->
<g id="edge37" class="edge">
<title>block_33&#45;&gt;codeblock_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2767.1499,-2477.5553C2744.8233,-2456.5683 2706.9766,-2420.9924 2681.6163,-2397.1537"/>
<polygon fill="#000000" stroke="#000000" points="2683.8612,-2394.4603 2674.1777,-2390.1614 2679.0668,-2399.5607 2683.8612,-2394.4603"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="2804.5,-2390.6043 2750.5,-2390.6043 2750.5,-2354.6043 2804.5,-2354.6043 2804.5,-2390.6043"/>
</g>
<!-- block_33&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>block_33&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2784.3196,-2476.7734C2783.0079,-2456.7379 2780.8733,-2424.1314 2779.3415,-2400.7335"/>
<polygon fill="#000000" stroke="#000000" points="2782.8312,-2400.4593 2778.6853,-2390.7094 2775.8461,-2400.9167 2782.8312,-2400.4593"/>
</g>
<!-- header_40 -->
<g id="node41" class="node">
<title>header_40</title>
<ellipse fill="none" stroke="#000000" cx="2912.5" cy="-2372.6043" rx="90.4762" ry="18"/>
<text text-anchor="middle" x="2912.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : dotLabel(section)</text>
</g>
<!-- section_34&#45;&gt;header_40 -->
<g id="edge40" class="edge">
<title>section_34&#45;&gt;header_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3053.6965,-2477.813C3025.1765,-2456.5621 2976.1995,-2420.0683 2944.0838,-2396.1381"/>
<polygon fill="#000000" stroke="#000000" points="2946.0146,-2393.2121 2935.9046,-2390.0436 2941.8321,-2398.8252 2946.0146,-2393.2121"/>
</g>
<!-- block_41 -->
<g id="node42" class="node">
<title>block_41</title>
<ellipse fill="none" stroke="#000000" cx="3076.5" cy="-2372.6043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3076.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 66&#45;69</text>
</g>
<!-- section_34&#45;&gt;block_41 -->
<g id="edge41" class="edge">
<title>section_34&#45;&gt;block_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3076.5,-2476.7734C3076.5,-2456.7379 3076.5,-2424.1314 3076.5,-2400.7335"/>
<polygon fill="#000000" stroke="#000000" points="3080.0001,-2400.7093 3076.5,-2390.7094 3073.0001,-2400.7094 3080.0001,-2400.7093"/>
</g>
<!-- block_42 -->
<g id="node43" class="node">
<title>block_42</title>
<ellipse fill="none" stroke="#000000" cx="3206.5" cy="-2372.6043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3206.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 70&#45;71</text>
</g>
<!-- section_34&#45;&gt;block_42 -->
<g id="edge42" class="edge">
<title>section_34&#45;&gt;block_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3095.1258,-2477.2961C3117.6492,-2456.1241 3155.6736,-2420.3812 3180.9307,-2396.6395"/>
<polygon fill="#000000" stroke="#000000" points="3183.4387,-2399.0855 3188.3279,-2389.6862 3178.6444,-2393.9851 3183.4387,-2399.0855"/>
</g>
<!-- block_43 -->
<g id="node44" class="node">
<title>block_43</title>
<ellipse fill="none" stroke="#000000" cx="3418.5" cy="-2372.6043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3418.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 72&#45;79</text>
</g>
<!-- section_34&#45;&gt;block_43 -->
<g id="edge43" class="edge">
<title>section_34&#45;&gt;block_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3116.7374,-2480.4272C3180.3531,-2457.6967 3303.8593,-2413.5666 3371.4695,-2389.4088"/>
<polygon fill="#000000" stroke="#000000" points="3372.7861,-2392.6552 3381.0254,-2385.9944 3370.4308,-2386.0633 3372.7861,-2392.6552"/>
</g>
<!-- header_49 -->
<g id="node50" class="node">
<title>header_49</title>
<ellipse fill="none" stroke="#000000" cx="3681.5" cy="-2372.6043" rx="104.4491" ry="18"/>
<text text-anchor="middle" x="3681.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : toMarkdown(section)</text>
</g>
<!-- section_35&#45;&gt;header_49 -->
<g id="edge49" class="edge">
<title>section_35&#45;&gt;header_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3947.3257,-2480.342C3907.6044,-2466.4903 3846.5877,-2444.617 3794.5,-2423.4044 3771.9561,-2414.2234 3747.2615,-2403.2323 3726.7231,-2393.8255"/>
<polygon fill="#000000" stroke="#000000" points="3728.1491,-2390.6289 3717.6017,-2389.6272 3725.2223,-2396.9877 3728.1491,-2390.6289"/>
</g>
<!-- block_50 -->
<g id="node51" class="node">
<title>block_50</title>
<ellipse fill="none" stroke="#000000" cx="3859.5" cy="-2372.6043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3859.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 80&#45;83</text>
</g>
<!-- section_35&#45;&gt;block_50 -->
<g id="edge50" class="edge">
<title>section_35&#45;&gt;block_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3970.8742,-2477.2961C3948.3508,-2456.1241 3910.3264,-2420.3812 3885.0693,-2396.6395"/>
<polygon fill="#000000" stroke="#000000" points="3887.3556,-2393.9851 3877.6721,-2389.6862 3882.5613,-2399.0855 3887.3556,-2393.9851"/>
</g>
<!-- block_51 -->
<g id="node52" class="node">
<title>block_51</title>
<ellipse fill="none" stroke="#000000" cx="3989.5" cy="-2372.6043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3989.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 84&#45;85</text>
</g>
<!-- section_35&#45;&gt;block_51 -->
<g id="edge51" class="edge">
<title>section_35&#45;&gt;block_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3989.5,-2476.7734C3989.5,-2456.7379 3989.5,-2424.1314 3989.5,-2400.7335"/>
<polygon fill="#000000" stroke="#000000" points="3993.0001,-2400.7093 3989.5,-2390.7094 3986.0001,-2400.7094 3993.0001,-2400.7093"/>
</g>
<!-- block_52 -->
<g id="node53" class="node">
<title>block_52</title>
<ellipse fill="none" stroke="#000000" cx="4163.5" cy="-2372.6043" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="4163.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 86&#45;87</text>
</g>
<!-- section_35&#45;&gt;block_52 -->
<g id="edge52" class="edge">
<title>section_35&#45;&gt;block_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4013.694,-2477.813C4044.5122,-2456.1694 4097.8443,-2418.7143 4131.8608,-2394.8245"/>
<polygon fill="#000000" stroke="#000000" points="4133.8955,-2397.6725 4140.0675,-2389.061 4129.8724,-2391.9441 4133.8955,-2397.6725"/>
</g>
<!-- block_53 -->
<g id="node54" class="node">
<title>block_53</title>
<ellipse fill="none" stroke="#000000" cx="4385.5" cy="-2372.6043" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="4385.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 88&#45;102</text>
</g>
<!-- section_35&#45;&gt;block_53 -->
<g id="edge53" class="edge">
<title>section_35&#45;&gt;block_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4036.3073,-2481.1611C4084.5598,-2467.0169 4161.9263,-2444.1163 4228.5,-2423.4044 4264.2912,-2412.2693 4304.5081,-2399.2466 4335.2775,-2389.1743"/>
<polygon fill="#000000" stroke="#000000" points="4336.5059,-2392.455 4344.9181,-2386.014 4334.3253,-2385.8033 4336.5059,-2392.455"/>
</g>
<!-- section_54 -->
<g id="node55" class="node">
<title>section_54</title>
<ellipse fill="none" stroke="#000000" cx="4539.5" cy="-2372.6043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4539.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 103&#45;124</text>
</g>
<!-- section_35&#45;&gt;section_54 -->
<g id="edge54" class="edge">
<title>section_35&#45;&gt;section_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4054.9221,-2487.9687C4165.182,-2475.9179 4383.0789,-2449.6741 4455.5,-2423.4044 4473.9821,-2416.7003 4492.8644,-2405.7227 4508.0332,-2395.6845"/>
<polygon fill="#000000" stroke="#000000" points="4510.2045,-2398.4406 4516.5042,-2389.9221 4506.2673,-2392.6527 4510.2045,-2398.4406"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2792.5,-2247.5045 2454.5,-2247.5045 2454.5,-2022.9035 2792.5,-2022.9035 2792.5,-2247.5045"/>
<text text-anchor="middle" x="2623.5" y="-2232.4042" font-family="Inconsolata" font-size="14.00" fill="#000000">local S, s = u.inherit(Node)</text>
<text text-anchor="middle" x="2623.5" y="-2201.0042" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.__tostring(section)</text>
<text text-anchor="middle" x="2623.5" y="-2185.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="2623.5" y="-2170.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(section) do</text>
<text text-anchor="middle" x="2623.5" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local repr = tostring(v)</text>
<text text-anchor="middle" x="2623.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if (repr ~= &quot;&quot; and repr ~= &quot;\n&quot;) then</text>
<text text-anchor="middle" x="2623.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;io.write(&quot;repr: &quot; .. repr .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="2623.5" y="-2108.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. repr .. &quot;\n&quot;</text>
<text text-anchor="middle" x="2623.5" y="-2093.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2623.5" y="-2077.8039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2623.5" y="-2046.4039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="2623.5" y="-2031.0038" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_37&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>codeblock_37&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2653.0421,-2354.3701C2650.1604,-2332.9913 2645.1259,-2295.6413 2640.0206,-2257.7665"/>
<polygon fill="#000000" stroke="#000000" points="2643.4563,-2257.054 2638.6518,-2247.6112 2636.5191,-2257.9892 2643.4563,-2257.054"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="3058,-2155.1061 2811,-2155.1061 2811,-2115.3019 3058,-2115.3019 3058,-2155.1061"/>
<text text-anchor="middle" x="2934.5" y="-2123.704" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Produces a label for a dotfile.</text>
</g>
<!-- block_41&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>block_41&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3065.8269,-2354.7607C3041.3567,-2313.8506 2981.0437,-2213.0173 2951.442,-2163.5282"/>
<polygon fill="#000000" stroke="#000000" points="2954.4246,-2161.6963 2946.2877,-2154.911 2948.4173,-2165.2896 2954.4246,-2161.6963"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="3323,-2153.204 3076,-2153.204 3076,-2117.204 3323,-2117.204 3323,-2153.204"/>
<text text-anchor="middle" x="3199.5" y="-2131.704" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; #return : string in dot format.</text>
</g>
<!-- block_42&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>block_42&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3205.9623,-2354.3701C3204.751,-2313.2873 3201.8006,-2213.2267 3200.3431,-2163.7988"/>
<polygon fill="#000000" stroke="#000000" points="3203.8328,-2163.3928 3200.0395,-2153.5003 3196.8358,-2163.5992 3203.8328,-2163.3928"/>
</g>
<!-- codeblock_46 -->
<g id="node47" class="node">
<title>codeblock_46</title>
<ellipse fill="none" stroke="#000000" cx="3418.5" cy="-2135.204" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3418.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 72&#45;77</text>
</g>
<!-- block_43&#45;&gt;codeblock_46 -->
<g id="edge46" class="edge">
<title>block_43&#45;&gt;codeblock_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3418.5,-2354.3701C3418.5,-2313.2873 3418.5,-2213.2267 3418.5,-2163.7988"/>
<polygon fill="#000000" stroke="#000000" points="3422.0001,-2163.5003 3418.5,-2153.5003 3415.0001,-2163.5004 3422.0001,-2163.5003"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="3567.5,-2153.204 3513.5,-2153.204 3513.5,-2117.204 3567.5,-2117.204 3567.5,-2153.204"/>
</g>
<!-- block_43&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>block_43&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3441.0144,-2355.8421C3460.7221,-2339.9644 3488.6174,-2314.3522 3504.5,-2285.8043 3526.1286,-2246.9284 3534.8378,-2195.381 3538.2927,-2163.7903"/>
<polygon fill="#000000" stroke="#000000" points="3541.8089,-2163.7975 3539.3081,-2153.5021 3534.8427,-2163.1099 3541.8089,-2163.7975"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="3619,-1856.0047 3218,-1856.0047 3218,-1786.8022 3619,-1786.8022 3619,-1856.0047"/>
<text text-anchor="middle" x="3418.5" y="-1841.0035" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.dotLabel(section)</text>
<text text-anchor="middle" x="3418.5" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;section: &quot; .. tostring(section.line_first) </text>
<text text-anchor="middle" x="3418.5" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;&#45;&quot; .. tostring(section.line_last)</text>
<text text-anchor="middle" x="3418.5" y="-1794.8034" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_46&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>codeblock_46&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3418.5,-2116.9764C3418.5,-2068.7018 3418.5,-1936.4509 3418.5,-1866.3675"/>
<polygon fill="#000000" stroke="#000000" points="3422.0001,-1866.0856 3418.5,-1856.0856 3415.0001,-1866.0856 3422.0001,-1866.0856"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="3861,-2155.1061 3586,-2155.1061 3586,-2115.3019 3861,-2115.3019 3861,-2155.1061"/>
<text text-anchor="middle" x="3723.5" y="-2123.704" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Translates the Section to markdown.</text>
</g>
<!-- block_50&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>block_50&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3849.2779,-2354.7607C3825.8902,-2313.9354 3768.3166,-2213.4355 3739.903,-2163.8369"/>
<polygon fill="#000000" stroke="#000000" points="3742.7974,-2161.8482 3734.7896,-2154.911 3736.7235,-2165.3278 3742.7974,-2161.8482"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="4056,-2153.204 3879,-2153.204 3879,-2117.204 4056,-2117.204 4056,-2153.204"/>
<text text-anchor="middle" x="3967.5" y="-2131.704" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section: the Section.</text>
</g>
<!-- block_51&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>block_51&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3987.8102,-2354.3701C3983.9951,-2313.201 3974.6914,-2212.806 3970.1211,-2163.4879"/>
<polygon fill="#000000" stroke="#000000" points="3973.6034,-2163.1347 3969.1955,-2153.5003 3966.6333,-2163.7807 3973.6034,-2163.1347"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="4307,-2153.204 4074,-2153.204 4074,-2117.204 4307,-2117.204 4307,-2153.204"/>
<text text-anchor="middle" x="4190.5" y="-2131.704" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; #return: A Markdown string. &#160;</text>
</g>
<!-- block_52&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>block_52&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4165.5738,-2354.3701C4170.2561,-2313.201 4181.6742,-2212.806 4187.2832,-2163.4879"/>
<polygon fill="#000000" stroke="#000000" points="4190.7666,-2163.8318 4188.4191,-2153.5003 4183.8114,-2163.0407 4190.7666,-2163.8318"/>
</g>
<!-- codeblock_58 -->
<g id="node59" class="node">
<title>codeblock_58</title>
<ellipse fill="none" stroke="#000000" cx="4407.5" cy="-2135.204" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="4407.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 88&#45;101</text>
</g>
<!-- block_53&#45;&gt;codeblock_58 -->
<g id="edge58" class="edge">
<title>block_53&#45;&gt;codeblock_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4387.1898,-2354.3701C4391.0049,-2313.201 4400.3086,-2212.806 4404.8789,-2163.4879"/>
<polygon fill="#000000" stroke="#000000" points="4408.3667,-2163.7807 4405.8045,-2153.5003 4401.3966,-2163.1347 4408.3667,-2163.7807"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="4561.5,-2153.204 4507.5,-2153.204 4507.5,-2117.204 4561.5,-2117.204 4561.5,-2153.204"/>
</g>
<!-- block_53&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>block_53&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4408.9105,-2355.9131C4440.2197,-2333.3973 4492.5113,-2295.0411 4498.5,-2285.8043 4522.9388,-2248.1103 4530.8117,-2195.4551 4533.3325,-2163.433"/>
<polygon fill="#000000" stroke="#000000" points="4536.8273,-2163.6259 4533.9984,-2153.4157 4529.8428,-2163.1615 4536.8273,-2163.6259"/>
</g>
<!-- header_61 -->
<g id="node62" class="node">
<title>header_61</title>
<ellipse fill="none" stroke="#000000" cx="4630.5" cy="-2135.204" rx="50.8" ry="18"/>
<text text-anchor="middle" x="4630.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : asserts</text>
</g>
<!-- section_54&#45;&gt;header_61 -->
<g id="edge61" class="edge">
<title>section_54&#45;&gt;header_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4546.4895,-2354.3701C4562.3423,-2313.0133 4601.105,-2211.8894 4619.9155,-2162.8167"/>
<polygon fill="#000000" stroke="#000000" points="4623.3001,-2163.7656 4623.6112,-2153.1754 4616.7638,-2161.2601 4623.3001,-2163.7656"/>
</g>
<!-- block_62 -->
<g id="node63" class="node">
<title>block_62</title>
<ellipse fill="none" stroke="#000000" cx="4765.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4765.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 103&#45;104</text>
</g>
<!-- section_54&#45;&gt;block_62 -->
<g id="edge62" class="edge">
<title>section_54&#45;&gt;block_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4566.5304,-2355.7789C4582.8956,-2345.7122 4604.2562,-2332.7838 4623.5,-2321.8043 4652.8613,-2305.0522 4666.9702,-2310.075 4690.5,-2285.8043 4724.8063,-2250.4176 4746.472,-2196.2506 4757.2562,-2163.4348"/>
<polygon fill="#000000" stroke="#000000" points="4760.6942,-2164.1715 4760.3774,-2153.5814 4754.021,-2162.0576 4760.6942,-2164.1715"/>
</g>
<!-- block_63 -->
<g id="node64" class="node">
<title>block_63</title>
<ellipse fill="none" stroke="#000000" cx="4914.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4914.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 105&#45;124</text>
</g>
<!-- section_54&#45;&gt;block_63 -->
<g id="edge63" class="edge">
<title>section_54&#45;&gt;block_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4562.5277,-2355.3736C4578.7545,-2344.0854 4601.4406,-2329.9607 4623.5,-2321.8043 4715.1954,-2287.9002 4762.0407,-2344.1281 4840.5,-2285.8043 4880.8628,-2255.8001 4900.4402,-2197.7734 4908.9101,-2163.1652"/>
<polygon fill="#000000" stroke="#000000" points="4912.3638,-2163.7635 4911.1929,-2153.2335 4905.5417,-2162.1954 4912.3638,-2163.7635"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="4625.5,-1918.3042 4189.5,-1918.3042 4189.5,-1724.5027 4625.5,-1724.5027 4625.5,-1918.3042"/>
<text text-anchor="middle" x="4407.5" y="-1902.9036" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.toMarkdown(section)</text>
<text text-anchor="middle" x="4407.5" y="-1887.5036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="4407.5" y="-1872.1036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, node in ipairs(section) do</text>
<text text-anchor="middle" x="4407.5" y="-1856.7035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if node.toMarkdown then</text>
<text text-anchor="middle" x="4407.5" y="-1841.3035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. node:toMarkdown()</text>
<text text-anchor="middle" x="4407.5" y="-1825.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else </text>
<text text-anchor="middle" x="4407.5" y="-1810.5034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;no toMarkdown method in &quot; .. block.id)</text>
<text text-anchor="middle" x="4407.5" y="-1795.1034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4407.5" y="-1779.7034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4407.5" y="-1748.3034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="4407.5" y="-1732.9033" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_58&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>codeblock_58&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4407.5,-2116.9764C4407.5,-2080.7584 4407.5,-1997.2725 4407.5,-1928.2343"/>
<polygon fill="#000000" stroke="#000000" points="4411.0001,-1928.1604 4407.5,-1918.1605 4404.0001,-1928.1605 4411.0001,-1928.1604"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="4792.5,-1839.4035 4738.5,-1839.4035 4738.5,-1803.4035 4792.5,-1803.4035 4792.5,-1839.4035"/>
</g>
<!-- block_62&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>block_62&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4765.5,-2116.9764C4765.5,-2064.5477 4765.5,-1913.0682 4765.5,-1849.7492"/>
<polygon fill="#000000" stroke="#000000" points="4769.0001,-1849.6813 4765.5,-1839.6814 4762.0001,-1849.6814 4769.0001,-1849.6813"/>
</g>
<!-- codeblock_65 -->
<g id="node66" class="node">
<title>codeblock_65</title>
<ellipse fill="none" stroke="#000000" cx="4906.5" cy="-1821.4035" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4906.5" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 105&#45;122</text>
</g>
<!-- block_63&#45;&gt;codeblock_65 -->
<g id="edge65" class="edge">
<title>block_63&#45;&gt;codeblock_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4914.0353,-2116.9764C4912.6987,-2064.5477 4908.8369,-1913.0682 4907.2226,-1849.7492"/>
<polygon fill="#000000" stroke="#000000" points="4910.7198,-1849.5889 4906.966,-1839.6814 4903.7221,-1849.7674 4910.7198,-1849.5889"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="5065.5,-1839.4035 5011.5,-1839.4035 5011.5,-1803.4035 5065.5,-1803.4035 5065.5,-1839.4035"/>
</g>
<!-- block_63&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>block_63&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4924.1361,-2117.3578C4941.5281,-2084.6321 4978.5761,-2012.5047 5002.5,-1948.6037 5014.9478,-1915.3555 5025.4967,-1875.8448 5031.8965,-1849.7793"/>
<polygon fill="#000000" stroke="#000000" points="5035.3557,-1850.3648 5034.2997,-1839.8227 5028.551,-1848.7224 5035.3557,-1850.3648"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="5110.5,-956.5024 4702.5,-956.5024 4702.5,-701.7008 5110.5,-701.7008 5110.5,-956.5024"/>
<text text-anchor="middle" x="4906.5" y="-941.1019" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.check(section)</text>
<text text-anchor="middle" x="4906.5" y="-925.7018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i, v in ipairs(section) do</text>
<text text-anchor="middle" x="4906.5" y="-910.3018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if (i == 1) then</text>
<text text-anchor="middle" x="4906.5" y="-894.9018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if section.header then</text>
<text text-anchor="middle" x="4906.5" y="-879.5017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assert(v.id == &quot;header&quot;)</text>
<text text-anchor="middle" x="4906.5" y="-864.1017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4906.5" y="-848.7017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4906.5" y="-833.3016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assert(v.id == &quot;section&quot; or v.id == &quot;block&quot;)</text>
<text text-anchor="middle" x="4906.5" y="-817.9016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4906.5" y="-802.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4906.5" y="-787.1015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.level)</text>
<text text-anchor="middle" x="4906.5" y="-771.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.id)</text>
<text text-anchor="middle" x="4906.5" y="-756.3015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.lines)</text>
<text text-anchor="middle" x="4906.5" y="-740.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.line_first)</text>
<text text-anchor="middle" x="4906.5" y="-725.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.line_last)</text>
<text text-anchor="middle" x="4906.5" y="-710.1014" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_65&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>codeblock_65&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4906.5,-1803.3331C4906.5,-1703.0524 4906.5,-1210.669 4906.5,-966.6696"/>
<polygon fill="#000000" stroke="#000000" points="4910.0001,-966.3111 4906.5,-956.3111 4903.0001,-966.3111 4910.0001,-966.3111"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="4816.5,-2392.5064 4632.5,-2392.5064 4632.5,-2352.7023 4816.5,-2352.7023 4816.5,-2392.5064"/>
<text text-anchor="middle" x="4724.5" y="-2361.1044" font-family="Inconsolata" font-size="14.00" fill="#000000">Add a line to a section.</text>
</g>
<!-- block_69&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>block_69&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5031.4843,-2478.7703C5018.0156,-2472.0674 5001.7535,-2464.6375 4986.5,-2459.4044 4917.1454,-2435.6107 4894.5515,-2448.064 4825.5,-2423.4044 4805.8242,-2416.3778 4785.0488,-2406.4117 4767.4901,-2397.1653"/>
<polygon fill="#000000" stroke="#000000" points="4769.0916,-2394.0527 4758.6241,-2392.4151 4765.7857,-2400.2229 4769.0916,-2394.0527"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="5256.5,-2423.0053 4834.5,-2423.0053 4834.5,-2322.2034 5256.5,-2322.2034 5256.5,-2423.0053"/>
<text text-anchor="middle" x="5045.5" y="-2407.6044" font-family="Inconsolata" font-size="14.00" fill="#000000">These lines are later translated into blocks, and when the</text>
<text text-anchor="middle" x="5045.5" y="-2392.2044" font-family="Inconsolata" font-size="14.00" fill="#000000">parser is mature, =section.line= will be set to nil before</text>
<text text-anchor="middle" x="5045.5" y="-2376.8044" font-family="Inconsolata" font-size="14.00" fill="#000000">the Doc is returned. &#160;</text>
<text text-anchor="middle" x="5045.5" y="-2361.4043" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="5045.5" y="-2346.0043" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section: the section</text>
<text text-anchor="middle" x="5045.5" y="-2330.6043" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; line: the line</text>
</g>
<!-- block_70&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>block_70&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5187.5575,-2477.813C5170.2937,-2465.0274 5145.5797,-2446.724 5121.5925,-2428.959"/>
<polygon fill="#000000" stroke="#000000" points="5123.6166,-2426.1026 5113.4974,-2422.9637 5119.4504,-2431.7279 5123.6166,-2426.1026"/>
</g>
<!-- leaf_77 -->
<g id="node78" class="node">
<title>leaf_77</title>
<polygon fill="none" stroke="#c0c0c0" points="5444.5,-2390.6043 5274.5,-2390.6043 5274.5,-2354.6043 5444.5,-2354.6043 5444.5,-2390.6043"/>
<text text-anchor="middle" x="5359.5" y="-2369.1044" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; return : the section</text>
</g>
<!-- block_71&#45;&gt;leaf_77 -->
<g id="edge77" class="edge">
<title>block_71&#45;&gt;leaf_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5359.5,-2476.7734C5359.5,-2456.7379 5359.5,-2424.1314 5359.5,-2400.7335"/>
<polygon fill="#000000" stroke="#000000" points="5363.0001,-2400.7093 5359.5,-2390.7094 5356.0001,-2400.7094 5363.0001,-2400.7093"/>
</g>
<!-- codeblock_78 -->
<g id="node79" class="node">
<title>codeblock_78</title>
<ellipse fill="none" stroke="#000000" cx="5549.5" cy="-2372.6043" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5549.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 138&#45;143</text>
</g>
<!-- block_72&#45;&gt;codeblock_78 -->
<g id="edge78" class="edge">
<title>block_72&#45;&gt;codeblock_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5549.5,-2476.7734C5549.5,-2456.7379 5549.5,-2424.1314 5549.5,-2400.7335"/>
<polygon fill="#000000" stroke="#000000" points="5553.0001,-2400.7093 5549.5,-2390.7094 5546.0001,-2400.7094 5553.0001,-2400.7093"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="5708.5,-2390.6043 5654.5,-2390.6043 5654.5,-2354.6043 5708.5,-2354.6043 5708.5,-2390.6043"/>
</g>
<!-- block_72&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>block_72&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5576.121,-2478.3234C5596.4469,-2464.9898 5624.4494,-2444.9442 5645.5,-2423.4044 5652.4909,-2416.251 5659.1313,-2407.632 5664.7613,-2399.5414"/>
<polygon fill="#000000" stroke="#000000" points="5667.7829,-2401.3195 5670.4426,-2391.064 5661.968,-2397.4225 5667.7829,-2401.3195"/>
</g>
<!-- header_81 -->
<g id="node82" class="node">
<title>header_81</title>
<ellipse fill="none" stroke="#000000" cx="5902.5" cy="-2372.6043" rx="175.5244" ry="18"/>
<text text-anchor="middle" x="5902.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : addSection(section, newsection, linum)</text>
</g>
<!-- section_73&#45;&gt;header_81 -->
<g id="edge81" class="edge">
<title>section_73&#45;&gt;header_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6195.2101,-2479.6977C6135.9049,-2457.9999 6026.3967,-2417.9342 5959.4398,-2393.4368"/>
<polygon fill="#000000" stroke="#000000" points="5960.4746,-2390.0886 5949.8808,-2389.9395 5958.0693,-2396.6624 5960.4746,-2390.0886"/>
</g>
<!-- block_82 -->
<g id="node83" class="node">
<title>block_82</title>
<ellipse fill="none" stroke="#000000" cx="6161.5" cy="-2372.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6161.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 146&#45;149</text>
</g>
<!-- section_73&#45;&gt;block_82 -->
<g id="edge82" class="edge">
<title>section_73&#45;&gt;block_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6225.4335,-2476.7734C6212.9152,-2456.3769 6192.4009,-2422.9523 6177.9935,-2399.4778"/>
<polygon fill="#000000" stroke="#000000" points="6180.8258,-2397.4014 6172.6119,-2390.7094 6174.8598,-2401.063 6180.8258,-2397.4014"/>
</g>
<!-- block_83 -->
<g id="node84" class="node">
<title>block_83</title>
<ellipse fill="none" stroke="#000000" cx="6310.5" cy="-2372.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6310.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 150&#45;153</text>
</g>
<!-- section_73&#45;&gt;block_83 -->
<g id="edge83" class="edge">
<title>section_73&#45;&gt;block_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6247.419,-2476.7734C6259.7703,-2456.3769 6280.0111,-2422.9523 6294.2264,-2399.4778"/>
<polygon fill="#000000" stroke="#000000" points="6297.3501,-2401.0762 6299.5362,-2390.7094 6291.3624,-2397.4502 6297.3501,-2401.0762"/>
</g>
<!-- block_84 -->
<g id="node85" class="node">
<title>block_84</title>
<ellipse fill="none" stroke="#000000" cx="6459.5" cy="-2372.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6459.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 154&#45;155</text>
</g>
<!-- section_73&#45;&gt;block_84 -->
<g id="edge84" class="edge">
<title>section_73&#45;&gt;block_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6273.4387,-2479.0234C6304.0945,-2465.4756 6348.4994,-2444.798 6385.5,-2423.4044 6400.1076,-2414.9583 6415.5971,-2404.5687 6428.6089,-2395.3908"/>
<polygon fill="#000000" stroke="#000000" points="6430.6619,-2398.2256 6436.7677,-2389.5671 6426.595,-2392.5282 6430.6619,-2398.2256"/>
</g>
<!-- block_85 -->
<g id="node86" class="node">
<title>block_85</title>
<ellipse fill="none" stroke="#000000" cx="6642.5" cy="-2372.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6642.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 156&#45;166</text>
</g>
<!-- section_73&#45;&gt;block_85 -->
<g id="edge85" class="edge">
<title>section_73&#45;&gt;block_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6297.1896,-2484.0463C6358.154,-2472.3642 6454.3045,-2451.5394 6534.5,-2423.4044 6557.962,-2415.1732 6583.158,-2403.4971 6603.3076,-2393.4141"/>
<polygon fill="#000000" stroke="#000000" points="6605.1399,-2396.4092 6612.4742,-2388.7634 6601.9727,-2390.1667 6605.1399,-2396.4092"/>
</g>
<!-- header_92 -->
<g id="node93" class="node">
<title>header_92</title>
<ellipse fill="none" stroke="#000000" cx="7042.5" cy="-2372.6043" rx="137.8106" ry="18"/>
<text text-anchor="middle" x="7042.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Helper Functions for Blocking</text>
</g>
<!-- section_74&#45;&gt;header_92 -->
<g id="edge92" class="edge">
<title>section_74&#45;&gt;header_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7967.673,-2490.9835C7789.0436,-2481.3575 7337.3629,-2454.6373 7189.5,-2423.4044 7156.6509,-2416.4657 7121.0332,-2404.2832 7093.0858,-2393.5877"/>
<polygon fill="#000000" stroke="#000000" points="7094.1261,-2390.237 7083.5374,-2389.8775 7091.5908,-2396.7618 7094.1261,-2390.237"/>
</g>
<!-- block_93 -->
<g id="node94" class="node">
<title>block_93</title>
<ellipse fill="none" stroke="#000000" cx="7264.5" cy="-2372.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7264.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 167&#45;170</text>
</g>
<!-- section_74&#45;&gt;block_93 -->
<g id="edge93" class="edge">
<title>section_74&#45;&gt;block_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7966.8578,-2491.8948C7810.2552,-2485.0343 7452.4558,-2465.1835 7338.5,-2423.4044 7321.8174,-2417.2881 7305.3154,-2406.5423 7292.1426,-2396.5044"/>
<polygon fill="#000000" stroke="#000000" points="7294.0138,-2393.5221 7283.9985,-2390.066 7289.6726,-2399.0134 7294.0138,-2393.5221"/>
</g>
<!-- block_94 -->
<g id="node95" class="node">
<title>block_94</title>
<ellipse fill="none" stroke="#000000" cx="7413.5" cy="-2372.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7413.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 171&#45;177</text>
</g>
<!-- section_74&#45;&gt;block_94 -->
<g id="edge94" class="edge">
<title>section_74&#45;&gt;block_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7967.5444,-2490.9583C7866.6385,-2484.2638 7680.9388,-2466.7652 7528.5,-2423.4044 7502.5318,-2416.0178 7474.8097,-2403.9092 7453.0914,-2393.3664"/>
<polygon fill="#000000" stroke="#000000" points="7454.3849,-2390.1016 7443.8691,-2388.8092 7451.2837,-2396.3772 7454.3849,-2390.1016"/>
</g>
<!-- block_95 -->
<g id="node96" class="node">
<title>block_95</title>
<ellipse fill="none" stroke="#000000" cx="7603.5" cy="-2372.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7603.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 178&#45;179</text>
</g>
<!-- section_74&#45;&gt;block_95 -->
<g id="edge95" class="edge">
<title>section_74&#45;&gt;block_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7992.1072,-2481.0241C7910.0062,-2458.1182 7745.962,-2412.3506 7659.6148,-2388.2601"/>
<polygon fill="#000000" stroke="#000000" points="7660.3064,-2384.8195 7649.7337,-2385.5033 7658.4252,-2391.562 7660.3064,-2384.8195"/>
</g>
<!-- block_96 -->
<g id="node97" class="node">
<title>block_96</title>
<ellipse fill="none" stroke="#000000" cx="7914.5" cy="-2372.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7914.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 180&#45;182</text>
</g>
<!-- section_74&#45;&gt;block_96 -->
<g id="edge96" class="edge">
<title>section_74&#45;&gt;block_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8023.304,-2477.2961C8001.4247,-2456.2437 7964.5727,-2420.7846 7939.8987,-2397.0431"/>
<polygon fill="#000000" stroke="#000000" points="7942.295,-2394.4917 7932.6622,-2390.0802 7937.4414,-2399.5359 7942.295,-2394.4917"/>
</g>
<!-- block_97 -->
<g id="node98" class="node">
<title>block_97</title>
<ellipse fill="none" stroke="#000000" cx="8116.5" cy="-2372.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="8116.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 183&#45;184</text>
</g>
<!-- section_74&#45;&gt;block_97 -->
<g id="edge97" class="edge">
<title>section_74&#45;&gt;block_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8052.5665,-2476.7734C8065.0848,-2456.3769 8085.5991,-2422.9523 8100.0065,-2399.4778"/>
<polygon fill="#000000" stroke="#000000" points="8103.1402,-2401.063 8105.3881,-2390.7094 8097.1742,-2397.4014 8103.1402,-2401.063"/>
</g>
<!-- block_98 -->
<g id="node99" class="node">
<title>block_98</title>
<ellipse fill="none" stroke="#000000" cx="8506.5" cy="-2372.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="8506.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 185&#45;241</text>
</g>
<!-- section_74&#45;&gt;block_98 -->
<g id="edge98" class="edge">
<title>section_74&#45;&gt;block_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8092.5933,-2481.3773C8179.9156,-2458.4294 8357.2887,-2411.8165 8448.8837,-2387.7457"/>
<polygon fill="#000000" stroke="#000000" points="8450.0318,-2391.0629 8458.8138,-2385.1361 8448.2526,-2384.2927 8450.0318,-2391.0629"/>
</g>
<!-- section_99 -->
<g id="node100" class="node">
<title>section_99</title>
<ellipse fill="none" stroke="#000000" cx="8735.5" cy="-2372.6043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8735.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 224&#45;229</text>
</g>
<!-- section_74&#45;&gt;section_99 -->
<g id="edge99" class="edge">
<title>section_74&#45;&gt;section_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8113.8884,-2489.5637C8218.2297,-2481.0354 8416.4953,-2461.1778 8581.5,-2423.4044 8617.128,-2415.2483 8656.2255,-2402.3 8686.1108,-2391.5175"/>
<polygon fill="#000000" stroke="#000000" points="8687.6805,-2394.6705 8695.8743,-2387.9539 8685.2804,-2388.0948 8687.6805,-2394.6705"/>
</g>
<!-- section_100 -->
<g id="node101" class="node">
<title>section_100</title>
<ellipse fill="none" stroke="#000000" cx="9014.5" cy="-2372.6043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9014.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 230&#45;234</text>
</g>
<!-- section_74&#45;&gt;section_100 -->
<g id="edge100" class="edge">
<title>section_74&#45;&gt;section_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8116.323,-2492.0029C8255.6247,-2485.8891 8563.8075,-2468.1341 8819.5,-2423.4044 8866.7927,-2415.1312 8919.4194,-2401.1292 8958.0703,-2389.9182"/>
<polygon fill="#000000" stroke="#000000" points="8959.4702,-2393.1552 8968.0834,-2386.9856 8957.5027,-2386.4374 8959.4702,-2393.1552"/>
</g>
<!-- section_101 -->
<g id="node102" class="node">
<title>section_101</title>
<ellipse fill="none" stroke="#000000" cx="9296.5" cy="-2372.6043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9296.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 235&#45;241</text>
</g>
<!-- section_74&#45;&gt;section_101 -->
<g id="edge101" class="edge">
<title>section_74&#45;&gt;section_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8116.1123,-2491.5511C8324.3087,-2482.1887 8908.7317,-2453.8924 9098.5,-2423.4044 9147.2754,-2415.5682 9201.5505,-2401.2336 9240.9224,-2389.7848"/>
<polygon fill="#000000" stroke="#000000" points="9241.9908,-2393.1189 9250.5987,-2386.942 9240.0176,-2386.4028 9241.9908,-2393.1189"/>
</g>
<!-- section_102 -->
<g id="node103" class="node">
<title>section_102</title>
<ellipse fill="none" stroke="#000000" cx="9736.5" cy="-2372.6043" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9736.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 242&#45;361</text>
</g>
<!-- section_74&#45;&gt;section_102 -->
<g id="edge102" class="edge">
<title>section_74&#45;&gt;section_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8116.8072,-2493.1236C8320.7339,-2488.0676 8900.6126,-2470.3454 9380.5,-2423.4044 9479.4016,-2413.7302 9592.9428,-2396.4473 9664.6842,-2384.7573"/>
<polygon fill="#000000" stroke="#000000" points="9665.6561,-2388.1448 9674.959,-2383.0747 9664.5248,-2381.2368 9665.6561,-2388.1448"/>
</g>
<!-- leaf_79 -->
<g id="node80" class="node">
<title>leaf_79</title>
<polygon fill="none" stroke="#c0c0c0" points="5643.5,-2169.8053 5319.5,-2169.8053 5319.5,-2100.6027 5643.5,-2100.6027 5643.5,-2169.8053"/>
<text text-anchor="middle" x="5481.5" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.addLine(section, line)</text>
<text text-anchor="middle" x="5481.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.lines[#section.lines + 1] = line</text>
<text text-anchor="middle" x="5481.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="5481.5" y="-2108.604" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_78&#45;&gt;leaf_79 -->
<g id="edge79" class="edge">
<title>codeblock_78&#45;&gt;leaf_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5544.2771,-2354.3701C5533.6714,-2317.3438 5509.3437,-2232.4116 5494.2784,-2179.8157"/>
<polygon fill="#000000" stroke="#000000" points="5497.6055,-2178.7204 5491.4871,-2170.0708 5490.8761,-2180.648 5497.6055,-2178.7204"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5929.5,-2155.1061 5661.5,-2155.1061 5661.5,-2115.3019 5929.5,-2115.3019 5929.5,-2155.1061"/>
<text text-anchor="middle" x="5795.5" y="-2123.704" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Adds a section to the host section</text>
</g>
<!-- block_82&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>block_82&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6140.7239,-2355.2704C6126.5319,-2344.2309 6106.8569,-2330.4331 6087.5,-2321.8043 6025.2749,-2294.066 5997.4807,-2319.902 5938.5,-2285.8043 5884.8337,-2254.7789 5838.7523,-2197.499 5814.2738,-2163.2236"/>
<polygon fill="#000000" stroke="#000000" points="5817.1352,-2161.2081 5808.5244,-2155.0351 5811.4063,-2165.2305 5817.1352,-2161.2081"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="6293,-2162.4045 5948,-2162.4045 5948,-2108.0035 6293,-2108.0035 6293,-2162.4045"/>
<text text-anchor="middle" x="6120.5" y="-2147.104" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section: &#160;Section to contain the new section.</text>
<text text-anchor="middle" x="6120.5" y="-2131.704" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; newsection: &#160;The new section.</text>
<text text-anchor="middle" x="6120.5" y="-2116.304" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; linum: &#160;The line number.</text>
</g>
<!-- block_83&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>block_83&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6296.2191,-2354.7607C6264.9258,-2315.6605 6189.8238,-2221.8223 6148.6596,-2170.3887"/>
<polygon fill="#000000" stroke="#000000" points="6151.3374,-2168.1333 6142.3563,-2162.5128 6145.8722,-2172.5073 6151.3374,-2168.1333"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="6537.5,-2153.204 6311.5,-2153.204 6311.5,-2117.204 6537.5,-2117.204 6537.5,-2153.204"/>
<text text-anchor="middle" x="6424.5" y="-2131.704" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; #return: the parent section.</text>
</g>
<!-- block_84&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>block_84&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6456.8117,-2354.3701C6450.7422,-2313.201 6435.9409,-2212.806 6428.6699,-2163.4879"/>
<polygon fill="#000000" stroke="#000000" points="6432.1186,-2162.8829 6427.1974,-2153.5003 6425.1935,-2163.9039 6432.1186,-2162.8829"/>
</g>
<!-- codeblock_89 -->
<g id="node90" class="node">
<title>codeblock_89</title>
<ellipse fill="none" stroke="#000000" cx="6642.5" cy="-2135.204" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6642.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 156&#45;164</text>
</g>
<!-- block_85&#45;&gt;codeblock_89 -->
<g id="edge89" class="edge">
<title>block_85&#45;&gt;codeblock_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6642.5,-2354.3701C6642.5,-2313.2873 6642.5,-2213.2267 6642.5,-2163.7988"/>
<polygon fill="#000000" stroke="#000000" points="6646.0001,-2163.5003 6642.5,-2153.5003 6639.0001,-2163.5004 6646.0001,-2163.5003"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="6801.5,-2153.204 6747.5,-2153.204 6747.5,-2117.204 6801.5,-2117.204 6801.5,-2153.204"/>
</g>
<!-- block_85&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>block_85&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6668.5345,-2355.8131C6690.5046,-2340.2744 6721.0825,-2315.1824 6738.5,-2285.8043 6761.1877,-2247.5368 6769.5868,-2195.8112 6772.6899,-2164.0185"/>
<polygon fill="#000000" stroke="#000000" points="6776.211,-2163.9223 6773.5813,-2153.6591 6769.2368,-2163.3221 6776.211,-2163.9223"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="6822,-1879.2039 6463,-1879.2039 6463,-1763.6031 6822,-1763.6031 6822,-1879.2039"/>
<text text-anchor="middle" x="6642.5" y="-1864.1036" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.addSection(section, newsection, linum)</text>
<text text-anchor="middle" x="6642.5" y="-1848.7035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if linum &gt; 0 then</text>
<text text-anchor="middle" x="6642.5" y="-1833.3035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.line_last = linum &#45; 1</text>
<text text-anchor="middle" x="6642.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6642.5" y="-1802.5034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section[#section + 1] = newsection</text>
<text text-anchor="middle" x="6642.5" y="-1787.1034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="6642.5" y="-1771.7034" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_89&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>codeblock_89&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6642.5,-2116.9764C6642.5,-2073.5632 6642.5,-1962.2355 6642.5,-1889.2825"/>
<polygon fill="#000000" stroke="#000000" points="6646.0001,-1889.2542 6642.5,-1879.2542 6639.0001,-1889.2543 6646.0001,-1889.2542"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="7025,-2155.1061 6820,-2155.1061 6820,-2115.3019 7025,-2115.3019 7025,-2155.1061"/>
<text text-anchor="middle" x="6922.5" y="-2123.704" font-family="Inconsolata" font-size="14.00" fill="#000000">Boolean match for a tagline</text>
</g>
<!-- block_93&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>block_93&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7243.7477,-2355.4688C7229.3355,-2344.3701 7209.2444,-2330.4277 7189.5,-2321.8043 7124.6892,-2293.4981 7093.6653,-2324.5488 7034.5,-2285.8043 6988.0309,-2255.3739 6953.7855,-2198.6899 6936.0901,-2164.2111"/>
<polygon fill="#000000" stroke="#000000" points="6939.1447,-2162.494 6931.5415,-2155.1155 6932.8839,-2165.6249 6939.1447,-2162.494"/>
</g>
<!-- codeblock_104 -->
<g id="node105" class="node">
<title>codeblock_104</title>
<ellipse fill="none" stroke="#000000" cx="7130.5" cy="-2135.204" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7130.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 171&#45;175</text>
</g>
<!-- block_94&#45;&gt;codeblock_104 -->
<g id="edge104" class="edge">
<title>block_94&#45;&gt;codeblock_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7392.197,-2355.4821C7377.9422,-2344.671 7358.3968,-2331.0495 7339.5,-2321.8043 7292.1535,-2298.6401 7268.2735,-2317.9484 7226.5,-2285.8043 7184.2293,-2253.2775 7155.4205,-2196.4647 7141.0681,-2162.6904"/>
<polygon fill="#000000" stroke="#000000" points="7144.2886,-2161.3189 7137.2414,-2153.4076 7137.8169,-2163.9868 7144.2886,-2161.3189"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="7289.5,-2153.204 7235.5,-2153.204 7235.5,-2117.204 7289.5,-2117.204 7289.5,-2153.204"/>
</g>
<!-- block_94&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>block_94&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7389.4062,-2355.7448C7357.5134,-2333.2294 7304.5779,-2295.0924 7298.5,-2285.8043 7273.902,-2248.2139 7266.0778,-2195.5271 7263.6099,-2163.4705"/>
<polygon fill="#000000" stroke="#000000" points="7267.0995,-2163.195 7262.9618,-2153.4416 7260.1141,-2163.6465 7267.0995,-2163.195"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="7681,-2153.204 7308,-2153.204 7308,-2117.204 7681,-2117.204 7681,-2153.204"/>
<text text-anchor="middle" x="7494.5" y="-2131.704" font-family="Inconsolata" font-size="14.00" fill="#000000">Lookahead, counting blank lines, return the number.</text>
</g>
<!-- block_95&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>block_95&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7595.1279,-2354.3701C7576.1463,-2313.0284 7529.7432,-2211.9631 7507.2027,-2162.8703"/>
<polygon fill="#000000" stroke="#000000" points="7510.254,-2161.1278 7502.9006,-2153.5003 7503.8925,-2164.0486 7510.254,-2161.1278"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="8023.5,-2154.5046 7699.5,-2154.5046 7699.5,-2115.9034 8023.5,-2115.9034 8023.5,-2154.5046"/>
<text text-anchor="middle" x="7861.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines: the full lines array of the section</text>
<text text-anchor="middle" x="7861.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; linum: current index into lines</text>
</g>
<!-- block_96&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>block_96&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7910.4292,-2354.3701C7901.3094,-2313.5202 7879.1715,-2214.359 7868.0725,-2164.6441"/>
<polygon fill="#000000" stroke="#000000" points="7871.4752,-2163.8218 7865.8804,-2154.8247 7864.6434,-2165.3471 7871.4752,-2163.8218"/>
</g>
<!-- leaf_109 -->
<g id="node110" class="node">
<title>leaf_109</title>
<polygon fill="none" stroke="#c0c0c0" points="8401,-2153.204 8042,-2153.204 8042,-2117.204 8401,-2117.204 8401,-2153.204"/>
<text text-anchor="middle" x="8221.5" y="-2131.704" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; returns: number of blank lines forward of index</text>
</g>
<!-- block_97&#45;&gt;leaf_109 -->
<g id="edge109" class="edge">
<title>block_97&#45;&gt;leaf_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8124.5648,-2354.3701C8142.8499,-2313.0284 8187.5502,-2211.9631 8209.2634,-2162.8703"/>
<polygon fill="#000000" stroke="#000000" points="8212.5636,-2164.0615 8213.4077,-2153.5003 8206.1618,-2161.23 8212.5636,-2164.0615"/>
</g>
<!-- codeblock_110 -->
<g id="node111" class="node">
<title>codeblock_110</title>
<ellipse fill="none" stroke="#000000" cx="8506.5" cy="-2135.204" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8506.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 185&#45;202</text>
</g>
<!-- block_98&#45;&gt;codeblock_110 -->
<g id="edge110" class="edge">
<title>block_98&#45;&gt;codeblock_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8506.5,-2354.3701C8506.5,-2313.2873 8506.5,-2213.2267 8506.5,-2163.7988"/>
<polygon fill="#000000" stroke="#000000" points="8510.0001,-2163.5003 8506.5,-2153.5003 8503.0001,-2163.5004 8510.0001,-2163.5003"/>
</g>
<!-- leaf_112 -->
<g id="node113" class="node">
<title>leaf_112</title>
<polygon fill="none" stroke="#c0c0c0" points="8665.5,-2153.204 8611.5,-2153.204 8611.5,-2117.204 8665.5,-2117.204 8665.5,-2153.204"/>
</g>
<!-- block_98&#45;&gt;leaf_112 -->
<g id="edge112" class="edge">
<title>block_98&#45;&gt;leaf_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8532.5345,-2355.8131C8554.5046,-2340.2744 8585.0825,-2315.1824 8602.5,-2285.8043 8625.1877,-2247.5368 8633.5868,-2195.8112 8636.6899,-2164.0185"/>
<polygon fill="#000000" stroke="#000000" points="8640.211,-2163.9223 8637.5813,-2153.6591 8633.2368,-2163.3221 8640.211,-2163.9223"/>
</g>
<!-- header_113 -->
<g id="node114" class="node">
<title>header_113</title>
<ellipse fill="none" stroke="#000000" cx="8735.5" cy="-2135.204" rx="52.2623" ry="18"/>
<text text-anchor="middle" x="8735.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : List line</text>
</g>
<!-- section_99&#45;&gt;header_113 -->
<g id="edge113" class="edge">
<title>section_99&#45;&gt;header_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8735.5,-2354.3701C8735.5,-2313.2873 8735.5,-2213.2267 8735.5,-2163.7988"/>
<polygon fill="#000000" stroke="#000000" points="8739.0001,-2163.5003 8735.5,-2153.5003 8732.0001,-2163.5004 8739.0001,-2163.5003"/>
</g>
<!-- block_114 -->
<g id="node115" class="node">
<title>block_114</title>
<ellipse fill="none" stroke="#000000" cx="8871.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="8871.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 224&#45;229</text>
</g>
<!-- section_99&#45;&gt;block_114 -->
<g id="edge114" class="edge">
<title>section_99&#45;&gt;block_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8749.1717,-2354.8468C8762.1096,-2337.6649 8781.6993,-2310.6465 8796.5,-2285.8043 8821.3216,-2244.1424 8845.4938,-2193.174 8859.4183,-2162.495"/>
<polygon fill="#000000" stroke="#000000" points="8862.6512,-2163.8399 8863.567,-2153.2847 8856.2688,-2160.965 8862.6512,-2163.8399"/>
</g>
<!-- header_116 -->
<g id="node117" class="node">
<title>header_116</title>
<ellipse fill="none" stroke="#000000" cx="9014.5" cy="-2135.204" rx="59.7106" ry="18"/>
<text text-anchor="middle" x="9014.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Table line</text>
</g>
<!-- section_100&#45;&gt;header_116 -->
<g id="edge116" class="edge">
<title>section_100&#45;&gt;header_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9014.5,-2354.3701C9014.5,-2313.2873 9014.5,-2213.2267 9014.5,-2163.7988"/>
<polygon fill="#000000" stroke="#000000" points="9018.0001,-2163.5003 9014.5,-2153.5003 9011.0001,-2163.5004 9018.0001,-2163.5003"/>
</g>
<!-- block_117 -->
<g id="node118" class="node">
<title>block_117</title>
<ellipse fill="none" stroke="#000000" cx="9157.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9157.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 230&#45;234</text>
</g>
<!-- section_100&#45;&gt;block_117 -->
<g id="edge117" class="edge">
<title>section_100&#45;&gt;block_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9030.5093,-2354.8345C9045.3321,-2337.8623 9067.4417,-2311.1814 9083.5,-2285.8043 9109.3634,-2244.9322 9132.8054,-2193.7291 9146.088,-2162.7876"/>
<polygon fill="#000000" stroke="#000000" points="9149.348,-2164.065 9150.0338,-2153.4924 9142.9045,-2161.3298 9149.348,-2164.065"/>
</g>
<!-- header_119 -->
<g id="node120" class="node">
<title>header_119</title>
<ellipse fill="none" stroke="#000000" cx="9296.5" cy="-2135.204" rx="55.3589" ry="18"/>
<text text-anchor="middle" x="9296.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Tag line </text>
</g>
<!-- section_101&#45;&gt;header_119 -->
<g id="edge119" class="edge">
<title>section_101&#45;&gt;header_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9296.5,-2354.3701C9296.5,-2313.2873 9296.5,-2213.2267 9296.5,-2163.7988"/>
<polygon fill="#000000" stroke="#000000" points="9300.0001,-2163.5003 9296.5,-2153.5003 9293.0001,-2163.5004 9300.0001,-2163.5003"/>
</g>
<!-- block_120 -->
<g id="node121" class="node">
<title>block_120</title>
<ellipse fill="none" stroke="#000000" cx="9435.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9435.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 235&#45;241</text>
</g>
<!-- section_101&#45;&gt;block_120 -->
<g id="edge120" class="edge">
<title>section_101&#45;&gt;block_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9311.1939,-2354.6253C9324.8328,-2337.5053 9345.266,-2310.7244 9360.5,-2285.8043 9385.7941,-2244.4276 9409.826,-2193.3745 9423.5934,-2162.6007"/>
<polygon fill="#000000" stroke="#000000" points="9426.837,-2163.9201 9427.6913,-2153.3597 9420.4379,-2161.0824 9426.837,-2163.9201"/>
</g>
<!-- header_122 -->
<g id="node123" class="node">
<title>header_122</title>
<ellipse fill="none" stroke="#000000" cx="9628.5" cy="-2135.204" rx="66.779" ry="18"/>
<text text-anchor="middle" x="9628.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Code block</text>
</g>
<!-- section_102&#45;&gt;header_122 -->
<g id="edge122" class="edge">
<title>section_102&#45;&gt;header_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9728.2047,-2354.3701C9709.351,-2312.9268 9663.1937,-2211.4661 9640.922,-2162.5094"/>
<polygon fill="#000000" stroke="#000000" points="9644.0025,-2160.8284 9636.6757,-2153.1754 9637.6308,-2163.7271 9644.0025,-2160.8284"/>
</g>
<!-- block_123 -->
<g id="node124" class="node">
<title>block_123</title>
<ellipse fill="none" stroke="#000000" cx="9778.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9778.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 242&#45;246</text>
</g>
<!-- section_102&#45;&gt;block_123 -->
<g id="edge123" class="edge">
<title>section_102&#45;&gt;block_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9739.7259,-2354.3701C9747.0094,-2313.201 9764.7709,-2212.806 9773.4961,-2163.4879"/>
<polygon fill="#000000" stroke="#000000" points="9776.9674,-2163.9572 9775.2631,-2153.5003 9770.0744,-2162.7377 9776.9674,-2163.9572"/>
</g>
<!-- block_124 -->
<g id="node125" class="node">
<title>block_124</title>
<ellipse fill="none" stroke="#000000" cx="10022.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10022.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 247&#45;248</text>
</g>
<!-- section_102&#45;&gt;block_124 -->
<g id="edge124" class="edge">
<title>section_102&#45;&gt;block_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9761.1836,-2355.2718C9785.2016,-2338.1798 9822.5048,-2311.0275 9853.5,-2285.8043 9905.7061,-2243.3199 9963.7009,-2190.2743 9996.3719,-2159.8144"/>
<polygon fill="#000000" stroke="#000000" points="9998.8097,-2162.3267 10003.7252,-2152.9412 9994.0297,-2157.2129 9998.8097,-2162.3267"/>
</g>
<!-- block_125 -->
<g id="node126" class="node">
<title>block_125</title>
<ellipse fill="none" stroke="#000000" cx="10315.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10315.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 249&#45;250</text>
</g>
<!-- section_102&#45;&gt;block_125 -->
<g id="edge125" class="edge">
<title>section_102&#45;&gt;block_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9759.0876,-2355.373C9775.2969,-2343.9322 9798.1397,-2329.6279 9820.5,-2321.8043 9937.6807,-2280.8039 9981.6159,-2330.3375 10097.5,-2285.8043 10174.6682,-2256.1492 10250.9263,-2193.9106 10289.5214,-2159.4519"/>
<polygon fill="#000000" stroke="#000000" points="10292.0967,-2161.8421 10297.1722,-2152.5421 10287.405,-2156.6471 10292.0967,-2161.8421"/>
</g>
<!-- block_126 -->
<g id="node127" class="node">
<title>block_126</title>
<ellipse fill="none" stroke="#000000" cx="10751.5" cy="-2135.204" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10751.5" y="-2131.004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 251&#45;361</text>
</g>
<!-- section_102&#45;&gt;block_126 -->
<g id="edge126" class="edge">
<title>section_102&#45;&gt;block_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9758.5858,-2355.158C9774.7431,-2343.4593 9797.7305,-2328.935 9820.5,-2321.8043 10062.7372,-2245.9431 10143.2972,-2343.4634 10390.5,-2285.8043 10513.7306,-2257.0612 10648.8267,-2190.3726 10713.2273,-2156.2057"/>
<polygon fill="#000000" stroke="#000000" points="10715.0351,-2159.2082 10722.2063,-2151.4091 10711.7368,-2153.0339 10715.0351,-2159.2082"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7268,-1848.6039 6993,-1848.6039 6993,-1794.203 7268,-1794.203 7268,-1848.6039"/>
<text text-anchor="middle" x="7130.5" y="-1833.3035" font-family="Inconsolata" font-size="14.00" fill="#000000">local function isTagline(line)</text>
<text text-anchor="middle" x="7130.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return L.match(m.tagline_p, line)</text>
<text text-anchor="middle" x="7130.5" y="-1802.5034" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_104&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>codeblock_104&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7130.5,-2116.9764C7130.5,-2066.9385 7130.5,-1926.6774 7130.5,-1858.9436"/>
<polygon fill="#000000" stroke="#000000" points="7134.0001,-1858.7204 7130.5,-1848.7204 7127.0001,-1858.7204 7134.0001,-1858.7204"/>
</g>
<!-- leaf_111 -->
<g id="node112" class="node">
<title>leaf_111</title>
<polygon fill="none" stroke="#c0c0c0" points="8647.5,-1948.8043 8365.5,-1948.8043 8365.5,-1694.0026 8647.5,-1694.0026 8647.5,-1948.8043"/>
<text text-anchor="middle" x="8506.5" y="-1933.4037" font-family="Inconsolata" font-size="14.00" fill="#000000">local function fwdBlanks(lines, linum)</text>
<text text-anchor="middle" x="8506.5" y="-1918.0037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local fwd = 0</text>
<text text-anchor="middle" x="8506.5" y="-1902.6037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local index = linum + 1</text>
<text text-anchor="middle" x="8506.5" y="-1887.2036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if index &gt; #lines then </text>
<text text-anchor="middle" x="8506.5" y="-1871.8036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="8506.5" y="-1856.4036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="8506.5" y="-1841.0035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;for i = index, #lines do</text>
<text text-anchor="middle" x="8506.5" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if lines[i] == &quot;&quot; then</text>
<text text-anchor="middle" x="8506.5" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fwd = fwd + 1</text>
<text text-anchor="middle" x="8506.5" y="-1794.8034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="8506.5" y="-1779.4034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break</text>
<text text-anchor="middle" x="8506.5" y="-1764.0034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8506.5" y="-1748.6033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8506.5" y="-1733.2033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8506.5" y="-1717.8033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return fwd</text>
<text text-anchor="middle" x="8506.5" y="-1702.4032" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_110&#45;&gt;leaf_111 -->
<g id="edge111" class="edge">
<title>codeblock_110&#45;&gt;leaf_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8506.5,-2116.9764C8506.5,-2085.9994 8506.5,-2020.4444 8506.5,-1958.9254"/>
<polygon fill="#000000" stroke="#000000" points="8510.0001,-1958.6953 8506.5,-1948.6953 8503.0001,-1958.6954 8510.0001,-1958.6953"/>
</g>
<!-- leaf_115 -->
<g id="node116" class="node">
<title>leaf_115</title>
<polygon fill="none" stroke="#c0c0c0" points="9011.5,-1856.7038 8687.5,-1856.7038 8687.5,-1786.1031 9011.5,-1786.1031 9011.5,-1856.7038"/>
<text text-anchor="middle" x="8849.5" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">New block unless previous line is also list,</text>
<text text-anchor="middle" x="8849.5" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">in which case append. </text>
</g>
<!-- block_114&#45;&gt;leaf_115 -->
<g id="edge115" class="edge">
<title>block_114&#45;&gt;leaf_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8870.2221,-2116.9764C8866.8507,-2068.8884 8857.6374,-1937.4722 8852.7095,-1867.1831"/>
<polygon fill="#000000" stroke="#000000" points="8856.1768,-1866.5918 8851.9859,-1856.8611 8849.1939,-1867.0814 8856.1768,-1866.5918"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="9137,-1849.305 9030,-1849.305 9030,-1793.502 9137,-1793.502 9137,-1849.305"/>
<text text-anchor="middle" x="9083.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">Same as list.</text>
</g>
<!-- block_117&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>block_117&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9153.2016,-2116.9764C9141.4068,-2066.9599 9108.3539,-1926.7977 9092.3732,-1859.0308"/>
<polygon fill="#000000" stroke="#000000" points="9095.7542,-1858.1184 9090.0523,-1849.1888 9088.941,-1859.7252 9095.7542,-1858.1184"/>
</g>
<!-- leaf_121 -->
<g id="node122" class="node">
<title>leaf_121</title>
<polygon fill="none" stroke="#c0c0c0" points="9577.5,-1864.6038 9155.5,-1864.6038 9155.5,-1778.2031 9577.5,-1778.2031 9577.5,-1864.6038"/>
<text text-anchor="middle" x="9366.5" y="-1833.3035" font-family="Inconsolata" font-size="14.00" fill="#000000">A tag needs to cling, so we need to check the</text>
<text text-anchor="middle" x="9366.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">number of blank lines before and after a tag line, if any.</text>
<text text-anchor="middle" x="9366.5" y="-1802.5034" font-family="Inconsolata" font-size="14.00" fill="#000000">If even, a tag line clings down.</text>
</g>
<!-- block_120&#45;&gt;leaf_121 -->
<g id="edge121" class="edge">
<title>block_120&#45;&gt;leaf_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9431.492,-2116.9764C9421.294,-2070.5975 9394.0526,-1946.708 9378.2636,-1874.9024"/>
<polygon fill="#000000" stroke="#000000" points="9381.5865,-1873.7165 9376.0206,-1864.7015 9374.7499,-1875.2198 9381.5865,-1873.7165"/>
</g>
<!-- leaf_127 -->
<g id="node128" class="node">
<title>leaf_127</title>
<polygon fill="none" stroke="#c0c0c0" points="9961.5,-1848.7039 9595.5,-1848.7039 9595.5,-1794.103 9961.5,-1794.103 9961.5,-1848.7039"/>
<text text-anchor="middle" x="9778.5" y="-1817.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">A code block is anything between a code header and</text>
<text text-anchor="middle" x="9778.5" y="-1802.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">either a code footer or the end of a file. </text>
</g>
<!-- block_123&#45;&gt;leaf_127 -->
<g id="edge127" class="edge">
<title>block_123&#45;&gt;leaf_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9778.5,-2116.9764C9778.5,-2066.9385 9778.5,-1926.6774 9778.5,-1858.9436"/>
<polygon fill="#000000" stroke="#000000" points="9782.0001,-1858.7204 9778.5,-1848.7204 9775.0001,-1858.7204 9782.0001,-1858.7204"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="10255,-1839.4035 9980,-1839.4035 9980,-1803.4035 10255,-1803.4035 10255,-1839.4035"/>
<text text-anchor="middle" x="10117.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section : the Section to be blocked</text>
</g>
<!-- block_124&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>block_124&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10028.0182,-2116.9764C10043.9233,-2064.4394 10089.939,-1912.4418 10109.0371,-1849.3579"/>
<polygon fill="#000000" stroke="#000000" points="10112.4188,-1850.2666 10111.9665,-1839.6814 10105.7191,-1848.2382 10112.4188,-1850.2666"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="10646,-1839.4035 10273,-1839.4035 10273,-1803.4035 10646,-1803.4035 10646,-1839.4035"/>
<text text-anchor="middle" x="10459.5" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; returns : the same Section, filled in with blocks</text>
</g>
<!-- block_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>block_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10323.8645,-2116.9764C10348.0229,-2064.331 10418.0112,-1911.8146 10446.8505,-1848.9688"/>
<polygon fill="#000000" stroke="#000000" points="10450.1227,-1850.2299 10451.1124,-1839.6814 10443.7606,-1847.3103 10450.1227,-1850.2299"/>
</g>
<!-- codeblock_130 -->
<g id="node131" class="node">
<title>codeblock_130</title>
<ellipse fill="none" stroke="#000000" cx="10751.5" cy="-1821.4035" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10751.5" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 251&#45;359</text>
</g>
<!-- block_126&#45;&gt;codeblock_130 -->
<g id="edge130" class="edge">
<title>block_126&#45;&gt;codeblock_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10751.5,-2116.9764C10751.5,-2064.5477 10751.5,-1913.0682 10751.5,-1849.7492"/>
<polygon fill="#000000" stroke="#000000" points="10755.0001,-1849.6813 10751.5,-1839.6814 10748.0001,-1849.6814 10755.0001,-1849.6813"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="10910.5,-1839.4035 10856.5,-1839.4035 10856.5,-1803.4035 10910.5,-1803.4035 10910.5,-1839.4035"/>
</g>
<!-- block_126&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>block_126&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10762.2907,-2117.2318C10781.5303,-2084.5962 10822.1156,-2013.0015 10847.5,-1948.6037 10860.5932,-1915.3874 10871.0674,-1875.5689 10877.2706,-1849.4383"/>
<polygon fill="#000000" stroke="#000000" points="10880.7326,-1850.0029 10879.587,-1839.4702 10873.9143,-1848.4183 10880.7326,-1850.0029"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="11043,-1658.3048 10460,-1658.3048 10460,.1016 11043,.1016 11043,-1658.3048"/>
<text text-anchor="middle" x="10751.5" y="-1643.0032" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.block(section)</text>
<text text-anchor="middle" x="10751.5" y="-1627.6032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; There is always a header at [1], though it may be nil</text>
<text text-anchor="middle" x="10751.5" y="-1612.2032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If there are other Nodes, they are sections and must be appended</text>
<text text-anchor="middle" x="10751.5" y="-1596.8031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; after the blocks.</text>
<text text-anchor="middle" x="10751.5" y="-1581.4031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local sub_sections = {}</text>
<text text-anchor="middle" x="10751.5" y="-1566.0031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i = 2, #section do</text>
<text text-anchor="middle" x="10751.5" y="-1550.603" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;sub_sections[#sub_sections + 1] = section[i]</text>
<text text-anchor="middle" x="10751.5" y="-1535.203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[i] = nil</text>
<text text-anchor="middle" x="10751.5" y="-1519.803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10751.5" y="-1488.4029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Every section gets at least one block, at [2], which may be empty.</text>
<text text-anchor="middle" x="10751.5" y="-1473.0029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local latest = Block(nil, section.line_first) &#45;&#45; current block</text>
<text text-anchor="middle" x="10751.5" y="-1457.6029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section[2] = latest</text>
<text text-anchor="middle" x="10751.5" y="-1426.2028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; State machine for blocking a section</text>
<text text-anchor="middle" x="10751.5" y="-1410.8028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local back_blanks = 0</text>
<text text-anchor="middle" x="10751.5" y="-1395.4028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; first set of blank lines in a section belong to the first block</text>
<text text-anchor="middle" x="10751.5" y="-1380.0027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local lead_blanks = true</text>
<text text-anchor="middle" x="10751.5" y="-1364.6027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Track code blocks in own logic</text>
<text text-anchor="middle" x="10751.5" y="-1349.2027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local code_block = false</text>
<text text-anchor="middle" x="10751.5" y="-1333.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Tags also</text>
<text text-anchor="middle" x="10751.5" y="-1318.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local tagging = false</text>
<text text-anchor="middle" x="10751.5" y="-1303.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i = 1, #section.lines do</text>
<text text-anchor="middle" x="10751.5" y="-1287.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local inset = i + section.line_first</text>
<text text-anchor="middle" x="10751.5" y="-1272.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local l = section.lines[i]</text>
<text text-anchor="middle" x="10751.5" y="-1256.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not code_block then</text>
<text text-anchor="middle" x="10751.5" y="-1241.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if l == &quot;&quot; then </text>
<text text-anchor="middle" x="10751.5" y="-1226.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; increment back blanks for clinging subsequent lines</text>
<text text-anchor="middle" x="10751.5" y="-1210.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = back_blanks + 1</text>
<text text-anchor="middle" x="10751.5" y="-1195.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; blank lines attach to the preceding block</text>
<text text-anchor="middle" x="10751.5" y="-1179.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="10751.5" y="-1164.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10751.5" y="-1149.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local isCodeHeader, level, l_trim = Codeblock.matchHead(l)</text>
<text text-anchor="middle" x="10751.5" y="-1133.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if isCodeHeader then</text>
<text text-anchor="middle" x="10751.5" y="-1118.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_block = true</text>
<text text-anchor="middle" x="10751.5" y="-1102.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not tagging then</text>
<text text-anchor="middle" x="10751.5" y="-1087.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; create a new block for the codeblock</text>
<text text-anchor="middle" x="10751.5" y="-1072.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest.line_last = inset &#45; 1</text>
<text text-anchor="middle" x="10751.5" y="-1056.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = Block(nil, inset)</text>
<text text-anchor="middle" x="10751.5" y="-1041.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1] = Codeblock(level, l_trim, inset)</text>
<text text-anchor="middle" x="10751.5" y="-1025.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = latest</text>
<text text-anchor="middle" x="10751.5" y="-1010.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10751.5" y="-995.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; preserve existing block and add codeblock</text>
<text text-anchor="middle" x="10751.5" y="-979.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tagging = false</text>
<text text-anchor="middle" x="10751.5" y="-964.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1] = Codeblock(level, l_trim, inset)</text>
<text text-anchor="middle" x="10751.5" y="-948.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10751.5" y="-933.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif isTagline(l) then</text>
<text text-anchor="middle" x="10751.5" y="-918.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tagging = true</text>
<text text-anchor="middle" x="10751.5" y="-902.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; apply cling rule</text>
<text text-anchor="middle" x="10751.5" y="-887.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local fwd_blanks = fwdBlanks(section.lines, i)</text>
<text text-anchor="middle" x="10751.5" y="-871.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if fwd_blanks &gt; back_blanks then</text>
<text text-anchor="middle" x="10751.5" y="-856.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="10751.5" y="-841.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10751.5" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; new block</text>
<text text-anchor="middle" x="10751.5" y="-810.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest.line_last = inset &#45; 1</text>
<text text-anchor="middle" x="10751.5" y="-794.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = Block(l, inset)</text>
<text text-anchor="middle" x="10751.5" y="-779.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = latest</text>
<text text-anchor="middle" x="10751.5" y="-764.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = 0</text>
<text text-anchor="middle" x="10751.5" y="-748.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="middle" x="10751.5" y="-733.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10751.5" y="-717.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if back_blanks &gt; 0 and lead_blanks == false then</text>
<text text-anchor="middle" x="10751.5" y="-702.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not tagging then</text>
<text text-anchor="middle" x="10751.5" y="-687.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; new block</text>
<text text-anchor="middle" x="10751.5" y="-671.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest.line_last = inset &#45; 1</text>
<text text-anchor="middle" x="10751.5" y="-656.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = Block(l, inset)</text>
<text text-anchor="middle" x="10751.5" y="-640.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = latest</text>
<text text-anchor="middle" x="10751.5" y="-625.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = 0</text>
<text text-anchor="middle" x="10751.5" y="-610.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10751.5" y="-594.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="10751.5" y="-579.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tagging = false</text>
<text text-anchor="middle" x="10751.5" y="-563.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end </text>
<text text-anchor="middle" x="10751.5" y="-548.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10751.5" y="-533.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; continuing a block</text>
<text text-anchor="middle" x="10751.5" y="-517.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;lead_blanks = false</text>
<text text-anchor="middle" x="10751.5" y="-502.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = 0</text>
<text text-anchor="middle" x="10751.5" y="-486.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="10751.5" y="-471.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10751.5" y="-456.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10751.5" y="-440.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10751.5" y="-425.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10751.5" y="-409.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Collecting a code block</text>
<text text-anchor="middle" x="10751.5" y="-394.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local isCodeFoot, level, l_trim = Codeblock.matchFoot(l)</text>
<text text-anchor="middle" x="10751.5" y="-379.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if (isCodeFoot and level == latest[1].level) then</text>
<text text-anchor="middle" x="10751.5" y="-363.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_block = false</text>
<text text-anchor="middle" x="10751.5" y="-348.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].footer = l_trim</text>
<text text-anchor="middle" x="10751.5" y="-332.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].line_last = inset</text>
<text text-anchor="middle" x="10751.5" y="-317.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="10751.5" y="-302.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].lines[#latest[1].lines + 1] = l</text>
<text text-anchor="middle" x="10751.5" y="-286.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10751.5" y="-271.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Continue in normal parse mode</text>
<text text-anchor="middle" x="10751.5" y="-255.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; This may add more lines to the code block</text>
<text text-anchor="middle" x="10751.5" y="-240.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10751.5" y="-225.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10751.5" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Auto&#45;close a code block with no footer.</text>
<text text-anchor="middle" x="10751.5" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if latest[1] and latest[1].id == &quot;codeblock&quot; and not latest[1].line_last then</text>
<text text-anchor="middle" x="10751.5" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].line_last = #section.lines</text>
<text text-anchor="middle" x="10751.5" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10751.5" y="-132.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Close last block</text>
<text text-anchor="middle" x="10751.5" y="-116.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;latest.line_last = section.line_last</text>
<text text-anchor="middle" x="10751.5" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Append sections, if any, which follow our blocks</text>
<text text-anchor="middle" x="10751.5" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, v in ipairs(sub_sections) do</text>
<text text-anchor="middle" x="10751.5" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = v</text>
<text text-anchor="middle" x="10751.5" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="10751.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="10751.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_130&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>codeblock_130&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10751.5,-1803.3331C10751.5,-1778.7735 10751.5,-1730.6954 10751.5,-1668.5073"/>
<polygon fill="#000000" stroke="#000000" points="10755.0001,-1668.4068 10751.5,-1658.4068 10748.0001,-1668.4068 10755.0001,-1668.4068"/>
</g>
<!-- leaf_138 -->
<g id="node139" class="node">
<title>leaf_138</title>
<polygon fill="none" stroke="#c0c0c0" points="9979,-2392.5064 9830,-2392.5064 9830,-2352.7023 9979,-2352.7023 9979,-2392.5064"/>
<text text-anchor="middle" x="9904.5" y="-2361.1044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Blocks a Section.</text>
</g>
<!-- block_134&#45;&gt;leaf_138 -->
<g id="edge138" class="edge">
<title>block_134&#45;&gt;leaf_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10013.304,-2477.2961C9992.1706,-2456.9614 9957.0679,-2423.1855 9932.4635,-2399.511"/>
<polygon fill="#000000" stroke="#000000" points="9934.8245,-2396.9257 9925.1918,-2392.5141 9929.971,-2401.9698 9934.8245,-2396.9257"/>
</g>
<!-- leaf_139 -->
<g id="node140" class="node">
<title>leaf_139</title>
<polygon fill="none" stroke="#c0c0c0" points="10363.5,-2391.9049 9997.5,-2391.9049 9997.5,-2353.3038 10363.5,-2353.3038 10363.5,-2391.9049"/>
<text text-anchor="middle" x="10180.5" y="-2376.8044" font-family="Inconsolata" font-size="14.00" fill="#000000">This is a moderately complex state machine, which</text>
<text text-anchor="middle" x="10180.5" y="-2361.4043" font-family="Inconsolata" font-size="14.00" fill="#000000">works on a line&#45;by&#45;line basis with some lookahead.</text>
</g>
<!-- block_135&#45;&gt;leaf_139 -->
<g id="edge139" class="edge">
<title>block_135&#45;&gt;leaf_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10180.5,-2476.7734C10180.5,-2457.0834 10180.5,-2425.252 10180.5,-2401.9518"/>
<polygon fill="#000000" stroke="#000000" points="10184.0001,-2401.9209 10180.5,-2391.9209 10177.0001,-2401.921 10184.0001,-2401.9209"/>
</g>
<!-- leaf_140 -->
<g id="node141" class="node">
<title>leaf_140</title>
<polygon fill="none" stroke="#c0c0c0" points="10845.5,-2423.1045 10381.5,-2423.1045 10381.5,-2322.1042 10845.5,-2322.1042 10845.5,-2423.1045"/>
<text text-anchor="middle" x="10613.5" y="-2407.9044" font-family="Inconsolata" font-size="14.00" fill="#000000">First off, we have a Header at [1], and may have one or </text>
<text text-anchor="middle" x="10613.5" y="-2392.5044" font-family="Inconsolata" font-size="14.00" fill="#000000">more Sections The blocks go between the Header and the remaining</text>
<text text-anchor="middle" x="10613.5" y="-2377.1044" font-family="Inconsolata" font-size="14.00" fill="#000000">Sections, so we have to lift them and append after blocking.</text>
<text text-anchor="middle" x="10613.5" y="-2361.7043" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="10613.5" y="-2346.3043" font-family="Inconsolata" font-size="14.00" fill="#000000">Next, we parse the lines, thus:</text>
</g>
<!-- block_136&#45;&gt;leaf_140 -->
<g id="edge140" class="edge">
<title>block_136&#45;&gt;leaf_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10491.544,-2477.5553C10506.1187,-2465.0128 10526.7484,-2447.2597 10546.903,-2429.9153"/>
<polygon fill="#000000" stroke="#000000" points="10549.2939,-2432.4754 10554.5906,-2423.2996 10544.7279,-2427.1696 10549.2939,-2432.4754"/>
</g>
<!-- header_141 -->
<g id="node142" class="node">
<title>header_141</title>
<ellipse fill="none" stroke="#000000" cx="10925.5" cy="-2372.6043" rx="61.9429" ry="18"/>
<text text-anchor="middle" x="10925.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Prose line</text>
</g>
<!-- section_137&#45;&gt;header_141 -->
<g id="edge141" class="edge">
<title>section_137&#45;&gt;header_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10925.5,-2476.7734C10925.5,-2456.7379 10925.5,-2424.1314 10925.5,-2400.7335"/>
<polygon fill="#000000" stroke="#000000" points="10929.0001,-2400.7093 10925.5,-2390.7094 10922.0001,-2400.7094 10929.0001,-2400.7093"/>
</g>
<!-- block_142 -->
<g id="node143" class="node">
<title>block_142</title>
<ellipse fill="none" stroke="#000000" cx="11070.5" cy="-2372.6043" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="11070.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 218&#45;223</text>
</g>
<!-- section_137&#45;&gt;block_142 -->
<g id="edge142" class="edge">
<title>section_137&#45;&gt;block_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10946.275,-2477.2961C10971.363,-2456.153 11013.6934,-2420.4786 11041.865,-2396.7367"/>
<polygon fill="#000000" stroke="#000000" points="11044.3724,-2399.2008 11049.7636,-2390.0802 11039.8614,-2393.8481 11044.3724,-2399.2008"/>
</g>
<!-- leaf_143 -->
<g id="node144" class="node">
<title>leaf_143</title>
<polygon fill="none" stroke="#c0c0c0" points="11264,-2170.5043 10877,-2170.5043 10877,-2099.9037 11264,-2099.9037 11264,-2170.5043"/>
<text text-anchor="middle" x="11070.5" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000">If preceded by at least one blank line,</text>
<text text-anchor="middle" x="11070.5" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000">make a new block, otherwise append to existing block.</text>
</g>
<!-- block_142&#45;&gt;leaf_143 -->
<g id="edge143" class="edge">
<title>block_142&#45;&gt;leaf_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11070.5,-2354.3701C11070.5,-2317.6244 11070.5,-2233.6959 11070.5,-2181.0168"/>
<polygon fill="#000000" stroke="#000000" points="11074.0001,-2180.9208 11070.5,-2170.9209 11067.0001,-2180.9209 11074.0001,-2180.9208"/>
</g>
<!-- leaf_149 -->
<g id="node150" class="node">
<title>leaf_149</title>
<polygon fill="none" stroke="#c0c0c0" points="11590.5,-2392.5064 11154.5,-2392.5064 11154.5,-2352.7023 11590.5,-2352.7023 11590.5,-2392.5064"/>
<text text-anchor="middle" x="11372.5" y="-2361.1044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Creates a new section, given a header and the line number.</text>
</g>
<!-- block_145&#45;&gt;leaf_149 -->
<g id="edge149" class="edge">
<title>block_145&#45;&gt;leaf_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11674.1127,-2478.9906C11660.8163,-2472.5538 11645.0585,-2465.266 11630.5,-2459.4044 11570.0618,-2435.0704 11499.8948,-2411.7721 11448.0057,-2395.4513"/>
<polygon fill="#000000" stroke="#000000" points="11448.7974,-2392.0317 11438.2084,-2392.3843 11446.7061,-2398.712 11448.7974,-2392.0317"/>
</g>
<!-- leaf_150 -->
<g id="node151" class="node">
<title>leaf_150</title>
<polygon fill="none" stroke="#c0c0c0" points="12100.5,-2407.2056 11608.5,-2407.2056 11608.5,-2338.0031 12100.5,-2338.0031 12100.5,-2407.2056"/>
<text text-anchor="middle" x="11854.5" y="-2392.2044" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; header : &#160;Header for the section, which may be of type Header or </text>
<text text-anchor="middle" x="11854.5" y="-2376.8044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;a number. &#160;A number means the header is virtual.</text>
<text text-anchor="middle" x="11854.5" y="-2361.4043" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; linum &#160;: &#160;The line number of the header, which is the first of the</text>
<text text-anchor="middle" x="11854.5" y="-2346.0043" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Section.</text>
</g>
<!-- block_146&#45;&gt;leaf_150 -->
<g id="edge150" class="edge">
<title>block_146&#45;&gt;leaf_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11854.5,-2476.7734C11854.5,-2461.2115 11854.5,-2438.0657 11854.5,-2417.5415"/>
<polygon fill="#000000" stroke="#000000" points="11858.0001,-2417.4125 11854.5,-2407.4125 11851.0001,-2417.4125 11858.0001,-2417.4125"/>
</g>
<!-- leaf_151 -->
<g id="node152" class="node">
<title>leaf_151</title>
<polygon fill="none" stroke="#c0c0c0" points="12330.5,-2390.6043 12118.5,-2390.6043 12118.5,-2354.6043 12330.5,-2354.6043 12330.5,-2390.6043"/>
<text text-anchor="middle" x="12224.5" y="-2369.1044" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; return : &#160;The new Section.</text>
</g>
<!-- block_147&#45;&gt;leaf_151 -->
<g id="edge151" class="edge">
<title>block_147&#45;&gt;leaf_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12130.2603,-2477.2961C12148.834,-2456.6624 12179.8656,-2422.1892 12201.2138,-2398.4732"/>
<polygon fill="#000000" stroke="#000000" points="12203.9614,-2400.6523 12208.0505,-2390.8783 12198.7588,-2395.969 12203.9614,-2400.6523"/>
</g>
<!-- codeblock_152 -->
<g id="node153" class="node">
<title>codeblock_152</title>
<ellipse fill="none" stroke="#000000" cx="12435.5" cy="-2372.6043" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12435.5" y="-2368.4043" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 373&#45;393</text>
</g>
<!-- block_148&#45;&gt;codeblock_152 -->
<g id="edge152" class="edge">
<title>block_148&#45;&gt;codeblock_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12435.5,-2476.7734C12435.5,-2456.7379 12435.5,-2424.1314 12435.5,-2400.7335"/>
<polygon fill="#000000" stroke="#000000" points="12439.0001,-2400.7093 12435.5,-2390.7094 12432.0001,-2400.7094 12439.0001,-2400.7093"/>
</g>
<!-- leaf_154 -->
<g id="node155" class="node">
<title>leaf_154</title>
<polygon fill="none" stroke="#c0c0c0" points="12594.5,-2390.6043 12540.5,-2390.6043 12540.5,-2354.6043 12594.5,-2354.6043 12594.5,-2390.6043"/>
</g>
<!-- block_148&#45;&gt;leaf_154 -->
<g id="edge154" class="edge">
<title>block_148&#45;&gt;leaf_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12462.121,-2478.3234C12482.4469,-2464.9898 12510.4494,-2444.9442 12531.5,-2423.4044 12538.4909,-2416.251 12545.1313,-2407.632 12550.7613,-2399.5414"/>
<polygon fill="#000000" stroke="#000000" points="12553.7829,-2401.3195 12556.4426,-2391.064 12547.968,-2397.4225 12553.7829,-2401.3195"/>
</g>
<!-- leaf_153 -->
<g id="node154" class="node">
<title>leaf_153</title>
<polygon fill="none" stroke="#c0c0c0" points="12590.5,-2285.9046 12280.5,-2285.9046 12280.5,-1984.5034 12590.5,-1984.5034 12590.5,-2285.9046"/>
<text text-anchor="middle" x="12435.5" y="-2270.6043" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(section, header, linum)</text>
<text text-anchor="middle" x="12435.5" y="-2255.2042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local section = setmetatable({}, S)</text>
<text text-anchor="middle" x="12435.5" y="-2239.8042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if type(header) == &quot;number&quot; then</text>
<text text-anchor="middle" x="12435.5" y="-2224.4042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; We have a virtual header</text>
<text text-anchor="middle" x="12435.5" y="-2209.0042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[1] = Header(&quot;&quot;, header)</text>
<text text-anchor="middle" x="12435.5" y="-2193.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.header = nil</text>
<text text-anchor="middle" x="12435.5" y="-2178.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.level = header</text>
<text text-anchor="middle" x="12435.5" y="-2162.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="12435.5" y="-2147.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[1] = header</text>
<text text-anchor="middle" x="12435.5" y="-2132.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.header = header</text>
<text text-anchor="middle" x="12435.5" y="-2116.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.level = header.level</text>
<text text-anchor="middle" x="12435.5" y="-2101.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="12435.5" y="-2085.8039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.line_first = linum</text>
<text text-anchor="middle" x="12435.5" y="-2070.4039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.lines = {}</text>
<text text-anchor="middle" x="12435.5" y="-2055.0038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.id = &quot;section&quot;</text>
<text text-anchor="middle" x="12435.5" y="-2039.6038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="12435.5" y="-2024.2038" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="12435.5" y="-1992.8037" font-family="Inconsolata" font-size="14.00" fill="#000000">return u.export(s, new)</text>
</g>
<!-- codeblock_152&#45;&gt;leaf_153 -->
<g id="edge153" class="edge">
<title>codeblock_152&#45;&gt;leaf_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12435.5,-2354.3701C12435.5,-2340.3572 12435.5,-2319.4827 12435.5,-2296.0962"/>
<polygon fill="#000000" stroke="#000000" points="12439.0001,-2295.9323 12435.5,-2285.9323 12432.0001,-2295.9324 12439.0001,-2295.9323"/>
</g>
</g>
</svg>