<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="14325pt" height="2709pt"
 viewBox="0.00 0.00 14325.19 2709.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2705.0045)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2705.0045 14321.187,-2705.0045 14321.187,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="2119.187" cy="-2683.0045" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="2119.187" y="-2678.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 423</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="2119.187" cy="-2611.0045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2119.187" y="-2606.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;384</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2119.187,-2664.8359C2119.187,-2657.1355 2119.187,-2647.9789 2119.187,-2639.4212"/>
<polygon fill="#000000" stroke="#000000" points="2122.6871,-2639.4178 2119.187,-2629.4178 2115.6871,-2639.4178 2122.6871,-2639.4178"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="93.187" cy="-2539.0045" rx="93.3745" ry="18"/>
<text text-anchor="middle" x="93.187" y="-2534.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Section metatable</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2053.7882,-2608.6804C1759.2782,-2598.2141 554.9089,-2555.4132 195.1375,-2542.6276"/>
<polygon fill="#000000" stroke="#000000" points="195.1158,-2539.1248 184.9977,-2542.2673 194.8671,-2546.1203 195.1158,-2539.1248"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="890.187" cy="-2539.0045" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="890.187" y="-2534.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;6</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2054.8411,-2607.2349C1839.6619,-2594.6288 1147.3864,-2554.0724 945.7699,-2542.2608"/>
<polygon fill="#000000" stroke="#000000" points="945.8911,-2538.762 935.7035,-2541.6711 945.4816,-2545.75 945.8911,-2538.762"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="1320.187" cy="-2539.0045" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="1320.187" y="-2534.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 7&#45;9</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2056.4908,-2605.3548C1904.675,-2591.6743 1519.2554,-2556.9431 1375.4275,-2543.9824"/>
<polygon fill="#000000" stroke="#000000" points="1375.3647,-2540.4626 1365.0909,-2543.0509 1374.7364,-2547.4344 1375.3647,-2540.4626"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="1600.187" cy="-2539.0045" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1600.187" y="-2534.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 10&#45;12</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2060.4084,-2602.8503C1961.3683,-2589.1106 1762.2077,-2561.4814 1661.4928,-2547.5094"/>
<polygon fill="#000000" stroke="#000000" points="1661.8587,-2544.0267 1651.4725,-2546.1193 1660.8967,-2550.9603 1661.8587,-2544.0267"/>
</g>
<!-- block_6 -->
<g id="node7" class="node">
<title>block_6</title>
<ellipse fill="none" stroke="#000000" cx="1815.187" cy="-2539.0045" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="1815.187" y="-2534.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 13&#45;384</text>
</g>
<!-- section_1&#45;&gt;block_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;block_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2069.328,-2599.1958C2015.4594,-2586.4375 1929.7352,-2566.1344 1872.9658,-2552.689"/>
<polygon fill="#000000" stroke="#000000" points="1873.6041,-2549.2434 1863.0666,-2550.3444 1871.9907,-2556.0549 1873.6041,-2549.2434"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="1999.187" cy="-2539.0045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1999.187" y="-2534.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 16&#45;21</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2091.6566,-2594.4863C2075.04,-2584.5163 2053.6687,-2571.6935 2035.6583,-2560.8873"/>
<polygon fill="#000000" stroke="#000000" points="2036.9651,-2557.5897 2026.5894,-2555.4459 2033.3636,-2563.5922 2036.9651,-2557.5897"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="2194.187" cy="-2539.0045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2194.187" y="-2534.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 22&#45;29</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2137.3424,-2593.5753C2146.67,-2584.6209 2158.1964,-2573.5555 2168.4265,-2563.7347"/>
<polygon fill="#000000" stroke="#000000" points="2171.1488,-2565.973 2175.9389,-2556.5228 2166.3011,-2560.9232 2171.1488,-2565.973"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="2869.187" cy="-2539.0045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2869.187" y="-2534.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 47&#45;80</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2181.2008,-2605.0512C2318.9792,-2591.8245 2649.9486,-2560.0514 2796.8474,-2545.9491"/>
<polygon fill="#000000" stroke="#000000" points="2797.4811,-2549.4045 2807.1009,-2544.9648 2796.8121,-2542.4365 2797.4811,-2549.4045"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="5385.187" cy="-2539.0045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5385.187" y="-2534.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 129&#45;172</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2184.7952,-2609.5582C2597.53,-2600.4593 4832.7254,-2551.1837 5299.6568,-2540.8901"/>
<polygon fill="#000000" stroke="#000000" points="5299.7816,-2544.3883 5309.702,-2540.6686 5299.6273,-2537.39 5299.7816,-2544.3883"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="10483.187" cy="-2539.0045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10483.187" y="-2534.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 210&#45;223</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2184.9909,-2610.4381C2919.1443,-2604.1182 9564.9454,-2546.909 10397.6291,-2539.741"/>
<polygon fill="#000000" stroke="#000000" points="10397.767,-2543.2401 10407.7364,-2539.654 10397.7066,-2536.2403 10397.767,-2543.2401"/>
</g>
<!-- section_12 -->
<g id="node13" class="node">
<title>section_12</title>
<ellipse fill="none" stroke="#000000" cx="11782.187" cy="-2539.0045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11782.187" y="-2534.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 367&#45;384</text>
</g>
<!-- section_1&#45;&gt;section_12 -->
<g id="edge12" class="edge">
<title>section_1&#45;&gt;section_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2185.0007,-2610.7961C2765.5251,-2608.9136 7072.9787,-2594.0545 10567.187,-2557.0045 10991.2049,-2552.5086 11498.4149,-2543.9758 11696.7683,-2540.5172"/>
<polygon fill="#000000" stroke="#000000" points="11696.8951,-2544.0156 11706.8324,-2540.3415 11696.7728,-2537.0167 11696.8951,-2544.0156"/>
</g>
<!-- section_13 -->
<g id="node14" class="node">
<title>section_13</title>
<ellipse fill="none" stroke="#000000" cx="13089.187" cy="-2539.0045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="13089.187" y="-2534.8045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 385&#45;423</text>
</g>
<!-- section_1&#45;&gt;section_13 -->
<g id="edge13" class="edge">
<title>section_1&#45;&gt;section_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2184.9341,-2610.872C2812.7342,-2609.5593 7813.5437,-2598.053 11866.187,-2557.0045 12293.2592,-2552.6788 12804.1713,-2544.0395 13003.5718,-2540.5347"/>
<polygon fill="#000000" stroke="#000000" points="13003.7514,-2544.0322 13013.6882,-2540.3566 13003.6281,-2537.0333 13003.7514,-2544.0322"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="80.187,-2467.6045 26.187,-2467.6045 26.187,-2431.6045 80.187,-2431.6045 80.187,-2467.6045"/>
</g>
<!-- header_2&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>header_2&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M85.0924,-2520.9131C79.4538,-2508.3108 71.8302,-2491.272 65.4491,-2477.0103"/>
<polygon fill="#000000" stroke="#000000" points="68.5486,-2475.3676 61.2696,-2467.669 62.159,-2478.2265 68.5486,-2475.3676"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="555.687,-2484.9048 98.687,-2484.9048 98.687,-2414.3042 555.687,-2414.3042 555.687,-2484.9048"/>
<text text-anchor="middle" x="327.187" y="-2437.8045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Sections consist of a header and body. &#160;The body may contain</text>
<text text-anchor="middle" x="327.187" y="-2422.4045" font-family="Inconsolata" font-size="14.00" fill="#000000"> one or more blocks, followed by zero or more child sections.</text>
</g>
<!-- block_3&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>block_3&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M847.4084,-2532.2116C785.8823,-2522.4417 667.8978,-2503.7067 559.8253,-2486.5456"/>
<polygon fill="#000000" stroke="#000000" points="560.1599,-2483.055 549.7347,-2484.9433 559.062,-2489.9684 560.1599,-2483.055"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1016.687,-2468.9051 573.687,-2468.9051 573.687,-2430.3039 1016.687,-2430.3039 1016.687,-2468.9051"/>
<text text-anchor="middle" x="795.187" y="-2453.8045" font-family="Inconsolata" font-size="14.00" fill="#000000"> The header and block may both be virtual, but will always be</text>
<text text-anchor="middle" x="795.187" y="-2438.4045" font-family="Inconsolata" font-size="14.00" fill="#000000"> present.</text>
</g>
<!-- block_4&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>block_4&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1277.6688,-2531.7643C1200.4019,-2518.6068 1034.2717,-2490.3172 918.6814,-2470.6338"/>
<polygon fill="#000000" stroke="#000000" points="919.1524,-2467.1637 908.7067,-2468.9353 917.9773,-2474.0644 919.1524,-2467.1637"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="1429.187,-2468.9051 1035.187,-2468.9051 1035.187,-2430.3039 1429.187,-2430.3039 1429.187,-2468.9051"/>
<text text-anchor="middle" x="1232.187" y="-2453.8045" font-family="Inconsolata" font-size="14.00" fill="#000000"> In the first pass, we fill a lines array with the raw</text>
<text text-anchor="middle" x="1232.187" y="-2438.4045" font-family="Inconsolata" font-size="14.00" fill="#000000"> contents of the section. </text>
</g>
<!-- block_5&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>block_5&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1555.4309,-2528.1317C1497.5942,-2514.0812 1395.5545,-2489.2922 1321.5625,-2471.3169"/>
<polygon fill="#000000" stroke="#000000" points="1322.3161,-2467.8982 1311.7724,-2468.9386 1320.6635,-2474.7004 1322.3161,-2467.8982"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1820.687,-2469.5066 1447.687,-2469.5066 1447.687,-2429.7024 1820.687,-2429.7024 1820.687,-2469.5066"/>
<text text-anchor="middle" x="1634.187" y="-2454.1045" font-family="Inconsolata" font-size="14.00" fill="#000000"> This is subsequently refined into various blocks. </text>
</g>
<!-- block_6&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>block_6&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1783.6592,-2523.4322C1756.0038,-2509.7726 1715.335,-2489.6853 1683.398,-2473.9109"/>
<polygon fill="#000000" stroke="#000000" points="1684.7324,-2470.6664 1674.2165,-2469.3759 1681.6324,-2476.9426 1684.7324,-2470.6664"/>
</g>
<!-- header_19 -->
<g id="node20" class="node">
<title>header_19</title>
<ellipse fill="none" stroke="#000000" cx="1882.187" cy="-2449.6045" rx="43.082" ry="18"/>
<text text-anchor="middle" x="1882.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Array</text>
</g>
<!-- section_7&#45;&gt;header_19 -->
<g id="edge19" class="edge">
<title>section_7&#45;&gt;header_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1976.9048,-2521.9786C1958.2575,-2507.7301 1931.5158,-2487.2967 1911.1992,-2471.7728"/>
<polygon fill="#000000" stroke="#000000" points="1913.2766,-2468.9553 1903.2056,-2465.6648 1909.0265,-2474.5174 1913.2766,-2468.9553"/>
</g>
<!-- block_20 -->
<g id="node21" class="node">
<title>block_20</title>
<ellipse fill="none" stroke="#000000" cx="1999.187" cy="-2449.6045" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1999.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 16&#45;21</text>
</g>
<!-- section_7&#45;&gt;block_20 -->
<g id="edge20" class="edge">
<title>section_7&#45;&gt;block_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1999.187,-2520.9131C1999.187,-2508.5532 1999.187,-2491.9257 1999.187,-2477.8361"/>
<polygon fill="#000000" stroke="#000000" points="2002.6871,-2477.669 1999.187,-2467.669 1995.6871,-2477.6691 2002.6871,-2477.669"/>
</g>
<!-- header_23 -->
<g id="node24" class="node">
<title>header_23</title>
<ellipse fill="none" stroke="#000000" cx="2119.187" cy="-2449.6045" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="2119.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Fields</text>
</g>
<!-- section_8&#45;&gt;header_23 -->
<g id="edge23" class="edge">
<title>section_8&#45;&gt;header_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2179.3695,-2521.342C2168.2033,-2508.0319 2152.7394,-2489.5989 2140.283,-2474.7509"/>
<polygon fill="#000000" stroke="#000000" points="2142.8272,-2472.3378 2133.7186,-2466.9262 2137.4644,-2476.8368 2142.8272,-2472.3378"/>
</g>
<!-- block_24 -->
<g id="node25" class="node">
<title>block_24</title>
<ellipse fill="none" stroke="#000000" cx="2239.187" cy="-2449.6045" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2239.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 22&#45;29</text>
</g>
<!-- section_8&#45;&gt;block_24 -->
<g id="edge24" class="edge">
<title>section_8&#45;&gt;block_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2203.2935,-2520.9131C2209.6369,-2508.3108 2218.2134,-2491.272 2225.3922,-2477.0103"/>
<polygon fill="#000000" stroke="#000000" points="2228.7243,-2478.1749 2230.0942,-2467.669 2222.4717,-2475.0276 2228.7243,-2478.1749"/>
</g>
<!-- section_25 -->
<g id="node26" class="node">
<title>section_25</title>
<ellipse fill="none" stroke="#000000" cx="2378.187" cy="-2449.6045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2378.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 30&#45;46</text>
</g>
<!-- section_8&#45;&gt;section_25 -->
<g id="edge25" class="edge">
<title>section_8&#45;&gt;section_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2226.659,-2523.2274C2257.3076,-2508.3362 2303.4025,-2485.94 2336.7015,-2469.7611"/>
<polygon fill="#000000" stroke="#000000" points="2338.2658,-2472.8923 2345.7308,-2465.374 2335.2066,-2466.5962 2338.2658,-2472.8923"/>
</g>
<!-- header_34 -->
<g id="node35" class="node">
<title>header_34</title>
<ellipse fill="none" stroke="#000000" cx="2611.187" cy="-2449.6045" rx="108.8185" ry="18"/>
<text text-anchor="middle" x="2611.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Metatable for sections</text>
</g>
<!-- section_9&#45;&gt;header_34 -->
<g id="edge34" class="edge">
<title>section_9&#45;&gt;header_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2828.3062,-2524.8388C2785.104,-2509.8687 2716.6437,-2486.1465 2668.1604,-2469.3464"/>
<polygon fill="#000000" stroke="#000000" points="2669.0338,-2465.945 2658.439,-2465.9779 2666.7419,-2472.5591 2669.0338,-2465.945"/>
</g>
<!-- block_35 -->
<g id="node36" class="node">
<title>block_35</title>
<ellipse fill="none" stroke="#000000" cx="2794.187" cy="-2449.6045" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2794.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 47&#45;48</text>
</g>
<!-- section_9&#45;&gt;block_35 -->
<g id="edge35" class="edge">
<title>section_9&#45;&gt;block_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2854.3695,-2521.342C2843.2754,-2508.1178 2827.9388,-2489.8366 2815.5245,-2475.0388"/>
<polygon fill="#000000" stroke="#000000" points="2818.0824,-2472.642 2808.9738,-2467.2304 2812.7196,-2477.141 2818.0824,-2472.642"/>
</g>
<!-- codeblock_36 -->
<g id="node37" class="node">
<title>codeblock_36</title>
<ellipse fill="none" stroke="#000000" cx="2945.187" cy="-2449.6045" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2945.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 49&#45;64</text>
</g>
<!-- section_9&#45;&gt;codeblock_36 -->
<g id="edge36" class="edge">
<title>section_9&#45;&gt;codeblock_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2884.2022,-2521.342C2895.3712,-2508.2037 2910.7836,-2490.0738 2923.3196,-2475.3275"/>
<polygon fill="#000000" stroke="#000000" points="2926.1326,-2477.4223 2929.9429,-2467.5364 2920.7993,-2472.8884 2926.1326,-2477.4223"/>
</g>
<!-- section_37 -->
<g id="node38" class="node">
<title>section_37</title>
<ellipse fill="none" stroke="#000000" cx="3352.187" cy="-2449.6045" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3352.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 67&#45;80</text>
</g>
<!-- section_9&#45;&gt;section_37 -->
<g id="edge37" class="edge">
<title>section_9&#45;&gt;section_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2923.6544,-2528.923C3013.3668,-2512.3178 3191.8042,-2479.2903 3287.6868,-2461.543"/>
<polygon fill="#000000" stroke="#000000" points="3288.3528,-2464.9793 3297.5487,-2459.7177 3287.0787,-2458.0962 3288.3528,-2464.9793"/>
</g>
<!-- section_38 -->
<g id="node39" class="node">
<title>section_38</title>
<ellipse fill="none" stroke="#000000" cx="4141.187" cy="-2449.6045" rx="70.655" ry="18"/>
<text text-anchor="middle" x="4141.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 81&#45;103</text>
</g>
<!-- section_9&#45;&gt;section_38 -->
<g id="edge38" class="edge">
<title>section_9&#45;&gt;section_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2933.1374,-2534.5099C3145.9729,-2519.5512 3830.0714,-2471.4707 4062.8122,-2455.1129"/>
<polygon fill="#000000" stroke="#000000" points="4063.1598,-2458.5972 4072.8898,-2454.4046 4062.669,-2451.6144 4063.1598,-2458.5972"/>
</g>
<!-- header_67 -->
<g id="node68" class="node">
<title>header_67</title>
<ellipse fill="none" stroke="#000000" cx="4741.187" cy="-2449.6045" rx="108.8358" ry="18"/>
<text text-anchor="middle" x="4741.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : addLine(section, line) </text>
</g>
<!-- section_10&#45;&gt;header_67 -->
<g id="edge67" class="edge">
<title>section_10&#45;&gt;header_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5319.8928,-2529.9404C5205.2045,-2514.0194 4967.2231,-2480.9828 4834.9601,-2462.6221"/>
<polygon fill="#000000" stroke="#000000" points="4835.2285,-2459.1258 4824.8422,-2461.2175 4834.2659,-2466.0594 4835.2285,-2459.1258"/>
</g>
<!-- block_68 -->
<g id="node69" class="node">
<title>block_68</title>
<ellipse fill="none" stroke="#000000" cx="5074.187" cy="-2449.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5074.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 129&#45;132</text>
</g>
<!-- section_10&#45;&gt;block_68 -->
<g id="edge68" class="edge">
<title>section_10&#45;&gt;block_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5336.9345,-2525.1339C5280.808,-2508.9997 5188.3364,-2482.4179 5129.395,-2465.4746"/>
<polygon fill="#000000" stroke="#000000" points="5130.0935,-2462.0337 5119.5157,-2462.6347 5128.1595,-2468.7612 5130.0935,-2462.0337"/>
</g>
<!-- block_69 -->
<g id="node70" class="node">
<title>block_69</title>
<ellipse fill="none" stroke="#000000" cx="5293.187" cy="-2449.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5293.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 133&#45;139</text>
</g>
<!-- section_10&#45;&gt;block_69 -->
<g id="edge69" class="edge">
<title>section_10&#45;&gt;block_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5367.0108,-2521.342C5353.1501,-2507.8729 5333.8906,-2489.1578 5318.5187,-2474.2203"/>
<polygon fill="#000000" stroke="#000000" points="5320.9364,-2471.6893 5311.3255,-2467.2304 5316.0581,-2476.7095 5320.9364,-2471.6893"/>
</g>
<!-- block_70 -->
<g id="node71" class="node">
<title>block_70</title>
<ellipse fill="none" stroke="#000000" cx="5477.187" cy="-2449.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5477.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 140&#45;141</text>
</g>
<!-- section_10&#45;&gt;block_70 -->
<g id="edge70" class="edge">
<title>section_10&#45;&gt;block_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5403.3633,-2521.342C5417.224,-2507.8729 5436.4835,-2489.1578 5451.8553,-2474.2203"/>
<polygon fill="#000000" stroke="#000000" points="5454.316,-2476.7095 5459.0486,-2467.2304 5449.4377,-2471.6893 5454.316,-2476.7095"/>
</g>
<!-- codeblock_71 -->
<g id="node72" class="node">
<title>codeblock_71</title>
<ellipse fill="none" stroke="#000000" cx="5704.187" cy="-2449.6045" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5704.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 142&#45;147</text>
</g>
<!-- section_10&#45;&gt;codeblock_71 -->
<g id="edge71" class="edge">
<title>section_10&#45;&gt;codeblock_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5434.3317,-2525.2317C5490.2887,-2509.5497 5581.7891,-2483.9066 5642.497,-2466.8932"/>
<polygon fill="#000000" stroke="#000000" points="5643.6536,-2470.204 5652.3382,-2464.1352 5641.7646,-2463.4636 5643.6536,-2470.204"/>
</g>
<!-- section_72 -->
<g id="node73" class="node">
<title>section_72</title>
<ellipse fill="none" stroke="#000000" cx="6450.187" cy="-2449.6045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6450.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 150&#45;172</text>
</g>
<!-- section_10&#45;&gt;section_72 -->
<g id="edge72" class="edge">
<title>section_10&#45;&gt;section_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5456.7184,-2532.9999C5647.4165,-2516.992 6167.1456,-2473.364 6368.7434,-2456.4412"/>
<polygon fill="#000000" stroke="#000000" points="6369.2949,-2459.9073 6378.967,-2455.583 6368.7093,-2452.9318 6369.2949,-2459.9073"/>
</g>
<!-- section_73 -->
<g id="node74" class="node">
<title>section_73</title>
<ellipse fill="none" stroke="#000000" cx="8485.187" cy="-2449.6045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8485.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 173&#45;247</text>
</g>
<!-- section_10&#45;&gt;section_73 -->
<g id="edge73" class="edge">
<title>section_10&#45;&gt;section_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5460.2807,-2536.8389C5881.9522,-2524.6785 7952.2195,-2464.9746 8399.7757,-2452.0676"/>
<polygon fill="#000000" stroke="#000000" points="8400.1496,-2455.5584 8410.0445,-2451.7715 8399.9478,-2448.5613 8400.1496,-2455.5584"/>
</g>
<!-- header_129 -->
<g id="node130" class="node">
<title>header_129</title>
<ellipse fill="none" stroke="#000000" cx="10242.187" cy="-2449.6045" rx="55.6456" ry="18"/>
<text text-anchor="middle" x="10242.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Blocking</text>
</g>
<!-- section_11&#45;&gt;header_129 -->
<g id="edge129" class="edge">
<title>section_11&#45;&gt;header_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10435.993,-2524.8278C10403.1924,-2514.6211 10358.6367,-2500.0496 10320.187,-2485.0045 10307.8391,-2480.1728 10294.6304,-2474.4125 10282.6585,-2468.9565"/>
<polygon fill="#000000" stroke="#000000" points="10283.9091,-2465.679 10273.3625,-2464.6697 10280.9777,-2472.0357 10283.9091,-2465.679"/>
</g>
<!-- block_130 -->
<g id="node131" class="node">
<title>block_130</title>
<ellipse fill="none" stroke="#000000" cx="10395.187" cy="-2449.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10395.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 210&#45;213</text>
</g>
<!-- section_11&#45;&gt;block_130 -->
<g id="edge130" class="edge">
<title>section_11&#45;&gt;block_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10465.8011,-2521.342C10452.6635,-2507.9954 10434.4554,-2489.4976 10419.8193,-2474.6286"/>
<polygon fill="#000000" stroke="#000000" points="10422.0463,-2471.9018 10412.5369,-2467.2304 10417.0576,-2476.8123 10422.0463,-2471.9018"/>
</g>
<!-- block_131 -->
<g id="node132" class="node">
<title>block_131</title>
<ellipse fill="none" stroke="#000000" cx="10571.187" cy="-2449.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10571.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 214&#45;216</text>
</g>
<!-- section_11&#45;&gt;block_131 -->
<g id="edge131" class="edge">
<title>section_11&#45;&gt;block_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10500.573,-2521.342C10513.7106,-2507.9954 10531.9187,-2489.4976 10546.5548,-2474.6286"/>
<polygon fill="#000000" stroke="#000000" points="10549.3165,-2476.8123 10553.8372,-2467.2304 10544.3278,-2471.9018 10549.3165,-2476.8123"/>
</g>
<!-- block_132 -->
<g id="node133" class="node">
<title>block_132</title>
<ellipse fill="none" stroke="#000000" cx="10889.187" cy="-2449.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10889.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 217&#45;223</text>
</g>
<!-- section_11&#45;&gt;block_132 -->
<g id="edge132" class="edge">
<title>section_11&#45;&gt;block_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10538.7883,-2526.7613C10614.3391,-2510.1252 10748.9878,-2480.476 10827.5471,-2463.1774"/>
<polygon fill="#000000" stroke="#000000" points="10828.7656,-2466.4931 10837.7789,-2460.9244 10827.2602,-2459.6568 10828.7656,-2466.4931"/>
</g>
<!-- section_133 -->
<g id="node134" class="node">
<title>section_133</title>
<ellipse fill="none" stroke="#000000" cx="11370.187" cy="-2449.6045" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11370.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 224&#45;229</text>
</g>
<!-- section_11&#45;&gt;section_133 -->
<g id="edge133" class="edge">
<title>section_11&#45;&gt;section_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10552.7884,-2531.9895C10715.2612,-2515.614 11118.7407,-2474.9476 11290.6113,-2457.6249"/>
<polygon fill="#000000" stroke="#000000" points="11291.0044,-2461.1031 11300.603,-2456.6178 11290.3024,-2454.1384 11291.0044,-2461.1031"/>
</g>
<!-- header_142 -->
<g id="node143" class="node">
<title>header_142</title>
<ellipse fill="none" stroke="#000000" cx="11663.187" cy="-2449.6045" rx="81.2629" ry="18"/>
<text text-anchor="middle" x="11663.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Section:weed()</text>
</g>
<!-- section_12&#45;&gt;header_142 -->
<g id="edge142" class="edge">
<title>section_12&#45;&gt;header_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11759.2426,-2521.7673C11740.8409,-2507.9428 11714.8227,-2488.3964 11694.5054,-2473.1327"/>
<polygon fill="#000000" stroke="#000000" points="11696.5645,-2470.302 11686.467,-2467.0938 11692.3599,-2475.8986 11696.5645,-2470.302"/>
</g>
<!-- block_143 -->
<g id="node144" class="node">
<title>block_143</title>
<ellipse fill="none" stroke="#000000" cx="11865.187" cy="-2449.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="11865.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 367&#45;371</text>
</g>
<!-- section_12&#45;&gt;block_143 -->
<g id="edge143" class="edge">
<title>section_12&#45;&gt;block_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11798.5852,-2521.342C11810.9763,-2507.9954 11828.1498,-2489.4976 11841.9544,-2474.6286"/>
<polygon fill="#000000" stroke="#000000" points="11844.5841,-2476.9403 11848.823,-2467.2304 11839.4541,-2472.1775 11844.5841,-2476.9403"/>
</g>
<!-- codeblock_144 -->
<g id="node145" class="node">
<title>codeblock_144</title>
<ellipse fill="none" stroke="#000000" cx="12237.187" cy="-2449.6045" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="12237.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 372&#45;382</text>
</g>
<!-- section_12&#45;&gt;codeblock_144 -->
<g id="edge144" class="edge">
<title>section_12&#45;&gt;codeblock_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11840.7389,-2527.5001C11923.3285,-2511.2725 12073.9736,-2481.6733 12163.8938,-2464.0054"/>
<polygon fill="#000000" stroke="#000000" points="12164.606,-2467.4325 12173.7436,-2462.0701 12163.2564,-2460.5638 12164.606,-2467.4325"/>
</g>
<!-- header_148 -->
<g id="node149" class="node">
<title>header_148</title>
<ellipse fill="none" stroke="#000000" cx="12620.187" cy="-2449.6045" rx="110.7653" ry="18"/>
<text text-anchor="middle" x="12620.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Section(header, linum)</text>
</g>
<!-- section_13&#45;&gt;header_148 -->
<g id="edge148" class="edge">
<title>section_13&#45;&gt;header_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13029.7879,-2527.6819C12946.7882,-2511.8607 12795.7942,-2483.0785 12702.1431,-2465.2268"/>
<polygon fill="#000000" stroke="#000000" points="12702.6189,-2461.7546 12692.1404,-2463.3201 12701.3081,-2468.6308 12702.6189,-2461.7546"/>
</g>
<!-- block_149 -->
<g id="node150" class="node">
<title>block_149</title>
<ellipse fill="none" stroke="#000000" cx="12932.187" cy="-2449.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="12932.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 385&#45;388</text>
</g>
<!-- section_13&#45;&gt;block_149 -->
<g id="edge149" class="edge">
<title>section_13&#45;&gt;block_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13060.0245,-2522.3986C13034.6092,-2507.9264 12997.5906,-2486.847 12969.9226,-2471.0921"/>
<polygon fill="#000000" stroke="#000000" points="12971.3501,-2467.8774 12960.9283,-2465.9705 12967.8863,-2473.9603 12971.3501,-2467.8774"/>
</g>
<!-- block_150 -->
<g id="node151" class="node">
<title>block_150</title>
<ellipse fill="none" stroke="#000000" cx="13247.187" cy="-2449.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="13247.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 389&#45;393</text>
</g>
<!-- section_13&#45;&gt;block_150 -->
<g id="edge150" class="edge">
<title>section_13&#45;&gt;block_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13118.5353,-2522.3986C13144.1927,-2507.8811 13181.6006,-2486.7148 13209.4727,-2470.9441"/>
<polygon fill="#000000" stroke="#000000" points="13211.5489,-2473.7909 13218.5286,-2465.8201 13208.1016,-2467.6985 13211.5489,-2473.7909"/>
</g>
<!-- block_151 -->
<g id="node152" class="node">
<title>block_151</title>
<ellipse fill="none" stroke="#000000" cx="13590.187" cy="-2449.6045" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="13590.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 394&#45;395</text>
</g>
<!-- section_13&#45;&gt;block_151 -->
<g id="edge151" class="edge">
<title>section_13&#45;&gt;block_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13150.1186,-2528.1317C13245.0709,-2511.1881 13427.5349,-2478.6287 13525.0188,-2461.2333"/>
<polygon fill="#000000" stroke="#000000" points="13525.8119,-2464.6472 13535.0415,-2459.4448 13524.5821,-2457.756 13525.8119,-2464.6472"/>
</g>
<!-- codeblock_152 -->
<g id="node153" class="node">
<title>codeblock_152</title>
<ellipse fill="none" stroke="#000000" cx="13957.187" cy="-2449.6045" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13957.187" y="-2445.4045" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 396&#45;422</text>
</g>
<!-- section_13&#45;&gt;codeblock_152 -->
<g id="edge152" class="edge">
<title>section_13&#45;&gt;codeblock_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13160.6383,-2532.9345C13269.5722,-2523.5381 13483.6853,-2504.5108 13665.187,-2485.0045 13735.237,-2477.4762 13814.5932,-2467.7805 13872.879,-2460.4402"/>
<polygon fill="#000000" stroke="#000000" points="13873.6603,-2463.8694 13883.1432,-2459.1445 13872.7836,-2456.9246 13873.6603,-2463.8694"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1084.187,-2199.4041 1030.187,-2199.4041 1030.187,-2163.4041 1084.187,-2163.4041 1084.187,-2199.4041"/>
</g>
<!-- header_19&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>header_19&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1863.3966,-2433.4029C1853.8149,-2426.1387 1841.5857,-2418.2977 1829.187,-2414.2045 1751.4389,-2388.5367 1154.7754,-2432.1533 1093.187,-2378.2045 1045.2556,-2336.2186 1047.5335,-2253.3441 1052.6739,-2209.7449"/>
<polygon fill="#000000" stroke="#000000" points="1056.1801,-2209.9263 1054.0136,-2199.5553 1049.2398,-2209.0137 1056.1801,-2209.9263"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1580.187,-2216.7044 1102.187,-2216.7044 1102.187,-2146.1037 1580.187,-2146.1037 1580.187,-2216.7044"/>
<text text-anchor="middle" x="1341.187" y="-2185.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;The array portion of a section starts at [1] with a header. The</text>
<text text-anchor="middle" x="1341.187" y="-2170.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> rest consists, optionally, of nodes of types Block and Section.</text>
</g>
<!-- block_20&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>block_20&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1974.9012,-2433.392C1963.1015,-2426.3116 1948.4211,-2418.6284 1934.187,-2414.2045 1786.9678,-2368.4486 1731.9293,-2436.4433 1589.187,-2378.2045 1504.407,-2343.6142 1424.9487,-2270.706 1379.7866,-2223.9969"/>
<polygon fill="#000000" stroke="#000000" points="1382.2799,-2221.54 1372.8372,-2216.7352 1377.2226,-2226.3798 1382.2799,-2221.54"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1652.187,-2199.4041 1598.187,-2199.4041 1598.187,-2163.4041 1652.187,-2163.4041 1652.187,-2199.4041"/>
</g>
<!-- header_23&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>header_23&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2099.0101,-2433.2579C2089.1074,-2426.1482 2076.6466,-2418.479 2064.187,-2414.2045 1979.1406,-2385.0273 1727.6158,-2438.7967 1661.187,-2378.2045 1614.2278,-2335.3711 1616.0083,-2253.2167 1620.843,-2209.8418"/>
<polygon fill="#000000" stroke="#000000" points="1624.3436,-2210.054 1622.1102,-2199.6973 1617.3976,-2209.1863 1624.3436,-2210.054"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="2155.687,-2232.005 1670.687,-2232.005 1670.687,-2130.8032 2155.687,-2130.8032 2155.687,-2232.005"/>
<text text-anchor="middle" x="1913.187" y="-2201.0042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; header : The header for the section.</text>
<text text-anchor="middle" x="1913.187" y="-2185.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; level : The header level, lifted from the header for ease of use</text>
<text text-anchor="middle" x="1913.187" y="-2170.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; lines : An array of the lines owned by the section. Note that </text>
<text text-anchor="middle" x="1913.187" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;this doesn&#39;t include the header. </text>
</g>
<!-- block_24&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>block_24&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2218.7943,-2432.8274C2172.5288,-2394.7647 2057.8204,-2300.3941 1982.8483,-2238.7145"/>
<polygon fill="#000000" stroke="#000000" points="1984.7626,-2235.7571 1974.8165,-2232.1067 1980.3153,-2241.1628 1984.7626,-2235.7571"/>
</g>
<!-- header_28 -->
<g id="node29" class="node">
<title>header_28</title>
<ellipse fill="none" stroke="#000000" cx="2229.187" cy="-2181.4041" rx="55.1697" ry="18"/>
<text text-anchor="middle" x="2229.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Includes</text>
</g>
<!-- section_25&#45;&gt;header_28 -->
<g id="edge28" class="edge">
<title>section_25&#45;&gt;header_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2351.3368,-2432.9642C2332.6221,-2420.1065 2308.3795,-2400.7348 2293.187,-2378.2045 2257.139,-2324.7453 2240.1802,-2249.5234 2233.2619,-2209.3233"/>
<polygon fill="#000000" stroke="#000000" points="2236.7112,-2208.7287 2231.6412,-2199.4257 2229.8032,-2209.8599 2236.7112,-2208.7287"/>
</g>
<!-- block_29 -->
<g id="node30" class="node">
<title>block_29</title>
<ellipse fill="none" stroke="#000000" cx="2358.187" cy="-2181.4041" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2358.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 30&#45;31</text>
</g>
<!-- section_25&#45;&gt;block_29 -->
<g id="edge29" class="edge">
<title>section_25&#45;&gt;block_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2376.8437,-2431.5907C2373.4362,-2385.8957 2364.4344,-2265.1817 2360.308,-2209.8464"/>
<polygon fill="#000000" stroke="#000000" points="2363.7849,-2209.4047 2359.5508,-2199.6927 2356.8043,-2209.9253 2363.7849,-2209.4047"/>
</g>
<!-- codeblock_30 -->
<g id="node31" class="node">
<title>codeblock_30</title>
<ellipse fill="none" stroke="#000000" cx="2509.187" cy="-2181.4041" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2509.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 32&#45;44</text>
</g>
<!-- section_25&#45;&gt;codeblock_30 -->
<g id="edge30" class="edge">
<title>section_25&#45;&gt;codeblock_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2390.4253,-2431.8559C2399.9443,-2417.6731 2413.1726,-2397.1081 2423.187,-2378.2045 2454.1918,-2319.6789 2483.5744,-2247.6233 2498.6591,-2208.9896"/>
<polygon fill="#000000" stroke="#000000" points="2501.9996,-2210.0557 2502.3515,-2199.4667 2495.473,-2207.5251 2501.9996,-2210.0557"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="2256.187,-1839.4035 2202.187,-1839.4035 2202.187,-1803.4035 2256.187,-1803.4035 2256.187,-1839.4035"/>
</g>
<!-- header_28&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>header_28&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2229.187,-2163.0567C2229.187,-2104.4375 2229.187,-1921.3589 2229.187,-1850.1464"/>
<polygon fill="#000000" stroke="#000000" points="2232.6871,-1849.7139 2229.187,-1839.7139 2225.6871,-1849.714 2232.6871,-1849.7139"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2361.187,-1839.4035 2307.187,-1839.4035 2307.187,-1803.4035 2361.187,-1803.4035 2361.187,-1839.4035"/>
</g>
<!-- block_29&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>block_29&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2356.9639,-2163.0567C2353.0479,-2104.3169 2340.8005,-1920.6049 2336.074,-1849.7083"/>
<polygon fill="#000000" stroke="#000000" points="2339.5653,-1849.4589 2335.4077,-1839.7139 2332.5808,-1849.9246 2339.5653,-1849.4589"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2689.187,-1911.1038 2379.187,-1911.1038 2379.187,-1731.7031 2689.187,-1731.7031 2689.187,-1911.1038"/>
<text text-anchor="middle" x="2534.187" y="-1895.8036" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="2534.187" y="-1864.4036" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;util&quot;</text>
<text text-anchor="middle" x="2534.187" y="-1849.0035" font-family="Inconsolata" font-size="14.00" fill="#000000">local status = require &quot;status&quot;</text>
<text text-anchor="middle" x="2534.187" y="-1817.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;node/node&quot;</text>
<text text-anchor="middle" x="2534.187" y="-1786.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">local Header = require &quot;grym/header&quot;</text>
<text text-anchor="middle" x="2534.187" y="-1770.8034" font-family="Inconsolata" font-size="14.00" fill="#000000">local Block = require &quot;grym/block&quot;</text>
<text text-anchor="middle" x="2534.187" y="-1755.4034" font-family="Inconsolata" font-size="14.00" fill="#000000">local Codeblock = require &quot;grym/codeblock&quot;</text>
<text text-anchor="middle" x="2534.187" y="-1740.0034" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
</g>
<!-- codeblock_30&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>codeblock_30&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2510.4612,-2163.0567C2513.5065,-2119.2035 2521.389,-2005.6958 2527.2374,-1921.4784"/>
<polygon fill="#000000" stroke="#000000" points="2530.7388,-1921.5783 2527.9401,-1911.3598 2523.7556,-1921.0933 2530.7388,-1921.5783"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="2658.187,-2199.4041 2604.187,-2199.4041 2604.187,-2163.4041 2658.187,-2163.4041 2658.187,-2199.4041"/>
</g>
<!-- header_34&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>header_34&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2612.5304,-2431.5907C2615.9379,-2385.8957 2624.9396,-2265.1817 2629.0661,-2209.8464"/>
<polygon fill="#000000" stroke="#000000" points="2632.5698,-2209.9253 2629.8232,-2199.6927 2625.5892,-2209.4047 2632.5698,-2209.9253"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="2730.187,-2199.4041 2676.187,-2199.4041 2676.187,-2163.4041 2730.187,-2163.4041 2730.187,-2199.4041"/>
</g>
<!-- block_35&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>block_35&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2777.0762,-2432.3842C2764.6042,-2418.8086 2748.3468,-2398.7905 2739.187,-2378.2045 2714.148,-2321.9311 2706.5241,-2249.1894 2704.2029,-2209.7951"/>
<polygon fill="#000000" stroke="#000000" points="2707.6881,-2209.4165 2703.6788,-2199.6096 2700.6974,-2209.7763 2707.6881,-2209.4165"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="3079.687,-2293.7046 2748.687,-2293.7046 2748.687,-2069.1036 3079.687,-2069.1036 3079.687,-2293.7046"/>
<text text-anchor="middle" x="2914.187" y="-2278.6043" font-family="Inconsolata" font-size="14.00" fill="#000000">local Sec, sec = u.inherit(Node)</text>
<text text-anchor="middle" x="2914.187" y="-2263.2042" font-family="Inconsolata" font-size="14.00" fill="#000000">Sec.id = &quot;section&quot;</text>
<text text-anchor="middle" x="2914.187" y="-2231.8042" font-family="Inconsolata" font-size="14.00" fill="#000000">function Sec.__tostring(section)</text>
<text text-anchor="middle" x="2914.187" y="-2216.4042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="2914.187" y="-2201.0042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(section) do</text>
<text text-anchor="middle" x="2914.187" y="-2185.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local repr = tostring(v)</text>
<text text-anchor="middle" x="2914.187" y="-2170.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if (repr ~= &quot;&quot; and repr ~= &quot;\n&quot;) then</text>
<text text-anchor="middle" x="2914.187" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. repr .. &quot;\n&quot;</text>
<text text-anchor="middle" x="2914.187" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2914.187" y="-2124.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2914.187" y="-2092.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="2914.187" y="-2077.2039" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_36&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>codeblock_36&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2943.1049,-2431.5907C2940.0505,-2405.1648 2934.096,-2353.6493 2928.3803,-2304.1988"/>
<polygon fill="#000000" stroke="#000000" points="2931.8285,-2303.5486 2927.2034,-2294.0166 2924.8748,-2304.3524 2931.8285,-2303.5486"/>
</g>
<!-- header_42 -->
<g id="node43" class="node">
<title>header_42</title>
<ellipse fill="none" stroke="#000000" cx="3188.187" cy="-2181.4041" rx="90.4762" ry="18"/>
<text text-anchor="middle" x="3188.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : dotLabel(section)</text>
</g>
<!-- section_37&#45;&gt;header_42 -->
<g id="edge42" class="edge">
<title>section_37&#45;&gt;header_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3333.8903,-2432.2716C3319.9817,-2418.48 3300.9576,-2398.2339 3287.187,-2378.2045 3248.4178,-2321.814 3215.481,-2248.1127 3199.1624,-2208.8451"/>
<polygon fill="#000000" stroke="#000000" points="3202.3229,-2207.3275 3195.2858,-2199.4074 3195.8479,-2209.9873 3202.3229,-2207.3275"/>
</g>
<!-- block_43 -->
<g id="node44" class="node">
<title>block_43</title>
<ellipse fill="none" stroke="#000000" cx="3352.187" cy="-2181.4041" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3352.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 67&#45;70</text>
</g>
<!-- section_37&#45;&gt;block_43 -->
<g id="edge43" class="edge">
<title>section_37&#45;&gt;block_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3352.187,-2431.5907C3352.187,-2385.8957 3352.187,-2265.1817 3352.187,-2209.8464"/>
<polygon fill="#000000" stroke="#000000" points="3355.6871,-2209.6927 3352.187,-2199.6927 3348.6871,-2209.6927 3355.6871,-2209.6927"/>
</g>
<!-- block_44 -->
<g id="node45" class="node">
<title>block_44</title>
<ellipse fill="none" stroke="#000000" cx="3482.187" cy="-2181.4041" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3482.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 71&#45;72</text>
</g>
<!-- section_37&#45;&gt;block_44 -->
<g id="edge44" class="edge">
<title>section_37&#45;&gt;block_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3371.932,-2432.2493C3386.2298,-2418.7553 3405.0945,-2398.9021 3417.187,-2378.2045 3449.5268,-2322.8518 3468.3355,-2249.2238 3476.7833,-2209.5686"/>
<polygon fill="#000000" stroke="#000000" points="3480.2557,-2210.0592 3478.8481,-2199.5583 3473.4,-2208.645 3480.2557,-2210.0592"/>
</g>
<!-- codeblock_45 -->
<g id="node46" class="node">
<title>codeblock_45</title>
<ellipse fill="none" stroke="#000000" cx="3633.187" cy="-2181.4041" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3633.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 73&#45;78</text>
</g>
<!-- section_37&#45;&gt;codeblock_45 -->
<g id="edge45" class="edge">
<title>section_37&#45;&gt;codeblock_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3410.2332,-2440.8954C3452.7979,-2431.7962 3509.5065,-2413.6542 3547.187,-2378.2045 3596.6323,-2331.6866 3619.2462,-2251.7907 3628.1837,-2209.5244"/>
<polygon fill="#000000" stroke="#000000" points="3631.6327,-2210.126 3630.1693,-2199.6327 3624.7696,-2208.7482 3631.6327,-2210.126"/>
</g>
<!-- header_50 -->
<g id="node51" class="node">
<title>header_50</title>
<ellipse fill="none" stroke="#000000" cx="3833.187" cy="-2181.4041" rx="104.4491" ry="18"/>
<text text-anchor="middle" x="3833.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : toMarkdown(section)</text>
</g>
<!-- section_38&#45;&gt;header_50 -->
<g id="edge50" class="edge">
<title>section_38&#45;&gt;header_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4082.9077,-2439.365C4041.0488,-2429.5555 3985.3331,-2411.1957 3946.187,-2378.2045 3891.0805,-2331.7622 3857.0324,-2251.2129 3842.0835,-2209.0079"/>
<polygon fill="#000000" stroke="#000000" points="3845.3376,-2207.7079 3838.7742,-2199.3909 3838.7185,-2209.9856 3845.3376,-2207.7079"/>
</g>
<!-- block_51 -->
<g id="node52" class="node">
<title>block_51</title>
<ellipse fill="none" stroke="#000000" cx="4011.187" cy="-2181.4041" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="4011.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 81&#45;84</text>
</g>
<!-- section_38&#45;&gt;block_51 -->
<g id="edge51" class="edge">
<title>section_38&#45;&gt;block_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4121.4421,-2432.2493C4107.1443,-2418.7553 4088.2796,-2398.9021 4076.187,-2378.2045 4043.8473,-2322.8518 4025.0385,-2249.2238 4016.5908,-2209.5686"/>
<polygon fill="#000000" stroke="#000000" points="4019.974,-2208.645 4014.526,-2199.5583 4013.1183,-2210.0592 4019.974,-2208.645"/>
</g>
<!-- block_52 -->
<g id="node53" class="node">
<title>block_52</title>
<ellipse fill="none" stroke="#000000" cx="4141.187" cy="-2181.4041" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="4141.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 85&#45;86</text>
</g>
<!-- section_38&#45;&gt;block_52 -->
<g id="edge52" class="edge">
<title>section_38&#45;&gt;block_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4141.187,-2431.5907C4141.187,-2385.8957 4141.187,-2265.1817 4141.187,-2209.8464"/>
<polygon fill="#000000" stroke="#000000" points="4144.6871,-2209.6927 4141.187,-2199.6927 4137.6871,-2209.6927 4144.6871,-2209.6927"/>
</g>
<!-- block_53 -->
<g id="node54" class="node">
<title>block_53</title>
<ellipse fill="none" stroke="#000000" cx="4271.187" cy="-2181.4041" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="4271.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 87&#45;88</text>
</g>
<!-- section_38&#45;&gt;block_53 -->
<g id="edge53" class="edge">
<title>section_38&#45;&gt;block_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4160.932,-2432.2493C4175.2298,-2418.7553 4194.0945,-2398.9021 4206.187,-2378.2045 4238.5268,-2322.8518 4257.3355,-2249.2238 4265.7833,-2209.5686"/>
<polygon fill="#000000" stroke="#000000" points="4269.2557,-2210.0592 4267.8481,-2199.5583 4262.4,-2208.645 4269.2557,-2210.0592"/>
</g>
<!-- codeblock_54 -->
<g id="node55" class="node">
<title>codeblock_54</title>
<ellipse fill="none" stroke="#000000" cx="4427.187" cy="-2181.4041" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="4427.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 89&#45;102</text>
</g>
<!-- section_38&#45;&gt;codeblock_54 -->
<g id="edge54" class="edge">
<title>section_38&#45;&gt;codeblock_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4201.6983,-2440.0735C4243.8316,-2430.6766 4298.9296,-2412.5213 4336.187,-2378.2045 4386.5978,-2331.7725 4411.3329,-2251.8404 4421.4152,-2209.5459"/>
<polygon fill="#000000" stroke="#000000" points="4424.8615,-2210.1748 4423.6695,-2199.6473 4418.0362,-2208.6204 4424.8615,-2210.1748"/>
</g>
<!-- section_55 -->
<g id="node56" class="node">
<title>section_55</title>
<ellipse fill="none" stroke="#000000" cx="4603.187" cy="-2181.4041" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4603.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 104&#45;128</text>
</g>
<!-- section_38&#45;&gt;section_55 -->
<g id="edge55" class="edge">
<title>section_38&#45;&gt;section_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4208.7646,-2444.3698C4304.0158,-2435.7518 4471.3859,-2415.6753 4518.187,-2378.2045 4571.4854,-2335.5318 4592.0456,-2252.9548 4599.4182,-2209.5794"/>
<polygon fill="#000000" stroke="#000000" points="4602.9159,-2209.8684 4601.0204,-2199.4445 4596.0018,-2208.7753 4602.9159,-2209.8684"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="2809.187,-1839.4035 2755.187,-1839.4035 2755.187,-1803.4035 2809.187,-1803.4035 2809.187,-1839.4035"/>
</g>
<!-- header_42&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>header_42&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3184.8394,-2163.338C3176.4512,-2123.6373 3150.5645,-2028.817 3088.187,-1984.6037 2989.4194,-1914.597 2909.6976,-2027.8617 2818.187,-1948.6037 2789.9118,-1924.1143 2783.0479,-1879.2492 2781.7928,-1849.8794"/>
<polygon fill="#000000" stroke="#000000" points="2785.2906,-1849.7409 2781.5549,-1839.8265 2778.2925,-1849.9065 2785.2906,-1849.7409"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="3074.687,-1841.3055 2827.687,-1841.3055 2827.687,-1801.5014 3074.687,-1801.5014 3074.687,-1841.3055"/>
<text text-anchor="middle" x="2951.187" y="-1809.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Produces a label for a dotfile.</text>
</g>
<!-- block_43&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>block_43&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3351.9975,-2163.1515C3350.5315,-2123.9189 3341.2018,-2031.3354 3287.187,-1984.6037 3217.5608,-1924.3656 3165.2392,-1990.3637 3083.187,-1948.6037 3036.5207,-1924.8531 2995.3149,-1879.0898 2971.8268,-1849.4194"/>
<polygon fill="#000000" stroke="#000000" points="2974.5808,-1847.2592 2965.682,-1841.5092 2969.0528,-1851.5536 2974.5808,-1847.2592"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="3339.687,-1839.4035 3092.687,-1839.4035 3092.687,-1803.4035 3339.687,-1803.4035 3339.687,-1839.4035"/>
<text text-anchor="middle" x="3216.187" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; #return : string in dot format.</text>
</g>
<!-- block_44&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>block_44&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3480.706,-2163.1834C3476.7686,-2125.597 3462.9769,-2038.4782 3417.187,-1984.6037 3394.7861,-1958.2476 3376.2605,-1968.8107 3348.187,-1948.6037 3305.8704,-1918.1446 3263.6558,-1874.5767 3238.743,-1847.1522"/>
<polygon fill="#000000" stroke="#000000" points="3241.1775,-1844.6251 3231.8877,-1839.5309 3235.973,-1849.3064 3241.1775,-1844.6251"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="3758.687,-1856.0047 3357.687,-1856.0047 3357.687,-1786.8022 3758.687,-1786.8022 3758.687,-1856.0047"/>
<text text-anchor="middle" x="3558.187" y="-1841.0035" font-family="Inconsolata" font-size="14.00" fill="#000000">function Sec.dotLabel(section)</text>
<text text-anchor="middle" x="3558.187" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;section: &quot; .. tostring(section.line_first) </text>
<text text-anchor="middle" x="3558.187" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;&#45;&quot; .. tostring(section.line_last)</text>
<text text-anchor="middle" x="3558.187" y="-1794.8034" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_45&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>codeblock_45&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3629.3647,-2163.0567C3617.9946,-2108.4802 3584.1486,-1946.0192 3567.561,-1866.3988"/>
<polygon fill="#000000" stroke="#000000" points="3570.9008,-1865.2686 3565.4348,-1856.1926 3564.048,-1866.6963 3570.9008,-1865.2686"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3831.187,-1839.4035 3777.187,-1839.4035 3777.187,-1803.4035 3831.187,-1803.4035 3831.187,-1839.4035"/>
</g>
<!-- header_50&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>header_50&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3831.7091,-2163.0567C3826.9772,-2104.3169 3812.1783,-1920.6049 3806.4671,-1849.7083"/>
<polygon fill="#000000" stroke="#000000" points="3809.9538,-1849.4006 3805.662,-1839.7139 3802.9764,-1849.9627 3809.9538,-1849.4006"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="4124.687,-1841.3055 3849.687,-1841.3055 3849.687,-1801.5014 4124.687,-1801.5014 4124.687,-1841.3055"/>
<text text-anchor="middle" x="3987.187" y="-1809.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Translates the Section to markdown.</text>
</g>
<!-- block_51&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>block_51&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4009.9639,-2163.0567C4006.0842,-2104.8621 3994.0271,-1924.0041 3989.2075,-1851.7111"/>
<polygon fill="#000000" stroke="#000000" points="3992.6822,-1851.2123 3988.5246,-1841.4673 3985.6977,-1851.678 3992.6822,-1851.2123"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="4319.687,-1839.4035 4142.687,-1839.4035 4142.687,-1803.4035 4319.687,-1803.4035 4319.687,-1839.4035"/>
<text text-anchor="middle" x="4231.187" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section: the Section.</text>
</g>
<!-- block_52&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>block_52&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4145.7739,-2163.0567C4160.4588,-2104.3169 4206.3867,-1920.6049 4224.1109,-1849.7083"/>
<polygon fill="#000000" stroke="#000000" points="4227.5795,-1850.2643 4226.6094,-1839.7139 4220.7885,-1848.5665 4227.5795,-1850.2643"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="4570.687,-1839.4035 4337.687,-1839.4035 4337.687,-1803.4035 4570.687,-1803.4035 4570.687,-1839.4035"/>
<text text-anchor="middle" x="4454.187" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; #return: A Markdown string. &#160;</text>
</g>
<!-- block_53&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>block_53&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4275.1876,-2163.3028C4283.4702,-2127.7293 4304.4169,-2046.7602 4336.187,-1984.6037 4362.9188,-1932.3045 4405.3788,-1878.3685 4431.4144,-1847.4642"/>
<polygon fill="#000000" stroke="#000000" points="4434.1643,-1849.6333 4437.9778,-1839.7485 4428.8324,-1845.0977 4434.1643,-1849.6333"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="5017.687,-1918.3042 4588.687,-1918.3042 4588.687,-1724.5027 5017.687,-1724.5027 5017.687,-1918.3042"/>
<text text-anchor="middle" x="4803.187" y="-1902.9036" font-family="Inconsolata" font-size="14.00" fill="#000000">function Sec.toMarkdown(section)</text>
<text text-anchor="middle" x="4803.187" y="-1887.5036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="4803.187" y="-1872.1036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, node in ipairs(section) do</text>
<text text-anchor="middle" x="4803.187" y="-1856.7035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if node.toMarkdown then</text>
<text text-anchor="middle" x="4803.187" y="-1841.3035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. node:toMarkdown()</text>
<text text-anchor="middle" x="4803.187" y="-1825.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else </text>
<text text-anchor="middle" x="4803.187" y="-1810.5034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;no toMarkdown method in &quot; .. node.id)</text>
<text text-anchor="middle" x="4803.187" y="-1795.1034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4803.187" y="-1779.7034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4803.187" y="-1748.3034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="4803.187" y="-1732.9033" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_54&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>codeblock_54&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4431.6589,-2163.2954C4441.6706,-2125.9184 4469.0364,-2039.1695 4519.187,-1984.6037 4521.6754,-1981.8962 4568.5424,-1954.7193 4623.5094,-1923.2943"/>
<polygon fill="#000000" stroke="#000000" points="4625.4488,-1926.2173 4632.3952,-1918.2175 4621.9762,-1920.1394 4625.4488,-1926.2173"/>
</g>
<!-- header_61 -->
<g id="node62" class="node">
<title>header_61</title>
<ellipse fill="none" stroke="#000000" cx="5086.187" cy="-1821.4035" rx="50.8" ry="18"/>
<text text-anchor="middle" x="5086.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : asserts</text>
</g>
<!-- section_55&#45;&gt;header_61 -->
<g id="edge61" class="edge">
<title>section_55&#45;&gt;header_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4604.9472,-2163.315C4609.8677,-2123.568 4627.5914,-2028.66 4687.187,-1984.6037 4809.0237,-1894.5355 4902.6905,-2036.3822 5026.187,-1948.6037 5058.9441,-1925.3207 5074.3819,-1879.3954 5081.23,-1849.5679"/>
<polygon fill="#000000" stroke="#000000" points="5084.6609,-1850.2605 5083.3084,-1839.7524 5077.8127,-1848.8104 5084.6609,-1850.2605"/>
</g>
<!-- block_62 -->
<g id="node63" class="node">
<title>block_62</title>
<ellipse fill="none" stroke="#000000" cx="5221.187" cy="-1821.4035" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="5221.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 104&#45;105</text>
</g>
<!-- section_55&#45;&gt;block_62 -->
<g id="edge62" class="edge">
<title>section_55&#45;&gt;block_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4604.8594,-2163.1946C4609.6025,-2123.2041 4626.9907,-2027.8356 4687.187,-1984.6037 4770.2893,-1924.9212 5059.4016,-2002.7913 5146.187,-1948.6037 5182.1733,-1926.1344 5202.975,-1879.5604 5213.1858,-1849.4356"/>
<polygon fill="#000000" stroke="#000000" points="5216.6407,-1850.1237 5216.3633,-1839.5325 5209.9754,-1847.985 5216.6407,-1850.1237"/>
</g>
<!-- codeblock_63 -->
<g id="node64" class="node">
<title>codeblock_63</title>
<ellipse fill="none" stroke="#000000" cx="5426.187" cy="-1821.4035" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5426.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 106&#45;126</text>
</g>
<!-- section_55&#45;&gt;codeblock_63 -->
<g id="edge63" class="edge">
<title>section_55&#45;&gt;codeblock_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4604.7991,-2163.1097C4609.4203,-2122.9478 4626.5779,-2027.2549 4687.187,-1984.6037 4798.0564,-1906.5839 5172.2225,-2003.4846 5296.187,-1948.6037 5345.0662,-1926.9642 5386.148,-1878.32 5408.3702,-1847.8497"/>
<polygon fill="#000000" stroke="#000000" points="5411.4374,-1849.5764 5414.3891,-1839.401 5405.7362,-1845.5148 5411.4374,-1849.5764"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="5113.187,-847.1016 5059.187,-847.1016 5059.187,-811.1016 5113.187,-811.1016 5113.187,-847.1016"/>
</g>
<!-- header_61&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>header_61&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5086.187,-1803.3331C5086.187,-1683.5304 5086.187,-1004.1008 5086.187,-857.1337"/>
<polygon fill="#000000" stroke="#000000" points="5089.6871,-857.1176 5086.187,-847.1176 5082.6871,-857.1176 5089.6871,-857.1176"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="5217.187,-847.1016 5163.187,-847.1016 5163.187,-811.1016 5217.187,-811.1016 5217.187,-847.1016"/>
</g>
<!-- block_62&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>block_62&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5220.6225,-1803.3331C5216.8798,-1683.5304 5195.6541,-1004.1008 5191.0628,-857.1337"/>
<polygon fill="#000000" stroke="#000000" points="5194.5605,-857.0034 5190.7499,-847.1176 5187.5639,-857.222 5194.5605,-857.0034"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="5685.187,-979.2025 5235.187,-979.2025 5235.187,-679.0007 5685.187,-679.0007 5685.187,-979.2025"/>
<text text-anchor="middle" x="5460.187" y="-964.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">function Sec.check(section)</text>
<text text-anchor="middle" x="5460.187" y="-948.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i, v in ipairs(section) do</text>
<text text-anchor="middle" x="5460.187" y="-933.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if (i == 1) then</text>
<text text-anchor="middle" x="5460.187" y="-918.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if section.header then</text>
<text text-anchor="middle" x="5460.187" y="-902.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assert(v.id == &quot;header&quot;)</text>
<text text-anchor="middle" x="5460.187" y="-887.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5460.187" y="-871.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5460.187" y="-856.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assert(v.id == &quot;section&quot; or v.id == &quot;block&quot;)</text>
<text text-anchor="middle" x="5460.187" y="-841.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5460.187" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5460.187" y="-810.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.level)</text>
<text text-anchor="middle" x="5460.187" y="-794.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.id == &quot;section&quot;)</text>
<text text-anchor="middle" x="5460.187" y="-779.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.first, &quot;no first in &quot; .. tostring(section))</text>
<text text-anchor="middle" x="5460.187" y="-764.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.last, &quot;no last in &quot; .. tostring(section))</text>
<text text-anchor="middle" x="5460.187" y="-748.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.str, &quot;no str in &quot; .. tostring(section))</text>
<text text-anchor="middle" x="5460.187" y="-733.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.lines)</text>
<text text-anchor="middle" x="5460.187" y="-717.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.line_first)</text>
<text text-anchor="middle" x="5460.187" y="-702.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.line_last)</text>
<text text-anchor="middle" x="5460.187" y="-687.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_63&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>codeblock_63&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5426.8062,-1803.3331C5430.1374,-1706.1118 5446.0962,-1240.3471 5454.6851,-989.6766"/>
<polygon fill="#000000" stroke="#000000" points="5458.1934,-989.4922 5455.038,-979.3782 5451.1975,-989.2524 5458.1934,-989.4922"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="4750.187,-2199.4041 4696.187,-2199.4041 4696.187,-2163.4041 4750.187,-2163.4041 4750.187,-2199.4041"/>
</g>
<!-- header_67&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>header_67&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4739.9781,-2431.5907C4736.9113,-2385.8957 4728.8097,-2265.1817 4725.0959,-2209.8464"/>
<polygon fill="#000000" stroke="#000000" points="4728.5763,-2209.4358 4724.4145,-2199.6927 4721.592,-2209.9047 4728.5763,-2209.4358"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="4952.187,-2201.3062 4768.187,-2201.3062 4768.187,-2161.502 4952.187,-2161.502 4952.187,-2201.3062"/>
<text text-anchor="middle" x="4860.187" y="-2169.9041" font-family="Inconsolata" font-size="14.00" fill="#000000">Add a line to a section.</text>
</g>
<!-- block_68&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>block_68&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5040.1487,-2434.2055C5015.7596,-2421.8314 4983.4242,-2402.523 4961.187,-2378.2045 4914.9801,-2327.6725 4884.1441,-2252.0648 4869.6821,-2210.8231"/>
<polygon fill="#000000" stroke="#000000" points="4872.991,-2209.6821 4866.4394,-2201.3559 4866.3687,-2211.9505 4872.991,-2209.6821"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="5392.187,-2231.8051 4970.187,-2231.8051 4970.187,-2131.0031 5392.187,-2131.0031 5392.187,-2231.8051"/>
<text text-anchor="middle" x="5181.187" y="-2216.4042" font-family="Inconsolata" font-size="14.00" fill="#000000">These lines are later translated into blocks, and when the</text>
<text text-anchor="middle" x="5181.187" y="-2201.0042" font-family="Inconsolata" font-size="14.00" fill="#000000">parser is mature, =section.line= will be set to nil before</text>
<text text-anchor="middle" x="5181.187" y="-2185.6041" font-family="Inconsolata" font-size="14.00" fill="#000000">the Doc is returned. &#160;</text>
<text text-anchor="middle" x="5181.187" y="-2170.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="5181.187" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section: the section</text>
<text text-anchor="middle" x="5181.187" y="-2139.404" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; line: the line</text>
</g>
<!-- block_69&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>block_69&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5285.6645,-2431.5907C5269.6726,-2393.2956 5231.6779,-2302.3118 5206.19,-2241.2774"/>
<polygon fill="#000000" stroke="#000000" points="5209.2953,-2239.6305 5202.212,-2231.7515 5202.8359,-2242.328 5209.2953,-2239.6305"/>
</g>
<!-- leaf_77 -->
<g id="node78" class="node">
<title>leaf_77</title>
<polygon fill="none" stroke="#c0c0c0" points="5580.187,-2199.4041 5410.187,-2199.4041 5410.187,-2163.4041 5580.187,-2163.4041 5580.187,-2199.4041"/>
<text text-anchor="middle" x="5495.187" y="-2177.9041" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; return : the section</text>
</g>
<!-- block_70&#45;&gt;leaf_77 -->
<g id="edge77" class="edge">
<title>block_70&#45;&gt;leaf_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5478.396,-2431.5907C5481.4628,-2385.8957 5489.5644,-2265.1817 5493.2782,-2209.8464"/>
<polygon fill="#000000" stroke="#000000" points="5496.782,-2209.9047 5493.9596,-2199.6927 5489.7977,-2209.4358 5496.782,-2209.9047"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="5922.187,-2216.0054 5598.187,-2216.0054 5598.187,-2146.8028 5922.187,-2146.8028 5922.187,-2216.0054"/>
<text text-anchor="middle" x="5760.187" y="-2201.0042" font-family="Inconsolata" font-size="14.00" fill="#000000">function Sec.addLine(section, line)</text>
<text text-anchor="middle" x="5760.187" y="-2185.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.lines[#section.lines + 1] = line</text>
<text text-anchor="middle" x="5760.187" y="-2170.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="5760.187" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_71&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>codeblock_71&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5707.9483,-2431.5907C5716.6416,-2389.9559 5738.3388,-2286.0416 5750.8656,-2226.047"/>
<polygon fill="#000000" stroke="#000000" points="5754.3255,-2226.6006 5752.9433,-2216.0963 5747.4732,-2225.1698 5754.3255,-2226.6006"/>
</g>
<!-- header_79 -->
<g id="node80" class="node">
<title>header_79</title>
<ellipse fill="none" stroke="#000000" cx="6116.187" cy="-2181.4041" rx="175.5244" ry="18"/>
<text text-anchor="middle" x="6116.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : addSection(section, newsection, linum)</text>
</g>
<!-- section_72&#45;&gt;header_79 -->
<g id="edge79" class="edge">
<title>section_72&#45;&gt;header_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6408.0954,-2434.5155C6376.6765,-2422.1177 6333.5893,-2402.6422 6300.187,-2378.2045 6230.9348,-2327.5383 6166.4472,-2248.4257 6135.4583,-2207.6548"/>
<polygon fill="#000000" stroke="#000000" points="6138.1753,-2205.4445 6129.3643,-2199.5607 6132.583,-2209.6548 6138.1753,-2205.4445"/>
</g>
<!-- block_80 -->
<g id="node81" class="node">
<title>block_80</title>
<ellipse fill="none" stroke="#000000" cx="6375.187" cy="-2181.4041" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6375.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 150&#45;153</text>
</g>
<!-- section_72&#45;&gt;block_80 -->
<g id="edge80" class="edge">
<title>section_72&#45;&gt;block_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6445.1496,-2431.5907C6432.3448,-2385.8005 6398.474,-2264.6784 6383.0442,-2209.5014"/>
<polygon fill="#000000" stroke="#000000" points="6386.3652,-2208.3806 6380.3013,-2199.6927 6379.6238,-2210.2658 6386.3652,-2208.3806"/>
</g>
<!-- block_81 -->
<g id="node82" class="node">
<title>block_81</title>
<ellipse fill="none" stroke="#000000" cx="6524.187" cy="-2181.4041" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6524.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 154&#45;157</text>
</g>
<!-- section_72&#45;&gt;block_81 -->
<g id="edge81" class="edge">
<title>section_72&#45;&gt;block_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6455.1573,-2431.5907C6467.7914,-2385.8005 6501.2106,-2264.6784 6516.4346,-2209.5014"/>
<polygon fill="#000000" stroke="#000000" points="6519.8551,-2210.2634 6519.141,-2199.6927 6513.1072,-2208.4016 6519.8551,-2210.2634"/>
</g>
<!-- block_82 -->
<g id="node83" class="node">
<title>block_82</title>
<ellipse fill="none" stroke="#000000" cx="6673.187" cy="-2181.4041" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6673.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 158&#45;159</text>
</g>
<!-- section_72&#45;&gt;block_82 -->
<g id="edge82" class="edge">
<title>section_72&#45;&gt;block_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6500.6923,-2436.0855C6532.723,-2425.184 6572.9275,-2406.86 6599.187,-2378.2045 6643.8796,-2329.4341 6662.3796,-2251.0902 6669.374,-2209.484"/>
<polygon fill="#000000" stroke="#000000" points="6672.8483,-2209.9207 6670.9486,-2199.4975 6665.9337,-2208.8303 6672.8483,-2209.9207"/>
</g>
<!-- codeblock_83 -->
<g id="node84" class="node">
<title>codeblock_83</title>
<ellipse fill="none" stroke="#000000" cx="6844.187" cy="-2181.4041" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6844.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 160&#45;170</text>
</g>
<!-- section_72&#45;&gt;codeblock_83 -->
<g id="edge83" class="edge">
<title>section_72&#45;&gt;codeblock_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6515.5302,-2440.5793C6592.0166,-2428.8971 6712.7575,-2406.6247 6748.187,-2378.2045 6802.5655,-2334.5841 6828.2984,-2252.4734 6838.522,-2209.3985"/>
<polygon fill="#000000" stroke="#000000" points="6841.9496,-2210.109 6840.7419,-2199.5832 6835.1221,-2208.5647 6841.9496,-2210.109"/>
</g>
<!-- header_89 -->
<g id="node90" class="node">
<title>header_89</title>
<ellipse fill="none" stroke="#000000" cx="7114.187" cy="-2181.4041" rx="137.8106" ry="18"/>
<text text-anchor="middle" x="7114.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Helper Functions for Blocking</text>
</g>
<!-- section_73&#45;&gt;header_89 -->
<g id="edge89" class="edge">
<title>section_73&#45;&gt;header_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8410.3753,-2446.9797C8221.0155,-2439.825 7726.4879,-2417.8183 7567.187,-2378.2045 7406.4631,-2338.2367 7230.3972,-2246.5507 7153.6319,-2203.9395"/>
<polygon fill="#000000" stroke="#000000" points="7155.208,-2200.8109 7144.7703,-2198.993 7151.7962,-2206.9232 7155.208,-2200.8109"/>
</g>
<!-- block_90 -->
<g id="node91" class="node">
<title>block_90</title>
<ellipse fill="none" stroke="#000000" cx="7642.187" cy="-2181.4041" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="7642.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 173&#45;176</text>
</g>
<!-- section_73&#45;&gt;block_90 -->
<g id="edge90" class="edge">
<title>section_73&#45;&gt;block_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8410.6913,-2446.4199C8268.8255,-2439.4662 7965.5261,-2420.0769 7870.187,-2378.2045 7780.0082,-2338.5984 7699.0997,-2250.7322 7662.6402,-2207.0656"/>
<polygon fill="#000000" stroke="#000000" points="7665.216,-2204.6878 7656.1542,-2199.1983 7659.8149,-2209.1407 7665.216,-2204.6878"/>
</g>
<!-- codeblock_91 -->
<g id="node92" class="node">
<title>codeblock_91</title>
<ellipse fill="none" stroke="#000000" cx="7966.187" cy="-2181.4041" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7966.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 177&#45;181</text>
</g>
<!-- section_73&#45;&gt;codeblock_91 -->
<g id="edge91" class="edge">
<title>section_73&#45;&gt;codeblock_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8418.6088,-2440.9918C8331.8904,-2428.9065 8185.8498,-2405.3314 8139.187,-2378.2045 8066.2735,-2335.8169 8008.2349,-2251.6075 7981.7673,-2208.3825"/>
<polygon fill="#000000" stroke="#000000" points="7984.6138,-2206.3245 7976.4577,-2199.5622 7978.6166,-2209.9348 7984.6138,-2206.3245"/>
</g>
<!-- block_92 -->
<g id="node93" class="node">
<title>block_92</title>
<ellipse fill="none" stroke="#000000" cx="8214.187" cy="-2181.4041" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="8214.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 184&#45;185</text>
</g>
<!-- section_73&#45;&gt;block_92 -->
<g id="edge92" class="edge">
<title>section_73&#45;&gt;block_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8435.0474,-2436.1029C8401.1948,-2424.9798 8357.1999,-2406.3935 8326.187,-2378.2045 8273.1092,-2329.9595 8238.7981,-2250.5164 8223.4647,-2208.853"/>
<polygon fill="#000000" stroke="#000000" points="8226.7294,-2207.588 8220.0591,-2199.3565 8220.1403,-2209.951 8226.7294,-2207.588"/>
</g>
<!-- block_93 -->
<g id="node94" class="node">
<title>block_93</title>
<ellipse fill="none" stroke="#000000" cx="8401.187" cy="-2181.4041" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="8401.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 186&#45;188</text>
</g>
<!-- section_73&#45;&gt;block_93 -->
<g id="edge93" class="edge">
<title>section_73&#45;&gt;block_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8479.5451,-2431.5907C8465.1691,-2385.6901 8427.0855,-2264.0943 8409.8625,-2209.1037"/>
<polygon fill="#000000" stroke="#000000" points="8413.1333,-2207.8363 8406.8044,-2199.3395 8406.4533,-2209.9285 8413.1333,-2207.8363"/>
</g>
<!-- block_94 -->
<g id="node95" class="node">
<title>block_94</title>
<ellipse fill="none" stroke="#000000" cx="8569.187" cy="-2181.4041" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="8569.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 189&#45;190</text>
</g>
<!-- section_73&#45;&gt;block_94 -->
<g id="edge94" class="edge">
<title>section_73&#45;&gt;block_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8490.8289,-2431.5907C8505.2049,-2385.6901 8543.2886,-2264.0943 8560.5116,-2209.1037"/>
<polygon fill="#000000" stroke="#000000" points="8563.9208,-2209.9285 8563.5697,-2199.3395 8557.2408,-2207.8363 8563.9208,-2209.9285"/>
</g>
<!-- codeblock_95 -->
<g id="node96" class="node">
<title>codeblock_95</title>
<ellipse fill="none" stroke="#000000" cx="8834.187" cy="-2181.4041" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8834.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 191&#45;208</text>
</g>
<!-- section_73&#45;&gt;codeblock_95 -->
<g id="edge95" class="edge">
<title>section_73&#45;&gt;codeblock_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8529.3863,-2434.9488C8562.6828,-2422.7165 8608.5349,-2403.2566 8644.187,-2378.2045 8715.6531,-2327.9866 8782.4993,-2248.348 8814.4772,-2207.4816"/>
<polygon fill="#000000" stroke="#000000" points="8817.4012,-2209.4223 8820.7608,-2199.3742 8811.8684,-2205.1341 8817.4012,-2209.4223"/>
</g>
<!-- section_96 -->
<g id="node97" class="node">
<title>section_96</title>
<ellipse fill="none" stroke="#000000" cx="9129.187" cy="-2181.4041" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9129.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 230&#45;235</text>
</g>
<!-- section_73&#45;&gt;section_96 -->
<g id="edge96" class="edge">
<title>section_73&#45;&gt;section_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8556.6392,-2443.4831C8665.2841,-2433.2857 8866.1642,-2410.683 8930.187,-2378.2045 9011.2669,-2337.073 9080.1325,-2250.9347 9111.3249,-2207.5529"/>
<polygon fill="#000000" stroke="#000000" points="9114.3007,-2209.407 9117.227,-2199.2243 9108.5894,-2205.3596 9114.3007,-2209.407"/>
</g>
<!-- section_97 -->
<g id="node98" class="node">
<title>section_97</title>
<ellipse fill="none" stroke="#000000" cx="9408.187" cy="-2181.4041" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9408.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 236&#45;240</text>
</g>
<!-- section_73&#45;&gt;section_97 -->
<g id="edge97" class="edge">
<title>section_73&#45;&gt;section_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8560.7223,-2448.6264C8722.9395,-2445.4973 9099.1436,-2432.4353 9213.187,-2378.2045 9294.6658,-2339.4591 9361.434,-2251.8341 9391.3047,-2207.7618"/>
<polygon fill="#000000" stroke="#000000" points="9394.3091,-2209.5648 9396.9457,-2199.3032 9388.4854,-2205.6809 9394.3091,-2209.5648"/>
</g>
<!-- section_98 -->
<g id="node99" class="node">
<title>section_98</title>
<ellipse fill="none" stroke="#000000" cx="9690.187" cy="-2181.4041" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9690.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 241&#45;247</text>
</g>
<!-- section_73&#45;&gt;section_98 -->
<g id="edge98" class="edge">
<title>section_73&#45;&gt;section_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8560.1811,-2447.2947C8779.2506,-2440.1292 9408.0692,-2416.4343 9492.187,-2378.2045 9574.9525,-2340.5893 9642.7325,-2252.4383 9673.052,-2208.004"/>
<polygon fill="#000000" stroke="#000000" points="9676.1107,-2209.7272 9678.7778,-2199.4736 9670.2985,-2205.826 9676.1107,-2209.7272"/>
</g>
<!-- section_99 -->
<g id="node100" class="node">
<title>section_99</title>
<ellipse fill="none" stroke="#000000" cx="10109.187" cy="-2181.4041" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10109.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 248&#45;366</text>
</g>
<!-- section_73&#45;&gt;section_99 -->
<g id="edge99" class="edge">
<title>section_73&#45;&gt;section_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8560.3788,-2447.5081C8818.382,-2440.0298 9658.1905,-2413.2294 9774.187,-2378.2045 9898.2567,-2340.7419 10024.7953,-2248.6553 10080.2082,-2205.0417"/>
<polygon fill="#000000" stroke="#000000" points="10082.5132,-2207.6807 10088.1697,-2198.7222 10078.1612,-2202.198 10082.5132,-2207.6807"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="5717.187,-1839.4035 5663.187,-1839.4035 5663.187,-1803.4035 5717.187,-1803.4035 5717.187,-1839.4035"/>
</g>
<!-- header_79&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>header_79&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6105.16,-2163.3719C6079.8744,-2123.7397 6013.5062,-2029.0489 5931.187,-1984.6037 5849.7882,-1940.6554 5794.8467,-2010.5964 5726.187,-1948.6037 5698.5451,-1923.6458 5691.4814,-1879.2206 5690.0144,-1850.0351"/>
<polygon fill="#000000" stroke="#000000" points="5693.5014,-1849.5555 5689.695,-1839.6681 5686.5047,-1849.7711 5693.5014,-1849.5555"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="6003.187,-1841.3055 5735.187,-1841.3055 5735.187,-1801.5014 6003.187,-1801.5014 6003.187,-1841.3055"/>
<text text-anchor="middle" x="5869.187" y="-1809.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Adds a section to the host section</text>
</g>
<!-- block_80&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>block_80&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6374.2994,-2163.1671C6371.3065,-2123.5475 6358.2346,-2029.5712 6301.187,-1984.6037 6199.5334,-1904.4757 6130.0847,-2002.0276 6012.187,-1948.6037 5962.1156,-1925.9145 5917.0373,-1879.4248 5891.4115,-1849.3743"/>
<polygon fill="#000000" stroke="#000000" points="5893.8134,-1846.7907 5884.7116,-1841.3679 5888.445,-1851.2831 5893.8134,-1846.7907"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="6366.687,-1848.6039 6021.687,-1848.6039 6021.687,-1794.203 6366.687,-1794.203 6366.687,-1848.6039"/>
<text text-anchor="middle" x="6194.187" y="-1833.3035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section: &#160;Section to contain the new section.</text>
<text text-anchor="middle" x="6194.187" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; newsection: &#160;The new section.</text>
<text text-anchor="middle" x="6194.187" y="-1802.5034" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; linum: &#160;The line number.</text>
</g>
<!-- block_81&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>block_81&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6521.9236,-2163.3335C6516.3296,-2125.6477 6498.6131,-2037.7629 6450.187,-1984.6037 6425.5568,-1957.5661 6407.718,-1967.1369 6376.187,-1948.6037 6327.1134,-1919.7593 6274.0995,-1881.8701 6238.0178,-1854.9669"/>
<polygon fill="#000000" stroke="#000000" points="6239.779,-1851.913 6229.6772,-1848.7186 6235.582,-1857.5154 6239.779,-1851.913"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="6611.187,-1839.4035 6385.187,-1839.4035 6385.187,-1803.4035 6611.187,-1803.4035 6611.187,-1839.4035"/>
<text text-anchor="middle" x="6498.187" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; #return: the parent section.</text>
</g>
<!-- block_82&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>block_82&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6667.6807,-2163.2754C6656.6807,-2127.9907 6630.3489,-2047.9899 6599.187,-1984.6037 6574.4626,-1934.3119 6538.631,-1879.6603 6516.9584,-1848.0848"/>
<polygon fill="#000000" stroke="#000000" points="6519.8068,-1846.0502 6511.242,-1839.8136 6514.0482,-1850.0301 6519.8068,-1846.0502"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="7058.687,-1894.5043 6629.687,-1894.5043 6629.687,-1748.3026 7058.687,-1748.3026 7058.687,-1894.5043"/>
<text text-anchor="middle" x="6844.187" y="-1879.5036" font-family="Inconsolata" font-size="14.00" fill="#000000">function Sec.addSection(section, newsection, linum, finish)</text>
<text text-anchor="middle" x="6844.187" y="-1864.1036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if linum &gt; 0 then</text>
<text text-anchor="middle" x="6844.187" y="-1848.7035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.line_last = linum &#45; 1</text>
<text text-anchor="middle" x="6844.187" y="-1833.3035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;assert(type(finish) == &quot;number&quot;)</text>
<text text-anchor="middle" x="6844.187" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.last = finish</text>
<text text-anchor="middle" x="6844.187" y="-1802.5034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6844.187" y="-1787.1034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section[#section + 1] = newsection</text>
<text text-anchor="middle" x="6844.187" y="-1771.7034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="6844.187" y="-1756.3034" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_83&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>codeblock_83&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6844.187,-2163.0567C6844.187,-2116.2433 6844.187,-1990.0539 6844.187,-1904.8542"/>
<polygon fill="#000000" stroke="#000000" points="6847.6871,-1904.6753 6844.187,-1894.6753 6840.6871,-1904.6753 6847.6871,-1904.6753"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="7131.187,-1839.4035 7077.187,-1839.4035 7077.187,-1803.4035 7131.187,-1803.4035 7131.187,-1839.4035"/>
</g>
<!-- header_89&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>header_89&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7113.6774,-2163.0567C7112.0491,-2104.4375 7106.9636,-1921.3589 7104.9855,-1850.1464"/>
<polygon fill="#000000" stroke="#000000" points="7108.4721,-1849.6129 7104.6957,-1839.7139 7101.4748,-1849.8073 7108.4721,-1849.6129"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="7354.687,-1841.3055 7149.687,-1841.3055 7149.687,-1801.5014 7354.687,-1801.5014 7354.687,-1841.3055"/>
<text text-anchor="middle" x="7252.187" y="-1809.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">Boolean match for a tagline</text>
</g>
<!-- block_90&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>block_90&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7619.4633,-2164.4193C7570.5481,-2127.4427 7452.4818,-2035.9449 7363.187,-1948.6037 7330.2895,-1916.4259 7295.9921,-1875.8716 7274.3863,-1849.3193"/>
<polygon fill="#000000" stroke="#000000" points="7276.845,-1846.7935 7267.8353,-1841.2189 7271.4021,-1851.1953 7276.845,-1846.7935"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="7647.687,-1848.6039 7372.687,-1848.6039 7372.687,-1794.203 7647.687,-1794.203 7647.687,-1848.6039"/>
<text text-anchor="middle" x="7510.187" y="-1833.3035" font-family="Inconsolata" font-size="14.00" fill="#000000">local function isTagline(line)</text>
<text text-anchor="middle" x="7510.187" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return L.match(m.tagline_p, line)</text>
<text text-anchor="middle" x="7510.187" y="-1802.5034" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_91&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>codeblock_91&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7945.926,-2163.831C7904.3964,-2128.1677 7806.0337,-2045.517 7717.187,-1984.6037 7691.2229,-1966.8027 7681.7178,-1967.0209 7656.187,-1948.6037 7616.2678,-1919.8072 7574.2527,-1882.3415 7545.5973,-1855.5428"/>
<polygon fill="#000000" stroke="#000000" points="7547.9282,-1852.9302 7538.2463,-1848.6278 7543.132,-1858.0289 7547.9282,-1852.9302"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="8038.687,-1839.4035 7665.687,-1839.4035 7665.687,-1803.4035 8038.687,-1803.4035 8038.687,-1839.4035"/>
<text text-anchor="middle" x="7852.187" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">Lookahead, counting blank lines, return the number.</text>
</g>
<!-- block_92&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>block_92&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8202.716,-2163.6392C8178.9982,-2127.6267 8121.7771,-2044.3723 8062.187,-1984.6037 8006.5621,-1928.8121 7931.7979,-1874.8931 7888.1173,-1845.1347"/>
<polygon fill="#000000" stroke="#000000" points="7890.0537,-1842.219 7879.8105,-1839.5117 7886.1297,-1848.0158 7890.0537,-1842.219"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="8381.187,-1840.704 8057.187,-1840.704 8057.187,-1802.1029 8381.187,-1802.1029 8381.187,-1840.704"/>
<text text-anchor="middle" x="8219.187" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines: the full lines array of the section</text>
<text text-anchor="middle" x="8219.187" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; linum: current index into lines</text>
</g>
<!-- block_93&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>block_93&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8392.1616,-2163.5516C8362.8418,-2105.5563 8270.0817,-1922.0743 8233.8699,-1850.4465"/>
<polygon fill="#000000" stroke="#000000" points="8236.7834,-1848.4518 8229.148,-1841.1066 8230.5363,-1851.6101 8236.7834,-1848.4518"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="8758.687,-1839.4035 8399.687,-1839.4035 8399.687,-1803.4035 8758.687,-1803.4035 8758.687,-1839.4035"/>
<text text-anchor="middle" x="8579.187" y="-1817.9035" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; returns: number of blank lines forward of index</text>
</g>
<!-- block_94&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>block_94&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8569.6967,-2163.0567C8571.325,-2104.4375 8576.4105,-1921.3589 8578.3886,-1850.1464"/>
<polygon fill="#000000" stroke="#000000" points="8581.8993,-1849.8073 8578.6784,-1839.7139 8574.902,-1849.6129 8581.8993,-1849.8073"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="9059.187,-1948.8043 8777.187,-1948.8043 8777.187,-1694.0026 9059.187,-1694.0026 9059.187,-1948.8043"/>
<text text-anchor="middle" x="8918.187" y="-1933.4037" font-family="Inconsolata" font-size="14.00" fill="#000000">local function fwdBlanks(lines, linum)</text>
<text text-anchor="middle" x="8918.187" y="-1918.0037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local fwd = 0</text>
<text text-anchor="middle" x="8918.187" y="-1902.6037" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local index = linum + 1</text>
<text text-anchor="middle" x="8918.187" y="-1887.2036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if index &gt; #lines then </text>
<text text-anchor="middle" x="8918.187" y="-1871.8036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return 0</text>
<text text-anchor="middle" x="8918.187" y="-1856.4036" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="8918.187" y="-1841.0035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;for i = index, #lines do</text>
<text text-anchor="middle" x="8918.187" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if lines[i] == &quot;&quot; then</text>
<text text-anchor="middle" x="8918.187" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fwd = fwd + 1</text>
<text text-anchor="middle" x="8918.187" y="-1794.8034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="8918.187" y="-1779.4034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break</text>
<text text-anchor="middle" x="8918.187" y="-1764.0034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8918.187" y="-1748.6033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8918.187" y="-1733.2033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="8918.187" y="-1717.8033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return fwd</text>
<text text-anchor="middle" x="8918.187" y="-1702.4032" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_95&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>codeblock_95&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8838.4681,-2163.0567C8847.2529,-2125.4073 8868.0174,-2036.4168 8886.1516,-1958.6985"/>
<polygon fill="#000000" stroke="#000000" points="8889.5989,-1959.327 8888.4628,-1948.7932 8882.782,-1957.7363 8889.5989,-1959.327"/>
</g>
<!-- header_107 -->
<g id="node108" class="node">
<title>header_107</title>
<ellipse fill="none" stroke="#000000" cx="9129.187" cy="-1821.4035" rx="52.2623" ry="18"/>
<text text-anchor="middle" x="9129.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : List line</text>
</g>
<!-- section_96&#45;&gt;header_107 -->
<g id="edge107" class="edge">
<title>section_96&#45;&gt;header_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9129.187,-2163.0567C9129.187,-2104.4375 9129.187,-1921.3589 9129.187,-1850.1464"/>
<polygon fill="#000000" stroke="#000000" points="9132.6871,-1849.7139 9129.187,-1839.7139 9125.6871,-1849.714 9132.6871,-1849.7139"/>
</g>
<!-- block_108 -->
<g id="node109" class="node">
<title>block_108</title>
<ellipse fill="none" stroke="#000000" cx="9265.187" cy="-1821.4035" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9265.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 230&#45;235</text>
</g>
<!-- section_96&#45;&gt;block_108 -->
<g id="edge108" class="edge">
<title>section_96&#45;&gt;block_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9136.1183,-2163.0567C9158.3544,-2104.1963 9227.9962,-1919.8499 9254.6586,-1849.273"/>
<polygon fill="#000000" stroke="#000000" points="9258.0099,-1850.3056 9258.2698,-1839.7139 9251.4615,-1847.8317 9258.0099,-1850.3056"/>
</g>
<!-- header_111 -->
<g id="node112" class="node">
<title>header_111</title>
<ellipse fill="none" stroke="#000000" cx="9408.187" cy="-1821.4035" rx="59.7106" ry="18"/>
<text text-anchor="middle" x="9408.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Table line</text>
</g>
<!-- section_97&#45;&gt;header_111 -->
<g id="edge111" class="edge">
<title>section_97&#45;&gt;header_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9408.187,-2163.0567C9408.187,-2104.4375 9408.187,-1921.3589 9408.187,-1850.1464"/>
<polygon fill="#000000" stroke="#000000" points="9411.6871,-1849.7139 9408.187,-1839.7139 9404.6871,-1849.714 9411.6871,-1849.7139"/>
</g>
<!-- block_112 -->
<g id="node113" class="node">
<title>block_112</title>
<ellipse fill="none" stroke="#000000" cx="9551.187" cy="-1821.4035" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9551.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 236&#45;240</text>
</g>
<!-- section_97&#45;&gt;block_112 -->
<g id="edge112" class="edge">
<title>section_97&#45;&gt;block_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9415.475,-2163.0567C9438.8556,-2104.1963 9512.082,-1919.8499 9540.1167,-1849.273"/>
<polygon fill="#000000" stroke="#000000" points="9543.4748,-1850.2997 9543.9137,-1839.7139 9536.9692,-1847.7155 9543.4748,-1850.2997"/>
</g>
<!-- header_115 -->
<g id="node116" class="node">
<title>header_115</title>
<ellipse fill="none" stroke="#000000" cx="9690.187" cy="-1821.4035" rx="55.3589" ry="18"/>
<text text-anchor="middle" x="9690.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Tag line </text>
</g>
<!-- section_98&#45;&gt;header_115 -->
<g id="edge115" class="edge">
<title>section_98&#45;&gt;header_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9690.187,-2163.0567C9690.187,-2104.4375 9690.187,-1921.3589 9690.187,-1850.1464"/>
<polygon fill="#000000" stroke="#000000" points="9693.6871,-1849.7139 9690.187,-1839.7139 9686.6871,-1849.714 9693.6871,-1849.7139"/>
</g>
<!-- block_116 -->
<g id="node117" class="node">
<title>block_116</title>
<ellipse fill="none" stroke="#000000" cx="9845.187" cy="-1821.4035" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="9845.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 241&#45;247</text>
</g>
<!-- section_98&#45;&gt;block_116 -->
<g id="edge116" class="edge">
<title>section_98&#45;&gt;block_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9698.0866,-2163.0567C9723.488,-2104.0597 9803.169,-1918.9938 9833.3984,-1848.7835"/>
<polygon fill="#000000" stroke="#000000" points="9836.7474,-1849.8557 9837.4873,-1839.2867 9830.318,-1847.0874 9836.7474,-1849.8557"/>
</g>
<!-- header_119 -->
<g id="node120" class="node">
<title>header_119</title>
<ellipse fill="none" stroke="#000000" cx="10109.187" cy="-1821.4035" rx="66.779" ry="18"/>
<text text-anchor="middle" x="10109.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Code block</text>
</g>
<!-- section_99&#45;&gt;header_119 -->
<g id="edge119" class="edge">
<title>section_99&#45;&gt;header_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10109.187,-2163.0567C10109.187,-2104.4375 10109.187,-1921.3589 10109.187,-1850.1464"/>
<polygon fill="#000000" stroke="#000000" points="10112.6871,-1849.7139 10109.187,-1839.7139 10105.6871,-1849.714 10112.6871,-1849.7139"/>
</g>
<!-- block_120 -->
<g id="node121" class="node">
<title>block_120</title>
<ellipse fill="none" stroke="#000000" cx="10298.187" cy="-1821.4035" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10298.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 248&#45;252</text>
</g>
<!-- section_99&#45;&gt;block_120 -->
<g id="edge120" class="edge">
<title>section_99&#45;&gt;block_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10115.7411,-2163.297C10128.7528,-2128.0497 10159.5116,-2048.1108 10193.187,-1984.6037 10219.877,-1934.2703 10257.1213,-1879.2234 10279.331,-1847.6521"/>
<polygon fill="#000000" stroke="#000000" points="10282.2559,-1849.578 10285.1753,-1839.3933 10276.5418,-1845.5344 10282.2559,-1849.578"/>
</g>
<!-- block_121 -->
<g id="node122" class="node">
<title>block_121</title>
<ellipse fill="none" stroke="#000000" cx="10562.187" cy="-1821.4035" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10562.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 253&#45;254</text>
</g>
<!-- section_99&#45;&gt;block_121 -->
<g id="edge121" class="edge">
<title>section_99&#45;&gt;block_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10111.3353,-2163.1171C10116.9759,-2123.8167 10135.9593,-2031.108 10193.187,-1984.6037 10256.5022,-1933.1528 10297.8816,-1979.9898 10373.187,-1948.6037 10435.8826,-1922.4732 10499.5145,-1874.1592 10534.6126,-1845.1835"/>
<polygon fill="#000000" stroke="#000000" points="10537.0547,-1847.7042 10542.4886,-1838.6089 10532.5688,-1842.3304 10537.0547,-1847.7042"/>
</g>
<!-- block_122 -->
<g id="node123" class="node">
<title>block_122</title>
<ellipse fill="none" stroke="#000000" cx="10807.187" cy="-1821.4035" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="10807.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 255&#45;256</text>
</g>
<!-- section_99&#45;&gt;block_122 -->
<g id="edge122" class="edge">
<title>section_99&#45;&gt;block_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10110.8677,-2163.2061C10115.6277,-2123.2391 10133.0477,-2027.9148 10193.187,-1984.6037 10273.5144,-1926.7536 10544.5994,-1983.6272 10637.187,-1948.6037 10696.3042,-1926.2412 10752.4954,-1876.7694 10783.1585,-1846.5365"/>
<polygon fill="#000000" stroke="#000000" points="10785.8019,-1848.8426 10790.3904,-1839.2929 10780.8481,-1843.8968 10785.8019,-1848.8426"/>
</g>
<!-- codeblock_123 -->
<g id="node124" class="node">
<title>codeblock_123</title>
<ellipse fill="none" stroke="#000000" cx="11051.187" cy="-1821.4035" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11051.187" y="-1817.2035" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 257&#45;365</text>
</g>
<!-- section_99&#45;&gt;codeblock_123 -->
<g id="edge123" class="edge">
<title>section_99&#45;&gt;codeblock_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10110.7436,-2163.3807C10115.2707,-2123.3367 10132.2801,-2027.1537 10193.187,-1984.6037 10256.0305,-1940.7009 10810.1407,-1974.7968 10882.187,-1948.6037 10941.3647,-1927.0891 10997.0868,-1877.3294 11027.4334,-1846.8138"/>
<polygon fill="#000000" stroke="#000000" points="11030.0978,-1849.0952 11034.5885,-1839.4992 11025.0938,-1844.2003 11030.0978,-1849.0952"/>
</g>
<!-- leaf_109 -->
<g id="node110" class="node">
<title>leaf_109</title>
<polygon fill="none" stroke="#c0c0c0" points="9012.187,-847.1016 8958.187,-847.1016 8958.187,-811.1016 9012.187,-811.1016 9012.187,-847.1016"/>
</g>
<!-- header_107&#45;&gt;leaf_109 -->
<g id="edge109" class="edge">
<title>header_107&#45;&gt;leaf_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9123.5994,-1803.4752C9114.8472,-1777.4066 9095.9811,-1728.4222 9068.187,-1694.2032 9051.5978,-1673.7792 9033.344,-1681.5389 9021.187,-1658.2032 8874.7884,-1377.1876 8953.3592,-967.1027 8978.4093,-857.1107"/>
<polygon fill="#000000" stroke="#000000" points="8981.8726,-857.6691 8980.7234,-847.1368 8975.0538,-856.0869 8981.8726,-857.6691"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="9354.187,-864.402 9030.187,-864.402 9030.187,-793.8013 9354.187,-793.8013 9354.187,-864.402"/>
<text text-anchor="middle" x="9192.187" y="-833.3016" font-family="Inconsolata" font-size="14.00" fill="#000000">New block unless previous line is also list,</text>
<text text-anchor="middle" x="9192.187" y="-817.9016" font-family="Inconsolata" font-size="14.00" fill="#000000">in which case append. </text>
</g>
<!-- block_108&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>block_108&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9263.8577,-1803.3331C9255.3554,-1687.7597 9208.5389,-1051.3747 9195.5372,-874.6414"/>
<polygon fill="#000000" stroke="#000000" points="9199.0254,-874.3508 9194.8011,-864.6346 9192.0443,-874.8645 9199.0254,-874.3508"/>
</g>
<!-- leaf_113 -->
<g id="node114" class="node">
<title>leaf_113</title>
<polygon fill="none" stroke="#c0c0c0" points="9426.187,-847.1016 9372.187,-847.1016 9372.187,-811.1016 9426.187,-811.1016 9426.187,-847.1016"/>
</g>
<!-- header_111&#45;&gt;leaf_113 -->
<g id="edge113" class="edge">
<title>header_111&#45;&gt;leaf_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9408.0231,-1803.3331C9406.9366,-1683.5304 9400.7743,-1004.1008 9399.4413,-857.1337"/>
<polygon fill="#000000" stroke="#000000" points="9402.9411,-857.0854 9399.3504,-847.1176 9395.9414,-857.149 9402.9411,-857.0854"/>
</g>
<!-- leaf_114 -->
<g id="node115" class="node">
<title>leaf_114</title>
<polygon fill="none" stroke="#c0c0c0" points="9551.687,-857.0031 9444.687,-857.0031 9444.687,-801.2001 9551.687,-801.2001 9551.687,-857.0031"/>
<text text-anchor="middle" x="9498.187" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">Same as list.</text>
</g>
<!-- block_112&#45;&gt;leaf_114 -->
<g id="edge114" class="edge">
<title>block_112&#45;&gt;leaf_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9550.2219,-1803.3331C9543.9617,-1686.1265 9509.0927,-1033.2842 9500.234,-867.4269"/>
<polygon fill="#000000" stroke="#000000" points="9503.7172,-867.0163 9499.6887,-857.2173 9496.7272,-867.3898 9503.7172,-867.0163"/>
</g>
<!-- leaf_117 -->
<g id="node118" class="node">
<title>leaf_117</title>
<polygon fill="none" stroke="#c0c0c0" points="9624.187,-847.1016 9570.187,-847.1016 9570.187,-811.1016 9624.187,-811.1016 9624.187,-847.1016"/>
</g>
<!-- header_115&#45;&gt;leaf_117 -->
<g id="edge117" class="edge">
<title>header_115&#45;&gt;leaf_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9681.8818,-1803.289C9668.7617,-1773.6764 9643.6568,-1712.729 9633.187,-1658.2032 9573.819,-1349.0192 9589.5722,-963.5782 9595.4581,-857.3351"/>
<polygon fill="#000000" stroke="#000000" points="9598.9655,-857.3038 9596.0422,-847.1203 9591.9769,-856.9042 9598.9655,-857.3038"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="10064.187,-872.3019 9642.187,-872.3019 9642.187,-785.9013 10064.187,-785.9013 10064.187,-872.3019"/>
<text text-anchor="middle" x="9853.187" y="-841.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">A tag needs to cling, so we need to check the</text>
<text text-anchor="middle" x="9853.187" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">number of blank lines before and after a tag line, if any.</text>
<text text-anchor="middle" x="9853.187" y="-810.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">If even, a tag line clings down.</text>
</g>
<!-- block_116&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>block_116&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9845.3327,-1803.3331C9846.2514,-1689.3848 9851.2516,-1069.1678 9852.7576,-882.3663"/>
<polygon fill="#000000" stroke="#000000" points="9856.2584,-882.2706 9852.8392,-872.2427 9849.2586,-882.2141 9856.2584,-882.2706"/>
</g>
<!-- leaf_124 -->
<g id="node125" class="node">
<title>leaf_124</title>
<polygon fill="none" stroke="#c0c0c0" points="10136.187,-847.1016 10082.187,-847.1016 10082.187,-811.1016 10136.187,-811.1016 10136.187,-847.1016"/>
</g>
<!-- header_119&#45;&gt;leaf_124 -->
<g id="edge124" class="edge">
<title>header_119&#45;&gt;leaf_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10109.187,-1803.3331C10109.187,-1683.5304 10109.187,-1004.1008 10109.187,-857.1337"/>
<polygon fill="#000000" stroke="#000000" points="10112.6871,-857.1176 10109.187,-847.1176 10105.6871,-857.1176 10112.6871,-857.1176"/>
</g>
<!-- leaf_125 -->
<g id="node126" class="node">
<title>leaf_125</title>
<polygon fill="none" stroke="#c0c0c0" points="10520.187,-856.402 10154.187,-856.402 10154.187,-801.8012 10520.187,-801.8012 10520.187,-856.402"/>
<text text-anchor="middle" x="10337.187" y="-825.3016" font-family="Inconsolata" font-size="14.00" fill="#000000">A code block is anything between a code header and</text>
<text text-anchor="middle" x="10337.187" y="-809.9016" font-family="Inconsolata" font-size="14.00" fill="#000000">either a code footer or the end of a file. </text>
</g>
<!-- block_120&#45;&gt;leaf_125 -->
<g id="edge125" class="edge">
<title>block_120&#45;&gt;leaf_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10298.8972,-1803.3331C10303.5088,-1685.998 10329.2184,-1031.8519 10335.7021,-866.8831"/>
<polygon fill="#000000" stroke="#000000" points="10339.2055,-866.865 10336.101,-856.7352 10332.2109,-866.59 10339.2055,-866.865"/>
</g>
<!-- leaf_126 -->
<g id="node127" class="node">
<title>leaf_126</title>
<polygon fill="none" stroke="#c0c0c0" points="10813.687,-847.1016 10538.687,-847.1016 10538.687,-811.1016 10813.687,-811.1016 10813.687,-847.1016"/>
<text text-anchor="middle" x="10676.187" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; section : the Section to be blocked</text>
</g>
<!-- block_121&#45;&gt;leaf_126 -->
<g id="edge126" class="edge">
<title>block_121&#45;&gt;leaf_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10564.263,-1803.3331C10578.0265,-1683.5304 10656.0824,-1004.1008 10672.9666,-857.1337"/>
<polygon fill="#000000" stroke="#000000" points="10676.453,-857.4518 10674.1173,-847.1176 10669.4987,-856.6528 10676.453,-857.4518"/>
</g>
<!-- leaf_127 -->
<g id="node128" class="node">
<title>leaf_127</title>
<polygon fill="none" stroke="#c0c0c0" points="11204.687,-847.1016 10831.687,-847.1016 10831.687,-811.1016 11204.687,-811.1016 11204.687,-847.1016"/>
<text text-anchor="middle" x="11018.187" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; returns : the same Section, filled in with blocks</text>
</g>
<!-- block_122&#45;&gt;leaf_127 -->
<g id="edge127" class="edge">
<title>block_122&#45;&gt;leaf_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10811.0295,-1803.3331C10836.5039,-1683.5304 10980.9758,-1004.1008 11012.2264,-857.1337"/>
<polygon fill="#000000" stroke="#000000" points="11015.6997,-857.6269 11014.3562,-847.1176 11008.8528,-856.1709 11015.6997,-857.6269"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="11805.687,-1658.3048 11222.687,-1658.3048 11222.687,.1016 11805.687,.1016 11805.687,-1658.3048"/>
<text text-anchor="middle" x="11514.187" y="-1643.0032" font-family="Inconsolata" font-size="14.00" fill="#000000">function Sec.block(section)</text>
<text text-anchor="middle" x="11514.187" y="-1627.6032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; There is always a header at [1], though it may be nil</text>
<text text-anchor="middle" x="11514.187" y="-1612.2032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If there are other Nodes, they are sections and must be appended</text>
<text text-anchor="middle" x="11514.187" y="-1596.8031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; after the blocks.</text>
<text text-anchor="middle" x="11514.187" y="-1581.4031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local sub_sections = {}</text>
<text text-anchor="middle" x="11514.187" y="-1566.0031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i = 2, #section do</text>
<text text-anchor="middle" x="11514.187" y="-1550.603" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;sub_sections[#sub_sections + 1] = section[i]</text>
<text text-anchor="middle" x="11514.187" y="-1535.203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[i] = nil</text>
<text text-anchor="middle" x="11514.187" y="-1519.803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11514.187" y="-1488.4029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Every section gets at least one block, at [2], which may be empty.</text>
<text text-anchor="middle" x="11514.187" y="-1473.0029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local latest = Block(nil, section.line_first) &#45;&#45; current block</text>
<text text-anchor="middle" x="11514.187" y="-1457.6029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section[2] = latest</text>
<text text-anchor="middle" x="11514.187" y="-1426.2028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; State machine for blocking a section</text>
<text text-anchor="middle" x="11514.187" y="-1410.8028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local back_blanks = 0</text>
<text text-anchor="middle" x="11514.187" y="-1395.4028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; first set of blank lines in a section belong to the first block</text>
<text text-anchor="middle" x="11514.187" y="-1380.0027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local lead_blanks = true</text>
<text text-anchor="middle" x="11514.187" y="-1364.6027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Track code blocks in own logic</text>
<text text-anchor="middle" x="11514.187" y="-1349.2027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local code_block = false</text>
<text text-anchor="middle" x="11514.187" y="-1333.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Tags also</text>
<text text-anchor="middle" x="11514.187" y="-1318.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local tagging = false</text>
<text text-anchor="middle" x="11514.187" y="-1303.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i = 1, #section.lines do</text>
<text text-anchor="middle" x="11514.187" y="-1287.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local inset = i + section.line_first</text>
<text text-anchor="middle" x="11514.187" y="-1272.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local l = section.lines[i]</text>
<text text-anchor="middle" x="11514.187" y="-1256.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not code_block then</text>
<text text-anchor="middle" x="11514.187" y="-1241.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if l == &quot;&quot; then </text>
<text text-anchor="middle" x="11514.187" y="-1226.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; increment back blanks for clinging subsequent lines</text>
<text text-anchor="middle" x="11514.187" y="-1210.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = back_blanks + 1</text>
<text text-anchor="middle" x="11514.187" y="-1195.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; blank lines attach to the preceding block</text>
<text text-anchor="middle" x="11514.187" y="-1179.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="11514.187" y="-1164.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="11514.187" y="-1149.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local isCodeHeader, level, l_trim = Codeblock.matchHead(l)</text>
<text text-anchor="middle" x="11514.187" y="-1133.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if isCodeHeader then</text>
<text text-anchor="middle" x="11514.187" y="-1118.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_block = true</text>
<text text-anchor="middle" x="11514.187" y="-1102.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not tagging then</text>
<text text-anchor="middle" x="11514.187" y="-1087.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; create a new block for the codeblock</text>
<text text-anchor="middle" x="11514.187" y="-1072.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest.line_last = inset &#45; 1</text>
<text text-anchor="middle" x="11514.187" y="-1056.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = Block(nil, inset)</text>
<text text-anchor="middle" x="11514.187" y="-1041.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1] = Codeblock(level, l_trim, inset)</text>
<text text-anchor="middle" x="11514.187" y="-1025.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = latest</text>
<text text-anchor="middle" x="11514.187" y="-1010.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="11514.187" y="-995.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; preserve existing block and add codeblock</text>
<text text-anchor="middle" x="11514.187" y="-979.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tagging = false</text>
<text text-anchor="middle" x="11514.187" y="-964.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1] = Codeblock(level, l_trim, inset)</text>
<text text-anchor="middle" x="11514.187" y="-948.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11514.187" y="-933.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif isTagline(l) then</text>
<text text-anchor="middle" x="11514.187" y="-918.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tagging = true</text>
<text text-anchor="middle" x="11514.187" y="-902.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; apply cling rule</text>
<text text-anchor="middle" x="11514.187" y="-887.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local fwd_blanks = fwdBlanks(section.lines, i)</text>
<text text-anchor="middle" x="11514.187" y="-871.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if fwd_blanks &gt; back_blanks then</text>
<text text-anchor="middle" x="11514.187" y="-856.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="11514.187" y="-841.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="11514.187" y="-825.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; new block</text>
<text text-anchor="middle" x="11514.187" y="-810.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest.line_last = inset &#45; 1</text>
<text text-anchor="middle" x="11514.187" y="-794.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = Block(l, inset)</text>
<text text-anchor="middle" x="11514.187" y="-779.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = latest</text>
<text text-anchor="middle" x="11514.187" y="-764.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = 0</text>
<text text-anchor="middle" x="11514.187" y="-748.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="middle" x="11514.187" y="-733.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="11514.187" y="-717.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if back_blanks &gt; 0 and lead_blanks == false then</text>
<text text-anchor="middle" x="11514.187" y="-702.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not tagging then</text>
<text text-anchor="middle" x="11514.187" y="-687.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; new block</text>
<text text-anchor="middle" x="11514.187" y="-671.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest.line_last = inset &#45; 1</text>
<text text-anchor="middle" x="11514.187" y="-656.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest = Block(l, inset)</text>
<text text-anchor="middle" x="11514.187" y="-640.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = latest</text>
<text text-anchor="middle" x="11514.187" y="-625.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = 0</text>
<text text-anchor="middle" x="11514.187" y="-610.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="11514.187" y="-594.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="11514.187" y="-579.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tagging = false</text>
<text text-anchor="middle" x="11514.187" y="-563.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end </text>
<text text-anchor="middle" x="11514.187" y="-548.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="11514.187" y="-533.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; continuing a block</text>
<text text-anchor="middle" x="11514.187" y="-517.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;lead_blanks = false</text>
<text text-anchor="middle" x="11514.187" y="-502.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;back_blanks = 0</text>
<text text-anchor="middle" x="11514.187" y="-486.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest:addLine(l)</text>
<text text-anchor="middle" x="11514.187" y="-471.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11514.187" y="-456.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11514.187" y="-440.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11514.187" y="-425.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="11514.187" y="-409.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Collecting a code block</text>
<text text-anchor="middle" x="11514.187" y="-394.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local isCodeFoot, level, l_trim = Codeblock.matchFoot(l)</text>
<text text-anchor="middle" x="11514.187" y="-379.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if (isCodeFoot and level == latest[1].level) then</text>
<text text-anchor="middle" x="11514.187" y="-363.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_block = false</text>
<text text-anchor="middle" x="11514.187" y="-348.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].footer = l_trim</text>
<text text-anchor="middle" x="11514.187" y="-332.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].line_last = inset</text>
<text text-anchor="middle" x="11514.187" y="-317.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="11514.187" y="-302.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].lines[#latest[1].lines + 1] = l</text>
<text text-anchor="middle" x="11514.187" y="-286.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11514.187" y="-271.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Continue in normal parse mode</text>
<text text-anchor="middle" x="11514.187" y="-255.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; This may add more lines to the code block</text>
<text text-anchor="middle" x="11514.187" y="-240.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11514.187" y="-225.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11514.187" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Auto&#45;close a code block with no footer.</text>
<text text-anchor="middle" x="11514.187" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if latest[1] and latest[1].id == &quot;codeblock&quot; and not latest[1].line_last then</text>
<text text-anchor="middle" x="11514.187" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;latest[1].line_last = #section.lines</text>
<text text-anchor="middle" x="11514.187" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11514.187" y="-132.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Close last block</text>
<text text-anchor="middle" x="11514.187" y="-116.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;latest.line_last = section.line_last</text>
<text text-anchor="middle" x="11514.187" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Append sections, if any, which follow our blocks</text>
<text text-anchor="middle" x="11514.187" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, v in ipairs(sub_sections) do</text>
<text text-anchor="middle" x="11514.187" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[#section + 1] = v</text>
<text text-anchor="middle" x="11514.187" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11514.187" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="11514.187" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_123&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>codeblock_123&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11073.9343,-1803.9873C11108.4573,-1776.4789 11174.1789,-1719.7394 11213.187,-1658.2032 11214.577,-1656.0106 11215.9617,-1653.8106 11217.3412,-1651.6035"/>
<polygon fill="#000000" stroke="#000000" points="11220.3457,-1653.3996 11222.6365,-1643.0554 11214.3949,-1649.7133 11220.3457,-1653.3996"/>
</g>
<!-- leaf_134 -->
<g id="node135" class="node">
<title>leaf_134</title>
<polygon fill="none" stroke="#c0c0c0" points="10256.187,-2199.4041 10202.187,-2199.4041 10202.187,-2163.4041 10256.187,-2163.4041 10256.187,-2199.4041"/>
</g>
<!-- header_129&#45;&gt;leaf_134 -->
<g id="edge134" class="edge">
<title>header_129&#45;&gt;leaf_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10241.3139,-2431.5907C10239.099,-2385.8957 10233.2478,-2265.1817 10230.5657,-2209.8464"/>
<polygon fill="#000000" stroke="#000000" points="10234.0536,-2209.5115 10230.0735,-2199.6927 10227.0619,-2209.8504 10234.0536,-2209.5115"/>
</g>
<!-- leaf_135 -->
<g id="node136" class="node">
<title>leaf_135</title>
<polygon fill="none" stroke="#c0c0c0" points="10423.687,-2201.3062 10274.687,-2201.3062 10274.687,-2161.502 10423.687,-2161.502 10423.687,-2201.3062"/>
<text text-anchor="middle" x="10349.187" y="-2169.9041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Blocks a Section.</text>
</g>
<!-- block_130&#45;&gt;leaf_135 -->
<g id="edge135" class="edge">
<title>block_130&#45;&gt;leaf_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10392.0974,-2431.5907C10384.3195,-2386.2418 10363.869,-2267.0063 10354.2829,-2211.1152"/>
<polygon fill="#000000" stroke="#000000" points="10357.7113,-2210.3993 10352.5711,-2201.1349 10350.812,-2211.5826 10357.7113,-2210.3993"/>
</g>
<!-- leaf_136 -->
<g id="node137" class="node">
<title>leaf_136</title>
<polygon fill="none" stroke="#c0c0c0" points="10808.187,-2200.7047 10442.187,-2200.7047 10442.187,-2162.1035 10808.187,-2162.1035 10808.187,-2200.7047"/>
<text text-anchor="middle" x="10625.187" y="-2185.6041" font-family="Inconsolata" font-size="14.00" fill="#000000">This is a moderately complex state machine, which</text>
<text text-anchor="middle" x="10625.187" y="-2170.2041" font-family="Inconsolata" font-size="14.00" fill="#000000">works on a line&#45;by&#45;line basis with some lookahead.</text>
</g>
<!-- block_131&#45;&gt;leaf_136 -->
<g id="edge136" class="edge">
<title>block_131&#45;&gt;leaf_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10574.814,-2431.5907C10583.9668,-2386.1315 10608.0686,-2266.4257 10619.2869,-2210.7083"/>
<polygon fill="#000000" stroke="#000000" points="10622.7451,-2211.2641 10621.2879,-2200.7699 10615.8829,-2209.8823 10622.7451,-2211.2641"/>
</g>
<!-- leaf_137 -->
<g id="node138" class="node">
<title>leaf_137</title>
<polygon fill="none" stroke="#c0c0c0" points="11290.187,-2231.9042 10826.187,-2231.9042 10826.187,-2130.9039 11290.187,-2130.9039 11290.187,-2231.9042"/>
<text text-anchor="middle" x="11058.187" y="-2216.7042" font-family="Inconsolata" font-size="14.00" fill="#000000">First off, we have a Header at [1], and may have one or </text>
<text text-anchor="middle" x="11058.187" y="-2201.3041" font-family="Inconsolata" font-size="14.00" fill="#000000">more Sections The blocks go between the Header and the remaining</text>
<text text-anchor="middle" x="11058.187" y="-2185.9041" font-family="Inconsolata" font-size="14.00" fill="#000000">Sections, so we have to lift them and append after blocking.</text>
<text text-anchor="middle" x="11058.187" y="-2170.5041" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="11058.187" y="-2155.104" font-family="Inconsolata" font-size="14.00" fill="#000000">Next, we parse the lines, thus:</text>
</g>
<!-- block_132&#45;&gt;leaf_137 -->
<g id="edge137" class="edge">
<title>block_132&#45;&gt;leaf_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10900.538,-2431.5907C10924.7327,-2393.194 10982.3045,-2301.8286 11020.7651,-2240.7921"/>
<polygon fill="#000000" stroke="#000000" points="11023.9247,-2242.3431 11026.2947,-2232.0167 11018.0024,-2238.6113 11023.9247,-2242.3431"/>
</g>
<!-- header_138 -->
<g id="node139" class="node">
<title>header_138</title>
<ellipse fill="none" stroke="#000000" cx="11370.187" cy="-2181.4041" rx="61.9429" ry="18"/>
<text text-anchor="middle" x="11370.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Prose line</text>
</g>
<!-- section_133&#45;&gt;header_138 -->
<g id="edge138" class="edge">
<title>section_133&#45;&gt;header_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11370.187,-2431.5907C11370.187,-2385.8957 11370.187,-2265.1817 11370.187,-2209.8464"/>
<polygon fill="#000000" stroke="#000000" points="11373.6871,-2209.6927 11370.187,-2199.6927 11366.6871,-2209.6927 11373.6871,-2209.6927"/>
</g>
<!-- block_139 -->
<g id="node140" class="node">
<title>block_139</title>
<ellipse fill="none" stroke="#000000" cx="11515.187" cy="-2181.4041" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="11515.187" y="-2177.2041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 224&#45;229</text>
</g>
<!-- section_133&#45;&gt;block_139 -->
<g id="edge139" class="edge">
<title>section_133&#45;&gt;block_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11391.9029,-2432.1621C11407.3905,-2418.7724 11427.768,-2399.0883 11441.187,-2378.2045 11476.5087,-2323.2339 11498.6149,-2248.9167 11508.7172,-2209.1851"/>
<polygon fill="#000000" stroke="#000000" points="11512.1337,-2209.9487 11511.1388,-2199.4007 11505.3387,-2208.267 11512.1337,-2209.9487"/>
</g>
<!-- leaf_140 -->
<g id="node141" class="node">
<title>leaf_140</title>
<polygon fill="none" stroke="#c0c0c0" points="11350.187,-1839.4035 11296.187,-1839.4035 11296.187,-1803.4035 11350.187,-1803.4035 11350.187,-1839.4035"/>
</g>
<!-- header_138&#45;&gt;leaf_140 -->
<g id="edge140" class="edge">
<title>header_138&#45;&gt;leaf_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11367.7917,-2163.0567C11360.1229,-2104.3169 11336.1383,-1920.6049 11326.8824,-1849.7083"/>
<polygon fill="#000000" stroke="#000000" points="11330.3428,-1849.1767 11325.5776,-1839.7139 11323.4017,-1850.0829 11330.3428,-1849.1767"/>
</g>
<!-- leaf_141 -->
<g id="node142" class="node">
<title>leaf_141</title>
<polygon fill="none" stroke="#c0c0c0" points="11755.687,-1856.7038 11368.687,-1856.7038 11368.687,-1786.1031 11755.687,-1786.1031 11755.687,-1856.7038"/>
<text text-anchor="middle" x="11562.187" y="-1825.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">If preceded by at least one blank line,</text>
<text text-anchor="middle" x="11562.187" y="-1810.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">make a new block, otherwise append to existing block.</text>
</g>
<!-- block_139&#45;&gt;leaf_141 -->
<g id="edge141" class="edge">
<title>block_139&#45;&gt;leaf_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11517.5824,-2163.0567C11524.6897,-2108.6174 11545.8113,-1946.8349 11556.2341,-1867.0005"/>
<polygon fill="#000000" stroke="#000000" points="11559.747,-1867.129 11557.5711,-1856.76 11552.8059,-1866.2227 11559.747,-1867.129"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="11653.187,-2199.4041 11599.187,-2199.4041 11599.187,-2163.4041 11653.187,-2163.4041 11653.187,-2199.4041"/>
</g>
<!-- header_142&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>header_142&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11660.7019,-2431.5907C11654.398,-2385.8957 11637.7447,-2265.1817 11630.1108,-2209.8464"/>
<polygon fill="#000000" stroke="#000000" points="11633.5439,-2209.1205 11628.7101,-2199.6927 11626.6096,-2210.0772 11633.5439,-2209.1205"/>
</g>
<!-- leaf_146 -->
<g id="node147" class="node">
<title>leaf_146</title>
<polygon fill="none" stroke="#c0c0c0" points="12205.187,-2208.7045 11671.187,-2208.7045 11671.187,-2154.1037 12205.187,-2154.1037 12205.187,-2208.7045"/>
<text text-anchor="middle" x="11938.187" y="-2177.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;This is a kludgy thing we&#39;re going to do to remove &#39;blocks&#39; once they&#39;ve</text>
<text text-anchor="middle" x="11938.187" y="-2162.2041" font-family="Inconsolata" font-size="14.00" fill="#000000">become either codeblocks or prose.</text>
</g>
<!-- block_143&#45;&gt;leaf_146 -->
<g id="edge146" class="edge">
<title>block_143&#45;&gt;leaf_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11870.0901,-2431.5907C11881.8816,-2388.2692 11912.0258,-2277.5198 11927.9598,-2218.9788"/>
<polygon fill="#000000" stroke="#000000" points="11931.4199,-2219.5928 11930.6692,-2209.0246 11924.6656,-2217.7544 11931.4199,-2219.5928"/>
</g>
<!-- leaf_147 -->
<g id="node148" class="node">
<title>leaf_147</title>
<polygon fill="none" stroke="#c0c0c0" points="12540.687,-2254.5049 12223.687,-2254.5049 12223.687,-2108.3033 12540.687,-2108.3033 12540.687,-2254.5049"/>
<text text-anchor="middle" x="12382.187" y="-2239.5042" font-family="Inconsolata" font-size="14.00" fill="#000000">function Sec.weed(section)</text>
<text text-anchor="middle" x="12382.187" y="-2224.1042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i, v in ipairs(section) do</text>
<text text-anchor="middle" x="12382.187" y="-2208.7042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if v.id == &quot;block&quot; then</text>
<text text-anchor="middle" x="12382.187" y="-2193.3041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if v[1] then</text>
<text text-anchor="middle" x="12382.187" y="-2177.9041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;section[i] = v[1] &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="middle" x="12382.187" y="-2162.5041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="12382.187" y="-2147.104" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="12382.187" y="-2131.704" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="12382.187" y="-2116.304" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_144&#45;&gt;leaf_147 -->
<g id="edge147" class="edge">
<title>codeblock_144&#45;&gt;leaf_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12246.9261,-2431.5907C12265.2264,-2397.7413 12305.7826,-2322.7262 12337.7404,-2263.6152"/>
<polygon fill="#000000" stroke="#000000" points="12340.9128,-2265.1066 12342.5899,-2254.6453 12334.7551,-2261.7775 12340.9128,-2265.1066"/>
</g>
<!-- leaf_153 -->
<g id="node154" class="node">
<title>leaf_153</title>
<polygon fill="none" stroke="#c0c0c0" points="12613.187,-2199.4041 12559.187,-2199.4041 12559.187,-2163.4041 12613.187,-2163.4041 12613.187,-2199.4041"/>
</g>
<!-- header_148&#45;&gt;leaf_153 -->
<g id="edge153" class="edge">
<title>header_148&#45;&gt;leaf_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12617.9034,-2431.5907C12612.1106,-2385.8957 12596.8076,-2265.1817 12589.7927,-2209.8464"/>
<polygon fill="#000000" stroke="#000000" points="12593.2354,-2209.1731 12588.5055,-2199.6927 12586.291,-2210.0535 12593.2354,-2209.1731"/>
</g>
<!-- leaf_154 -->
<g id="node155" class="node">
<title>leaf_154</title>
<polygon fill="none" stroke="#c0c0c0" points="13067.187,-2201.3062 12631.187,-2201.3062 12631.187,-2161.502 13067.187,-2161.502 13067.187,-2201.3062"/>
<text text-anchor="middle" x="12849.187" y="-2169.9041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Creates a new section, given a header and the line number.</text>
</g>
<!-- block_149&#45;&gt;leaf_154 -->
<g id="edge154" class="edge">
<title>block_149&#45;&gt;leaf_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12926.6123,-2431.5907C12912.549,-2386.1475 12875.5248,-2266.5102 12858.2741,-2210.7674"/>
<polygon fill="#000000" stroke="#000000" points="12861.5931,-2209.6531 12855.2931,-2201.1349 12854.906,-2211.7226 12861.5931,-2209.6531"/>
</g>
<!-- leaf_155 -->
<g id="node156" class="node">
<title>leaf_155</title>
<polygon fill="none" stroke="#c0c0c0" points="13577.187,-2216.0054 13085.187,-2216.0054 13085.187,-2146.8028 13577.187,-2146.8028 13577.187,-2216.0054"/>
<text text-anchor="middle" x="13331.187" y="-2201.0042" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; header : &#160;Header for the section, which may be of type Header or </text>
<text text-anchor="middle" x="13331.187" y="-2185.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;a number. &#160;A number means the header is virtual.</text>
<text text-anchor="middle" x="13331.187" y="-2170.2041" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; linum &#160;: &#160;The line number of the header, which is the first of the</text>
<text text-anchor="middle" x="13331.187" y="-2154.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Section.</text>
</g>
<!-- block_150&#45;&gt;leaf_155 -->
<g id="edge155" class="edge">
<title>block_150&#45;&gt;leaf_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13252.8289,-2431.5907C13265.8958,-2389.8699 13298.5493,-2285.612 13317.3212,-2225.6757"/>
<polygon fill="#000000" stroke="#000000" points="13320.6726,-2226.6853 13320.3215,-2216.0963 13313.9926,-2224.5931 13320.6726,-2226.6853"/>
</g>
<!-- leaf_156 -->
<g id="node157" class="node">
<title>leaf_156</title>
<polygon fill="none" stroke="#c0c0c0" points="13807.187,-2199.4041 13595.187,-2199.4041 13595.187,-2163.4041 13807.187,-2163.4041 13807.187,-2199.4041"/>
<text text-anchor="middle" x="13701.187" y="-2177.9041" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; return : &#160;The new Section.</text>
</g>
<!-- block_151&#45;&gt;leaf_156 -->
<g id="edge156" class="edge">
<title>block_151&#45;&gt;leaf_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13597.6424,-2431.5907C13616.633,-2385.7053 13666.9309,-2264.1745 13689.7005,-2209.1582"/>
<polygon fill="#000000" stroke="#000000" points="13693.0277,-2210.2711 13693.6179,-2199.6927 13686.5598,-2207.5942 13693.0277,-2210.2711"/>
</g>
<!-- leaf_157 -->
<g id="node158" class="node">
<title>leaf_157</title>
<polygon fill="none" stroke="#c0c0c0" points="14317.187,-2378.005 13825.187,-2378.005 13825.187,-1984.8031 14317.187,-1984.8031 14317.187,-2378.005"/>
<text text-anchor="middle" x="14071.187" y="-2363.0045" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Section, header, linum, first, last, str)</text>
<text text-anchor="middle" x="14071.187" y="-2347.6044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(type(first) == &quot;number&quot;)</text>
<text text-anchor="middle" x="14071.187" y="-2332.2044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(type(last) == &quot;number&quot;, &quot;type of last is &quot; .. type(last))</text>
<text text-anchor="middle" x="14071.187" y="-2316.8044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local section = setmetatable({}, Sec)</text>
<text text-anchor="middle" x="14071.187" y="-2301.4043" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if type(header) == &quot;number&quot; then</text>
<text text-anchor="middle" x="14071.187" y="-2286.0043" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; We have a virtual header</text>
<text text-anchor="middle" x="14071.187" y="-2270.6043" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[1] = Header(&quot;&quot;, header)</text>
<text text-anchor="middle" x="14071.187" y="-2255.2042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.header = nil</text>
<text text-anchor="middle" x="14071.187" y="-2239.8042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.level = header</text>
<text text-anchor="middle" x="14071.187" y="-2224.4042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="14071.187" y="-2209.0042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section[1] = header</text>
<text text-anchor="middle" x="14071.187" y="-2193.6041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.header = header</text>
<text text-anchor="middle" x="14071.187" y="-2178.2041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;section.level = header.level</text>
<text text-anchor="middle" x="14071.187" y="-2162.8041" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="14071.187" y="-2147.404" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.str = str</text>
<text text-anchor="middle" x="14071.187" y="-2132.004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.first = first</text>
<text text-anchor="middle" x="14071.187" y="-2116.604" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.last = last</text>
<text text-anchor="middle" x="14071.187" y="-2101.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.line_first = linum</text>
<text text-anchor="middle" x="14071.187" y="-2085.8039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.line_last = &#45;1 &#160;</text>
<text text-anchor="middle" x="14071.187" y="-2070.4039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;section.lines = {}</text>
<text text-anchor="middle" x="14071.187" y="-2055.0038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;Sec.check(section)</text>
<text text-anchor="middle" x="14071.187" y="-2039.6038" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return section</text>
<text text-anchor="middle" x="14071.187" y="-2024.2038" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="14071.187" y="-1992.8037" font-family="Inconsolata" font-size="14.00" fill="#000000">return u.export(sec, new)</text>
</g>
<!-- codeblock_152&#45;&gt;leaf_157 -->
<g id="edge157" class="edge">
<title>codeblock_152&#45;&gt;leaf_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13964.8439,-2431.5907C13969.5202,-2420.589 13976.0449,-2405.2387 13983.5852,-2387.4993"/>
<polygon fill="#000000" stroke="#000000" points="13986.9256,-2388.5875 13987.6164,-2378.0153 13980.4834,-2385.8492 13986.9256,-2388.5875"/>
</g>
</g>
</svg>