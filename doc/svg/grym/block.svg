<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="5756pt" height="1182pt"
 viewBox="0.00 0.00 5755.50 1181.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1177.6014)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1177.6014 5751.5,-1177.6014 5751.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="2360.5" cy="-1155.6014" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="2360.5" y="-1151.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 180</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="2360.5" cy="-1083.6014" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2360.5" y="-1079.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;126</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2360.5,-1137.4327C2360.5,-1129.7323 2360.5,-1120.5757 2360.5,-1112.018"/>
<polygon fill="#000000" stroke="#000000" points="2364.0001,-1112.0146 2360.5,-1102.0146 2357.0001,-1112.0147 2364.0001,-1112.0146"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1947.5" cy="-1011.6014" rx="75.4657" ry="18"/>
<text text-anchor="middle" x="1947.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Block module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2302.8875,-1074.9289C2237.2758,-1064.8638 2126.9328,-1047.364 2032.5,-1029.6014 2026.2738,-1028.4302 2019.8027,-1027.1589 2013.3346,-1025.8517"/>
<polygon fill="#000000" stroke="#000000" points="2013.7076,-1022.3555 2003.2086,-1023.7774 2012.3027,-1029.2131 2013.7076,-1022.3555"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="2073.5" cy="-1011.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2073.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2303.4736,-1074.3856C2253.0628,-1065.4628 2177.9023,-1050.2531 2114.5,-1029.6014 2112.2548,-1028.8701 2109.9652,-1028.0589 2107.6733,-1027.1971"/>
<polygon fill="#000000" stroke="#000000" points="2108.9305,-1023.9303 2098.3468,-1023.4442 2106.3174,-1030.4243 2108.9305,-1023.9303"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="2155.5" cy="-1011.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2155.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2316.2453,-1070.2902C2283.0098,-1059.99 2236.5282,-1044.9378 2196.5,-1029.6014 2194.295,-1028.7565 2192.0361,-1027.8588 2189.767,-1026.9326"/>
<polygon fill="#000000" stroke="#000000" points="2191.069,-1023.6832 2180.4945,-1023.0272 2188.3519,-1030.1344 2191.069,-1023.6832"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="2237.5" cy="-1011.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2237.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2332.5894,-1067.2635C2313.6209,-1056.1599 2288.5028,-1041.4567 2268.8461,-1029.9503"/>
<polygon fill="#000000" stroke="#000000" points="2270.3623,-1026.7823 2259.964,-1024.751 2266.826,-1032.8234 2270.3623,-1026.7823"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="2319.5" cy="-1011.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2319.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2350.3652,-1065.8036C2345.5632,-1057.3709 2339.7315,-1047.1299 2334.4358,-1037.8302"/>
<polygon fill="#000000" stroke="#000000" points="2337.3667,-1035.9039 2329.3768,-1028.946 2331.2838,-1039.3678 2337.3667,-1035.9039"/>
</g>
<!-- prose_7 -->
<g id="node8" class="node">
<title>prose_7</title>
<ellipse fill="none" stroke="#000000" cx="2401.5" cy="-1011.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2401.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;prose_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2370.6348,-1065.8036C2375.4368,-1057.3709 2381.2685,-1047.1299 2386.5642,-1037.8302"/>
<polygon fill="#000000" stroke="#000000" points="2389.7162,-1039.3678 2391.6232,-1028.946 2383.6333,-1035.9039 2389.7162,-1039.3678"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="2733.5" cy="-1011.6014" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2733.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 33&#45;50</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2414.339,-1073.2088C2481.9716,-1060.1538 2597.8631,-1037.7833 2669.8244,-1023.8926"/>
<polygon fill="#000000" stroke="#000000" points="2670.5219,-1027.3227 2679.6773,-1021.9907 2669.1951,-1020.4496 2670.5219,-1027.3227"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="3218.5" cy="-1011.6014" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3218.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 51&#45;75</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2423.5908,-1078.307C2579.102,-1065.2572 2980.1511,-1031.6027 3145.5333,-1017.7245"/>
<polygon fill="#000000" stroke="#000000" points="3145.9346,-1021.2032 3155.6069,-1016.8791 3145.3492,-1014.2277 3145.9346,-1021.2032"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="3890.5" cy="-1011.6014" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3890.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 76&#45;91</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2425.2649,-1080.5536C2671.9458,-1068.9451 3552.0845,-1027.5268 3815.4948,-1015.131"/>
<polygon fill="#000000" stroke="#000000" points="3815.8945,-1018.6162 3825.7189,-1014.6499 3815.5654,-1011.6239 3815.8945,-1018.6162"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="4964.5" cy="-1011.6014" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4964.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 127&#45;180</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2425.8445,-1081.7946C2781.0439,-1071.9734 4478.3505,-1025.0433 4879.424,-1013.9537"/>
<polygon fill="#000000" stroke="#000000" points="4879.6041,-1017.4502 4889.5035,-1013.675 4879.4105,-1010.4528 4879.6041,-1017.4502"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="1974.5,-957.6014 1920.5,-957.6014 1920.5,-921.6014 1974.5,-921.6014 1974.5,-957.6014"/>
</g>
<!-- header_2&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>header_2&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1947.5,-993.4327C1947.5,-985.7323 1947.5,-976.5757 1947.5,-968.018"/>
<polygon fill="#000000" stroke="#000000" points="1951.0001,-968.0146 1947.5,-958.0146 1944.0001,-968.0147 1951.0001,-968.0146"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="2035.5" cy="-939.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="2035.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2064.3013,-994.1722C2059.8203,-985.682 2054.3379,-975.2942 2049.3634,-965.8688"/>
<polygon fill="#000000" stroke="#000000" points="2052.377,-964.0802 2044.614,-956.8701 2046.1863,-967.3476 2052.377,-964.0802"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="2123.5" cy="-939.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="2123.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2147.5899,-993.8036C2143.881,-985.4587 2139.3852,-975.3431 2135.2865,-966.1211"/>
<polygon fill="#000000" stroke="#000000" points="2138.4685,-964.6626 2131.2087,-956.946 2132.0718,-967.5056 2138.4685,-964.6626"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="2216.5" cy="-939.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="2216.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_5&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2232.309,-993.8036C2229.9616,-985.7554 2227.1338,-976.0602 2224.5228,-967.108"/>
<polygon fill="#000000" stroke="#000000" points="2227.8641,-966.0639 2221.7041,-957.4439 2221.1441,-968.0239 2227.8641,-966.0639"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="2304.5" cy="-939.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="2304.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_6&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2315.7149,-993.4327C2314.068,-985.5279 2312.1015,-976.0886 2310.2784,-967.3379"/>
<polygon fill="#000000" stroke="#000000" points="2313.698,-966.5907 2308.232,-957.5148 2306.8452,-968.0185 2313.698,-966.5907"/>
</g>
<!-- raw_21 -->
<g id="node22" class="node">
<title>raw_21</title>
<ellipse fill="none" stroke="#000000" cx="2401.5" cy="-939.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="2401.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_7&#45;&gt;raw_21 -->
<g id="edge21" class="edge">
<title>prose_7&#45;&gt;raw_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2401.5,-993.4327C2401.5,-985.7323 2401.5,-976.5757 2401.5,-968.018"/>
<polygon fill="#000000" stroke="#000000" points="2405.0001,-968.0146 2401.5,-958.0146 2398.0001,-968.0147 2405.0001,-968.0146"/>
</g>
<!-- header_23 -->
<g id="node24" class="node">
<title>header_23</title>
<ellipse fill="none" stroke="#000000" cx="2680.5" cy="-939.6014" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="2680.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : includes</text>
</g>
<!-- section_8&#45;&gt;header_23 -->
<g id="edge23" class="edge">
<title>section_8&#45;&gt;header_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2720.3989,-993.8036C2714.1091,-985.259 2706.4526,-974.8578 2699.5351,-965.4604"/>
<polygon fill="#000000" stroke="#000000" points="2702.1973,-963.1729 2693.4504,-957.1944 2696.56,-967.3227 2702.1973,-963.1729"/>
</g>
<!-- prose_24 -->
<g id="node25" class="node">
<title>prose_24</title>
<ellipse fill="none" stroke="#000000" cx="2785.5" cy="-939.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2785.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_24 -->
<g id="edge24" class="edge">
<title>section_8&#45;&gt;prose_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2746.3539,-993.8036C2752.6172,-985.1314 2760.2616,-974.5469 2767.1274,-965.0403"/>
<polygon fill="#000000" stroke="#000000" points="2770.1344,-966.8546 2773.152,-956.6986 2764.4597,-962.7562 2770.1344,-966.8546"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="2932.5" cy="-939.6014" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2932.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 35&#45;48</text>
</g>
<!-- section_8&#45;&gt;codeblock_25 -->
<g id="edge25" class="edge">
<title>section_8&#45;&gt;codeblock_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2773.2923,-997.2041C2804.1593,-986.0362 2847.1914,-970.4668 2880.7365,-958.3299"/>
<polygon fill="#000000" stroke="#000000" points="2882.1597,-961.5371 2890.3723,-954.8436 2879.778,-954.9547 2882.1597,-961.5371"/>
</g>
<!-- header_30 -->
<g id="node31" class="node">
<title>header_30</title>
<ellipse fill="none" stroke="#000000" cx="3141.5" cy="-939.6014" rx="102.5283" ry="18"/>
<text text-anchor="middle" x="3141.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Metatable for Blocks</text>
</g>
<!-- section_9&#45;&gt;header_30 -->
<g id="edge30" class="edge">
<title>section_9&#45;&gt;header_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3199.8604,-994.1722C3190.2619,-985.1969 3178.3954,-974.1009 3167.8743,-964.2631"/>
<polygon fill="#000000" stroke="#000000" points="3170.1976,-961.6437 3160.5028,-957.3703 3165.4166,-966.7567 3170.1976,-961.6437"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="3294.5" cy="-939.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3294.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>section_9&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3236.8975,-994.1722C3247.0077,-984.5941 3259.6672,-972.6009 3270.5415,-962.2989"/>
<polygon fill="#000000" stroke="#000000" points="3273.2298,-964.5734 3278.0822,-955.155 3268.4156,-959.4917 3273.2298,-964.5734"/>
</g>
<!-- codeblock_32 -->
<g id="node33" class="node">
<title>codeblock_32</title>
<ellipse fill="none" stroke="#000000" cx="3434.5" cy="-939.6014" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3434.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 53&#45;73</text>
</g>
<!-- section_9&#45;&gt;codeblock_32 -->
<g id="edge32" class="edge">
<title>section_9&#45;&gt;codeblock_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3260.4031,-997.6337C3294.6395,-986.2215 3343.2747,-970.0098 3380.442,-957.6207"/>
<polygon fill="#000000" stroke="#000000" points="3381.7328,-960.8798 3390.1128,-954.3971 3379.5192,-954.2391 3381.7328,-960.8798"/>
</g>
<!-- header_37 -->
<g id="node38" class="node">
<title>header_37</title>
<ellipse fill="none" stroke="#000000" cx="3699.5" cy="-939.6014" rx="140.2419" ry="18"/>
<text text-anchor="middle" x="3699.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Parse the prose within a block</text>
</g>
<!-- section_10&#45;&gt;header_37 -->
<g id="edge37" class="edge">
<title>section_10&#45;&gt;header_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3851.8483,-997.0311C3823.793,-986.4553 3785.4464,-972 3754.2444,-960.238"/>
<polygon fill="#000000" stroke="#000000" points="3755.4016,-956.9338 3744.8097,-956.6815 3752.9324,-963.4839 3755.4016,-956.9338"/>
</g>
<!-- prose_38 -->
<g id="node39" class="node">
<title>prose_38</title>
<ellipse fill="none" stroke="#000000" cx="3890.5" cy="-939.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3890.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_38 -->
<g id="edge38" class="edge">
<title>section_10&#45;&gt;prose_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3890.5,-993.4327C3890.5,-985.7323 3890.5,-976.5757 3890.5,-968.018"/>
<polygon fill="#000000" stroke="#000000" points="3894.0001,-968.0146 3890.5,-958.0146 3887.0001,-968.0147 3894.0001,-968.0146"/>
</g>
<!-- codeblock_39 -->
<g id="node40" class="node">
<title>codeblock_39</title>
<ellipse fill="none" stroke="#000000" cx="4018.5" cy="-939.6014" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4018.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 78&#45;90</text>
</g>
<!-- section_10&#45;&gt;codeblock_39 -->
<g id="edge39" class="edge">
<title>section_10&#45;&gt;codeblock_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3919.5452,-995.2635C3937.3745,-985.2345 3960.4246,-972.2688 3979.7922,-961.3745"/>
<polygon fill="#000000" stroke="#000000" points="3981.6817,-964.3275 3988.6815,-956.3743 3978.2498,-958.2264 3981.6817,-964.3275"/>
</g>
<!-- section_40 -->
<g id="node41" class="node">
<title>section_40</title>
<ellipse fill="none" stroke="#000000" cx="4294.5" cy="-939.6014" rx="70.655" ry="18"/>
<text text-anchor="middle" x="4294.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 92&#45;126</text>
</g>
<!-- section_10&#45;&gt;section_40 -->
<g id="edge40" class="edge">
<title>section_10&#45;&gt;section_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3945.8274,-1001.741C4018.8344,-988.7299 4147.2999,-965.835 4226.2525,-951.7643"/>
<polygon fill="#000000" stroke="#000000" points="4227.3473,-955.1244 4236.578,-949.9241 4226.1191,-948.233 4227.3473,-955.1244"/>
</g>
<!-- header_52 -->
<g id="node53" class="node">
<title>header_52</title>
<ellipse fill="none" stroke="#000000" cx="4681.5" cy="-939.6014" rx="99.6298" ry="18"/>
<text text-anchor="middle" x="4681.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Constructor/module</text>
</g>
<!-- section_11&#45;&gt;header_52 -->
<g id="edge52" class="edge">
<title>section_11&#45;&gt;header_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4912.5934,-998.3955C4866.6673,-986.7111 4799.3502,-969.5845 4749.2037,-956.8263"/>
<polygon fill="#000000" stroke="#000000" points="4749.969,-953.4096 4739.4148,-954.3359 4748.243,-960.1935 4749.969,-953.4096"/>
</g>
<!-- prose_53 -->
<g id="node54" class="node">
<title>prose_53</title>
<ellipse fill="none" stroke="#000000" cx="4882.5" cy="-939.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4882.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_53 -->
<g id="edge53" class="edge">
<title>section_11&#45;&gt;prose_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4944.6501,-994.1722C4933.5588,-984.4335 4919.6239,-972.1979 4907.7613,-961.782"/>
<polygon fill="#000000" stroke="#000000" points="4909.764,-958.8828 4899.9403,-954.9148 4905.1454,-964.1429 4909.764,-958.8828"/>
</g>
<!-- codeblock_54 -->
<g id="node55" class="node">
<title>codeblock_54</title>
<ellipse fill="none" stroke="#000000" cx="5046.5" cy="-939.6014" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5046.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 129&#45;151</text>
</g>
<!-- section_11&#45;&gt;codeblock_54 -->
<g id="edge54" class="edge">
<title>section_11&#45;&gt;codeblock_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4984.3499,-994.1722C4994.671,-985.1098 5007.4544,-973.8853 5018.739,-963.9769"/>
<polygon fill="#000000" stroke="#000000" points="5021.0581,-966.5983 5026.2632,-957.3703 5016.4395,-961.3382 5021.0581,-966.5983"/>
</g>
<!-- prose_55 -->
<g id="node56" class="node">
<title>prose_55</title>
<ellipse fill="none" stroke="#000000" cx="5287.5" cy="-939.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5287.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_55 -->
<g id="edge55" class="edge">
<title>section_11&#45;&gt;prose_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5019.6587,-999.3059C5084.4193,-984.8701 5190.2473,-961.28 5247.5712,-948.5019"/>
<polygon fill="#000000" stroke="#000000" points="5248.3537,-951.9135 5257.3527,-946.3215 5246.8307,-945.0811 5248.3537,-951.9135"/>
</g>
<!-- codeblock_56 -->
<g id="node57" class="node">
<title>codeblock_56</title>
<ellipse fill="none" stroke="#000000" cx="5511.5" cy="-939.6014" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5511.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 163&#45;179</text>
</g>
<!-- section_11&#45;&gt;codeblock_56 -->
<g id="edge56" class="edge">
<title>section_11&#45;&gt;codeblock_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5030.7533,-1002.8806C5130.3262,-989.7742 5318.4812,-965.0079 5427.5359,-950.6533"/>
<polygon fill="#000000" stroke="#000000" points="5428.0554,-954.1152 5437.5131,-949.3401 5427.1418,-947.1751 5428.0554,-954.1152"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="499,-762.5014 0,-762.5014 0,-676.1008 499,-676.1008 499,-762.5014"/>
<text text-anchor="middle" x="249.5" y="-715.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;A Block is the container for the next level of granularity below</text>
<text text-anchor="middle" x="249.5" y="-699.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> a Section. Any Section has a Header and one or more Blocks. Both the</text>
<text text-anchor="middle" x="249.5" y="-684.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> Header and the Block may be virtual, that is, without contents.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2012.6136,-929.9688C2003.6923,-926.6706 1993.2771,-923.3685 1983.5,-921.6014 1822.067,-892.4231 664.2958,-933.841 507.5,-885.6014 431.0265,-862.0736 355.5104,-808.9409 306.1334,-769.0222"/>
<polygon fill="#000000" stroke="#000000" points="308.0924,-766.1031 298.1343,-762.4857 303.663,-771.5236 308.0924,-766.1031"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1016,-754.6014 517,-754.6014 517,-684.0007 1016,-684.0007 1016,-754.6014"/>
<text text-anchor="middle" x="766.5" y="-723.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> The most general premise is that Blocks are delineated by blank line</text>
<text text-anchor="middle" x="766.5" y="-708.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> whitespace. </text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2100.6041,-930.0204C2091.6817,-926.7285 2081.2681,-923.4173 2071.5,-921.6014 1842.6174,-879.0508 1246.6669,-955.1691 1024.5,-885.6014 943.3275,-860.1836 863.0801,-801.8133 814.1595,-761.4627"/>
<polygon fill="#000000" stroke="#000000" points="816.2084,-758.6141 806.2858,-754.9001 811.7266,-763.9913 816.2084,-758.6141"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1575,-754.5015 1034,-754.5015 1034,-684.1007 1575,-684.1007 1575,-754.5015"/>
<text text-anchor="middle" x="1304.5" y="-723.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> A paragraph of prose is the simplest block, and the default. &#160;A list with</text>
<text text-anchor="middle" x="1304.5" y="-707.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> a tag line is a block also, as is a table. &#160;Most importantly for our short</text>
<text text-anchor="middle" x="1304.5" y="-692.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> path, code blocks are enclosed in blocks as well.</text>
</g>
<!-- raw_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2192.9783,-930.7551C2182.8244,-927.3089 2170.7223,-923.6916 2159.5,-921.6014 1907.3373,-874.6338 1828.5458,-961.3942 1583.5,-885.6014 1497.3364,-858.9509 1409.9319,-800.6867 1356.471,-760.7148"/>
<polygon fill="#000000" stroke="#000000" points="1358.2782,-757.6939 1348.1876,-754.4643 1354.0618,-763.2816 1358.2782,-757.6939"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="2134,-823.6015 1593,-823.6015 1593,-615.0006 2134,-615.0006 2134,-823.6015"/>
<text text-anchor="middle" x="1863.5" y="-792.5013" font-family="Inconsolata" font-size="14.00" fill="#000000"> Blocking needs to identify when it has structure, and when prose, on a </text>
<text text-anchor="middle" x="1863.5" y="-777.1012" font-family="Inconsolata" font-size="14.00" fill="#000000"> line&#45;by&#45;line basis. &#160;It must also apply the cling rule to make sure that</text>
<text text-anchor="middle" x="1863.5" y="-761.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> e.g. tags are part of the block indicated by whitespacing. </text>
<text text-anchor="middle" x="1863.5" y="-746.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="1863.5" y="-730.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> Blocking need not, and mostly should not, parse within structure or prose.</text>
<text text-anchor="middle" x="1863.5" y="-715.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> These categories are determined by the beginning of a line, making this</text>
<text text-anchor="middle" x="1863.5" y="-700.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> tractable. </text>
<text text-anchor="middle" x="1863.5" y="-684.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="1863.5" y="-669.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> The cling rule requires lookahead. LPEG is quite capable of this, as is </text>
<text text-anchor="middle" x="1863.5" y="-653.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> packrat PEG parsing generally. &#160;In the bootstrap implementation, we will</text>
<text text-anchor="middle" x="1863.5" y="-638.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> parse once for ownership, again (in the `lines` array of each Section) for</text>
<text text-anchor="middle" x="1863.5" y="-623.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> blocking, and a final time to parse within blocks. </text>
</g>
<!-- raw_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2280.4524,-931.182C2271.6675,-928.1314 2261.6445,-924.6802 2252.5,-921.6014 2203.7485,-905.1874 2189.3239,-906.9004 2142.5,-885.6014 2106.4196,-869.1893 2069.118,-849.2519 2033.9861,-828.9625"/>
<polygon fill="#000000" stroke="#000000" points="2035.5074,-825.7985 2025.1031,-823.7985 2031.9894,-831.8502 2035.5074,-825.7985"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="2651,-762.5014 2152,-762.5014 2152,-676.1008 2651,-676.1008 2651,-762.5014"/>
<text text-anchor="middle" x="2401.5" y="-731.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> Grimoire is intended to work, in linear time, as a single&#45;pass PEG</text>
<text text-anchor="middle" x="2401.5" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> grammar. &#160;Presently (Feb 2018) I&#39;m intending to prototype that with </text>
<text text-anchor="middle" x="2401.5" y="-700.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> PEGylator and port it to `hammer` with a `quipu` back&#45;end. </text>
</g>
<!-- raw_21&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>raw_21&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2401.5,-921.5733C2401.5,-889.5013 2401.5,-821.3702 2401.5,-773.0582"/>
<polygon fill="#000000" stroke="#000000" points="2405.0001,-772.7657 2401.5,-762.7657 2398.0001,-772.7658 2405.0001,-772.7657"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="2723.5,-737.3011 2669.5,-737.3011 2669.5,-701.3011 2723.5,-701.3011 2723.5,-737.3011"/>
</g>
<!-- header_23&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>header_23&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2681.8093,-921.5733C2684.587,-883.3289 2691.0885,-793.8106 2694.4327,-747.7654"/>
<polygon fill="#000000" stroke="#000000" points="2697.9389,-747.8056 2695.1726,-737.5783 2690.9573,-747.2984 2697.9389,-747.8056"/>
</g>
<!-- raw_27 -->
<g id="node28" class="node">
<title>raw_27</title>
<ellipse fill="none" stroke="#000000" cx="2768.5" cy="-719.3011" rx="27" ry="18"/>
<text text-anchor="middle" x="2768.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_27 -->
<g id="edge27" class="edge">
<title>prose_24&#45;&gt;raw_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2784.1088,-921.5733C2781.1576,-883.3289 2774.2497,-793.8106 2770.6965,-747.7654"/>
<polygon fill="#000000" stroke="#000000" points="2774.1695,-747.2793 2769.9104,-737.5783 2767.1903,-747.818 2774.1695,-747.2793"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="3123.5,-816.4018 2813.5,-816.4018 2813.5,-622.2004 3123.5,-622.2004 3123.5,-816.4018"/>
<text text-anchor="middle" x="2968.5" y="-801.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="2968.5" y="-770.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="2968.5" y="-754.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local Codeblock = require &quot;grym/codeblock&quot;</text>
<text text-anchor="middle" x="2968.5" y="-739.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">local Structure = require &quot;grym/structure&quot;</text>
<text text-anchor="middle" x="2968.5" y="-723.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">local Prose = require &quot;grym/prose&quot;</text>
<text text-anchor="middle" x="2968.5" y="-692.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;status&quot;</text>
<text text-anchor="middle" x="2968.5" y="-661.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="2968.5" y="-645.601" font-family="Inconsolata" font-size="14.00" fill="#000000">local util = require &quot;../lib/util&quot;</text>
<text text-anchor="middle" x="2968.5" y="-630.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local freeze = util.freeze</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>codeblock_25&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2935.446,-921.5733C2938.9074,-900.3919 2944.9388,-863.4824 2950.9101,-826.9415"/>
<polygon fill="#000000" stroke="#000000" points="2954.4319,-827.0918 2952.5905,-816.6582 2947.5235,-825.9628 2954.4319,-827.0918"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="2795.5,-329.9004 2741.5,-329.9004 2741.5,-293.9004 2795.5,-293.9004 2795.5,-329.9004"/>
</g>
<!-- raw_27&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>raw_27&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2768.5,-701.2699C2768.5,-636.9981 2768.5,-418.7723 2768.5,-340.3003"/>
<polygon fill="#000000" stroke="#000000" points="2772.0001,-340.1856 2768.5,-330.1856 2765.0001,-340.1856 2772.0001,-340.1856"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="3195.5,-737.3011 3141.5,-737.3011 3141.5,-701.3011 3195.5,-701.3011 3195.5,-737.3011"/>
</g>
<!-- header_30&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>header_30&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3143.7095,-921.5733C3148.3967,-883.3289 3159.3681,-793.8106 3165.0114,-747.7654"/>
<polygon fill="#000000" stroke="#000000" points="3168.5174,-747.9298 3166.2599,-737.5783 3161.5694,-747.0782 3168.5174,-747.9298"/>
</g>
<!-- raw_34 -->
<g id="node35" class="node">
<title>raw_34</title>
<ellipse fill="none" stroke="#000000" cx="3240.5" cy="-719.3011" rx="27" ry="18"/>
<text text-anchor="middle" x="3240.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_31&#45;&gt;raw_34 -->
<g id="edge34" class="edge">
<title>prose_31&#45;&gt;raw_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3288.0073,-921.7509C3284.343,-911.3007 3279.843,-897.8007 3276.5,-885.6014 3263.3262,-837.5279 3251.8785,-780.5777 3245.6049,-747.3386"/>
<polygon fill="#000000" stroke="#000000" points="3249.0294,-746.6094 3243.7542,-737.4211 3242.1482,-747.8935 3249.0294,-746.6094"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="3701,-870.7018 3286,-870.7018 3286,-567.9003 3701,-567.9003 3701,-870.7018"/>
<text text-anchor="middle" x="3493.5" y="-855.3013" font-family="Inconsolata" font-size="14.00" fill="#000000">local B = setmetatable({}, { __index = Node })</text>
<text text-anchor="middle" x="3493.5" y="-839.9013" font-family="Inconsolata" font-size="14.00" fill="#000000">B.__index = B</text>
<text text-anchor="middle" x="3493.5" y="-808.5013" font-family="Inconsolata" font-size="14.00" fill="#000000">B.__tostring = function(block) </text>
<text text-anchor="middle" x="3493.5" y="-793.1012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;Block&quot;</text>
<text text-anchor="middle" x="3493.5" y="-777.7012" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3493.5" y="-746.3012" font-family="Inconsolata" font-size="14.00" fill="#000000">function B.addLine(block, line)</text>
<text text-anchor="middle" x="3493.5" y="-730.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if L.match(m.tagline_hash_p, line) then</text>
<text text-anchor="middle" x="3493.5" y="-715.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = Structure(line, &quot;hashline&quot;)</text>
<text text-anchor="middle" x="3493.5" y="-700.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif L.match(m.tagline_handle_p, line) then</text>
<text text-anchor="middle" x="3493.5" y="-684.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = Structure(line, &quot;handleline&quot;)</text>
<text text-anchor="middle" x="3493.5" y="-669.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Eventually Blocks won&#39;t have lines, meantime:</text>
<text text-anchor="middle" x="3493.5" y="-653.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3493.5" y="-638.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;block.lines[#block.lines + 1] = line</text>
<text text-anchor="middle" x="3493.5" y="-623.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3493.5" y="-591.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return block</text>
<text text-anchor="middle" x="3493.5" y="-576.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_32&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>codeblock_32&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3439.3282,-921.5733C3442.135,-911.0932 3445.9729,-896.7627 3450.3198,-880.5317"/>
<polygon fill="#000000" stroke="#000000" points="3453.7279,-881.3352 3452.9341,-870.7702 3446.9662,-879.5243 3453.7279,-881.3352"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="3267.5,-329.9004 3213.5,-329.9004 3213.5,-293.9004 3267.5,-293.9004 3267.5,-329.9004"/>
</g>
<!-- raw_34&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>raw_34&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3240.5,-701.2699C3240.5,-636.9981 3240.5,-418.7723 3240.5,-340.3003"/>
<polygon fill="#000000" stroke="#000000" points="3244.0001,-340.1856 3240.5,-330.1856 3237.0001,-340.1856 3244.0001,-340.1856"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="3773.5,-737.3011 3719.5,-737.3011 3719.5,-701.3011 3773.5,-701.3011 3773.5,-737.3011"/>
</g>
<!-- header_37&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>header_37&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3703.3462,-921.5733C3711.5227,-883.2483 3730.6844,-793.4327 3740.4893,-747.4746"/>
<polygon fill="#000000" stroke="#000000" points="3743.937,-748.0885 3742.6006,-737.5783 3737.0911,-746.6279 3743.937,-748.0885"/>
</g>
<!-- raw_42 -->
<g id="node43" class="node">
<title>raw_42</title>
<ellipse fill="none" stroke="#000000" cx="3818.5" cy="-719.3011" rx="27" ry="18"/>
<text text-anchor="middle" x="3818.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_38&#45;&gt;raw_42 -->
<g id="edge42" class="edge">
<title>prose_38&#45;&gt;raw_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3877.073,-923.0364C3869.4062,-912.8037 3860.212,-899.0893 3854.5,-885.6014 3834.9579,-839.4564 3825.5071,-781.443 3821.3547,-747.5536"/>
<polygon fill="#000000" stroke="#000000" points="3824.8113,-746.976 3820.1866,-737.4438 3817.8576,-747.7795 3824.8113,-746.976"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="4173.5,-808.2019 3863.5,-808.2019 3863.5,-630.4003 4173.5,-630.4003 4173.5,-808.2019"/>
<text text-anchor="middle" x="4018.5" y="-792.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">function B.parseProse(block)</text>
<text text-anchor="middle" x="4018.5" y="-777.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if block[1] then</text>
<text text-anchor="middle" x="4018.5" y="-762.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if block[1].id == &quot;codeblock&quot; then</text>
<text text-anchor="middle" x="4018.5" y="-746.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &quot;&quot;</text>
<text text-anchor="middle" x="4018.5" y="-731.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4018.5" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4018.5" y="-700.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;block[1] = Prose(block)</text>
<text text-anchor="middle" x="4018.5" y="-685.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;block.lines = nil</text>
<text text-anchor="middle" x="4018.5" y="-669.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return block[1]</text>
<text text-anchor="middle" x="4018.5" y="-654.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4018.5" y="-638.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_39&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>codeblock_39&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4018.5,-921.5733C4018.5,-898.792 4018.5,-857.8172 4018.5,-818.6749"/>
<polygon fill="#000000" stroke="#000000" points="4022.0001,-818.2396 4018.5,-808.2396 4015.0001,-818.2397 4022.0001,-818.2396"/>
</g>
<!-- header_45 -->
<g id="node46" class="node">
<title>header_45</title>
<ellipse fill="none" stroke="#000000" cx="4243.5" cy="-719.3011" rx="51.9763" ry="18"/>
<text text-anchor="middle" x="4243.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : toValue</text>
</g>
<!-- section_40&#45;&gt;header_45 -->
<g id="edge45" class="edge">
<title>section_40&#45;&gt;header_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4290.3265,-921.5733C4281.4321,-883.1529 4260.5581,-792.9855 4249.943,-747.1324"/>
<polygon fill="#000000" stroke="#000000" points="4253.325,-746.2223 4247.6597,-737.2693 4246.5053,-747.8011 4253.325,-746.2223"/>
</g>
<!-- prose_46 -->
<g id="node47" class="node">
<title>prose_46</title>
<ellipse fill="none" stroke="#000000" cx="4345.5" cy="-719.3011" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4345.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_40&#45;&gt;prose_46 -->
<g id="edge46" class="edge">
<title>section_40&#45;&gt;prose_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4298.6735,-921.5733C4307.5679,-883.1529 4328.4419,-792.9855 4339.057,-747.1324"/>
<polygon fill="#000000" stroke="#000000" points="4342.4947,-747.8011 4341.3403,-737.2693 4335.675,-746.2223 4342.4947,-747.8011"/>
</g>
<!-- codeblock_47 -->
<g id="node48" class="node">
<title>codeblock_47</title>
<ellipse fill="none" stroke="#000000" cx="4510.5" cy="-719.3011" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="4510.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 97&#45;124</text>
</g>
<!-- section_40&#45;&gt;codeblock_47 -->
<g id="edge47" class="edge">
<title>section_40&#45;&gt;codeblock_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4328.5702,-923.786C4346.9169,-914.2838 4369.2556,-901.0471 4386.5,-885.6014 4433.4121,-843.5823 4474.0943,-781.37 4495.1676,-746.1595"/>
<polygon fill="#000000" stroke="#000000" points="4498.2686,-747.7914 4500.3377,-737.4006 4492.2404,-744.2331 4498.2686,-747.7914"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="3845.5,-329.9004 3791.5,-329.9004 3791.5,-293.9004 3845.5,-293.9004 3845.5,-329.9004"/>
</g>
<!-- raw_42&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>raw_42&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3818.5,-701.2699C3818.5,-636.9981 3818.5,-418.7723 3818.5,-340.3003"/>
<polygon fill="#000000" stroke="#000000" points="3822.0001,-340.1856 3818.5,-330.1856 3815.0001,-340.1856 3822.0001,-340.1856"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="4255.5,-329.9004 4201.5,-329.9004 4201.5,-293.9004 4255.5,-293.9004 4255.5,-329.9004"/>
</g>
<!-- header_45&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>header_45&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4242.8361,-701.2699C4240.4697,-636.9981 4232.4349,-418.7723 4229.5456,-340.3003"/>
<polygon fill="#000000" stroke="#000000" points="4233.0389,-340.05 4229.1732,-330.1856 4226.0436,-340.3076 4233.0389,-340.05"/>
</g>
<!-- raw_49 -->
<g id="node50" class="node">
<title>raw_49</title>
<ellipse fill="none" stroke="#000000" cx="4300.5" cy="-311.9004" rx="27" ry="18"/>
<text text-anchor="middle" x="4300.5" y="-307.7004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_46&#45;&gt;raw_49 -->
<g id="edge49" class="edge">
<title>prose_46&#45;&gt;raw_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4343.5083,-701.2699C4336.4091,-636.9981 4312.3047,-418.7723 4303.6369,-340.3003"/>
<polygon fill="#000000" stroke="#000000" points="4307.0965,-339.7409 4302.5197,-330.1856 4300.1388,-340.5094 4307.0965,-339.7409"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="4711.5,-517.1012 4345.5,-517.1012 4345.5,-106.6997 4711.5,-106.6997 4711.5,-517.1012"/>
<text text-anchor="middle" x="4528.5" y="-501.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">function B.toString(block)</text>
<text text-anchor="middle" x="4528.5" y="-486.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="4528.5" y="-471.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(block.lines) do</text>
<text text-anchor="middle" x="4528.5" y="-455.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. v .. &quot;\n&quot;</text>
<text text-anchor="middle" x="4528.5" y="-440.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4528.5" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="4528.5" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4528.5" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">function B.toValue(block)</text>
<text text-anchor="middle" x="4528.5" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;block.val = block:toString()</text>
<text text-anchor="middle" x="4528.5" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return block.val</text>
<text text-anchor="middle" x="4528.5" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4528.5" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">function B.toMarkdown(block)</text>
<text text-anchor="middle" x="4528.5" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if block[1] and (block[1].id == &quot;codeblock&quot;</text>
<text text-anchor="middle" x="4528.5" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;or block[1].id == &quot;prose&quot;) then</text>
<text text-anchor="middle" x="4528.5" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return block[1]:toMarkdown()</text>
<text text-anchor="middle" x="4528.5" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4528.5" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return block:toString()</text>
<text text-anchor="middle" x="4528.5" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4528.5" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4528.5" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">function B.dotLabel(block)</text>
<text text-anchor="middle" x="4528.5" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;block &quot; .. tostring(block.line_first) </text>
<text text-anchor="middle" x="4528.5" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;&#45;&quot; .. tostring(block.line_last)</text>
<text text-anchor="middle" x="4528.5" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_47&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>codeblock_47&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4511.2967,-701.2699C4512.7084,-669.3178 4515.8012,-599.3164 4518.9808,-527.3525"/>
<polygon fill="#000000" stroke="#000000" points="4522.4849,-527.3336 4519.4298,-517.1888 4515.4918,-527.0246 4522.4849,-527.3336"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="4487,-70.7004 4114,-70.7004 4114,-.0997 4487,-.0997 4487,-70.7004"/>
<text text-anchor="middle" x="4300.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> Adds a .val field which is the union of all lines.</text>
<text text-anchor="middle" x="4300.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> Useful in visualization. </text>
</g>
<!-- raw_49&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>raw_49&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4300.5,-293.7585C4300.5,-251.0546 4300.5,-143.1306 4300.5,-81.1202"/>
<polygon fill="#000000" stroke="#000000" points="4304.0001,-80.8406 4300.5,-70.8406 4297.0001,-80.8406 4304.0001,-80.8406"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="4695.5,-737.3011 4641.5,-737.3011 4641.5,-701.3011 4695.5,-701.3011 4695.5,-737.3011"/>
</g>
<!-- header_52&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>header_52&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4680.4362,-921.5733C4678.1793,-883.3289 4672.8968,-793.8106 4670.1797,-747.7654"/>
<polygon fill="#000000" stroke="#000000" points="4673.6616,-747.3547 4669.5785,-737.5783 4666.6738,-747.7671 4673.6616,-747.3547"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="4740.5" cy="-719.3011" rx="27" ry="18"/>
<text text-anchor="middle" x="4740.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_53&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_53&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4852.7538,-932.1167C4828.5489,-924.4645 4795.4062,-910.1432 4776.5,-885.6014 4745.2951,-845.0948 4739.8301,-783.3367 4739.5632,-747.5839"/>
<polygon fill="#000000" stroke="#000000" points="4743.0643,-747.3964 4739.6245,-737.3755 4736.0644,-747.3543 4743.0643,-747.3964"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="5333.5,-885.4019 4785.5,-885.4019 4785.5,-553.2002 5333.5,-553.2002 5333.5,-885.4019"/>
<text text-anchor="middle" x="5059.5" y="-870.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">local b = {}</text>
<text text-anchor="middle" x="5059.5" y="-839.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Block, lines, linum)</text>
<text text-anchor="middle" x="5059.5" y="-823.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local block = setmetatable({}, B)</text>
<text text-anchor="middle" x="5059.5" y="-808.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;block.lines = {}</text>
<text text-anchor="middle" x="5059.5" y="-792.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;block.line_first = linum</text>
<text text-anchor="middle" x="5059.5" y="-777.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if (lines) then </text>
<text text-anchor="middle" x="5059.5" y="-762.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(lines) == &quot;string&quot; then</text>
<text text-anchor="middle" x="5059.5" y="-746.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block:addLine(lines)</text>
<text text-anchor="middle" x="5059.5" y="-731.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif type(lines) == &quot;table&quot; then</text>
<text text-anchor="middle" x="5059.5" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for _, l in ipairs(lines) do</text>
<text text-anchor="middle" x="5059.5" y="-700.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block:addLine(l)</text>
<text text-anchor="middle" x="5059.5" y="-685.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5059.5" y="-669.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5059.5" y="-654.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;freeze(&quot;Error: in block.new type of `lines` is &quot; .. type(lines))</text>
<text text-anchor="middle" x="5059.5" y="-638.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5059.5" y="-623.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5059.5" y="-592.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;block.id = &quot;block&quot;</text>
<text text-anchor="middle" x="5059.5" y="-576.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return block</text>
<text text-anchor="middle" x="5059.5" y="-561.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_54&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>codeblock_54&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5047.5638,-921.5733C5047.9777,-914.5598 5048.4933,-905.8219 5049.0762,-895.944"/>
<polygon fill="#000000" stroke="#000000" points="5052.585,-895.8965 5049.6803,-885.7077 5045.5972,-895.4841 5052.585,-895.8965"/>
</g>
<!-- raw_61 -->
<g id="node62" class="node">
<title>raw_61</title>
<ellipse fill="none" stroke="#000000" cx="5378.5" cy="-719.3011" rx="27" ry="18"/>
<text text-anchor="middle" x="5378.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_55&#45;&gt;raw_61 -->
<g id="edge61" class="edge">
<title>prose_55&#45;&gt;raw_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5307.169,-925.1973C5319.1788,-915.3633 5333.8423,-901.3041 5342.5,-885.6014 5366.8243,-841.4837 5374.7165,-782.3428 5377.2751,-747.7746"/>
<polygon fill="#000000" stroke="#000000" points="5380.7889,-747.6672 5377.9324,-737.4648 5373.8031,-747.2218 5380.7889,-747.6672"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="5747.5,-839.5016 5423.5,-839.5016 5423.5,-599.1006 5747.5,-599.1006 5747.5,-839.5016"/>
<text text-anchor="middle" x="5585.5" y="-824.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">local function structureOrProse(line)</text>
<text text-anchor="middle" x="5585.5" y="-808.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if L.match(m.tagline_p, line) then</text>
<text text-anchor="middle" x="5585.5" y="-793.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, &quot;tagline&quot;</text>
<text text-anchor="middle" x="5585.5" y="-778.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif L.match(m.listline_p, line) then</text>
<text text-anchor="middle" x="5585.5" y="-762.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, &quot;listline&quot;</text>
<text text-anchor="middle" x="5585.5" y="-747.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif L.match(m.tableline_p, line) then</text>
<text text-anchor="middle" x="5585.5" y="-731.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, &quot;tableline&quot;</text>
<text text-anchor="middle" x="5585.5" y="-716.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5585.5" y="-701.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return false, &quot;&quot;</text>
<text text-anchor="middle" x="5585.5" y="-685.601" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5585.5" y="-654.201" font-family="Inconsolata" font-size="14.00" fill="#000000">b[&quot;__call&quot;] = new</text>
<text text-anchor="middle" x="5585.5" y="-638.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">b[&quot;__index&quot;] = b</text>
<text text-anchor="middle" x="5585.5" y="-607.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">return setmetatable({}, b)</text>
</g>
<!-- codeblock_56&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>codeblock_56&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5517.5557,-921.5733C5523.2155,-904.7239 5532.2184,-877.9221 5541.8427,-849.2703"/>
<polygon fill="#000000" stroke="#000000" points="5545.26,-850.0884 5545.1265,-839.4944 5538.6244,-847.8594 5545.26,-850.0884"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="4783.5,-329.9004 4729.5,-329.9004 4729.5,-293.9004 4783.5,-293.9004 4783.5,-329.9004"/>
</g>
<!-- raw_58&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>raw_58&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4741.2081,-701.2699C4743.7323,-636.9981 4752.3028,-418.7723 4755.3846,-340.3003"/>
<polygon fill="#000000" stroke="#000000" points="4758.8867,-340.3153 4755.7819,-330.1856 4751.892,-340.0405 4758.8867,-340.3153"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="5551,-355.1007 5206,-355.1007 5206,-268.7001 5551,-268.7001 5551,-355.1007"/>
<text text-anchor="middle" x="5378.5" y="-323.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; returns: </text>
<text text-anchor="middle" x="5378.5" y="-308.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;1. true for structure, false for prose</text>
<text text-anchor="middle" x="5378.5" y="-293.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;2. id of structure line or &quot;&quot; for prose</text>
</g>
<!-- raw_61&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>raw_61&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5378.5,-701.2699C5378.5,-642.9224 5378.5,-457.6948 5378.5,-365.3323"/>
<polygon fill="#000000" stroke="#000000" points="5382.0001,-365.0799 5378.5,-355.0799 5375.0001,-365.0799 5382.0001,-365.0799"/>
</g>
</g>
</svg>