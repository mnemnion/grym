<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="7067pt" height="1182pt"
 viewBox="0.00 0.00 7066.50 1181.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1177.6014)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1177.6014 7062.5,-1177.6014 7062.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="2822.5" cy="-1155.6014" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="2822.5" y="-1151.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 180</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="2822.5" cy="-1083.6014" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2822.5" y="-1079.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;126</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2822.5,-1137.4327C2822.5,-1129.7323 2822.5,-1120.5757 2822.5,-1112.018"/>
<polygon fill="#000000" stroke="#000000" points="2826.0001,-1112.0146 2822.5,-1102.0146 2819.0001,-1112.0147 2826.0001,-1112.0146"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="1944.5" cy="-1011.6014" rx="75.4657" ry="18"/>
<text text-anchor="middle" x="1944.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Block module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2757.3269,-1081.0443C2624.6729,-1075.3934 2313.8822,-1059.8774 2054.5,-1029.6014 2041.6341,-1028.0996 2027.9759,-1026.1526 2014.8192,-1024.0958"/>
<polygon fill="#000000" stroke="#000000" points="2015.3045,-1020.629 2004.8775,-1022.5071 2014.1999,-1027.5413 2015.3045,-1020.629"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="2095.5" cy="-1011.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2095.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2757.8278,-1080.4082C2612.6828,-1072.9179 2264.717,-1053.066 2149.5,-1029.6014 2143.6688,-1028.4138 2137.593,-1026.789 2131.7103,-1024.9983"/>
<polygon fill="#000000" stroke="#000000" points="2132.6616,-1021.6274 2122.0697,-1021.876 2130.5047,-1028.2869 2132.6616,-1021.6274"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="2190.5" cy="-1011.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2190.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2758.2012,-1079.891C2627.5348,-1071.9864 2335.0956,-1052.3392 2237.5,-1029.6014 2233.5908,-1028.6906 2229.5712,-1027.5271 2225.6067,-1026.2309"/>
<polygon fill="#000000" stroke="#000000" points="2226.5542,-1022.8533 2215.9595,-1022.8039 2224.211,-1029.4495 2226.5542,-1022.8533"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="2278.5" cy="-1011.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2278.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2758.7074,-1078.9522C2643.1251,-1070.1569 2403.5429,-1050.1182 2322.5,-1029.6014 2319.4771,-1028.8361 2316.3882,-1027.9047 2313.3184,-1026.8728"/>
<polygon fill="#000000" stroke="#000000" points="2314.2768,-1023.4957 2303.6835,-1023.3151 2311.8521,-1030.0624 2314.2768,-1023.4957"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="2363.5" cy="-1011.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2363.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2765.2954,-1074.6281C2671.3823,-1059.8966 2486.7596,-1030.9362 2404.606,-1018.0494"/>
<polygon fill="#000000" stroke="#000000" points="2405.064,-1014.5785 2394.6424,-1016.4865 2403.9792,-1021.4939 2405.064,-1014.5785"/>
</g>
<!-- prose_7 -->
<g id="node8" class="node">
<title>prose_7</title>
<ellipse fill="none" stroke="#000000" cx="3178.5" cy="-1011.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3178.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;prose_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2875.4124,-1072.9C2947.1165,-1058.398 3073.5803,-1032.8211 3138.1314,-1019.7658"/>
<polygon fill="#000000" stroke="#000000" points="3138.8343,-1023.1946 3147.942,-1017.7816 3137.4466,-1016.3335 3138.8343,-1023.1946"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="3590.5" cy="-1011.6014" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3590.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 33&#45;50</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2884.6981,-1077.7703C3025.5509,-1064.5653 3368.2703,-1032.4354 3518.2312,-1018.3766"/>
<polygon fill="#000000" stroke="#000000" points="3518.6285,-1021.8548 3528.2581,-1017.4365 3517.9751,-1014.8853 3518.6285,-1021.8548"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="4165.5" cy="-1011.6014" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="4165.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 51&#45;75</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2887.2757,-1080.1287C3111.2157,-1068.1229 3851.9782,-1028.4097 4090.6733,-1015.6129"/>
<polygon fill="#000000" stroke="#000000" points="4091.1843,-1019.0907 4100.9825,-1015.0602 4090.8095,-1012.1007 4091.1843,-1019.0907"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="5101.5" cy="-1011.6014" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="5101.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 76&#45;91</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2887.9439,-1081.5338C3215.7045,-1071.1789 4676.8494,-1025.0173 5026.26,-1013.9784"/>
<polygon fill="#000000" stroke="#000000" points="5026.3866,-1017.4763 5036.271,-1013.6621 5026.1655,-1010.4798 5026.3866,-1017.4763"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="6261.5" cy="-1011.6014" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6261.5" y="-1007.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 127&#45;180</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2888.1277,-1082.2274C3314.9089,-1073.2921 5693.6809,-1023.4894 6176.1356,-1013.3886"/>
<polygon fill="#000000" stroke="#000000" points="6176.2409,-1016.8872 6186.1654,-1013.1786 6176.0943,-1009.8888 6176.2409,-1016.8872"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="1951,-957.6014 1830,-957.6014 1830,-921.6014 1951,-921.6014 1951,-957.6014"/>
<text text-anchor="middle" x="1890.5" y="-936.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> * Block module</text>
</g>
<!-- header_2&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>header_2&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1931.1517,-993.8036C1924.8389,-985.3865 1917.1749,-975.1678 1910.2103,-965.8818"/>
<polygon fill="#000000" stroke="#000000" points="1912.8699,-963.5945 1904.0698,-957.6945 1907.2699,-967.7945 1912.8699,-963.5945"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="1996.5" cy="-939.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="1996.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2075.4659,-997.0311C2060.3583,-986.0437 2039.4931,-970.8691 2023.0047,-958.8775"/>
<polygon fill="#000000" stroke="#000000" points="2024.9809,-955.987 2014.8349,-952.9358 2020.8637,-961.6482 2024.9809,-955.987"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="2068.5" cy="-939.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="2068.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2168.1233,-998.3955C2148.3807,-986.7441 2119.4684,-969.6811 2097.87,-956.9345"/>
<polygon fill="#000000" stroke="#000000" points="2099.5004,-953.8326 2089.1094,-951.7643 2095.9426,-959.8611 2099.5004,-953.8326"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="2140.5" cy="-939.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="2140.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_5&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2254.777,-999.2241C2231.6803,-987.1737 2196.4657,-968.8009 2171.2345,-955.6367"/>
<polygon fill="#000000" stroke="#000000" points="2172.5841,-952.3932 2162.0992,-950.8705 2169.3461,-958.5993 2172.5841,-952.3932"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="2212.5" cy="-939.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="2212.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_6&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2338.2896,-999.9808C2314.9335,-989.1634 2279.2648,-972.5128 2248.5,-957.6014 2246.7551,-956.7556 2244.9654,-955.8817 2243.1613,-954.9957"/>
<polygon fill="#000000" stroke="#000000" points="2244.6741,-951.8393 2234.1593,-950.539 2241.5683,-958.1126 2244.6741,-951.8393"/>
</g>
<!-- interpolated_20 -->
<g id="node21" class="node">
<title>interpolated_20</title>
<ellipse fill="none" stroke="#000000" cx="2313.5" cy="-939.6014" rx="56.1474" ry="18"/>
<text text-anchor="middle" x="2313.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">interpolated</text>
</g>
<!-- prose_6&#45;&gt;interpolated_20 -->
<g id="edge20" class="edge">
<title>prose_6&#45;&gt;interpolated_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2351.6507,-994.5384C2345.681,-985.942 2338.3128,-975.3318 2331.6485,-965.7352"/>
<polygon fill="#000000" stroke="#000000" points="2334.3652,-963.5111 2325.7864,-957.2938 2328.6156,-967.5039 2334.3652,-963.5111"/>
</g>
<!-- raw_21 -->
<g id="node22" class="node">
<title>raw_21</title>
<ellipse fill="none" stroke="#000000" cx="2414.5" cy="-939.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="2414.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_21 -->
<g id="edge21" class="edge">
<title>prose_6&#45;&gt;raw_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2375.5863,-994.5384C2381.9653,-985.5327 2389.9099,-974.3167 2396.9545,-964.3715"/>
<polygon fill="#000000" stroke="#000000" points="2399.9274,-966.2296 2402.8515,-956.0463 2394.2152,-962.1835 2399.9274,-966.2296"/>
</g>
<!-- raw_25 -->
<g id="node26" class="node">
<title>raw_25</title>
<ellipse fill="none" stroke="#000000" cx="2947.5" cy="-939.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="2947.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_7&#45;&gt;raw_25 -->
<g id="edge25" class="edge">
<title>prose_7&#45;&gt;raw_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3150.1749,-1002.7728C3107.725,-989.5416 3027.715,-964.6035 2981.9459,-950.3378"/>
<polygon fill="#000000" stroke="#000000" points="2982.7685,-946.9281 2972.18,-947.2938 2980.6855,-953.611 2982.7685,-946.9281"/>
</g>
<!-- interpolated_26 -->
<g id="node27" class="node">
<title>interpolated_26</title>
<ellipse fill="none" stroke="#000000" cx="3127.5" cy="-939.6014" rx="56.1474" ry="18"/>
<text text-anchor="middle" x="3127.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">interpolated</text>
</g>
<!-- prose_7&#45;&gt;interpolated_26 -->
<g id="edge26" class="edge">
<title>prose_7&#45;&gt;interpolated_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3166.4137,-994.5384C3160.3246,-985.942 3152.8091,-975.3318 3146.0115,-965.7352"/>
<polygon fill="#000000" stroke="#000000" points="3148.6684,-963.431 3140.0321,-957.2938 3142.9563,-967.4771 3148.6684,-963.431"/>
</g>
<!-- raw_27 -->
<g id="node28" class="node">
<title>raw_27</title>
<ellipse fill="none" stroke="#000000" cx="3228.5" cy="-939.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="3228.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_7&#45;&gt;raw_27 -->
<g id="edge27" class="edge">
<title>prose_7&#45;&gt;raw_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3190.3493,-994.5384C3196.6033,-985.5327 3204.3921,-974.3167 3211.2985,-964.3715"/>
<polygon fill="#000000" stroke="#000000" points="3214.2507,-966.2564 3217.0799,-956.0463 3208.5011,-962.2636 3214.2507,-966.2564"/>
</g>
<!-- interpolated_28 -->
<g id="node29" class="node">
<title>interpolated_28</title>
<ellipse fill="none" stroke="#000000" cx="3329.5" cy="-939.6014" rx="56.1474" ry="18"/>
<text text-anchor="middle" x="3329.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">interpolated</text>
</g>
<!-- prose_7&#45;&gt;interpolated_28 -->
<g id="edge28" class="edge">
<title>prose_7&#45;&gt;interpolated_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3203.0968,-999.8731C3226.2711,-988.8231 3261.4219,-972.0625 3288.778,-959.0185"/>
<polygon fill="#000000" stroke="#000000" points="3290.5767,-962.0384 3298.0967,-954.5752 3287.5638,-955.7199 3290.5767,-962.0384"/>
</g>
<!-- raw_29 -->
<g id="node30" class="node">
<title>raw_29</title>
<ellipse fill="none" stroke="#000000" cx="3430.5" cy="-939.6014" rx="27" ry="18"/>
<text text-anchor="middle" x="3430.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_7&#45;&gt;raw_29 -->
<g id="edge29" class="edge">
<title>prose_7&#45;&gt;raw_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3209.5422,-1006.0609C3252.0836,-997.9715 3330.5133,-981.2716 3394.5,-957.6014 3396.3678,-956.9104 3398.2659,-956.1502 3400.1644,-955.3448"/>
<polygon fill="#000000" stroke="#000000" points="3401.8926,-958.4027 3409.522,-951.0513 3398.9734,-952.0405 3401.8926,-958.4027"/>
</g>
<!-- header_35 -->
<g id="node36" class="node">
<title>header_35</title>
<ellipse fill="none" stroke="#000000" cx="3537.5" cy="-939.6014" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="3537.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : includes</text>
</g>
<!-- section_8&#45;&gt;header_35 -->
<g id="edge35" class="edge">
<title>section_8&#45;&gt;header_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3577.3989,-993.8036C3571.1091,-985.259 3563.4526,-974.8578 3556.5351,-965.4604"/>
<polygon fill="#000000" stroke="#000000" points="3559.1973,-963.1729 3550.4504,-957.1944 3553.56,-967.3227 3559.1973,-963.1729"/>
</g>
<!-- prose_36 -->
<g id="node37" class="node">
<title>prose_36</title>
<ellipse fill="none" stroke="#000000" cx="3642.5" cy="-939.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3642.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_36 -->
<g id="edge36" class="edge">
<title>section_8&#45;&gt;prose_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3603.3539,-993.8036C3609.6172,-985.1314 3617.2616,-974.5469 3624.1274,-965.0403"/>
<polygon fill="#000000" stroke="#000000" points="3627.1344,-966.8546 3630.152,-956.6986 3621.4597,-962.7562 3627.1344,-966.8546"/>
</g>
<!-- codeblock_37 -->
<g id="node38" class="node">
<title>codeblock_37</title>
<ellipse fill="none" stroke="#000000" cx="3802.5" cy="-939.6014" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3802.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 35&#45;48</text>
</g>
<!-- section_8&#45;&gt;codeblock_37 -->
<g id="edge37" class="edge">
<title>section_8&#45;&gt;codeblock_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3631.879,-997.5481C3665.2527,-986.2137 3712.4465,-970.1856 3748.743,-957.8585"/>
<polygon fill="#000000" stroke="#000000" points="3750.3277,-961.0167 3758.6709,-954.4867 3748.0765,-954.3885 3750.3277,-961.0167"/>
</g>
<!-- header_42 -->
<g id="node43" class="node">
<title>header_42</title>
<ellipse fill="none" stroke="#000000" cx="4088.5" cy="-939.6014" rx="102.5283" ry="18"/>
<text text-anchor="middle" x="4088.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Metatable for Blocks</text>
</g>
<!-- section_9&#45;&gt;header_42 -->
<g id="edge42" class="edge">
<title>section_9&#45;&gt;header_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4146.8604,-994.1722C4137.2619,-985.1969 4125.3954,-974.1009 4114.8743,-964.2631"/>
<polygon fill="#000000" stroke="#000000" points="4117.1976,-961.6437 4107.5028,-957.3703 4112.4166,-966.7567 4117.1976,-961.6437"/>
</g>
<!-- prose_43 -->
<g id="node44" class="node">
<title>prose_43</title>
<ellipse fill="none" stroke="#000000" cx="4241.5" cy="-939.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4241.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_43 -->
<g id="edge43" class="edge">
<title>section_9&#45;&gt;prose_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4183.8975,-994.1722C4194.0077,-984.5941 4206.6672,-972.6009 4217.5415,-962.2989"/>
<polygon fill="#000000" stroke="#000000" points="4220.2298,-964.5734 4225.0822,-955.155 4215.4156,-959.4917 4220.2298,-964.5734"/>
</g>
<!-- codeblock_44 -->
<g id="node45" class="node">
<title>codeblock_44</title>
<ellipse fill="none" stroke="#000000" cx="4441.5" cy="-939.6014" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4441.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 53&#45;73</text>
</g>
<!-- section_9&#45;&gt;codeblock_44 -->
<g id="edge44" class="edge">
<title>section_9&#45;&gt;codeblock_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4213.2604,-999.1421C4259.4018,-987.1052 4329.5111,-968.8159 4379.8461,-955.685"/>
<polygon fill="#000000" stroke="#000000" points="4380.8438,-959.0419 4389.6365,-953.131 4379.0768,-952.2686 4380.8438,-959.0419"/>
</g>
<!-- header_49 -->
<g id="node50" class="node">
<title>header_49</title>
<ellipse fill="none" stroke="#000000" cx="4910.5" cy="-939.6014" rx="140.2419" ry="18"/>
<text text-anchor="middle" x="4910.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Parse the prose within a block</text>
</g>
<!-- section_10&#45;&gt;header_49 -->
<g id="edge49" class="edge">
<title>section_10&#45;&gt;header_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5062.8483,-997.0311C5034.793,-986.4553 4996.4464,-972 4965.2444,-960.238"/>
<polygon fill="#000000" stroke="#000000" points="4966.4016,-956.9338 4955.8097,-956.6815 4963.9324,-963.4839 4966.4016,-956.9338"/>
</g>
<!-- prose_50 -->
<g id="node51" class="node">
<title>prose_50</title>
<ellipse fill="none" stroke="#000000" cx="5101.5" cy="-939.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5101.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_50 -->
<g id="edge50" class="edge">
<title>section_10&#45;&gt;prose_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5101.5,-993.4327C5101.5,-985.7323 5101.5,-976.5757 5101.5,-968.018"/>
<polygon fill="#000000" stroke="#000000" points="5105.0001,-968.0146 5101.5,-958.0146 5098.0001,-968.0147 5105.0001,-968.0146"/>
</g>
<!-- codeblock_51 -->
<g id="node52" class="node">
<title>codeblock_51</title>
<ellipse fill="none" stroke="#000000" cx="5254.5" cy="-939.6014" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="5254.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 78&#45;90</text>
</g>
<!-- section_10&#45;&gt;codeblock_51 -->
<g id="edge51" class="edge">
<title>section_10&#45;&gt;codeblock_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5134.6987,-995.9784C5156.9666,-985.4994 5186.5331,-971.5858 5210.7215,-960.203"/>
<polygon fill="#000000" stroke="#000000" points="5212.4823,-963.2427 5220.0401,-955.8178 5209.5016,-956.9089 5212.4823,-963.2427"/>
</g>
<!-- section_52 -->
<g id="node53" class="node">
<title>section_52</title>
<ellipse fill="none" stroke="#000000" cx="5555.5" cy="-939.6014" rx="70.655" ry="18"/>
<text text-anchor="middle" x="5555.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 92&#45;126</text>
</g>
<!-- section_10&#45;&gt;section_52 -->
<g id="edge52" class="edge">
<title>section_10&#45;&gt;section_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5158.5397,-1002.5554C5241.5523,-989.3904 5395.5192,-964.9728 5485.3552,-950.7257"/>
<polygon fill="#000000" stroke="#000000" points="5486.1201,-954.1482 5495.4484,-949.125 5485.0236,-947.2346 5486.1201,-954.1482"/>
</g>
<!-- header_64 -->
<g id="node65" class="node">
<title>header_64</title>
<ellipse fill="none" stroke="#000000" cx="5944.5" cy="-939.6014" rx="99.6298" ry="18"/>
<text text-anchor="middle" x="5944.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Constructor/module</text>
</g>
<!-- section_11&#45;&gt;header_64 -->
<g id="edge64" class="edge">
<title>section_11&#45;&gt;header_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6206.6447,-999.1421C6153.9612,-987.1762 6074.0727,-969.0311 6016.3366,-955.9176"/>
<polygon fill="#000000" stroke="#000000" points="6017.0752,-952.4963 6006.5483,-953.6944 6015.5247,-959.3224 6017.0752,-952.4963"/>
</g>
<!-- prose_65 -->
<g id="node66" class="node">
<title>prose_65</title>
<ellipse fill="none" stroke="#000000" cx="6173.5" cy="-939.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6173.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_65 -->
<g id="edge65" class="edge">
<title>section_11&#45;&gt;prose_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6240.1977,-994.1722C6228.0969,-984.2716 6212.8421,-971.7904 6199.9766,-961.264"/>
<polygon fill="#000000" stroke="#000000" points="6201.8802,-958.2993 6191.9242,-954.6757 6197.4475,-963.717 6201.8802,-958.2993"/>
</g>
<!-- codeblock_66 -->
<g id="node67" class="node">
<title>codeblock_66</title>
<ellipse fill="none" stroke="#000000" cx="6350.5" cy="-939.6014" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6350.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 129&#45;151</text>
</g>
<!-- section_11&#45;&gt;codeblock_66 -->
<g id="edge66" class="edge">
<title>section_11&#45;&gt;codeblock_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6283.0444,-994.1722C6294.4387,-984.9544 6308.598,-973.4997 6320.9978,-963.4683"/>
<polygon fill="#000000" stroke="#000000" points="6323.2723,-966.1302 6328.8455,-957.1196 6318.8697,-960.688 6323.2723,-966.1302"/>
</g>
<!-- prose_67 -->
<g id="node68" class="node">
<title>prose_67</title>
<ellipse fill="none" stroke="#000000" cx="6598.5" cy="-939.6014" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6598.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_67 -->
<g id="edge67" class="edge">
<title>section_11&#45;&gt;prose_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6317.9062,-999.5502C6385.9231,-985.0184 6498.5371,-960.9584 6558.3216,-948.1855"/>
<polygon fill="#000000" stroke="#000000" points="6559.1002,-951.5982 6568.1482,-946.086 6557.6376,-944.7527 6559.1002,-951.5982"/>
</g>
<!-- codeblock_68 -->
<g id="node69" class="node">
<title>codeblock_68</title>
<ellipse fill="none" stroke="#000000" cx="6826.5" cy="-939.6014" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6826.5" y="-935.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 163&#45;179</text>
</g>
<!-- section_11&#45;&gt;codeblock_68 -->
<g id="edge68" class="edge">
<title>section_11&#45;&gt;codeblock_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6328.2526,-1003.0948C6431.288,-989.9647 6628.9466,-964.7763 6741.8712,-950.3859"/>
<polygon fill="#000000" stroke="#000000" points="6742.382,-953.8492 6751.8593,-949.1131 6741.497,-946.9054 6742.382,-953.8492"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="499,-762.5014 0,-762.5014 0,-676.1008 499,-676.1008 499,-762.5014"/>
<text text-anchor="middle" x="249.5" y="-715.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;A Block is the container for the next level of granularity below</text>
<text text-anchor="middle" x="249.5" y="-699.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> a Section. Any Section has a Header and one or more Blocks. Both the</text>
<text text-anchor="middle" x="249.5" y="-684.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> Header and the Block may be virtual, that is, without contents.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1975.9549,-927.6928C1970.7481,-925.2177 1965.0526,-922.953 1959.5,-921.6014 1645.8922,-845.2606 815.9765,-980.575 507.5,-885.6014 431.0312,-862.0582 355.5143,-808.9282 306.1358,-769.0143"/>
<polygon fill="#000000" stroke="#000000" points="308.0949,-766.0953 298.1364,-762.4786 303.6659,-771.5161 308.0949,-766.0953"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1016,-754.6014 517,-754.6014 517,-684.0007 1016,-684.0007 1016,-754.6014"/>
<text text-anchor="middle" x="766.5" y="-723.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> The most general premise is that Blocks are delineated by blank line</text>
<text text-anchor="middle" x="766.5" y="-708.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> whitespace. </text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2048.1496,-927.5494C2043.1865,-925.1452 2037.7814,-922.9481 2032.5,-921.6014 1815.3071,-866.2185 1238.3567,-952.7229 1024.5,-885.6014 943.3444,-860.1297 863.0929,-801.7727 814.1667,-761.4398"/>
<polygon fill="#000000" stroke="#000000" points="816.2157,-758.5913 806.2921,-754.8802 811.7354,-763.9698 816.2157,-758.5913"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1575,-754.5015 1034,-754.5015 1034,-684.1007 1575,-684.1007 1575,-754.5015"/>
<text text-anchor="middle" x="1304.5" y="-723.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> A paragraph of prose is the simplest block, and the default. &#160;A list with</text>
<text text-anchor="middle" x="1304.5" y="-707.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> a tag line is a block also, as is a table. &#160;Most importantly for our short</text>
<text text-anchor="middle" x="1304.5" y="-692.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> path, code blocks are enclosed in blocks as well.</text>
</g>
<!-- raw_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2120.116,-927.6766C2115.1543,-925.2672 2109.7583,-923.0358 2104.5,-921.6014 1880.5749,-860.5151 1805.0167,-954.9147 1583.5,-885.6014 1497.6798,-858.7479 1410.5168,-800.8195 1356.9852,-760.9508"/>
<polygon fill="#000000" stroke="#000000" points="1358.7846,-757.925 1348.6878,-754.7148 1354.579,-763.5207 1358.7846,-757.925"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="2134,-816.2018 1593,-816.2018 1593,-622.4003 2134,-622.4003 2134,-816.2018"/>
<text text-anchor="middle" x="1863.5" y="-784.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> Blocking needs to identify when it has structure, and when prose, on a </text>
<text text-anchor="middle" x="1863.5" y="-769.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> line&#45;by&#45;line basis. &#160;It must also apply the cling rule to make sure that</text>
<text text-anchor="middle" x="1863.5" y="-754.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> e.g. tags are part of the block indicated by whitespacing. </text>
<text text-anchor="middle" x="1863.5" y="-738.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="1863.5" y="-723.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> Blocking need not, and mostly should not, parse within structure or prose.</text>
<text text-anchor="middle" x="1863.5" y="-707.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> These categories are determined by the beginning of a line, making this</text>
<text text-anchor="middle" x="1863.5" y="-692.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> tractable. </text>
<text text-anchor="middle" x="1863.5" y="-677.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="1863.5" y="-661.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> The cling rule requires lookahead. LPEG is quite capable of this, as is </text>
<text text-anchor="middle" x="1863.5" y="-646.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> packrat PEG parsing generally. &#160;In the bootstrap implementation, we will</text>
<text text-anchor="middle" x="1863.5" y="-630.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> parse once for ownership, again (in the </text>
</g>
<!-- raw_19&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>raw_19&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2192.7363,-927.1259C2159.9634,-906.4385 2091.41,-863.1654 2025.3005,-821.4349"/>
<polygon fill="#000000" stroke="#000000" points="2027.1589,-818.469 2016.8344,-816.0908 2023.4223,-824.3883 2027.1589,-818.469"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="2206.5,-737.3011 2152.5,-737.3011 2152.5,-701.3011 2206.5,-701.3011 2206.5,-737.3011"/>
<text text-anchor="middle" x="2179.5" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">lines</text>
</g>
<!-- interpolated_20&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>interpolated_20&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2273.6804,-926.7446C2253.331,-918.1929 2229.8887,-904.9197 2215.5,-885.6014 2185.0366,-844.701 2179.2886,-783.3344 2178.7753,-747.7063"/>
<polygon fill="#000000" stroke="#000000" points="2182.2751,-747.5223 2178.7625,-737.5268 2175.2752,-747.5312 2182.2751,-747.5223"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="2604.5,-738.6017 2224.5,-738.6017 2224.5,-700.0005 2604.5,-700.0005 2604.5,-738.6017"/>
<text text-anchor="middle" x="2414.5" y="-723.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> array of each Section) for</text>
<text text-anchor="middle" x="2414.5" y="-708.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> blocking, and a final time to parse within blocks. </text>
</g>
<!-- raw_21&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>raw_21&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2414.5,-921.5733C2414.5,-883.6296 2414.5,-795.215 2414.5,-748.8594"/>
<polygon fill="#000000" stroke="#000000" points="2418.0001,-748.8361 2414.5,-738.8361 2411.0001,-748.8362 2418.0001,-748.8361"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="3122,-754.5015 2623,-754.5015 2623,-684.1007 3122,-684.1007 3122,-754.5015"/>
<text text-anchor="middle" x="2872.5" y="-723.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> Grimoire is intended to work, in linear time, as a single&#45;pass PEG</text>
<text text-anchor="middle" x="2872.5" y="-707.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> grammar. &#160;Presently (Feb 2018) I&#39;m intending to prototype that with </text>
<text text-anchor="middle" x="2872.5" y="-692.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> PEGylator and port it to </text>
</g>
<!-- raw_25&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>raw_25&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2941.4892,-921.9457C2929.9447,-888.0355 2904.3485,-812.851 2887.7881,-764.2075"/>
<polygon fill="#000000" stroke="#000000" points="2891.0378,-762.8924 2884.5016,-754.5539 2884.4112,-765.1484 2891.0378,-762.8924"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="3198.5,-737.3011 3140.5,-737.3011 3140.5,-701.3011 3198.5,-701.3011 3198.5,-737.3011"/>
<text text-anchor="middle" x="3169.5" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">hammer</text>
</g>
<!-- interpolated_26&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>interpolated_26&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3130.937,-921.5733C3138.2437,-883.2483 3155.3669,-793.4327 3164.1288,-747.4746"/>
<polygon fill="#000000" stroke="#000000" points="3167.5807,-748.0568 3166.0155,-737.5783 3160.7046,-746.7459 3167.5807,-748.0568"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="3288.5,-737.3011 3216.5,-737.3011 3216.5,-701.3011 3288.5,-701.3011 3288.5,-737.3011"/>
<text text-anchor="middle" x="3252.5" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> with a </text>
</g>
<!-- raw_27&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>raw_27&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3230.464,-921.5733C3234.6304,-883.3289 3244.3828,-793.8106 3249.399,-747.7654"/>
<polygon fill="#000000" stroke="#000000" points="3252.9052,-747.8985 3250.5088,-737.5783 3245.9463,-747.1404 3252.9052,-747.8985"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="3360.5,-737.3011 3306.5,-737.3011 3306.5,-701.3011 3360.5,-701.3011 3360.5,-737.3011"/>
<text text-anchor="middle" x="3333.5" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">quipu</text>
</g>
<!-- interpolated_28&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>interpolated_28&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3329.8273,-921.5733C3330.5217,-883.3289 3332.1471,-793.8106 3332.9832,-747.7654"/>
<polygon fill="#000000" stroke="#000000" points="3336.4859,-747.6402 3333.1681,-737.5783 3329.4871,-747.5131 3336.4859,-747.6402"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="3472,-739.2032 3379,-739.2032 3379,-699.399 3472,-699.399 3472,-739.2032"/>
<text text-anchor="middle" x="3425.5" y="-723.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> back&#45;end. </text>
</g>
<!-- raw_29&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>raw_29&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3430.0908,-921.5733C3429.2318,-883.7249 3427.233,-795.6589 3426.1788,-749.2096"/>
<polygon fill="#000000" stroke="#000000" points="3429.6767,-749.074 3425.9506,-739.1561 3422.6785,-749.2329 3429.6767,-749.074"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="3590.5,-737.3011 3490.5,-737.3011 3490.5,-701.3011 3590.5,-701.3011 3590.5,-737.3011"/>
<text text-anchor="middle" x="3540.5" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">*** includes</text>
</g>
<!-- header_35&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>header_35&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3537.7455,-921.5733C3538.2663,-883.3289 3539.4853,-793.8106 3540.1124,-747.7654"/>
<polygon fill="#000000" stroke="#000000" points="3543.6145,-747.625 3540.2511,-737.5783 3536.6152,-747.5297 3543.6145,-747.625"/>
</g>
<!-- raw_39 -->
<g id="node40" class="node">
<title>raw_39</title>
<ellipse fill="none" stroke="#000000" cx="3635.5" cy="-719.3011" rx="27" ry="18"/>
<text text-anchor="middle" x="3635.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_36&#45;&gt;raw_39 -->
<g id="edge39" class="edge">
<title>prose_36&#45;&gt;raw_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3641.9272,-921.5733C3640.712,-883.3289 3637.8675,-793.8106 3636.4044,-747.7654"/>
<polygon fill="#000000" stroke="#000000" points="3639.8967,-747.462 3636.0808,-737.5783 3632.9002,-747.6844 3639.8967,-747.462"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="3990.5,-816.4018 3680.5,-816.4018 3680.5,-622.2004 3990.5,-622.2004 3990.5,-816.4018"/>
<text text-anchor="middle" x="3835.5" y="-801.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="3835.5" y="-770.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;node/node&quot;</text>
<text text-anchor="middle" x="3835.5" y="-754.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local Codeblock = require &quot;grym/codeblock&quot;</text>
<text text-anchor="middle" x="3835.5" y="-739.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">local Structure = require &quot;grym/structure&quot;</text>
<text text-anchor="middle" x="3835.5" y="-723.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">local Prose = require &quot;grym/prose&quot;</text>
<text text-anchor="middle" x="3835.5" y="-692.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;status&quot;</text>
<text text-anchor="middle" x="3835.5" y="-661.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="3835.5" y="-645.601" font-family="Inconsolata" font-size="14.00" fill="#000000">local util = require &quot;../lib/util&quot;</text>
<text text-anchor="middle" x="3835.5" y="-630.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local freeze = util.freeze</text>
</g>
<!-- codeblock_37&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>codeblock_37&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3805.2005,-921.5733C3808.3734,-900.3919 3813.9023,-863.4824 3819.3759,-826.9415"/>
<polygon fill="#000000" stroke="#000000" points="3822.8962,-827.0664 3820.9163,-816.6582 3815.9734,-826.0294 3822.8962,-827.0664"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="3662.5,-329.9004 3608.5,-329.9004 3608.5,-293.9004 3662.5,-293.9004 3662.5,-329.9004"/>
</g>
<!-- raw_39&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>raw_39&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3635.5,-701.2699C3635.5,-636.9981 3635.5,-418.7723 3635.5,-340.3003"/>
<polygon fill="#000000" stroke="#000000" points="3639.0001,-340.1856 3635.5,-330.1856 3632.0001,-340.1856 3639.0001,-340.1856"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="4186,-737.3011 4009,-737.3011 4009,-701.3011 4186,-701.3011 4186,-737.3011"/>
<text text-anchor="middle" x="4097.5" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">** Metatable for Blocks</text>
</g>
<!-- header_42&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>header_42&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4089.2365,-921.5733C4090.7989,-883.3289 4094.456,-793.8106 4096.3371,-747.7654"/>
<polygon fill="#000000" stroke="#000000" points="4099.8421,-747.7128 4096.7533,-737.5783 4092.8479,-747.427 4099.8421,-747.7128"/>
</g>
<!-- raw_46 -->
<g id="node47" class="node">
<title>raw_46</title>
<ellipse fill="none" stroke="#000000" cx="4231.5" cy="-719.3011" rx="27" ry="18"/>
<text text-anchor="middle" x="4231.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_43&#45;&gt;raw_46 -->
<g id="edge46" class="edge">
<title>prose_43&#45;&gt;raw_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4240.6817,-921.5733C4238.9456,-883.3289 4234.8822,-793.8106 4232.7921,-747.7654"/>
<polygon fill="#000000" stroke="#000000" points="4236.2796,-747.4092 4232.3296,-737.5783 4229.2868,-747.7267 4236.2796,-747.4092"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="4768.5,-870.7018 4276.5,-870.7018 4276.5,-567.9003 4768.5,-567.9003 4768.5,-870.7018"/>
<text text-anchor="middle" x="4522.5" y="-855.3013" font-family="Inconsolata" font-size="14.00" fill="#000000">local B = setmetatable({}, { __index = Node })</text>
<text text-anchor="middle" x="4522.5" y="-839.9013" font-family="Inconsolata" font-size="14.00" fill="#000000">B.__index = B</text>
<text text-anchor="middle" x="4522.5" y="-808.5013" font-family="Inconsolata" font-size="14.00" fill="#000000">B.__tostring = function(block) </text>
<text text-anchor="middle" x="4522.5" y="-793.1012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;Block&quot;</text>
<text text-anchor="middle" x="4522.5" y="-777.7012" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4522.5" y="-746.3012" font-family="Inconsolata" font-size="14.00" fill="#000000">function B.addLine(block, line)</text>
<text text-anchor="middle" x="4522.5" y="-730.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if L.match(m.tagline_hash_p, line) then</text>
<text text-anchor="middle" x="4522.5" y="-715.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = Structure(line, &quot;hashline&quot;, block.str)</text>
<text text-anchor="middle" x="4522.5" y="-700.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif L.match(m.tagline_handle_p, line) then</text>
<text text-anchor="middle" x="4522.5" y="-684.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;block[#block + 1] = Structure(line, &quot;handleline&quot;, block.str)</text>
<text text-anchor="middle" x="4522.5" y="-669.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Eventually Blocks won&#39;t have lines, meantime:</text>
<text text-anchor="middle" x="4522.5" y="-653.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4522.5" y="-638.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;block.lines[#block.lines + 1] = line</text>
<text text-anchor="middle" x="4522.5" y="-623.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4522.5" y="-591.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return block</text>
<text text-anchor="middle" x="4522.5" y="-576.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_44&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>codeblock_44&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4448.1286,-921.5733C4451.9819,-911.0932 4457.2509,-896.7627 4463.2187,-880.5317"/>
<polygon fill="#000000" stroke="#000000" points="4466.6419,-881.3637 4466.8079,-870.7702 4460.0719,-878.948 4466.6419,-881.3637"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="4258.5,-329.9004 4204.5,-329.9004 4204.5,-293.9004 4258.5,-293.9004 4258.5,-329.9004"/>
</g>
<!-- raw_46&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>raw_46&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4231.5,-701.2699C4231.5,-636.9981 4231.5,-418.7723 4231.5,-340.3003"/>
<polygon fill="#000000" stroke="#000000" points="4235.0001,-340.1856 4231.5,-330.1856 4228.0001,-340.1856 4235.0001,-340.1856"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="5034,-737.3011 4787,-737.3011 4787,-701.3011 5034,-701.3011 5034,-737.3011"/>
<text text-anchor="middle" x="4910.5" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">** Parse the prose within a block</text>
</g>
<!-- header_49&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>header_49&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4910.5,-921.5733C4910.5,-883.3289 4910.5,-793.8106 4910.5,-747.7654"/>
<polygon fill="#000000" stroke="#000000" points="4914.0001,-747.5782 4910.5,-737.5783 4907.0001,-747.5783 4914.0001,-747.5782"/>
</g>
<!-- raw_54 -->
<g id="node55" class="node">
<title>raw_54</title>
<ellipse fill="none" stroke="#000000" cx="5079.5" cy="-719.3011" rx="27" ry="18"/>
<text text-anchor="middle" x="5079.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_50&#45;&gt;raw_54 -->
<g id="edge54" class="edge">
<title>prose_50&#45;&gt;raw_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5099.6996,-921.5733C5095.8709,-883.2338 5086.8963,-793.3649 5082.3083,-747.4226"/>
<polygon fill="#000000" stroke="#000000" points="5085.7708,-746.872 5081.2944,-737.2693 5078.8055,-747.5676 5085.7708,-746.872"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="5434.5,-808.2019 5124.5,-808.2019 5124.5,-630.4003 5434.5,-630.4003 5434.5,-808.2019"/>
<text text-anchor="middle" x="5279.5" y="-792.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">function B.parseProse(block)</text>
<text text-anchor="middle" x="5279.5" y="-777.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if block[1] then</text>
<text text-anchor="middle" x="5279.5" y="-762.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if block[1].id == &quot;codeblock&quot; then</text>
<text text-anchor="middle" x="5279.5" y="-746.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return &quot;&quot;</text>
<text text-anchor="middle" x="5279.5" y="-731.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5279.5" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5279.5" y="-700.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;block[1] = Prose(block)</text>
<text text-anchor="middle" x="5279.5" y="-685.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;block.lines = nil</text>
<text text-anchor="middle" x="5279.5" y="-669.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return block[1]</text>
<text text-anchor="middle" x="5279.5" y="-654.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5279.5" y="-638.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_51&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>codeblock_51&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5256.5459,-921.5733C5259.1311,-898.792 5263.781,-857.8172 5268.2229,-818.6749"/>
<polygon fill="#000000" stroke="#000000" points="5271.7571,-818.5706 5269.4071,-808.2396 5264.8018,-817.7812 5271.7571,-818.5706"/>
</g>
<!-- header_57 -->
<g id="node58" class="node">
<title>header_57</title>
<ellipse fill="none" stroke="#000000" cx="5504.5" cy="-719.3011" rx="51.9763" ry="18"/>
<text text-anchor="middle" x="5504.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : toValue</text>
</g>
<!-- section_52&#45;&gt;header_57 -->
<g id="edge57" class="edge">
<title>section_52&#45;&gt;header_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5551.3265,-921.5733C5542.4321,-883.1529 5521.5581,-792.9855 5510.943,-747.1324"/>
<polygon fill="#000000" stroke="#000000" points="5514.325,-746.2223 5508.6597,-737.2693 5507.5053,-747.8011 5514.325,-746.2223"/>
</g>
<!-- prose_58 -->
<g id="node59" class="node">
<title>prose_58</title>
<ellipse fill="none" stroke="#000000" cx="5606.5" cy="-719.3011" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5606.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_52&#45;&gt;prose_58 -->
<g id="edge58" class="edge">
<title>section_52&#45;&gt;prose_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5559.6735,-921.5733C5568.5679,-883.1529 5589.4419,-792.9855 5600.057,-747.1324"/>
<polygon fill="#000000" stroke="#000000" points="5603.4947,-747.8011 5602.3403,-737.2693 5596.675,-746.2223 5603.4947,-747.8011"/>
</g>
<!-- codeblock_59 -->
<g id="node60" class="node">
<title>codeblock_59</title>
<ellipse fill="none" stroke="#000000" cx="5741.5" cy="-719.3011" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="5741.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 97&#45;124</text>
</g>
<!-- section_52&#45;&gt;codeblock_59 -->
<g id="edge59" class="edge">
<title>section_52&#45;&gt;codeblock_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5591.7071,-923.9433C5610.0168,-914.7271 5631.6538,-901.708 5647.5,-885.6014 5687.9334,-844.5034 5716.799,-782.5363 5731.1624,-746.9943"/>
<polygon fill="#000000" stroke="#000000" points="5734.5778,-747.8738 5734.9892,-737.2869 5728.0656,-745.3065 5734.5778,-747.8738"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="5106.5,-329.9004 5052.5,-329.9004 5052.5,-293.9004 5106.5,-293.9004 5106.5,-329.9004"/>
</g>
<!-- raw_54&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>raw_54&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5079.5,-701.2699C5079.5,-636.9981 5079.5,-418.7723 5079.5,-340.3003"/>
<polygon fill="#000000" stroke="#000000" points="5083.0001,-340.1856 5079.5,-330.1856 5076.0001,-340.1856 5083.0001,-340.1856"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="5551,-329.9004 5458,-329.9004 5458,-293.9004 5551,-293.9004 5551,-329.9004"/>
<text text-anchor="middle" x="5504.5" y="-308.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">*** toValue</text>
</g>
<!-- header_57&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>header_57&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5504.5,-701.2699C5504.5,-636.9981 5504.5,-418.7723 5504.5,-340.3003"/>
<polygon fill="#000000" stroke="#000000" points="5508.0001,-340.1856 5504.5,-330.1856 5501.0001,-340.1856 5508.0001,-340.1856"/>
</g>
<!-- raw_61 -->
<g id="node62" class="node">
<title>raw_61</title>
<ellipse fill="none" stroke="#000000" cx="5596.5" cy="-311.9004" rx="27" ry="18"/>
<text text-anchor="middle" x="5596.5" y="-307.7004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_58&#45;&gt;raw_61 -->
<g id="edge61" class="edge">
<title>prose_58&#45;&gt;raw_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5606.0574,-701.2699C5604.4798,-636.9981 5599.1233,-418.7723 5597.1971,-340.3003"/>
<polygon fill="#000000" stroke="#000000" points="5600.6933,-340.0967 5596.9488,-330.1856 5593.6954,-340.2685 5600.6933,-340.0967"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="6007.5,-517.1012 5641.5,-517.1012 5641.5,-106.6997 6007.5,-106.6997 6007.5,-517.1012"/>
<text text-anchor="middle" x="5824.5" y="-501.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">function B.toString(block)</text>
<text text-anchor="middle" x="5824.5" y="-486.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="5824.5" y="-471.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(block.lines) do</text>
<text text-anchor="middle" x="5824.5" y="-455.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. v .. &quot;\n&quot;</text>
<text text-anchor="middle" x="5824.5" y="-440.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5824.5" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="5824.5" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5824.5" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">function B.toValue(block)</text>
<text text-anchor="middle" x="5824.5" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;block.val = block:toString()</text>
<text text-anchor="middle" x="5824.5" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return block.val</text>
<text text-anchor="middle" x="5824.5" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5824.5" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">function B.toMarkdown(block)</text>
<text text-anchor="middle" x="5824.5" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if block[1] and (block[1].id == &quot;codeblock&quot;</text>
<text text-anchor="middle" x="5824.5" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;or block[1].id == &quot;prose&quot;) then</text>
<text text-anchor="middle" x="5824.5" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return block[1]:toMarkdown()</text>
<text text-anchor="middle" x="5824.5" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5824.5" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return block:toString()</text>
<text text-anchor="middle" x="5824.5" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5824.5" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="5824.5" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">function B.dotLabel(block)</text>
<text text-anchor="middle" x="5824.5" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;block &quot; .. tostring(block.line_first) </text>
<text text-anchor="middle" x="5824.5" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;&#45;&quot; .. tostring(block.line_last)</text>
<text text-anchor="middle" x="5824.5" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_59&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>codeblock_59&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5745.1735,-701.2699C5751.6831,-669.3178 5765.9446,-599.3164 5780.6058,-527.3525"/>
<polygon fill="#000000" stroke="#000000" points="5784.1096,-527.6863 5782.6765,-517.1888 5777.2505,-526.2888 5784.1096,-527.6863"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="5783,-70.7004 5410,-70.7004 5410,-.0997 5783,-.0997 5783,-70.7004"/>
<text text-anchor="middle" x="5596.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> Adds a .val field which is the union of all lines.</text>
<text text-anchor="middle" x="5596.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> Useful in visualization. </text>
</g>
<!-- raw_61&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>raw_61&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5596.5,-293.7585C5596.5,-251.0546 5596.5,-143.1306 5596.5,-81.1202"/>
<polygon fill="#000000" stroke="#000000" points="5600.0001,-80.8406 5596.5,-70.8406 5593.0001,-80.8406 5600.0001,-80.8406"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="6006,-737.3011 5843,-737.3011 5843,-701.3011 6006,-701.3011 6006,-737.3011"/>
<text text-anchor="middle" x="5924.5" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">** Constructor/module</text>
</g>
<!-- header_64&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>header_64&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5942.8633,-921.5733C5939.3913,-883.3289 5931.2644,-793.8106 5927.0841,-747.7654"/>
<polygon fill="#000000" stroke="#000000" points="5930.5492,-747.2208 5926.1593,-737.5783 5923.5779,-747.8538 5930.5492,-747.2208"/>
</g>
<!-- raw_70 -->
<g id="node71" class="node">
<title>raw_70</title>
<ellipse fill="none" stroke="#000000" cx="6051.5" cy="-719.3011" rx="27" ry="18"/>
<text text-anchor="middle" x="6051.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_65&#45;&gt;raw_70 -->
<g id="edge70" class="edge">
<title>prose_65&#45;&gt;raw_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6146.4857,-929.3902C6127.1143,-920.6721 6101.9764,-906.2415 6087.5,-885.6014 6058.2157,-843.8487 6052.0565,-782.7793 6051.1503,-747.4351"/>
<polygon fill="#000000" stroke="#000000" points="6054.6489,-747.2953 6051.018,-737.342 6047.6495,-747.3871 6054.6489,-747.2953"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="6644.5,-885.4019 6096.5,-885.4019 6096.5,-553.2002 6644.5,-553.2002 6644.5,-885.4019"/>
<text text-anchor="middle" x="6370.5" y="-870.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">local b = {}</text>
<text text-anchor="middle" x="6370.5" y="-839.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Block, lines, linum, str)</text>
<text text-anchor="middle" x="6370.5" y="-823.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local block = setmetatable({}, B)</text>
<text text-anchor="middle" x="6370.5" y="-808.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;block.lines = {}</text>
<text text-anchor="middle" x="6370.5" y="-792.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;block.line_first = linum</text>
<text text-anchor="middle" x="6370.5" y="-777.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if (lines) then </text>
<text text-anchor="middle" x="6370.5" y="-762.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(lines) == &quot;string&quot; then</text>
<text text-anchor="middle" x="6370.5" y="-746.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block:addLine(lines)</text>
<text text-anchor="middle" x="6370.5" y="-731.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif type(lines) == &quot;table&quot; then</text>
<text text-anchor="middle" x="6370.5" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for _, l in ipairs(lines) do</text>
<text text-anchor="middle" x="6370.5" y="-700.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;block:addLine(l)</text>
<text text-anchor="middle" x="6370.5" y="-685.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6370.5" y="-669.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="6370.5" y="-654.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;freeze(&quot;Error: in block.new type of `lines` is &quot; .. type(lines))</text>
<text text-anchor="middle" x="6370.5" y="-638.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6370.5" y="-623.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6370.5" y="-592.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;block.id = &quot;block&quot;</text>
<text text-anchor="middle" x="6370.5" y="-576.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return block</text>
<text text-anchor="middle" x="6370.5" y="-561.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_66&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>codeblock_66&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6352.1367,-921.5733C6352.7734,-914.5598 6353.5667,-905.8219 6354.4634,-895.944"/>
<polygon fill="#000000" stroke="#000000" points="6357.9742,-895.9832 6355.3928,-885.7077 6351.0029,-895.3502 6357.9742,-895.9832"/>
</g>
<!-- raw_73 -->
<g id="node74" class="node">
<title>raw_73</title>
<ellipse fill="none" stroke="#000000" cx="6689.5" cy="-719.3011" rx="27" ry="18"/>
<text text-anchor="middle" x="6689.5" y="-715.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_67&#45;&gt;raw_73 -->
<g id="edge73" class="edge">
<title>prose_67&#45;&gt;raw_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6618.169,-925.1973C6630.1788,-915.3633 6644.8423,-901.3041 6653.5,-885.6014 6677.8243,-841.4837 6685.7165,-782.3428 6688.2751,-747.7746"/>
<polygon fill="#000000" stroke="#000000" points="6691.7889,-747.6672 6688.9324,-737.4648 6684.8031,-747.2218 6691.7889,-747.6672"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="7058.5,-839.5016 6734.5,-839.5016 6734.5,-599.1006 7058.5,-599.1006 7058.5,-839.5016"/>
<text text-anchor="middle" x="6896.5" y="-824.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">local function structureOrProse(line)</text>
<text text-anchor="middle" x="6896.5" y="-808.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if L.match(m.tagline_p, line) then</text>
<text text-anchor="middle" x="6896.5" y="-793.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, &quot;tagline&quot;</text>
<text text-anchor="middle" x="6896.5" y="-778.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif L.match(m.listline_p, line) then</text>
<text text-anchor="middle" x="6896.5" y="-762.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, &quot;listline&quot;</text>
<text text-anchor="middle" x="6896.5" y="-747.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif L.match(m.tableline_p, line) then</text>
<text text-anchor="middle" x="6896.5" y="-731.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, &quot;tableline&quot;</text>
<text text-anchor="middle" x="6896.5" y="-716.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6896.5" y="-701.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return false, &quot;&quot;</text>
<text text-anchor="middle" x="6896.5" y="-685.601" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6896.5" y="-654.201" font-family="Inconsolata" font-size="14.00" fill="#000000">b[&quot;__call&quot;] = new</text>
<text text-anchor="middle" x="6896.5" y="-638.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">b[&quot;__index&quot;] = b</text>
<text text-anchor="middle" x="6896.5" y="-607.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">return setmetatable({}, b)</text>
</g>
<!-- codeblock_68&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>codeblock_68&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6832.2284,-921.5733C6837.5822,-904.7239 6846.0985,-877.9221 6855.2025,-849.2703"/>
<polygon fill="#000000" stroke="#000000" points="6858.6161,-850.0847 6858.3088,-839.4944 6851.9448,-847.9649 6858.6161,-850.0847"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="6079.5,-329.9004 6025.5,-329.9004 6025.5,-293.9004 6079.5,-293.9004 6079.5,-329.9004"/>
</g>
<!-- raw_70&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>raw_70&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6051.5443,-701.2699C6051.702,-636.9981 6052.2377,-418.7723 6052.4303,-340.3003"/>
<polygon fill="#000000" stroke="#000000" points="6055.9305,-340.1942 6052.4551,-330.1856 6048.9305,-340.1769 6055.9305,-340.1942"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="6862,-355.1007 6517,-355.1007 6517,-268.7001 6862,-268.7001 6862,-355.1007"/>
<text text-anchor="middle" x="6689.5" y="-323.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; returns: </text>
<text text-anchor="middle" x="6689.5" y="-308.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;1. true for structure, false for prose</text>
<text text-anchor="middle" x="6689.5" y="-293.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;2. id of structure line or &quot;&quot; for prose</text>
</g>
<!-- raw_73&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>raw_73&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6689.5,-701.2699C6689.5,-642.9224 6689.5,-457.6948 6689.5,-365.3323"/>
<polygon fill="#000000" stroke="#000000" points="6693.0001,-365.0799 6689.5,-355.0799 6686.0001,-365.0799 6693.0001,-365.0799"/>
</g>
</g>
</svg>