<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="3096pt" height="1912pt"
 viewBox="0.00 0.00 3095.50 1912.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1908.4027)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1908.4027 3091.5,-1908.4027 3091.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1225.5" cy="-1886.4027" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1225.5" y="-1882.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 144</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1225.5" cy="-1814.4027" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1225.5" y="-1810.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;48</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1225.5,-1868.234C1225.5,-1860.5336 1225.5,-1851.377 1225.5,-1842.8193"/>
<polygon fill="#000000" stroke="#000000" points="1229.0001,-1842.8159 1225.5,-1832.816 1222.0001,-1842.816 1229.0001,-1842.8159"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="896.5" cy="-1742.4027" rx="98.1935" ry="18"/>
<text text-anchor="middle" x="896.5" y="-1738.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Ownership function</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1176.6006,-1803.7013C1121.8888,-1791.7279 1032.6794,-1772.2049 969.6582,-1758.413"/>
<polygon fill="#000000" stroke="#000000" points="970.2949,-1754.9696 959.7778,-1756.2507 968.7983,-1761.8077 970.2949,-1754.9696"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="1058.5" cy="-1742.4027" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="1058.5" y="-1738.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;5</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1190.8975,-1799.4842C1164.2335,-1787.9884 1127.2983,-1772.0642 1099.2127,-1759.9555"/>
<polygon fill="#000000" stroke="#000000" points="1100.2474,-1756.5902 1089.6788,-1755.8451 1097.476,-1763.0182 1100.2474,-1756.5902"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="1168.5" cy="-1742.4027" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="1168.5" y="-1738.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 6&#45;8</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1211.4101,-1796.6049C1204.5256,-1787.9087 1196.1187,-1777.2894 1188.5765,-1767.7625"/>
<polygon fill="#000000" stroke="#000000" points="1191.1824,-1765.4153 1182.2311,-1759.7473 1185.694,-1769.7602 1191.1824,-1765.4153"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="1283.5" cy="-1742.4027" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="1283.5" y="-1738.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 9&#45;13</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1239.8371,-1796.6049C1246.8424,-1787.9087 1255.3968,-1777.2894 1263.0713,-1767.7625"/>
<polygon fill="#000000" stroke="#000000" points="1265.9803,-1769.7305 1269.528,-1759.7473 1260.529,-1765.3392 1265.9803,-1769.7305"/>
</g>
<!-- block_6 -->
<g id="node7" class="node">
<title>block_6</title>
<ellipse fill="none" stroke="#000000" cx="1425.5" cy="-1742.4027" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1425.5" y="-1738.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 14&#45;48</text>
</g>
<!-- section_1&#45;&gt;block_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;block_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1264.5368,-1800.3494C1297.2684,-1788.5661 1344.0908,-1771.71 1378.8043,-1759.2131"/>
<polygon fill="#000000" stroke="#000000" points="1380.0291,-1762.4922 1388.2525,-1755.8118 1377.658,-1755.9059 1380.0291,-1762.4922"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="1990.5" cy="-1742.4027" rx="70.655" ry="18"/>
<text text-anchor="middle" x="1990.5" y="-1738.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 49&#45;144</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1283.6272,-1808.9319C1420.0517,-1796.0919 1760.7635,-1764.0249 1913.8703,-1749.6149"/>
<polygon fill="#000000" stroke="#000000" points="1914.4942,-1753.0717 1924.1222,-1748.65 1913.8382,-1746.1025 1914.4942,-1753.0717"/>
</g>
<!-- prose_8 -->
<g id="node9" class="node">
<title>prose_8</title>
<ellipse fill="none" stroke="#000000" cx="674.5" cy="-1670.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="674.5" y="-1666.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_3&#45;&gt;prose_8 -->
<g id="edge8" class="edge">
<title>block_3&#45;&gt;prose_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1024.1133,-1730.253C1017.3344,-1728.1127 1010.2346,-1726.0471 1003.5,-1724.4027 901.7076,-1699.548 779.3632,-1682.8423 716.4337,-1675.1891"/>
<polygon fill="#000000" stroke="#000000" points="716.4699,-1671.6684 706.1241,-1673.952 715.6358,-1678.6186 716.4699,-1671.6684"/>
</g>
<!-- prose_10 -->
<g id="node11" class="node">
<title>prose_10</title>
<ellipse fill="none" stroke="#000000" cx="970.5" cy="-1670.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="970.5" y="-1666.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_4&#45;&gt;prose_10 -->
<g id="edge10" class="edge">
<title>block_4&#45;&gt;prose_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1134.4626,-1730.0254C1099.0893,-1717.1624 1043.9052,-1697.0955 1007.4787,-1683.8495"/>
<polygon fill="#000000" stroke="#000000" points="1008.3281,-1680.4342 997.734,-1680.306 1005.9358,-1687.0127 1008.3281,-1680.4342"/>
</g>
<!-- prose_12 -->
<g id="node13" class="node">
<title>prose_12</title>
<ellipse fill="none" stroke="#000000" cx="1283.5" cy="-1670.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1283.5" y="-1666.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_5&#45;&gt;prose_12 -->
<g id="edge12" class="edge">
<title>block_5&#45;&gt;prose_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1283.5,-1724.234C1283.5,-1716.5336 1283.5,-1707.377 1283.5,-1698.8193"/>
<polygon fill="#000000" stroke="#000000" points="1287.0001,-1698.8159 1283.5,-1688.816 1280.0001,-1698.816 1287.0001,-1698.8159"/>
</g>
<!-- codeblock_14 -->
<g id="node15" class="node">
<title>codeblock_14</title>
<ellipse fill="none" stroke="#000000" cx="1441.5" cy="-1670.4027" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1441.5" y="-1666.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 14&#45;46</text>
</g>
<!-- block_6&#45;&gt;codeblock_14 -->
<g id="edge14" class="edge">
<title>block_6&#45;&gt;codeblock_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1429.5375,-1724.234C1431.2487,-1716.5336 1433.2835,-1707.377 1435.1852,-1698.8193"/>
<polygon fill="#000000" stroke="#000000" points="1438.6554,-1699.3371 1437.4082,-1688.816 1431.8221,-1697.8185 1438.6554,-1699.3371"/>
</g>
<!-- header_16 -->
<g id="node17" class="node">
<title>header_16</title>
<ellipse fill="none" stroke="#000000" cx="1709.5" cy="-1670.4027" rx="142.1715" ry="18"/>
<text text-anchor="middle" x="1709.5" y="-1666.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Helper functions for own.parse</text>
</g>
<!-- section_7&#45;&gt;header_16 -->
<g id="edge16" class="edge">
<title>section_7&#45;&gt;header_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1940.5866,-1729.6135C1896.6739,-1718.3618 1832.1803,-1701.8368 1782.4774,-1689.1015"/>
<polygon fill="#000000" stroke="#000000" points="1783.3003,-1685.6994 1772.7445,-1686.6077 1781.5628,-1692.4803 1783.3003,-1685.6994"/>
</g>
<!-- block_17 -->
<g id="node18" class="node">
<title>block_17</title>
<ellipse fill="none" stroke="#000000" cx="1925.5" cy="-1670.4027" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1925.5" y="-1666.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 49&#45;54</text>
</g>
<!-- section_7&#45;&gt;block_17 -->
<g id="edge17" class="edge">
<title>section_7&#45;&gt;block_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1974.4326,-1724.6049C1966.4232,-1715.733 1956.6069,-1704.8596 1947.8742,-1695.1864"/>
<polygon fill="#000000" stroke="#000000" points="1950.4573,-1692.8246 1941.1583,-1687.7473 1945.2614,-1697.5153 1950.4573,-1692.8246"/>
</g>
<!-- block_18 -->
<g id="node19" class="node">
<title>block_18</title>
<ellipse fill="none" stroke="#000000" cx="2055.5" cy="-1670.4027" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2055.5" y="-1666.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 55&#45;67</text>
</g>
<!-- section_7&#45;&gt;block_18 -->
<g id="edge18" class="edge">
<title>section_7&#45;&gt;block_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2006.5674,-1724.6049C2014.5768,-1715.733 2024.3931,-1704.8596 2033.1258,-1695.1864"/>
<polygon fill="#000000" stroke="#000000" points="2035.7386,-1697.5153 2039.8417,-1687.7473 2030.5427,-1692.8246 2035.7386,-1697.5153"/>
</g>
<!-- block_19 -->
<g id="node20" class="node">
<title>block_19</title>
<ellipse fill="none" stroke="#000000" cx="2294.5" cy="-1670.4027" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2294.5" y="-1666.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 68&#45;71</text>
</g>
<!-- section_7&#45;&gt;block_19 -->
<g id="edge19" class="edge">
<title>section_7&#45;&gt;block_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2042.414,-1730.1073C2097.2861,-1717.1112 2183.4843,-1696.6959 2239.4982,-1683.4294"/>
<polygon fill="#000000" stroke="#000000" points="2240.3237,-1686.8308 2249.2479,-1681.1203 2238.7104,-1680.0193 2240.3237,-1686.8308"/>
</g>
<!-- block_20 -->
<g id="node21" class="node">
<title>block_20</title>
<ellipse fill="none" stroke="#000000" cx="2576.5" cy="-1670.4027" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="2576.5" y="-1666.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 72&#45;144</text>
</g>
<!-- section_7&#45;&gt;block_20 -->
<g id="edge20" class="edge">
<title>section_7&#45;&gt;block_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2054.3278,-1734.5604C2166.1951,-1720.8156 2396.5571,-1692.5117 2510.1669,-1678.5528"/>
<polygon fill="#000000" stroke="#000000" points="2510.6295,-1682.0224 2520.128,-1677.3289 2509.7758,-1675.0746 2510.6295,-1682.0224"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="527,-1397.7028 0,-1397.7028 0,-1343.1019 527,-1343.1019 527,-1397.7028"/>
<text text-anchor="middle" x="263.5" y="-1366.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Taking a multi&#45;pass approach to this Grimoire instance will benefit us </text>
<text text-anchor="middle" x="263.5" y="-1351.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">in a few ways. </text>
</g>
<!-- prose_8&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>prose_8&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M645.391,-1662.4939C616.235,-1653.8113 570.7508,-1638.1558 535.5,-1616.4027 437.3193,-1555.8157 341.8553,-1457.7529 294.4497,-1405.6189"/>
<polygon fill="#000000" stroke="#000000" points="296.8357,-1403.0389 287.5351,-1397.9644 291.6413,-1407.7313 296.8357,-1403.0389"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="1002,-1389.7029 545,-1389.7029 545,-1351.1018 1002,-1351.1018 1002,-1389.7029"/>
<text text-anchor="middle" x="773.5" y="-1374.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">First, Grimoire itself is structured in a certain fashion. The </text>
<text text-anchor="middle" x="773.5" y="-1359.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">straightforward thing is to mirror that fashion in code.</text>
</g>
<!-- prose_10&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>prose_10&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M959.344,-1653.4138C926.8382,-1603.9126 831.9742,-1459.4495 791.8072,-1398.2813"/>
<polygon fill="#000000" stroke="#000000" points="794.7063,-1396.3198 786.2917,-1389.8821 788.8551,-1400.1622 794.7063,-1396.3198"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="1547,-1405.0036 1020,-1405.0036 1020,-1335.8011 1547,-1335.8011 1547,-1405.0036"/>
<text text-anchor="middle" x="1283.5" y="-1390.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">Second, the critical path right now is simple code generation from </text>
<text text-anchor="middle" x="1283.5" y="-1374.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">Grimoire documents. Parsing prose gets useful later, for now I simply</text>
<text text-anchor="middle" x="1283.5" y="-1359.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">wish to unravel some existing code into Grimoire format and start working</text>
<text text-anchor="middle" x="1283.5" y="-1343.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">on it accordingly. </text>
</g>
<!-- prose_12&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>prose_12&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1283.5,-1652.0879C1283.5,-1605.7178 1283.5,-1482.6064 1283.5,-1415.5215"/>
<polygon fill="#000000" stroke="#000000" points="1287.0001,-1415.2562 1283.5,-1405.2562 1280.0001,-1415.2562 1287.0001,-1415.2562"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="1875.5,-1616.403 1565.5,-1616.403 1565.5,-1124.4017 1875.5,-1124.4017 1875.5,-1616.403"/>
<text text-anchor="middle" x="1720.5" y="-1601.2027" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1720.5" y="-1569.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
<text text-anchor="middle" x="1720.5" y="-1538.4026" font-family="Inconsolata" font-size="14.00" fill="#000000">local util = require &quot;../lib/util&quot;</text>
<text text-anchor="middle" x="1720.5" y="-1523.0026" font-family="Inconsolata" font-size="14.00" fill="#000000">local freeze = util.freeze</text>
<text text-anchor="middle" x="1720.5" y="-1491.6026" font-family="Inconsolata" font-size="14.00" fill="#000000">local Csp = epeg.Csp</text>
<text text-anchor="middle" x="1720.5" y="-1460.2025" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;../lib/ansi&quot;</text>
<text text-anchor="middle" x="1720.5" y="-1444.8025" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="1720.5" y="-1397.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">local ast = require &quot;peg/ast&quot;</text>
<text text-anchor="middle" x="1720.5" y="-1366.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="1720.5" y="-1334.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="1720.5" y="-1303.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">local Header = require &quot;grym/header&quot;</text>
<text text-anchor="middle" x="1720.5" y="-1287.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">local Section = require &quot;grym/section&quot;</text>
<text text-anchor="middle" x="1720.5" y="-1272.4023" font-family="Inconsolata" font-size="14.00" fill="#000000">local Block = require &quot;grym/block&quot;</text>
<text text-anchor="middle" x="1720.5" y="-1257.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">local Codeblock = require &quot;grym/codeblock&quot;</text>
<text text-anchor="middle" x="1720.5" y="-1225.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">local own = {}</text>
<text text-anchor="middle" x="1720.5" y="-1194.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">local blue = tostring(a.blue)</text>
<text text-anchor="middle" x="1720.5" y="-1178.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">local red = tostring(a.red)</text>
<text text-anchor="middle" x="1720.5" y="-1163.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">local dim = tostring(a.dim)</text>
<text text-anchor="middle" x="1720.5" y="-1148.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local green = tostring(a.green)</text>
<text text-anchor="middle" x="1720.5" y="-1132.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">local cl &#160;&#160;= tostring(a.clear)</text>
</g>
<!-- codeblock_14&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>codeblock_14&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1486.4229,-1655.6201C1508.8588,-1646.7089 1535.4248,-1633.6992 1555.5,-1616.4027 1556.2244,-1615.7785 1556.947,-1615.1505 1557.6677,-1614.5186"/>
<polygon fill="#000000" stroke="#000000" points="1560.2451,-1616.9071 1565.3196,-1607.6065 1555.5527,-1611.7126 1560.2451,-1616.9071"/>
</g>
<!-- prose_21 -->
<g id="node22" class="node">
<title>prose_21</title>
<ellipse fill="none" stroke="#000000" cx="1925.5" cy="-1370.4024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1925.5" y="-1366.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_17&#45;&gt;prose_21 -->
<g id="edge21" class="edge">
<title>block_17&#45;&gt;prose_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1925.5,-1652.0879C1925.5,-1601.4436 1925.5,-1459.2589 1925.5,-1398.503"/>
<polygon fill="#000000" stroke="#000000" points="1929.0001,-1398.4774 1925.5,-1388.4774 1922.0001,-1398.4775 1929.0001,-1398.4774"/>
</g>
<!-- codeblock_23 -->
<g id="node24" class="node">
<title>codeblock_23</title>
<ellipse fill="none" stroke="#000000" cx="2054.5" cy="-1370.4024" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2054.5" y="-1366.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 55&#45;65</text>
</g>
<!-- block_18&#45;&gt;codeblock_23 -->
<g id="edge23" class="edge">
<title>block_18&#45;&gt;codeblock_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2055.439,-1652.0879C2055.2701,-1601.4436 2054.7962,-1459.2589 2054.5937,-1398.503"/>
<polygon fill="#000000" stroke="#000000" points="2058.0937,-1398.4657 2054.5603,-1388.4774 2051.0937,-1398.4891 2058.0937,-1398.4657"/>
</g>
<!-- prose_25 -->
<g id="node26" class="node">
<title>prose_25</title>
<ellipse fill="none" stroke="#000000" cx="2349.5" cy="-1370.4024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2349.5" y="-1366.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_19&#45;&gt;prose_25 -->
<g id="edge25" class="edge">
<title>block_19&#45;&gt;prose_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2297.8577,-1652.0879C2307.1425,-1601.4436 2333.2097,-1459.2589 2344.3482,-1398.503"/>
<polygon fill="#000000" stroke="#000000" points="2347.8255,-1398.9447 2346.1862,-1388.4774 2340.9403,-1397.6823 2347.8255,-1398.9447"/>
</g>
<!-- codeblock_27 -->
<g id="node28" class="node">
<title>codeblock_27</title>
<ellipse fill="none" stroke="#000000" cx="2705.5" cy="-1370.4024" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="2705.5" y="-1366.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 72&#45;143</text>
</g>
<!-- block_20&#45;&gt;codeblock_27 -->
<g id="edge27" class="edge">
<title>block_20&#45;&gt;codeblock_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2584.1832,-1652.5347C2605.8658,-1602.1101 2667.6428,-1458.4426 2693.6892,-1397.8694"/>
<polygon fill="#000000" stroke="#000000" points="2696.959,-1399.1253 2697.6939,-1388.556 2690.5283,-1396.3601 2696.959,-1399.1253"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1808.5,-579.4014 1386.5,-579.4014 1386.5,-509.0007 1808.5,-509.0007 1808.5,-579.4014"/>
<text text-anchor="middle" x="1597.5" y="-548.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Trims leading whitespace, returning the amount taken and</text>
<text text-anchor="middle" x="1597.5" y="-532.701" font-family="Inconsolata" font-size="14.00" fill="#000000">the trimmed string.</text>
<text text-anchor="middle" x="1597.5" y="-517.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prose_21&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>prose_21&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1927.5068,-1352.3457C1931.3763,-1308.7428 1935.4477,-1196.0238 1884.5,-1124.4021 1865.132,-1097.1748 1840.7474,-1113.3319 1818.5,-1088.4021 1682.7854,-936.3243 1624.2702,-689.9588 1605.1382,-589.26"/>
<polygon fill="#000000" stroke="#000000" points="1608.5757,-588.6008 1603.3048,-579.4102 1601.6939,-589.8818 1608.5757,-588.6008"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="2228,-617.3019 1827,-617.3019 1827,-471.1002 2228,-471.1002 2228,-617.3019"/>
<text text-anchor="middle" x="2027.5" y="-602.3012" font-family="Inconsolata" font-size="14.00" fill="#000000">local function lead_whitespace(str)</text>
<text text-anchor="middle" x="2027.5" y="-586.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local lead_ws = L.match(m.WS, str)</text>
<text text-anchor="middle" x="2027.5" y="-571.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if lead_ws &gt; 1 then</text>
<text text-anchor="middle" x="2027.5" y="-556.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; &#160;io.write(green..(&quot;%&quot;):rep(lead_ws &#45; 1)..cl)</text>
<text text-anchor="middle" x="2027.5" y="-540.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return lead_ws, str:sub(lead_ws)</text>
<text text-anchor="middle" x="2027.5" y="-525.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2027.5" y="-509.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return 0, str</text>
<text text-anchor="middle" x="2027.5" y="-494.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2027.5" y="-479.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_23&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>codeblock_23&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2053.911,-1352.3776C2050.8138,-1257.6039 2036.3254,-814.2577 2030.2218,-627.489"/>
<polygon fill="#000000" stroke="#000000" points="2033.7184,-627.3247 2029.8936,-617.4444 2026.7222,-627.5534 2033.7184,-627.3247"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="2507,-571.5015 2246,-571.5015 2246,-516.9006 2507,-516.9006 2507,-571.5015"/>
<text text-anchor="middle" x="2376.5" y="-556.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> Takes a string, parsing ownership.</text>
<text text-anchor="middle" x="2376.5" y="-541.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> Returns a Doc.</text>
</g>
<!-- prose_25&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>prose_25&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2350.089,-1352.3776C2353.4784,-1248.6624 2370.5099,-727.4986 2375.2652,-581.9858"/>
<polygon fill="#000000" stroke="#000000" points="2378.7702,-581.8887 2375.5987,-571.7796 2371.7739,-581.6599 2378.7702,-581.8887"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="3087.5,-1088.6032 2525.5,-1088.6032 2525.5,.2011 3087.5,.2011 3087.5,-1088.6032"/>
<text text-anchor="middle" x="2806.5" y="-1073.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">function own(doc, str)</text>
<text text-anchor="middle" x="2806.5" y="-1057.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local linum = 1</text>
<text text-anchor="middle" x="2806.5" y="-1042.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local doc_level = 0</text>
<text text-anchor="middle" x="2806.5" y="-1027.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local start = 1</text>
<text text-anchor="middle" x="2806.5" y="-1011.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local num_lines = #(epeg.split(str,&quot;\n&quot;))</text>
<text text-anchor="middle" x="2806.5" y="-996.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Track code blocks separately to avoid `* A` type collisions in code</text>
<text text-anchor="middle" x="2806.5" y="-980.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local code_block = false</text>
<text text-anchor="middle" x="2806.5" y="-965.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, line in ipairs(epeg.split(str, &quot;\n&quot;)) do</text>
<text text-anchor="middle" x="2806.5" y="-950.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local finish = start + #line</text>
<text text-anchor="middle" x="2806.5" y="-934.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; tab and return filtration</text>
<text text-anchor="middle" x="2806.5" y="-919.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local l, err = line:gsub(&quot;\t&quot;, &quot; &#160;&quot;):gsub(&quot;\r&quot;, &quot;&quot;) </text>
<text text-anchor="middle" x="2806.5" y="-903.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; We should always have a string but..</text>
<text text-anchor="middle" x="2806.5" y="-888.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if l then</text>
<text text-anchor="middle" x="2806.5" y="-873.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if not code_block then</text>
<text text-anchor="middle" x="2806.5" y="-857.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local indent, l_trim = lead_whitespace(l)</text>
<text text-anchor="middle" x="2806.5" y="-842.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local code_head = Codeblock.matchHead(l)</text>
<text text-anchor="middle" x="2806.5" y="-826.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if code_head then </text>
<text text-anchor="middle" x="2806.5" y="-811.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_block = true </text>
<text text-anchor="middle" x="2806.5" y="-796.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2806.5" y="-780.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local isHeader, level, bareline = Header.match(l_trim) </text>
<text text-anchor="middle" x="2806.5" y="-749.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if isHeader then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="middle" x="2806.5" y="-733.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local header = Header(bareline, level, start, finish, doc)</text>
<text text-anchor="middle" x="2806.5" y="-702.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; make new block and append to doc</text>
<text text-anchor="middle" x="2806.5" y="-687.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc:addSection(Section(header, linum), linum)</text>
<text text-anchor="middle" x="2806.5" y="-655.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else </text>
<text text-anchor="middle" x="2806.5" y="-640.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc:addLine(l, linum)</text>
<text text-anchor="middle" x="2806.5" y="-624.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2806.5" y="-609.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else </text>
<text text-anchor="middle" x="2806.5" y="-594.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; code block logic, including restarts</text>
<text text-anchor="middle" x="2806.5" y="-578.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45;</text>
<text text-anchor="middle" x="2806.5" y="-563.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; NOTE that this will choke on unmatched code headers,</text>
<text text-anchor="middle" x="2806.5" y="-547.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; which I intend to fix. But it&#39;s fiddly.</text>
<text text-anchor="middle" x="2806.5" y="-532.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local code_foot = Codeblock.matchFoot(l)</text>
<text text-anchor="middle" x="2806.5" y="-517.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if code_foot then </text>
<text text-anchor="middle" x="2806.5" y="-501.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code_block = false</text>
<text text-anchor="middle" x="2806.5" y="-486.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2806.5" y="-470.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc:addLine(l, linum)</text>
<text text-anchor="middle" x="2806.5" y="-455.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2806.5" y="-440.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif ER then</text>
<text text-anchor="middle" x="2806.5" y="-424.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;freeze(&quot;HUH?&quot;)</text>
<text text-anchor="middle" x="2806.5" y="-409.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2806.5" y="-393.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;linum = linum + 1</text>
<text text-anchor="middle" x="2806.5" y="-378.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;start = finish</text>
<text text-anchor="middle" x="2806.5" y="-363.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if linum &lt; num_lines then start = start + 1 end</text>
<text text-anchor="middle" x="2806.5" y="-347.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2806.5" y="-332.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if (doc.latest) then</text>
<text text-anchor="middle" x="2806.5" y="-316.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest.line_last = linum &#45; 1</text>
<text text-anchor="middle" x="2806.5" y="-301.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2806.5" y="-286.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local sections = doc:select(&quot;section&quot;)</text>
<text text-anchor="middle" x="2806.5" y="-270.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, s in ipairs(sections) do</text>
<text text-anchor="middle" x="2806.5" y="-255.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:check()</text>
<text text-anchor="middle" x="2806.5" y="-239.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:block()</text>
<text text-anchor="middle" x="2806.5" y="-224.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2806.5" y="-209.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local blocks = doc:select(&quot;block&quot;)</text>
<text text-anchor="middle" x="2806.5" y="-193.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, block in ipairs(blocks) do</text>
<text text-anchor="middle" x="2806.5" y="-178.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; block:toValue()</text>
<text text-anchor="middle" x="2806.5" y="-162.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;block:parseProse()</text>
<text text-anchor="middle" x="2806.5" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2806.5" y="-132.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local cbs = doc:select(&quot;codeblock&quot;)</text>
<text text-anchor="middle" x="2806.5" y="-116.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, cb in ipairs(cbs) do</text>
<text text-anchor="middle" x="2806.5" y="-101.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;cb:toValue()</text>
<text text-anchor="middle" x="2806.5" y="-85.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2806.5" y="-70.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.linum = linum &#45; 1</text>
<text text-anchor="middle" x="2806.5" y="-55.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc</text>
<text text-anchor="middle" x="2806.5" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2806.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return own</text>
</g>
<!-- codeblock_27&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>codeblock_27&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2707.7035,-1352.3776C2712.4968,-1313.1672 2724.584,-1214.2916 2738.7261,-1098.6062"/>
<polygon fill="#000000" stroke="#000000" points="2742.2283,-1098.8 2739.9677,-1088.4492 2735.2801,-1097.9506 2742.2283,-1098.8"/>
</g>
</g>
</svg>