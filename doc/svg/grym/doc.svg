<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="4329pt" height="1284pt"
 viewBox="0.00 0.00 4329.00 1283.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1279.8015)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1279.8015 4325,-1279.8015 4325,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="762" cy="-1257.8015" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="762" y="-1253.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 175</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="762" cy="-1185.8015" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="762" y="-1181.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;10</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M762,-1239.6328C762,-1231.9324 762,-1222.7758 762,-1214.2181"/>
<polygon fill="#000000" stroke="#000000" points="765.5001,-1214.2147 762,-1204.2147 758.5001,-1214.2148 765.5001,-1214.2147"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="518" cy="-1113.8015" rx="69.6687" ry="18"/>
<text text-anchor="middle" x="518" y="-1109.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Doc module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M718.9394,-1173.095C678.4923,-1161.1598 617.7587,-1143.2385 573.6521,-1130.2234"/>
<polygon fill="#000000" stroke="#000000" points="574.5278,-1126.8327 563.946,-1127.3593 572.5466,-1133.5465 574.5278,-1126.8327"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="652" cy="-1113.8015" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="652" y="-1109.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;4</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M736.7638,-1169.2832C721.0997,-1159.0304 700.8265,-1145.7606 684.0345,-1134.7695"/>
<polygon fill="#000000" stroke="#000000" points="685.8974,-1131.8058 675.6136,-1129.2576 682.0638,-1137.6627 685.8974,-1131.8058"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="762" cy="-1113.8015" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="762" y="-1109.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 5&#45;6</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M762,-1167.6328C762,-1159.9324 762,-1150.7758 762,-1142.2181"/>
<polygon fill="#000000" stroke="#000000" points="765.5001,-1142.2147 762,-1132.2147 758.5001,-1142.2148 765.5001,-1142.2147"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="1020" cy="-1113.8015" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="1020" y="-1109.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 7&#45;10</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M806.3518,-1173.4242C851.9496,-1160.6993 922.8103,-1140.9242 970.279,-1127.6771"/>
<polygon fill="#000000" stroke="#000000" points="971.3446,-1131.0135 980.0357,-1124.9543 969.4629,-1124.2712 971.3446,-1131.0135"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="2329" cy="-1113.8015" rx="69.851" ry="18"/>
<text text-anchor="middle" x="2329" y="-1109.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 11&#45;175</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M822.4681,-1183.0231C1065.9747,-1171.8345 1974.8358,-1130.0745 2249.7351,-1117.4435"/>
<polygon fill="#000000" stroke="#000000" points="2250.1935,-1120.9262 2260.0223,-1116.9708 2249.8721,-1113.9336 2250.1935,-1120.9262"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="520,-1052.3035 0,-1052.3035 0,-1012.4994 520,-1012.4994 520,-1052.3035"/>
<text text-anchor="middle" x="260" y="-1020.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> Represents a Document, which is generally the same as a file, at first.</text>
</g>
<!-- block_3&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>block_3&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M617.5819,-1101.777C610.8057,-1099.6258 603.715,-1097.5241 597,-1095.8015 531.5865,-1079.0205 457.9757,-1064.6629 396.2757,-1053.8758"/>
<polygon fill="#000000" stroke="#000000" points="396.5365,-1050.3689 386.0853,-1052.1077 395.3397,-1057.2658 396.5365,-1050.3689"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="841.5,-1050.4014 538.5,-1050.4014 538.5,-1014.4014 841.5,-1014.4014 841.5,-1050.4014"/>
<text text-anchor="middle" x="690" y="-1028.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> A document contains an array of blocks. </text>
</g>
<!-- block_4&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>block_4&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M746.7307,-1096.5386C736.9107,-1085.4366 723.969,-1070.8053 712.9263,-1058.321"/>
<polygon fill="#000000" stroke="#000000" points="715.2429,-1055.6572 705.9959,-1050.4857 709.9996,-1060.2949 715.2429,-1055.6572"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="1324,-1059.7019 860,-1059.7019 860,-1005.101 1324,-1005.101 1324,-1059.7019"/>
<text text-anchor="middle" x="1092" y="-1044.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> At some point documents can also contain documents, this is not</text>
<text text-anchor="middle" x="1092" y="-1029.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> currently supported.</text>
</g>
<!-- block_5&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>block_5&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1035.2693,-1096.5386C1042.7693,-1088.0595 1052.0901,-1077.5218 1060.9952,-1067.4541"/>
<polygon fill="#000000" stroke="#000000" points="1063.6831,-1069.6981 1067.6868,-1059.8888 1058.4398,-1065.0603 1063.6831,-1069.6981"/>
</g>
<!-- header_10 -->
<g id="node11" class="node">
<title>header_10</title>
<ellipse fill="none" stroke="#000000" cx="1388" cy="-1032.4014" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="1388" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Fields</text>
</g>
<!-- section_6&#45;&gt;header_10 -->
<g id="edge10" class="edge">
<title>section_6&#45;&gt;header_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259.0155,-1113.1315C2077.7654,-1110.8234 1596.5165,-1100.8922 1443,-1059.8015 1436.1455,-1057.9668 1429.1399,-1055.2357 1422.5244,-1052.1979"/>
<polygon fill="#000000" stroke="#000000" points="1423.6921,-1048.8717 1413.1743,-1047.5965 1420.6012,-1055.1524 1423.6921,-1048.8717"/>
</g>
<!-- block_11 -->
<g id="node12" class="node">
<title>block_11</title>
<ellipse fill="none" stroke="#000000" cx="1507" cy="-1032.4014" rx="55.3502" ry="18"/>
<text text-anchor="middle" x="1507" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 11&#45;21</text>
</g>
<!-- section_6&#45;&gt;block_11 -->
<g id="edge11" class="edge">
<title>section_6&#45;&gt;block_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259.3339,-1111.7972C2097.5783,-1106.6661 1700.4996,-1091.1928 1571,-1059.8015 1562.8161,-1057.8176 1554.3463,-1054.8842 1546.3526,-1051.6648"/>
<polygon fill="#000000" stroke="#000000" points="1547.4614,-1048.3331 1536.8891,-1047.6409 1544.7222,-1054.7749 1547.4614,-1048.3331"/>
</g>
<!-- block_12 -->
<g id="node13" class="node">
<title>block_12</title>
<ellipse fill="none" stroke="#000000" cx="1636" cy="-1032.4014" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1636" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 22&#45;29</text>
</g>
<!-- section_6&#45;&gt;block_12 -->
<g id="edge12" class="edge">
<title>section_6&#45;&gt;block_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2260.1784,-1110.6011C2119.9195,-1103.6341 1805.4394,-1085.6205 1701,-1059.8015 1692.6261,-1057.7313 1683.9394,-1054.726 1675.746,-1051.4569"/>
<polygon fill="#000000" stroke="#000000" points="1676.9781,-1048.1783 1666.4026,-1047.5383 1674.2707,-1054.6336 1676.9781,-1048.1783"/>
</g>
<!-- block_13 -->
<g id="node14" class="node">
<title>block_13</title>
<ellipse fill="none" stroke="#000000" cx="1766" cy="-1032.4014" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1766" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 30&#45;32</text>
</g>
<!-- section_6&#45;&gt;block_13 -->
<g id="edge13" class="edge">
<title>section_6&#45;&gt;block_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2261.3319,-1108.9111C2144.7002,-1100.0739 1910.6613,-1080.4374 1831,-1059.8015 1822.7348,-1057.6604 1814.1505,-1054.6533 1806.034,-1051.4107"/>
<polygon fill="#000000" stroke="#000000" points="1807.3439,-1048.1648 1796.7679,-1047.5337 1804.642,-1054.6224 1807.3439,-1048.1648"/>
</g>
<!-- block_14 -->
<g id="node15" class="node">
<title>block_14</title>
<ellipse fill="none" stroke="#000000" cx="1896" cy="-1032.4014" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1896" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 33&#45;68</text>
</g>
<!-- section_6&#45;&gt;block_14 -->
<g id="edge14" class="edge">
<title>section_6&#45;&gt;block_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2270.7676,-1103.6934C2210.4569,-1093.1288 2113.5249,-1075.8811 2030,-1059.8015 2004.5989,-1054.9114 1976.5511,-1049.2215 1952.7088,-1044.298"/>
<polygon fill="#000000" stroke="#000000" points="1953.2701,-1040.84 1942.7681,-1042.2394 1951.8505,-1047.6946 1953.2701,-1040.84"/>
</g>
<!-- block_15 -->
<g id="node16" class="node">
<title>block_15</title>
<ellipse fill="none" stroke="#000000" cx="2095" cy="-1032.4014" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2095" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 69&#45;71</text>
</g>
<!-- section_6&#45;&gt;block_15 -->
<g id="edge15" class="edge">
<title>section_6&#45;&gt;block_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2287.1655,-1099.2488C2246.5533,-1085.1213 2184.9876,-1063.7048 2142.5407,-1048.9391"/>
<polygon fill="#000000" stroke="#000000" points="2143.5834,-1045.5961 2132.9885,-1045.6163 2141.2834,-1052.2075 2143.5834,-1045.5961"/>
</g>
<!-- block_16 -->
<g id="node17" class="node">
<title>block_16</title>
<ellipse fill="none" stroke="#000000" cx="2259" cy="-1032.4014" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2259" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 72&#45;91</text>
</g>
<!-- section_6&#45;&gt;block_16 -->
<g id="edge16" class="edge">
<title>section_6&#45;&gt;block_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2313.811,-1096.1389C2304.1135,-1084.862 2291.3905,-1070.0669 2280.6438,-1057.5701"/>
<polygon fill="#000000" stroke="#000000" points="2283.0928,-1055.0499 2273.9188,-1049.7499 2277.7853,-1059.6141 2283.0928,-1055.0499"/>
</g>
<!-- block_17 -->
<g id="node18" class="node">
<title>block_17</title>
<ellipse fill="none" stroke="#000000" cx="2400" cy="-1032.4014" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2400" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 92&#45;93</text>
</g>
<!-- section_6&#45;&gt;block_17 -->
<g id="edge17" class="edge">
<title>section_6&#45;&gt;block_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2344.4059,-1096.1389C2354.242,-1084.862 2367.1468,-1070.0669 2378.047,-1057.5701"/>
<polygon fill="#000000" stroke="#000000" points="2380.9324,-1059.5867 2384.868,-1049.7499 2375.6571,-1054.9854 2380.9324,-1059.5867"/>
</g>
<!-- block_18 -->
<g id="node19" class="node">
<title>block_18</title>
<ellipse fill="none" stroke="#000000" cx="2640" cy="-1032.4014" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2640" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 94&#45;99</text>
</g>
<!-- section_6&#45;&gt;block_18 -->
<g id="edge18" class="edge">
<title>section_6&#45;&gt;block_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2378.2789,-1100.9034C2435.1092,-1086.0288 2528.1978,-1061.6641 2586.6825,-1046.3566"/>
<polygon fill="#000000" stroke="#000000" points="2587.6837,-1049.7125 2596.4716,-1043.7944 2585.9112,-1042.9406 2587.6837,-1049.7125"/>
</g>
<!-- block_19 -->
<g id="node20" class="node">
<title>block_19</title>
<ellipse fill="none" stroke="#000000" cx="2923" cy="-1032.4014" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="2923" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 100&#45;102</text>
</g>
<!-- section_6&#45;&gt;block_19 -->
<g id="edge19" class="edge">
<title>section_6&#45;&gt;block_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2390.8874,-1105.3206C2502.5135,-1090.0237 2736.7924,-1057.9188 2853.6472,-1041.9053"/>
<polygon fill="#000000" stroke="#000000" points="2854.4679,-1045.3257 2863.9001,-1040.5003 2853.5175,-1038.3905 2854.4679,-1045.3257"/>
</g>
<!-- block_20 -->
<g id="node21" class="node">
<title>block_20</title>
<ellipse fill="none" stroke="#000000" cx="3257" cy="-1032.4014" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="3257" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 103&#45;147</text>
</g>
<!-- section_6&#45;&gt;block_20 -->
<g id="edge20" class="edge">
<title>section_6&#45;&gt;block_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2396.4686,-1108.9129C2517.2001,-1100.0408 2778.1414,-1080.3011 2998,-1059.8015 3061.6272,-1053.8689 3133.9383,-1046.1358 3185.9533,-1040.3983"/>
<polygon fill="#000000" stroke="#000000" points="3186.5225,-1043.8568 3196.0771,-1039.2785 3185.7529,-1036.8992 3186.5225,-1043.8568"/>
</g>
<!-- block_21 -->
<g id="node22" class="node">
<title>block_21</title>
<ellipse fill="none" stroke="#000000" cx="3459" cy="-1032.4014" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="3459" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 148&#45;149</text>
</g>
<!-- section_6&#45;&gt;block_21 -->
<g id="edge21" class="edge">
<title>section_6&#45;&gt;block_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2398.6862,-1111.4918C2595.1703,-1104.7502 3151.0572,-1084.0353 3332,-1059.8015 3354.6772,-1056.7643 3379.3226,-1051.8321 3400.8161,-1046.9836"/>
<polygon fill="#000000" stroke="#000000" points="3401.8094,-1050.3466 3410.7704,-1044.6941 3400.2403,-1043.5247 3401.8094,-1050.3466"/>
</g>
<!-- block_22 -->
<g id="node23" class="node">
<title>block_22</title>
<ellipse fill="none" stroke="#000000" cx="3711" cy="-1032.4014" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="3711" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 150&#45;152</text>
</g>
<!-- section_6&#45;&gt;block_22 -->
<g id="edge22" class="edge">
<title>section_6&#45;&gt;block_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2399.1431,-1113.3216C2584.7944,-1111.4754 3104.2118,-1102.5696 3534,-1059.8015 3571.2952,-1056.0902 3612.7081,-1049.7997 3646.0938,-1044.1814"/>
<polygon fill="#000000" stroke="#000000" points="3646.9133,-1047.5924 3656.1837,-1042.463 3645.738,-1040.6917 3646.9133,-1047.5924"/>
</g>
<!-- block_23 -->
<g id="node24" class="node">
<title>block_23</title>
<ellipse fill="none" stroke="#000000" cx="3940" cy="-1032.4014" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="3940" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 153&#45;155</text>
</g>
<!-- section_6&#45;&gt;block_23 -->
<g id="edge23" class="edge">
<title>section_6&#45;&gt;block_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2398.9418,-1112.4999C2650.9683,-1107.6083 3512.1307,-1089.0967 3786,-1059.8015 3816.4215,-1056.5473 3849.8935,-1050.8506 3877.8389,-1045.4914"/>
<polygon fill="#000000" stroke="#000000" points="3878.7225,-1048.8851 3887.8686,-1043.5373 3877.3838,-1042.0143 3878.7225,-1048.8851"/>
</g>
<!-- block_24 -->
<g id="node25" class="node">
<title>block_24</title>
<ellipse fill="none" stroke="#000000" cx="4162" cy="-1032.4014" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4162" y="-1028.2014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 156&#45;175</text>
</g>
<!-- section_6&#45;&gt;block_24 -->
<g id="edge24" class="edge">
<title>section_6&#45;&gt;block_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2399.2258,-1112.9789C2676.3103,-1109.5121 3694.1919,-1094.6324 4015,-1059.8015 4043.6063,-1056.6956 4074.9982,-1051.1428 4101.401,-1045.8441"/>
<polygon fill="#000000" stroke="#000000" points="4102.1618,-1049.2611 4111.2596,-1043.8314 4100.7616,-1042.4025 4102.1618,-1049.2611"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1226,-969.202 748,-969.202 748,-820.4006 1226,-820.4006 1226,-969.202"/>
<text text-anchor="middle" x="987" y="-921.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> In addition to the standard Node fields, a doc has:</text>
<text text-anchor="middle" x="987" y="-906.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="987" y="-891.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; latest: The current block. &#160;This will be in `doc[#doc]` but may</text>
<text text-anchor="middle" x="987" y="-875.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;be several layers deep.</text>
<text text-anchor="middle" x="987" y="-860.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; lastOf: An array containing references to the last block of a</text>
<text text-anchor="middle" x="987" y="-844.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;given level.</text>
</g>
<!-- block_11&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>block_11&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1475.9627,-1017.3899C1465.6614,-1012.8761 1454.0095,-1008.2622 1443,-1005.0014 1356.1185,-979.269 1328.2261,-989.702 1236.1195,-969.1727"/>
<polygon fill="#000000" stroke="#000000" points="1236.6234,-965.6974 1226.0941,-966.8738 1235.0588,-972.5203 1236.6234,-965.6974"/>
</g>
<!-- codeblock_26 -->
<g id="node27" class="node">
<title>codeblock_26</title>
<ellipse fill="none" stroke="#000000" cx="1321" cy="-894.8013" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1321" y="-890.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 22&#45;28</text>
</g>
<!-- block_12&#45;&gt;codeblock_26 -->
<g id="edge26" class="edge">
<title>block_12&#45;&gt;codeblock_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1604.0361,-1017.5572C1593.6496,-1013.1056 1581.9716,-1008.4858 1571,-1005.0014 1499.8763,-982.4136 1473.735,-1002.3966 1407,-969.0014 1382.9036,-956.9432 1360.0295,-936.6182 1343.9378,-920.2865"/>
<polygon fill="#000000" stroke="#000000" points="1346.0554,-917.4381 1336.6074,-912.6437 1341.0035,-922.2835 1346.0554,-917.4381"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1470,-912.8013 1416,-912.8013 1416,-876.8013 1470,-876.8013 1470,-912.8013"/>
</g>
<!-- block_12&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>block_12&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1602.3327,-1018.0136C1592.2761,-1013.7689 1581.2109,-1009.1505 1571,-1005.0014 1530.3221,-988.4723 1511.2454,-998.803 1479,-969.0014 1465.5441,-956.5652 1456.5452,-938.0212 1450.9097,-922.5833"/>
<polygon fill="#000000" stroke="#000000" points="1454.1856,-921.3438 1447.6791,-912.9823 1447.5511,-923.5763 1454.1856,-921.3438"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1644,-914.7034 1488,-914.7034 1488,-874.8992 1644,-874.8992 1644,-914.7034"/>
<text text-anchor="middle" x="1566" y="-899.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> Metatable for Docs.</text>
</g>
<!-- block_13&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>block_13&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1735.298,-1017.2504C1712.0063,-1005.2691 1679.5742,-987.5243 1653,-969.0014 1632.4266,-954.6612 1610.9724,-936.4053 1594.5165,-921.5902"/>
<polygon fill="#000000" stroke="#000000" points="1596.6166,-918.7691 1586.8654,-914.626 1591.9047,-923.9457 1596.6166,-918.7691"/>
</g>
<!-- codeblock_30 -->
<g id="node31" class="node">
<title>codeblock_30</title>
<ellipse fill="none" stroke="#000000" cx="1739" cy="-894.8013" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1739" y="-890.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 33&#45;67</text>
</g>
<!-- block_14&#45;&gt;codeblock_30 -->
<g id="edge30" class="edge">
<title>block_14&#45;&gt;codeblock_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1876.4333,-1015.2525C1848.8499,-991.0775 1798.389,-946.8519 1766.8865,-919.242"/>
<polygon fill="#000000" stroke="#000000" points="1769.1387,-916.5619 1759.3113,-912.6029 1764.5249,-921.8262 1769.1387,-916.5619"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="1888,-912.8013 1834,-912.8013 1834,-876.8013 1888,-876.8013 1888,-912.8013"/>
</g>
<!-- block_14&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>block_14&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1891.4244,-1014.4126C1885.5094,-991.1582 1875.1435,-950.4055 1868.1761,-923.0135"/>
<polygon fill="#000000" stroke="#000000" points="1871.5456,-922.0623 1865.6885,-913.2337 1864.7617,-923.7879 1871.5456,-922.0623"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2041.5,-914.7034 1906.5,-914.7034 1906.5,-874.8992 2041.5,-874.8992 2041.5,-914.7034"/>
<text text-anchor="middle" x="1974" y="-899.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> Doc constructor.</text>
</g>
<!-- block_15&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>block_15&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2079.6753,-1014.9743C2059.186,-991.6741 2022.6363,-950.1101 1998.3532,-922.4956"/>
<polygon fill="#000000" stroke="#000000" points="2000.7799,-919.955 1991.548,-914.7567 1995.5232,-924.5775 2000.7799,-919.955"/>
</g>
<!-- codeblock_34 -->
<g id="node35" class="node">
<title>codeblock_34</title>
<ellipse fill="none" stroke="#000000" cx="2137" cy="-894.8013" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2137" y="-890.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 72&#45;90</text>
</g>
<!-- block_16&#45;&gt;codeblock_34 -->
<g id="edge34" class="edge">
<title>block_16&#45;&gt;codeblock_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2243.5486,-1014.9743C2222.3065,-991.0159 2183.9433,-947.7473 2159.5099,-920.1895"/>
<polygon fill="#000000" stroke="#000000" points="2161.9644,-917.6821 2152.7113,-912.5216 2156.7266,-922.3261 2161.9644,-917.6821"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2286,-912.8013 2232,-912.8013 2232,-876.8013 2286,-876.8013 2286,-912.8013"/>
</g>
<!-- block_16&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>block_16&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259,-1014.1292C2259,-990.8954 2259,-950.528 2259,-923.2496"/>
<polygon fill="#000000" stroke="#000000" points="2262.5001,-923.1491 2259,-913.1491 2255.5001,-923.1492 2262.5001,-923.1491"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="2516,-912.8013 2304,-912.8013 2304,-876.8013 2516,-876.8013 2516,-912.8013"/>
<text text-anchor="middle" x="2410" y="-891.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> Adds a block to a document.</text>
</g>
<!-- block_17&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>block_17&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2401.3279,-1014.1292C2403.0164,-990.8954 2405.9501,-950.528 2407.9325,-923.2496"/>
<polygon fill="#000000" stroke="#000000" points="2411.4325,-923.3765 2408.6666,-913.1491 2404.4509,-922.8691 2411.4325,-923.3765"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2963.5,-937.3015 2534.5,-937.3015 2534.5,-852.3012 2963.5,-852.3012 2963.5,-937.3015"/>
<text text-anchor="middle" x="2749" y="-922.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> This function looks at document level and places the block</text>
<text text-anchor="middle" x="2749" y="-906.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> accordingly.</text>
<text text-anchor="middle" x="2749" y="-891.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="2749" y="-875.9013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; doc : the document</text>
<text text-anchor="middle" x="2749" y="-860.5013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; block : block to be appended</text>
</g>
<!-- block_18&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>block_18&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2654.0267,-1014.6943C2667.8196,-997.2824 2689.5357,-969.8682 2708.723,-945.6464"/>
<polygon fill="#000000" stroke="#000000" points="2711.6521,-947.5855 2715.1179,-937.5736 2706.165,-943.2389 2711.6521,-947.5855"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="3152,-914.7034 2982,-914.7034 2982,-874.8992 3152,-874.8992 3152,-914.7034"/>
<text text-anchor="middle" x="3067" y="-899.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> returns: the document</text>
</g>
<!-- block_19&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>block_19&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2941.2377,-1014.9743C2965.8309,-991.4741 3009.8669,-949.3952 3038.7585,-921.7876"/>
<polygon fill="#000000" stroke="#000000" points="3041.3046,-924.1958 3046.1165,-914.7567 3036.4685,-919.1348 3041.3046,-924.1958"/>
</g>
<!-- codeblock_40 -->
<g id="node41" class="node">
<title>codeblock_40</title>
<ellipse fill="none" stroke="#000000" cx="3257" cy="-894.8013" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3257" y="-890.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 103&#45;145</text>
</g>
<!-- block_20&#45;&gt;codeblock_40 -->
<g id="edge40" class="edge">
<title>block_20&#45;&gt;codeblock_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3257,-1014.1292C3257,-990.8954 3257,-950.528 3257,-923.2496"/>
<polygon fill="#000000" stroke="#000000" points="3260.5001,-923.1491 3257,-913.1491 3253.5001,-923.1492 3260.5001,-923.1491"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="3416,-912.8013 3362,-912.8013 3362,-876.8013 3416,-876.8013 3416,-912.8013"/>
</g>
<!-- block_20&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>block_20&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3289.6112,-1016.6451C3309.8877,-1005.5601 3335.3637,-989.133 3353,-969.0014 3364.8055,-955.5256 3373.6709,-937.4969 3379.65,-922.5852"/>
<polygon fill="#000000" stroke="#000000" points="3383.0664,-923.4455 3383.3289,-912.8539 3376.5187,-920.9701 3383.0664,-923.4455"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="3590,-912.8013 3434,-912.8013 3434,-876.8013 3590,-876.8013 3590,-912.8013"/>
<text text-anchor="middle" x="3512" y="-891.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> Creates a Doc Node.</text>
</g>
<!-- block_21&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>block_21&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3465.9288,-1014.4126C3474.9253,-991.0557 3490.7211,-950.0461 3501.2725,-922.6523"/>
<polygon fill="#000000" stroke="#000000" points="3504.572,-923.8235 3504.9003,-913.2337 3498.0398,-921.3074 3504.572,-923.8235"/>
</g>
<!-- structure_44 -->
<g id="node45" class="node">
<title>structure_44</title>
<ellipse fill="none" stroke="#000000" cx="3653" cy="-894.8013" rx="44.5182" ry="18"/>
<text text-anchor="middle" x="3653" y="-890.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">structure</text>
</g>
<!-- block_22&#45;&gt;structure_44 -->
<g id="edge44" class="edge">
<title>block_22&#45;&gt;structure_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3703.4175,-1014.4126C3693.5176,-990.926 3676.094,-949.5899 3664.5476,-922.197"/>
<polygon fill="#000000" stroke="#000000" points="3667.6938,-920.6499 3660.5843,-912.7945 3661.2434,-923.3689 3667.6938,-920.6499"/>
</g>
<!-- structure_45 -->
<g id="node46" class="node">
<title>structure_45</title>
<ellipse fill="none" stroke="#000000" cx="3760" cy="-894.8013" rx="44.5182" ry="18"/>
<text text-anchor="middle" x="3760" y="-890.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">structure</text>
</g>
<!-- block_22&#45;&gt;structure_45 -->
<g id="edge45" class="edge">
<title>block_22&#45;&gt;structure_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3717.4059,-1014.4126C3725.7329,-991.029 3740.3605,-949.9522 3750.1157,-922.5582"/>
<polygon fill="#000000" stroke="#000000" points="3753.535,-923.3892 3753.5925,-912.7945 3746.9406,-921.0409 3753.535,-923.3892"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="3877,-912.8013 3823,-912.8013 3823,-876.8013 3877,-876.8013 3877,-912.8013"/>
</g>
<!-- block_22&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>block_22&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3746.0204,-1017.1455C3767.7878,-1006.2602 3795.1236,-989.8675 3814,-969.0014 3826.0189,-955.7156 3834.8891,-937.6912 3840.8173,-922.7341"/>
<polygon fill="#000000" stroke="#000000" points="3844.2452,-923.5581 3844.454,-912.9653 3837.685,-921.1159 3844.2452,-923.5581"/>
</g>
<!-- structure_53 -->
<g id="node54" class="node">
<title>structure_53</title>
<ellipse fill="none" stroke="#000000" cx="3940" cy="-894.8013" rx="44.5182" ry="18"/>
<text text-anchor="middle" x="3940" y="-890.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">structure</text>
</g>
<!-- block_23&#45;&gt;structure_53 -->
<g id="edge53" class="edge">
<title>block_23&#45;&gt;structure_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3940,-1014.1292C3940,-990.8954 3940,-950.528 3940,-923.2496"/>
<polygon fill="#000000" stroke="#000000" points="3943.5001,-923.1491 3940,-913.1491 3936.5001,-923.1492 3943.5001,-923.1491"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="4057,-912.8013 4003,-912.8013 4003,-876.8013 4057,-876.8013 4057,-912.8013"/>
</g>
<!-- block_23&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>block_23&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3957.1352,-1014.7895C3968.4643,-1002.5763 3983.1678,-985.5851 3994,-969.0014 4003.6064,-954.2943 4012.2735,-936.6417 4018.6953,-922.2448"/>
<polygon fill="#000000" stroke="#000000" points="4021.9918,-923.4405 4022.7664,-912.874 4015.5715,-920.6512 4021.9918,-923.4405"/>
</g>
<!-- codeblock_58 -->
<g id="node59" class="node">
<title>codeblock_58</title>
<ellipse fill="none" stroke="#000000" cx="4162" cy="-894.8013" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4162" y="-890.6013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 156&#45;174</text>
</g>
<!-- block_24&#45;&gt;codeblock_58 -->
<g id="edge58" class="edge">
<title>block_24&#45;&gt;codeblock_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4162,-1014.1292C4162,-990.8954 4162,-950.528 4162,-923.2496"/>
<polygon fill="#000000" stroke="#000000" points="4165.5001,-923.1491 4162,-913.1491 4158.5001,-923.1492 4165.5001,-923.1491"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="4321,-912.8013 4267,-912.8013 4267,-876.8013 4321,-876.8013 4321,-912.8013"/>
</g>
<!-- block_24&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>block_24&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4194.6112,-1016.6451C4214.8877,-1005.5601 4240.3637,-989.133 4258,-969.0014 4269.8055,-955.5256 4278.6709,-937.4969 4284.65,-922.5852"/>
<polygon fill="#000000" stroke="#000000" points="4288.0664,-923.4455 4288.3289,-912.8539 4281.5187,-920.9701 4288.0664,-923.4455"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1455,-506.9017 1187,-506.9017 1187,-421.6996 1455,-421.6996 1455,-506.9017"/>
<text text-anchor="middle" x="1321" y="-491.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="1321" y="-460.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="1321" y="-445.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">local Block = require &quot;grym/section&quot;</text>
<text text-anchor="middle" x="1321" y="-429.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">local own = require &quot;grym/own&quot;</text>
</g>
<!-- codeblock_26&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>codeblock_26&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1321,-876.5782C1321,-815.1224 1321,-613.9366 1321,-517.1904"/>
<polygon fill="#000000" stroke="#000000" points="1324.5001,-517.0426 1321,-507.0427 1317.5001,-517.0427 1324.5001,-517.0426"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1957,-724.1015 1521,-724.1015 1521,-204.4997 1957,-204.4997 1957,-724.1015"/>
<text text-anchor="middle" x="1739" y="-709.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local D = setmetatable({}, { __index = Node })</text>
<text text-anchor="middle" x="1739" y="-677.601" font-family="Inconsolata" font-size="14.00" fill="#000000">D.__tostring = function (doc)</text>
<text text-anchor="middle" x="1739" y="-662.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="1739" y="-646.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(doc) do</text>
<text text-anchor="middle" x="1739" y="-631.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local repr = tostring(v)</text>
<text text-anchor="middle" x="1739" y="-616.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if repr ~= &quot;&quot; and repr ~= &quot;\n&quot; then</text>
<text text-anchor="middle" x="1739" y="-600.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. repr .. &quot;\n&quot;</text>
<text text-anchor="middle" x="1739" y="-585.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1739" y="-569.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1739" y="-538.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase </text>
<text text-anchor="middle" x="1739" y="-523.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1739" y="-491.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">D.__index = D</text>
<text text-anchor="middle" x="1739" y="-460.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">D.own = own</text>
<text text-anchor="middle" x="1739" y="-428.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.dotLabel(doc)</text>
<text text-anchor="middle" x="1739" y="-413.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;doc &#45; &quot; .. tostring(doc.linum)</text>
<text text-anchor="middle" x="1739" y="-398.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">end </text>
<text text-anchor="middle" x="1739" y="-366.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.toMarkdown(doc)</text>
<text text-anchor="middle" x="1739" y="-351.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="1739" y="-335.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, node in ipairs(doc) do</text>
<text text-anchor="middle" x="1739" y="-320.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if node.toMarkdown then</text>
<text text-anchor="middle" x="1739" y="-305.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. node:toMarkdown()</text>
<text text-anchor="middle" x="1739" y="-289.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else </text>
<text text-anchor="middle" x="1739" y="-274.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;no toMarkdown method for &quot; .. node.id)</text>
<text text-anchor="middle" x="1739" y="-258.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1739" y="-243.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1739" y="-228.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="1739" y="-212.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_30&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>codeblock_30&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1739,-876.5782C1739,-849.4421 1739,-795.0627 1739,-734.4607"/>
<polygon fill="#000000" stroke="#000000" points="1742.5001,-734.2853 1739,-724.2853 1735.5001,-734.2854 1742.5001,-734.2853"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="2253.5,-599.9013 2020.5,-599.9013 2020.5,-328.6999 2253.5,-328.6999 2253.5,-599.9013"/>
<text text-anchor="middle" x="2137" y="-584.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">local d = {}</text>
<text text-anchor="middle" x="2137" y="-537.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.parentOf(doc, level)</text>
<text text-anchor="middle" x="2137" y="-522.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local i = level &#45; 1</text>
<text text-anchor="middle" x="2137" y="-506.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local parent = nil</text>
<text text-anchor="middle" x="2137" y="-491.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;while i &gt; 0 do</text>
<text text-anchor="middle" x="2137" y="-475.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;parent = doc.lastOf[i]</text>
<text text-anchor="middle" x="2137" y="-460.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if parent then</text>
<text text-anchor="middle" x="2137" y="-445.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return parent</text>
<text text-anchor="middle" x="2137" y="-429.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2137" y="-414.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;i = i &#45; 1</text>
<text text-anchor="middle" x="2137" y="-398.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2137" y="-383.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2137" y="-352.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc</text>
<text text-anchor="middle" x="2137" y="-336.7004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_34&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>codeblock_34&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2137,-876.5782C2137,-831.2054 2137,-709.6674 2137,-610.2276"/>
<polygon fill="#000000" stroke="#000000" points="2140.5001,-610.0644 2137,-600.0644 2133.5001,-610.0645 2140.5001,-610.0644"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="3503,-784.4019 3011,-784.4019 3011,-144.1993 3503,-144.1993 3503,-784.4019"/>
<text text-anchor="middle" x="3257" y="-769.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.addSection(doc, section, linum)</text>
<text text-anchor="middle" x="3257" y="-754.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not doc.latest then</text>
<text text-anchor="middle" x="3257" y="-738.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc[1] = &#160;section</text>
<text text-anchor="middle" x="3257" y="-723.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3257" y="-707.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if linum &gt; 0 then</text>
<text text-anchor="middle" x="3257" y="-692.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest.line_last = linum &#45; 1</text>
<text text-anchor="middle" x="3257" y="-677.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3257" y="-661.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local atLevel = doc.latest.level </text>
<text text-anchor="middle" x="3257" y="-646.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if atLevel &lt; section.level then</text>
<text text-anchor="middle" x="3257" y="-630.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; add the section under the latest section</text>
<text text-anchor="middle" x="3257" y="-615.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addSection(section, linum)</text>
<text text-anchor="middle" x="3257" y="-600.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3257" y="-584.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local parentis = doc:parentOf(section.level)</text>
<text text-anchor="middle" x="3257" y="-569.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if parentis.id == &quot;doc&quot; then</text>
<text text-anchor="middle" x="3257" y="-553.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if section.level == 1 and doc.latest.level == 1 then</text>
<text text-anchor="middle" x="3257" y="-538.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc[#doc + 1] = section</text>
<text text-anchor="middle" x="3257" y="-523.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3257" y="-507.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addSection(section, linum)</text>
<text text-anchor="middle" x="3257" y="-492.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3257" y="-476.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3257" y="-461.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;parentis:addSection(section, linum)</text>
<text text-anchor="middle" x="3257" y="-446.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3257" y="-430.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3257" y="-415.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3257" y="-399.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.latest = section</text>
<text text-anchor="middle" x="3257" y="-384.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.lastOf[section.level] = section</text>
<text text-anchor="middle" x="3257" y="-369.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc</text>
<text text-anchor="middle" x="3257" y="-353.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3257" y="-322.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.addLine(doc, line, linum)</text>
<text text-anchor="middle" x="3257" y="-306.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if doc.latest then</text>
<text text-anchor="middle" x="3257" y="-291.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addLine(line)</text>
<text text-anchor="middle" x="3257" y="-276.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3257" y="-260.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; a virtual zero block</text>
<text text-anchor="middle" x="3257" y="-245.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc[1] = Block(0, linum)</text>
<text text-anchor="middle" x="3257" y="-229.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest = doc[1]</text>
<text text-anchor="middle" x="3257" y="-214.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addLine(line)</text>
<text text-anchor="middle" x="3257" y="-199.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3257" y="-167.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc</text>
<text text-anchor="middle" x="3257" y="-152.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_40&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>codeblock_40&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3257,-876.5782C3257,-858.8778 3257,-829.586 3257,-794.5368"/>
<polygon fill="#000000" stroke="#000000" points="3260.5001,-794.5033 3257,-784.5034 3253.5001,-794.5034 3260.5001,-794.5033"/>
</g>
<!-- handleline_46 -->
<g id="node47" class="node">
<title>handleline_46</title>
<ellipse fill="none" stroke="#000000" cx="3647" cy="-464.3006" rx="50.3585" ry="18"/>
<text text-anchor="middle" x="3647" y="-460.1006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handleline</text>
</g>
<!-- structure_44&#45;&gt;handleline_46 -->
<g id="edge46" class="edge">
<title>structure_44&#45;&gt;handleline_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3652.746,-876.5782C3651.8089,-809.3404 3648.5407,-574.8431 3647.398,-492.8604"/>
<polygon fill="#000000" stroke="#000000" points="3650.8965,-492.7193 3647.2574,-482.7691 3643.8972,-492.8169 3650.8965,-492.7193"/>
</g>
<!-- handleline_49 -->
<g id="node50" class="node">
<title>handleline_49</title>
<ellipse fill="none" stroke="#000000" cx="3766" cy="-464.3006" rx="50.3585" ry="18"/>
<text text-anchor="middle" x="3766" y="-460.1006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handleline</text>
</g>
<!-- structure_45&#45;&gt;handleline_49 -->
<g id="edge49" class="edge">
<title>structure_45&#45;&gt;handleline_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3760.254,-876.5782C3761.1911,-809.3404 3764.4593,-574.8431 3765.602,-492.8604"/>
<polygon fill="#000000" stroke="#000000" points="3769.1028,-492.8169 3765.7426,-482.7691 3762.1035,-492.7193 3769.1028,-492.8169"/>
</g>
<!-- handle_47 -->
<g id="node48" class="node">
<title>handle_47</title>
<ellipse fill="none" stroke="#000000" cx="3647" cy="-90" rx="36.827" ry="18"/>
<text text-anchor="middle" x="3647" y="-85.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handle</text>
</g>
<!-- handleline_46&#45;&gt;handle_47 -->
<g id="edge47" class="edge">
<title>handleline_46&#45;&gt;handle_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3647,-446.2473C3647,-386.1033 3647,-192.2017 3647,-118.6518"/>
<polygon fill="#000000" stroke="#000000" points="3650.5001,-118.3106 3647,-108.3106 3643.5001,-118.3107 3650.5001,-118.3106"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="3674,-36 3620,-36 3620,0 3674,0 3674,-36"/>
</g>
<!-- handle_47&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>handle_47&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3647,-71.8314C3647,-64.131 3647,-54.9743 3647,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="3650.5001,-46.4132 3647,-36.4133 3643.5001,-46.4133 3650.5001,-46.4132"/>
</g>
<!-- handle_50 -->
<g id="node51" class="node">
<title>handle_50</title>
<ellipse fill="none" stroke="#000000" cx="3766" cy="-90" rx="36.827" ry="18"/>
<text text-anchor="middle" x="3766" y="-85.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handle</text>
</g>
<!-- handleline_49&#45;&gt;handle_50 -->
<g id="edge50" class="edge">
<title>handleline_49&#45;&gt;handle_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3766,-446.2473C3766,-386.1033 3766,-192.2017 3766,-118.6518"/>
<polygon fill="#000000" stroke="#000000" points="3769.5001,-118.3106 3766,-108.3106 3762.5001,-118.3107 3769.5001,-118.3106"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="3793,-36 3739,-36 3739,0 3793,0 3793,-36"/>
</g>
<!-- handle_50&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>handle_50&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3766,-71.8314C3766,-64.131 3766,-54.9743 3766,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="3769.5001,-46.4132 3766,-36.4133 3762.5001,-46.4133 3769.5001,-46.4132"/>
</g>
<!-- handleline_54 -->
<g id="node55" class="node">
<title>handleline_54</title>
<ellipse fill="none" stroke="#000000" cx="3940" cy="-464.3006" rx="50.3585" ry="18"/>
<text text-anchor="middle" x="3940" y="-460.1006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handleline</text>
</g>
<!-- structure_53&#45;&gt;handleline_54 -->
<g id="edge54" class="edge">
<title>structure_53&#45;&gt;handleline_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3940,-876.5782C3940,-809.3404 3940,-574.8431 3940,-492.8604"/>
<polygon fill="#000000" stroke="#000000" points="3943.5001,-492.769 3940,-482.7691 3936.5001,-492.7691 3943.5001,-492.769"/>
</g>
<!-- handle_55 -->
<g id="node56" class="node">
<title>handle_55</title>
<ellipse fill="none" stroke="#000000" cx="3940" cy="-90" rx="36.827" ry="18"/>
<text text-anchor="middle" x="3940" y="-85.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handle</text>
</g>
<!-- handleline_54&#45;&gt;handle_55 -->
<g id="edge55" class="edge">
<title>handleline_54&#45;&gt;handle_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3940,-446.2473C3940,-386.1033 3940,-192.2017 3940,-118.6518"/>
<polygon fill="#000000" stroke="#000000" points="3943.5001,-118.3106 3940,-108.3106 3936.5001,-118.3107 3943.5001,-118.3106"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3967,-36 3913,-36 3913,0 3967,0 3967,-36"/>
</g>
<!-- handle_55&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>handle_55&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3940,-71.8314C3940,-64.131 3940,-54.9743 3940,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="3943.5001,-46.4132 3940,-36.4133 3936.5001,-46.4133 3943.5001,-46.4132"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="4306.5,-599.9013 4017.5,-599.9013 4017.5,-328.6999 4306.5,-328.6999 4306.5,-599.9013"/>
<text text-anchor="middle" x="4162" y="-584.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Doc, str)</text>
<text text-anchor="middle" x="4162" y="-569.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local doc = setmetatable({}, D)</text>
<text text-anchor="middle" x="4162" y="-554.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.str = str</text>
<text text-anchor="middle" x="4162" y="-538.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.id = &quot;doc&quot;</text>
<text text-anchor="middle" x="4162" y="-523.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.latest = nil</text>
<text text-anchor="middle" x="4162" y="-507.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.lines = {}</text>
<text text-anchor="middle" x="4162" y="-492.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.lastOf = {}</text>
<text text-anchor="middle" x="4162" y="-477.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; for now lets set root to &#39;false&#39;</text>
<text text-anchor="middle" x="4162" y="-461.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.root = false</text>
<text text-anchor="middle" x="4162" y="-446.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc:own(str)</text>
<text text-anchor="middle" x="4162" y="-430.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4162" y="-399.5005" font-family="Inconsolata" font-size="14.00" fill="#000000">setmetatable(D, Node)</text>
<text text-anchor="middle" x="4162" y="-368.1005" font-family="Inconsolata" font-size="14.00" fill="#000000">d[&quot;__call&quot;] = new</text>
<text text-anchor="middle" x="4162" y="-336.7004" font-family="Inconsolata" font-size="14.00" fill="#000000">return setmetatable({}, d)</text>
</g>
<!-- codeblock_58&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>codeblock_58&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4162,-876.5782C4162,-831.2054 4162,-709.6674 4162,-610.2276"/>
<polygon fill="#000000" stroke="#000000" points="4165.5001,-610.0644 4162,-600.0644 4158.5001,-610.0645 4165.5001,-610.0644"/>
</g>
</g>
</svg>