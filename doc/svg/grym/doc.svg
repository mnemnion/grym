<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="4329pt" height="1315pt"
 viewBox="0.00 0.00 4329.00 1314.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1310.6015)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1310.6015 4325,-1310.6015 4325,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="762" cy="-1288.6015" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="762" y="-1284.4015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 179</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="762" cy="-1216.6015" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="762" y="-1212.4015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;10</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M762,-1270.4329C762,-1262.7325 762,-1253.5759 762,-1245.0182"/>
<polygon fill="#000000" stroke="#000000" points="765.5001,-1245.0148 762,-1235.0148 758.5001,-1245.0148 765.5001,-1245.0148"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="518" cy="-1144.6015" rx="69.6687" ry="18"/>
<text text-anchor="middle" x="518" y="-1140.4015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Doc module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M718.9394,-1203.8951C678.4923,-1191.9599 617.7587,-1174.0385 573.6521,-1161.0235"/>
<polygon fill="#000000" stroke="#000000" points="574.5278,-1157.6327 563.946,-1158.1594 572.5466,-1164.3465 574.5278,-1157.6327"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="652" cy="-1144.6015" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="652" y="-1140.4015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;4</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M736.7638,-1200.0833C721.0997,-1189.8304 700.8265,-1176.5607 684.0345,-1165.5696"/>
<polygon fill="#000000" stroke="#000000" points="685.8974,-1162.6059 675.6136,-1160.0577 682.0638,-1168.4628 685.8974,-1162.6059"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="762" cy="-1144.6015" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="762" y="-1140.4015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 5&#45;6</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M762,-1198.4329C762,-1190.7325 762,-1181.5759 762,-1173.0182"/>
<polygon fill="#000000" stroke="#000000" points="765.5001,-1173.0148 762,-1163.0148 758.5001,-1173.0148 765.5001,-1173.0148"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="1020" cy="-1144.6015" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="1020" y="-1140.4015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 7&#45;10</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M806.3518,-1204.2243C851.9496,-1191.4993 922.8103,-1171.7242 970.279,-1158.4772"/>
<polygon fill="#000000" stroke="#000000" points="971.3446,-1161.8136 980.0357,-1155.7544 969.4629,-1155.0712 971.3446,-1161.8136"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="2329" cy="-1144.6015" rx="69.851" ry="18"/>
<text text-anchor="middle" x="2329" y="-1140.4015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 11&#45;179</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M822.4681,-1213.8232C1065.9747,-1202.6346 1974.8358,-1160.8745 2249.7351,-1148.2436"/>
<polygon fill="#000000" stroke="#000000" points="2250.1935,-1151.7263 2260.0223,-1147.7709 2249.8721,-1144.7337 2250.1935,-1151.7263"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="520,-1083.1036 0,-1083.1036 0,-1043.2994 520,-1043.2994 520,-1083.1036"/>
<text text-anchor="middle" x="260" y="-1051.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> Represents a Document, which is generally the same as a file, at first.</text>
</g>
<!-- block_3&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>block_3&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M617.5819,-1132.5771C610.8057,-1130.4258 603.715,-1128.3242 597,-1126.6015 531.5865,-1109.8206 457.9757,-1095.4629 396.2757,-1084.6759"/>
<polygon fill="#000000" stroke="#000000" points="396.5365,-1081.1689 386.0853,-1082.9077 395.3397,-1088.0659 396.5365,-1081.1689"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="841.5,-1081.2015 538.5,-1081.2015 538.5,-1045.2015 841.5,-1045.2015 841.5,-1081.2015"/>
<text text-anchor="middle" x="690" y="-1059.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> A document contains an array of blocks. </text>
</g>
<!-- block_4&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>block_4&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M746.7307,-1127.3387C736.9107,-1116.2367 723.969,-1101.6053 712.9263,-1089.121"/>
<polygon fill="#000000" stroke="#000000" points="715.2429,-1086.4572 705.9959,-1081.2858 709.9996,-1091.095 715.2429,-1086.4572"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="1324,-1090.5019 860,-1090.5019 860,-1035.9011 1324,-1035.9011 1324,-1090.5019"/>
<text text-anchor="middle" x="1092" y="-1075.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> At some point documents can also contain documents, this is not</text>
<text text-anchor="middle" x="1092" y="-1060.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> currently supported.</text>
</g>
<!-- block_5&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>block_5&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1035.2693,-1127.3387C1042.7693,-1118.8596 1052.0901,-1108.3218 1060.9952,-1098.2542"/>
<polygon fill="#000000" stroke="#000000" points="1063.6831,-1100.4981 1067.6868,-1090.6889 1058.4398,-1095.8604 1063.6831,-1100.4981"/>
</g>
<!-- header_10 -->
<g id="node11" class="node">
<title>header_10</title>
<ellipse fill="none" stroke="#000000" cx="1388" cy="-1063.2015" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="1388" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Fields</text>
</g>
<!-- section_6&#45;&gt;header_10 -->
<g id="edge10" class="edge">
<title>section_6&#45;&gt;header_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259.0155,-1143.9316C2077.7654,-1141.6235 1596.5165,-1131.6923 1443,-1090.6015 1436.1455,-1088.7668 1429.1399,-1086.0358 1422.5244,-1082.998"/>
<polygon fill="#000000" stroke="#000000" points="1423.6921,-1079.6718 1413.1743,-1078.3965 1420.6012,-1085.9524 1423.6921,-1079.6718"/>
</g>
<!-- block_11 -->
<g id="node12" class="node">
<title>block_11</title>
<ellipse fill="none" stroke="#000000" cx="1507" cy="-1063.2015" rx="55.3502" ry="18"/>
<text text-anchor="middle" x="1507" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 11&#45;21</text>
</g>
<!-- section_6&#45;&gt;block_11 -->
<g id="edge11" class="edge">
<title>section_6&#45;&gt;block_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259.3339,-1142.5973C2097.5783,-1137.4662 1700.4996,-1121.9929 1571,-1090.6015 1562.8161,-1088.6177 1554.3463,-1085.6842 1546.3526,-1082.4649"/>
<polygon fill="#000000" stroke="#000000" points="1547.4614,-1079.1332 1536.8891,-1078.4409 1544.7222,-1085.575 1547.4614,-1079.1332"/>
</g>
<!-- block_12 -->
<g id="node13" class="node">
<title>block_12</title>
<ellipse fill="none" stroke="#000000" cx="1636" cy="-1063.2015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1636" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 22&#45;29</text>
</g>
<!-- section_6&#45;&gt;block_12 -->
<g id="edge12" class="edge">
<title>section_6&#45;&gt;block_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2260.1784,-1141.4011C2119.9195,-1134.4341 1805.4394,-1116.4205 1701,-1090.6015 1692.6261,-1088.5314 1683.9394,-1085.5261 1675.746,-1082.2569"/>
<polygon fill="#000000" stroke="#000000" points="1676.9781,-1078.9784 1666.4026,-1078.3383 1674.2707,-1085.4336 1676.9781,-1078.9784"/>
</g>
<!-- block_13 -->
<g id="node14" class="node">
<title>block_13</title>
<ellipse fill="none" stroke="#000000" cx="1766" cy="-1063.2015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1766" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 30&#45;32</text>
</g>
<!-- section_6&#45;&gt;block_13 -->
<g id="edge13" class="edge">
<title>section_6&#45;&gt;block_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2261.3319,-1139.7111C2144.7002,-1130.8739 1910.6613,-1111.2374 1831,-1090.6015 1822.7348,-1088.4605 1814.1505,-1085.4534 1806.034,-1082.2108"/>
<polygon fill="#000000" stroke="#000000" points="1807.3439,-1078.9649 1796.7679,-1078.3338 1804.642,-1085.4224 1807.3439,-1078.9649"/>
</g>
<!-- block_14 -->
<g id="node15" class="node">
<title>block_14</title>
<ellipse fill="none" stroke="#000000" cx="1896" cy="-1063.2015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1896" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 33&#45;69</text>
</g>
<!-- section_6&#45;&gt;block_14 -->
<g id="edge14" class="edge">
<title>section_6&#45;&gt;block_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2270.7676,-1134.4935C2210.4569,-1123.9289 2113.5249,-1106.6812 2030,-1090.6015 2004.5989,-1085.7115 1976.5511,-1080.0216 1952.7088,-1075.0981"/>
<polygon fill="#000000" stroke="#000000" points="1953.2701,-1071.6401 1942.7681,-1073.0395 1951.8505,-1078.4947 1953.2701,-1071.6401"/>
</g>
<!-- block_15 -->
<g id="node16" class="node">
<title>block_15</title>
<ellipse fill="none" stroke="#000000" cx="2095" cy="-1063.2015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2095" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 70&#45;72</text>
</g>
<!-- section_6&#45;&gt;block_15 -->
<g id="edge15" class="edge">
<title>section_6&#45;&gt;block_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2287.1655,-1130.0488C2246.5533,-1115.9213 2184.9876,-1094.5049 2142.5407,-1079.7392"/>
<polygon fill="#000000" stroke="#000000" points="2143.5834,-1076.3962 2132.9885,-1076.4163 2141.2834,-1083.0076 2143.5834,-1076.3962"/>
</g>
<!-- block_16 -->
<g id="node17" class="node">
<title>block_16</title>
<ellipse fill="none" stroke="#000000" cx="2259" cy="-1063.2015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2259" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 73&#45;92</text>
</g>
<!-- section_6&#45;&gt;block_16 -->
<g id="edge16" class="edge">
<title>section_6&#45;&gt;block_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2313.811,-1126.9389C2304.1135,-1115.6621 2291.3905,-1100.867 2280.6438,-1088.3702"/>
<polygon fill="#000000" stroke="#000000" points="2283.0928,-1085.85 2273.9188,-1080.55 2277.7853,-1090.4141 2283.0928,-1085.85"/>
</g>
<!-- block_17 -->
<g id="node18" class="node">
<title>block_17</title>
<ellipse fill="none" stroke="#000000" cx="2400" cy="-1063.2015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2400" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 93&#45;94</text>
</g>
<!-- section_6&#45;&gt;block_17 -->
<g id="edge17" class="edge">
<title>section_6&#45;&gt;block_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2344.4059,-1126.9389C2354.242,-1115.6621 2367.1468,-1100.867 2378.047,-1088.3702"/>
<polygon fill="#000000" stroke="#000000" points="2380.9324,-1090.3867 2384.868,-1080.55 2375.6571,-1085.7854 2380.9324,-1090.3867"/>
</g>
<!-- block_18 -->
<g id="node19" class="node">
<title>block_18</title>
<ellipse fill="none" stroke="#000000" cx="2642" cy="-1063.2015" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="2642" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 95&#45;100</text>
</g>
<!-- section_6&#45;&gt;block_18 -->
<g id="edge18" class="edge">
<title>section_6&#45;&gt;block_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2378.2506,-1131.7932C2434.8039,-1117.0857 2527.3593,-1093.0154 2586.4395,-1077.6508"/>
<polygon fill="#000000" stroke="#000000" points="2587.5464,-1080.9794 2596.3435,-1075.0751 2585.7845,-1074.2048 2587.5464,-1080.9794"/>
</g>
<!-- block_19 -->
<g id="node20" class="node">
<title>block_19</title>
<ellipse fill="none" stroke="#000000" cx="2927" cy="-1063.2015" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="2927" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 101&#45;103</text>
</g>
<!-- section_6&#45;&gt;block_19 -->
<g id="edge19" class="edge">
<title>section_6&#45;&gt;block_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2391.0239,-1136.1588C2503.5226,-1120.8454 2740.4223,-1088.5985 2857.9124,-1072.6057"/>
<polygon fill="#000000" stroke="#000000" points="2858.4385,-1076.0665 2867.8751,-1071.2496 2857.4943,-1069.1304 2858.4385,-1076.0665"/>
</g>
<!-- block_20 -->
<g id="node21" class="node">
<title>block_20</title>
<ellipse fill="none" stroke="#000000" cx="3257" cy="-1063.2015" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="3257" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 104&#45;150</text>
</g>
<!-- section_6&#45;&gt;block_20 -->
<g id="edge20" class="edge">
<title>section_6&#45;&gt;block_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2396.3962,-1139.7984C2517.6433,-1131.0228 2780.5557,-1111.379 3002,-1090.6015 3064.3404,-1084.7523 3135.1375,-1077.0613 3186.2893,-1071.317"/>
<polygon fill="#000000" stroke="#000000" points="3186.704,-1074.7925 3196.2494,-1070.1952 3185.9205,-1067.8365 3186.704,-1074.7925"/>
</g>
<!-- block_21 -->
<g id="node22" class="node">
<title>block_21</title>
<ellipse fill="none" stroke="#000000" cx="3459" cy="-1063.2015" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="3459" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 151&#45;152</text>
</g>
<!-- section_6&#45;&gt;block_21 -->
<g id="edge21" class="edge">
<title>section_6&#45;&gt;block_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2398.6862,-1142.2919C2595.1703,-1135.5502 3151.0572,-1114.8354 3332,-1090.6015 3354.6772,-1087.5643 3379.3226,-1082.6322 3400.8161,-1077.7836"/>
<polygon fill="#000000" stroke="#000000" points="3401.8094,-1081.1466 3410.7704,-1075.4942 3400.2403,-1074.3248 3401.8094,-1081.1466"/>
</g>
<!-- block_22 -->
<g id="node23" class="node">
<title>block_22</title>
<ellipse fill="none" stroke="#000000" cx="3711" cy="-1063.2015" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="3711" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 153&#45;155</text>
</g>
<!-- section_6&#45;&gt;block_22 -->
<g id="edge22" class="edge">
<title>section_6&#45;&gt;block_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2399.1431,-1144.1216C2584.7944,-1142.2754 3104.2118,-1133.3697 3534,-1090.6015 3571.2952,-1086.8903 3612.7081,-1080.5998 3646.0938,-1074.9815"/>
<polygon fill="#000000" stroke="#000000" points="3646.9133,-1078.3924 3656.1837,-1073.2631 3645.738,-1071.4918 3646.9133,-1078.3924"/>
</g>
<!-- block_23 -->
<g id="node24" class="node">
<title>block_23</title>
<ellipse fill="none" stroke="#000000" cx="3940" cy="-1063.2015" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="3940" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 156&#45;158</text>
</g>
<!-- section_6&#45;&gt;block_23 -->
<g id="edge23" class="edge">
<title>section_6&#45;&gt;block_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2398.9418,-1143.2999C2650.9683,-1138.4083 3512.1307,-1119.8967 3786,-1090.6015 3816.4215,-1087.3474 3849.8935,-1081.6506 3877.8389,-1076.2914"/>
<polygon fill="#000000" stroke="#000000" points="3878.7225,-1079.6852 3887.8686,-1074.3374 3877.3838,-1072.8143 3878.7225,-1079.6852"/>
</g>
<!-- block_24 -->
<g id="node25" class="node">
<title>block_24</title>
<ellipse fill="none" stroke="#000000" cx="4162" cy="-1063.2015" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4162" y="-1059.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 159&#45;179</text>
</g>
<!-- section_6&#45;&gt;block_24 -->
<g id="edge24" class="edge">
<title>section_6&#45;&gt;block_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2399.2258,-1143.7789C2676.3103,-1140.3121 3694.1919,-1125.4324 4015,-1090.6015 4043.6063,-1087.4957 4074.9982,-1081.9428 4101.401,-1076.6442"/>
<polygon fill="#000000" stroke="#000000" points="4102.1618,-1080.0611 4111.2596,-1074.6315 4100.7616,-1073.2026 4102.1618,-1080.0611"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1226,-1000.0021 748,-1000.0021 748,-851.2006 1226,-851.2006 1226,-1000.0021"/>
<text text-anchor="middle" x="987" y="-952.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> In addition to the standard Node fields, a doc has:</text>
<text text-anchor="middle" x="987" y="-937.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="987" y="-921.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; latest: The current block. &#160;This will be in `doc[#doc]` but may</text>
<text text-anchor="middle" x="987" y="-906.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;be several layers deep.</text>
<text text-anchor="middle" x="987" y="-891.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; lastOf: An array containing references to the last block of a</text>
<text text-anchor="middle" x="987" y="-875.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;given level.</text>
</g>
<!-- block_11&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>block_11&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1475.9627,-1048.19C1465.6614,-1043.6762 1454.0095,-1039.0622 1443,-1035.8015 1356.1185,-1010.069 1328.2261,-1020.5021 1236.1195,-999.9727"/>
<polygon fill="#000000" stroke="#000000" points="1236.6234,-996.4975 1226.0941,-997.6739 1235.0588,-1003.3204 1236.6234,-996.4975"/>
</g>
<!-- codeblock_26 -->
<g id="node27" class="node">
<title>codeblock_26</title>
<ellipse fill="none" stroke="#000000" cx="1321" cy="-925.6014" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1321" y="-921.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 22&#45;28</text>
</g>
<!-- block_12&#45;&gt;codeblock_26 -->
<g id="edge26" class="edge">
<title>block_12&#45;&gt;codeblock_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1604.0361,-1048.3573C1593.6496,-1043.9057 1581.9716,-1039.2859 1571,-1035.8015 1499.8763,-1013.2137 1473.735,-1033.1966 1407,-999.8015 1382.9036,-987.7433 1360.0295,-967.4183 1343.9378,-951.0866"/>
<polygon fill="#000000" stroke="#000000" points="1346.0554,-948.2381 1336.6074,-943.4437 1341.0035,-953.0835 1346.0554,-948.2381"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1470,-943.6014 1416,-943.6014 1416,-907.6014 1470,-907.6014 1470,-943.6014"/>
</g>
<!-- block_12&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>block_12&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1602.3327,-1048.8137C1592.2761,-1044.5689 1581.2109,-1039.9506 1571,-1035.8015 1530.3221,-1019.2723 1511.2454,-1029.6031 1479,-999.8015 1465.5441,-987.3653 1456.5452,-968.8213 1450.9097,-953.3833"/>
<polygon fill="#000000" stroke="#000000" points="1454.1856,-952.1439 1447.6791,-943.7823 1447.5511,-954.3764 1454.1856,-952.1439"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1644,-945.5035 1488,-945.5035 1488,-905.6993 1644,-905.6993 1644,-945.5035"/>
<text text-anchor="middle" x="1566" y="-930.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> Metatable for Docs.</text>
</g>
<!-- block_13&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>block_13&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1735.298,-1048.0505C1712.0063,-1036.0692 1679.5742,-1018.3244 1653,-999.8015 1632.4266,-985.4613 1610.9724,-967.2053 1594.5165,-952.3903"/>
<polygon fill="#000000" stroke="#000000" points="1596.6166,-949.5691 1586.8654,-945.4261 1591.9047,-954.7458 1596.6166,-949.5691"/>
</g>
<!-- codeblock_30 -->
<g id="node31" class="node">
<title>codeblock_30</title>
<ellipse fill="none" stroke="#000000" cx="1739" cy="-925.6014" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1739" y="-921.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 33&#45;68</text>
</g>
<!-- block_14&#45;&gt;codeblock_30 -->
<g id="edge30" class="edge">
<title>block_14&#45;&gt;codeblock_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1876.4333,-1046.0526C1848.8499,-1021.8776 1798.389,-977.6519 1766.8865,-950.0421"/>
<polygon fill="#000000" stroke="#000000" points="1769.1387,-947.362 1759.3113,-943.4029 1764.5249,-952.6263 1769.1387,-947.362"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="1888,-943.6014 1834,-943.6014 1834,-907.6014 1888,-907.6014 1888,-943.6014"/>
</g>
<!-- block_14&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>block_14&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1891.4244,-1045.2127C1885.5094,-1021.9583 1875.1435,-981.2056 1868.1761,-953.8135"/>
<polygon fill="#000000" stroke="#000000" points="1871.5456,-952.8624 1865.6885,-944.0338 1864.7617,-954.588 1871.5456,-952.8624"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2041.5,-945.5035 1906.5,-945.5035 1906.5,-905.6993 2041.5,-905.6993 2041.5,-945.5035"/>
<text text-anchor="middle" x="1974" y="-930.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> Doc constructor.</text>
</g>
<!-- block_15&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>block_15&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2079.6753,-1045.7743C2059.186,-1022.4742 2022.6363,-980.9102 1998.3532,-953.2957"/>
<polygon fill="#000000" stroke="#000000" points="2000.7799,-950.755 1991.548,-945.5568 1995.5232,-955.3776 2000.7799,-950.755"/>
</g>
<!-- codeblock_34 -->
<g id="node35" class="node">
<title>codeblock_34</title>
<ellipse fill="none" stroke="#000000" cx="2137" cy="-925.6014" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2137" y="-921.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 73&#45;91</text>
</g>
<!-- block_16&#45;&gt;codeblock_34 -->
<g id="edge34" class="edge">
<title>block_16&#45;&gt;codeblock_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2243.5486,-1045.7743C2222.3065,-1021.816 2183.9433,-978.5473 2159.5099,-950.9896"/>
<polygon fill="#000000" stroke="#000000" points="2161.9644,-948.4822 2152.7113,-943.3217 2156.7266,-953.1261 2161.9644,-948.4822"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2286,-943.6014 2232,-943.6014 2232,-907.6014 2286,-907.6014 2286,-943.6014"/>
</g>
<!-- block_16&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>block_16&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259,-1044.9293C2259,-1021.6955 2259,-981.328 2259,-954.0496"/>
<polygon fill="#000000" stroke="#000000" points="2262.5001,-953.9491 2259,-943.9492 2255.5001,-953.9492 2262.5001,-953.9491"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="2516,-943.6014 2304,-943.6014 2304,-907.6014 2516,-907.6014 2516,-943.6014"/>
<text text-anchor="middle" x="2410" y="-922.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> Adds a block to a document.</text>
</g>
<!-- block_17&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>block_17&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2401.3279,-1044.9293C2403.0164,-1021.6955 2405.9501,-981.328 2407.9325,-954.0496"/>
<polygon fill="#000000" stroke="#000000" points="2411.4325,-954.1766 2408.6666,-943.9492 2404.4509,-953.6692 2411.4325,-954.1766"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2963.5,-968.1015 2534.5,-968.1015 2534.5,-883.1012 2963.5,-883.1012 2963.5,-968.1015"/>
<text text-anchor="middle" x="2749" y="-952.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> This function looks at document level and places the block</text>
<text text-anchor="middle" x="2749" y="-937.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> accordingly.</text>
<text text-anchor="middle" x="2749" y="-922.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="2749" y="-906.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; doc : the document</text>
<text text-anchor="middle" x="2749" y="-891.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; block : block to be appended</text>
</g>
<!-- block_18&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>block_18&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2655.7693,-1045.4944C2669.3091,-1028.0825 2690.6268,-1000.6683 2709.462,-976.4465"/>
<polygon fill="#000000" stroke="#000000" points="2712.3639,-978.4163 2715.7396,-968.3736 2706.838,-974.1193 2712.3639,-978.4163"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="3152,-945.5035 2982,-945.5035 2982,-905.6993 3152,-905.6993 3152,-945.5035"/>
<text text-anchor="middle" x="3067" y="-930.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> returns: the document</text>
</g>
<!-- block_19&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>block_19&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2944.7311,-1045.7743C2968.6411,-1022.2742 3011.4539,-980.1953 3039.543,-952.5877"/>
<polygon fill="#000000" stroke="#000000" points="3042.018,-955.0626 3046.6966,-945.5568 3037.1112,-950.0703 3042.018,-955.0626"/>
</g>
<!-- codeblock_40 -->
<g id="node41" class="node">
<title>codeblock_40</title>
<ellipse fill="none" stroke="#000000" cx="3257" cy="-925.6014" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3257" y="-921.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 104&#45;148</text>
</g>
<!-- block_20&#45;&gt;codeblock_40 -->
<g id="edge40" class="edge">
<title>block_20&#45;&gt;codeblock_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3257,-1044.9293C3257,-1021.6955 3257,-981.328 3257,-954.0496"/>
<polygon fill="#000000" stroke="#000000" points="3260.5001,-953.9491 3257,-943.9492 3253.5001,-953.9492 3260.5001,-953.9491"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="3416,-943.6014 3362,-943.6014 3362,-907.6014 3416,-907.6014 3416,-943.6014"/>
</g>
<!-- block_20&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>block_20&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3289.6112,-1047.4451C3309.8877,-1036.3602 3335.3637,-1019.9331 3353,-999.8015 3364.8055,-986.3257 3373.6709,-968.2969 3379.65,-953.3852"/>
<polygon fill="#000000" stroke="#000000" points="3383.0664,-954.2456 3383.3289,-943.654 3376.5187,-951.7701 3383.0664,-954.2456"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="3590,-943.6014 3434,-943.6014 3434,-907.6014 3590,-907.6014 3590,-943.6014"/>
<text text-anchor="middle" x="3512" y="-922.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> Creates a Doc Node.</text>
</g>
<!-- block_21&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>block_21&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3465.9288,-1045.2127C3474.9253,-1021.8558 3490.7211,-980.8462 3501.2725,-953.4523"/>
<polygon fill="#000000" stroke="#000000" points="3504.572,-954.6235 3504.9003,-944.0338 3498.0398,-952.1075 3504.572,-954.6235"/>
</g>
<!-- structure_44 -->
<g id="node45" class="node">
<title>structure_44</title>
<ellipse fill="none" stroke="#000000" cx="3653" cy="-925.6014" rx="44.5182" ry="18"/>
<text text-anchor="middle" x="3653" y="-921.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">structure</text>
</g>
<!-- block_22&#45;&gt;structure_44 -->
<g id="edge44" class="edge">
<title>block_22&#45;&gt;structure_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3703.4175,-1045.2127C3693.5176,-1021.7261 3676.094,-980.39 3664.5476,-952.997"/>
<polygon fill="#000000" stroke="#000000" points="3667.6938,-951.45 3660.5843,-943.5946 3661.2434,-954.1689 3667.6938,-951.45"/>
</g>
<!-- structure_45 -->
<g id="node46" class="node">
<title>structure_45</title>
<ellipse fill="none" stroke="#000000" cx="3760" cy="-925.6014" rx="44.5182" ry="18"/>
<text text-anchor="middle" x="3760" y="-921.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">structure</text>
</g>
<!-- block_22&#45;&gt;structure_45 -->
<g id="edge45" class="edge">
<title>block_22&#45;&gt;structure_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3717.4059,-1045.2127C3725.7329,-1021.8291 3740.3605,-980.7522 3750.1157,-953.3583"/>
<polygon fill="#000000" stroke="#000000" points="3753.535,-954.1893 3753.5925,-943.5946 3746.9406,-951.841 3753.535,-954.1893"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="3877,-943.6014 3823,-943.6014 3823,-907.6014 3877,-907.6014 3877,-943.6014"/>
</g>
<!-- block_22&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>block_22&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3746.0204,-1047.9456C3767.7878,-1037.0602 3795.1236,-1020.6675 3814,-999.8015 3826.0189,-986.5157 3834.8891,-968.4912 3840.8173,-953.5342"/>
<polygon fill="#000000" stroke="#000000" points="3844.2452,-954.3581 3844.454,-943.7653 3837.685,-951.9159 3844.2452,-954.3581"/>
</g>
<!-- structure_53 -->
<g id="node54" class="node">
<title>structure_53</title>
<ellipse fill="none" stroke="#000000" cx="3940" cy="-925.6014" rx="44.5182" ry="18"/>
<text text-anchor="middle" x="3940" y="-921.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">structure</text>
</g>
<!-- block_23&#45;&gt;structure_53 -->
<g id="edge53" class="edge">
<title>block_23&#45;&gt;structure_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3940,-1044.9293C3940,-1021.6955 3940,-981.328 3940,-954.0496"/>
<polygon fill="#000000" stroke="#000000" points="3943.5001,-953.9491 3940,-943.9492 3936.5001,-953.9492 3943.5001,-953.9491"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="4057,-943.6014 4003,-943.6014 4003,-907.6014 4057,-907.6014 4057,-943.6014"/>
</g>
<!-- block_23&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>block_23&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3957.1352,-1045.5895C3968.4643,-1033.3764 3983.1678,-1016.3851 3994,-999.8015 4003.6064,-985.0944 4012.2735,-967.4418 4018.6953,-953.0449"/>
<polygon fill="#000000" stroke="#000000" points="4021.9918,-954.2406 4022.7664,-943.6741 4015.5715,-951.4513 4021.9918,-954.2406"/>
</g>
<!-- codeblock_58 -->
<g id="node59" class="node">
<title>codeblock_58</title>
<ellipse fill="none" stroke="#000000" cx="4162" cy="-925.6014" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4162" y="-921.4014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 159&#45;178</text>
</g>
<!-- block_24&#45;&gt;codeblock_58 -->
<g id="edge58" class="edge">
<title>block_24&#45;&gt;codeblock_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4162,-1044.9293C4162,-1021.6955 4162,-981.328 4162,-954.0496"/>
<polygon fill="#000000" stroke="#000000" points="4165.5001,-953.9491 4162,-943.9492 4158.5001,-953.9492 4165.5001,-953.9491"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="4321,-943.6014 4267,-943.6014 4267,-907.6014 4321,-907.6014 4321,-943.6014"/>
</g>
<!-- block_24&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>block_24&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4194.6112,-1047.4451C4214.8877,-1036.3602 4240.3637,-1019.9331 4258,-999.8015 4269.8055,-986.3257 4278.6709,-968.2969 4284.65,-953.3852"/>
<polygon fill="#000000" stroke="#000000" points="4288.0664,-954.2456 4288.3289,-943.654 4281.5187,-951.7701 4288.0664,-954.2456"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1462,-522.3017 1180,-522.3017 1180,-437.0996 1462,-437.0996 1462,-522.3017"/>
<text text-anchor="middle" x="1321" y="-507.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="1321" y="-475.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="1321" y="-460.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">local Section = require &quot;grym/section&quot;</text>
<text text-anchor="middle" x="1321" y="-445.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">local own = require &quot;grym/own&quot;</text>
</g>
<!-- codeblock_26&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>codeblock_26&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1321,-907.5693C1321,-844.5456 1321,-632.5368 1321,-532.6282"/>
<polygon fill="#000000" stroke="#000000" points="1324.5001,-532.4539 1321,-522.4539 1317.5001,-532.4539 1324.5001,-532.4539"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1957,-747.4016 1521,-747.4016 1521,-211.9997 1957,-211.9997 1957,-747.4016"/>
<text text-anchor="middle" x="1739" y="-732.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">local D = setmetatable({}, { __index = Node })</text>
<text text-anchor="middle" x="1739" y="-716.701" font-family="Inconsolata" font-size="14.00" fill="#000000">D.id = &quot;doc&quot;</text>
<text text-anchor="middle" x="1739" y="-685.301" font-family="Inconsolata" font-size="14.00" fill="#000000">D.__tostring = function (doc)</text>
<text text-anchor="middle" x="1739" y="-669.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="1739" y="-654.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(doc) do</text>
<text text-anchor="middle" x="1739" y="-639.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local repr = tostring(v)</text>
<text text-anchor="middle" x="1739" y="-623.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if repr ~= &quot;&quot; and repr ~= &quot;\n&quot; then</text>
<text text-anchor="middle" x="1739" y="-608.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. repr .. &quot;\n&quot;</text>
<text text-anchor="middle" x="1739" y="-592.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1739" y="-577.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1739" y="-546.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase </text>
<text text-anchor="middle" x="1739" y="-530.7007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1739" y="-499.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">D.__index = D</text>
<text text-anchor="middle" x="1739" y="-467.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">D.own = own</text>
<text text-anchor="middle" x="1739" y="-436.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.dotLabel(doc)</text>
<text text-anchor="middle" x="1739" y="-421.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;doc &#45; &quot; .. tostring(doc.linum)</text>
<text text-anchor="middle" x="1739" y="-405.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">end </text>
<text text-anchor="middle" x="1739" y="-374.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.toMarkdown(doc)</text>
<text text-anchor="middle" x="1739" y="-358.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="1739" y="-343.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, node in ipairs(doc) do</text>
<text text-anchor="middle" x="1739" y="-328.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if node.toMarkdown then</text>
<text text-anchor="middle" x="1739" y="-312.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. node:toMarkdown()</text>
<text text-anchor="middle" x="1739" y="-297.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else </text>
<text text-anchor="middle" x="1739" y="-281.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;no toMarkdown method for &quot; .. node.id)</text>
<text text-anchor="middle" x="1739" y="-266.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1739" y="-251.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1739" y="-235.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="1739" y="-220.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_30&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>codeblock_30&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1739,-907.5693C1739,-879.4989 1739,-821.8735 1739,-757.7614"/>
<polygon fill="#000000" stroke="#000000" points="1742.5001,-757.4196 1739,-747.4197 1735.5001,-757.4197 1742.5001,-757.4196"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="2253.5,-615.3014 2020.5,-615.3014 2020.5,-344.0999 2253.5,-344.0999 2253.5,-615.3014"/>
<text text-anchor="middle" x="2137" y="-600.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">local d = {}</text>
<text text-anchor="middle" x="2137" y="-552.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.parentOf(doc, level)</text>
<text text-anchor="middle" x="2137" y="-537.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local i = level &#45; 1</text>
<text text-anchor="middle" x="2137" y="-522.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local parent = nil</text>
<text text-anchor="middle" x="2137" y="-506.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;while i &gt; 0 do</text>
<text text-anchor="middle" x="2137" y="-491.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;parent = doc.lastOf[i]</text>
<text text-anchor="middle" x="2137" y="-475.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if parent then</text>
<text text-anchor="middle" x="2137" y="-460.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return parent</text>
<text text-anchor="middle" x="2137" y="-445.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2137" y="-429.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;i = i &#45; 1</text>
<text text-anchor="middle" x="2137" y="-414.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2137" y="-398.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2137" y="-367.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc</text>
<text text-anchor="middle" x="2137" y="-352.1005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_34&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>codeblock_34&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2137,-907.5693C2137,-860.4541 2137,-730.0749 2137,-625.5139"/>
<polygon fill="#000000" stroke="#000000" points="2140.5001,-625.4793 2137,-615.4794 2133.5001,-625.4794 2140.5001,-625.4793"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="3548.5,-815.602 2965.5,-815.602 2965.5,-143.7992 3548.5,-143.7992 3548.5,-815.602"/>
<text text-anchor="middle" x="3257" y="-800.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.addSection(doc, section, linum)</text>
<text text-anchor="middle" x="3257" y="-784.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.id == &quot;section&quot;, &quot;type of putative section is &quot; .. section.id)</text>
<text text-anchor="middle" x="3257" y="-769.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.first, &quot;no first in section at line &quot; .. tostring(linum))</text>
<text text-anchor="middle" x="3257" y="-754.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not doc.latest then</text>
<text text-anchor="middle" x="3257" y="-738.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc[1] = &#160;section</text>
<text text-anchor="middle" x="3257" y="-723.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3257" y="-707.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if linum &gt; 0 then</text>
<text text-anchor="middle" x="3257" y="-692.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest.line_last = linum &#45; 1 &#160;&#160;&#160;</text>
<text text-anchor="middle" x="3257" y="-677.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3257" y="-661.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local atLevel = doc.latest.level </text>
<text text-anchor="middle" x="3257" y="-646.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if atLevel &lt; section.level then</text>
<text text-anchor="middle" x="3257" y="-630.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; add the section under the latest section</text>
<text text-anchor="middle" x="3257" y="-615.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addSection(section, linum)</text>
<text text-anchor="middle" x="3257" y="-600.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3257" y="-584.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local parent = doc:parentOf(section.level)</text>
<text text-anchor="middle" x="3257" y="-569.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if parent.id == &quot;doc&quot; then</text>
<text text-anchor="middle" x="3257" y="-553.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if section.level == 1 and doc.latest.level == 1 then</text>
<text text-anchor="middle" x="3257" y="-538.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc[#doc + 1] = section</text>
<text text-anchor="middle" x="3257" y="-523.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3257" y="-507.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addSection(section, linum)</text>
<text text-anchor="middle" x="3257" y="-492.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3257" y="-476.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3257" y="-461.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;parent:addSection(section, linum)</text>
<text text-anchor="middle" x="3257" y="-446.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3257" y="-430.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3257" y="-415.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3257" y="-399.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.latest = section</text>
<text text-anchor="middle" x="3257" y="-384.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.lastOf[section.level] = section</text>
<text text-anchor="middle" x="3257" y="-369.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc</text>
<text text-anchor="middle" x="3257" y="-353.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3257" y="-322.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.addLine(doc, line, linum)</text>
<text text-anchor="middle" x="3257" y="-306.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if doc.latest then</text>
<text text-anchor="middle" x="3257" y="-291.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addLine(line)</text>
<text text-anchor="middle" x="3257" y="-276.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3257" y="-260.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; a virtual zero block</text>
<text text-anchor="middle" x="3257" y="-245.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc[1] = Section(0, linum, 1, #line)</text>
<text text-anchor="middle" x="3257" y="-229.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest = doc[1]</text>
<text text-anchor="middle" x="3257" y="-214.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addLine(line)</text>
<text text-anchor="middle" x="3257" y="-199.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3257" y="-167.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc</text>
<text text-anchor="middle" x="3257" y="-152.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_40&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>codeblock_40&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3257,-907.5693C3257,-889.9583 3257,-860.7142 3257,-825.5335"/>
<polygon fill="#000000" stroke="#000000" points="3260.5001,-825.458 3257,-815.4581 3253.5001,-825.4581 3260.5001,-825.458"/>
</g>
<!-- handleline_46 -->
<g id="node47" class="node">
<title>handleline_46</title>
<ellipse fill="none" stroke="#000000" cx="3647" cy="-479.7006" rx="50.3585" ry="18"/>
<text text-anchor="middle" x="3647" y="-475.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handleline</text>
</g>
<!-- structure_44&#45;&gt;handleline_46 -->
<g id="edge46" class="edge">
<title>structure_44&#45;&gt;handleline_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3652.7574,-907.5693C3651.8311,-838.7337 3648.5134,-592.1683 3647.3815,-508.0531"/>
<polygon fill="#000000" stroke="#000000" points="3650.88,-507.9091 3647.2457,-497.9571 3643.8806,-508.0033 3650.88,-507.9091"/>
</g>
<!-- handleline_49 -->
<g id="node50" class="node">
<title>handleline_49</title>
<ellipse fill="none" stroke="#000000" cx="3766" cy="-479.7006" rx="50.3585" ry="18"/>
<text text-anchor="middle" x="3766" y="-475.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handleline</text>
</g>
<!-- structure_45&#45;&gt;handleline_49 -->
<g id="edge49" class="edge">
<title>structure_45&#45;&gt;handleline_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3760.2426,-907.5693C3761.1689,-838.7337 3764.4866,-592.1683 3765.6185,-508.0531"/>
<polygon fill="#000000" stroke="#000000" points="3769.1194,-508.0033 3765.7543,-497.9571 3762.12,-507.9091 3769.1194,-508.0033"/>
</g>
<!-- handle_47 -->
<g id="node48" class="node">
<title>handle_47</title>
<ellipse fill="none" stroke="#000000" cx="3647" cy="-90" rx="36.827" ry="18"/>
<text text-anchor="middle" x="3647" y="-85.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handle</text>
</g>
<!-- handleline_46&#45;&gt;handle_47 -->
<g id="edge47" class="edge">
<title>handleline_46&#45;&gt;handle_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3647,-461.6861C3647,-399.6225 3647,-194.3419 3647,-118.4922"/>
<polygon fill="#000000" stroke="#000000" points="3650.5001,-118.2728 3647,-108.2729 3643.5001,-118.2729 3650.5001,-118.2728"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="3674,-36 3620,-36 3620,0 3674,0 3674,-36"/>
</g>
<!-- handle_47&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>handle_47&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3647,-71.8314C3647,-64.131 3647,-54.9743 3647,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="3650.5001,-46.4132 3647,-36.4133 3643.5001,-46.4133 3650.5001,-46.4132"/>
</g>
<!-- handle_50 -->
<g id="node51" class="node">
<title>handle_50</title>
<ellipse fill="none" stroke="#000000" cx="3766" cy="-90" rx="36.827" ry="18"/>
<text text-anchor="middle" x="3766" y="-85.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handle</text>
</g>
<!-- handleline_49&#45;&gt;handle_50 -->
<g id="edge50" class="edge">
<title>handleline_49&#45;&gt;handle_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3766,-461.6861C3766,-399.6225 3766,-194.3419 3766,-118.4922"/>
<polygon fill="#000000" stroke="#000000" points="3769.5001,-118.2728 3766,-108.2729 3762.5001,-118.2729 3769.5001,-118.2728"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="3793,-36 3739,-36 3739,0 3793,0 3793,-36"/>
</g>
<!-- handle_50&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>handle_50&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3766,-71.8314C3766,-64.131 3766,-54.9743 3766,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="3769.5001,-46.4132 3766,-36.4133 3762.5001,-46.4133 3769.5001,-46.4132"/>
</g>
<!-- handleline_54 -->
<g id="node55" class="node">
<title>handleline_54</title>
<ellipse fill="none" stroke="#000000" cx="3940" cy="-479.7006" rx="50.3585" ry="18"/>
<text text-anchor="middle" x="3940" y="-475.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handleline</text>
</g>
<!-- structure_53&#45;&gt;handleline_54 -->
<g id="edge54" class="edge">
<title>structure_53&#45;&gt;handleline_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3940,-907.5693C3940,-838.7337 3940,-592.1683 3940,-508.0531"/>
<polygon fill="#000000" stroke="#000000" points="3943.5001,-507.9571 3940,-497.9571 3936.5001,-507.9572 3943.5001,-507.9571"/>
</g>
<!-- handle_55 -->
<g id="node56" class="node">
<title>handle_55</title>
<ellipse fill="none" stroke="#000000" cx="3940" cy="-90" rx="36.827" ry="18"/>
<text text-anchor="middle" x="3940" y="-85.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handle</text>
</g>
<!-- handleline_54&#45;&gt;handle_55 -->
<g id="edge55" class="edge">
<title>handleline_54&#45;&gt;handle_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3940,-461.6861C3940,-399.6225 3940,-194.3419 3940,-118.4922"/>
<polygon fill="#000000" stroke="#000000" points="3943.5001,-118.2728 3940,-108.2729 3936.5001,-118.2729 3943.5001,-118.2728"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3967,-36 3913,-36 3913,0 3967,0 3967,-36"/>
</g>
<!-- handle_55&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>handle_55&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3940,-71.8314C3940,-64.131 3940,-54.9743 3940,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="3943.5001,-46.4132 3940,-36.4133 3936.5001,-46.4133 3943.5001,-46.4132"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="4306.5,-623.2011 4017.5,-623.2011 4017.5,-336.2002 4306.5,-336.2002 4306.5,-623.2011"/>
<text text-anchor="middle" x="4162" y="-608.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Doc, str)</text>
<text text-anchor="middle" x="4162" y="-592.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local doc = setmetatable({}, D)</text>
<text text-anchor="middle" x="4162" y="-577.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.str = str</text>
<text text-anchor="middle" x="4162" y="-561.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.first = 1</text>
<text text-anchor="middle" x="4162" y="-546.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.last = #str</text>
<text text-anchor="middle" x="4162" y="-531.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.latest = nil</text>
<text text-anchor="middle" x="4162" y="-515.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.lines = {}</text>
<text text-anchor="middle" x="4162" y="-500.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.lastOf = {}</text>
<text text-anchor="middle" x="4162" y="-484.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; for now lets set root to &#39;false&#39;</text>
<text text-anchor="middle" x="4162" y="-469.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.root = false</text>
<text text-anchor="middle" x="4162" y="-454.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc:own(str)</text>
<text text-anchor="middle" x="4162" y="-438.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4162" y="-407.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">setmetatable(D, Node)</text>
<text text-anchor="middle" x="4162" y="-375.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">d[&quot;__call&quot;] = new</text>
<text text-anchor="middle" x="4162" y="-344.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">return setmetatable({}, d)</text>
</g>
<!-- codeblock_58&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>codeblock_58&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4162,-907.5693C4162,-861.6447 4162,-736.6115 4162,-633.4889"/>
<polygon fill="#000000" stroke="#000000" points="4165.5001,-633.2637 4162,-623.2637 4158.5001,-633.2637 4165.5001,-633.2637"/>
</g>
</g>
</svg>