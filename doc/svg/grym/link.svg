<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="2975pt" height="314pt"
 viewBox="0.00 0.00 2974.76 314.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 310.0003)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-310.0003 2970.7642,-310.0003 2970.7642,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="70.0809" cy="-288.0003" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="70.0809" y="-283.8003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 75</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="70.0809" cy="-153.0002" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="70.0809" y="-148.8002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;17</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M70.0809,-269.7936C70.0809,-247.148 70.0809,-208.2267 70.0809,-181.5867"/>
<polygon fill="#000000" stroke="#000000" points="73.581,-181.3495 70.0809,-171.3496 66.581,-181.3496 73.581,-181.3495"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="70.0809" cy="-18" rx="70.1619" ry="18"/>
<text text-anchor="middle" x="70.0809" y="-13.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Link module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M70.0809,-134.7934C70.0809,-112.1478 70.0809,-73.2266 70.0809,-46.5865"/>
<polygon fill="#000000" stroke="#000000" points="73.581,-46.3494 70.0809,-36.3494 66.581,-46.3495 73.581,-46.3494"/>
</g>
<!-- codeblock_3 -->
<g id="node4" class="node">
<title>codeblock_3</title>
<ellipse fill="none" stroke="#000000" cx="276.0809" cy="-288.0003" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="276.0809" y="-283.8003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_3</text>
</g>
<!-- leaf_6 -->
<g id="node5" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="403.0809,-203.6011 149.0809,-203.6011 149.0809,-102.3992 403.0809,-102.3992 403.0809,-203.6011"/>
<text text-anchor="middle" x="276.0809" y="-188.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="276.0809" y="-157.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="276.0809" y="-141.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;util&quot;</text>
<text text-anchor="middle" x="276.0809" y="-110.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
</g>
<!-- codeblock_3&#45;&gt;leaf_6 -->
<g id="edge3" class="edge">
<title>codeblock_3&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M276.0809,-269.7936C276.0809,-255.3248 276.0809,-234.2121 276.0809,-213.9035"/>
<polygon fill="#000000" stroke="#000000" points="279.581,-213.7148 276.0809,-203.7149 272.581,-213.7149 279.581,-213.7148"/>
</g>
<!-- codeblock_4 -->
<g id="node6" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="534.0809" cy="-288.0003" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="534.0809" y="-283.8003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_4</text>
</g>
<!-- leaf_7 -->
<g id="node7" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="647.0809,-172.3007 421.0809,-172.3007 421.0809,-133.6996 647.0809,-133.6996 647.0809,-172.3007"/>
<text text-anchor="middle" x="534.0809" y="-157.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local Li, li = u.inherit(Node)</text>
<text text-anchor="middle" x="534.0809" y="-141.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">Li.id = &quot;link&quot;</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_7 -->
<g id="edge4" class="edge">
<title>codeblock_4&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M534.0809,-269.7936C534.0809,-247.5275 534.0809,-209.5268 534.0809,-182.9364"/>
<polygon fill="#000000" stroke="#000000" points="537.581,-182.6664 534.0809,-172.6664 530.581,-182.6665 537.581,-182.6664"/>
</g>
<!-- section_5 -->
<g id="node8" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="739.0809" cy="-288.0003" rx="47.9272" ry="18"/>
<text text-anchor="middle" x="739.0809" y="-283.8003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section_5</text>
</g>
<!-- header_8 -->
<g id="node9" class="node">
<title>header_8</title>
<ellipse fill="none" stroke="#000000" cx="739.0809" cy="-153.0002" rx="74.488" ry="18"/>
<text text-anchor="middle" x="739.0809" y="-148.8002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Transformers</text>
</g>
<!-- section_5&#45;&gt;header_8 -->
<g id="edge5" class="edge">
<title>section_5&#45;&gt;header_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M739.0809,-269.7936C739.0809,-247.148 739.0809,-208.2267 739.0809,-181.5867"/>
<polygon fill="#000000" stroke="#000000" points="742.581,-181.3495 739.0809,-171.3496 735.581,-181.3496 742.581,-181.3495"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="902.0809" cy="-288.0003" rx="47.9272" ry="18"/>
<text text-anchor="middle" x="902.0809" y="-283.8003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section_9</text>
</g>
<!-- header_12 -->
<g id="node11" class="node">
<title>header_12</title>
<ellipse fill="none" stroke="#000000" cx="902.0809" cy="-153.0002" rx="70.6291" ry="18"/>
<text text-anchor="middle" x="902.0809" y="-148.8002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : toMarkdown</text>
</g>
<!-- section_9&#45;&gt;header_12 -->
<g id="edge6" class="edge">
<title>section_9&#45;&gt;header_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M902.0809,-269.7936C902.0809,-247.148 902.0809,-208.2267 902.0809,-181.5867"/>
<polygon fill="#000000" stroke="#000000" points="905.581,-181.3495 902.0809,-171.3496 898.581,-181.3496 905.581,-181.3495"/>
</g>
<!-- codeblock_13 -->
<g id="node12" class="node">
<title>codeblock_13</title>
<ellipse fill="none" stroke="#000000" cx="1114.0809" cy="-288.0003" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="1114.0809" y="-283.8003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_13</text>
</g>
<!-- leaf_14 -->
<g id="node13" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="1237.5809,-187.6014 990.5809,-187.6014 990.5809,-118.3989 1237.5809,-118.3989 1237.5809,-187.6014"/>
<text text-anchor="middle" x="1114.0809" y="-172.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">function Li.toMarkdown(link)</text>
<text text-anchor="middle" x="1114.0809" y="-157.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return &quot;[&quot; .. link.prose .. &quot;]&quot;</text>
<text text-anchor="middle" x="1114.0809" y="-141.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;.. &quot;(&quot; .. link.url .. &quot;)&quot;</text>
<text text-anchor="middle" x="1114.0809" y="-126.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_13&#45;&gt;leaf_14 -->
<g id="edge7" class="edge">
<title>codeblock_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1114.0809,-269.7936C1114.0809,-251.4679 1114.0809,-222.4839 1114.0809,-197.9751"/>
<polygon fill="#000000" stroke="#000000" points="1117.581,-197.7893 1114.0809,-187.7894 1110.581,-197.7894 1117.581,-197.7893"/>
</g>
<!-- section_10 -->
<g id="node14" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="1312.0809" cy="-288.0003" rx="52.7641" ry="18"/>
<text text-anchor="middle" x="1312.0809" y="-283.8003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section_10</text>
</g>
<!-- header_15 -->
<g id="node15" class="node">
<title>header_15</title>
<ellipse fill="none" stroke="#000000" cx="1312.0809" cy="-153.0002" rx="56.156" ry="18"/>
<text text-anchor="middle" x="1312.0809" y="-148.8002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : dotLabel</text>
</g>
<!-- section_10&#45;&gt;header_15 -->
<g id="edge8" class="edge">
<title>section_10&#45;&gt;header_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1312.0809,-269.7936C1312.0809,-247.148 1312.0809,-208.2267 1312.0809,-181.5867"/>
<polygon fill="#000000" stroke="#000000" points="1315.581,-181.3495 1312.0809,-171.3496 1308.581,-181.3496 1315.581,-181.3495"/>
</g>
<!-- codeblock_16 -->
<g id="node16" class="node">
<title>codeblock_16</title>
<ellipse fill="none" stroke="#000000" cx="1503.0809" cy="-288.0003" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="1503.0809" y="-283.8003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_16</text>
</g>
<!-- leaf_20 -->
<g id="node17" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1619.5809,-180.2006 1386.5809,-180.2006 1386.5809,-125.7997 1619.5809,-125.7997 1619.5809,-180.2006"/>
<text text-anchor="middle" x="1503.0809" y="-164.9002" font-family="Inconsolata" font-size="14.00" fill="#000000">function Li.dotLabel(link)</text>
<text text-anchor="middle" x="1503.0809" y="-149.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return &quot;link: &quot; .. link.prose</text>
<text text-anchor="middle" x="1503.0809" y="-134.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_16&#45;&gt;leaf_20 -->
<g id="edge9" class="edge">
<title>codeblock_16&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1503.0809,-269.7936C1503.0809,-249.5517 1503.0809,-216.306 1503.0809,-190.4508"/>
<polygon fill="#000000" stroke="#000000" points="1506.581,-190.2382 1503.0809,-180.2382 1499.581,-190.2382 1506.581,-190.2382"/>
</g>
<!-- codeblock_17 -->
<g id="node18" class="node">
<title>codeblock_17</title>
<ellipse fill="none" stroke="#000000" cx="1891.0809" cy="-288.0003" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="1891.0809" y="-283.8003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_17</text>
</g>
<!-- leaf_21 -->
<g id="node19" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="2144.0809,-234.0005 1638.0809,-234.0005 1638.0809,-71.9998 2144.0809,-71.9998 2144.0809,-234.0005"/>
<text text-anchor="middle" x="1891.0809" y="-218.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">function Li.parse(link, line)</text>
<text text-anchor="middle" x="1891.0809" y="-203.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; This only parses double links, expand</text>
<text text-anchor="middle" x="1891.0809" y="-188.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local WS, sel, ser = m.WS, m.sel, m.ser</text>
<text text-anchor="middle" x="1891.0809" y="-172.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local link_content = L.match(L.Ct(sel * WS * sel * L.C(m.link_prose)</text>
<text text-anchor="middle" x="1891.0809" y="-157.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* ser * WS * sel * L.C(m.url) * WS * ser * WS * ser),</text>
<text text-anchor="middle" x="1891.0809" y="-141.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;line)</text>
<text text-anchor="middle" x="1891.0809" y="-126.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;link.prose = link_content[1] or &quot;&quot;</text>
<text text-anchor="middle" x="1891.0809" y="-111.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;link.url &#160;&#160;= link_content[2] or &quot;&quot;</text>
<text text-anchor="middle" x="1891.0809" y="-95.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return link</text>
<text text-anchor="middle" x="1891.0809" y="-80.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_17&#45;&gt;leaf_21 -->
<g id="edge10" class="edge">
<title>codeblock_17&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1891.0809,-269.7936C1891.0809,-262.6358 1891.0809,-253.8521 1891.0809,-244.344"/>
<polygon fill="#000000" stroke="#000000" points="1894.581,-244.2113 1891.0809,-234.2113 1887.581,-244.2113 1894.581,-244.2113"/>
</g>
<!-- codeblock_18 -->
<g id="node20" class="node">
<title>codeblock_18</title>
<ellipse fill="none" stroke="#000000" cx="2289.0809" cy="-288.0003" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="2289.0809" y="-283.8003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_18</text>
</g>
<!-- leaf_22 -->
<g id="node21" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="2416.0809,-210.8005 2162.0809,-210.8005 2162.0809,-95.1998 2416.0809,-95.1998 2416.0809,-210.8005"/>
<text text-anchor="middle" x="2289.0809" y="-195.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Link, line)</text>
<text text-anchor="middle" x="2289.0809" y="-180.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local link = setmetatable({},Li)</text>
<text text-anchor="middle" x="2289.0809" y="-164.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;link.id = &quot;link&quot;</text>
<text text-anchor="middle" x="2289.0809" y="-149.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;link.val = line &#45;&#45; refine this</text>
<text text-anchor="middle" x="2289.0809" y="-134.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;link:parse(line)</text>
<text text-anchor="middle" x="2289.0809" y="-118.7001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return link</text>
<text text-anchor="middle" x="2289.0809" y="-103.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_18&#45;&gt;leaf_22 -->
<g id="edge11" class="edge">
<title>codeblock_18&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2289.0809,-269.7936C2289.0809,-256.9805 2289.0809,-238.9568 2289.0809,-220.8955"/>
<polygon fill="#000000" stroke="#000000" points="2292.581,-220.8903 2289.0809,-210.8904 2285.581,-220.8904 2292.581,-220.8903"/>
</g>
<!-- codeblock_19 -->
<g id="node22" class="node">
<title>codeblock_19</title>
<ellipse fill="none" stroke="#000000" cx="2568.0809" cy="-288.0003" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="2568.0809" y="-283.8003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_19</text>
</g>
<!-- leaf_23 -->
<g id="node23" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="2702.0809,-195.5003 2434.0809,-195.5003 2434.0809,-110.5 2702.0809,-110.5 2702.0809,-195.5003"/>
<text text-anchor="middle" x="2568.0809" y="-180.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">local function linkbuild(link, line)</text>
<text text-anchor="middle" x="2568.0809" y="-164.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;io.write(&quot; &#160;&#160;~~ built a link\n&quot;)</text>
<text text-anchor="middle" x="2568.0809" y="-149.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;link = setmetatable({}, Li)</text>
<text text-anchor="middle" x="2568.0809" y="-134.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return Li.parse(link, line)</text>
<text text-anchor="middle" x="2568.0809" y="-118.7001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_19&#45;&gt;leaf_23 -->
<g id="edge12" class="edge">
<title>codeblock_19&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2568.0809,-269.7936C2568.0809,-253.3791 2568.0809,-228.4135 2568.0809,-205.772"/>
<polygon fill="#000000" stroke="#000000" points="2571.581,-205.5717 2568.0809,-195.5717 2564.581,-205.5718 2571.581,-205.5717"/>
</g>
<!-- section_11 -->
<g id="node24" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="2767.0809" cy="-288.0003" rx="52.4608" ry="18"/>
<text text-anchor="middle" x="2767.0809" y="-283.8003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section_11</text>
</g>
<!-- header_24 -->
<g id="node25" class="node">
<title>header_24</title>
<ellipse fill="none" stroke="#000000" cx="2767.0809" cy="-153.0002" rx="46.9495" ry="18"/>
<text text-anchor="middle" x="2767.0809" y="-148.8002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : export</text>
</g>
<!-- section_11&#45;&gt;header_24 -->
<g id="edge13" class="edge">
<title>section_11&#45;&gt;header_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2767.0809,-269.7936C2767.0809,-247.148 2767.0809,-208.2267 2767.0809,-181.5867"/>
<polygon fill="#000000" stroke="#000000" points="2770.581,-181.3495 2767.0809,-171.3496 2763.581,-181.3496 2770.581,-181.3495"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="2902.0809" cy="-288.0003" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="2902.0809" y="-283.8003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_25</text>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="2966.0809,-171.0002 2838.0809,-171.0002 2838.0809,-135.0002 2966.0809,-135.0002 2966.0809,-171.0002"/>
<text text-anchor="middle" x="2902.0809" y="-149.5002" font-family="Inconsolata" font-size="14.00" fill="#000000">return linkbuild</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_26 -->
<g id="edge14" class="edge">
<title>codeblock_25&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2902.0809,-269.7936C2902.0809,-247.148 2902.0809,-208.2267 2902.0809,-181.5867"/>
<polygon fill="#000000" stroke="#000000" points="2905.581,-181.3495 2902.0809,-171.3496 2898.581,-181.3496 2905.581,-181.3495"/>
</g>
</g>
</svg>