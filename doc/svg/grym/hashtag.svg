<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="1040pt" height="1240pt"
 viewBox="0.00 0.00 1040.30 1239.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1235.8015)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1235.8015 1036.2963,-1235.8015 1036.2963,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="294.7963" cy="-1213.8015" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="294.7963" y="-1209.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 34</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="294.7963" cy="-1141.8015" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="294.7963" y="-1137.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;34</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M294.7963,-1195.6328C294.7963,-1187.9324 294.7963,-1178.7758 294.7963,-1170.2181"/>
<polygon fill="#000000" stroke="#000000" points="298.2964,-1170.2147 294.7963,-1160.2147 291.2964,-1170.2148 298.2964,-1170.2147"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="86.7963" cy="-827.3011" rx="86.593" ry="18"/>
<text text-anchor="middle" x="86.7963" y="-823.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Hashtag module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M250.5255,-1129.3411C227.6315,-1120.9054 200.7918,-1107.6168 182.7963,-1087.8015 120.7792,-1019.5131 97.835,-907.7332 90.2037,-855.6579"/>
<polygon fill="#000000" stroke="#000000" points="93.6345,-854.916 88.7991,-845.489 86.7004,-855.8738 93.6345,-854.916"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="237.7963" cy="-827.3011" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="237.7963" y="-823.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;2</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M291.4853,-1123.5332C281.962,-1070.9876 254.4466,-919.1702 242.9451,-855.7101"/>
<polygon fill="#000000" stroke="#000000" points="246.3436,-854.8353 241.1163,-845.6198 239.4559,-856.0837 246.3436,-854.8353"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="352.7963" cy="-827.3011" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="352.7963" y="-823.1011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 3&#45;34</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M298.1653,-1123.5332C307.8557,-1070.9876 335.8538,-919.1702 347.5571,-855.7101"/>
<polygon fill="#000000" stroke="#000000" points="351.0462,-856.0887 349.4179,-845.6198 344.1623,-854.8191 351.0462,-856.0887"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="1032.2963,-1087.8019 421.2963,-1087.8019 421.2963,-566.8003 1032.2963,-566.8003 1032.2963,-1087.8019"/>
<text text-anchor="middle" x="726.7963" y="-1072.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> * Hashtag module</text>
<text text-anchor="middle" x="726.7963" y="-1041.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="726.7963" y="-1025.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="726.7963" y="-994.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="726.7963" y="-979.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;../lib/util&quot;</text>
<text text-anchor="middle" x="726.7963" y="-947.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="726.7963" y="-916.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">local H, h = u.inherit(Node)</text>
<text text-anchor="middle" x="726.7963" y="-884.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">function h.matchHashtag(line)</text>
<text text-anchor="middle" x="726.7963" y="-869.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local hashlen = L.match(L.C(m.hashtag), line)</text>
<text text-anchor="middle" x="726.7963" y="-854.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if hashlen then</text>
<text text-anchor="middle" x="726.7963" y="-838.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return hashlen</text>
<text text-anchor="middle" x="726.7963" y="-823.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="726.7963" y="-807.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return &quot;&quot;</text>
<text text-anchor="middle" x="726.7963" y="-792.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; This is what it /should/ do, but</text>
<text text-anchor="middle" x="726.7963" y="-777.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; u.freeze(&quot;Hashtag constructor did not match m.hashtag rule on: &#160;&quot; .. line)</text>
<text text-anchor="middle" x="726.7963" y="-761.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="726.7963" y="-746.201" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="726.7963" y="-714.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Hashtag, line)</text>
<text text-anchor="middle" x="726.7963" y="-699.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local hashtag = setmetatable({}, H)</text>
<text text-anchor="middle" x="726.7963" y="-684.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hashtag.id = &quot;hashtag&quot;</text>
<text text-anchor="middle" x="726.7963" y="-668.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hashtag.val = h.matchHashtag(line):sub(2, &#45;1)</text>
<text text-anchor="middle" x="726.7963" y="-637.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return hashtag</text>
<text text-anchor="middle" x="726.7963" y="-621.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="726.7963" y="-590.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">return u.export(h, new)</text>
<text text-anchor="middle" x="726.7963" y="-575.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
</g>
<!-- section_1&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M332.5005,-1127.5303C354.2841,-1118.6338 382.053,-1106.1741 412.3039,-1087.9489"/>
<polygon fill="#000000" stroke="#000000" points="414.2208,-1090.8788 420.8991,-1082.6537 410.5492,-1084.919 414.2208,-1090.8788"/>
</g>
<!-- leaf_5 -->
<g id="node6" class="node">
<title>leaf_5</title>
<polygon fill="none" stroke="#c0c0c0" points="261.7963,-530.8007 207.7963,-530.8007 207.7963,-494.8007 261.7963,-494.8007 261.7963,-530.8007"/>
</g>
<!-- block_3&#45;&gt;leaf_5 -->
<g id="edge5" class="edge">
<title>block_3&#45;&gt;leaf_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M237.622,-809.0328C237.1208,-756.4872 235.6726,-604.6699 235.0672,-541.2097"/>
<polygon fill="#000000" stroke="#000000" points="238.5663,-541.0855 234.971,-531.1194 231.5666,-541.1523 238.5663,-541.0855"/>
</g>
<!-- codeblock_6 -->
<g id="node7" class="node">
<title>codeblock_6</title>
<ellipse fill="none" stroke="#000000" cx="352.7963" cy="-512.8007" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="352.7963" y="-508.6007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 3&#45;33</text>
</g>
<!-- block_4&#45;&gt;codeblock_6 -->
<g id="edge6" class="edge">
<title>block_4&#45;&gt;codeblock_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M352.7963,-809.0328C352.7963,-756.4872 352.7963,-604.6699 352.7963,-541.2097"/>
<polygon fill="#000000" stroke="#000000" points="356.2964,-541.1193 352.7963,-531.1194 349.2964,-541.1194 356.2964,-541.1193"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="497.7963,-530.8007 443.7963,-530.8007 443.7963,-494.8007 497.7963,-494.8007 497.7963,-530.8007"/>
</g>
<!-- block_4&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>block_4&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M353.372,-809.2459C355.5091,-764.9555 365.5629,-648.5851 412.7963,-566.8007 419.0856,-555.9107 428.278,-545.9129 437.4986,-537.5587"/>
<polygon fill="#000000" stroke="#000000" points="439.8891,-540.1191 445.1873,-530.9441 435.3239,-534.8125 439.8891,-540.1191"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="658.2963,-458.7011 47.2963,-458.7011 47.2963,-.0996 658.2963,-.0996 658.2963,-458.7011"/>
<text text-anchor="middle" x="352.7963" y="-443.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="352.7963" y="-412.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="352.7963" y="-396.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;../lib/util&quot;</text>
<text text-anchor="middle" x="352.7963" y="-365.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="352.7963" y="-334.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">local H, h = u.inherit(Node)</text>
<text text-anchor="middle" x="352.7963" y="-302.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">function h.matchHashtag(line)</text>
<text text-anchor="middle" x="352.7963" y="-287.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local hashlen = L.match(L.C(m.hashtag), line)</text>
<text text-anchor="middle" x="352.7963" y="-271.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if hashlen then</text>
<text text-anchor="middle" x="352.7963" y="-256.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return hashlen</text>
<text text-anchor="middle" x="352.7963" y="-241.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="352.7963" y="-225.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return &quot;&quot;</text>
<text text-anchor="middle" x="352.7963" y="-210.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; This is what it /should/ do, but</text>
<text text-anchor="middle" x="352.7963" y="-194.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; u.freeze(&quot;Hashtag constructor did not match m.hashtag rule on: &#160;&quot; .. line)</text>
<text text-anchor="middle" x="352.7963" y="-179.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="352.7963" y="-164.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="352.7963" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Hashtag, line)</text>
<text text-anchor="middle" x="352.7963" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local hashtag = setmetatable({}, H)</text>
<text text-anchor="middle" x="352.7963" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hashtag.id = &quot;hashtag&quot;</text>
<text text-anchor="middle" x="352.7963" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hashtag.val = h.matchHashtag(line):sub(2, &#45;1)</text>
<text text-anchor="middle" x="352.7963" y="-55.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return hashtag</text>
<text text-anchor="middle" x="352.7963" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="352.7963" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return u.export(h, new)</text>
</g>
<!-- codeblock_6&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>codeblock_6&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M352.7963,-494.6416C352.7963,-487.7239 352.7963,-479.0921 352.7963,-469.2099"/>
<polygon fill="#000000" stroke="#000000" points="356.2964,-468.928 352.7963,-458.928 349.2964,-468.9281 356.2964,-468.928"/>
</g>
</g>
</svg>