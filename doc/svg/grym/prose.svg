<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="2946pt" height="485pt"
 viewBox="0.00 0.00 2945.96 484.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 480.6006)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-480.6006 2941.9596,-480.6006 2941.9596,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="76.9596" cy="-458.6006" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="76.9596" y="-454.4006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 150</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="76.9596" cy="-238.3003" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="76.9596" y="-234.1003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;120</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M76.9596,-440.5725C76.9596,-402.3282 76.9596,-312.8098 76.9596,-266.7646"/>
<polygon fill="#000000" stroke="#000000" points="80.4597,-266.5775 76.9596,-256.5775 73.4597,-266.5775 80.4597,-266.5775"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="76.9596" cy="-18" rx="76.9193" ry="18"/>
<text text-anchor="middle" x="76.9596" y="-13.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Prose module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M76.9596,-220.2722C76.9596,-182.0279 76.9596,-92.5095 76.9596,-46.4643"/>
<polygon fill="#000000" stroke="#000000" points="80.4597,-46.2772 76.9596,-36.2772 73.4597,-46.2772 80.4597,-46.2772"/>
</g>
<!-- codeblock_3 -->
<g id="node4" class="node">
<title>codeblock_3</title>
<ellipse fill="none" stroke="#000000" cx="301.9596" cy="-458.6006" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="301.9596" y="-454.4006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_3</text>
</g>
<!-- leaf_7 -->
<g id="node5" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="442.9596,-382.5008 160.9596,-382.5008 160.9596,-94.0998 442.9596,-94.0998 442.9596,-382.5008"/>
<text text-anchor="middle" x="301.9596" y="-367.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="301.9596" y="-335.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;util&quot;</text>
<text text-anchor="middle" x="301.9596" y="-320.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require (&quot;status&quot;)()</text>
<text text-anchor="middle" x="301.9596" y="-305.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local epnf = require &quot;peg/epnf&quot;</text>
<text text-anchor="middle" x="301.9596" y="-289.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
<text text-anchor="middle" x="301.9596" y="-274.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local Csp = epeg.Csp</text>
<text text-anchor="middle" x="301.9596" y="-258.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;node/node&quot;</text>
<text text-anchor="middle" x="301.9596" y="-227.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="301.9596" y="-196.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">local Link = require &quot;grym/link&quot;</text>
<text text-anchor="middle" x="301.9596" y="-180.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">assert(type(Link) == &#39;function&#39;)</text>
<text text-anchor="middle" x="301.9596" y="-165.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local Grammar = require &quot;node/grammar&quot;</text>
<text text-anchor="middle" x="301.9596" y="-117.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">local Pr, pr = u.inherit(Node)</text>
<text text-anchor="middle" x="301.9596" y="-102.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">Pr.id = &quot;prose&quot;</text>
</g>
<!-- codeblock_3&#45;&gt;leaf_7 -->
<g id="edge3" class="edge">
<title>codeblock_3&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M301.9596,-440.5725C301.9596,-428.6276 301.9596,-411.6809 301.9596,-392.6192"/>
<polygon fill="#000000" stroke="#000000" points="305.4597,-392.4736 301.9596,-382.4736 298.4597,-392.4737 305.4597,-392.4736"/>
</g>
<!-- codeblock_4 -->
<g id="node6" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="531.9596" cy="-458.6006" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="531.9596" y="-454.4006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_4</text>
</g>
<!-- leaf_8 -->
<g id="node7" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="602.9596,-256.3003 460.9596,-256.3003 460.9596,-220.3003 602.9596,-220.3003 602.9596,-256.3003"/>
<text text-anchor="middle" x="531.9596" y="-234.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">s.chatty = false &#160;</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_8 -->
<g id="edge4" class="edge">
<title>codeblock_4&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M531.9596,-440.5725C531.9596,-402.3282 531.9596,-312.8098 531.9596,-266.7646"/>
<polygon fill="#000000" stroke="#000000" points="535.4597,-266.5775 531.9596,-256.5775 528.4597,-266.5775 535.4597,-266.5775"/>
</g>
<!-- section_5 -->
<g id="node8" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="709.9596" cy="-458.6006" rx="47.9272" ry="18"/>
<text text-anchor="middle" x="709.9596" y="-454.4006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section_5</text>
</g>
<!-- header_9 -->
<g id="node9" class="node">
<title>header_9</title>
<ellipse fill="none" stroke="#000000" cx="709.9596" cy="-238.3003" rx="88.5398" ry="18"/>
<text text-anchor="middle" x="709.9596" y="-234.1003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Bookend parsing</text>
</g>
<!-- section_5&#45;&gt;header_9 -->
<g id="edge5" class="edge">
<title>section_5&#45;&gt;header_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M709.9596,-440.5725C709.9596,-402.3282 709.9596,-312.8098 709.9596,-266.7646"/>
<polygon fill="#000000" stroke="#000000" points="713.4597,-266.5775 709.9596,-256.5775 706.4597,-266.5775 713.4597,-266.5775"/>
</g>
<!-- codeblock_10 -->
<g id="node10" class="node">
<title>codeblock_10</title>
<ellipse fill="none" stroke="#000000" cx="1086.9596" cy="-458.6006" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="1086.9596" y="-454.4006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_10</text>
</g>
<!-- leaf_13 -->
<g id="node11" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="1357.4596,-404.4011 816.4596,-404.4011 816.4596,-72.1995 1357.4596,-72.1995 1357.4596,-404.4011"/>
<text text-anchor="middle" x="1086.9596" y="-389.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local function equal_strings(s, i, a, b)</text>
<text text-anchor="middle" x="1086.9596" y="-374.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Returns true if a and b are equal.</text>
<text text-anchor="middle" x="1086.9596" y="-358.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; s and i are not used, provided because expected by Cb.</text>
<text text-anchor="middle" x="1086.9596" y="-343.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return a == b</text>
<text text-anchor="middle" x="1086.9596" y="-327.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1086.9596" y="-296.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function bookends(sigil)</text>
<text text-anchor="middle" x="1086.9596" y="-281.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local Cg, C, P, Cmt, Cb = L.Cg, L.C, L.P, L.Cmt, L.Cb</text>
<text text-anchor="middle" x="1086.9596" y="-265.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Returns a pair of patterns, _open and _close,</text>
<text text-anchor="middle" x="1086.9596" y="-250.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; which will match a brace of sigil.</text>
<text text-anchor="middle" x="1086.9596" y="-234.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; sigil must be a string. </text>
<text text-anchor="middle" x="1086.9596" y="-219.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local _open = Cg(C(P(sigil)^1), sigil .. &quot;_init&quot;)</text>
<text text-anchor="middle" x="1086.9596" y="-204.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local _close = &#160;Cmt(C(P(sigil)^1) * Cb(sigil .. &quot;_init&quot;), equal_strings)</text>
<text text-anchor="middle" x="1086.9596" y="-188.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return _open, _close</text>
<text text-anchor="middle" x="1086.9596" y="-173.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1086.9596" y="-141.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">local bold_open, bold_close &#160;&#160;&#160;&#160;= &#160;bookends(&quot;*&quot;)</text>
<text text-anchor="middle" x="1086.9596" y="-126.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">local italic_open, italic_close = &#160;bookends(&quot;/&quot;)</text>
<text text-anchor="middle" x="1086.9596" y="-111.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">local under_open, under_close &#160;&#160;= &#160;bookends(&quot;_&quot;)</text>
<text text-anchor="middle" x="1086.9596" y="-95.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">local strike_open, strike_close = &#160;bookends(&quot;&#45;&quot;)</text>
<text text-anchor="middle" x="1086.9596" y="-80.2" font-family="Inconsolata" font-size="14.00" fill="#000000">local lit_open, lit_close &#160;&#160;&#160;&#160;&#160;&#160;= &#160;bookends(&quot;=&quot;)</text>
</g>
<!-- codeblock_10&#45;&gt;leaf_13 -->
<g id="edge6" class="edge">
<title>codeblock_10&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1086.9596,-440.5725C1086.9596,-433.559 1086.9596,-424.8211 1086.9596,-414.9432"/>
<polygon fill="#000000" stroke="#000000" points="1090.4597,-414.7068 1086.9596,-404.7069 1083.4597,-414.7069 1090.4597,-414.7068"/>
</g>
<!-- codeblock_11 -->
<g id="node12" class="node">
<title>codeblock_11</title>
<ellipse fill="none" stroke="#000000" cx="1537.9596" cy="-458.6006" rx="64.0625" ry="18"/>
<text text-anchor="middle" x="1537.9596" y="-454.4006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_11</text>
</g>
<!-- leaf_14 -->
<g id="node13" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="1699.9596,-327.2011 1375.9596,-327.2011 1375.9596,-149.3995 1699.9596,-149.3995 1699.9596,-327.2011"/>
<text text-anchor="middle" x="1537.9596" y="-311.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">function Pr.toMarkdown(prose)</text>
<text text-anchor="middle" x="1537.9596" y="-296.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="1537.9596" y="-281.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for _, node in ipairs(prose) do</text>
<text text-anchor="middle" x="1537.9596" y="-265.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if node.toMarkdown then</text>
<text text-anchor="middle" x="1537.9596" y="-250.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. node:toMarkdown()</text>
<text text-anchor="middle" x="1537.9596" y="-234.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif node.id == &quot;raw&quot; then</text>
<text text-anchor="middle" x="1537.9596" y="-219.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase &#160;.. node:toValue()</text>
<text text-anchor="middle" x="1537.9596" y="-204.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1537.9596" y="-188.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1537.9596" y="-173.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase</text>
<text text-anchor="middle" x="1537.9596" y="-157.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_11&#45;&gt;leaf_14 -->
<g id="edge7" class="edge">
<title>codeblock_11&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1537.9596,-440.5725C1537.9596,-417.7912 1537.9596,-376.8164 1537.9596,-337.6741"/>
<polygon fill="#000000" stroke="#000000" points="1541.4597,-337.2388 1537.9596,-327.2389 1534.4597,-337.2389 1541.4597,-337.2388"/>
</g>
<!-- section_12 -->
<g id="node14" class="node">
<title>section_12</title>
<ellipse fill="none" stroke="#000000" cx="1799.9596" cy="-458.6006" rx="52.7641" ry="18"/>
<text text-anchor="middle" x="1799.9596" y="-454.4006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section_12</text>
</g>
<!-- header_15 -->
<g id="node15" class="node">
<title>header_15</title>
<ellipse fill="none" stroke="#000000" cx="1799.9596" cy="-238.3003" rx="82.2061" ry="18"/>
<text text-anchor="middle" x="1799.9596" y="-234.1003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : prose grammar</text>
</g>
<!-- section_12&#45;&gt;header_15 -->
<g id="edge8" class="edge">
<title>section_12&#45;&gt;header_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1799.9596,-440.5725C1799.9596,-402.3282 1799.9596,-312.8098 1799.9596,-266.7646"/>
<polygon fill="#000000" stroke="#000000" points="1803.4597,-266.5775 1799.9596,-256.5775 1796.4597,-266.5775 1803.4597,-266.5775"/>
</g>
<!-- codeblock_16 -->
<g id="node16" class="node">
<title>codeblock_16</title>
<ellipse fill="none" stroke="#000000" cx="2093.9596" cy="-458.6006" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="2093.9596" y="-454.4006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_16</text>
</g>
<!-- leaf_17 -->
<g id="node17" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="2287.4596,-351.201 1900.4596,-351.201 1900.4596,-125.3996 2287.4596,-125.3996 2287.4596,-351.201"/>
<text text-anchor="middle" x="2093.9596" y="-335.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">local function prose_gm(_ENV)</text>
<text text-anchor="middle" x="2093.9596" y="-320.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;START &quot;prose&quot;</text>
<text text-anchor="middle" x="2093.9596" y="-305.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;prose = (V&quot;link&quot; + V&quot;raw&quot;)^1</text>
<text text-anchor="middle" x="2093.9596" y="-289.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;link = m.link</text>
<text text-anchor="middle" x="2093.9596" y="-274.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;raw = (P(1) &#45; m.link)^1</text>
<text text-anchor="middle" x="2093.9596" y="-258.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2093.9596" y="-227.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function proseBuild(prose, str)</text>
<text text-anchor="middle" x="2093.9596" y="-212.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return setmetatable(prose, {__index = Pr })</text>
<text text-anchor="middle" x="2093.9596" y="-196.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2093.9596" y="-165.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local parse = Grammar(prose_gm, { prose = proseBuild,</text>
<text text-anchor="middle" x="2093.9596" y="-149.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;link &#160;= Link }) &#160;</text>
</g>
<!-- codeblock_16&#45;&gt;leaf_17 -->
<g id="edge9" class="edge">
<title>codeblock_16&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2093.9596,-440.5725C2093.9596,-422.3517 2093.9596,-392.4924 2093.9596,-361.2409"/>
<polygon fill="#000000" stroke="#000000" points="2097.4597,-361.0583 2093.9596,-351.0583 2090.4597,-361.0584 2097.4597,-361.0583"/>
</g>
<!-- section_6 -->
<g id="node18" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="2373.9596" cy="-458.6006" rx="47.9272" ry="18"/>
<text text-anchor="middle" x="2373.9596" y="-454.4006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section_6</text>
</g>
<!-- header_18 -->
<g id="node19" class="node">
<title>header_18</title>
<ellipse fill="none" stroke="#000000" cx="2373.9596" cy="-238.3003" rx="68.2066" ry="18"/>
<text text-anchor="middle" x="2373.9596" y="-234.1003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Constructor</text>
</g>
<!-- section_6&#45;&gt;header_18 -->
<g id="edge10" class="edge">
<title>section_6&#45;&gt;header_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2373.9596,-440.5725C2373.9596,-402.3282 2373.9596,-312.8098 2373.9596,-266.7646"/>
<polygon fill="#000000" stroke="#000000" points="2377.4597,-266.5775 2373.9596,-256.5775 2370.4597,-266.5775 2377.4597,-266.5775"/>
</g>
<!-- codeblock_19 -->
<g id="node20" class="node">
<title>codeblock_19</title>
<ellipse fill="none" stroke="#000000" cx="2597.9596" cy="-458.6006" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="2597.9596" y="-454.4006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_19</text>
</g>
<!-- leaf_21 -->
<g id="node21" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="2735.4596,-304.0007 2460.4596,-304.0007 2460.4596,-172.5999 2735.4596,-172.5999 2735.4596,-304.0007"/>
<text text-anchor="middle" x="2597.9596" y="-288.7004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Prose, block)</text>
<text text-anchor="middle" x="2597.9596" y="-273.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;\n&quot;</text>
<text text-anchor="middle" x="2597.9596" y="-257.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,l in ipairs(block.lines) do</text>
<text text-anchor="middle" x="2597.9596" y="-242.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;phrase = phrase .. l .. &quot;\n&quot;</text>
<text text-anchor="middle" x="2597.9596" y="-227.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2597.9596" y="-211.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local prose = parse(phrase, 0) </text>
<text text-anchor="middle" x="2597.9596" y="-196.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return prose</text>
<text text-anchor="middle" x="2597.9596" y="-180.9002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_19&#45;&gt;leaf_21 -->
<g id="edge11" class="edge">
<title>codeblock_19&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2597.9596,-440.5725C2597.9596,-413.1535 2597.9596,-359.3793 2597.9596,-314.1655"/>
<polygon fill="#000000" stroke="#000000" points="2601.4597,-314.0689 2597.9596,-304.069 2594.4597,-314.069 2601.4597,-314.0689"/>
</g>
<!-- codeblock_20 -->
<g id="node22" class="node">
<title>codeblock_20</title>
<ellipse fill="none" stroke="#000000" cx="2845.9596" cy="-458.6006" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="2845.9596" y="-454.4006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_20</text>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="2937.9596,-256.3003 2753.9596,-256.3003 2753.9596,-220.3003 2937.9596,-220.3003 2937.9596,-256.3003"/>
<text text-anchor="middle" x="2845.9596" y="-234.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">return u.export(pr, new)</text>
</g>
<!-- codeblock_20&#45;&gt;leaf_22 -->
<g id="edge12" class="edge">
<title>codeblock_20&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2845.9596,-440.5725C2845.9596,-402.3282 2845.9596,-312.8098 2845.9596,-266.7646"/>
<polygon fill="#000000" stroke="#000000" points="2849.4597,-266.5775 2845.9596,-256.5775 2842.4597,-266.5775 2849.4597,-266.5775"/>
</g>
</g>
</svg>