<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="7660pt" height="1669pt"
 viewBox="0.00 0.00 7660.00 1669.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1665.002)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1665.002 7656,-1665.002 7656,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="525" cy="-1643.002" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="525" y="-1638.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 180</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="525" cy="-1571.002" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="525" y="-1566.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;150</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M525,-1624.8334C525,-1617.133 525,-1607.9764 525,-1599.4187"/>
<polygon fill="#000000" stroke="#000000" points="528.5001,-1599.4153 525,-1589.4153 521.5001,-1599.4153 528.5001,-1599.4153"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="124" cy="-1499.002" rx="76.9193" ry="18"/>
<text text-anchor="middle" x="124" y="-1494.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Prose module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M469.6637,-1561.0663C398.3131,-1548.2553 274.1001,-1525.9527 195.6162,-1511.8608"/>
<polygon fill="#000000" stroke="#000000" points="195.7916,-1508.3364 185.3304,-1510.014 194.5544,-1515.2262 195.7916,-1508.3364"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="273" cy="-1499.002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="273" y="-1494.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M476.2323,-1558.8459C435.5682,-1548.4683 376.2193,-1532.7606 325,-1517.002 320.0479,-1515.4784 314.8602,-1513.7925 309.7589,-1512.0814"/>
<polygon fill="#000000" stroke="#000000" points="310.7348,-1508.7163 300.1403,-1508.796 308.4722,-1515.3405 310.7348,-1508.7163"/>
</g>
<!-- codeblock_4 -->
<g id="node5" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="407" cy="-1499.002" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="407" y="-1494.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 5&#45;22</text>
</g>
<!-- section_1&#45;&gt;codeblock_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;codeblock_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M497.9284,-1554.4838C481.7046,-1544.5845 460.8715,-1531.8728 443.2407,-1521.115"/>
<polygon fill="#000000" stroke="#000000" points="444.7137,-1517.9137 434.3542,-1515.6928 441.0676,-1523.8892 444.7137,-1517.9137"/>
</g>
<!-- codeblock_5 -->
<g id="node6" class="node">
<title>codeblock_5</title>
<ellipse fill="none" stroke="#000000" cx="593" cy="-1499.002" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="593" y="-1494.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 24&#45;26</text>
</g>
<!-- section_1&#45;&gt;codeblock_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;codeblock_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M541.4609,-1553.5728C549.7729,-1544.7719 560.0109,-1533.9317 569.1658,-1524.2382"/>
<polygon fill="#000000" stroke="#000000" points="571.8966,-1526.4443 576.2183,-1516.7709 566.8075,-1521.6379 571.8966,-1526.4443"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="3498" cy="-1499.002" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3498" y="-1494.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 28&#45;93</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M590.5602,-1569.4143C981.6771,-1559.9422 3004.1922,-1510.961 3422.31,-1500.8351"/>
<polygon fill="#000000" stroke="#000000" points="3422.5578,-1504.3302 3432.4701,-1500.589 3422.3883,-1497.3323 3422.5578,-1504.3302"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="7053" cy="-1499.002" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7053" y="-1494.802" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 151&#45;180</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M590.669,-1570.2777C1224.4557,-1563.2874 6247.7884,-1507.883 6967.3077,-1499.9472"/>
<polygon fill="#000000" stroke="#000000" points="6967.3761,-1503.4467 6977.3368,-1499.8365 6967.2988,-1496.4471 6967.3761,-1503.4467"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="152,-1334.6018 38,-1334.6018 38,-1298.6018 152,-1298.6018 152,-1334.6018"/>
<text text-anchor="middle" x="95" y="-1313.1019" font-family="Inconsolata" font-size="14.00" fill="#000000">* Prose module</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M121.1133,-1480.846C116.054,-1449.0247 105.5511,-1382.9645 99.5206,-1345.0346"/>
<polygon fill="#000000" stroke="#000000" points="102.9018,-1344.0108 97.875,-1334.6845 95.9887,-1345.11 102.9018,-1344.0108"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="197" cy="-1316.6018" rx="27" ry="18"/>
<text text-anchor="middle" x="197" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M258.3172,-1482.5337C249.8822,-1472.3352 239.6715,-1458.6229 233,-1445.002 216.9976,-1412.3304 207.0763,-1371.3888 201.8002,-1344.6403"/>
<polygon fill="#000000" stroke="#000000" points="205.2352,-1343.9684 199.9412,-1334.791 198.3567,-1345.2667 205.2352,-1343.9684"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="538,-1444.9023 242,-1444.9023 242,-1188.3014 538,-1188.3014 538,-1444.9023"/>
<text text-anchor="middle" x="390" y="-1429.802" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="390" y="-1398.402" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;util&quot;</text>
<text text-anchor="middle" x="390" y="-1383.002" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require (&quot;status&quot;)()</text>
<text text-anchor="middle" x="390" y="-1367.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;epeg&quot;</text>
<text text-anchor="middle" x="390" y="-1352.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">local Csp = epeg.Csp</text>
<text text-anchor="middle" x="390" y="-1336.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;node/node&quot;</text>
<text text-anchor="middle" x="390" y="-1305.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="390" y="-1290.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">local Link = require &quot;grym/link&quot;</text>
<text text-anchor="middle" x="390" y="-1274.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">local Richtext = require &quot;grym/richtext&quot;</text>
<text text-anchor="middle" x="390" y="-1259.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local Grammar = require &quot;node/grammar&quot;</text>
<text text-anchor="middle" x="390" y="-1211.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">local Pr, pr = u.inherit(Node)</text>
<text text-anchor="middle" x="390" y="-1196.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">Pr.id = &quot;prose&quot;</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>codeblock_4&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M405.3078,-1480.846C404.6465,-1473.7498 403.8264,-1464.9511 402.9121,-1455.1413"/>
<polygon fill="#000000" stroke="#000000" points="406.3818,-1454.6522 401.9688,-1445.0201 399.412,-1455.3018 406.3818,-1454.6522"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="698,-1334.6018 556,-1334.6018 556,-1298.6018 698,-1298.6018 698,-1334.6018"/>
<text text-anchor="middle" x="627" y="-1313.1019" font-family="Inconsolata" font-size="14.00" fill="#000000">s.chatty = false &#160;</text>
</g>
<!-- codeblock_5&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>codeblock_5&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M596.3844,-1480.846C602.3414,-1448.8881 614.7356,-1382.3968 621.7908,-1344.5478"/>
<polygon fill="#000000" stroke="#000000" points="625.2375,-1345.1565 623.6293,-1334.6845 618.356,-1343.8738 625.2375,-1345.1565"/>
</g>
<!-- header_13 -->
<g id="node14" class="node">
<title>header_13</title>
<ellipse fill="none" stroke="#000000" cx="805" cy="-1316.6018" rx="88.5398" ry="18"/>
<text text-anchor="middle" x="805" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Bookend parsing</text>
</g>
<!-- section_6&#45;&gt;header_13 -->
<g id="edge13" class="edge">
<title>section_6&#45;&gt;header_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3432.1992,-1498.4181C3033.9555,-1494.7888 961.1025,-1474.5045 903,-1445.002 861.0343,-1423.6933 831.9721,-1375.1356 816.932,-1344.2172"/>
<polygon fill="#000000" stroke="#000000" points="819.9569,-1342.4241 812.5429,-1334.8555 813.6189,-1345.3956 819.9569,-1342.4241"/>
</g>
<!-- prose_14 -->
<g id="node15" class="node">
<title>prose_14</title>
<ellipse fill="none" stroke="#000000" cx="944" cy="-1316.6018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="944" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_14 -->
<g id="edge14" class="edge">
<title>section_6&#45;&gt;prose_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3432.4411,-1497.9452C3161.1911,-1493.4137 2125.6819,-1474.5047 1800,-1445.002 1484.0698,-1416.3827 1107.1221,-1347.6548 984.608,-1324.4255"/>
<polygon fill="#000000" stroke="#000000" points="985.0299,-1320.943 974.5519,-1322.5124 983.7216,-1327.8197 985.0299,-1320.943"/>
</g>
<!-- prose_15 -->
<g id="node16" class="node">
<title>prose_15</title>
<ellipse fill="none" stroke="#000000" cx="1841" cy="-1316.6018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1841" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_15 -->
<g id="edge15" class="edge">
<title>section_6&#45;&gt;prose_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3432.2388,-1498.2547C3275.3745,-1495.8373 2867.1081,-1485.801 2529,-1445.002 2280.335,-1414.996 1986.0465,-1350.0612 1880.8365,-1325.9033"/>
<polygon fill="#000000" stroke="#000000" points="1881.4944,-1322.4633 1870.9638,-1323.6284 1879.9226,-1329.2845 1881.4944,-1322.4633"/>
</g>
<!-- prose_16 -->
<g id="node17" class="node">
<title>prose_16</title>
<ellipse fill="none" stroke="#000000" cx="2570" cy="-1316.6018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2570" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_16 -->
<g id="edge16" class="edge">
<title>section_6&#45;&gt;prose_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3444.4351,-1488.4737C3276.1326,-1455.3936 2760.2869,-1354.0031 2610.921,-1324.6449"/>
<polygon fill="#000000" stroke="#000000" points="2611.2971,-1321.152 2600.8098,-1322.6576 2609.947,-1328.0206 2611.2971,-1321.152"/>
</g>
<!-- prose_17 -->
<g id="node18" class="node">
<title>prose_17</title>
<ellipse fill="none" stroke="#000000" cx="3498" cy="-1316.6018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3498" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_17 -->
<g id="edge17" class="edge">
<title>section_6&#45;&gt;prose_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3498,-1480.846C3498,-1449.0247 3498,-1382.9645 3498,-1345.0346"/>
<polygon fill="#000000" stroke="#000000" points="3501.5001,-1344.6845 3498,-1334.6845 3494.5001,-1344.6845 3501.5001,-1344.6845"/>
</g>
<!-- prose_18 -->
<g id="node19" class="node">
<title>prose_18</title>
<ellipse fill="none" stroke="#000000" cx="4258" cy="-1316.6018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4258" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_18 -->
<g id="edge18" class="edge">
<title>section_6&#45;&gt;prose_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3547.5726,-1487.1046C3688.6048,-1453.2568 4090.1331,-1356.8899 4218.2191,-1326.1493"/>
<polygon fill="#000000" stroke="#000000" points="4219.106,-1329.5359 4228.0131,-1323.7987 4217.4724,-1322.7292 4219.106,-1329.5359"/>
</g>
<!-- prose_19 -->
<g id="node20" class="node">
<title>prose_19</title>
<ellipse fill="none" stroke="#000000" cx="4374" cy="-1316.6018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4374" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_19 -->
<g id="edge19" class="edge">
<title>section_6&#45;&gt;prose_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3563.7932,-1498.0723C3744.1615,-1495.0364 4237.2066,-1483.291 4299,-1445.002 4335.6716,-1422.2792 4356.4251,-1374.5094 4366.4162,-1344.0749"/>
<polygon fill="#000000" stroke="#000000" points="4369.7727,-1345.0677 4369.3993,-1334.4794 4363.0883,-1342.9895 4369.7727,-1345.0677"/>
</g>
<!-- codeblock_20 -->
<g id="node21" class="node">
<title>codeblock_20</title>
<ellipse fill="none" stroke="#000000" cx="4630" cy="-1316.6018" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4630" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 54&#45;77</text>
</g>
<!-- section_6&#45;&gt;codeblock_20 -->
<g id="edge20" class="edge">
<title>section_6&#45;&gt;codeblock_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3563.4897,-1496.9457C3759.718,-1490.5331 4334.3124,-1469.8373 4415,-1445.002 4487.737,-1422.6139 4561.5268,-1370.8082 4600.9206,-1340.2832"/>
<polygon fill="#000000" stroke="#000000" points="4603.0826,-1343.0357 4608.792,-1334.1108 4598.7631,-1337.5273 4603.0826,-1343.0357"/>
</g>
<!-- codeblock_21 -->
<g id="node22" class="node">
<title>codeblock_21</title>
<ellipse fill="none" stroke="#000000" cx="5006" cy="-1316.6018" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="5006" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 79&#45;91</text>
</g>
<!-- section_6&#45;&gt;codeblock_21 -->
<g id="edge21" class="edge">
<title>section_6&#45;&gt;codeblock_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3563.5274,-1497.5188C3800.3381,-1491.9632 4603.759,-1471.349 4716,-1445.002 4811.7718,-1422.521 4915.1154,-1368.879 4968.8141,-1338.5208"/>
<polygon fill="#000000" stroke="#000000" points="4970.6714,-1341.4907 4977.6241,-1333.4963 4967.2036,-1335.4101 4970.6714,-1341.4907"/>
</g>
<!-- section_22 -->
<g id="node23" class="node">
<title>section_22</title>
<ellipse fill="none" stroke="#000000" cx="6060" cy="-1316.6018" rx="70.655" ry="18"/>
<text text-anchor="middle" x="6060" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 94&#45;150</text>
</g>
<!-- section_6&#45;&gt;section_22 -->
<g id="edge22" class="edge">
<title>section_6&#45;&gt;section_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3563.9052,-1497.6326C3825.0575,-1492.0721 4787.771,-1470.2712 5092,-1445.002 5430.4847,-1416.8876 5832.055,-1354.1344 5990.646,-1328.1806"/>
<polygon fill="#000000" stroke="#000000" points="5991.4361,-1331.5978 6000.7375,-1326.525 5990.3028,-1324.6902 5991.4361,-1331.5978"/>
</g>
<!-- header_94 -->
<g id="node95" class="node">
<title>header_94</title>
<ellipse fill="none" stroke="#000000" cx="6905" cy="-1316.6018" rx="68.2066" ry="18"/>
<text text-anchor="middle" x="6905" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Constructor</text>
</g>
<!-- section_7&#45;&gt;header_94 -->
<g id="edge94" class="edge">
<title>section_7&#45;&gt;header_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7038.5397,-1481.1806C7012.1673,-1448.6785 6956.1777,-1379.675 6925.7439,-1342.1673"/>
<polygon fill="#000000" stroke="#000000" points="6928.3198,-1339.7871 6919.3011,-1334.227 6922.8841,-1344.1977 6928.3198,-1339.7871"/>
</g>
<!-- prose_95 -->
<g id="node96" class="node">
<title>prose_95</title>
<ellipse fill="none" stroke="#000000" cx="7053" cy="-1316.6018" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7053" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_95 -->
<g id="edge95" class="edge">
<title>section_7&#45;&gt;prose_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7053,-1480.846C7053,-1449.0247 7053,-1382.9645 7053,-1345.0346"/>
<polygon fill="#000000" stroke="#000000" points="7056.5001,-1344.6845 7053,-1334.6845 7049.5001,-1344.6845 7056.5001,-1344.6845"/>
</g>
<!-- codeblock_96 -->
<g id="node97" class="node">
<title>codeblock_96</title>
<ellipse fill="none" stroke="#000000" cx="7251" cy="-1316.6018" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7251" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 155&#45;164</text>
</g>
<!-- section_7&#45;&gt;codeblock_96 -->
<g id="edge96" class="edge">
<title>section_7&#45;&gt;codeblock_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7071.9851,-1481.5127C7107.4486,-1448.8433 7183.8271,-1378.4824 7224.4029,-1341.1034"/>
<polygon fill="#000000" stroke="#000000" points="7226.798,-1343.6558 7231.7815,-1334.3062 7222.0552,-1338.5074 7226.798,-1343.6558"/>
</g>
<!-- codeblock_97 -->
<g id="node98" class="node">
<title>codeblock_97</title>
<ellipse fill="none" stroke="#000000" cx="7502" cy="-1316.6018" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7502" y="-1312.4018" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 166&#45;168</text>
</g>
<!-- section_7&#45;&gt;codeblock_97 -->
<g id="edge97" class="edge">
<title>section_7&#45;&gt;codeblock_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7119.995,-1490.6945C7193.9076,-1480.8303 7307.6169,-1463.3858 7347,-1445.002 7400.7727,-1419.9013 7451.4128,-1371.5983 7479.4129,-1341.9226"/>
<polygon fill="#000000" stroke="#000000" points="7482.1199,-1344.1512 7486.363,-1334.4431 7476.992,-1339.3862 7482.1199,-1344.1512"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="394,-1006.1028 0,-1006.1028 0,-950.2999 394,-950.2999 394,-1006.1028"/>
<text text-anchor="middle" x="197" y="-958.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Here we need a proper recursive parser. &#160;Eventually.</text>
</g>
<!-- raw_9&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>raw_9&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M197,-1298.408C197,-1245.1526 197,-1088.782 197,-1016.1199"/>
<polygon fill="#000000" stroke="#000000" points="200.5001,-1016.0288 197,-1006.0289 193.5001,-1016.0289 200.5001,-1016.0288"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="582,-996.2013 440,-996.2013 440,-960.2013 582,-960.2013 582,-996.2013"/>
<text text-anchor="middle" x="511" y="-974.7014" font-family="Inconsolata" font-size="14.00" fill="#000000">** Bookend parsing</text>
</g>
<!-- header_13&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>header_13&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M795.9,-1298.4046C781.0688,-1270.5782 749.0658,-1217.5958 707,-1188.2017 662.7512,-1157.2821 631.5697,-1187.8116 591,-1152.2017 546.6896,-1113.3083 525.3804,-1044.8086 516.468,-1006.3802"/>
<polygon fill="#000000" stroke="#000000" points="519.8374,-1005.4051 514.2742,-996.3884 513.0002,-1006.9064 519.8374,-1005.4051"/>
</g>
<!-- raw_24 -->
<g id="node25" class="node">
<title>raw_24</title>
<ellipse fill="none" stroke="#000000" cx="627" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="627" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_14&#45;&gt;raw_24 -->
<g id="edge24" class="edge">
<title>prose_14&#45;&gt;raw_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M943.8747,-1298.4687C942.6218,-1270.2341 935.7843,-1216.114 903,-1188.2017 820.8738,-1118.2799 741.3415,-1226.3392 663,-1152.2017 623.1658,-1114.505 621.2966,-1045.2478 623.8728,-1006.4469"/>
<polygon fill="#000000" stroke="#000000" points="627.3708,-1006.6121 624.6895,-996.3621 620.3937,-1006.047 627.3708,-1006.6121"/>
</g>
<!-- bold_25 -->
<g id="node26" class="node">
<title>bold_25</title>
<ellipse fill="none" stroke="#000000" cx="699" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="699" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">bold</text>
</g>
<!-- prose_14&#45;&gt;bold_25 -->
<g id="edge25" class="edge">
<title>prose_14&#45;&gt;bold_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M943.6393,-1298.2502C942.0454,-1270.2172 934.7271,-1216.9628 903,-1188.2017 846.4245,-1136.915 788.8045,-1206.3882 735,-1152.2017 696.4566,-1113.3846 694.0369,-1044.8555 696.1898,-1006.4018"/>
<polygon fill="#000000" stroke="#000000" points="699.6827,-1006.6238 696.892,-996.4031 692.6999,-1006.1333 699.6827,-1006.6238"/>
</g>
<!-- raw_26 -->
<g id="node27" class="node">
<title>raw_26</title>
<ellipse fill="none" stroke="#000000" cx="771" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="771" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_14&#45;&gt;raw_26 -->
<g id="edge26" class="edge">
<title>prose_14&#45;&gt;raw_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M943.0621,-1298.3523C940.6951,-1270.9366 932.3576,-1219.0555 903,-1188.2017 871.5889,-1155.1897 836.6343,-1186.8174 807,-1152.2017 771.7598,-1111.0378 767.9314,-1044.4399 768.9991,-1006.6936"/>
<polygon fill="#000000" stroke="#000000" points="772.5082,-1006.5497 769.4329,-996.4111 765.5144,-1006.2546 772.5082,-1006.5497"/>
</g>
<!-- bold_27 -->
<g id="node28" class="node">
<title>bold_27</title>
<ellipse fill="none" stroke="#000000" cx="843" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="843" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">bold</text>
</g>
<!-- prose_14&#45;&gt;bold_27 -->
<g id="edge27" class="edge">
<title>prose_14&#45;&gt;bold_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M939.9314,-1298.5587C933.8289,-1273.1494 921.0629,-1225.7344 903,-1188.2017 894.661,-1170.8742 886.4176,-1169.943 879,-1152.2017 858.5647,-1103.3248 849.3461,-1041.7207 845.4914,-1006.4608"/>
<polygon fill="#000000" stroke="#000000" points="848.9624,-1005.9981 844.4608,-996.4072 841.9989,-1006.712 848.9624,-1005.9981"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="915" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="915" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_14&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_14&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M942.4408,-1298.408C937.671,-1242.7491 923.2489,-1074.4572 917.4517,-1006.8104"/>
<polygon fill="#000000" stroke="#000000" points="920.908,-1006.1498 916.5669,-996.4852 913.9336,-1006.7475 920.908,-1006.1498"/>
</g>
<!-- bold_29 -->
<g id="node30" class="node">
<title>bold_29</title>
<ellipse fill="none" stroke="#000000" cx="987" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="987" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">bold</text>
</g>
<!-- prose_14&#45;&gt;bold_29 -->
<g id="edge29" class="edge">
<title>prose_14&#45;&gt;bold_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M946.3119,-1298.408C953.3844,-1242.7491 974.7689,-1074.4572 983.3647,-1006.8104"/>
<polygon fill="#000000" stroke="#000000" points="986.8882,-1006.8466 984.6767,-996.4852 979.944,-1005.9642 986.8882,-1006.8466"/>
</g>
<!-- raw_30 -->
<g id="node31" class="node">
<title>raw_30</title>
<ellipse fill="none" stroke="#000000" cx="1092" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="1092" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_14&#45;&gt;raw_30 -->
<g id="edge30" class="edge">
<title>prose_14&#45;&gt;raw_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M952.9469,-1299.0321C968.0426,-1269.1633 999.2473,-1206.4445 1023,-1152.2017 1045.4825,-1100.8595 1068.9906,-1039.7182 1081.9373,-1005.2863"/>
<polygon fill="#000000" stroke="#000000" points="1085.2209,-1006.498 1085.4514,-995.9057 1078.6657,-1004.0423 1085.2209,-1006.498"/>
</g>
<!-- raw_38 -->
<g id="node39" class="node">
<title>raw_38</title>
<ellipse fill="none" stroke="#000000" cx="1540" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="1540" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_15&#45;&gt;raw_38 -->
<g id="edge38" class="edge">
<title>prose_15&#45;&gt;raw_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1826.4821,-1300.2801C1777.4939,-1245.2048 1618.1556,-1066.0681 1560.8056,-1001.5922"/>
<polygon fill="#000000" stroke="#000000" points="1563.2847,-999.113 1554.0234,-993.9672 1558.0543,-1003.7653 1563.2847,-999.113"/>
</g>
<!-- link_39 -->
<g id="node40" class="node">
<title>link_39</title>
<ellipse fill="none" stroke="#000000" cx="1745" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="1745" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_15&#45;&gt;link_39 -->
<g id="edge39" class="edge">
<title>prose_15&#45;&gt;link_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1835.8386,-1298.408C1819.9794,-1242.504 1771.8855,-1072.973 1752.8642,-1005.9227"/>
<polygon fill="#000000" stroke="#000000" points="1756.1668,-1004.7396 1750.0704,-996.0745 1749.4325,-1006.6501 1756.1668,-1004.7396"/>
</g>
<!-- raw_40 -->
<g id="node41" class="node">
<title>raw_40</title>
<ellipse fill="none" stroke="#000000" cx="1937" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="1937" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_15&#45;&gt;raw_40 -->
<g id="edge40" class="edge">
<title>prose_15&#45;&gt;raw_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1846.1614,-1298.408C1862.0206,-1242.504 1910.1145,-1072.973 1929.1358,-1005.9227"/>
<polygon fill="#000000" stroke="#000000" points="1932.5675,-1006.6501 1931.9296,-996.0745 1925.8332,-1004.7396 1932.5675,-1006.6501"/>
</g>
<!-- raw_47 -->
<g id="node48" class="node">
<title>raw_47</title>
<ellipse fill="none" stroke="#000000" cx="2406" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="2406" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_16&#45;&gt;raw_47 -->
<g id="edge47" class="edge">
<title>prose_16&#45;&gt;raw_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2554.6688,-1300.2455C2529.1736,-1272.1645 2478.0921,-1212.0118 2450,-1152.2017 2427.1908,-1103.6392 2415.1592,-1041.6858 2409.726,-1006.3249"/>
<polygon fill="#000000" stroke="#000000" points="2413.1622,-1005.6344 2408.247,-996.2488 2406.2364,-1006.6511 2413.1622,-1005.6344"/>
</g>
<!-- interpolated_48 -->
<g id="node49" class="node">
<title>interpolated_48</title>
<ellipse fill="none" stroke="#000000" cx="2515" cy="-978.2013" rx="56.1474" ry="18"/>
<text text-anchor="middle" x="2515" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">interpolated</text>
</g>
<!-- prose_16&#45;&gt;interpolated_48 -->
<g id="edge48" class="edge">
<title>prose_16&#45;&gt;interpolated_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2567.043,-1298.408C2557.9781,-1242.6343 2530.5315,-1073.7628 2519.582,-1006.3932"/>
<polygon fill="#000000" stroke="#000000" points="2523.0307,-1005.7941 2517.9717,-996.4852 2516.1213,-1006.9172 2523.0307,-1005.7941"/>
</g>
<!-- raw_49 -->
<g id="node50" class="node">
<title>raw_49</title>
<ellipse fill="none" stroke="#000000" cx="2621" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="2621" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_16&#45;&gt;raw_49 -->
<g id="edge49" class="edge">
<title>prose_16&#45;&gt;raw_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2572.742,-1298.408C2581.1476,-1242.6343 2606.598,-1073.7628 2616.7512,-1006.3932"/>
<polygon fill="#000000" stroke="#000000" points="2620.215,-1006.8951 2618.2445,-996.4852 2613.2932,-1005.8519 2620.215,-1006.8951"/>
</g>
<!-- raw_53 -->
<g id="node54" class="node">
<title>raw_53</title>
<ellipse fill="none" stroke="#000000" cx="2794" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="2794" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_17&#45;&gt;raw_53 -->
<g id="edge53" class="edge">
<title>prose_17&#45;&gt;raw_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3467.2279,-1311.0873C3385.6099,-1295.5398 3158.5518,-1246.2443 2993,-1152.2017 2919.36,-1110.37 2848.4785,-1038.4287 2814.6459,-1001.5261"/>
<polygon fill="#000000" stroke="#000000" points="2816.9318,-998.8368 2807.6202,-993.7827 2811.7476,-1003.5405 2816.9318,-998.8368"/>
</g>
<!-- literal_54 -->
<g id="node55" class="node">
<title>literal_54</title>
<ellipse fill="none" stroke="#000000" cx="3033" cy="-978.2013" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3033" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_17&#45;&gt;literal_54 -->
<g id="edge54" class="edge">
<title>prose_17&#45;&gt;literal_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3470.2779,-1307.3378C3410.8318,-1286.5291 3268.5859,-1231.6109 3171,-1152.2017 3117.3779,-1108.5674 3071.1716,-1040.697 3048.2984,-1003.9466"/>
<polygon fill="#000000" stroke="#000000" points="3051.2098,-1001.9991 3042.9956,-995.3075 3045.244,-1005.661 3051.2098,-1001.9991"/>
</g>
<!-- raw_55 -->
<g id="node56" class="node">
<title>raw_55</title>
<ellipse fill="none" stroke="#000000" cx="3207" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="3207" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_17&#45;&gt;raw_55 -->
<g id="edge55" class="edge">
<title>prose_17&#45;&gt;raw_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3483.9645,-1300.2801C3436.6037,-1245.2048 3282.5591,-1066.0681 3227.1144,-1001.5922"/>
<polygon fill="#000000" stroke="#000000" points="3229.7313,-999.2673 3220.5575,-993.9672 3224.4238,-1003.8314 3229.7313,-999.2673"/>
</g>
<!-- literal_56 -->
<g id="node57" class="node">
<title>literal_56</title>
<ellipse fill="none" stroke="#000000" cx="3397" cy="-978.2013" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3397" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_17&#45;&gt;literal_56 -->
<g id="edge56" class="edge">
<title>prose_17&#45;&gt;literal_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3492.5698,-1298.408C3475.8845,-1242.504 3425.2858,-1072.973 3405.2738,-1005.9227"/>
<polygon fill="#000000" stroke="#000000" points="3408.5483,-1004.6558 3402.3345,-996.0745 3401.8407,-1006.6578 3408.5483,-1004.6558"/>
</g>
<!-- raw_57 -->
<g id="node58" class="node">
<title>raw_57</title>
<ellipse fill="none" stroke="#000000" cx="3498" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="3498" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_17&#45;&gt;raw_57 -->
<g id="edge57" class="edge">
<title>prose_17&#45;&gt;raw_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3498,-1298.408C3498,-1242.7491 3498,-1074.4572 3498,-1006.8104"/>
<polygon fill="#000000" stroke="#000000" points="3501.5001,-1006.4851 3498,-996.4852 3494.5001,-1006.4852 3501.5001,-1006.4851"/>
</g>
<!-- literal_58 -->
<g id="node59" class="node">
<title>literal_58</title>
<ellipse fill="none" stroke="#000000" cx="3602" cy="-978.2013" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3602" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_17&#45;&gt;literal_58 -->
<g id="edge58" class="edge">
<title>prose_17&#45;&gt;literal_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3503.5915,-1298.408C3520.7724,-1242.504 3572.874,-1072.973 3593.4805,-1005.9227"/>
<polygon fill="#000000" stroke="#000000" points="3596.9149,-1006.6615 3596.5071,-996.0745 3590.2238,-1004.605 3596.9149,-1006.6615"/>
</g>
<!-- raw_59 -->
<g id="node60" class="node">
<title>raw_59</title>
<ellipse fill="none" stroke="#000000" cx="3713" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="3713" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_17&#45;&gt;raw_59 -->
<g id="edge59" class="edge">
<title>prose_17&#45;&gt;raw_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3515.1474,-1300.8108C3544.4234,-1273.103 3604.5102,-1212.8872 3642,-1152.2017 3671.8091,-1103.9489 3693.8737,-1040.9935 3704.966,-1005.554"/>
<polygon fill="#000000" stroke="#000000" points="3708.3395,-1006.4908 3707.927,-995.904 3701.6475,-1004.4373 3708.3395,-1006.4908"/>
</g>
<!-- literal_60 -->
<g id="node61" class="node">
<title>literal_60</title>
<ellipse fill="none" stroke="#000000" cx="3828" cy="-978.2013" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3828" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_17&#45;&gt;literal_60 -->
<g id="edge60" class="edge">
<title>prose_17&#45;&gt;literal_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3523.8483,-1305.675C3573.57,-1283.498 3683.4071,-1228.7369 3749,-1152.2017 3786.8252,-1108.0664 3809.8789,-1042.8419 3820.6631,-1006.0677"/>
<polygon fill="#000000" stroke="#000000" points="3824.1409,-1006.6323 3823.5004,-996.0568 3817.4061,-1004.7235 3824.1409,-1006.6323"/>
</g>
<!-- raw_61 -->
<g id="node62" class="node">
<title>raw_61</title>
<ellipse fill="none" stroke="#000000" cx="3964" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="3964" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_17&#45;&gt;raw_61 -->
<g id="edge61" class="edge">
<title>prose_17&#45;&gt;raw_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3528.2425,-1310.1463C3596.4301,-1294.2407 3764.28,-1247.3606 3868,-1152.2017 3913.0814,-1110.8413 3941.7705,-1043.2924 3955.146,-1005.6812"/>
<polygon fill="#000000" stroke="#000000" points="3958.563,-1006.5082 3958.5134,-995.9135 3951.9452,-1004.2267 3958.563,-1006.5082"/>
</g>
<!-- raw_71 -->
<g id="node72" class="node">
<title>raw_71</title>
<ellipse fill="none" stroke="#000000" cx="4225" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="4225" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_18&#45;&gt;raw_71 -->
<g id="edge71" class="edge">
<title>prose_18&#45;&gt;raw_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4256.2258,-1298.408C4250.7981,-1242.7491 4234.3866,-1074.4572 4227.7899,-1006.8104"/>
<polygon fill="#000000" stroke="#000000" points="4231.2371,-1006.0982 4226.783,-996.4852 4224.2702,-1006.7777 4231.2371,-1006.0982"/>
</g>
<!-- bold_72 -->
<g id="node73" class="node">
<title>bold_72</title>
<ellipse fill="none" stroke="#000000" cx="4297" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="4297" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">bold</text>
</g>
<!-- prose_18&#45;&gt;bold_72 -->
<g id="edge72" class="edge">
<title>prose_18&#45;&gt;bold_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4260.0968,-1298.408C4266.5114,-1242.7491 4285.9067,-1074.4572 4293.7029,-1006.8104"/>
<polygon fill="#000000" stroke="#000000" points="4297.2248,-1006.8202 4294.8928,-996.4852 4290.2709,-1006.0187 4297.2248,-1006.8202"/>
</g>
<!-- raw_73 -->
<g id="node74" class="node">
<title>raw_73</title>
<ellipse fill="none" stroke="#000000" cx="4369" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="4369" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_18&#45;&gt;raw_73 -->
<g id="edge73" class="edge">
<title>prose_18&#45;&gt;raw_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4267.4351,-1299.3627C4283.1532,-1269.9811 4314.7684,-1207.9615 4333,-1152.2017 4349.4205,-1101.9809 4359.9836,-1041.0708 4365.1766,-1006.2566"/>
<polygon fill="#000000" stroke="#000000" points="4368.6446,-1006.7296 4366.6164,-996.3307 4361.7171,-1005.7247 4368.6446,-1006.7296"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="4441" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="4441" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_19&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_19&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4377.6022,-1298.408C4388.6707,-1242.504 4422.2361,-1072.973 4435.5114,-1005.9227"/>
<polygon fill="#000000" stroke="#000000" points="4438.9524,-1006.5639 4437.4613,-996.0745 4432.0857,-1005.2043 4438.9524,-1006.5639"/>
</g>
<!-- leaf_79 -->
<g id="node80" class="node">
<title>leaf_79</title>
<polygon fill="none" stroke="#c0c0c0" points="5027.5,-1152.202 4486.5,-1152.202 4486.5,-804.2007 5027.5,-804.2007 5027.5,-1152.202"/>
<text text-anchor="middle" x="4757" y="-1137.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local function equal_strings(s, i, a, b)</text>
<text text-anchor="middle" x="4757" y="-1121.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Returns true if a and b are equal.</text>
<text text-anchor="middle" x="4757" y="-1106.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; s and i are not used, provided because expected by Cb.</text>
<text text-anchor="middle" x="4757" y="-1090.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return a == b</text>
<text text-anchor="middle" x="4757" y="-1075.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4757" y="-1044.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">local function bookends(sigil)</text>
<text text-anchor="middle" x="4757" y="-1028.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local Cg, C, P, Cmt, Cb = L.Cg, L.C, L.P, L.Cmt, L.Cb</text>
<text text-anchor="middle" x="4757" y="-1013.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Returns a pair of patterns, _open and _close,</text>
<text text-anchor="middle" x="4757" y="-997.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; which will match a brace of sigil.</text>
<text text-anchor="middle" x="4757" y="-982.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; sigil must be a string. </text>
<text text-anchor="middle" x="4757" y="-967.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local _open = Cg(C(P(sigil)^1), sigil .. &quot;_init&quot;)</text>
<text text-anchor="middle" x="4757" y="-951.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local _close = &#160;Cmt(C(P(sigil)^1) * Cb(sigil .. &quot;_init&quot;), equal_strings)</text>
<text text-anchor="middle" x="4757" y="-936.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return _open, _close</text>
<text text-anchor="middle" x="4757" y="-920.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4757" y="-889.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">local bold_open, bold_close &#160;&#160;&#160;&#160;= &#160;bookends(&quot;*&quot;)</text>
<text text-anchor="middle" x="4757" y="-874.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">local italic_open, italic_close = &#160;bookends(&quot;/&quot;)</text>
<text text-anchor="middle" x="4757" y="-858.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local under_open, under_close &#160;&#160;= &#160;bookends(&quot;_&quot;)</text>
<text text-anchor="middle" x="4757" y="-843.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">local strike_open, strike_close = &#160;bookends(&quot;&#45;&quot;)</text>
<text text-anchor="middle" x="4757" y="-827.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">local lit_open, lit_close &#160;&#160;&#160;&#160;&#160;&#160;= &#160;bookends(&quot;=&quot;)</text>
<text text-anchor="middle" x="4757" y="-812.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">local inter_open, inter_close &#160;&#160;= &#160;bookends(&quot;`&quot;)</text>
</g>
<!-- codeblock_20&#45;&gt;leaf_79 -->
<g id="edge79" class="edge">
<title>codeblock_20&#45;&gt;leaf_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4636.8281,-1298.408C4646.9586,-1271.4146 4667.0313,-1217.9293 4687.9159,-1162.2808"/>
<polygon fill="#000000" stroke="#000000" points="4691.31,-1163.1979 4691.5469,-1152.6058 4684.7564,-1160.7383 4691.31,-1163.1979"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="5370,-1067.1021 5046,-1067.1021 5046,-889.3005 5370,-889.3005 5370,-1067.1021"/>
<text text-anchor="middle" x="5208" y="-1051.7015" font-family="Inconsolata" font-size="14.00" fill="#000000">function Pr.toMarkdown(prose)</text>
<text text-anchor="middle" x="5208" y="-1036.3015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="5208" y="-1020.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for _, node in ipairs(prose) do</text>
<text text-anchor="middle" x="5208" y="-1005.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if node.toMarkdown then</text>
<text text-anchor="middle" x="5208" y="-990.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. node:toMarkdown()</text>
<text text-anchor="middle" x="5208" y="-974.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif node.id == &quot;raw&quot; then</text>
<text text-anchor="middle" x="5208" y="-959.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase &#160;.. node:toValue()</text>
<text text-anchor="middle" x="5208" y="-943.9013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5208" y="-928.5013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5208" y="-913.1012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase</text>
<text text-anchor="middle" x="5208" y="-897.7012" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_21&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>codeblock_21&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5016.8604,-1298.408C5041.4794,-1257.1649 5103.0147,-1154.0779 5149.6681,-1075.9218"/>
<polygon fill="#000000" stroke="#000000" points="5152.8726,-1077.382 5154.9929,-1067.0015 5146.862,-1073.7941 5152.8726,-1077.382"/>
</g>
<!-- header_81 -->
<g id="node82" class="node">
<title>header_81</title>
<ellipse fill="none" stroke="#000000" cx="5886" cy="-978.2013" rx="82.2061" ry="18"/>
<text text-anchor="middle" x="5886" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : prose grammar</text>
</g>
<!-- section_22&#45;&gt;header_81 -->
<g id="edge81" class="edge">
<title>section_22&#45;&gt;header_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6050.645,-1298.408C6021.8491,-1242.4048 5934.4205,-1072.371 5900.0708,-1005.5667"/>
<polygon fill="#000000" stroke="#000000" points="5903.0867,-1003.778 5895.4012,-996.4852 5896.8614,-1006.9789 5903.0867,-1003.778"/>
</g>
<!-- prose_82 -->
<g id="node83" class="node">
<title>prose_82</title>
<ellipse fill="none" stroke="#000000" cx="6019" cy="-978.2013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6019" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_22&#45;&gt;prose_82 -->
<g id="edge82" class="edge">
<title>section_22&#45;&gt;prose_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6057.7957,-1298.408C6051.0521,-1242.7491 6030.6622,-1074.4572 6022.4662,-1006.8104"/>
<polygon fill="#000000" stroke="#000000" points="6025.8927,-1005.9916 6021.2152,-996.4852 6018.9435,-1006.8336 6025.8927,-1005.9916"/>
</g>
<!-- prose_83 -->
<g id="node84" class="node">
<title>prose_83</title>
<ellipse fill="none" stroke="#000000" cx="6101" cy="-978.2013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6101" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_22&#45;&gt;prose_83 -->
<g id="edge83" class="edge">
<title>section_22&#45;&gt;prose_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6062.2043,-1298.408C6068.9479,-1242.7491 6089.3378,-1074.4572 6097.5338,-1006.8104"/>
<polygon fill="#000000" stroke="#000000" points="6101.0565,-1006.8336 6098.7848,-996.4852 6094.1073,-1005.9916 6101.0565,-1006.8336"/>
</g>
<!-- prose_84 -->
<g id="node85" class="node">
<title>prose_84</title>
<ellipse fill="none" stroke="#000000" cx="6183" cy="-978.2013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6183" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_22&#45;&gt;prose_84 -->
<g id="edge84" class="edge">
<title>section_22&#45;&gt;prose_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6070.7925,-1298.4838C6088.045,-1268.8353 6121.9311,-1207.6898 6142,-1152.2017 6160.0801,-1102.2125 6172.3203,-1041.2241 6178.4416,-1006.3327"/>
<polygon fill="#000000" stroke="#000000" points="6181.9072,-1006.8304 6180.1445,-996.3832 6175.0075,-1005.6494 6181.9072,-1006.8304"/>
</g>
<!-- codeblock_85 -->
<g id="node86" class="node">
<title>codeblock_85</title>
<ellipse fill="none" stroke="#000000" cx="6408" cy="-978.2013" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6408" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 105&#45;148</text>
</g>
<!-- section_22&#45;&gt;codeblock_85 -->
<g id="edge85" class="edge">
<title>section_22&#45;&gt;codeblock_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6078.22,-1298.8844C6135.9896,-1242.7084 6315.2034,-1068.4382 6382.2963,-1003.196"/>
<polygon fill="#000000" stroke="#000000" points="6384.8112,-1005.6324 6389.5405,-996.1516 6379.9312,-1000.6139 6384.8112,-1005.6324"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="653.5,-480.8009 126.5,-480.8009 126.5,-410.2002 653.5,-410.2002 653.5,-480.8009"/>
<text text-anchor="middle" x="390" y="-433.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;We need to generate parsers to match sequences of single characters, so</text>
<text text-anchor="middle" x="390" y="-418.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">that </text>
</g>
<!-- raw_24&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>raw_24&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M625.1142,-960.1636C621.3505,-927.9954 611.45,-858.9646 591,-804.201 545.9494,-683.5593 464.5782,-554.8215 420.4474,-489.3071"/>
<polygon fill="#000000" stroke="#000000" points="423.2403,-487.1893 414.7351,-480.8716 417.4442,-491.1142 423.2403,-487.1893"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="726,-463.5005 672,-463.5005 672,-427.5005 726,-427.5005 726,-463.5005"/>
<text text-anchor="middle" x="699" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">bold</text>
</g>
<!-- bold_25&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>bold_25&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M699,-960.1722C699,-881.6851 699,-569.4425 699,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="702.5001,-473.5252 699,-463.5252 695.5001,-473.5252 702.5001,-473.5252"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="798,-463.5005 744,-463.5005 744,-427.5005 798,-427.5005 798,-463.5005"/>
<text text-anchor="middle" x="771" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">, </text>
</g>
<!-- raw_26&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>raw_26&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M771,-960.1722C771,-881.6851 771,-569.4425 771,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="774.5001,-473.5252 771,-463.5252 767.5001,-473.5252 774.5001,-473.5252"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="870,-463.5005 816,-463.5005 816,-427.5005 870,-427.5005 870,-463.5005"/>
<text text-anchor="middle" x="843" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">bold</text>
</g>
<!-- bold_27&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>bold_27&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M843,-960.1722C843,-881.6851 843,-569.4425 843,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="846.5001,-473.5252 843,-463.5252 839.5001,-473.5252 846.5001,-473.5252"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="942,-463.5005 888,-463.5005 888,-427.5005 942,-427.5005 942,-463.5005"/>
<text text-anchor="middle" x="915" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">, </text>
</g>
<!-- raw_28&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>raw_28&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M915,-960.1722C915,-881.6851 915,-569.4425 915,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="918.5001,-473.5252 915,-463.5252 911.5001,-473.5252 918.5001,-473.5252"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="1014,-463.5005 960,-463.5005 960,-427.5005 1014,-427.5005 1014,-463.5005"/>
<text text-anchor="middle" x="987" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">bold</text>
</g>
<!-- bold_29&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>bold_29&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M987,-960.1722C987,-881.6851 987,-569.4425 987,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="990.5001,-473.5252 987,-463.5252 983.5001,-473.5252 990.5001,-473.5252"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="1216,-463.5005 1032,-463.5005 1032,-427.5005 1216,-427.5005 1216,-463.5005"/>
<text text-anchor="middle" x="1124" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> etc all work correctly.</text>
</g>
<!-- raw_30&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>raw_30&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1093.083,-960.1722C1097.7978,-881.6851 1116.5547,-569.4425 1122.3112,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="1125.8112,-473.7171 1122.9172,-463.5252 1118.8238,-473.2973 1125.8112,-473.7171"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="1579.5,-465.4026 1234.5,-465.4026 1234.5,-425.5985 1579.5,-425.5985 1579.5,-465.4026"/>
<text text-anchor="middle" x="1407" y="-434.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">Bookends are a fun construct borrowed from the </text>
</g>
<!-- raw_38&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>raw_38&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1535.4986,-960.1722C1516.0162,-882.1397 1438.8457,-573.0512 1414.4404,-475.3012"/>
<polygon fill="#000000" stroke="#000000" points="1417.8063,-474.3334 1411.9881,-465.4791 1411.0147,-476.0291 1417.8063,-474.3334"/>
</g>
<!-- anchortext_42 -->
<g id="node43" class="node">
<title>anchortext_42</title>
<ellipse fill="none" stroke="#000000" cx="1649" cy="-445.5005" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="1649" y="-441.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_39&#45;&gt;anchortext_42 -->
<g id="edge42" class="edge">
<title>link_39&#45;&gt;anchortext_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1741.7509,-960.1722C1727.6065,-881.6851 1671.336,-569.4425 1654.0665,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="1657.4665,-472.7459 1652.2483,-463.5252 1650.5774,-473.9875 1657.4665,-472.7459"/>
</g>
<!-- url_43 -->
<g id="node44" class="node">
<title>url_43</title>
<ellipse fill="none" stroke="#000000" cx="1745" cy="-445.5005" rx="27" ry="18"/>
<text text-anchor="middle" x="1745" y="-441.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_39&#45;&gt;url_43 -->
<g id="edge43" class="edge">
<title>link_39&#45;&gt;url_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1745,-960.1722C1745,-881.6851 1745,-569.4425 1745,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="1748.5001,-473.5252 1745,-463.5252 1741.5001,-473.5252 1748.5001,-473.5252"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="2324,-472.701 1790,-472.701 1790,-418.3001 2324,-418.3001 2324,-472.701"/>
<text text-anchor="middle" x="2057" y="-457.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="2057" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">model for Lua long strings. &#160;The GGG/Pegylator form of a bookend construct</text>
<text text-anchor="middle" x="2057" y="-426.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">is </text>
</g>
<!-- raw_40&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>raw_40&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1941.0614,-960.1722C1958.2175,-884.0134 2024.9533,-587.7614 2048.6197,-482.702"/>
<polygon fill="#000000" stroke="#000000" points="2052.054,-483.3826 2050.8373,-472.8579 2045.2252,-481.8443 2052.054,-483.3826"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="1694.5,-61.4 1601.5,-61.4 1601.5,-25.4 1694.5,-25.4 1694.5,-61.4"/>
<text text-anchor="middle" x="1648" y="-39.9" font-family="Inconsolata" font-size="14.00" fill="#000000">LPEG manual</text>
</g>
<!-- anchortext_42&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>anchortext_42&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1648.9551,-427.442C1648.7968,-363.7917 1648.264,-149.5448 1648.0707,-71.8474"/>
<polygon fill="#000000" stroke="#000000" points="1651.5697,-71.4001 1648.0448,-61.4088 1644.5698,-71.4176 1651.5697,-71.4001"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="1777.5,-61.4 1712.5,-61.4 1712.5,-25.4 1777.5,-25.4 1777.5,-61.4"/>
<text text-anchor="middle" x="1745" y="-39.9" font-family="Inconsolata" font-size="14.00" fill="#000000">httk://</text>
</g>
<!-- url_43&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>url_43&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1745,-427.442C1745,-363.7917 1745,-149.5448 1745,-71.8474"/>
<polygon fill="#000000" stroke="#000000" points="1748.5001,-71.4088 1745,-61.4088 1741.5001,-71.4089 1748.5001,-71.4088"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="2463.5,-472.801 2342.5,-472.801 2342.5,-418.2001 2463.5,-418.2001 2463.5,-472.801"/>
<text text-anchor="middle" x="2403" y="-441.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">~#!peg</text>
<text text-anchor="middle" x="2403" y="-426.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bookend = &quot;</text>
</g>
<!-- raw_47&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>raw_47&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2405.8985,-960.1722C2405.47,-884.0902 2403.8045,-588.3591 2403.2113,-483.0207"/>
<polygon fill="#000000" stroke="#000000" points="2406.7104,-482.838 2403.1541,-472.8579 2399.7105,-482.8775 2406.7104,-482.838"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="2540,-463.5005 2482,-463.5005 2482,-427.5005 2540,-427.5005 2540,-463.5005"/>
<text text-anchor="middle" x="2511" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">&quot;:a !&quot;</text>
</g>
<!-- interpolated_48&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>interpolated_48&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2514.8646,-960.1722C2514.2753,-881.6851 2511.9307,-569.4425 2511.2111,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="2514.7104,-473.4986 2511.1353,-463.5252 2507.7106,-473.5512 2514.7104,-473.4986"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="2700,-464.8011 2558,-464.8011 2558,-426.2 2700,-426.2 2700,-464.8011"/>
<text text-anchor="middle" x="2629" y="-449.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">&quot;:a pattern &#160;&quot;`&quot;:a</text>
<text text-anchor="middle" x="2629" y="-434.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">~#/peg</text>
</g>
<!-- raw_49&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>raw_49&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2621.2708,-960.1722C2622.4441,-882.0435 2627.0959,-572.2887 2628.5579,-474.9406"/>
<polygon fill="#000000" stroke="#000000" points="2632.0578,-474.963 2628.7085,-464.9115 2625.0586,-474.8578 2632.0578,-474.963"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="2772,-465.4026 2718,-465.4026 2718,-425.5985 2772,-425.5985 2772,-465.4026"/>
<text text-anchor="middle" x="2745" y="-434.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">The </text>
</g>
<!-- raw_53&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>raw_53&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2792.3416,-960.1722C2785.1711,-882.2186 2756.7902,-573.6766 2747.7685,-475.5986"/>
<polygon fill="#000000" stroke="#000000" points="2751.2391,-475.1165 2746.8377,-465.4791 2744.2685,-475.7577 2751.2391,-475.1165"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="2844,-463.5005 2790,-463.5005 2790,-427.5005 2844,-427.5005 2844,-463.5005"/>
<text text-anchor="middle" x="2817" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">lpeg</text>
</g>
<!-- literal_54&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>literal_54&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3014.4425,-963.4669C2976.5296,-932.1564 2890.5994,-854.7424 2853,-768.201 2808.9999,-666.9273 2811.2565,-531.7091 2814.7434,-473.7807"/>
<polygon fill="#000000" stroke="#000000" points="2818.2509,-473.7831 2815.4209,-463.5732 2811.2662,-473.3195 2818.2509,-473.7831"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="3326,-464.8011 2862,-464.8011 2862,-426.2 3326,-426.2 3326,-464.8011"/>
<text text-anchor="middle" x="3094" y="-449.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> engine doesn&#39;t model this directly but it&#39;s possible to provide</text>
<text text-anchor="middle" x="3094" y="-434.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">it. &#160;We only need the subset of this where </text>
</g>
<!-- raw_55&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>raw_55&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3203.1755,-960.1722C3186.6024,-882.0435 3120.8951,-572.2887 3100.245,-474.9406"/>
<polygon fill="#000000" stroke="#000000" points="3103.6166,-473.9676 3098.1176,-464.9115 3096.7689,-475.4202 3103.6166,-473.9676"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="3398,-463.5005 3344,-463.5005 3344,-427.5005 3398,-427.5005 3398,-463.5005"/>
<text text-anchor="middle" x="3371" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">a</text>
</g>
<!-- literal_56&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>literal_56&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3396.12,-960.1722C3392.2892,-881.6851 3377.0493,-569.4425 3372.3722,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="3375.8632,-473.3427 3371.8797,-463.5252 3368.8715,-473.684 3375.8632,-473.3427"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="3579.5,-463.5005 3416.5,-463.5005 3416.5,-427.5005 3579.5,-427.5005 3579.5,-463.5005"/>
<text text-anchor="middle" x="3498" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> is unique, that is, </text>
</g>
<!-- raw_57&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>raw_57&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3498,-960.1722C3498,-881.6851 3498,-569.4425 3498,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="3501.5001,-473.5252 3498,-463.5252 3494.5001,-473.5252 3501.5001,-473.5252"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="3662.5,-463.5005 3597.5,-463.5005 3597.5,-427.5005 3662.5,-427.5005 3662.5,-463.5005"/>
<text text-anchor="middle" x="3630" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">pattern</text>
</g>
<!-- literal_58&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>literal_58&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3602.9477,-960.1722C3607.0731,-881.6851 3623.4853,-569.4425 3628.5223,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="3632.0228,-473.6952 3629.0526,-463.5252 3625.0324,-473.3277 3632.0228,-473.6952"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="3815.5,-465.4026 3680.5,-465.4026 3680.5,-425.5985 3815.5,-425.5985 3815.5,-465.4026"/>
<text text-anchor="middle" x="3748" y="-434.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">does not contain </text>
</g>
<!-- raw_59&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>raw_59&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3714.1846,-960.1722C3719.3063,-882.2186 3739.5785,-573.6766 3746.0225,-475.5986"/>
<polygon fill="#000000" stroke="#000000" points="3749.5241,-475.6871 3746.6873,-465.4791 3742.5392,-475.2281 3749.5241,-475.6871"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="3898.5,-463.5005 3833.5,-463.5005 3833.5,-427.5005 3898.5,-427.5005 3898.5,-463.5005"/>
<text text-anchor="middle" x="3866" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">bookend</text>
</g>
<!-- literal_60&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>literal_60&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3829.2861,-960.1722C3834.8849,-881.6851 3857.1587,-569.4425 3863.9945,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="3867.4937,-473.7489 3864.7142,-463.5252 3860.5115,-473.2508 3867.4937,-473.7489"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4129,-463.5005 3917,-463.5005 3917,-427.5005 4129,-427.5005 4129,-463.5005"/>
<text text-anchor="middle" x="4023" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> at any level of expansion. </text>
</g>
<!-- raw_61&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>raw_61&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3965.9968,-960.1722C3974.6898,-881.6851 4009.2726,-569.4425 4019.8862,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="4023.3815,-473.8498 4021.0037,-463.5252 4016.424,-473.0791 4023.3815,-473.8498"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="4681,-480.7009 4147,-480.7009 4147,-410.3002 4681,-410.3002 4681,-480.7009"/>
<text text-anchor="middle" x="4414" y="-449.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">GGG being a specification format needn&#39;t respect this limitation. &#160;Orb</text>
<text text-anchor="middle" x="4414" y="-434.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">does so by design. &#160;It is a simple consquence of the sort of markup we are</text>
<text text-anchor="middle" x="4414" y="-418.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">using; there is no need to parse </text>
</g>
<!-- raw_71&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>raw_71&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4227.5252,-960.1174C4232.2544,-928.1638 4243.5701,-859.8377 4261,-804.201 4297.6318,-687.2713 4358.9405,-556.3892 4391.7245,-489.727"/>
<polygon fill="#000000" stroke="#000000" points="4394.8654,-491.271 4396.1556,-480.755 4388.5892,-488.1712 4394.8654,-491.271"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="4932.5,-463.5005 4699.5,-463.5005 4699.5,-427.5005 4932.5,-427.5005 4932.5,-463.5005"/>
<text text-anchor="middle" x="4816" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">bold **inside bold** still bold</text>
</g>
<!-- bold_72&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>bold_72&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4294.5476,-960.132C4290.82,-924.3535 4288.3211,-844.4787 4333,-804.201 4392.2231,-750.8118 4626.5007,-816.4257 4690,-768.201 4786.2143,-695.1309 4809.0148,-538.0389 4814.3728,-473.7775"/>
<polygon fill="#000000" stroke="#000000" points="4817.879,-473.8252 4815.1385,-463.591 4810.8987,-473.3005 4817.879,-473.8252"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="5253.5,-464.8011 4950.5,-464.8011 4950.5,-426.2 5253.5,-426.2 5253.5,-464.8011"/>
<text text-anchor="middle" x="5102" y="-449.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> twice,</text>
<text text-anchor="middle" x="5102" y="-434.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">and this generalizes to all text styles. </text>
</g>
<!-- raw_73&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>raw_73&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4366.4642,-960.2799C4362.517,-924.4068 4359.5378,-843.8275 4405,-804.201 4494.9921,-725.7607 4841.6397,-834.3749 4941,-768.201 5045.1553,-698.8337 5084.8131,-541.0732 5097.1962,-475.231"/>
<polygon fill="#000000" stroke="#000000" points="5100.6891,-475.5824 5099.0171,-465.1204 5093.7999,-474.3416 5100.6891,-475.5824"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="5820,-480.8009 5272,-480.8009 5272,-410.2002 5820,-410.2002 5820,-480.8009"/>
<text text-anchor="middle" x="5546" y="-449.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">We do have to wire them up so that we don&#39;t cross the streams. &#160;Sans macros.</text>
<text text-anchor="middle" x="5546" y="-434.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">By hand. </text>
</g>
<!-- raw_77&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>raw_77&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4438.3942,-960.1987C4434.3193,-924.1776 4431.1196,-843.3426 4477,-804.201 4543.4255,-747.5321 5183.2824,-805.9801 5262,-768.201 5387.821,-707.8156 5481.3647,-563.4588 5522.6491,-490.0303"/>
<polygon fill="#000000" stroke="#000000" points="5525.8631,-491.4518 5527.6579,-481.0101 5519.7433,-488.0535 5525.8631,-491.4518"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5973.5,-463.5005 5838.5,-463.5005 5838.5,-427.5005 5973.5,-427.5005 5973.5,-463.5005"/>
<text text-anchor="middle" x="5906" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">*** prose grammar</text>
</g>
<!-- header_81&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>header_81&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5886.6769,-960.1722C5889.6237,-881.6851 5901.3467,-569.4425 5904.9445,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="5908.4455,-473.6495 5905.3233,-463.5252 5901.4505,-473.3868 5908.4455,-473.6495"/>
</g>
<!-- raw_87 -->
<g id="node88" class="node">
<title>raw_87</title>
<ellipse fill="none" stroke="#000000" cx="6019" cy="-445.5005" rx="27" ry="18"/>
<text text-anchor="middle" x="6019" y="-441.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_82&#45;&gt;raw_87 -->
<g id="edge87" class="edge">
<title>prose_82&#45;&gt;raw_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6019,-960.1722C6019,-881.6851 6019,-569.4425 6019,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="6022.5001,-473.5252 6019,-463.5252 6015.5001,-473.5252 6022.5001,-473.5252"/>
</g>
<!-- raw_89 -->
<g id="node90" class="node">
<title>raw_89</title>
<ellipse fill="none" stroke="#000000" cx="6101" cy="-445.5005" rx="27" ry="18"/>
<text text-anchor="middle" x="6101" y="-441.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_83&#45;&gt;raw_89 -->
<g id="edge89" class="edge">
<title>prose_83&#45;&gt;raw_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6101,-960.1722C6101,-881.6851 6101,-569.4425 6101,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="6104.5001,-473.5252 6101,-463.5252 6097.5001,-473.5252 6104.5001,-473.5252"/>
</g>
<!-- raw_91 -->
<g id="node92" class="node">
<title>raw_91</title>
<ellipse fill="none" stroke="#000000" cx="6178" cy="-445.5005" rx="27" ry="18"/>
<text text-anchor="middle" x="6178" y="-441.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_84&#45;&gt;raw_91 -->
<g id="edge91" class="edge">
<title>prose_84&#45;&gt;raw_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6182.8308,-960.1722C6182.0941,-881.6851 6179.1633,-569.4425 6178.2639,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="6181.763,-473.4919 6178.1692,-463.5252 6174.7633,-473.5577 6181.763,-473.4919"/>
</g>
<!-- leaf_93 -->
<g id="node94" class="node">
<title>leaf_93</title>
<polygon fill="none" stroke="#c0c0c0" points="6764.5,-768.4016 6223.5,-768.4016 6223.5,-122.5995 6764.5,-122.5995 6764.5,-768.4016"/>
<text text-anchor="middle" x="6494" y="-753.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local function prose_gm(_ENV)</text>
<text text-anchor="middle" x="6494" y="-737.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;START &quot;prose&quot;</text>
<text text-anchor="middle" x="6494" y="-706.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;SUPPRESS (&quot;anchorboxed&quot;, &quot;urlboxed&quot;, &quot;richtext&quot;,</text>
<text text-anchor="middle" x="6494" y="-690.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;literalwrap&quot;, &quot;boldwrap&quot;, &quot;italicwrap&quot;, &quot;interpolwrap&quot;)</text>
<text text-anchor="middle" x="6494" y="-659.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;prose = (V&quot;link&quot; + V&quot;richtext&quot; + V&quot;raw&quot;)^1</text>
<text text-anchor="middle" x="6494" y="-628.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;link = m.sel * m.WS * V&quot;anchorboxed&quot; * m.WS * V&quot;urlboxed&quot; * m.ser</text>
<text text-anchor="middle" x="6494" y="-612.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;anchorboxed = m.sel * m.WS * V&quot;anchortext&quot; * m.ser</text>
<text text-anchor="middle" x="6494" y="-597.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;urlboxed = m.sel * m.WS * V&quot;url&quot; * m.WS * m.ser</text>
<text text-anchor="middle" x="6494" y="-581.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;anchortext = m.anchor_text</text>
<text text-anchor="middle" x="6494" y="-566.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;url = m.url</text>
<text text-anchor="middle" x="6494" y="-535.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;richtext = V&quot;literalwrap&quot; + V&quot;boldwrap&quot; + V&quot;italicwrap&quot;+ V&quot;interpolwrap&quot;</text>
<text text-anchor="middle" x="6494" y="-519.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;literalwrap = lit_open * V&quot;literal&quot; * lit_close</text>
<text text-anchor="middle" x="6494" y="-504.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;literal = (P(1) &#45; lit_close)^1 &#45;&#45; These are not even close to correct</text>
<text text-anchor="middle" x="6494" y="-488.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;boldwrap = bold_open * V&quot;bold&quot; * bold_close</text>
<text text-anchor="middle" x="6494" y="-473.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;bold = (P(1) &#45; bold_close)^1</text>
<text text-anchor="middle" x="6494" y="-458.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;italicwrap = italic_open * V&quot;italic&quot; * italic_close</text>
<text text-anchor="middle" x="6494" y="-442.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;italic = (P(1) &#45; italic_close)^1</text>
<text text-anchor="middle" x="6494" y="-427.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;interpolwrap = inter_open * V&quot;interpolated&quot; * inter_close</text>
<text text-anchor="middle" x="6494" y="-411.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;interpolated = (P(1) &#45; inter_close)^1 &#45;&#45; This may even be true</text>
<text text-anchor="middle" x="6494" y="-380.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; This is the catch bucket.</text>
<text text-anchor="middle" x="6494" y="-365.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;raw = (P(1) &#45; (V&quot;link&quot; + V&quot;richtext&quot;))^1</text>
<text text-anchor="middle" x="6494" y="-349.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6494" y="-318.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function proseBuild(prose, str)</text>
<text text-anchor="middle" x="6494" y="-302.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return setmetatable(prose, {__index = Pr})</text>
<text text-anchor="middle" x="6494" y="-287.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6494" y="-256.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">local proseMetas = { prose = proseBuild,</text>
<text text-anchor="middle" x="6494" y="-240.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;link &#160;= Link }</text>
<text text-anchor="middle" x="6494" y="-209.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">for k, v in pairs(Richtext) do</text>
<text text-anchor="middle" x="6494" y="-193.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;proseMetas[k] = v</text>
<text text-anchor="middle" x="6494" y="-178.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="6494" y="-147.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">local parse = Grammar(prose_gm, proseMetas) &#160;</text>
</g>
<!-- codeblock_85&#45;&gt;leaf_93 -->
<g id="edge93" class="edge">
<title>codeblock_85&#45;&gt;leaf_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6410.9107,-960.1722C6416.0668,-928.2337 6427.472,-857.5878 6440.2291,-778.5682"/>
<polygon fill="#000000" stroke="#000000" points="6443.7344,-778.8157 6441.873,-768.3856 6436.8238,-777.7 6443.7344,-778.8157"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="5819,-86.7003 5271,-86.7003 5271,-.0997 5819,-.0997 5819,-86.7003"/>
<text text-anchor="middle" x="5545" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The Prose module is the first one to use our shiny&#45;new Node module. &#160;Which</text>
<text text-anchor="middle" x="5545" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">finally works the way I intend it to and I&#39;m pretty happy about this. </text>
</g>
<!-- raw_87&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>raw_87&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6023.4248,-427.5295C6035.5975,-373.3275 6063.5252,-209.8545 5982,-122.8001 5975.4763,-115.8339 5908.6251,-102.3785 5829.0891,-88.4957"/>
<polygon fill="#000000" stroke="#000000" points="5829.2693,-84.9747 5818.8179,-86.7125 5828.0718,-91.8715 5829.2693,-84.9747"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="6364.5,-70.7005 5837.5,-70.7005 5837.5,-16.0996 6364.5,-16.0996 6364.5,-70.7005"/>
<text text-anchor="middle" x="6101" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Currently, we do a decent job of parsing into links and markup. &#160;It&#39;s in </text>
<text text-anchor="middle" x="6101" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">need of refinement, to be sure:</text>
</g>
<!-- raw_89&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>raw_89&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6101,-427.442C6101,-366.1115 6101,-164.9619 6101,-80.8731"/>
<polygon fill="#000000" stroke="#000000" points="6104.5001,-80.7462 6101,-70.7462 6097.5001,-80.7463 6104.5001,-80.7462"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="6811.5,-63.3021 6382.5,-63.3021 6382.5,-23.4979 6811.5,-23.4979 6811.5,-63.3021"/>
<text text-anchor="middle" x="6597" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; [ ] #todo Allow recursive parsing for italic and bold. </text>
</g>
<!-- raw_91&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>raw_91&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6173.6077,-427.6285C6161.5173,-373.7071 6133.7179,-210.9464 6214,-122.8001 6218.6675,-117.6754 6373.2636,-86.7731 6484.5882,-65.0697"/>
<polygon fill="#000000" stroke="#000000" points="6485.3978,-68.4778 6494.5443,-63.1307 6484.0596,-61.6069 6485.3978,-68.4778"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="6932,-996.2013 6818,-996.2013 6818,-960.2013 6932,-960.2013 6932,-996.2013"/>
<text text-anchor="middle" x="6875" y="-974.7014" font-family="Inconsolata" font-size="14.00" fill="#000000">** Constructor</text>
</g>
<!-- header_94&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>header_94&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6903.3871,-1298.408C6898.4528,-1242.7491 6883.5333,-1074.4572 6877.5363,-1006.8104"/>
<polygon fill="#000000" stroke="#000000" points="6880.9904,-1006.137 6876.6209,-996.4852 6874.0177,-1006.7552 6880.9904,-1006.137"/>
</g>
<!-- raw_99 -->
<g id="node100" class="node">
<title>raw_99</title>
<ellipse fill="none" stroke="#000000" cx="6977" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="6977" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_95&#45;&gt;raw_99 -->
<g id="edge99" class="edge">
<title>prose_95&#45;&gt;raw_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7048.3539,-1298.4045C7040.6755,-1268.1377 7024.9949,-1205.505 7013,-1152.2017 7001.4614,-1100.9263 6989.336,-1040.8319 6982.5155,-1006.3683"/>
<polygon fill="#000000" stroke="#000000" points="6985.9448,-1005.6673 6980.5757,-996.5337 6979.0771,-1007.022 6985.9448,-1005.6673"/>
</g>
<!-- literal_100 -->
<g id="node101" class="node">
<title>literal_100</title>
<ellipse fill="none" stroke="#000000" cx="7053" cy="-978.2013" rx="31.481" ry="18"/>
<text text-anchor="middle" x="7053" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_95&#45;&gt;literal_100 -->
<g id="edge100" class="edge">
<title>prose_95&#45;&gt;literal_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7053,-1298.408C7053,-1242.7491 7053,-1074.4572 7053,-1006.8104"/>
<polygon fill="#000000" stroke="#000000" points="7056.5001,-1006.4851 7053,-996.4852 7049.5001,-1006.4852 7056.5001,-1006.4851"/>
</g>
<!-- raw_101 -->
<g id="node102" class="node">
<title>raw_101</title>
<ellipse fill="none" stroke="#000000" cx="7129" cy="-978.2013" rx="27" ry="18"/>
<text text-anchor="middle" x="7129" y="-974.0013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_95&#45;&gt;raw_101 -->
<g id="edge101" class="edge">
<title>prose_95&#45;&gt;raw_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7057.6461,-1298.4045C7065.3245,-1268.1377 7081.0051,-1205.505 7093,-1152.2017 7104.5386,-1100.9263 7116.664,-1040.8319 7123.4845,-1006.3683"/>
<polygon fill="#000000" stroke="#000000" points="7126.9229,-1007.022 7125.4243,-996.5337 7120.0552,-1005.6673 7126.9229,-1007.022"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="7449.5,-1043.9017 7174.5,-1043.9017 7174.5,-912.5009 7449.5,-912.5009 7449.5,-1043.9017"/>
<text text-anchor="middle" x="7312" y="-1028.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Prose, block)</text>
<text text-anchor="middle" x="7312" y="-1013.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;\n&quot;</text>
<text text-anchor="middle" x="7312" y="-997.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,l in ipairs(block.lines) do</text>
<text text-anchor="middle" x="7312" y="-982.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;phrase = phrase .. l .. &quot;\n&quot;</text>
<text text-anchor="middle" x="7312" y="-967.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="7312" y="-951.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local prose = parse(phrase, 0) </text>
<text text-anchor="middle" x="7312" y="-936.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return prose</text>
<text text-anchor="middle" x="7312" y="-920.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_96&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>codeblock_96&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7254.2796,-1298.408C7262.4315,-1253.1852 7283.9866,-1133.6073 7298.3237,-1054.0711"/>
<polygon fill="#000000" stroke="#000000" points="7301.7925,-1054.5569 7300.1221,-1044.0945 7294.9035,-1053.315 7301.7925,-1054.5569"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="7652,-996.2013 7468,-996.2013 7468,-960.2013 7652,-960.2013 7652,-996.2013"/>
<text text-anchor="middle" x="7560" y="-974.7014" font-family="Inconsolata" font-size="14.00" fill="#000000">return u.export(pr, new)</text>
</g>
<!-- codeblock_97&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>codeblock_97&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7505.1183,-1298.408C7514.6776,-1242.6343 7543.6213,-1073.7628 7555.1681,-1006.3932"/>
<polygon fill="#000000" stroke="#000000" points="7558.6266,-1006.9327 7556.8663,-996.4852 7551.7272,-1005.7502 7558.6266,-1006.9327"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="7065,-473.402 6783,-473.402 6783,-417.5991 7065,-417.5991 7065,-473.402"/>
<text text-anchor="middle" x="6924" y="-426.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; [ ] #todo smuggle in that offset in </text>
</g>
<!-- raw_99&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>raw_99&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6975.2062,-960.1722C6967.6541,-884.2659 6938.3492,-589.7239 6927.8059,-483.7535"/>
<polygon fill="#000000" stroke="#000000" points="6931.2606,-483.1234 6926.7877,-473.5191 6924.295,-483.8165 6931.2606,-483.1234"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="7137,-463.5005 7083,-463.5005 7083,-427.5005 7137,-427.5005 7137,-463.5005"/>
<text text-anchor="middle" x="7110" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">parse</text>
</g>
<!-- literal_100&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>literal_100&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7054.9292,-960.1722C7063.3274,-881.6851 7096.738,-569.4425 7106.9917,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="7110.4874,-473.8409 7108.0713,-463.5252 7103.5272,-473.096 7110.4874,-473.8409"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="7209,-463.5005 7155,-463.5005 7155,-427.5005 7209,-427.5005 7209,-463.5005"/>
</g>
<!-- raw_101&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>raw_101&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7130.7938,-960.1722C7138.6027,-881.6851 7169.6686,-569.4425 7179.2028,-473.6146"/>
<polygon fill="#000000" stroke="#000000" points="7182.6993,-473.8226 7180.2067,-463.5252 7175.7337,-473.1295 7182.6993,-473.8226"/>
</g>
</g>
</svg>