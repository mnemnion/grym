<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="4799pt" height="1277pt"
 viewBox="0.00 0.00 4799.00 1277.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1273.4016)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1273.4016 4795,-1273.4016 4795,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="719.5" cy="-1251.4016" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="719.5" y="-1247.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 157</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="719.5" cy="-1179.4016" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="719.5" y="-1175.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;15</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M719.5,-1233.233C719.5,-1225.5325 719.5,-1216.3759 719.5,-1207.8182"/>
<polygon fill="#000000" stroke="#000000" points="723.0001,-1207.8148 719.5,-1197.8149 716.0001,-1207.8149 723.0001,-1207.8148"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="499.5" cy="-1107.4016" rx="99.1626" ry="18"/>
<text text-anchor="middle" x="499.5" y="-1103.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Code Block Module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M678.6353,-1166.0277C644.6427,-1154.9028 595.8374,-1138.9302 557.7514,-1126.4657"/>
<polygon fill="#000000" stroke="#000000" points="558.4087,-1122.9982 547.8161,-1123.2141 556.2314,-1129.651 558.4087,-1122.9982"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="662.5" cy="-1107.4016" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="662.5" y="-1103.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;6</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M705.4101,-1161.6038C698.5256,-1152.9076 690.1187,-1142.2883 682.5765,-1132.7614"/>
<polygon fill="#000000" stroke="#000000" points="685.1824,-1130.4142 676.2311,-1124.7462 679.694,-1134.7591 685.1824,-1130.4142"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="777.5" cy="-1107.4016" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="777.5" y="-1103.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 7&#45;15</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M733.8371,-1161.6038C740.8424,-1152.9076 749.3968,-1142.2883 757.0713,-1132.7614"/>
<polygon fill="#000000" stroke="#000000" points="759.9803,-1134.7294 763.528,-1124.7462 754.529,-1130.3381 759.9803,-1134.7294"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1416.5" cy="-1107.4016" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1416.5" y="-1103.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 16&#45;77</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M777.1314,-1173.4483C903.7727,-1160.3662 1206.0458,-1129.1415 1344.7308,-1114.8153"/>
<polygon fill="#000000" stroke="#000000" points="1345.2425,-1118.2812 1354.8299,-1113.7721 1344.5232,-1111.3182 1345.2425,-1118.2812"/>
</g>
<!-- leaf_6 -->
<g id="node7" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="499,-1023.1018 0,-1023.1018 0,-952.5011 499,-952.5011 499,-1023.1018"/>
<text text-anchor="middle" x="249.5" y="-976.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Code blocks are the motivating object for Grimoire. &#160;Perforce they</text>
<text text-anchor="middle" x="249.5" y="-960.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> will do a lot of the heavy lifting.</text>
</g>
<!-- block_3&#45;&gt;leaf_6 -->
<g id="edge6" class="edge">
<title>block_3&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M627.3571,-1095.6701C620.7733,-1093.5377 613.9379,-1091.3678 607.5,-1089.4016 535.5027,-1067.4133 454.8799,-1044.3931 388.3989,-1025.8356"/>
<polygon fill="#000000" stroke="#000000" points="389.2681,-1022.4445 378.6955,-1023.1306 387.3884,-1029.1874 389.2681,-1022.4445"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="1037.5,-1053.5019 517.5,-1053.5019 517.5,-922.1011 1037.5,-922.1011 1037.5,-1053.5019"/>
<text text-anchor="middle" x="777.5" y="-1038.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> From the compiler&#39;s perspective, Code, Structure, and Prose are the</text>
<text text-anchor="middle" x="777.5" y="-1022.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> three basic genres of Grimmorian text. &#160;In this implementation,</text>
<text text-anchor="middle" x="777.5" y="-1007.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> you may think of Code as a clade diverged early from both Structure</text>
<text text-anchor="middle" x="777.5" y="-992.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> and Prose, with some later convergence toward the former. </text>
<text text-anchor="middle" x="777.5" y="-976.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="777.5" y="-961.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> Specifically, Structure and Prose will actually inherit from Block, and</text>
<text text-anchor="middle" x="777.5" y="-945.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> Code block, name notwithstanding, merely imitates some behaviours.</text>
<text text-anchor="middle" x="777.5" y="-930.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- block_4&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>block_4&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M777.5,-1089.2369C777.5,-1081.9619 777.5,-1073.0549 777.5,-1063.5695"/>
<polygon fill="#000000" stroke="#000000" points="781.0001,-1063.5194 777.5,-1053.5194 774.0001,-1063.5195 781.0001,-1063.5194"/>
</g>
<!-- header_8 -->
<g id="node9" class="node">
<title>header_8</title>
<ellipse fill="none" stroke="#000000" cx="1101.5" cy="-987.8015" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="1101.5" y="-983.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Fields</text>
</g>
<!-- section_5&#45;&gt;header_8 -->
<g id="edge8" class="edge">
<title>section_5&#45;&gt;header_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1356.9416,-1099.6494C1291.0208,-1090.2705 1189.6874,-1073.2466 1156.5,-1053.4016 1140.4907,-1043.8286 1126.9592,-1027.8745 1117.324,-1014.0973"/>
<polygon fill="#000000" stroke="#000000" points="1120.0216,-1011.8333 1111.568,-1005.4469 1114.1939,-1015.7112 1120.0216,-1011.8333"/>
</g>
<!-- block_9 -->
<g id="node10" class="node">
<title>block_9</title>
<ellipse fill="none" stroke="#000000" cx="1221.5" cy="-987.8015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1221.5" y="-983.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 16&#45;21</text>
</g>
<!-- section_5&#45;&gt;block_9 -->
<g id="edge9" class="edge">
<title>section_5&#45;&gt;block_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1372.4875,-1094.021C1346.2334,-1084.8795 1312.9684,-1071.1945 1286.5,-1053.4016 1269.9716,-1042.2907 1254.1793,-1026.5171 1242.3002,-1013.2217"/>
<polygon fill="#000000" stroke="#000000" points="1244.6401,-1010.5785 1235.4379,-1005.3276 1239.3571,-1015.1709 1244.6401,-1010.5785"/>
</g>
<!-- block_10 -->
<g id="node11" class="node">
<title>block_10</title>
<ellipse fill="none" stroke="#000000" cx="1351.5" cy="-987.8015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1351.5" y="-983.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 22&#45;35</text>
</g>
<!-- section_5&#45;&gt;block_10 -->
<g id="edge10" class="edge">
<title>section_5&#45;&gt;block_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1406.7688,-1089.4962C1395.9989,-1069.6795 1378.5251,-1037.5277 1366.1103,-1014.6844"/>
<polygon fill="#000000" stroke="#000000" points="1369.1481,-1012.9442 1361.2977,-1005.8292 1362.9977,-1016.2868 1369.1481,-1012.9442"/>
</g>
<!-- block_11 -->
<g id="node12" class="node">
<title>block_11</title>
<ellipse fill="none" stroke="#000000" cx="1481.5" cy="-987.8015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1481.5" y="-983.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 36&#45;50</text>
</g>
<!-- section_5&#45;&gt;block_11 -->
<g id="edge11" class="edge">
<title>section_5&#45;&gt;block_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1426.2312,-1089.4962C1437.0011,-1069.6795 1454.4749,-1037.5277 1466.8897,-1014.6844"/>
<polygon fill="#000000" stroke="#000000" points="1470.0023,-1016.2868 1471.7023,-1005.8292 1463.8519,-1012.9442 1470.0023,-1016.2868"/>
</g>
<!-- block_12 -->
<g id="node13" class="node">
<title>block_12</title>
<ellipse fill="none" stroke="#000000" cx="1662.5" cy="-987.8015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1662.5" y="-983.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 51&#45;53</text>
</g>
<!-- section_5&#45;&gt;block_12 -->
<g id="edge12" class="edge">
<title>section_5&#45;&gt;block_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1455.1522,-1092.7669C1481.2974,-1082.5234 1516.4129,-1068.0911 1546.5,-1053.4016 1574.3983,-1039.7807 1604.9212,-1022.4153 1627.652,-1008.9732"/>
<polygon fill="#000000" stroke="#000000" points="1629.4646,-1011.9675 1636.2679,-1003.8455 1625.8846,-1005.9522 1629.4646,-1011.9675"/>
</g>
<!-- block_13 -->
<g id="node14" class="node">
<title>block_13</title>
<ellipse fill="none" stroke="#000000" cx="1995.5" cy="-987.8015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1995.5" y="-983.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 54&#45;77</text>
</g>
<!-- section_5&#45;&gt;block_13 -->
<g id="edge13" class="edge">
<title>section_5&#45;&gt;block_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1474.0427,-1098.6141C1536.6345,-1088.7754 1639.5265,-1071.7838 1727.5,-1053.4016 1802.5402,-1037.7218 1888.4959,-1016.009 1942.3925,-1001.9342"/>
<polygon fill="#000000" stroke="#000000" points="1943.2866,-1005.3181 1952.0732,-999.3981 1941.5126,-998.5466 1943.2866,-1005.3181"/>
</g>
<!-- section_14 -->
<g id="node15" class="node">
<title>section_14</title>
<ellipse fill="none" stroke="#000000" cx="3195.5" cy="-987.8015" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3195.5" y="-983.6015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 78&#45;157</text>
</g>
<!-- section_5&#45;&gt;section_14 -->
<g id="edge14" class="edge">
<title>section_5&#45;&gt;section_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1480.3401,-1103.1097C1752.6567,-1084.8022 2816.8249,-1013.2594 3116.5463,-993.1094"/>
<polygon fill="#000000" stroke="#000000" points="3117.1406,-996.5775 3126.8832,-992.4145 3116.671,-989.5932 3117.1406,-996.5775"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="712,-817.4015 241,-817.4015 241,-746.8008 712,-746.8008 712,-817.4015"/>
<text text-anchor="middle" x="476.5" y="-770.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Codeblock inherits from Node directly, and is born with these </text>
<text text-anchor="middle" x="476.5" y="-754.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> additional fields:</text>
</g>
<!-- block_9&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>block_9&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1209.6482,-970.1294C1198.1006,-954.536 1179.0231,-932.7027 1156.5,-922.2013 980.6773,-840.2247 909.8331,-932.7245 721.5,-886.2013 662.718,-871.6806 599.9328,-844.757 552.638,-821.9287"/>
<polygon fill="#000000" stroke="#000000" points="553.9141,-818.6571 543.3914,-817.4226 550.8475,-824.9497 553.9141,-818.6571"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1264.5,-886.3016 730.5,-886.3016 730.5,-677.9006 1264.5,-677.9006 1264.5,-886.3016"/>
<text text-anchor="middle" x="997.5" y="-871.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; level &#160;: &#160;The number of !s, which is the number of / needed to close</text>
<text text-anchor="middle" x="997.5" y="-855.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;the block.</text>
<text text-anchor="middle" x="997.5" y="-840.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; header : &#160;The line after # and at least one !.</text>
<text text-anchor="middle" x="997.5" y="-824.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; footer : &#160;The line closing the block. Optional, as a code block may</text>
<text text-anchor="middle" x="997.5" y="-809.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end a file without a closing line.</text>
<text text-anchor="middle" x="997.5" y="-794.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; lines &#160;: &#160;Array containing the lines of code. &#160;Header and footer</text>
<text text-anchor="middle" x="997.5" y="-778.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;are not included.</text>
<text text-anchor="middle" x="997.5" y="-763.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; line_first : &#160;The first (header) line of the block. </text>
<text text-anchor="middle" x="997.5" y="-747.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; line_last &#160;: &#160;The closing line of the block. Note that code blocks also</text>
<text text-anchor="middle" x="997.5" y="-732.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;collect blank lines and may have a clinging tag. </text>
<text text-anchor="middle" x="997.5" y="-717.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="997.5" y="-701.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> To be added:</text>
<text text-anchor="middle" x="997.5" y="-686.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; [ ] lang : The language, derived from the header line.</text>
</g>
<!-- block_10&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>block_10&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1337.111,-970.2825C1324.7643,-956.0384 1305.9331,-936.0951 1286.5,-922.2013 1271.67,-911.5986 1255.9141,-901.4188 1239.7107,-891.7271"/>
<polygon fill="#000000" stroke="#000000" points="1241.0575,-888.4581 1230.6658,-886.3934 1237.5018,-894.4878 1241.0575,-888.4581"/>
</g>
<!-- codeblock_17 -->
<g id="node18" class="node">
<title>codeblock_17</title>
<ellipse fill="none" stroke="#000000" cx="1359.5" cy="-782.1011" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1359.5" y="-777.9011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 36&#45;49</text>
</g>
<!-- block_11&#45;&gt;codeblock_17 -->
<g id="edge17" class="edge">
<title>block_11&#45;&gt;codeblock_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1470.8867,-969.9068C1449.391,-933.6635 1400.6106,-851.4164 1375.3388,-808.8065"/>
<polygon fill="#000000" stroke="#000000" points="1378.2873,-806.9165 1370.1756,-800.101 1372.2665,-810.4874 1378.2873,-806.9165"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="1508.5,-800.1011 1454.5,-800.1011 1454.5,-764.1011 1508.5,-764.1011 1508.5,-800.1011"/>
</g>
<!-- block_11&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>block_11&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1481.5,-969.5469C1481.5,-933.5614 1481.5,-853.2448 1481.5,-810.3611"/>
<polygon fill="#000000" stroke="#000000" points="1485.0001,-810.3147 1481.5,-800.3148 1478.0001,-810.3148 1485.0001,-810.3147"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1900,-801.4017 1527,-801.4017 1527,-762.8006 1900,-762.8006 1900,-801.4017"/>
<text text-anchor="middle" x="1713.5" y="-786.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> Adds a .val field which is the union of all lines.</text>
<text text-anchor="middle" x="1713.5" y="-770.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> Useful in visualization. </text>
</g>
<!-- block_12&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>block_12&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1667.0259,-969.5469C1675.8767,-933.8485 1695.5441,-854.5236 1706.2372,-811.3946"/>
<polygon fill="#000000" stroke="#000000" points="1709.6787,-812.0578 1708.6881,-801.5094 1702.8844,-810.3732 1709.6787,-812.0578"/>
</g>
<!-- codeblock_21 -->
<g id="node22" class="node">
<title>codeblock_21</title>
<ellipse fill="none" stroke="#000000" cx="1995.5" cy="-782.1011" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1995.5" y="-777.9011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 54&#45;76</text>
</g>
<!-- block_13&#45;&gt;codeblock_21 -->
<g id="edge21" class="edge">
<title>block_13&#45;&gt;codeblock_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1995.5,-969.5469C1995.5,-933.5614 1995.5,-853.2448 1995.5,-810.3611"/>
<polygon fill="#000000" stroke="#000000" points="1999.0001,-810.3147 1995.5,-800.3148 1992.0001,-810.3148 1999.0001,-810.3147"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="2144.5,-800.1011 2090.5,-800.1011 2090.5,-764.1011 2144.5,-764.1011 2144.5,-800.1011"/>
</g>
<!-- block_13&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>block_13&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2013.5708,-970.6277C2032.725,-951.569 2062.7444,-919.1349 2081.5,-886.2013 2095.2443,-862.0673 2104.9805,-831.8117 2110.8326,-810.148"/>
<polygon fill="#000000" stroke="#000000" points="2114.2725,-810.8261 2113.3941,-800.2678 2107.4965,-809.0694 2114.2725,-810.8261"/>
</g>
<!-- header_24 -->
<g id="node25" class="node">
<title>header_24</title>
<ellipse fill="none" stroke="#000000" cx="2381.5" cy="-782.1011" rx="50.8" ry="18"/>
<text text-anchor="middle" x="2381.5" y="-777.9011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : asserts</text>
</g>
<!-- section_14&#45;&gt;header_24 -->
<g id="edge24" class="edge">
<title>section_14&#45;&gt;header_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3125.0234,-986.1067C2959.7007,-980.9161 2552.5576,-960.7116 2441.5,-886.2013 2414.8233,-868.3036 2398.5294,-834.2675 2389.7801,-809.9864"/>
<polygon fill="#000000" stroke="#000000" points="2393.0066,-808.602 2386.4841,-800.2529 2386.3765,-810.8472 2393.0066,-808.602"/>
</g>
<!-- block_25 -->
<g id="node26" class="node">
<title>block_25</title>
<ellipse fill="none" stroke="#000000" cx="2506.5" cy="-782.1011" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2506.5" y="-777.9011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 78&#45;79</text>
</g>
<!-- section_14&#45;&gt;block_25 -->
<g id="edge25" class="edge">
<title>section_14&#45;&gt;block_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3126.5039,-983.6963C2983.7335,-974.0746 2661.6863,-946.1972 2571.5,-886.2013 2544.0586,-867.9461 2526.0475,-833.7436 2516.0895,-809.5314"/>
<polygon fill="#000000" stroke="#000000" points="2519.3275,-808.2012 2512.4285,-800.1604 2512.8074,-810.7485 2519.3275,-808.2012"/>
</g>
<!-- block_26 -->
<g id="node27" class="node">
<title>block_26</title>
<ellipse fill="none" stroke="#000000" cx="2636.5" cy="-782.1011" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2636.5" y="-777.9011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 80&#45;88</text>
</g>
<!-- section_14&#45;&gt;block_26 -->
<g id="edge26" class="edge">
<title>section_14&#45;&gt;block_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3152.7554,-973.2219C3096.2263,-953.8384 2993.5825,-918.288 2906.5,-886.2013 2826.8413,-856.8501 2734.7028,-820.8895 2681.2686,-799.8339"/>
<polygon fill="#000000" stroke="#000000" points="2682.3402,-796.4942 2671.7534,-796.0808 2679.7717,-803.006 2682.3402,-796.4942"/>
</g>
<!-- block_27 -->
<g id="node28" class="node">
<title>block_27</title>
<ellipse fill="none" stroke="#000000" cx="2971.5" cy="-782.1011" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2971.5" y="-777.9011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 89&#45;97</text>
</g>
<!-- section_14&#45;&gt;block_27 -->
<g id="edge27" class="edge">
<title>section_14&#45;&gt;block_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3176.4019,-970.2636C3136.2963,-933.4345 3043.2598,-847.9985 2997.6533,-806.1179"/>
<polygon fill="#000000" stroke="#000000" points="2999.9667,-803.4904 2990.2338,-799.3045 2995.232,-808.6463 2999.9667,-803.4904"/>
</g>
<!-- block_28 -->
<g id="node29" class="node">
<title>block_28</title>
<ellipse fill="none" stroke="#000000" cx="3195.5" cy="-782.1011" rx="60.1864" ry="18"/>
<text text-anchor="middle" x="3195.5" y="-777.9011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 98&#45;110</text>
</g>
<!-- section_14&#45;&gt;block_28 -->
<g id="edge28" class="edge">
<title>section_14&#45;&gt;block_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3195.5,-969.5469C3195.5,-933.5614 3195.5,-853.2448 3195.5,-810.3611"/>
<polygon fill="#000000" stroke="#000000" points="3199.0001,-810.3147 3195.5,-800.3148 3192.0001,-810.3148 3199.0001,-810.3147"/>
</g>
<!-- block_29 -->
<g id="node30" class="node">
<title>block_29</title>
<ellipse fill="none" stroke="#000000" cx="3377.5" cy="-782.1011" rx="63.9154" ry="18"/>
<text text-anchor="middle" x="3377.5" y="-777.9011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 111&#45;112</text>
</g>
<!-- section_14&#45;&gt;block_29 -->
<g id="edge29" class="edge">
<title>section_14&#45;&gt;block_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3211.3329,-969.9068C3243.7505,-933.2677 3317.7652,-849.6147 3355.094,-807.4249"/>
<polygon fill="#000000" stroke="#000000" points="3357.8281,-809.6166 3361.8333,-799.808 3352.5855,-804.9781 3357.8281,-809.6166"/>
</g>
<!-- block_30 -->
<g id="node31" class="node">
<title>block_30</title>
<ellipse fill="none" stroke="#000000" cx="3670.5" cy="-782.1011" rx="65.0229" ry="18"/>
<text text-anchor="middle" x="3670.5" y="-777.9011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 113&#45;122</text>
</g>
<!-- section_14&#45;&gt;block_30 -->
<g id="edge30" class="edge">
<title>section_14&#45;&gt;block_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3235.1328,-972.8973C3285.5489,-953.7357 3375.1259,-919.0114 3450.5,-886.2013 3513.6656,-858.7056 3585.6065,-824.0094 3629.5256,-802.4363"/>
<polygon fill="#000000" stroke="#000000" points="3631.2999,-805.464 3638.7262,-797.9075 3628.2085,-799.1836 3631.2999,-805.464"/>
</g>
<!-- block_31 -->
<g id="node32" class="node">
<title>block_31</title>
<ellipse fill="none" stroke="#000000" cx="4135.5" cy="-782.1011" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4135.5" y="-777.9011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 123&#45;135</text>
</g>
<!-- section_14&#45;&gt;block_31 -->
<g id="edge31" class="edge">
<title>section_14&#45;&gt;block_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3255.5182,-978.254C3356.8057,-961.7936 3567.9079,-925.9874 3744.5,-886.2013 3865.503,-858.9394 4005.5983,-819.7604 4080.8832,-798.0731"/>
<polygon fill="#000000" stroke="#000000" points="4081.9876,-801.3972 4090.6241,-795.2603 4080.0456,-794.672 4081.9876,-801.3972"/>
</g>
<!-- block_32 -->
<g id="node33" class="node">
<title>block_32</title>
<ellipse fill="none" stroke="#000000" cx="4323.5" cy="-782.1011" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4323.5" y="-777.9011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 136&#45;137</text>
</g>
<!-- section_14&#45;&gt;block_32 -->
<g id="edge32" class="edge">
<title>section_14&#45;&gt;block_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3265.9667,-986.5098C3467.2165,-981.9229 4040.9708,-962.3352 4210.5,-886.2013 4249.4135,-868.7257 4283.8064,-832.4595 4304.141,-807.6992"/>
<polygon fill="#000000" stroke="#000000" points="4306.9599,-809.7786 4310.4843,-799.7871 4301.4984,-805.3999 4306.9599,-809.7786"/>
</g>
<!-- block_33 -->
<g id="node34" class="node">
<title>block_33</title>
<ellipse fill="none" stroke="#000000" cx="4556.5" cy="-782.1011" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4556.5" y="-777.9011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 138&#45;157</text>
</g>
<!-- section_14&#45;&gt;block_33 -->
<g id="edge33" class="edge">
<title>section_14&#45;&gt;block_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3266.0833,-986.3943C3490.7636,-981.2061 4186.9525,-959.4704 4398.5,-886.2013 4449.287,-868.6114 4499.6959,-830.9824 4529.4643,-806.1147"/>
<polygon fill="#000000" stroke="#000000" points="4531.9376,-808.6062 4537.2963,-799.4664 4527.4076,-803.2696 4531.9376,-808.6062"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1539,-572.901 1180,-572.901 1180,-377.3004 1539,-377.3004 1539,-572.901"/>
<text text-anchor="middle" x="1359.5" y="-557.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1359.5" y="-526.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="1359.5" y="-495.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="1359.5" y="-463.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local CB = setmetatable({}, Node)</text>
<text text-anchor="middle" x="1359.5" y="-448.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">CB.id = &quot;codeblock&quot;</text>
<text text-anchor="middle" x="1359.5" y="-416.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">CB.__index = CB</text>
<text text-anchor="middle" x="1359.5" y="-385.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">CB.__tostring = function() return &quot;codeblock&quot; end</text>
</g>
<!-- codeblock_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>codeblock_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1359.5,-763.8162C1359.5,-728.762 1359.5,-649.673 1359.5,-583.1217"/>
<polygon fill="#000000" stroke="#000000" points="1363.0001,-582.9793 1359.5,-572.9793 1356.0001,-582.9793 1363.0001,-582.9793"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="2092.5,-641.9013 1670.5,-641.9013 1670.5,-308.3001 2092.5,-308.3001 2092.5,-641.9013"/>
<text text-anchor="middle" x="1881.5" y="-626.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.toValue(codeblock)</text>
<text text-anchor="middle" x="1881.5" y="-611.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.val = &quot;&quot;</text>
<text text-anchor="middle" x="1881.5" y="-596.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(codeblock.lines) do</text>
<text text-anchor="middle" x="1881.5" y="-580.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;codeblock.val = codeblock.val .. v .. &quot;\n&quot;</text>
<text text-anchor="middle" x="1881.5" y="-565.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1881.5" y="-533.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return codeblock.val</text>
<text text-anchor="middle" x="1881.5" y="-518.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1881.5" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.toMarkdown(codeblock)</text>
<text text-anchor="middle" x="1881.5" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; hardcode lua</text>
<text text-anchor="middle" x="1881.5" y="-456.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return &quot;```&quot; .. codeblock.lang .. &quot;\n&quot; </text>
<text text-anchor="middle" x="1881.5" y="-440.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. codeblock:toValue() .. &quot;```\n&quot;</text>
<text text-anchor="middle" x="1881.5" y="-425.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1881.5" y="-394.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.dotLabel(codeblock)</text>
<text text-anchor="middle" x="1881.5" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;code block &quot; .. tostring(codeblock.line_first)</text>
<text text-anchor="middle" x="1881.5" y="-363.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;&#45;&quot; .. tostring(codeblock.line_last)</text>
<text text-anchor="middle" x="1881.5" y="-347.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1881.5" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">local cb = {}</text>
</g>
<!-- codeblock_21&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>codeblock_21&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1988.7102,-763.8162C1980.0328,-740.4482 1964.089,-697.5117 1947.1019,-651.7656"/>
<polygon fill="#000000" stroke="#000000" points="1950.3404,-650.4324 1943.5781,-642.2763 1943.7782,-652.8692 1950.3404,-650.4324"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2164.5,-493.1007 2110.5,-493.1007 2110.5,-457.1007 2164.5,-457.1007 2164.5,-493.1007"/>
</g>
<!-- block_25&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>block_25&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2500.6554,-763.9138C2491.9156,-739.9128 2473.0087,-698.3342 2441.5,-678.0009 2340.5197,-612.8362 2261.7668,-723.5633 2173.5,-642.0009 2135.1586,-606.5718 2132.5332,-540.8998 2134.6282,-503.3639"/>
<polygon fill="#000000" stroke="#000000" points="2138.138,-503.35 2135.3568,-493.1267 2131.1556,-502.853 2138.138,-503.35"/>
</g>
<!-- codeblock_35 -->
<g id="node36" class="node">
<title>codeblock_35</title>
<ellipse fill="none" stroke="#000000" cx="2259.5" cy="-475.1007" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2259.5" y="-470.9007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 80&#45;85</text>
</g>
<!-- block_26&#45;&gt;codeblock_35 -->
<g id="edge35" class="edge">
<title>block_26&#45;&gt;codeblock_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2630.5819,-764.0261C2621.7588,-740.1525 2602.7579,-698.7176 2571.5,-678.0009 2486.7192,-621.8111 2427.8954,-701.6339 2345.5,-642.0009 2298.6747,-608.1115 2275.4558,-541.0901 2265.6071,-503.0978"/>
<polygon fill="#000000" stroke="#000000" points="2268.961,-502.079 2263.1753,-493.2034 2262.1633,-503.7498 2268.961,-502.079"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="2608.5,-495.0028 2354.5,-495.0028 2354.5,-455.1986 2608.5,-455.1986 2608.5,-495.0028"/>
<text text-anchor="middle" x="2481.5" y="-463.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> Matches a code block header line.</text>
</g>
<!-- block_26&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>block_26&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2627.4966,-764.2685C2601.7465,-713.2666 2527.6238,-566.4556 2496.0371,-503.8936"/>
<polygon fill="#000000" stroke="#000000" points="2499.1527,-502.2986 2491.5213,-494.9493 2492.9039,-505.4535 2499.1527,-502.2986"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="3056,-540.901 2627,-540.901 2627,-409.3003 3056,-409.3003 3056,-540.901"/>
<text text-anchor="middle" x="2841.5" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #args</text>
<text text-anchor="middle" x="2841.5" y="-510.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; str : &#160;The string to match against.</text>
<text text-anchor="middle" x="2841.5" y="-495.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="2841.5" y="-479.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return 3</text>
<text text-anchor="middle" x="2841.5" y="-464.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; boolean : &#160;For header match</text>
<text text-anchor="middle" x="2841.5" y="-448.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; number &#160;: &#160;Level of header</text>
<text text-anchor="middle" x="2841.5" y="-433.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; string &#160;: &#160;Header stripped of left whitespace and tars</text>
</g>
<!-- block_27&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>block_27&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2963.7572,-763.8162C2946.3894,-722.8015 2903.4948,-621.504 2873.4445,-550.539"/>
<polygon fill="#000000" stroke="#000000" points="2876.6004,-549.0158 2869.4781,-541.1721 2870.1545,-551.7453 2876.6004,-549.0158"/>
</g>
<!-- codeblock_39 -->
<g id="node40" class="node">
<title>codeblock_39</title>
<ellipse fill="none" stroke="#000000" cx="3156.5" cy="-475.1007" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="3156.5" y="-470.9007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 98&#45;109</text>
</g>
<!-- block_28&#45;&gt;codeblock_39 -->
<g id="edge39" class="edge">
<title>block_28&#45;&gt;codeblock_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3193.1772,-763.8162C3186.6335,-712.306 3168.0111,-565.7135 3160.1125,-503.5374"/>
<polygon fill="#000000" stroke="#000000" points="3163.5431,-502.7689 3158.8107,-493.2897 3156.5989,-503.6511 3163.5431,-502.7689"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="3310.5,-493.1007 3256.5,-493.1007 3256.5,-457.1007 3310.5,-457.1007 3310.5,-493.1007"/>
</g>
<!-- block_28&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>block_28&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3203.069,-764.2428C3214.0247,-737.8822 3234.4183,-686.831 3247.5,-642.0009 3261.5111,-593.9858 3272.6923,-536.7564 3278.6869,-503.3201"/>
<polygon fill="#000000" stroke="#000000" points="3282.1566,-503.7983 3280.448,-493.3421 3275.2631,-502.5815 3282.1566,-503.7983"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="3582.5,-493.1007 3328.5,-493.1007 3328.5,-457.1007 3582.5,-457.1007 3582.5,-493.1007"/>
<text text-anchor="middle" x="3455.5" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> Matches a code block footer line.</text>
</g>
<!-- block_29&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>block_29&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3382.1457,-763.8162C3395.26,-712.1994 3432.6322,-565.1061 3448.3729,-503.1523"/>
<polygon fill="#000000" stroke="#000000" points="3451.8084,-503.8437 3450.8787,-493.2897 3445.0239,-502.1199 3451.8084,-503.8437"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="4030,-548.8011 3601,-548.8011 3601,-401.4003 4030,-401.4003 4030,-548.8011"/>
<text text-anchor="middle" x="3815.5" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #args</text>
<text text-anchor="middle" x="3815.5" y="-518.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; str &#160;&#160;: &#160;The string to match against.</text>
<text text-anchor="middle" x="3815.5" y="-502.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; level : &#160;Required level for a match.</text>
<text text-anchor="middle" x="3815.5" y="-487.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="3815.5" y="-471.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return 3</text>
<text text-anchor="middle" x="3815.5" y="-456.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; boolean : &#160;For footer match</text>
<text text-anchor="middle" x="3815.5" y="-441.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; number &#160;: &#160;Level of header</text>
<text text-anchor="middle" x="3815.5" y="-425.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; string &#160;: &#160;Header stripped of left whitespace and tars</text>
</g>
<!-- block_30&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>block_30&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3679.1362,-763.8162C3697.8077,-724.284 3742.9305,-628.748 3776.181,-558.3486"/>
<polygon fill="#000000" stroke="#000000" points="3779.4783,-559.5626 3780.5844,-549.0256 3773.1488,-556.573 3779.4783,-559.5626"/>
</g>
<!-- codeblock_44 -->
<g id="node45" class="node">
<title>codeblock_44</title>
<ellipse fill="none" stroke="#000000" cx="4135.5" cy="-475.1007" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4135.5" y="-470.9007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 123&#45;134</text>
</g>
<!-- block_31&#45;&gt;codeblock_44 -->
<g id="edge44" class="edge">
<title>block_31&#45;&gt;codeblock_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4135.5,-763.8162C4135.5,-712.306 4135.5,-565.7135 4135.5,-503.5374"/>
<polygon fill="#000000" stroke="#000000" points="4139.0001,-503.2897 4135.5,-493.2897 4132.0001,-503.2898 4139.0001,-503.2897"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="4294.5,-493.1007 4240.5,-493.1007 4240.5,-457.1007 4294.5,-457.1007 4294.5,-493.1007"/>
</g>
<!-- block_31&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>block_31&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4151.0248,-764.4336C4172.4395,-739.1087 4210.7436,-690.206 4231.5,-642.0009 4251.3868,-595.8154 4260.7255,-537.5517 4264.763,-503.498"/>
<polygon fill="#000000" stroke="#000000" points="4268.266,-503.6643 4265.8943,-493.3384 4261.309,-502.8896 4268.266,-503.6643"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="4412.5,-493.1007 4312.5,-493.1007 4312.5,-457.1007 4412.5,-457.1007 4412.5,-493.1007"/>
<text text-anchor="middle" x="4362.5" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> Constructor</text>
</g>
<!-- block_32&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>block_32&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4325.8228,-763.8162C4332.3665,-712.306 4350.9889,-565.7135 4358.8875,-503.5374"/>
<polygon fill="#000000" stroke="#000000" points="4362.4011,-503.6511 4360.1893,-493.2897 4355.4569,-502.7689 4362.4011,-503.6511"/>
</g>
<!-- codeblock_48 -->
<g id="node49" class="node">
<title>codeblock_48</title>
<ellipse fill="none" stroke="#000000" cx="4556.5" cy="-475.1007" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4556.5" y="-470.9007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 138&#45;156</text>
</g>
<!-- block_33&#45;&gt;codeblock_48 -->
<g id="edge48" class="edge">
<title>block_33&#45;&gt;codeblock_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4556.5,-763.8162C4556.5,-712.306 4556.5,-565.7135 4556.5,-503.5374"/>
<polygon fill="#000000" stroke="#000000" points="4560.0001,-503.2897 4556.5,-493.2897 4553.0001,-503.2898 4560.0001,-503.2897"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="4715.5,-493.1007 4661.5,-493.1007 4661.5,-457.1007 4715.5,-457.1007 4715.5,-493.1007"/>
</g>
<!-- block_33&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>block_33&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4572.0248,-764.4336C4593.4395,-739.1087 4631.7436,-690.206 4652.5,-642.0009 4672.3868,-595.8154 4681.7255,-537.5517 4685.763,-503.498"/>
<polygon fill="#000000" stroke="#000000" points="4689.266,-503.6643 4686.8943,-493.3384 4682.309,-502.8896 4689.266,-503.6643"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2372.5,-170.7015 2146.5,-170.7015 2146.5,-101.4989 2372.5,-101.4989 2372.5,-170.7015"/>
<text text-anchor="middle" x="2259.5" y="-155.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.check(codeblock)</text>
<text text-anchor="middle" x="2259.5" y="-140.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert(codeblock.line_first)</text>
<text text-anchor="middle" x="2259.5" y="-124.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert(codeblock.line_last)</text>
<text text-anchor="middle" x="2259.5" y="-109.5002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_35&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>codeblock_35&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259.5,-456.8745C2259.5,-405.123 2259.5,-256.1697 2259.5,-180.8486"/>
<polygon fill="#000000" stroke="#000000" points="2263.0001,-180.7269 2259.5,-170.7269 2256.0001,-180.7269 2263.0001,-180.7269"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="3381.5,-217.1005 2931.5,-217.1005 2931.5,-55.0999 3381.5,-55.0999 3381.5,-217.1005"/>
<text text-anchor="middle" x="3156.5" y="-201.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">function cb.matchHead(str)</text>
<text text-anchor="middle" x="3156.5" y="-186.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if str ~= &quot;&quot; and L.match(m.codestart, str) then</text>
<text text-anchor="middle" x="3156.5" y="-171.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local trimmed = str:sub(L.match(m.WS * m.hax, str))</text>
<text text-anchor="middle" x="3156.5" y="-155.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local level = L.match(m.zaps, trimmed) &#45; 1</text>
<text text-anchor="middle" x="3156.5" y="-140.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local bareline = trimmed:sub(L.match(m.zaps, trimmed))</text>
<text text-anchor="middle" x="3156.5" y="-124.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, level, bareline</text>
<text text-anchor="middle" x="3156.5" y="-109.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="3156.5" y="-94.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return false, 0, &quot;&quot;</text>
<text text-anchor="middle" x="3156.5" y="-78.7001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3156.5" y="-63.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_39&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>codeblock_39&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3156.5,-456.8745C3156.5,-414.4278 3156.5,-306.5905 3156.5,-227.6244"/>
<polygon fill="#000000" stroke="#000000" points="3160.0001,-227.1713 3156.5,-217.1713 3153.0001,-227.1714 3160.0001,-227.1713"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="4344,-217.1005 3887,-217.1005 3887,-55.0999 4344,-55.0999 4344,-217.1005"/>
<text text-anchor="middle" x="4115.5" y="-201.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">function cb.matchFoot(str)</text>
<text text-anchor="middle" x="4115.5" y="-186.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if str ~= &quot;&quot; and L.match(m.codefinish, str) then</text>
<text text-anchor="middle" x="4115.5" y="-171.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local trimmed = str:sub(L.match(m.WS * m.hax &#160;&#160;&#160;, str))</text>
<text text-anchor="middle" x="4115.5" y="-155.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local level = L.match(m.fass, trimmed) &#45; 1</text>
<text text-anchor="middle" x="4115.5" y="-140.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local bareline = trimmed:sub(L.match(m.fass, trimmed))</text>
<text text-anchor="middle" x="4115.5" y="-124.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, level, bareline</text>
<text text-anchor="middle" x="4115.5" y="-109.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="4115.5" y="-94.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return false, 0, &quot;&quot;</text>
<text text-anchor="middle" x="4115.5" y="-78.7001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4115.5" y="-63.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_44&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>codeblock_44&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4134.4247,-456.8745C4131.9205,-414.4278 4125.5584,-306.5905 4120.8997,-227.6244"/>
<polygon fill="#000000" stroke="#000000" points="4124.3659,-226.9478 4120.283,-217.1713 4117.3781,-227.3601 4124.3659,-226.9478"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="4791,-272.3007 4362,-272.3007 4362,.1003 4791,.1003 4791,-272.3007"/>
<text text-anchor="middle" x="4576.5" y="-257.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Codeblock, level, headline, linum)</text>
<text text-anchor="middle" x="4576.5" y="-241.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local codeblock = setmetatable({}, CB)</text>
<text text-anchor="middle" x="4576.5" y="-226.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.level = level</text>
<text text-anchor="middle" x="4576.5" y="-210.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.header = headline</text>
<text text-anchor="middle" x="4576.5" y="-195.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.lang = L.match(L.C(m.symbol), headline) or &quot;&quot;</text>
<text text-anchor="middle" x="4576.5" y="-180.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.footer = &quot;&quot;</text>
<text text-anchor="middle" x="4576.5" y="-164.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.line_first = linum</text>
<text text-anchor="middle" x="4576.5" y="-149.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.lines = {}</text>
<text text-anchor="middle" x="4576.5" y="-117.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return codeblock</text>
<text text-anchor="middle" x="4576.5" y="-102.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4576.5" y="-55.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">cb.__call = new</text>
<text text-anchor="middle" x="4576.5" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">cb.__index = cb</text>
<text text-anchor="middle" x="4576.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return setmetatable({}, cb)</text>
</g>
<!-- codeblock_48&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>codeblock_48&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4557.5753,-456.8745C4559.5318,-423.7112 4563.8433,-350.632 4567.8574,-282.5923"/>
<polygon fill="#000000" stroke="#000000" points="4571.3521,-282.7844 4568.4472,-272.5956 4564.3642,-282.3721 4571.3521,-282.7844"/>
</g>
</g>
</svg>