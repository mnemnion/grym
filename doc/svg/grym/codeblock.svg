<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="4316pt" height="1325pt"
 viewBox="0.00 0.00 4316.00 1324.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1320.8016)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1320.8016 4312,-1320.8016 4312,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="741.5" cy="-1298.8016" rx="27" ry="18"/>
<text text-anchor="middle" x="741.5" y="-1294.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">57 &#160;</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="741.5" cy="-1226.8016" rx="27" ry="18"/>
<text text-anchor="middle" x="741.5" y="-1222.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">15 &#160;</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M741.5,-1280.633C741.5,-1272.9326 741.5,-1263.776 741.5,-1255.2183"/>
<polygon fill="#000000" stroke="#000000" points="745.0001,-1255.2149 741.5,-1245.2149 738.0001,-1255.2149 745.0001,-1255.2149"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="633.5" cy="-1154.8016" rx="27" ry="18"/>
<text text-anchor="middle" x="633.5" y="-1150.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">le &#160;</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M722.1918,-1213.9295C705.1445,-1202.5646 680.0981,-1185.867 660.9656,-1173.112"/>
<polygon fill="#000000" stroke="#000000" points="662.9031,-1170.1972 652.6411,-1167.5623 659.0201,-1176.0216 662.9031,-1170.1972"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="705.5" cy="-1154.8016" rx="27" ry="18"/>
<text text-anchor="middle" x="705.5" y="-1150.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">&#45;6 &#160;</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M732.7854,-1209.3724C728.5403,-1200.8823 723.3464,-1190.4945 718.6337,-1181.069"/>
<polygon fill="#000000" stroke="#000000" points="721.737,-1179.4493 714.1343,-1172.0703 715.476,-1182.5799 721.737,-1179.4493"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="777.5" cy="-1154.8016" rx="27" ry="18"/>
<text text-anchor="middle" x="777.5" y="-1150.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">15 &#160;</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M750.2146,-1209.3724C754.4597,-1200.8823 759.6536,-1190.4945 764.3663,-1181.069"/>
<polygon fill="#000000" stroke="#000000" points="767.524,-1182.5799 768.8657,-1172.0703 761.263,-1179.4493 767.524,-1182.5799"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1262.5" cy="-1154.8016" rx="27" ry="18"/>
<text text-anchor="middle" x="1262.5" y="-1150.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">76 &#160;</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M768.0527,-1223.1321C854.284,-1211.2154 1126.6142,-1173.5805 1225.8589,-1159.8653"/>
<polygon fill="#000000" stroke="#000000" points="1226.574,-1163.2998 1236.0007,-1158.4637 1225.6157,-1156.3657 1226.574,-1163.2998"/>
</g>
<!-- leaf_6 -->
<g id="node7" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="499,-1070.5018 0,-1070.5018 0,-983.9012 499,-983.9012 499,-1070.5018"/>
<text text-anchor="middle" x="249.5" y="-1023.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Code blocks are the motivating object for Grimoire. &#160;Perforce they</text>
<text text-anchor="middle" x="249.5" y="-1008.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> will do a lot of the heavy lifting.</text>
</g>
<!-- block_3&#45;&gt;leaf_6 -->
<g id="edge6" class="edge">
<title>block_3&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M684.5555,-1143.2592C679.7089,-1140.8913 674.5034,-1138.5817 669.5,-1136.8016 600.4193,-1112.224 579.5716,-1118.8302 508.5,-1100.8016 475.4052,-1092.4065 440.1117,-1082.8106 406.5681,-1073.3824"/>
<polygon fill="#000000" stroke="#000000" points="407.2642,-1069.9423 396.6895,-1070.5966 405.3642,-1076.6795 407.2642,-1069.9423"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="1037.5,-1100.9019 517.5,-1100.9019 517.5,-953.5011 1037.5,-953.5011 1037.5,-1100.9019"/>
<text text-anchor="middle" x="777.5" y="-1085.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> From the compiler&#39;s perspective, Code, Structure, and Prose are the</text>
<text text-anchor="middle" x="777.5" y="-1070.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> three basic genres of Grimmorian text. &#160;In this implementation,</text>
<text text-anchor="middle" x="777.5" y="-1054.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> you may think of Code as a clade diverged early from both Structure</text>
<text text-anchor="middle" x="777.5" y="-1039.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> and Prose, with some later convergence toward the former. </text>
<text text-anchor="middle" x="777.5" y="-1024.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="777.5" y="-1008.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> Specifically, Structure and Prose will actually inherit from Block, and</text>
<text text-anchor="middle" x="777.5" y="-993.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> Code block, name notwithstanding, merely imitates some behaviours.</text>
<text text-anchor="middle" x="777.5" y="-977.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- block_4&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>block_4&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M777.5,-1136.7903C777.5,-1129.5502 777.5,-1120.6474 777.5,-1111.0732"/>
<polygon fill="#000000" stroke="#000000" points="781.0001,-1110.8943 777.5,-1100.8943 774.0001,-1110.8943 781.0001,-1110.8943"/>
</g>
<!-- header_8 -->
<g id="node9" class="node">
<title>header_8</title>
<ellipse fill="none" stroke="#000000" cx="1082.5" cy="-1027.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1082.5" y="-1023.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">ds &#160;</text>
</g>
<!-- section_5&#45;&gt;header_8 -->
<g id="edge8" class="edge">
<title>section_5&#45;&gt;header_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1236.0416,-1150.9454C1204.5765,-1145.1176 1152.1008,-1131.3178 1118.5,-1100.8016 1104.9386,-1088.4852 1095.9109,-1069.9335 1090.2875,-1054.5375"/>
<polygon fill="#000000" stroke="#000000" points="1093.5759,-1053.3353 1087.0704,-1044.973 1086.9412,-1055.5671 1093.5759,-1053.3353"/>
</g>
<!-- block_9 -->
<g id="node10" class="node">
<title>block_9</title>
<ellipse fill="none" stroke="#000000" cx="1154.5" cy="-1027.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1154.5" y="-1023.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">21 &#160;</text>
</g>
<!-- section_5&#45;&gt;block_9 -->
<g id="edge9" class="edge">
<title>section_5&#45;&gt;block_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1241.7745,-1142.9952C1226.1217,-1133.2647 1204.9408,-1118.2592 1190.5,-1100.8016 1179.1555,-1087.0873 1170.3005,-1069.1965 1164.2115,-1054.4882"/>
<polygon fill="#000000" stroke="#000000" points="1167.3593,-1052.9289 1160.4414,-1044.9044 1160.8452,-1055.4915 1167.3593,-1052.9289"/>
</g>
<!-- block_10 -->
<g id="node11" class="node">
<title>block_10</title>
<ellipse fill="none" stroke="#000000" cx="1226.5" cy="-1027.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1226.5" y="-1023.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">35 &#160;</text>
</g>
<!-- section_5&#45;&gt;block_10 -->
<g id="edge10" class="edge">
<title>section_5&#45;&gt;block_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1257.4944,-1137.0594C1251.51,-1115.8481 1241.4225,-1080.0935 1234.3868,-1055.1558"/>
<polygon fill="#000000" stroke="#000000" points="1237.6631,-1053.8783 1231.5792,-1045.2044 1230.9261,-1055.7791 1237.6631,-1053.8783"/>
</g>
<!-- block_11 -->
<g id="node12" class="node">
<title>block_11</title>
<ellipse fill="none" stroke="#000000" cx="1298.5" cy="-1027.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1298.5" y="-1023.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">49 &#160;</text>
</g>
<!-- section_5&#45;&gt;block_11 -->
<g id="edge11" class="edge">
<title>section_5&#45;&gt;block_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1267.5056,-1137.0594C1273.49,-1115.8481 1283.5775,-1080.0935 1290.6132,-1055.1558"/>
<polygon fill="#000000" stroke="#000000" points="1294.0739,-1055.7791 1293.4208,-1045.2044 1287.3369,-1053.8783 1294.0739,-1055.7791"/>
</g>
<!-- block_12 -->
<g id="node13" class="node">
<title>block_12</title>
<ellipse fill="none" stroke="#000000" cx="1450.5" cy="-1027.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1450.5" y="-1023.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">52 &#160;</text>
</g>
<!-- section_5&#45;&gt;block_12 -->
<g id="edge12" class="edge">
<title>section_5&#45;&gt;block_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1281.561,-1141.8644C1314.9197,-1119.2231 1384.0093,-1072.3303 1422.7027,-1046.0682"/>
<polygon fill="#000000" stroke="#000000" points="1425.0799,-1048.6848 1431.3885,-1040.1729 1421.1488,-1042.8929 1425.0799,-1048.6848"/>
</g>
<!-- block_13 -->
<g id="node14" class="node">
<title>block_13</title>
<ellipse fill="none" stroke="#000000" cx="1762.5" cy="-1027.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1762.5" y="-1023.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">76 &#160;</text>
</g>
<!-- section_5&#45;&gt;block_13 -->
<g id="edge13" class="edge">
<title>section_5&#45;&gt;block_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1288.0802,-1148.8462C1329.7319,-1139.1016 1414.7693,-1119.0091 1486.5,-1100.8016 1573.4709,-1078.7258 1675.3772,-1051.089 1727.6605,-1036.78"/>
<polygon fill="#000000" stroke="#000000" points="1728.7168,-1040.1197 1737.4364,-1034.1015 1726.867,-1033.3685 1728.7168,-1040.1197"/>
</g>
<!-- section_14 -->
<g id="node15" class="node">
<title>section_14</title>
<ellipse fill="none" stroke="#000000" cx="2854.5" cy="-1027.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="2854.5" y="-1023.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">57 &#160;</text>
</g>
<!-- section_5&#45;&gt;section_14 -->
<g id="edge14" class="edge">
<title>section_5&#45;&gt;section_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1289.4642,-1152.6404C1478.1083,-1137.5204 2599.1122,-1047.671 2817.5993,-1030.1591"/>
<polygon fill="#000000" stroke="#000000" points="2817.9113,-1033.6454 2827.5997,-1029.3576 2817.352,-1026.6678 2817.9113,-1033.6454"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="629,-848.8015 158,-848.8015 158,-762.2009 629,-762.2009 629,-848.8015"/>
<text text-anchor="middle" x="393.5" y="-801.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Codeblock inherits from Node directly, and is born with these </text>
<text text-anchor="middle" x="393.5" y="-786.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> additional fields:</text>
</g>
<!-- block_9&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>block_9&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1151.0588,-1009.2986C1146.6949,-991.9242 1137.3432,-966.365 1118.5,-953.6014 1029.9383,-893.613 742.0881,-944.2712 638.5,-917.6014 583.0802,-903.3329 524.6748,-877.0995 478.795,-853.5961"/>
<polygon fill="#000000" stroke="#000000" points="480.2805,-850.424 469.7907,-848.9362 477.0632,-856.6408 480.2805,-850.424"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1181.5,-917.7017 647.5,-917.7017 647.5,-693.3007 1181.5,-693.3007 1181.5,-917.7017"/>
<text text-anchor="middle" x="914.5" y="-902.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; level &#160;: &#160;The number of !s, which is the number of / needed to close</text>
<text text-anchor="middle" x="914.5" y="-887.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;the block.</text>
<text text-anchor="middle" x="914.5" y="-871.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; header : &#160;The line after # and at least one !.</text>
<text text-anchor="middle" x="914.5" y="-856.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; footer : &#160;The line closing the block. Optional, as a code block may</text>
<text text-anchor="middle" x="914.5" y="-840.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end a file without a closing line.</text>
<text text-anchor="middle" x="914.5" y="-825.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; lines &#160;: &#160;Array containing the lines of code. &#160;Header and footer</text>
<text text-anchor="middle" x="914.5" y="-810.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;are not included.</text>
<text text-anchor="middle" x="914.5" y="-794.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; line_first : &#160;The first (header) line of the block. </text>
<text text-anchor="middle" x="914.5" y="-779.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; line_last &#160;: &#160;The closing line of the block. Note that code blocks also</text>
<text text-anchor="middle" x="914.5" y="-763.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;collect blank lines and may have a clinging tag. </text>
<text text-anchor="middle" x="914.5" y="-748.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="914.5" y="-733.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> To be added:</text>
<text text-anchor="middle" x="914.5" y="-717.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; [ ] lang : The language, derived from the header line.</text>
</g>
<!-- block_10&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>block_10&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1221.2528,-1009.2881C1215.7657,-993.1132 1205.7945,-969.4817 1190.5,-953.6014 1180.4622,-943.1791 1169.5292,-933.3234 1157.9955,-924.0291"/>
<polygon fill="#000000" stroke="#000000" points="1159.9443,-921.1092 1149.9183,-917.6841 1155.6202,-926.6139 1159.9443,-921.1092"/>
</g>
<!-- codeblock_17 -->
<g id="node18" class="node">
<title>codeblock_17</title>
<ellipse fill="none" stroke="#000000" cx="1226.5" cy="-805.5012" rx="27" ry="18"/>
<text text-anchor="middle" x="1226.5" y="-801.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">48 &#160;</text>
</g>
<!-- block_11&#45;&gt;codeblock_17 -->
<g id="edge17" class="edge">
<title>block_11&#45;&gt;codeblock_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1292.6023,-1009.3688C1285.4419,-987.6896 1273.0178,-949.9837 1262.5,-917.6014 1253.1364,-888.7725 1242.5413,-855.7285 1235.2833,-833.0258"/>
<polygon fill="#000000" stroke="#000000" points="1238.5772,-831.8351 1232.1997,-823.3748 1231.9093,-833.9656 1238.5772,-831.8351"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="1325.5,-823.5012 1271.5,-823.5012 1271.5,-787.5012 1325.5,-787.5012 1325.5,-823.5012"/>
</g>
<!-- block_11&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>block_11&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1298.5,-1009.0588C1298.5,-970.4757 1298.5,-880.0357 1298.5,-833.8014"/>
<polygon fill="#000000" stroke="#000000" points="1302.0001,-833.5836 1298.5,-823.5836 1295.0001,-833.5836 1302.0001,-833.5836"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1717,-832.8016 1344,-832.8016 1344,-778.2007 1717,-778.2007 1717,-832.8016"/>
<text text-anchor="middle" x="1530.5" y="-817.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> Adds a .val field which is the union of all lines.</text>
<text text-anchor="middle" x="1530.5" y="-802.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> Useful in visualization. </text>
</g>
<!-- block_12&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>block_12&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1456.9115,-1009.4336C1469.9541,-973.2892 1499.8108,-890.5487 1517.2212,-842.3001"/>
<polygon fill="#000000" stroke="#000000" points="1520.5307,-843.4401 1520.6328,-832.8457 1513.9463,-841.0641 1520.5307,-843.4401"/>
</g>
<!-- codeblock_21 -->
<g id="node22" class="node">
<title>codeblock_21</title>
<ellipse fill="none" stroke="#000000" cx="1762.5" cy="-805.5012" rx="27" ry="18"/>
<text text-anchor="middle" x="1762.5" y="-801.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">75 &#160;</text>
</g>
<!-- block_13&#45;&gt;codeblock_21 -->
<g id="edge21" class="edge">
<title>block_13&#45;&gt;codeblock_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1762.5,-1009.0588C1762.5,-970.4757 1762.5,-880.0357 1762.5,-833.8014"/>
<polygon fill="#000000" stroke="#000000" points="1766.0001,-833.5836 1762.5,-823.5836 1759.0001,-833.5836 1766.0001,-833.5836"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1861.5,-823.5012 1807.5,-823.5012 1807.5,-787.5012 1861.5,-787.5012 1861.5,-823.5012"/>
</g>
<!-- block_13&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>block_13&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1768.3977,-1009.3688C1775.5581,-987.6896 1787.9822,-949.9837 1798.5,-917.6014 1807.8089,-888.941 1818.3348,-856.1148 1825.5891,-833.4251"/>
<polygon fill="#000000" stroke="#000000" points="1828.966,-834.3557 1828.6757,-823.7648 1822.2981,-832.2251 1828.966,-834.3557"/>
</g>
<!-- header_24 -->
<g id="node25" class="node">
<title>header_24</title>
<ellipse fill="none" stroke="#000000" cx="2234.5" cy="-805.5012" rx="27" ry="18"/>
<text text-anchor="middle" x="2234.5" y="-801.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">ts &#160;</text>
</g>
<!-- section_14&#45;&gt;header_24 -->
<g id="edge24" class="edge">
<title>section_14&#45;&gt;header_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2827.448,-1025.72C2724.0529,-1019.5318 2355.4088,-992.4917 2270.5,-917.6014 2246.6237,-896.5423 2238.4747,-859.6141 2235.7538,-833.9212"/>
<polygon fill="#000000" stroke="#000000" points="2239.2179,-833.3475 2234.89,-823.6769 2232.2427,-833.9357 2239.2179,-833.3475"/>
</g>
<!-- block_25 -->
<g id="node26" class="node">
<title>block_25</title>
<ellipse fill="none" stroke="#000000" cx="2306.5" cy="-805.5012" rx="27" ry="18"/>
<text text-anchor="middle" x="2306.5" y="-801.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">78 &#160;</text>
</g>
<!-- section_14&#45;&gt;block_25 -->
<g id="edge25" class="edge">
<title>section_14&#45;&gt;block_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2827.5642,-1024.9529C2732.6662,-1016.5137 2415.6353,-983.7753 2342.5,-917.6014 2318.8927,-896.2411 2310.6853,-859.3782 2307.8775,-833.7827"/>
<polygon fill="#000000" stroke="#000000" points="2311.3428,-833.234 2306.9756,-823.5811 2304.37,-833.8505 2311.3428,-833.234"/>
</g>
<!-- block_26 -->
<g id="node27" class="node">
<title>block_26</title>
<ellipse fill="none" stroke="#000000" cx="2378.5" cy="-805.5012" rx="27" ry="18"/>
<text text-anchor="middle" x="2378.5" y="-801.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">87 &#160;</text>
</g>
<!-- section_14&#45;&gt;block_26 -->
<g id="edge26" class="edge">
<title>section_14&#45;&gt;block_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2832.18,-1016.8058C2755.0367,-980.8758 2499.5071,-861.8611 2409.8904,-820.1215"/>
<polygon fill="#000000" stroke="#000000" points="2411.3145,-816.9238 2400.7717,-815.8744 2408.359,-823.2693 2411.3145,-816.9238"/>
</g>
<!-- block_27 -->
<g id="node28" class="node">
<title>block_27</title>
<ellipse fill="none" stroke="#000000" cx="2688.5" cy="-805.5012" rx="27" ry="18"/>
<text text-anchor="middle" x="2688.5" y="-801.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">96 &#160;</text>
</g>
<!-- section_14&#45;&gt;block_27 -->
<g id="edge27" class="edge">
<title>section_14&#45;&gt;block_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2842.2936,-1010.8993C2813.4538,-972.3825 2740.9667,-875.5728 2706.8256,-829.9758"/>
<polygon fill="#000000" stroke="#000000" points="2709.5196,-827.7342 2700.7243,-821.8272 2703.9163,-831.9298 2709.5196,-827.7342"/>
</g>
<!-- block_28 -->
<g id="node29" class="node">
<title>block_28</title>
<ellipse fill="none" stroke="#000000" cx="2854.5" cy="-805.5012" rx="27" ry="18"/>
<text text-anchor="middle" x="2854.5" y="-801.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">09 &#160;</text>
</g>
<!-- section_14&#45;&gt;block_28 -->
<g id="edge28" class="edge">
<title>section_14&#45;&gt;block_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2854.5,-1009.0588C2854.5,-970.4757 2854.5,-880.0357 2854.5,-833.8014"/>
<polygon fill="#000000" stroke="#000000" points="2858.0001,-833.5836 2854.5,-823.5836 2851.0001,-833.5836 2858.0001,-833.5836"/>
</g>
<!-- block_29 -->
<g id="node30" class="node">
<title>block_29</title>
<ellipse fill="none" stroke="#000000" cx="2976.5" cy="-805.5012" rx="27" ry="18"/>
<text text-anchor="middle" x="2976.5" y="-801.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">11 &#160;</text>
</g>
<!-- section_14&#45;&gt;block_29 -->
<g id="edge29" class="edge">
<title>section_14&#45;&gt;block_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2863.8706,-1010.1732C2885.0717,-971.6461 2936.8368,-877.5778 2962.1239,-831.6256"/>
<polygon fill="#000000" stroke="#000000" points="2965.3427,-833.036 2967.0975,-822.5875 2959.2099,-829.6612 2965.3427,-833.036"/>
</g>
<!-- block_30 -->
<g id="node31" class="node">
<title>block_30</title>
<ellipse fill="none" stroke="#000000" cx="3235.5" cy="-805.5012" rx="27" ry="18"/>
<text text-anchor="middle" x="3235.5" y="-801.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">21 &#160;</text>
</g>
<!-- section_14&#45;&gt;block_30 -->
<g id="edge30" class="edge">
<title>section_14&#45;&gt;block_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2874.9842,-1015.2819C2938.425,-978.3664 3131.8345,-865.8232 3206.0637,-822.6299"/>
<polygon fill="#000000" stroke="#000000" points="3208.0316,-825.5343 3214.9145,-817.4797 3204.511,-819.484 3208.0316,-825.5343"/>
</g>
<!-- block_31 -->
<g id="node32" class="node">
<title>block_31</title>
<ellipse fill="none" stroke="#000000" cx="3682.5" cy="-805.5012" rx="27" ry="18"/>
<text text-anchor="middle" x="3682.5" y="-801.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">34 &#160;</text>
</g>
<!-- section_14&#45;&gt;block_31 -->
<g id="edge31" class="edge">
<title>section_14&#45;&gt;block_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2879.9069,-1020.6112C2945.0384,-1003.6979 3123.2707,-957.2948 3271.5,-917.6014 3411.0938,-880.2204 3577.0241,-834.598 3647.7692,-815.0906"/>
<polygon fill="#000000" stroke="#000000" points="3648.7925,-818.4391 3657.5019,-812.406 3646.9312,-811.6911 3648.7925,-818.4391"/>
</g>
<!-- block_32 -->
<g id="node33" class="node">
<title>block_32</title>
<ellipse fill="none" stroke="#000000" cx="3802.5" cy="-805.5012" rx="27" ry="18"/>
<text text-anchor="middle" x="3802.5" y="-801.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">36 &#160;</text>
</g>
<!-- section_14&#45;&gt;block_32 -->
<g id="edge32" class="edge">
<title>section_14&#45;&gt;block_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2881.6612,-1026.5675C3011.7613,-1023.1142 3570.983,-1003.4311 3718.5,-917.6014 3752.3855,-897.8858 3776.9035,-858.5498 3790.415,-832.121"/>
<polygon fill="#000000" stroke="#000000" points="3793.6147,-833.5459 3794.8919,-823.0284 3787.3346,-830.4538 3793.6147,-833.5459"/>
</g>
<!-- block_33 -->
<g id="node34" class="node">
<title>block_33</title>
<ellipse fill="none" stroke="#000000" cx="4043.5" cy="-805.5012" rx="27" ry="18"/>
<text text-anchor="middle" x="4043.5" y="-801.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">57 &#160;</text>
</g>
<!-- section_14&#45;&gt;block_33 -->
<g id="edge33" class="edge">
<title>section_14&#45;&gt;block_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2881.4385,-1025.6166C3019.8813,-1017.2576 3652.0386,-976.4402 3838.5,-917.6014 3907.0811,-895.9603 3978.9905,-850.5306 4016.7272,-824.6399"/>
<polygon fill="#000000" stroke="#000000" points="4018.9049,-827.3889 4025.1249,-818.812 4014.9139,-821.638 4018.9049,-827.3889"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1406,-580.9013 1047,-580.9013 1047,-400.1001 1406,-400.1001 1406,-580.9013"/>
<text text-anchor="middle" x="1226.5" y="-565.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1226.5" y="-534.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="1226.5" y="-502.7007" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="1226.5" y="-471.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">local CB = setmetatable({}, Node)</text>
<text text-anchor="middle" x="1226.5" y="-439.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">CB.__index = CB</text>
<text text-anchor="middle" x="1226.5" y="-408.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">CB.__tostring = function() return &quot;codeblock&quot; end</text>
</g>
<!-- codeblock_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>codeblock_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1226.5,-787.2039C1226.5,-749.6585 1226.5,-661.5102 1226.5,-590.9897"/>
<polygon fill="#000000" stroke="#000000" points="1230.0001,-590.721 1226.5,-580.7211 1223.0001,-590.7211 1230.0001,-590.721"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1909.5,-657.3013 1487.5,-657.3013 1487.5,-323.7001 1909.5,-323.7001 1909.5,-657.3013"/>
<text text-anchor="middle" x="1698.5" y="-642.201" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.toValue(codeblock)</text>
<text text-anchor="middle" x="1698.5" y="-626.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.val = &quot;&quot;</text>
<text text-anchor="middle" x="1698.5" y="-611.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(codeblock.lines) do</text>
<text text-anchor="middle" x="1698.5" y="-596.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;codeblock.val = codeblock.val .. v .. &quot;\n&quot;</text>
<text text-anchor="middle" x="1698.5" y="-580.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1698.5" y="-549.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return codeblock.val</text>
<text text-anchor="middle" x="1698.5" y="-533.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1698.5" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.toMarkdown(codeblock)</text>
<text text-anchor="middle" x="1698.5" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; hardcode lua</text>
<text text-anchor="middle" x="1698.5" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return &quot;```&quot; .. codeblock.lang .. &quot;\n&quot; </text>
<text text-anchor="middle" x="1698.5" y="-456.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. codeblock:toValue() .. &quot;```\n&quot;</text>
<text text-anchor="middle" x="1698.5" y="-440.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1698.5" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.dotLabel(codeblock)</text>
<text text-anchor="middle" x="1698.5" y="-394.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;code block &quot; .. tostring(codeblock.line_first)</text>
<text text-anchor="middle" x="1698.5" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;&#45;&quot; .. tostring(codeblock.line_last)</text>
<text text-anchor="middle" x="1698.5" y="-363.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1698.5" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">local cb = {}</text>
</g>
<!-- codeblock_21&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>codeblock_21&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1758.8757,-787.6628C1753.9053,-763.1989 1744.4468,-716.6456 1734.4657,-667.5194"/>
<polygon fill="#000000" stroke="#000000" points="1737.8847,-666.7685 1732.4636,-657.6657 1731.0248,-668.1623 1737.8847,-666.7685"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="1981.5,-508.5007 1927.5,-508.5007 1927.5,-472.5007 1981.5,-472.5007 1981.5,-508.5007"/>
</g>
<!-- block_25&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>block_25&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2306.3,-787.1036C2304.9484,-761.7778 2298.4694,-716.6722 2270.5,-693.401 2174.0501,-613.1524 2082.8911,-742.291 1990.5,-657.401 1952.0585,-622.0804 1949.4707,-556.3677 1951.599,-518.7957"/>
<polygon fill="#000000" stroke="#000000" points="1955.1095,-518.7738 1952.3371,-508.5481 1948.1276,-518.2708 1955.1095,-518.7738"/>
</g>
<!-- codeblock_35 -->
<g id="node36" class="node">
<title>codeblock_35</title>
<ellipse fill="none" stroke="#000000" cx="2026.5" cy="-490.5007" rx="27" ry="18"/>
<text text-anchor="middle" x="2026.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">84 &#160;</text>
</g>
<!-- block_26&#45;&gt;codeblock_35 -->
<g id="edge35" class="edge">
<title>block_26&#45;&gt;codeblock_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2378.3,-787.1036C2376.9484,-761.7778 2370.4694,-716.6722 2342.5,-693.401 2246.0501,-613.1524 2154.8911,-742.291 2062.5,-657.401 2024.0585,-622.0804 2021.4707,-556.3677 2023.599,-518.7957"/>
<polygon fill="#000000" stroke="#000000" points="2027.1095,-518.7738 2024.3371,-508.5481 2020.1276,-518.2708 2027.1095,-518.7738"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="2325.5,-518.4022 2071.5,-518.4022 2071.5,-462.5992 2325.5,-462.5992 2325.5,-518.4022"/>
<text text-anchor="middle" x="2198.5" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> Matches a code block header line.</text>
</g>
<!-- block_26&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>block_26&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2374.4976,-787.369C2369.0761,-764.6381 2358.2335,-724.8422 2342.5,-693.401 2310.9184,-630.2895 2260.9966,-565.0925 2229.0071,-526.1771"/>
<polygon fill="#000000" stroke="#000000" points="2231.5412,-523.7497 2222.4661,-518.2821 2226.1508,-528.2156 2231.5412,-523.7497"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2773,-564.3011 2344,-564.3011 2344,-416.7003 2773,-416.7003 2773,-564.3011"/>
<text text-anchor="middle" x="2558.5" y="-549.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #args</text>
<text text-anchor="middle" x="2558.5" y="-533.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; str : &#160;The string to match against.</text>
<text text-anchor="middle" x="2558.5" y="-518.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="2558.5" y="-503.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return 3</text>
<text text-anchor="middle" x="2558.5" y="-487.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; boolean : &#160;For header match</text>
<text text-anchor="middle" x="2558.5" y="-472.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; number &#160;: &#160;Level of header</text>
<text text-anchor="middle" x="2558.5" y="-456.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; string &#160;: &#160;Header stripped of left whitespace and tars</text>
</g>
<!-- block_27&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>block_27&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2681.3255,-788.1167C2664.8204,-748.1236 2623.2574,-647.4131 2593.0414,-574.1973"/>
<polygon fill="#000000" stroke="#000000" points="2596.0936,-572.4183 2589.0434,-564.5098 2589.623,-575.0888 2596.0936,-572.4183"/>
</g>
<!-- codeblock_39 -->
<g id="node40" class="node">
<title>codeblock_39</title>
<ellipse fill="none" stroke="#000000" cx="2818.5" cy="-490.5007" rx="27" ry="18"/>
<text text-anchor="middle" x="2818.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">08 &#160;</text>
</g>
<!-- block_28&#45;&gt;codeblock_39 -->
<g id="edge39" class="edge">
<title>block_28&#45;&gt;codeblock_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2852.4089,-787.2039C2846.3799,-734.4505 2828.934,-581.7981 2821.7007,-518.5066"/>
<polygon fill="#000000" stroke="#000000" points="2825.1649,-517.9939 2820.552,-508.456 2818.2102,-518.7887 2825.1649,-517.9939"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="2917.5,-508.5007 2863.5,-508.5007 2863.5,-472.5007 2917.5,-472.5007 2917.5,-508.5007"/>
</g>
<!-- block_28&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>block_28&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2856.5911,-787.2039C2862.6059,-734.5747 2879.984,-582.516 2887.2481,-518.9549"/>
<polygon fill="#000000" stroke="#000000" points="2890.7449,-519.1813 2888.4031,-508.8485 2883.7902,-518.3864 2890.7449,-519.1813"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="3189.5,-510.4028 2935.5,-510.4028 2935.5,-470.5986 3189.5,-470.5986 3189.5,-510.4028"/>
<text text-anchor="middle" x="3062.5" y="-495.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> Matches a code block footer line.</text>
</g>
<!-- block_29&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>block_29&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2981.3701,-787.6628C2995.5069,-735.8828 3036.6608,-585.1443 3054.3084,-520.5048"/>
<polygon fill="#000000" stroke="#000000" points="3057.7711,-521.1106 3057.0285,-510.5418 3051.0182,-519.2669 3057.7711,-521.1106"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="3637,-572.2011 3208,-572.2011 3208,-408.8003 3637,-408.8003 3637,-572.2011"/>
<text text-anchor="middle" x="3422.5" y="-556.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #args</text>
<text text-anchor="middle" x="3422.5" y="-541.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; str &#160;&#160;: &#160;The string to match against.</text>
<text text-anchor="middle" x="3422.5" y="-526.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; level : &#160;Required level for a match.</text>
<text text-anchor="middle" x="3422.5" y="-510.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="3422.5" y="-495.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return 3</text>
<text text-anchor="middle" x="3422.5" y="-479.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; boolean : &#160;For footer match</text>
<text text-anchor="middle" x="3422.5" y="-464.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; number &#160;: &#160;Level of header</text>
<text text-anchor="middle" x="3422.5" y="-449.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; string &#160;: &#160;Header stripped of left whitespace and tars</text>
</g>
<!-- block_30&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>block_30&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3245.5539,-788.5654C3268.4079,-750.0679 3325.6265,-653.6836 3368.8582,-580.8599"/>
<polygon fill="#000000" stroke="#000000" points="3371.9627,-582.4869 3374.0578,-572.1013 3365.9434,-578.9135 3371.9627,-582.4869"/>
</g>
<!-- codeblock_44 -->
<g id="node45" class="node">
<title>codeblock_44</title>
<ellipse fill="none" stroke="#000000" cx="3682.5" cy="-490.5007" rx="27" ry="18"/>
<text text-anchor="middle" x="3682.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">33 &#160;</text>
</g>
<!-- block_31&#45;&gt;codeblock_44 -->
<g id="edge44" class="edge">
<title>block_31&#45;&gt;codeblock_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3682.5,-787.2039C3682.5,-734.5747 3682.5,-582.516 3682.5,-518.9549"/>
<polygon fill="#000000" stroke="#000000" points="3686.0001,-518.8485 3682.5,-508.8485 3679.0001,-518.8485 3686.0001,-518.8485"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="3781.5,-508.5007 3727.5,-508.5007 3727.5,-472.5007 3781.5,-472.5007 3781.5,-508.5007"/>
</g>
<!-- block_31&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>block_31&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3687.0865,-787.2973C3694.0807,-759.3925 3707.7345,-704.3405 3718.5,-657.401 3729.6811,-608.6491 3741.763,-551.6542 3748.7005,-518.4634"/>
<polygon fill="#000000" stroke="#000000" points="3752.1496,-519.0681 3750.7645,-508.5642 3745.297,-517.6392 3752.1496,-519.0681"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="3899.5,-510.4028 3799.5,-510.4028 3799.5,-470.5986 3899.5,-470.5986 3899.5,-510.4028"/>
<text text-anchor="middle" x="3849.5" y="-495.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> Constructor</text>
</g>
<!-- block_32&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>block_32&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3805.2301,-787.2039C3813.0247,-734.9635 3835.4364,-584.7571 3845.0421,-520.3779"/>
<polygon fill="#000000" stroke="#000000" points="3848.5085,-520.8626 3846.5226,-510.4556 3841.5851,-519.8296 3848.5085,-520.8626"/>
</g>
<!-- codeblock_48 -->
<g id="node49" class="node">
<title>codeblock_48</title>
<ellipse fill="none" stroke="#000000" cx="4043.5" cy="-490.5007" rx="27" ry="18"/>
<text text-anchor="middle" x="4043.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">56 &#160;</text>
</g>
<!-- block_33&#45;&gt;codeblock_48 -->
<g id="edge48" class="edge">
<title>block_33&#45;&gt;codeblock_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4043.5,-787.2039C4043.5,-734.5747 4043.5,-582.516 4043.5,-518.9549"/>
<polygon fill="#000000" stroke="#000000" points="4047.0001,-518.8485 4043.5,-508.8485 4040.0001,-518.8485 4047.0001,-518.8485"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="4142.5,-508.5007 4088.5,-508.5007 4088.5,-472.5007 4142.5,-472.5007 4142.5,-508.5007"/>
</g>
<!-- block_33&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>block_33&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4048.0865,-787.2973C4055.0807,-759.3925 4068.7345,-704.3405 4079.5,-657.401 4090.6811,-608.6491 4102.763,-551.6542 4109.7005,-518.4634"/>
<polygon fill="#000000" stroke="#000000" points="4113.1496,-519.0681 4111.7645,-508.5642 4106.297,-517.6392 4113.1496,-519.0681"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2139.5,-178.4015 1913.5,-178.4015 1913.5,-109.199 2139.5,-109.199 2139.5,-178.4015"/>
<text text-anchor="middle" x="2026.5" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.check(codeblock)</text>
<text text-anchor="middle" x="2026.5" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert(codeblock.line_first)</text>
<text text-anchor="middle" x="2026.5" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert(codeblock.line_last)</text>
<text text-anchor="middle" x="2026.5" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_35&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>codeblock_35&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2026.5,-472.3487C2026.5,-419.7197 2026.5,-265.92 2026.5,-188.8746"/>
<polygon fill="#000000" stroke="#000000" points="2030.0001,-188.5311 2026.5,-178.5311 2023.0001,-188.5311 2030.0001,-188.5311"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="3043.5,-224.8005 2593.5,-224.8005 2593.5,-62.7999 3043.5,-62.7999 3043.5,-224.8005"/>
<text text-anchor="middle" x="2818.5" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">function cb.matchHead(str)</text>
<text text-anchor="middle" x="2818.5" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if str ~= &quot;&quot; and L.match(m.codestart, str) then</text>
<text text-anchor="middle" x="2818.5" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local trimmed = str:sub(L.match(m.WS * m.hax, str))</text>
<text text-anchor="middle" x="2818.5" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local level = L.match(m.zaps, trimmed) &#45; 1</text>
<text text-anchor="middle" x="2818.5" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local bareline = trimmed:sub(L.match(m.zaps, trimmed))</text>
<text text-anchor="middle" x="2818.5" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, level, bareline</text>
<text text-anchor="middle" x="2818.5" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="2818.5" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return false, 0, &quot;&quot;</text>
<text text-anchor="middle" x="2818.5" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2818.5" y="-71.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_39&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>codeblock_39&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2818.5,-472.3487C2818.5,-428.9242 2818.5,-316.6228 2818.5,-235.3905"/>
<polygon fill="#000000" stroke="#000000" points="2822.0001,-235.1459 2818.5,-225.146 2815.0001,-235.146 2822.0001,-235.1459"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="3861,-224.8005 3404,-224.8005 3404,-62.7999 3861,-62.7999 3861,-224.8005"/>
<text text-anchor="middle" x="3632.5" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">function cb.matchFoot(str)</text>
<text text-anchor="middle" x="3632.5" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if str ~= &quot;&quot; and L.match(m.codefinish, str) then</text>
<text text-anchor="middle" x="3632.5" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local trimmed = str:sub(L.match(m.WS * m.hax &#160;&#160;&#160;, str))</text>
<text text-anchor="middle" x="3632.5" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local level = L.match(m.fass, trimmed) &#45; 1</text>
<text text-anchor="middle" x="3632.5" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local bareline = trimmed:sub(L.match(m.fass, trimmed))</text>
<text text-anchor="middle" x="3632.5" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, level, bareline</text>
<text text-anchor="middle" x="3632.5" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="3632.5" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return false, 0, &quot;&quot;</text>
<text text-anchor="middle" x="3632.5" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3632.5" y="-71.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_44&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>codeblock_44&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3679.8822,-472.3487C3673.6196,-428.9242 3657.4239,-316.6228 3645.7089,-235.3905"/>
<polygon fill="#000000" stroke="#000000" points="3649.1231,-234.5439 3644.2314,-225.146 3642.1947,-235.5432 3649.1231,-234.5439"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="4308,-287.4009 3879,-287.4009 3879,-.1995 4308,-.1995 4308,-287.4009"/>
<text text-anchor="middle" x="4093.5" y="-272.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Codeblock, level, headline, linum)</text>
<text text-anchor="middle" x="4093.5" y="-257.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local codeblock = setmetatable({}, CB)</text>
<text text-anchor="middle" x="4093.5" y="-241.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.id = &quot;codeblock&quot;</text>
<text text-anchor="middle" x="4093.5" y="-226.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.level = level</text>
<text text-anchor="middle" x="4093.5" y="-210.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.header = headline</text>
<text text-anchor="middle" x="4093.5" y="-195.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.lang = L.match(L.C(m.symbol), headline) or &quot;&quot;</text>
<text text-anchor="middle" x="4093.5" y="-180.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.footer = &quot;&quot;</text>
<text text-anchor="middle" x="4093.5" y="-164.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.line_first = linum</text>
<text text-anchor="middle" x="4093.5" y="-149.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.lines = {}</text>
<text text-anchor="middle" x="4093.5" y="-117.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return codeblock</text>
<text text-anchor="middle" x="4093.5" y="-102.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4093.5" y="-55.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">cb.__call = new</text>
<text text-anchor="middle" x="4093.5" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">cb.__index = cb</text>
<text text-anchor="middle" x="4093.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return setmetatable({}, cb)</text>
</g>
<!-- codeblock_48&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>codeblock_48&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4046.1178,-472.3487C4050.877,-439.3485 4061.3727,-366.571 4071.2791,-297.8802"/>
<polygon fill="#000000" stroke="#000000" points="4074.7723,-298.1775 4072.7357,-287.7803 4067.844,-297.1783 4074.7723,-298.1775"/>
</g>
</g>
</svg>