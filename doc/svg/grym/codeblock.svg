<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="4799pt" height="1293pt"
 viewBox="0.00 0.00 4799.00 1292.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1288.8016)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1288.8016 4795,-1288.8016 4795,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="719.5" cy="-1266.8016" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="719.5" y="-1262.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 157</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="719.5" cy="-1194.8016" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="719.5" y="-1190.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;15</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M719.5,-1248.633C719.5,-1240.9326 719.5,-1231.776 719.5,-1223.2183"/>
<polygon fill="#000000" stroke="#000000" points="723.0001,-1223.2149 719.5,-1213.2149 716.0001,-1223.2149 723.0001,-1223.2149"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="499.5" cy="-1122.8016" rx="99.1626" ry="18"/>
<text text-anchor="middle" x="499.5" y="-1118.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Code Block Module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M678.6353,-1181.4277C644.6427,-1170.3029 595.8374,-1154.3302 557.7514,-1141.8657"/>
<polygon fill="#000000" stroke="#000000" points="558.4087,-1138.3982 547.8161,-1138.6142 556.2314,-1145.051 558.4087,-1138.3982"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="662.5" cy="-1122.8016" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="662.5" y="-1118.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;6</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M705.4101,-1177.0039C698.5256,-1168.3076 690.1187,-1157.6883 682.5765,-1148.1614"/>
<polygon fill="#000000" stroke="#000000" points="685.1824,-1145.8142 676.2311,-1140.1462 679.694,-1150.1592 685.1824,-1145.8142"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="777.5" cy="-1122.8016" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="777.5" y="-1118.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 7&#45;15</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M733.8371,-1177.0039C740.8424,-1168.3076 749.3968,-1157.6883 757.0713,-1148.1614"/>
<polygon fill="#000000" stroke="#000000" points="759.9803,-1150.1294 763.528,-1140.1462 754.529,-1145.7381 759.9803,-1150.1294"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1416.5" cy="-1122.8016" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1416.5" y="-1118.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 16&#45;76</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M777.1314,-1188.8483C903.7727,-1175.7663 1206.0458,-1144.5415 1344.7308,-1130.2154"/>
<polygon fill="#000000" stroke="#000000" points="1345.2425,-1133.6812 1354.8299,-1129.1721 1344.5232,-1126.7183 1345.2425,-1133.6812"/>
</g>
<!-- leaf_6 -->
<g id="node7" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="499,-1038.5018 0,-1038.5018 0,-967.9012 499,-967.9012 499,-1038.5018"/>
<text text-anchor="middle" x="249.5" y="-991.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Code blocks are the motivating object for Grimoire. &#160;Perforce they</text>
<text text-anchor="middle" x="249.5" y="-976.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> will do a lot of the heavy lifting.</text>
</g>
<!-- block_3&#45;&gt;leaf_6 -->
<g id="edge6" class="edge">
<title>block_3&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M627.3571,-1111.0701C620.7733,-1108.9377 613.9379,-1106.7678 607.5,-1104.8016 535.5027,-1082.8134 454.8799,-1059.7932 388.3989,-1041.2356"/>
<polygon fill="#000000" stroke="#000000" points="389.2681,-1037.8446 378.6955,-1038.5307 387.3884,-1044.5875 389.2681,-1037.8446"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="1037.5,-1068.9019 517.5,-1068.9019 517.5,-937.5011 1037.5,-937.5011 1037.5,-1068.9019"/>
<text text-anchor="middle" x="777.5" y="-1053.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> From the compiler&#39;s perspective, Code, Structure, and Prose are the</text>
<text text-anchor="middle" x="777.5" y="-1038.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> three basic genres of Grimmorian text. &#160;In this implementation,</text>
<text text-anchor="middle" x="777.5" y="-1022.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> you may think of Code as a clade diverged early from both Structure</text>
<text text-anchor="middle" x="777.5" y="-1007.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> and Prose, with some later convergence toward the former. </text>
<text text-anchor="middle" x="777.5" y="-992.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="777.5" y="-976.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> Specifically, Structure and Prose will actually inherit from Block, and</text>
<text text-anchor="middle" x="777.5" y="-961.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> Code block, name notwithstanding, merely imitates some behaviours.</text>
<text text-anchor="middle" x="777.5" y="-945.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- block_4&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>block_4&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M777.5,-1104.6369C777.5,-1097.362 777.5,-1088.4549 777.5,-1078.9695"/>
<polygon fill="#000000" stroke="#000000" points="781.0001,-1078.9194 777.5,-1068.9195 774.0001,-1078.9195 781.0001,-1078.9194"/>
</g>
<!-- header_8 -->
<g id="node9" class="node">
<title>header_8</title>
<ellipse fill="none" stroke="#000000" cx="1101.5" cy="-1003.2015" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="1101.5" y="-999.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Fields</text>
</g>
<!-- section_5&#45;&gt;header_8 -->
<g id="edge8" class="edge">
<title>section_5&#45;&gt;header_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1356.9416,-1115.0494C1291.0208,-1105.6705 1189.6874,-1088.6466 1156.5,-1068.8016 1140.4907,-1059.2286 1126.9592,-1043.2746 1117.324,-1029.4973"/>
<polygon fill="#000000" stroke="#000000" points="1120.0216,-1027.2334 1111.568,-1020.8469 1114.1939,-1031.1112 1120.0216,-1027.2334"/>
</g>
<!-- block_9 -->
<g id="node10" class="node">
<title>block_9</title>
<ellipse fill="none" stroke="#000000" cx="1221.5" cy="-1003.2015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1221.5" y="-999.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 16&#45;21</text>
</g>
<!-- section_5&#45;&gt;block_9 -->
<g id="edge9" class="edge">
<title>section_5&#45;&gt;block_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1372.4875,-1109.4211C1346.2334,-1100.2795 1312.9684,-1086.5946 1286.5,-1068.8016 1269.9716,-1057.6907 1254.1793,-1041.9171 1242.3002,-1028.6218"/>
<polygon fill="#000000" stroke="#000000" points="1244.6401,-1025.9785 1235.4379,-1020.7277 1239.3571,-1030.571 1244.6401,-1025.9785"/>
</g>
<!-- block_10 -->
<g id="node11" class="node">
<title>block_10</title>
<ellipse fill="none" stroke="#000000" cx="1351.5" cy="-1003.2015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1351.5" y="-999.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 22&#45;35</text>
</g>
<!-- section_5&#45;&gt;block_10 -->
<g id="edge10" class="edge">
<title>section_5&#45;&gt;block_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1406.7688,-1104.8963C1395.9989,-1085.0795 1378.5251,-1052.9277 1366.1103,-1030.0844"/>
<polygon fill="#000000" stroke="#000000" points="1369.1481,-1028.3442 1361.2977,-1021.2292 1362.9977,-1031.6868 1369.1481,-1028.3442"/>
</g>
<!-- block_11 -->
<g id="node12" class="node">
<title>block_11</title>
<ellipse fill="none" stroke="#000000" cx="1481.5" cy="-1003.2015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1481.5" y="-999.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 36&#45;49</text>
</g>
<!-- section_5&#45;&gt;block_11 -->
<g id="edge11" class="edge">
<title>section_5&#45;&gt;block_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1426.2312,-1104.8963C1437.0011,-1085.0795 1454.4749,-1052.9277 1466.8897,-1030.0844"/>
<polygon fill="#000000" stroke="#000000" points="1470.0023,-1031.6868 1471.7023,-1021.2292 1463.8519,-1028.3442 1470.0023,-1031.6868"/>
</g>
<!-- block_12 -->
<g id="node13" class="node">
<title>block_12</title>
<ellipse fill="none" stroke="#000000" cx="1662.5" cy="-1003.2015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1662.5" y="-999.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 50&#45;52</text>
</g>
<!-- section_5&#45;&gt;block_12 -->
<g id="edge12" class="edge">
<title>section_5&#45;&gt;block_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1455.1522,-1108.1669C1481.2974,-1097.9234 1516.4129,-1083.4911 1546.5,-1068.8016 1574.3983,-1055.1808 1604.9212,-1037.8153 1627.652,-1024.3732"/>
<polygon fill="#000000" stroke="#000000" points="1629.4646,-1027.3675 1636.2679,-1019.2455 1625.8846,-1021.3522 1629.4646,-1027.3675"/>
</g>
<!-- block_13 -->
<g id="node14" class="node">
<title>block_13</title>
<ellipse fill="none" stroke="#000000" cx="1995.5" cy="-1003.2015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1995.5" y="-999.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 53&#45;76</text>
</g>
<!-- section_5&#45;&gt;block_13 -->
<g id="edge13" class="edge">
<title>section_5&#45;&gt;block_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1474.0427,-1114.0141C1536.6345,-1104.1755 1639.5265,-1087.1838 1727.5,-1068.8016 1802.5402,-1053.1218 1888.4959,-1031.409 1942.3925,-1017.3342"/>
<polygon fill="#000000" stroke="#000000" points="1943.2866,-1020.7181 1952.0732,-1014.7982 1941.5126,-1013.9466 1943.2866,-1020.7181"/>
</g>
<!-- section_14 -->
<g id="node15" class="node">
<title>section_14</title>
<ellipse fill="none" stroke="#000000" cx="3195.5" cy="-1003.2015" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3195.5" y="-999.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 77&#45;157</text>
</g>
<!-- section_5&#45;&gt;section_14 -->
<g id="edge14" class="edge">
<title>section_5&#45;&gt;section_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1480.3401,-1118.5097C1752.6567,-1100.2022 2816.8249,-1028.6594 3116.5463,-1008.5095"/>
<polygon fill="#000000" stroke="#000000" points="3117.1406,-1011.9775 3126.8832,-1007.8145 3116.671,-1004.9933 3117.1406,-1011.9775"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="712,-832.8015 241,-832.8015 241,-762.2008 712,-762.2008 712,-832.8015"/>
<text text-anchor="middle" x="476.5" y="-785.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Codeblock inherits from Node directly, and is born with these </text>
<text text-anchor="middle" x="476.5" y="-770.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> additional fields:</text>
</g>
<!-- block_9&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>block_9&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1209.6482,-985.5294C1198.1006,-969.9361 1179.0231,-948.1027 1156.5,-937.6014 980.6773,-855.6247 909.8331,-948.1246 721.5,-901.6014 662.718,-887.0807 599.9328,-860.157 552.638,-837.3288"/>
<polygon fill="#000000" stroke="#000000" points="553.9141,-834.0572 543.3914,-832.8226 550.8475,-840.3497 553.9141,-834.0572"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1264.5,-901.7017 730.5,-901.7017 730.5,-693.3007 1264.5,-693.3007 1264.5,-901.7017"/>
<text text-anchor="middle" x="997.5" y="-886.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; level &#160;: &#160;The number of !s, which is the number of / needed to close</text>
<text text-anchor="middle" x="997.5" y="-871.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;the block.</text>
<text text-anchor="middle" x="997.5" y="-855.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; header : &#160;The line after # and at least one !.</text>
<text text-anchor="middle" x="997.5" y="-840.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; footer : &#160;The line closing the block. Optional, as a code block may</text>
<text text-anchor="middle" x="997.5" y="-824.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end a file without a closing line.</text>
<text text-anchor="middle" x="997.5" y="-809.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; lines &#160;: &#160;Array containing the lines of code. &#160;Header and footer</text>
<text text-anchor="middle" x="997.5" y="-794.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;are not included.</text>
<text text-anchor="middle" x="997.5" y="-778.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; line_first : &#160;The first (header) line of the block. </text>
<text text-anchor="middle" x="997.5" y="-763.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; line_last &#160;: &#160;The closing line of the block. Note that code blocks also</text>
<text text-anchor="middle" x="997.5" y="-747.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;collect blank lines and may have a clinging tag. </text>
<text text-anchor="middle" x="997.5" y="-732.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="997.5" y="-717.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> To be added:</text>
<text text-anchor="middle" x="997.5" y="-701.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; [ ] lang : The language, derived from the header line.</text>
</g>
<!-- block_10&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>block_10&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1337.111,-985.6826C1324.7643,-971.4384 1305.9331,-951.4952 1286.5,-937.6014 1271.67,-926.9986 1255.9141,-916.8189 1239.7107,-907.1271"/>
<polygon fill="#000000" stroke="#000000" points="1241.0575,-903.8581 1230.6658,-901.7934 1237.5018,-909.8878 1241.0575,-903.8581"/>
</g>
<!-- codeblock_17 -->
<g id="node18" class="node">
<title>codeblock_17</title>
<ellipse fill="none" stroke="#000000" cx="1359.5" cy="-797.5012" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1359.5" y="-793.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 36&#45;48</text>
</g>
<!-- block_11&#45;&gt;codeblock_17 -->
<g id="edge17" class="edge">
<title>block_11&#45;&gt;codeblock_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1470.8867,-985.3068C1449.391,-949.0635 1400.6106,-866.8164 1375.3388,-824.2065"/>
<polygon fill="#000000" stroke="#000000" points="1378.2873,-822.3166 1370.1756,-815.501 1372.2665,-825.8875 1378.2873,-822.3166"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="1508.5,-815.5012 1454.5,-815.5012 1454.5,-779.5012 1508.5,-779.5012 1508.5,-815.5012"/>
</g>
<!-- block_11&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>block_11&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1481.5,-984.947C1481.5,-948.9614 1481.5,-868.6448 1481.5,-825.7611"/>
<polygon fill="#000000" stroke="#000000" points="1485.0001,-825.7148 1481.5,-815.7148 1478.0001,-825.7148 1485.0001,-825.7148"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1900,-816.8017 1527,-816.8017 1527,-778.2006 1900,-778.2006 1900,-816.8017"/>
<text text-anchor="middle" x="1713.5" y="-801.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> Adds a .val field which is the union of all lines.</text>
<text text-anchor="middle" x="1713.5" y="-786.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> Useful in visualization. </text>
</g>
<!-- block_12&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>block_12&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1667.0259,-984.947C1675.8767,-949.2485 1695.5441,-869.9236 1706.2372,-826.7947"/>
<polygon fill="#000000" stroke="#000000" points="1709.6787,-827.4578 1708.6881,-816.9094 1702.8844,-825.7732 1709.6787,-827.4578"/>
</g>
<!-- codeblock_21 -->
<g id="node22" class="node">
<title>codeblock_21</title>
<ellipse fill="none" stroke="#000000" cx="1995.5" cy="-797.5012" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1995.5" y="-793.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 53&#45;75</text>
</g>
<!-- block_13&#45;&gt;codeblock_21 -->
<g id="edge21" class="edge">
<title>block_13&#45;&gt;codeblock_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1995.5,-984.947C1995.5,-948.9614 1995.5,-868.6448 1995.5,-825.7611"/>
<polygon fill="#000000" stroke="#000000" points="1999.0001,-825.7148 1995.5,-815.7148 1992.0001,-825.7148 1999.0001,-825.7148"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="2144.5,-815.5012 2090.5,-815.5012 2090.5,-779.5012 2144.5,-779.5012 2144.5,-815.5012"/>
</g>
<!-- block_13&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>block_13&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2013.5708,-986.0278C2032.725,-966.9691 2062.7444,-934.5349 2081.5,-901.6014 2095.2443,-877.4673 2104.9805,-847.2117 2110.8326,-825.548"/>
<polygon fill="#000000" stroke="#000000" points="2114.2725,-826.2261 2113.3941,-815.6678 2107.4965,-824.4694 2114.2725,-826.2261"/>
</g>
<!-- header_24 -->
<g id="node25" class="node">
<title>header_24</title>
<ellipse fill="none" stroke="#000000" cx="2380.5" cy="-797.5012" rx="50.8" ry="18"/>
<text text-anchor="middle" x="2380.5" y="-793.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : asserts</text>
</g>
<!-- section_14&#45;&gt;header_24 -->
<g id="edge24" class="edge">
<title>section_14&#45;&gt;header_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3124.9305,-1001.5182C2959.3896,-996.3526 2551.7088,-976.1989 2440.5,-901.6014 2413.8218,-883.7059 2397.5281,-849.6694 2388.7794,-825.3875"/>
<polygon fill="#000000" stroke="#000000" points="2392.0059,-824.003 2385.4836,-815.6537 2385.3756,-826.248 2392.0059,-824.003"/>
</g>
<!-- block_25 -->
<g id="node26" class="node">
<title>block_25</title>
<ellipse fill="none" stroke="#000000" cx="2505.5" cy="-797.5012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2505.5" y="-793.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 77&#45;78</text>
</g>
<!-- section_14&#45;&gt;block_25 -->
<g id="edge25" class="edge">
<title>section_14&#45;&gt;block_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3126.6655,-999.1275C2983.8045,-989.5475 2660.8919,-961.7175 2570.5,-901.6014 2543.0563,-883.3496 2525.0457,-849.1464 2515.0884,-824.933"/>
<polygon fill="#000000" stroke="#000000" points="2518.3264,-823.6027 2511.4278,-815.5616 2511.8062,-826.1497 2518.3264,-823.6027"/>
</g>
<!-- block_26 -->
<g id="node27" class="node">
<title>block_26</title>
<ellipse fill="none" stroke="#000000" cx="2635.5" cy="-797.5012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2635.5" y="-793.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 79&#45;87</text>
</g>
<!-- section_14&#45;&gt;block_26 -->
<g id="edge26" class="edge">
<title>section_14&#45;&gt;block_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3153.0893,-988.8037C3096.4632,-969.475 2993.1184,-933.8318 2905.5,-901.6014 2825.8255,-872.2931 2733.6921,-836.3188 2680.2631,-815.2489"/>
<polygon fill="#000000" stroke="#000000" points="2681.3356,-811.9094 2670.7489,-811.4931 2678.7652,-818.4205 2681.3356,-811.9094"/>
</g>
<!-- block_27 -->
<g id="node28" class="node">
<title>block_27</title>
<ellipse fill="none" stroke="#000000" cx="2970.5" cy="-797.5012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2970.5" y="-793.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 88&#45;96</text>
</g>
<!-- section_14&#45;&gt;block_27 -->
<g id="edge27" class="edge">
<title>section_14&#45;&gt;block_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3176.3166,-985.6636C3136.032,-948.8345 3042.5802,-863.3986 2996.7701,-821.5179"/>
<polygon fill="#000000" stroke="#000000" points="2999.0596,-818.8688 2989.3175,-814.7045 2994.3364,-824.0352 2999.0596,-818.8688"/>
</g>
<!-- block_28 -->
<g id="node29" class="node">
<title>block_28</title>
<ellipse fill="none" stroke="#000000" cx="3195.5" cy="-797.5012" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="3195.5" y="-793.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 97&#45;109</text>
</g>
<!-- section_14&#45;&gt;block_28 -->
<g id="edge28" class="edge">
<title>section_14&#45;&gt;block_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3195.5,-984.947C3195.5,-948.9614 3195.5,-868.6448 3195.5,-825.7611"/>
<polygon fill="#000000" stroke="#000000" points="3199.0001,-825.7148 3195.5,-815.7148 3192.0001,-825.7148 3199.0001,-825.7148"/>
</g>
<!-- block_29 -->
<g id="node30" class="node">
<title>block_29</title>
<ellipse fill="none" stroke="#000000" cx="3377.5" cy="-797.5012" rx="63.9154" ry="18"/>
<text text-anchor="middle" x="3377.5" y="-793.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 110&#45;111</text>
</g>
<!-- section_14&#45;&gt;block_29 -->
<g id="edge29" class="edge">
<title>section_14&#45;&gt;block_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3211.3329,-985.3068C3243.7505,-948.6677 3317.7652,-865.0147 3355.094,-822.825"/>
<polygon fill="#000000" stroke="#000000" points="3357.8281,-825.0167 3361.8333,-815.208 3352.5855,-820.3781 3357.8281,-825.0167"/>
</g>
<!-- block_30 -->
<g id="node31" class="node">
<title>block_30</title>
<ellipse fill="none" stroke="#000000" cx="3670.5" cy="-797.5012" rx="65.0229" ry="18"/>
<text text-anchor="middle" x="3670.5" y="-793.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 112&#45;121</text>
</g>
<!-- section_14&#45;&gt;block_30 -->
<g id="edge30" class="edge">
<title>section_14&#45;&gt;block_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3235.1328,-988.2974C3285.5489,-969.1358 3375.1259,-934.4114 3450.5,-901.6014 3513.6656,-874.1056 3585.6065,-839.4094 3629.5256,-817.8363"/>
<polygon fill="#000000" stroke="#000000" points="3631.2999,-820.864 3638.7262,-813.3075 3628.2085,-814.5836 3631.2999,-820.864"/>
</g>
<!-- block_31 -->
<g id="node32" class="node">
<title>block_31</title>
<ellipse fill="none" stroke="#000000" cx="4135.5" cy="-797.5012" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4135.5" y="-793.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 122&#45;134</text>
</g>
<!-- section_14&#45;&gt;block_31 -->
<g id="edge31" class="edge">
<title>section_14&#45;&gt;block_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3255.5182,-993.6541C3356.8057,-977.1937 3567.9079,-941.3874 3744.5,-901.6014 3865.503,-874.3395 4005.5983,-835.1605 4080.8832,-813.4731"/>
<polygon fill="#000000" stroke="#000000" points="4081.9876,-816.7973 4090.6241,-810.6604 4080.0456,-810.072 4081.9876,-816.7973"/>
</g>
<!-- block_32 -->
<g id="node33" class="node">
<title>block_32</title>
<ellipse fill="none" stroke="#000000" cx="4323.5" cy="-797.5012" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4323.5" y="-793.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 135&#45;136</text>
</g>
<!-- section_14&#45;&gt;block_32 -->
<g id="edge32" class="edge">
<title>section_14&#45;&gt;block_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3265.9667,-1001.9099C3467.2165,-997.323 4040.9708,-977.7352 4210.5,-901.6014 4249.4135,-884.1257 4283.8064,-847.8595 4304.141,-823.0993"/>
<polygon fill="#000000" stroke="#000000" points="4306.9599,-825.1786 4310.4843,-815.1872 4301.4984,-820.8 4306.9599,-825.1786"/>
</g>
<!-- block_33 -->
<g id="node34" class="node">
<title>block_33</title>
<ellipse fill="none" stroke="#000000" cx="4556.5" cy="-797.5012" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4556.5" y="-793.3012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 137&#45;157</text>
</g>
<!-- section_14&#45;&gt;block_33 -->
<g id="edge33" class="edge">
<title>section_14&#45;&gt;block_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3266.0833,-1001.7943C3490.7636,-996.6061 4186.9525,-974.8705 4398.5,-901.6014 4449.287,-884.0114 4499.6959,-846.3824 4529.4643,-821.5148"/>
<polygon fill="#000000" stroke="#000000" points="4531.9376,-824.0062 4537.2963,-814.8665 4527.4076,-818.6696 4531.9376,-824.0062"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1539,-580.9013 1180,-580.9013 1180,-400.1001 1539,-400.1001 1539,-580.9013"/>
<text text-anchor="middle" x="1359.5" y="-565.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1359.5" y="-534.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="1359.5" y="-502.7007" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="1359.5" y="-471.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">local CB = setmetatable({}, Node)</text>
<text text-anchor="middle" x="1359.5" y="-439.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">CB.__index = CB</text>
<text text-anchor="middle" x="1359.5" y="-408.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">CB.__tostring = function() return &quot;codeblock&quot; end</text>
</g>
<!-- codeblock_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>codeblock_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1359.5,-779.2163C1359.5,-742.8728 1359.5,-659.1961 1359.5,-591.2326"/>
<polygon fill="#000000" stroke="#000000" points="1363.0001,-590.8987 1359.5,-580.8987 1356.0001,-590.8988 1363.0001,-590.8987"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="2092.5,-657.3013 1670.5,-657.3013 1670.5,-323.7001 2092.5,-323.7001 2092.5,-657.3013"/>
<text text-anchor="middle" x="1881.5" y="-642.201" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.toValue(codeblock)</text>
<text text-anchor="middle" x="1881.5" y="-626.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.val = &quot;&quot;</text>
<text text-anchor="middle" x="1881.5" y="-611.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(codeblock.lines) do</text>
<text text-anchor="middle" x="1881.5" y="-596.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;codeblock.val = codeblock.val .. v .. &quot;\n&quot;</text>
<text text-anchor="middle" x="1881.5" y="-580.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1881.5" y="-549.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return codeblock.val</text>
<text text-anchor="middle" x="1881.5" y="-533.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1881.5" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.toMarkdown(codeblock)</text>
<text text-anchor="middle" x="1881.5" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; hardcode lua</text>
<text text-anchor="middle" x="1881.5" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return &quot;```&quot; .. codeblock.lang .. &quot;\n&quot; </text>
<text text-anchor="middle" x="1881.5" y="-456.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. codeblock:toValue() .. &quot;```\n&quot;</text>
<text text-anchor="middle" x="1881.5" y="-440.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1881.5" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.dotLabel(codeblock)</text>
<text text-anchor="middle" x="1881.5" y="-394.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;code block &quot; .. tostring(codeblock.line_first)</text>
<text text-anchor="middle" x="1881.5" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;&#45;&quot; .. tostring(codeblock.line_last)</text>
<text text-anchor="middle" x="1881.5" y="-363.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1881.5" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">local cb = {}</text>
</g>
<!-- codeblock_21&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>codeblock_21&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1988.7102,-779.2163C1980.0328,-755.8482 1964.089,-712.9117 1947.1019,-667.1656"/>
<polygon fill="#000000" stroke="#000000" points="1950.3404,-665.8324 1943.5781,-657.6763 1943.7782,-668.2692 1950.3404,-665.8324"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2164.5,-508.5007 2110.5,-508.5007 2110.5,-472.5007 2164.5,-472.5007 2164.5,-508.5007"/>
</g>
<!-- block_25&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>block_25&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2499.6539,-779.3161C2490.9124,-755.3177 2472.0037,-713.742 2440.5,-693.401 2339.9059,-628.4502 2261.4232,-738.6862 2173.5,-657.401 2135.1673,-621.9623 2132.5387,-556.2939 2134.6308,-518.7612"/>
<polygon fill="#000000" stroke="#000000" points="2138.1405,-518.748 2135.3585,-508.5249 2131.1581,-518.2515 2138.1405,-518.748"/>
</g>
<!-- codeblock_35 -->
<g id="node36" class="node">
<title>codeblock_35</title>
<ellipse fill="none" stroke="#000000" cx="2259.5" cy="-490.5007" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2259.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 79&#45;84</text>
</g>
<!-- block_26&#45;&gt;codeblock_35 -->
<g id="edge35" class="edge">
<title>block_26&#45;&gt;codeblock_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2629.5798,-779.4293C2620.7544,-755.5592 2601.7508,-714.1284 2570.5,-693.401 2486.1043,-637.4244 2427.5193,-716.8049 2345.5,-657.401 2298.6864,-623.4954 2275.463,-556.4802 2265.6104,-518.4932"/>
<polygon fill="#000000" stroke="#000000" points="2268.9645,-517.4751 2263.1776,-508.6003 2262.167,-519.1468 2268.9645,-517.4751"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="2608.5,-510.4028 2354.5,-510.4028 2354.5,-470.5986 2608.5,-470.5986 2608.5,-510.4028"/>
<text text-anchor="middle" x="2481.5" y="-479.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> Matches a code block header line.</text>
</g>
<!-- block_26&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>block_26&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2626.5547,-779.6686C2600.9707,-728.6667 2527.3262,-581.8557 2495.9434,-519.2937"/>
<polygon fill="#000000" stroke="#000000" points="2499.0689,-517.7184 2491.4566,-510.3493 2492.812,-520.8571 2499.0689,-517.7184"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="3056,-556.3011 2627,-556.3011 2627,-424.7003 3056,-424.7003 3056,-556.3011"/>
<text text-anchor="middle" x="2841.5" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #args</text>
<text text-anchor="middle" x="2841.5" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; str : &#160;The string to match against.</text>
<text text-anchor="middle" x="2841.5" y="-510.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="2841.5" y="-495.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return 3</text>
<text text-anchor="middle" x="2841.5" y="-479.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; boolean : &#160;For header match</text>
<text text-anchor="middle" x="2841.5" y="-464.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; number &#160;: &#160;Level of header</text>
<text text-anchor="middle" x="2841.5" y="-448.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; string &#160;: &#160;Header stripped of left whitespace and tars</text>
</g>
<!-- block_27&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>block_27&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2962.8168,-779.2163C2945.5826,-738.2015 2903.0179,-636.904 2873.1988,-565.939"/>
<polygon fill="#000000" stroke="#000000" points="2876.3635,-564.4354 2869.2629,-556.5721 2869.9101,-567.1472 2876.3635,-564.4354"/>
</g>
<!-- codeblock_39 -->
<g id="node40" class="node">
<title>codeblock_39</title>
<ellipse fill="none" stroke="#000000" cx="3156.5" cy="-490.5007" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="3156.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 97&#45;108</text>
</g>
<!-- block_28&#45;&gt;codeblock_39 -->
<g id="edge39" class="edge">
<title>block_28&#45;&gt;codeblock_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3193.1772,-779.2163C3186.6335,-727.7061 3168.0111,-581.1135 3160.1125,-518.9374"/>
<polygon fill="#000000" stroke="#000000" points="3163.5431,-518.1689 3158.8107,-508.6898 3156.5989,-519.0512 3163.5431,-518.1689"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="3310.5,-508.5007 3256.5,-508.5007 3256.5,-472.5007 3310.5,-472.5007 3310.5,-508.5007"/>
</g>
<!-- block_28&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>block_28&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3203.2525,-779.2012C3214.2511,-752.7152 3234.491,-701.982 3247.5,-657.401 3261.5111,-609.3858 3272.6923,-552.1564 3278.6869,-518.7202"/>
<polygon fill="#000000" stroke="#000000" points="3282.1566,-519.1983 3280.448,-508.7421 3275.2631,-517.9816 3282.1566,-519.1983"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="3582.5,-508.5007 3328.5,-508.5007 3328.5,-472.5007 3582.5,-472.5007 3582.5,-508.5007"/>
<text text-anchor="middle" x="3455.5" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> Matches a code block footer line.</text>
</g>
<!-- block_29&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>block_29&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3382.1457,-779.2163C3395.26,-727.5994 3432.6322,-580.5061 3448.3729,-518.5523"/>
<polygon fill="#000000" stroke="#000000" points="3451.8084,-519.2437 3450.8787,-508.6898 3445.0239,-517.52 3451.8084,-519.2437"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="4030,-564.2011 3601,-564.2011 3601,-416.8003 4030,-416.8003 4030,-564.2011"/>
<text text-anchor="middle" x="3815.5" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #args</text>
<text text-anchor="middle" x="3815.5" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; str &#160;&#160;: &#160;The string to match against.</text>
<text text-anchor="middle" x="3815.5" y="-518.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; level : &#160;Required level for a match.</text>
<text text-anchor="middle" x="3815.5" y="-502.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="3815.5" y="-487.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return 3</text>
<text text-anchor="middle" x="3815.5" y="-471.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; boolean : &#160;For footer match</text>
<text text-anchor="middle" x="3815.5" y="-456.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; number &#160;: &#160;Level of header</text>
<text text-anchor="middle" x="3815.5" y="-441.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; string &#160;: &#160;Header stripped of left whitespace and tars</text>
</g>
<!-- block_30&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>block_30&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3679.1362,-779.2163C3697.8077,-739.684 3742.9305,-644.148 3776.181,-573.7486"/>
<polygon fill="#000000" stroke="#000000" points="3779.4783,-574.9626 3780.5844,-564.4256 3773.1488,-571.973 3779.4783,-574.9626"/>
</g>
<!-- codeblock_44 -->
<g id="node45" class="node">
<title>codeblock_44</title>
<ellipse fill="none" stroke="#000000" cx="4135.5" cy="-490.5007" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4135.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 122&#45;133</text>
</g>
<!-- block_31&#45;&gt;codeblock_44 -->
<g id="edge44" class="edge">
<title>block_31&#45;&gt;codeblock_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4135.5,-779.2163C4135.5,-727.7061 4135.5,-581.1135 4135.5,-518.9374"/>
<polygon fill="#000000" stroke="#000000" points="4139.0001,-518.6897 4135.5,-508.6898 4132.0001,-518.6898 4139.0001,-518.6897"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="4294.5,-508.5007 4240.5,-508.5007 4240.5,-472.5007 4294.5,-472.5007 4294.5,-508.5007"/>
</g>
<!-- block_31&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>block_31&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4151.0248,-779.8337C4172.4395,-754.5087 4210.7436,-705.606 4231.5,-657.401 4251.3868,-611.2154 4260.7255,-552.9517 4264.763,-518.8981"/>
<polygon fill="#000000" stroke="#000000" points="4268.266,-519.0643 4265.8943,-508.7384 4261.309,-518.2896 4268.266,-519.0643"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="4412.5,-508.5007 4312.5,-508.5007 4312.5,-472.5007 4412.5,-472.5007 4412.5,-508.5007"/>
<text text-anchor="middle" x="4362.5" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> Constructor</text>
</g>
<!-- block_32&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>block_32&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4325.8228,-779.2163C4332.3665,-727.7061 4350.9889,-581.1135 4358.8875,-518.9374"/>
<polygon fill="#000000" stroke="#000000" points="4362.4011,-519.0512 4360.1893,-508.6898 4355.4569,-518.1689 4362.4011,-519.0512"/>
</g>
<!-- codeblock_48 -->
<g id="node49" class="node">
<title>codeblock_48</title>
<ellipse fill="none" stroke="#000000" cx="4556.5" cy="-490.5007" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4556.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 137&#45;156</text>
</g>
<!-- block_33&#45;&gt;codeblock_48 -->
<g id="edge48" class="edge">
<title>block_33&#45;&gt;codeblock_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4556.5,-779.2163C4556.5,-727.7061 4556.5,-581.1135 4556.5,-518.9374"/>
<polygon fill="#000000" stroke="#000000" points="4560.0001,-518.6897 4556.5,-508.6898 4553.0001,-518.6898 4560.0001,-518.6897"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="4715.5,-508.5007 4661.5,-508.5007 4661.5,-472.5007 4715.5,-472.5007 4715.5,-508.5007"/>
</g>
<!-- block_33&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>block_33&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4572.0248,-779.8337C4593.4395,-754.5087 4631.7436,-705.606 4652.5,-657.401 4672.3868,-611.2154 4681.7255,-552.9517 4685.763,-518.8981"/>
<polygon fill="#000000" stroke="#000000" points="4689.266,-519.0643 4686.8943,-508.7384 4682.309,-518.2896 4689.266,-519.0643"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2372.5,-178.4015 2146.5,-178.4015 2146.5,-109.199 2372.5,-109.199 2372.5,-178.4015"/>
<text text-anchor="middle" x="2259.5" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.check(codeblock)</text>
<text text-anchor="middle" x="2259.5" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert(codeblock.line_first)</text>
<text text-anchor="middle" x="2259.5" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert(codeblock.line_last)</text>
<text text-anchor="middle" x="2259.5" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_35&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>codeblock_35&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259.5,-472.3487C2259.5,-419.7197 2259.5,-265.92 2259.5,-188.8746"/>
<polygon fill="#000000" stroke="#000000" points="2263.0001,-188.5311 2259.5,-178.5311 2256.0001,-188.5311 2263.0001,-188.5311"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="3381.5,-224.8005 2931.5,-224.8005 2931.5,-62.7999 3381.5,-62.7999 3381.5,-224.8005"/>
<text text-anchor="middle" x="3156.5" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">function cb.matchHead(str)</text>
<text text-anchor="middle" x="3156.5" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if str ~= &quot;&quot; and L.match(m.codestart, str) then</text>
<text text-anchor="middle" x="3156.5" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local trimmed = str:sub(L.match(m.WS * m.hax, str))</text>
<text text-anchor="middle" x="3156.5" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local level = L.match(m.zaps, trimmed) &#45; 1</text>
<text text-anchor="middle" x="3156.5" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local bareline = trimmed:sub(L.match(m.zaps, trimmed))</text>
<text text-anchor="middle" x="3156.5" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, level, bareline</text>
<text text-anchor="middle" x="3156.5" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="3156.5" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return false, 0, &quot;&quot;</text>
<text text-anchor="middle" x="3156.5" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3156.5" y="-71.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_39&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>codeblock_39&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3156.5,-472.3487C3156.5,-428.9242 3156.5,-316.6228 3156.5,-235.3905"/>
<polygon fill="#000000" stroke="#000000" points="3160.0001,-235.1459 3156.5,-225.146 3153.0001,-235.146 3160.0001,-235.1459"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="4344,-224.8005 3887,-224.8005 3887,-62.7999 4344,-62.7999 4344,-224.8005"/>
<text text-anchor="middle" x="4115.5" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">function cb.matchFoot(str)</text>
<text text-anchor="middle" x="4115.5" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if str ~= &quot;&quot; and L.match(m.codefinish, str) then</text>
<text text-anchor="middle" x="4115.5" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local trimmed = str:sub(L.match(m.WS * m.hax &#160;&#160;&#160;, str))</text>
<text text-anchor="middle" x="4115.5" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local level = L.match(m.fass, trimmed) &#45; 1</text>
<text text-anchor="middle" x="4115.5" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local bareline = trimmed:sub(L.match(m.fass, trimmed))</text>
<text text-anchor="middle" x="4115.5" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, level, bareline</text>
<text text-anchor="middle" x="4115.5" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="4115.5" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return false, 0, &quot;&quot;</text>
<text text-anchor="middle" x="4115.5" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4115.5" y="-71.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_44&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>codeblock_44&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4134.4529,-472.3487C4131.9479,-428.9242 4125.4696,-316.6228 4120.7835,-235.3905"/>
<polygon fill="#000000" stroke="#000000" points="4124.2628,-234.9278 4120.1926,-225.146 4117.2744,-235.331 4124.2628,-234.9278"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="4791,-287.4009 4362,-287.4009 4362,-.1995 4791,-.1995 4791,-287.4009"/>
<text text-anchor="middle" x="4576.5" y="-272.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Codeblock, level, headline, linum)</text>
<text text-anchor="middle" x="4576.5" y="-257.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local codeblock = setmetatable({}, CB)</text>
<text text-anchor="middle" x="4576.5" y="-241.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.id = &quot;codeblock&quot;</text>
<text text-anchor="middle" x="4576.5" y="-226.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.level = level</text>
<text text-anchor="middle" x="4576.5" y="-210.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.header = headline</text>
<text text-anchor="middle" x="4576.5" y="-195.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.lang = L.match(L.C(m.symbol), headline) or &quot;&quot;</text>
<text text-anchor="middle" x="4576.5" y="-180.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.footer = &quot;&quot;</text>
<text text-anchor="middle" x="4576.5" y="-164.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.line_first = linum</text>
<text text-anchor="middle" x="4576.5" y="-149.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.lines = {}</text>
<text text-anchor="middle" x="4576.5" y="-117.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return codeblock</text>
<text text-anchor="middle" x="4576.5" y="-102.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4576.5" y="-55.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">cb.__call = new</text>
<text text-anchor="middle" x="4576.5" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">cb.__index = cb</text>
<text text-anchor="middle" x="4576.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return setmetatable({}, cb)</text>
</g>
<!-- codeblock_48&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>codeblock_48&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4557.5471,-472.3487C4559.4508,-439.3485 4563.6491,-366.571 4567.6116,-297.8802"/>
<polygon fill="#000000" stroke="#000000" points="4571.1125,-297.9653 4568.1943,-287.7803 4564.1241,-297.5621 4571.1125,-297.9653"/>
</g>
</g>
</svg>