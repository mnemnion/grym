<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="4531pt" height="1121pt"
 viewBox="0.00 0.00 4531.00 1120.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1116.6012)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1116.6012 4527,-1116.6012 4527,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="719.5" cy="-1094.6012" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="719.5" y="-1090.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 157</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="719.5" cy="-1022.6012" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="719.5" y="-1018.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;15</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M719.5,-1076.4326C719.5,-1068.7322 719.5,-1059.5756 719.5,-1051.0179"/>
<polygon fill="#000000" stroke="#000000" points="723.0001,-1051.0144 719.5,-1041.0145 716.0001,-1051.0145 723.0001,-1051.0144"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="499.5" cy="-950.6012" rx="99.1626" ry="18"/>
<text text-anchor="middle" x="499.5" y="-946.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Code Block Module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M678.6353,-1009.2273C644.6427,-998.1025 595.8374,-982.1298 557.7514,-969.6653"/>
<polygon fill="#000000" stroke="#000000" points="558.4087,-966.1978 547.8161,-966.4138 556.2314,-972.8506 558.4087,-966.1978"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="662.5" cy="-950.6012" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="662.5" y="-946.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;6</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M705.4101,-1004.8035C698.5256,-996.1072 690.1187,-985.4879 682.5765,-975.961"/>
<polygon fill="#000000" stroke="#000000" points="685.1824,-973.6138 676.2311,-967.9458 679.694,-977.9588 685.1824,-973.6138"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="777.5" cy="-950.6012" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="777.5" y="-946.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 7&#45;15</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M733.8371,-1004.8035C740.8424,-996.1072 749.3968,-985.4879 757.0713,-975.961"/>
<polygon fill="#000000" stroke="#000000" points="759.9803,-977.929 763.528,-967.9458 754.529,-973.5377 759.9803,-977.929"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1282.5" cy="-950.6012" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1282.5" y="-946.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 16&#45;76</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M775.2819,-1015.4675C878.6876,-1002.2433 1099.863,-973.958 1212.8874,-959.5037"/>
<polygon fill="#000000" stroke="#000000" points="1213.3441,-962.9739 1222.8193,-958.2336 1212.4561,-956.0305 1213.3441,-962.9739"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="456.5" cy="-878.6012" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="456.5" y="-874.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_3&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>block_3&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M628.0202,-938.55C590.8,-925.541 531.7328,-904.8962 493.5441,-891.5487"/>
<polygon fill="#000000" stroke="#000000" points="494.4318,-888.1514 483.8369,-888.1559 492.1221,-894.7594 494.4318,-888.1514"/>
</g>
<!-- prose_8 -->
<g id="node9" class="node">
<title>prose_8</title>
<ellipse fill="none" stroke="#000000" cx="777.5" cy="-878.6012" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="777.5" y="-874.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_4&#45;&gt;prose_8 -->
<g id="edge8" class="edge">
<title>block_4&#45;&gt;prose_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M777.5,-932.4326C777.5,-924.7322 777.5,-915.5756 777.5,-907.0179"/>
<polygon fill="#000000" stroke="#000000" points="781.0001,-907.0144 777.5,-897.0145 774.0001,-907.0145 781.0001,-907.0144"/>
</g>
<!-- header_10 -->
<g id="node11" class="node">
<title>header_10</title>
<ellipse fill="none" stroke="#000000" cx="967.5" cy="-878.6012" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="967.5" y="-874.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Fields</text>
</g>
<!-- section_5&#45;&gt;header_10 -->
<g id="edge10" class="edge">
<title>section_5&#45;&gt;header_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1227.0486,-940.939C1174.1212,-931.2808 1092.3264,-915.2164 1022.5,-896.6012 1019.0962,-895.6938 1015.593,-894.6973 1012.0815,-893.6531"/>
<polygon fill="#000000" stroke="#000000" points="1012.8266,-890.2202 1002.2392,-890.6185 1010.7641,-896.9095 1012.8266,-890.2202"/>
</g>
<!-- block_11 -->
<g id="node12" class="node">
<title>block_11</title>
<ellipse fill="none" stroke="#000000" cx="1087.5" cy="-878.6012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1087.5" y="-874.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 16&#45;21</text>
</g>
<!-- section_5&#45;&gt;block_11 -->
<g id="edge11" class="edge">
<title>section_5&#45;&gt;block_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1243.0388,-936.0309C1211.4365,-924.3624 1167.0437,-907.9712 1133.7696,-895.6854"/>
<polygon fill="#000000" stroke="#000000" points="1134.8572,-892.3561 1124.2639,-892.1756 1132.4326,-898.9227 1134.8572,-892.3561"/>
</g>
<!-- block_12 -->
<g id="node13" class="node">
<title>block_12</title>
<ellipse fill="none" stroke="#000000" cx="1217.5" cy="-878.6012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1217.5" y="-874.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 22&#45;35</text>
</g>
<!-- section_5&#45;&gt;block_12 -->
<g id="edge12" class="edge">
<title>section_5&#45;&gt;block_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1266.4326,-932.8035C1258.4232,-923.9315 1248.6069,-913.0581 1239.8742,-903.385"/>
<polygon fill="#000000" stroke="#000000" points="1242.4573,-901.0231 1233.1583,-895.9458 1237.2614,-905.7139 1242.4573,-901.0231"/>
</g>
<!-- block_13 -->
<g id="node14" class="node">
<title>block_13</title>
<ellipse fill="none" stroke="#000000" cx="1347.5" cy="-878.6012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1347.5" y="-874.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 36&#45;49</text>
</g>
<!-- section_5&#45;&gt;block_13 -->
<g id="edge13" class="edge">
<title>section_5&#45;&gt;block_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1298.5674,-932.8035C1306.5768,-923.9315 1316.3931,-913.0581 1325.1258,-903.385"/>
<polygon fill="#000000" stroke="#000000" points="1327.7386,-905.7139 1331.8417,-895.9458 1322.5427,-901.0231 1327.7386,-905.7139"/>
</g>
<!-- block_14 -->
<g id="node15" class="node">
<title>block_14</title>
<ellipse fill="none" stroke="#000000" cx="1503.5" cy="-878.6012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1503.5" y="-874.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 50&#45;52</text>
</g>
<!-- section_5&#45;&gt;block_14 -->
<g id="edge14" class="edge">
<title>section_5&#45;&gt;block_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1324.8495,-936.8041C1361.8231,-924.7584 1415.4977,-907.2716 1454.3538,-894.6127"/>
<polygon fill="#000000" stroke="#000000" points="1455.4701,-897.9301 1463.894,-891.5045 1453.3016,-891.2744 1455.4701,-897.9301"/>
</g>
<!-- block_15 -->
<g id="node16" class="node">
<title>block_15</title>
<ellipse fill="none" stroke="#000000" cx="1765.5" cy="-878.6012" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1765.5" y="-874.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 53&#45;76</text>
</g>
<!-- section_5&#45;&gt;block_15 -->
<g id="edge15" class="edge">
<title>section_5&#45;&gt;block_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1340.2813,-941.9879C1432.2082,-928.2845 1610.928,-901.643 1704.7097,-887.6631"/>
<polygon fill="#000000" stroke="#000000" points="1705.2399,-891.1228 1714.6146,-886.1866 1704.2078,-884.1994 1705.2399,-891.1228"/>
</g>
<!-- section_16 -->
<g id="node17" class="node">
<title>section_16</title>
<ellipse fill="none" stroke="#000000" cx="2765.5" cy="-878.6012" rx="70.655" ry="18"/>
<text text-anchor="middle" x="2765.5" y="-874.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 77&#45;157</text>
</g>
<!-- section_5&#45;&gt;section_16 -->
<g id="edge16" class="edge">
<title>section_5&#45;&gt;section_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1347.1762,-947.4612C1586.6248,-935.8359 2422.4581,-895.256 2685.5645,-882.4821"/>
<polygon fill="#000000" stroke="#000000" points="2685.9817,-885.9661 2695.8002,-881.9852 2685.6422,-878.9743 2685.9817,-885.9661"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="499,-794.3014 0,-794.3014 0,-723.7007 499,-723.7007 499,-794.3014"/>
<text text-anchor="middle" x="249.5" y="-747.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Code blocks are the motivating object for Grimoire. &#160;Perforce they</text>
<text text-anchor="middle" x="249.5" y="-731.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> will do a lot of the heavy lifting.</text>
</g>
<!-- prose_6&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>prose_6&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M433.9533,-865.5742C406.6765,-849.8143 359.456,-822.5313 319.6223,-799.5162"/>
<polygon fill="#000000" stroke="#000000" points="321.1326,-796.3467 310.723,-794.3744 317.6306,-802.4078 321.1326,-796.3467"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="1037.5,-824.7015 517.5,-824.7015 517.5,-693.3007 1037.5,-693.3007 1037.5,-824.7015"/>
<text text-anchor="middle" x="777.5" y="-809.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> From the compiler&#39;s perspective, Code, Structure, and Prose are the</text>
<text text-anchor="middle" x="777.5" y="-794.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> three basic genres of Grimmorian text. &#160;In this implementation,</text>
<text text-anchor="middle" x="777.5" y="-778.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> you may think of Code as a clade diverged early from both Structure</text>
<text text-anchor="middle" x="777.5" y="-763.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> and Prose, with some later convergence toward the former. </text>
<text text-anchor="middle" x="777.5" y="-747.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="777.5" y="-732.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> Specifically, Structure and Prose will actually inherit from Block, and</text>
<text text-anchor="middle" x="777.5" y="-717.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> Code block, name notwithstanding, merely imitates some behaviours.</text>
<text text-anchor="middle" x="777.5" y="-701.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prose_8&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>prose_8&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M777.5,-860.4365C777.5,-853.1616 777.5,-844.2545 777.5,-834.7691"/>
<polygon fill="#000000" stroke="#000000" points="781.0001,-834.719 777.5,-824.7191 774.0001,-834.7191 781.0001,-834.719"/>
</g>
<!-- prose_17 -->
<g id="node18" class="node">
<title>prose_17</title>
<ellipse fill="none" stroke="#000000" cx="1087.5" cy="-759.0011" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1087.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_11&#45;&gt;prose_17 -->
<g id="edge17" class="edge">
<title>block_11&#45;&gt;prose_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1087.5,-860.4365C1087.5,-841.0305 1087.5,-810.0112 1087.5,-787.379"/>
<polygon fill="#000000" stroke="#000000" points="1091.0001,-787.3367 1087.5,-777.3367 1084.0001,-787.3368 1091.0001,-787.3367"/>
</g>
<!-- prose_19 -->
<g id="node20" class="node">
<title>prose_19</title>
<ellipse fill="none" stroke="#000000" cx="1193.5" cy="-759.0011" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1193.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_12&#45;&gt;prose_19 -->
<g id="edge19" class="edge">
<title>block_12&#45;&gt;prose_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1213.8549,-860.4365C1209.9381,-840.9176 1203.6637,-809.6501 1199.1155,-786.9851"/>
<polygon fill="#000000" stroke="#000000" points="1202.4999,-786.0608 1197.1007,-776.9448 1195.6367,-787.438 1202.4999,-786.0608"/>
</g>
<!-- codeblock_21 -->
<g id="node22" class="node">
<title>codeblock_21</title>
<ellipse fill="none" stroke="#000000" cx="1334.5" cy="-759.0011" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1334.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 36&#45;48</text>
</g>
<!-- block_13&#45;&gt;codeblock_21 -->
<g id="edge21" class="edge">
<title>block_13&#45;&gt;codeblock_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1345.5256,-860.4365C1343.4162,-841.0305 1340.0446,-810.0112 1337.5846,-787.379"/>
<polygon fill="#000000" stroke="#000000" points="1341.0532,-786.8999 1336.493,-777.3367 1334.0942,-787.6564 1341.0532,-786.8999"/>
</g>
<!-- prose_23 -->
<g id="node24" class="node">
<title>prose_23</title>
<ellipse fill="none" stroke="#000000" cx="1566.5" cy="-759.0011" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1566.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_14&#45;&gt;prose_23 -->
<g id="edge23" class="edge">
<title>block_14&#45;&gt;prose_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1512.9317,-860.6959C1523.4307,-840.7646 1540.5025,-808.3552 1552.5474,-785.4888"/>
<polygon fill="#000000" stroke="#000000" points="1555.6455,-787.1172 1557.2094,-776.6385 1549.4522,-783.8548 1555.6455,-787.1172"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="1897.5" cy="-759.0011" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1897.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 53&#45;75</text>
</g>
<!-- block_15&#45;&gt;codeblock_25 -->
<g id="edge25" class="edge">
<title>block_15&#45;&gt;codeblock_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1784.4124,-861.4654C1807.0239,-840.978 1845.0212,-806.5501 1870.663,-783.3171"/>
<polygon fill="#000000" stroke="#000000" points="1873.1329,-785.8022 1878.1934,-776.494 1868.4328,-780.6148 1873.1329,-785.8022"/>
</g>
<!-- header_27 -->
<g id="node28" class="node">
<title>header_27</title>
<ellipse fill="none" stroke="#000000" cx="2245.5" cy="-759.0011" rx="50.8" ry="18"/>
<text text-anchor="middle" x="2245.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : asserts</text>
</g>
<!-- section_16&#45;&gt;header_27 -->
<g id="edge27" class="edge">
<title>section_16&#45;&gt;header_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2695.1578,-876.307C2583.5865,-871.6823 2371.8776,-858.6037 2305.5,-824.6012 2287.9814,-815.6271 2273.0269,-799.3141 2262.4294,-785.2014"/>
<polygon fill="#000000" stroke="#000000" points="2265.0738,-782.8822 2256.4101,-776.7838 2259.3798,-786.9539 2265.0738,-782.8822"/>
</g>
<!-- block_28 -->
<g id="node29" class="node">
<title>block_28</title>
<ellipse fill="none" stroke="#000000" cx="2370.5" cy="-759.0011" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2370.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 77&#45;78</text>
</g>
<!-- section_16&#45;&gt;block_28 -->
<g id="edge28" class="edge">
<title>section_16&#45;&gt;block_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2698.7189,-872.5827C2615.9267,-864.2814 2480.2609,-847.6826 2435.5,-824.6012 2417.2747,-815.2032 2401.036,-798.8217 2389.348,-784.7805"/>
<polygon fill="#000000" stroke="#000000" points="2391.9895,-782.4796 2383.0115,-776.8541 2386.5219,-786.8505 2391.9895,-782.4796"/>
</g>
<!-- block_29 -->
<g id="node30" class="node">
<title>block_29</title>
<ellipse fill="none" stroke="#000000" cx="2500.5" cy="-759.0011" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2500.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 79&#45;87</text>
</g>
<!-- section_16&#45;&gt;block_29 -->
<g id="edge29" class="edge">
<title>section_16&#45;&gt;block_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2702.7331,-870.3412C2661.5831,-862.8986 2607.7803,-849.1955 2565.5,-824.6012 2547.8908,-814.358 2531.749,-798.1223 2519.956,-784.3661"/>
<polygon fill="#000000" stroke="#000000" points="2522.6115,-782.0853 2513.5367,-776.6173 2517.2209,-786.551 2522.6115,-782.0853"/>
</g>
<!-- block_30 -->
<g id="node31" class="node">
<title>block_30</title>
<ellipse fill="none" stroke="#000000" cx="2630.5" cy="-759.0011" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2630.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 88&#45;96</text>
</g>
<!-- section_16&#45;&gt;block_30 -->
<g id="edge30" class="edge">
<title>section_16&#45;&gt;block_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2741.8664,-861.5957C2727.9979,-851.3187 2710.3393,-837.7094 2695.5,-824.6012 2680.9717,-811.7678 2665.6678,-796.424 2653.5615,-783.8036"/>
<polygon fill="#000000" stroke="#000000" points="2655.8984,-781.1818 2646.4724,-776.3443 2650.8244,-786.0041 2655.8984,-781.1818"/>
</g>
<!-- block_31 -->
<g id="node32" class="node">
<title>block_31</title>
<ellipse fill="none" stroke="#000000" cx="2765.5" cy="-759.0011" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="2765.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 97&#45;109</text>
</g>
<!-- section_16&#45;&gt;block_31 -->
<g id="edge31" class="edge">
<title>section_16&#45;&gt;block_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2765.5,-860.4365C2765.5,-841.0305 2765.5,-810.0112 2765.5,-787.379"/>
<polygon fill="#000000" stroke="#000000" points="2769.0001,-787.3367 2765.5,-777.3367 2762.0001,-787.3368 2769.0001,-787.3367"/>
</g>
<!-- block_32 -->
<g id="node33" class="node">
<title>block_32</title>
<ellipse fill="none" stroke="#000000" cx="2907.5" cy="-759.0011" rx="63.9154" ry="18"/>
<text text-anchor="middle" x="2907.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 110&#45;111</text>
</g>
<!-- section_16&#45;&gt;block_32 -->
<g id="edge32" class="edge">
<title>section_16&#45;&gt;block_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2788.5702,-861.5535C2802.4009,-851.1497 2820.2132,-837.4249 2835.5,-824.6012 2851.2035,-811.428 2868.1776,-796.0229 2881.6986,-783.4525"/>
<polygon fill="#000000" stroke="#000000" points="2884.3096,-785.8029 2889.2249,-776.4172 2879.5295,-780.6891 2884.3096,-785.8029"/>
</g>
<!-- block_33 -->
<g id="node34" class="node">
<title>block_33</title>
<ellipse fill="none" stroke="#000000" cx="3160.5" cy="-759.0011" rx="65.0229" ry="18"/>
<text text-anchor="middle" x="3160.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 112&#45;121</text>
</g>
<!-- section_16&#45;&gt;block_33 -->
<g id="edge33" class="edge">
<title>section_16&#45;&gt;block_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2818.9358,-866.8008C2862.6969,-856.75 2926.0479,-841.3128 2980.5,-824.6012 3026.2763,-810.5523 3077.4921,-791.5584 3113.5527,-777.6242"/>
<polygon fill="#000000" stroke="#000000" points="3115.2503,-780.7197 3123.3046,-773.8366 3112.7159,-774.1946 3115.2503,-780.7197"/>
</g>
<!-- block_34 -->
<g id="node35" class="node">
<title>block_34</title>
<ellipse fill="none" stroke="#000000" cx="3518.5" cy="-759.0011" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="3518.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 122&#45;134</text>
</g>
<!-- section_16&#45;&gt;block_34 -->
<g id="edge34" class="edge">
<title>section_16&#45;&gt;block_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2833.0202,-873.2275C2924.457,-865.4041 3092.5491,-849.0878 3234.5,-824.6012 3313.7671,-810.9276 3404.0914,-788.9427 3461.1806,-774.2397"/>
<polygon fill="#000000" stroke="#000000" points="3462.2908,-777.5677 3471.0947,-771.6734 3460.5367,-770.7911 3462.2908,-777.5677"/>
</g>
<!-- block_35 -->
<g id="node36" class="node">
<title>block_35</title>
<ellipse fill="none" stroke="#000000" cx="3846.5" cy="-759.0011" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="3846.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 135&#45;136</text>
</g>
<!-- section_16&#45;&gt;block_35 -->
<g id="edge35" class="edge">
<title>section_16&#45;&gt;block_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2835.2042,-875.7497C3007.1585,-868.4425 3448.1599,-847.9687 3593.5,-824.6012 3663.8512,-813.2903 3743.0898,-791.1728 3793.842,-775.7621"/>
<polygon fill="#000000" stroke="#000000" points="3795.0641,-779.0484 3803.6016,-772.7746 3793.0151,-772.355 3795.0641,-779.0484"/>
</g>
<!-- block_36 -->
<g id="node37" class="node">
<title>block_36</title>
<ellipse fill="none" stroke="#000000" cx="4151.5" cy="-759.0011" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="4151.5" y="-754.8011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 137&#45;157</text>
</g>
<!-- section_16&#45;&gt;block_36 -->
<g id="edge36" class="edge">
<title>section_16&#45;&gt;block_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2836.0419,-877.4408C3053.388,-873.5286 3710.8336,-859.0871 3921.5,-824.6012 3985.0636,-814.1959 4056.0419,-792.3152 4102.1117,-776.686"/>
<polygon fill="#000000" stroke="#000000" points="4103.5122,-779.906 4111.8378,-773.3536 4101.2432,-773.2839 4103.5122,-779.906"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="559,-525.801 88,-525.801 88,-455.2004 559,-455.2004 559,-525.801"/>
<text text-anchor="middle" x="323.5" y="-478.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;Codeblock inherits from Node directly, and is born with these </text>
<text text-anchor="middle" x="323.5" y="-463.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> additional fields:</text>
</g>
<!-- prose_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>prose_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1081.5902,-741.1528C1075.442,-725.666 1064.2004,-704.1 1046.5,-693.401 955.3367,-638.2973 669.0455,-692.5827 568.5,-657.401 491.3514,-630.406 415.635,-572.6731 369.2643,-532.7284"/>
<polygon fill="#000000" stroke="#000000" points="371.3572,-529.9099 361.5166,-525.9838 366.761,-535.1896 371.3572,-529.9099"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1111.5,-594.7012 577.5,-594.7012 577.5,-386.3002 1111.5,-386.3002 1111.5,-594.7012"/>
<text text-anchor="middle" x="844.5" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; level &#160;: &#160;The number of !s, which is the number of / needed to close</text>
<text text-anchor="middle" x="844.5" y="-564.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;the block.</text>
<text text-anchor="middle" x="844.5" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; header : &#160;The line after # and at least one !.</text>
<text text-anchor="middle" x="844.5" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; footer : &#160;The line closing the block. Optional, as a code block may</text>
<text text-anchor="middle" x="844.5" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end a file without a closing line.</text>
<text text-anchor="middle" x="844.5" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; lines &#160;: &#160;Array containing the lines of code. &#160;Header and footer</text>
<text text-anchor="middle" x="844.5" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;are not included.</text>
<text text-anchor="middle" x="844.5" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; line_first : &#160;The first (header) line of the block. </text>
<text text-anchor="middle" x="844.5" y="-456.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; line_last &#160;: &#160;The closing line of the block. Note that code blocks also</text>
<text text-anchor="middle" x="844.5" y="-440.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;collect blank lines and may have a clinging tag. </text>
<text text-anchor="middle" x="844.5" y="-425.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="844.5" y="-410.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> To be added:</text>
<text text-anchor="middle" x="844.5" y="-394.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; [ ] lang : The language, derived from the header line.</text>
</g>
<!-- prose_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>prose_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1178.9697,-742.8659C1166.2375,-729.0965 1146.9356,-709.0928 1128.5,-693.401 1091.0502,-661.5249 1048.8019,-629.4673 1008.5616,-600.547"/>
<polygon fill="#000000" stroke="#000000" points="1010.4441,-597.5903 1000.2755,-594.6155 1006.3696,-603.2823 1010.4441,-597.5903"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1489,-580.9013 1130,-580.9013 1130,-400.1001 1489,-400.1001 1489,-580.9013"/>
<text text-anchor="middle" x="1309.5" y="-565.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1309.5" y="-534.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="1309.5" y="-502.7007" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="1309.5" y="-471.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">local CB = setmetatable({}, Node)</text>
<text text-anchor="middle" x="1309.5" y="-439.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">CB.__index = CB</text>
<text text-anchor="middle" x="1309.5" y="-408.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">CB.__tostring = function() return &quot;codeblock&quot; end</text>
</g>
<!-- codeblock_21&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>codeblock_21&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1332.8209,-740.9671C1329.9814,-710.4718 1324.0345,-646.6019 1318.857,-590.9949"/>
<polygon fill="#000000" stroke="#000000" points="1322.3122,-590.3503 1317.9001,-580.7179 1315.3423,-590.9993 1322.3122,-590.3503"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1880,-509.8013 1507,-509.8013 1507,-471.2001 1880,-471.2001 1880,-509.8013"/>
<text text-anchor="middle" x="1693.5" y="-494.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> Adds a .val field which is the union of all lines.</text>
<text text-anchor="middle" x="1693.5" y="-479.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> Useful in visualization. </text>
</g>
<!-- prose_23&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>prose_23&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1574.8328,-741.384C1596.2808,-696.0393 1653.5477,-574.967 1679.8932,-519.2679"/>
<polygon fill="#000000" stroke="#000000" points="1683.1779,-520.509 1684.2898,-509.9727 1676.85,-517.5159 1683.1779,-520.509"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="2320.5,-657.3013 1898.5,-657.3013 1898.5,-323.7001 2320.5,-323.7001 2320.5,-657.3013"/>
<text text-anchor="middle" x="2109.5" y="-642.201" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.toValue(codeblock)</text>
<text text-anchor="middle" x="2109.5" y="-626.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.val = &quot;&quot;</text>
<text text-anchor="middle" x="2109.5" y="-611.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(codeblock.lines) do</text>
<text text-anchor="middle" x="2109.5" y="-596.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;codeblock.val = codeblock.val .. v .. &quot;\n&quot;</text>
<text text-anchor="middle" x="2109.5" y="-580.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2109.5" y="-549.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return codeblock.val</text>
<text text-anchor="middle" x="2109.5" y="-533.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2109.5" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.toMarkdown(codeblock)</text>
<text text-anchor="middle" x="2109.5" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; hardcode lua</text>
<text text-anchor="middle" x="2109.5" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return &quot;```&quot; .. codeblock.lang .. &quot;\n&quot; </text>
<text text-anchor="middle" x="2109.5" y="-456.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. codeblock:toValue() .. &quot;```\n&quot;</text>
<text text-anchor="middle" x="2109.5" y="-440.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2109.5" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.dotLabel(codeblock)</text>
<text text-anchor="middle" x="2109.5" y="-394.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;code block &quot; .. tostring(codeblock.line_first)</text>
<text text-anchor="middle" x="2109.5" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;.. &quot;&#45;&quot; .. tostring(codeblock.line_last)</text>
<text text-anchor="middle" x="2109.5" y="-363.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2109.5" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">local cb = {}</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>codeblock_25&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1911.7391,-740.9671C1925.2615,-723.8408 1947.0952,-696.1882 1971.4169,-665.3845"/>
<polygon fill="#000000" stroke="#000000" points="1974.2005,-667.507 1977.6505,-657.4896 1968.7066,-663.1692 1974.2005,-667.507"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="2370.5" cy="-490.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2370.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_28&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>block_28&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2370.5,-740.9671C2370.5,-695.221 2370.5,-574.3721 2370.5,-518.9749"/>
<polygon fill="#000000" stroke="#000000" points="2374.0001,-518.8097 2370.5,-508.8098 2367.0001,-518.8098 2374.0001,-518.8097"/>
</g>
<!-- codeblock_39 -->
<g id="node40" class="node">
<title>codeblock_39</title>
<ellipse fill="none" stroke="#000000" cx="2499.5" cy="-490.5007" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2499.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 79&#45;84</text>
</g>
<!-- block_29&#45;&gt;codeblock_39 -->
<g id="edge39" class="edge">
<title>block_29&#45;&gt;codeblock_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2500.4328,-740.9671C2500.2625,-695.221 2499.8124,-574.3721 2499.606,-518.9749"/>
<polygon fill="#000000" stroke="#000000" points="2503.1055,-518.7966 2499.5682,-508.8098 2496.1056,-518.8228 2503.1055,-518.7966"/>
</g>
<!-- prose_41 -->
<g id="node42" class="node">
<title>prose_41</title>
<ellipse fill="none" stroke="#000000" cx="2629.5" cy="-490.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2629.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_30&#45;&gt;prose_41 -->
<g id="edge41" class="edge">
<title>block_30&#45;&gt;prose_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2630.4328,-740.9671C2630.2625,-695.221 2629.8124,-574.3721 2629.606,-518.9749"/>
<polygon fill="#000000" stroke="#000000" points="2633.1055,-518.7966 2629.5682,-508.8098 2626.1056,-518.8228 2633.1055,-518.7966"/>
</g>
<!-- codeblock_43 -->
<g id="node44" class="node">
<title>codeblock_43</title>
<ellipse fill="none" stroke="#000000" cx="2764.5" cy="-490.5007" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="2764.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 97&#45;108</text>
</g>
<!-- block_31&#45;&gt;codeblock_43 -->
<g id="edge43" class="edge">
<title>block_31&#45;&gt;codeblock_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2765.4328,-740.9671C2765.2625,-695.221 2764.8124,-574.3721 2764.606,-518.9749"/>
<polygon fill="#000000" stroke="#000000" points="2768.1055,-518.7966 2764.5682,-508.8098 2761.1056,-518.8228 2768.1055,-518.7966"/>
</g>
<!-- prose_45 -->
<g id="node46" class="node">
<title>prose_45</title>
<ellipse fill="none" stroke="#000000" cx="2907.5" cy="-490.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2907.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_32&#45;&gt;prose_45 -->
<g id="edge45" class="edge">
<title>block_32&#45;&gt;prose_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2907.5,-740.9671C2907.5,-695.221 2907.5,-574.3721 2907.5,-518.9749"/>
<polygon fill="#000000" stroke="#000000" points="2911.0001,-518.8097 2907.5,-508.8098 2904.0001,-518.8098 2911.0001,-518.8097"/>
</g>
<!-- prose_47 -->
<g id="node48" class="node">
<title>prose_47</title>
<ellipse fill="none" stroke="#000000" cx="3214.5" cy="-490.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3214.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_33&#45;&gt;prose_47 -->
<g id="edge47" class="edge">
<title>block_33&#45;&gt;prose_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3164.1269,-740.9671C3173.3494,-695.1108 3197.7493,-573.7892 3208.8537,-518.5755"/>
<polygon fill="#000000" stroke="#000000" points="3212.3484,-518.95 3210.8888,-508.4562 3205.4858,-517.5698 3212.3484,-518.95"/>
</g>
<!-- codeblock_49 -->
<g id="node50" class="node">
<title>codeblock_49</title>
<ellipse fill="none" stroke="#000000" cx="3623.5" cy="-490.5007" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3623.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 122&#45;133</text>
</g>
<!-- block_34&#45;&gt;codeblock_49 -->
<g id="edge49" class="edge">
<title>block_34&#45;&gt;codeblock_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3525.5524,-740.9671C3543.5597,-694.9197 3591.325,-572.7769 3612.7896,-517.8888"/>
<polygon fill="#000000" stroke="#000000" points="3616.0958,-519.0441 3616.4783,-508.4562 3609.5766,-516.4947 3616.0958,-519.0441"/>
</g>
<!-- prose_51 -->
<g id="node52" class="node">
<title>prose_51</title>
<ellipse fill="none" stroke="#000000" cx="3936.5" cy="-490.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3936.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_35&#45;&gt;prose_51 -->
<g id="edge51" class="edge">
<title>block_35&#45;&gt;prose_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3852.5449,-740.9671C3867.9477,-695.0152 3908.7517,-573.2834 3927.2048,-518.2313"/>
<polygon fill="#000000" stroke="#000000" points="3930.6217,-519.0501 3930.4814,-508.4562 3923.9846,-516.8253 3930.6217,-519.0501"/>
</g>
<!-- codeblock_53 -->
<g id="node54" class="node">
<title>codeblock_53</title>
<ellipse fill="none" stroke="#000000" cx="4236.5" cy="-490.5007" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4236.5" y="-486.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 137&#45;156</text>
</g>
<!-- block_36&#45;&gt;codeblock_53 -->
<g id="edge53" class="edge">
<title>block_36&#45;&gt;codeblock_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4157.2091,-740.9671C4171.7212,-695.1257 4210.1081,-573.8682 4227.5952,-518.6295"/>
<polygon fill="#000000" stroke="#000000" points="4231.0225,-519.3998 4230.7038,-508.8098 4224.3489,-517.2871 4231.0225,-519.3998"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="1602.5,-161.8002 1548.5,-161.8002 1548.5,-125.8002 1602.5,-125.8002 1602.5,-161.8002"/>
</g>
<!-- prose_37&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>prose_37&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2372.3059,-472.3575C2374.6693,-437.295 2374.1428,-360.4461 2329.5,-323.6004 2206.2892,-221.9093 1734.9352,-389.019 1611.5,-287.6004 1577.5881,-259.7372 1572.8824,-205.1794 1573.5198,-171.8597"/>
<polygon fill="#000000" stroke="#000000" points="1577.018,-171.9694 1573.8842,-161.8487 1570.0226,-171.7147 1577.018,-171.9694"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="1846.5,-178.4015 1620.5,-178.4015 1620.5,-109.199 1846.5,-109.199 1846.5,-178.4015"/>
<text text-anchor="middle" x="1733.5" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">function CB.check(codeblock)</text>
<text text-anchor="middle" x="1733.5" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert(codeblock.line_first)</text>
<text text-anchor="middle" x="1733.5" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert(codeblock.line_last)</text>
<text text-anchor="middle" x="1733.5" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_39&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>codeblock_39&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2496.0216,-472.5061C2488.1026,-436.9963 2465.0998,-358.3446 2411.5,-323.6004 2307.604,-256.2536 1966.1153,-343.2262 1855.5,-287.6004 1812.1371,-265.7943 1778.083,-221.0185 1757.0987,-187.19"/>
<polygon fill="#000000" stroke="#000000" points="1759.9579,-185.1543 1751.7889,-178.4076 1753.9676,-188.776 1759.9579,-185.1543"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="2294,-209.6006 1865,-209.6006 1865,-77.9998 2294,-77.9998 2294,-209.6006"/>
<text text-anchor="middle" x="2079.5" y="-194.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #args</text>
<text text-anchor="middle" x="2079.5" y="-179.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; str : &#160;The string to match against.</text>
<text text-anchor="middle" x="2079.5" y="-163.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="2079.5" y="-148.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return 3</text>
<text text-anchor="middle" x="2079.5" y="-132.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; boolean : &#160;For header match</text>
<text text-anchor="middle" x="2079.5" y="-117.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; number &#160;: &#160;Level of header</text>
<text text-anchor="middle" x="2079.5" y="-102.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; string &#160;: &#160;Header stripped of left whitespace and tars</text>
</g>
<!-- prose_41&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>prose_41&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2630.7077,-472.3508C2631.9236,-437.6232 2629.0924,-361.8341 2585.5,-323.6004 2538.0046,-281.9436 2362.8702,-309.1942 2303.5,-287.6004 2256.8661,-270.639 2209.9433,-242.6067 2171.1786,-215.7749"/>
<polygon fill="#000000" stroke="#000000" points="2172.7251,-212.5849 2162.5269,-209.713 2168.7083,-218.3177 2172.7251,-212.5849"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="2762.5,-224.8005 2312.5,-224.8005 2312.5,-62.7999 2762.5,-62.7999 2762.5,-224.8005"/>
<text text-anchor="middle" x="2537.5" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">function cb.matchHead(str)</text>
<text text-anchor="middle" x="2537.5" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if str ~= &quot;&quot; and L.match(m.codestart, str) then</text>
<text text-anchor="middle" x="2537.5" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local trimmed = str:sub(L.match(m.WS * m.hax, str))</text>
<text text-anchor="middle" x="2537.5" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local level = L.match(m.zaps, trimmed) &#45; 1</text>
<text text-anchor="middle" x="2537.5" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local bareline = trimmed:sub(L.match(m.zaps, trimmed))</text>
<text text-anchor="middle" x="2537.5" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, level, bareline</text>
<text text-anchor="middle" x="2537.5" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="2537.5" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return false, 0, &quot;&quot;</text>
<text text-anchor="middle" x="2537.5" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2537.5" y="-71.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_43&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>codeblock_43&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2755.3223,-472.5351C2739.255,-441.4853 2704.4956,-376.07 2670.5,-323.6004 2650.996,-293.4976 2628.2491,-261.7069 2607.1395,-233.3664"/>
<polygon fill="#000000" stroke="#000000" points="2609.7333,-230.9907 2600.9407,-225.0796 2604.128,-235.1836 2609.7333,-230.9907"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="3034.5,-161.8002 2780.5,-161.8002 2780.5,-125.8002 3034.5,-125.8002 3034.5,-161.8002"/>
<text text-anchor="middle" x="2907.5" y="-140.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> Matches a code block footer line.</text>
</g>
<!-- prose_45&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>prose_45&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2907.5,-472.3487C2907.5,-415.6121 2907.5,-241.2961 2907.5,-172.3221"/>
<polygon fill="#000000" stroke="#000000" points="2911.0001,-172.1908 2907.5,-162.1908 2904.0001,-172.1908 2911.0001,-172.1908"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="3482,-217.5006 3053,-217.5006 3053,-70.0998 3482,-70.0998 3482,-217.5006"/>
<text text-anchor="middle" x="3267.5" y="-202.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #args</text>
<text text-anchor="middle" x="3267.5" y="-186.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; str &#160;&#160;: &#160;The string to match against.</text>
<text text-anchor="middle" x="3267.5" y="-171.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; level : &#160;Required level for a match.</text>
<text text-anchor="middle" x="3267.5" y="-156.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="3267.5" y="-140.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; #return 3</text>
<text text-anchor="middle" x="3267.5" y="-125.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; boolean : &#160;For footer match</text>
<text text-anchor="middle" x="3267.5" y="-109.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; number &#160;: &#160;Level of header</text>
<text text-anchor="middle" x="3267.5" y="-94.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; string &#160;: &#160;Header stripped of left whitespace and tars</text>
</g>
<!-- prose_47&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>prose_47&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3217.2749,-472.3487C3224.1174,-427.5881 3242.1471,-309.6468 3254.631,-227.9833"/>
<polygon fill="#000000" stroke="#000000" points="3258.1496,-228.1268 3256.201,-217.7128 3251.23,-227.069 3258.1496,-228.1268"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="3957,-224.8005 3500,-224.8005 3500,-62.7999 3957,-62.7999 3957,-224.8005"/>
<text text-anchor="middle" x="3728.5" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">function cb.matchFoot(str)</text>
<text text-anchor="middle" x="3728.5" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if str ~= &quot;&quot; and L.match(m.codefinish, str) then</text>
<text text-anchor="middle" x="3728.5" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local trimmed = str:sub(L.match(m.WS * m.hax &#160;&#160;&#160;, str))</text>
<text text-anchor="middle" x="3728.5" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local level = L.match(m.fass, trimmed) &#45; 1</text>
<text text-anchor="middle" x="3728.5" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local bareline = trimmed:sub(L.match(m.fass, trimmed))</text>
<text text-anchor="middle" x="3728.5" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true, level, bareline</text>
<text text-anchor="middle" x="3728.5" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="3728.5" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return false, 0, &quot;&quot;</text>
<text text-anchor="middle" x="3728.5" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3728.5" y="-71.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_49&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>codeblock_49&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3628.9974,-472.3487C3642.1755,-428.8358 3676.2984,-316.1651 3700.9116,-234.8946"/>
<polygon fill="#000000" stroke="#000000" points="3704.3152,-235.7312 3703.864,-225.146 3697.6157,-233.7022 3704.3152,-235.7312"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="4075.5,-161.8002 3975.5,-161.8002 3975.5,-125.8002 4075.5,-125.8002 4075.5,-161.8002"/>
<text text-anchor="middle" x="4025.5" y="-140.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> Constructor</text>
</g>
<!-- prose_51&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>prose_51&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3941.1597,-472.3487C3955.7543,-415.4953 4000.6565,-240.5783 4018.2872,-171.8977"/>
<polygon fill="#000000" stroke="#000000" points="4021.6826,-172.747 4020.779,-162.1908 4014.9024,-171.0065 4021.6826,-172.747"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="4523,-287.4009 4094,-287.4009 4094,-.1995 4523,-.1995 4523,-287.4009"/>
<text text-anchor="middle" x="4308.5" y="-272.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Codeblock, level, headline, linum)</text>
<text text-anchor="middle" x="4308.5" y="-257.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local codeblock = setmetatable({}, CB)</text>
<text text-anchor="middle" x="4308.5" y="-241.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.id = &quot;codeblock&quot;</text>
<text text-anchor="middle" x="4308.5" y="-226.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.level = level</text>
<text text-anchor="middle" x="4308.5" y="-210.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.header = headline</text>
<text text-anchor="middle" x="4308.5" y="-195.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.lang = L.match(L.C(m.symbol), headline) or &quot;&quot;</text>
<text text-anchor="middle" x="4308.5" y="-180.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.footer = &quot;&quot;</text>
<text text-anchor="middle" x="4308.5" y="-164.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.line_first = linum</text>
<text text-anchor="middle" x="4308.5" y="-149.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;codeblock.lines = {}</text>
<text text-anchor="middle" x="4308.5" y="-117.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return codeblock</text>
<text text-anchor="middle" x="4308.5" y="-102.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4308.5" y="-55.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">cb.__call = new</text>
<text text-anchor="middle" x="4308.5" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">cb.__index = cb</text>
<text text-anchor="middle" x="4308.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return setmetatable({}, cb)</text>
</g>
<!-- codeblock_53&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>codeblock_53&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4240.2697,-472.3487C4247.1229,-439.3485 4262.2367,-366.571 4276.5019,-297.8802"/>
<polygon fill="#000000" stroke="#000000" points="4279.9928,-298.2831 4278.5994,-287.7803 4273.1391,-296.8597 4279.9928,-298.2831"/>
</g>
</g>
</svg>