<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="1605pt" height="377pt"
 viewBox="0.00 0.00 1604.74 377.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 373.4003)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-373.4003 1600.7369,-373.4003 1600.7369,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="89.7369" cy="-351.4003" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="89.7369" y="-347.2003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 54</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="89.7369" cy="-184.7002" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="89.7369" y="-180.5002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;34</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M89.7369,-333.2432C89.7369,-304.3084 89.7369,-247.5064 89.7369,-213.1406"/>
<polygon fill="#000000" stroke="#000000" points="93.237,-212.8349 89.7369,-202.835 86.237,-212.835 93.237,-212.8349"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="89.7369" cy="-18" rx="89.9744" ry="18"/>
<text text-anchor="middle" x="89.7369" y="-13.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Structure Module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M89.7369,-166.543C89.7369,-137.6082 89.7369,-80.8063 89.7369,-46.4404"/>
<polygon fill="#000000" stroke="#000000" points="93.237,-46.1348 89.7369,-36.1348 86.237,-46.1348 93.237,-46.1348"/>
</g>
<!-- codeblock_3 -->
<g id="node4" class="node">
<title>codeblock_3</title>
<ellipse fill="none" stroke="#000000" cx="330.7369" cy="-351.4003" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="330.7369" y="-347.2003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_3</text>
</g>
<!-- leaf_6 -->
<g id="node5" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="492.7369,-227.3012 168.7369,-227.3012 168.7369,-142.0991 492.7369,-142.0991 492.7369,-227.3012"/>
<text text-anchor="middle" x="330.7369" y="-212.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="330.7369" y="-196.9002" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;../lib/util&quot;</text>
<text text-anchor="middle" x="330.7369" y="-165.5002" font-family="Inconsolata" font-size="14.00" fill="#000000">local Hashline = require &quot;grym/hashline&quot;</text>
<text text-anchor="middle" x="330.7369" y="-150.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">local Handleline = require &quot;grym/handleline&quot;</text>
</g>
<!-- codeblock_3&#45;&gt;leaf_6 -->
<g id="edge3" class="edge">
<title>codeblock_3&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M330.7369,-333.2432C330.7369,-310.4761 330.7369,-270.4558 330.7369,-237.6877"/>
<polygon fill="#000000" stroke="#000000" points="334.237,-237.3345 330.7369,-227.3346 327.237,-237.3346 334.237,-237.3345"/>
</g>
<!-- section_4 -->
<g id="node6" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="627.7369" cy="-351.4003" rx="47.9272" ry="18"/>
<text text-anchor="middle" x="627.7369" y="-347.2003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section_4</text>
</g>
<!-- header_7 -->
<g id="node7" class="node">
<title>header_7</title>
<ellipse fill="none" stroke="#000000" cx="627.7369" cy="-184.7002" rx="116.5368" ry="18"/>
<text text-anchor="middle" x="627.7369" y="-180.5002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Metatable for Structures</text>
</g>
<!-- section_4&#45;&gt;header_7 -->
<g id="edge4" class="edge">
<title>section_4&#45;&gt;header_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M627.7369,-333.2432C627.7369,-304.3084 627.7369,-247.5064 627.7369,-213.1406"/>
<polygon fill="#000000" stroke="#000000" points="631.237,-212.8349 627.7369,-202.835 624.237,-212.835 631.237,-212.8349"/>
</g>
<!-- codeblock_8 -->
<g id="node8" class="node">
<title>codeblock_8</title>
<ellipse fill="none" stroke="#000000" cx="899.7369" cy="-351.4003" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="899.7369" y="-347.2003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_8</text>
</g>
<!-- leaf_9 -->
<g id="node9" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="1037.2369,-265.8009 762.2369,-265.8009 762.2369,-103.5994 1037.2369,-103.5994 1037.2369,-265.8009"/>
<text text-anchor="middle" x="899.7369" y="-250.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local S, s = u.inherit(Node)</text>
<text text-anchor="middle" x="899.7369" y="-219.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">function S.dotLabel(structure)</text>
<text text-anchor="middle" x="899.7369" y="-204.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; This is a shim and will break.</text>
<text text-anchor="middle" x="899.7369" y="-188.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if structure.temp_id then </text>
<text text-anchor="middle" x="899.7369" y="-173.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return structure.temp_id</text>
<text text-anchor="middle" x="899.7369" y="-157.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="899.7369" y="-142.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return &quot;structure&quot;</text>
<text text-anchor="middle" x="899.7369" y="-127.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="899.7369" y="-111.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_8&#45;&gt;leaf_9 -->
<g id="edge5" class="edge">
<title>codeblock_8&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M899.7369,-333.2432C899.7369,-318.9736 899.7369,-297.9263 899.7369,-276.135"/>
<polygon fill="#000000" stroke="#000000" points="903.237,-276.0921 899.7369,-266.0921 896.237,-276.0922 903.237,-276.0921"/>
</g>
<!-- section_5 -->
<g id="node10" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1154.7369" cy="-351.4003" rx="47.9272" ry="18"/>
<text text-anchor="middle" x="1154.7369" y="-347.2003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section_5</text>
</g>
<!-- header_10 -->
<g id="node11" class="node">
<title>header_10</title>
<ellipse fill="none" stroke="#000000" cx="1154.7369" cy="-184.7002" rx="99.6298" ry="18"/>
<text text-anchor="middle" x="1154.7369" y="-180.5002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Constructor module</text>
</g>
<!-- section_5&#45;&gt;header_10 -->
<g id="edge6" class="edge">
<title>section_5&#45;&gt;header_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1154.7369,-333.2432C1154.7369,-304.3084 1154.7369,-247.5064 1154.7369,-213.1406"/>
<polygon fill="#000000" stroke="#000000" points="1158.237,-212.8349 1154.7369,-202.835 1151.237,-212.835 1158.237,-212.8349"/>
</g>
<!-- codeblock_11 -->
<g id="node12" class="node">
<title>codeblock_11</title>
<ellipse fill="none" stroke="#000000" cx="1434.7369" cy="-351.4003" rx="64.0625" ry="18"/>
<text text-anchor="middle" x="1434.7369" y="-347.2003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_11</text>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="1596.7369,-297.6009 1272.7369,-297.6009 1272.7369,-71.7995 1596.7369,-71.7995 1596.7369,-297.6009"/>
<text text-anchor="middle" x="1434.7369" y="-282.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Structure, line, line_id)</text>
<text text-anchor="middle" x="1434.7369" y="-266.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local structure = setmetatable({}, S)</text>
<text text-anchor="middle" x="1434.7369" y="-251.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;structure.id = &quot;structure&quot;</text>
<text text-anchor="middle" x="1434.7369" y="-236.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if line_id == &quot;hashline&quot; then</text>
<text text-anchor="middle" x="1434.7369" y="-220.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;structure[1] = Hashline(line)</text>
<text text-anchor="middle" x="1434.7369" y="-205.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif line_id == &quot;handleline&quot; then</text>
<text text-anchor="middle" x="1434.7369" y="-189.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;structure[1] = Handleline(line)</text>
<text text-anchor="middle" x="1434.7369" y="-174.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1434.7369" y="-143.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return structure</text>
<text text-anchor="middle" x="1434.7369" y="-127.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1434.7369" y="-80.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return u.export(s, new)</text>
</g>
<!-- codeblock_11&#45;&gt;leaf_12 -->
<g id="edge7" class="edge">
<title>codeblock_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1434.7369,-333.2432C1434.7369,-326.2287 1434.7369,-317.5765 1434.7369,-308.0032"/>
<polygon fill="#000000" stroke="#000000" points="1438.237,-307.7234 1434.7369,-297.7234 1431.237,-307.7234 1438.237,-307.7234"/>
</g>
</g>
</svg>