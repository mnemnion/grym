<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="11374pt" height="908pt"
 viewBox="0.00 0.00 11373.50 908.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 904.4008)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-904.4008 11369.5,-904.4008 11369.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="597.5" cy="-882.4008" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="597.5" y="-878.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 213</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="597.5" cy="-810.4008" rx="65.0143" ry="18"/>
<text text-anchor="middle" x="597.5" y="-806.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;118</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M597.5,-864.2322C597.5,-856.5318 597.5,-847.3752 597.5,-838.8174"/>
<polygon fill="#000000" stroke="#000000" points="601.0001,-838.814 597.5,-828.8141 594.0001,-838.8141 601.0001,-838.814"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="392.5" cy="-738.4008" rx="43.5751" ry="18"/>
<text text-anchor="middle" x="392.5" y="-734.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Node</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M556.9986,-796.1759C521.908,-783.8514 471.2888,-766.073 435.4885,-753.4992"/>
<polygon fill="#000000" stroke="#000000" points="436.4039,-750.1112 425.8091,-750.0996 434.0843,-756.7157 436.4039,-750.1112"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="486.5" cy="-738.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="486.5" y="-734.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M571.7554,-793.7016C555.176,-782.9474 533.5669,-768.9307 516.2528,-757.6999"/>
<polygon fill="#000000" stroke="#000000" points="517.9338,-754.6185 507.6395,-752.1129 514.1245,-760.4913 517.9338,-754.6185"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="597.5" cy="-738.4008" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="597.5" y="-734.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;12</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M597.5,-792.2322C597.5,-784.5318 597.5,-775.3752 597.5,-766.8174"/>
<polygon fill="#000000" stroke="#000000" points="601.0001,-766.814 597.5,-756.8141 594.0001,-766.8141 601.0001,-766.814"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1185.5" cy="-738.4008" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1185.5" y="-734.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 13&#45;35</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M657.1164,-803.1008C766.3719,-789.7226 998.1721,-761.3389 1115.0269,-747.0302"/>
<polygon fill="#000000" stroke="#000000" points="1115.7863,-750.4634 1125.2867,-745.7739 1114.9354,-743.5153 1115.7863,-750.4634"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="4075.5" cy="-738.4008" rx="74.6878" ry="18"/>
<text text-anchor="middle" x="4075.5" y="-734.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 119&#45;178</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M662.3457,-809.0584C1090.1981,-800.2012 3505.2888,-750.2051 3990.5675,-740.159"/>
<polygon fill="#000000" stroke="#000000" points="3990.7273,-743.6566 4000.6526,-739.9503 3990.5823,-736.6581 3990.7273,-743.6566"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="359,-684.602 0,-684.602 0,-612.7996 359,-612.7996 359,-684.602"/>
<text text-anchor="middle" x="179.5" y="-621.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Time to stabilize this class once and for all. </text>
</g>
<!-- prose_3&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>prose_3&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M461.5875,-726.7519C456.3325,-724.4964 450.7796,-722.2594 445.5,-720.4008 411.0664,-708.2788 373.5207,-697.0117 337.7793,-687.1672"/>
<polygon fill="#000000" stroke="#000000" points="338.3192,-683.6865 327.7503,-684.4287 336.4752,-690.4393 338.3192,-683.6865"/>
</g>
<!-- header_8 -->
<g id="node9" class="node">
<title>header_8</title>
<ellipse fill="none" stroke="#000000" cx="431.5" cy="-648.7008" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="431.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : includes</text>
</g>
<!-- section_4&#45;&gt;header_8 -->
<g id="edge8" class="edge">
<title>section_4&#45;&gt;header_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M567.5044,-722.7415C547.1344,-712.0532 519.6182,-697.5097 495.5,-684.4008 486.5294,-679.525 476.8938,-674.198 467.8916,-669.1817"/>
<polygon fill="#000000" stroke="#000000" points="469.5858,-666.119 459.1487,-664.2973 466.1717,-672.23 469.5858,-666.119"/>
</g>
<!-- prose_9 -->
<g id="node10" class="node">
<title>prose_9</title>
<ellipse fill="none" stroke="#000000" cx="536.5" cy="-648.7008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="536.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_9 -->
<g id="edge9" class="edge">
<title>section_4&#45;&gt;prose_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M585.4484,-720.679C576.3926,-707.3626 563.8614,-688.9355 553.7453,-674.0599"/>
<polygon fill="#000000" stroke="#000000" points="556.6303,-672.0781 548.1127,-665.7772 550.8419,-676.0145 556.6303,-672.0781"/>
</g>
<!-- codeblock_10 -->
<g id="node11" class="node">
<title>codeblock_10</title>
<ellipse fill="none" stroke="#000000" cx="658.5" cy="-648.7008" rx="71.7805" ry="18"/>
<text text-anchor="middle" x="658.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 8&#45;11</text>
</g>
<!-- section_4&#45;&gt;codeblock_10 -->
<g id="edge10" class="edge">
<title>section_4&#45;&gt;codeblock_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M609.5516,-720.679C618.3502,-707.7407 630.4297,-689.9779 640.3872,-675.3355"/>
<polygon fill="#000000" stroke="#000000" points="643.5354,-676.9301 646.2646,-666.6928 637.747,-672.9938 643.5354,-676.9301"/>
</g>
<!-- header_13 -->
<g id="node14" class="node">
<title>header_13</title>
<ellipse fill="none" stroke="#000000" cx="986.5" cy="-648.7008" rx="84.6634" ry="18"/>
<text text-anchor="middle" x="986.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Node metatable</text>
</g>
<!-- section_5&#45;&gt;header_13 -->
<g id="edge13" class="edge">
<title>section_5&#45;&gt;header_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1151.2907,-722.9808C1118.4431,-708.1747 1068.5986,-685.7071 1032.3304,-669.359"/>
<polygon fill="#000000" stroke="#000000" points="1033.5094,-666.0514 1022.9544,-665.1328 1030.6328,-672.433 1033.5094,-666.0514"/>
</g>
<!-- prose_14 -->
<g id="node15" class="node">
<title>prose_14</title>
<ellipse fill="none" stroke="#000000" cx="1121.5" cy="-648.7008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1121.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_14 -->
<g id="edge14" class="edge">
<title>section_5&#45;&gt;prose_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1172.8557,-720.679C1163.2937,-707.2772 1150.0383,-688.699 1139.3896,-673.7742"/>
<polygon fill="#000000" stroke="#000000" points="1142.126,-671.5832 1133.4687,-665.4757 1136.4277,-675.6489 1142.126,-671.5832"/>
</g>
<!-- codeblock_15 -->
<g id="node16" class="node">
<title>codeblock_15</title>
<ellipse fill="none" stroke="#000000" cx="1249.5" cy="-648.7008" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1249.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 19&#45;24</text>
</g>
<!-- section_5&#45;&gt;codeblock_15 -->
<g id="edge15" class="edge">
<title>section_5&#45;&gt;codeblock_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1198.1443,-720.679C1207.4627,-707.6187 1220.2887,-689.6423 1230.7915,-674.9219"/>
<polygon fill="#000000" stroke="#000000" points="1233.7039,-676.8661 1236.6629,-666.6928 1228.0056,-672.8004 1233.7039,-676.8661"/>
</g>
<!-- section_16 -->
<g id="node17" class="node">
<title>section_16</title>
<ellipse fill="none" stroke="#000000" cx="1410.5" cy="-648.7008" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1410.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 28&#45;35</text>
</g>
<!-- section_5&#45;&gt;section_16 -->
<g id="edge16" class="edge">
<title>section_5&#45;&gt;section_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1227.6292,-724.4795C1257.9293,-714.1662 1299.6058,-699.3617 1335.5,-684.4008 1346.8349,-679.6763 1358.9277,-674.1448 1370.0199,-668.8658"/>
<polygon fill="#000000" stroke="#000000" points="1371.57,-672.0041 1379.0635,-664.5141 1368.5348,-665.6963 1371.57,-672.0041"/>
</g>
<!-- section_17 -->
<g id="node18" class="node">
<title>section_17</title>
<ellipse fill="none" stroke="#000000" cx="1915.5" cy="-648.7008" rx="69.851" ry="18"/>
<text text-anchor="middle" x="1915.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 36&#45;118</text>
</g>
<!-- section_5&#45;&gt;section_17 -->
<g id="edge17" class="edge">
<title>section_5&#45;&gt;section_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1245.5492,-731.0222C1378.5258,-714.6824 1697.4784,-675.4906 1842.0496,-657.7261"/>
<polygon fill="#000000" stroke="#000000" points="1842.6539,-661.1783 1852.1524,-656.4847 1841.8002,-654.2305 1842.6539,-661.1783"/>
</g>
<!-- header_36 -->
<g id="node37" class="node">
<title>header_36</title>
<ellipse fill="none" stroke="#000000" cx="3777.5" cy="-648.7008" rx="83.6943" ry="18"/>
<text text-anchor="middle" x="3777.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Node Instances</text>
</g>
<!-- section_6&#45;&gt;header_36 -->
<g id="edge36" class="edge">
<title>section_6&#45;&gt;header_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4021.5141,-725.8845C3979.904,-715.8281 3921.114,-700.728 3870.5,-684.4008 3855.9232,-679.6986 3840.3018,-673.9772 3826.1031,-668.5046"/>
<polygon fill="#000000" stroke="#000000" points="3827.1191,-665.1442 3816.5308,-664.7713 3824.5755,-671.6657 3827.1191,-665.1442"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="3911.5" cy="-648.7008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3911.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_6&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4033.1948,-723.5001C4008.7018,-713.9904 3977.8099,-700.4474 3952.5,-684.4008 3946.5017,-680.5978 3940.4871,-675.946 3934.9842,-671.2729"/>
<polygon fill="#000000" stroke="#000000" points="3937.155,-668.52 3927.3493,-664.5074 3932.5125,-673.7591 3937.155,-668.52"/>
</g>
<!-- prose_38 -->
<g id="node39" class="node">
<title>prose_38</title>
<ellipse fill="none" stroke="#000000" cx="3993.5" cy="-648.7008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3993.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_38 -->
<g id="edge38" class="edge">
<title>section_6&#45;&gt;prose_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4059.2994,-720.679C4046.6601,-706.8528 4028.9843,-687.5171 4015.1352,-672.3676"/>
<polygon fill="#000000" stroke="#000000" points="4017.6192,-669.8975 4008.2887,-664.8782 4012.4527,-674.6206 4017.6192,-669.8975"/>
</g>
<!-- prose_39 -->
<g id="node40" class="node">
<title>prose_39</title>
<ellipse fill="none" stroke="#000000" cx="4075.5" cy="-648.7008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4075.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_39 -->
<g id="edge39" class="edge">
<title>section_6&#45;&gt;prose_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4075.5,-720.2487C4075.5,-707.8473 4075.5,-691.1641 4075.5,-677.0271"/>
<polygon fill="#000000" stroke="#000000" points="4079.0001,-676.8259 4075.5,-666.8259 4072.0001,-676.826 4079.0001,-676.8259"/>
</g>
<!-- prose_40 -->
<g id="node41" class="node">
<title>prose_40</title>
<ellipse fill="none" stroke="#000000" cx="4274.5" cy="-648.7008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4274.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_40 -->
<g id="edge40" class="edge">
<title>section_6&#45;&gt;prose_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4111.0772,-722.3642C4147.6117,-705.8962 4204.0858,-680.4403 4240.1615,-664.179"/>
<polygon fill="#000000" stroke="#000000" points="4241.6371,-667.3531 4249.3154,-660.0528 4238.7605,-660.9714 4241.6371,-667.3531"/>
</g>
<!-- prose_41 -->
<g id="node42" class="node">
<title>prose_41</title>
<ellipse fill="none" stroke="#000000" cx="4699.5" cy="-648.7008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4699.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_41 -->
<g id="edge41" class="edge">
<title>section_6&#45;&gt;prose_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4139.9287,-729.1392C4268.0039,-710.7284 4551.4175,-669.9877 4657.9428,-654.6746"/>
<polygon fill="#000000" stroke="#000000" points="4658.5836,-658.1186 4667.9839,-653.2312 4657.5876,-651.1898 4658.5836,-658.1186"/>
</g>
<!-- section_42 -->
<g id="node43" class="node">
<title>section_42</title>
<ellipse fill="none" stroke="#000000" cx="5578.5" cy="-648.7008" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5578.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 143&#45;165</text>
</g>
<!-- section_6&#45;&gt;section_42 -->
<g id="edge42" class="edge">
<title>section_6&#45;&gt;section_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4148.2466,-734.0592C4399.248,-719.0793 5228.2226,-669.6056 5495.0032,-653.6839"/>
<polygon fill="#000000" stroke="#000000" points="5495.2395,-657.1762 5505.0132,-653.0865 5494.8224,-650.1886 5495.2395,-657.1762"/>
</g>
<!-- section_43 -->
<g id="node44" class="node">
<title>section_43</title>
<ellipse fill="none" stroke="#000000" cx="9157.5" cy="-648.7008" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9157.5" y="-644.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 179&#45;213</text>
</g>
<!-- section_6&#45;&gt;section_43 -->
<g id="edge43" class="edge">
<title>section_6&#45;&gt;section_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4150.2886,-737.0808C4726.8065,-726.9049 8457.9773,-661.0477 9072.0245,-650.2095"/>
<polygon fill="#000000" stroke="#000000" points="9072.191,-653.7072 9082.1277,-650.0312 9072.0674,-646.7083 9072.191,-653.7072"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="392.5,-544.5007 338.5,-544.5007 338.5,-508.5007 392.5,-508.5007 392.5,-544.5007"/>
</g>
<!-- prose_9&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>prose_9&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M520.777,-632.6895C513.5411,-625.9592 504.5609,-618.4454 495.5,-613.0008 457.1536,-589.9586 436.8797,-604.3807 401.5,-577.0008 393.2843,-570.6428 386.1478,-561.9039 380.444,-553.482"/>
<polygon fill="#000000" stroke="#000000" points="383.3389,-551.5113 375.0334,-544.9333 377.424,-555.2549 383.3389,-551.5113"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="636.5,-545.8013 410.5,-545.8013 410.5,-507.2001 636.5,-507.2001 636.5,-545.8013"/>
<text text-anchor="middle" x="523.5" y="-530.7007" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;status&quot;</text>
<text text-anchor="middle" x="523.5" y="-515.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">local dot = require &quot;node/dot&quot;</text>
</g>
<!-- codeblock_10&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>codeblock_10&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M639.1578,-631.1925C616.561,-610.7382 578.9398,-576.684 552.7646,-552.9906"/>
<polygon fill="#000000" stroke="#000000" points="554.8007,-550.1127 545.0381,-545.9967 550.1031,-555.3024 554.8007,-550.1127"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1188.5,-569.701 654.5,-569.701 654.5,-483.3004 1188.5,-483.3004 1188.5,-569.701"/>
<text text-anchor="middle" x="921.5" y="-522.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The Node metatable is the root table for any Node. &#160;I&#39;m planning to make</text>
<text text-anchor="middle" x="921.5" y="-507.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">an intermediate class/table called Root that is in common for any instance</text>
<text text-anchor="middle" x="921.5" y="-491.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">Node. &#160;All Root absolutely has to contain is =str=. </text>
</g>
<!-- prose_14&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>prose_14&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1105.0232,-632.8916C1097.7943,-626.3501 1089.0255,-618.9256 1080.5,-613.0008 1060.9687,-599.4275 1039.088,-586.3192 1017.9543,-574.5873"/>
<polygon fill="#000000" stroke="#000000" points="1019.4023,-571.3895 1008.9518,-569.6462 1016.0342,-577.526 1019.4023,-571.3895"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="1328,-561.7011 1207,-561.7011 1207,-491.3003 1328,-491.3003 1328,-561.7011"/>
<text text-anchor="middle" x="1267.5" y="-530.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">local N = {}</text>
<text text-anchor="middle" x="1267.5" y="-515.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">N.__index = N</text>
<text text-anchor="middle" x="1267.5" y="-499.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">N.isNode = true</text>
</g>
<!-- codeblock_15&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>codeblock_15&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1252.156,-630.6698C1254.4315,-615.2215 1257.8079,-592.2995 1260.8145,-571.8877"/>
<polygon fill="#000000" stroke="#000000" points="1264.305,-572.2084 1262.2997,-561.805 1257.3797,-571.1882 1264.305,-572.2084"/>
</g>
<!-- header_20 -->
<g id="node21" class="node">
<title>header_20</title>
<ellipse fill="none" stroke="#000000" cx="1391.5" cy="-526.5007" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="1391.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Fields</text>
</g>
<!-- section_16&#45;&gt;header_20 -->
<g id="edge20" class="edge">
<title>section_16&#45;&gt;header_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1407.6965,-630.6698C1404.5813,-610.6343 1399.5116,-578.0277 1395.8736,-554.6299"/>
<polygon fill="#000000" stroke="#000000" points="1399.3099,-553.9492 1394.315,-544.6057 1392.393,-555.0248 1399.3099,-553.9492"/>
</g>
<!-- prose_21 -->
<g id="node22" class="node">
<title>prose_21</title>
<ellipse fill="none" stroke="#000000" cx="1487.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1487.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_16&#45;&gt;prose_21 -->
<g id="edge21" class="edge">
<title>section_16&#45;&gt;prose_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1421.6965,-630.9319C1434.7893,-610.1533 1456.5618,-575.6001 1471.45,-551.9723"/>
<polygon fill="#000000" stroke="#000000" points="1474.4166,-553.8295 1476.7865,-543.5031 1468.4942,-550.0977 1474.4166,-553.8295"/>
</g>
<!-- header_23 -->
<g id="node24" class="node">
<title>header_23</title>
<ellipse fill="none" stroke="#000000" cx="1594.5" cy="-526.5007" rx="56.1302" ry="18"/>
<text text-anchor="middle" x="1594.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Methods</text>
</g>
<!-- section_17&#45;&gt;header_23 -->
<g id="edge23" class="edge">
<title>section_17&#45;&gt;header_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1856.9996,-638.8088C1803.7728,-628.311 1724.0508,-608.7735 1660.5,-577.0008 1646.3773,-569.94 1632.2679,-559.6873 1620.7413,-550.262"/>
<polygon fill="#000000" stroke="#000000" points="1622.7431,-547.3718 1612.8413,-543.6026 1618.2314,-552.7239 1622.7431,-547.3718"/>
</g>
<!-- prose_24 -->
<g id="node25" class="node">
<title>prose_24</title>
<ellipse fill="none" stroke="#000000" cx="1701.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1701.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_24 -->
<g id="edge24" class="edge">
<title>section_17&#45;&gt;prose_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1867.4397,-635.5469C1831.0607,-624.033 1781.1081,-604.7683 1743.5,-577.0008 1734.1844,-570.1227 1725.6506,-560.7553 1718.7443,-551.9557"/>
<polygon fill="#000000" stroke="#000000" points="1721.4365,-549.7113 1712.649,-543.7927 1715.8277,-553.8995 1721.4365,-549.7113"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="1829.5" cy="-526.5007" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1829.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 38&#45;53</text>
</g>
<!-- section_17&#45;&gt;codeblock_25 -->
<g id="edge25" class="edge">
<title>section_17&#45;&gt;codeblock_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1902.9949,-630.9319C1888.5369,-610.3881 1864.6027,-576.3792 1847.9926,-552.7774"/>
<polygon fill="#000000" stroke="#000000" points="1850.6378,-550.4546 1842.0202,-544.2911 1844.9133,-554.4833 1850.6378,-550.4546"/>
</g>
<!-- codeblock_26 -->
<g id="node27" class="node">
<title>codeblock_26</title>
<ellipse fill="none" stroke="#000000" cx="2002.5" cy="-526.5007" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2002.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 55&#45;79</text>
</g>
<!-- section_17&#45;&gt;codeblock_26 -->
<g id="edge26" class="edge">
<title>section_17&#45;&gt;codeblock_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1928.1505,-630.9319C1942.841,-610.2976 1967.2027,-576.0793 1984.014,-552.4661"/>
<polygon fill="#000000" stroke="#000000" points="1986.8856,-554.4674 1989.8342,-544.2911 1981.1832,-550.4075 1986.8856,-554.4674"/>
</g>
<!-- codeblock_27 -->
<g id="node28" class="node">
<title>codeblock_27</title>
<ellipse fill="none" stroke="#000000" cx="2175.5" cy="-526.5007" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2175.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 83&#45;98</text>
</g>
<!-- section_17&#45;&gt;codeblock_27 -->
<g id="edge27" class="edge">
<title>section_17&#45;&gt;codeblock_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1955.6764,-633.7989C1991.175,-620.2216 2044.06,-598.9861 2088.5,-577.0008 2105.6418,-568.5204 2124.0378,-558.0546 2139.4783,-548.8537"/>
<polygon fill="#000000" stroke="#000000" points="2141.4328,-551.7624 2148.1961,-543.6071 2137.8233,-545.7648 2141.4328,-551.7624"/>
</g>
<!-- prose_28 -->
<g id="node29" class="node">
<title>prose_28</title>
<ellipse fill="none" stroke="#000000" cx="2303.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2303.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_28 -->
<g id="edge28" class="edge">
<title>section_17&#45;&gt;prose_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1978.525,-640.7143C2064.8605,-628.9229 2214.5588,-605.1823 2261.5,-577.0008 2271.8297,-570.7993 2280.787,-561.1147 2287.7453,-551.8784"/>
<polygon fill="#000000" stroke="#000000" points="2290.6552,-553.8251 2293.5555,-543.6349 2284.9336,-549.7923 2290.6552,-553.8251"/>
</g>
<!-- codeblock_29 -->
<g id="node30" class="node">
<title>codeblock_29</title>
<ellipse fill="none" stroke="#000000" cx="2440.5" cy="-526.5007" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="2440.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 102&#45;116</text>
</g>
<!-- section_17&#45;&gt;codeblock_29 -->
<g id="edge29" class="edge">
<title>section_17&#45;&gt;codeblock_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1983.2498,-644.0651C2069.1881,-636.6831 2221.0576,-618.5852 2344.5,-577.0008 2365.3205,-569.9869 2387.1017,-558.8779 2404.6439,-548.8628"/>
<polygon fill="#000000" stroke="#000000" points="2406.5294,-551.815 2413.4035,-543.7528 2403.0022,-545.7686 2406.5294,-551.815"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1211,-324.2005 698,-324.2005 698,-207.2002 1211,-207.2002 1211,-324.2005"/>
<text text-anchor="middle" x="954.5" y="-277.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; id : &#160;A string naming the Node. </text>
<text text-anchor="middle" x="954.5" y="-261.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;This is identical to the name of the pattern that recognizes</text>
<text text-anchor="middle" x="954.5" y="-246.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;or captures it.</text>
<text text-anchor="middle" x="954.5" y="-230.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; line_first : &#160;Always &#45;1.</text>
<text text-anchor="middle" x="954.5" y="-215.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; line_last &#160;: &#160;Always &#45;1. </text>
</g>
<!-- prose_21&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>prose_21&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1478.001,-509.1687C1470.8576,-497.8565 1459.998,-483.7903 1446.5,-476.0006 1358.4062,-425.1619 1315.3639,-476.6875 1220.5,-440.0006 1152.6965,-413.7789 1084.2726,-368.4211 1033.8032,-330.5487"/>
<polygon fill="#000000" stroke="#000000" points="1035.6304,-327.5421 1025.5445,-324.2978 1031.4058,-333.1236 1035.6304,-327.5421"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="1283.5,-283.7003 1229.5,-283.7003 1229.5,-247.7003 1283.5,-247.7003 1283.5,-283.7003"/>
</g>
<!-- prose_24&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>prose_24&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1691.8182,-508.9012C1684.5225,-497.4696 1673.404,-483.3706 1659.5,-476.0006 1587.0957,-437.6219 1353.4307,-494.798 1292.5,-440.0006 1251.5494,-403.1721 1250.1713,-333.1313 1253.1121,-293.9805"/>
<polygon fill="#000000" stroke="#000000" points="1256.6169,-294.0837 1254.0268,-283.8104 1249.645,-293.4566 1256.6169,-294.0837"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1787,-377.3011 1302,-377.3011 1302,-154.0995 1787,-154.0995 1787,-377.3011"/>
<text text-anchor="middle" x="1544.5" y="-362.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.toString(node, depth)</text>
<text text-anchor="middle" x="1544.5" y="-346.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local depth = depth or 0</text>
<text text-anchor="middle" x="1544.5" y="-331.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="1544.5" y="-316.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;phrase = (&quot; &#160;&quot;):rep(depth) .. &quot;id: &quot; .. node.id .. &quot;, &#160;&quot;</text>
<text text-anchor="middle" x="1544.5" y="-300.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;.. &quot;first: &quot; .. node.first .. &quot;, last: &quot; .. node.last .. &quot;\n&quot;</text>
<text text-anchor="middle" x="1544.5" y="-285.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if node[1] then</text>
<text text-anchor="middle" x="1544.5" y="-269.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(node) do</text>
<text text-anchor="middle" x="1544.5" y="-254.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if(v.isNode) then</text>
<text text-anchor="middle" x="1544.5" y="-239.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. N.toString(v, depth + 1)</text>
<text text-anchor="middle" x="1544.5" y="-223.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1544.5" y="-208.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1544.5" y="-192.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end </text>
<text text-anchor="middle" x="1544.5" y="-177.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase</text>
<text text-anchor="middle" x="1544.5" y="-162.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>codeblock_25&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1810.3578,-508.9839C1782.1076,-483.1324 1726.8742,-432.589 1674.0376,-384.2387"/>
<polygon fill="#000000" stroke="#000000" points="1676.3413,-381.6025 1666.6011,-377.4337 1671.6156,-386.7667 1676.3413,-381.6025"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2199.5,-439.8011 1805.5,-439.8011 1805.5,-91.5995 2199.5,-91.5995 2199.5,-439.8011"/>
<text text-anchor="middle" x="2002.5" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.dotLabel(node)</text>
<text text-anchor="middle" x="2002.5" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return node.id</text>
<text text-anchor="middle" x="2002.5" y="-394.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2002.5" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.toMarkdown(node)</text>
<text text-anchor="middle" x="2002.5" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if not node[1] then</text>
<text text-anchor="middle" x="2002.5" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return string.sub(node.str, node.first, node.last)</text>
<text text-anchor="middle" x="2002.5" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="2002.5" y="-301.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;s:halt(&quot;no toMarkdown for &quot; .. node.id)</text>
<text text-anchor="middle" x="2002.5" y="-285.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="2002.5" y="-270.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2002.5" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.dot(node)</text>
<text text-anchor="middle" x="2002.5" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return dot.dot(node)</text>
<text text-anchor="middle" x="2002.5" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2002.5" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.toValue(node)</text>
<text text-anchor="middle" x="2002.5" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if not node.val then</text>
<text text-anchor="middle" x="2002.5" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;node.val = node.str:sub(node.first,node.last)</text>
<text text-anchor="middle" x="2002.5" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="2002.5" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return node.val</text>
<text text-anchor="middle" x="2002.5" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_26&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>codeblock_26&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2002.5,-508.1617C2002.5,-494.2629 2002.5,-473.5812 2002.5,-450.0548"/>
<polygon fill="#000000" stroke="#000000" points="2006.0001,-449.8094 2002.5,-439.8094 1999.0001,-449.8094 2006.0001,-449.8094"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2625.5,-378.0008 2217.5,-378.0008 2217.5,-153.3999 2625.5,-153.3999 2625.5,-378.0008"/>
<text text-anchor="middle" x="2421.5" y="-362.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.walkDeep(node)</text>
<text text-anchor="middle" x="2421.5" y="-347.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local function traverse(ast)</text>
<text text-anchor="middle" x="2421.5" y="-332.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not ast.isNode then return nil end</text>
<text text-anchor="middle" x="2421.5" y="-300.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;for _, v in ipairs(ast) do</text>
<text text-anchor="middle" x="2421.5" y="-285.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(v) == &#39;table&#39; and v.isNode then</text>
<text text-anchor="middle" x="2421.5" y="-269.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;traverse(v)</text>
<text text-anchor="middle" x="2421.5" y="-254.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2421.5" y="-239.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2421.5" y="-223.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;coroutine.yield(ast)</text>
<text text-anchor="middle" x="2421.5" y="-208.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2421.5" y="-176.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="2421.5" y="-161.5002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_27&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>codeblock_27&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2192.4086,-508.5748C2216.6726,-482.851 2263.4145,-433.2969 2308.3832,-385.6227"/>
<polygon fill="#000000" stroke="#000000" points="2310.9756,-387.9751 2315.2912,-378.299 2305.8835,-383.172 2310.9756,-387.9751"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2821,-285.6024 2644,-285.6024 2644,-245.7982 2821,-245.7982 2821,-285.6024"/>
<text text-anchor="middle" x="2732.5" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">Breadth&#45;first iterator.</text>
</g>
<!-- prose_28&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>prose_28&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2312.9148,-509.0197C2320.0205,-497.641 2330.8698,-483.5566 2344.5,-476.0006 2458.0919,-413.0305 2526.655,-512.3733 2634.5,-440.0006 2685.5469,-405.744 2712.8648,-335.4777 2724.8562,-295.412"/>
<polygon fill="#000000" stroke="#000000" points="2728.255,-296.2565 2727.6448,-285.6792 2721.5257,-294.3283 2728.255,-296.2565"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="3233.5,-370.0008 2839.5,-370.0008 2839.5,-161.3999 3233.5,-161.3999 3233.5,-370.0008"/>
<text text-anchor="middle" x="3036.5" y="-354.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.walkBroad(node)</text>
<text text-anchor="middle" x="3036.5" y="-339.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local function traverse(ast)</text>
<text text-anchor="middle" x="3036.5" y="-324.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not ast.isNode then return nil end</text>
<text text-anchor="middle" x="3036.5" y="-308.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;coroutine.yield(ast)</text>
<text text-anchor="middle" x="3036.5" y="-293.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, v in ipairs(ast) do</text>
<text text-anchor="middle" x="3036.5" y="-277.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if type(v) == &#39;table&#39; and v.isNode then</text>
<text text-anchor="middle" x="3036.5" y="-262.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;traverse(v)</text>
<text text-anchor="middle" x="3036.5" y="-247.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3036.5" y="-231.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3036.5" y="-216.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3036.5" y="-184.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="3036.5" y="-169.5002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_29&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>codeblock_29&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2467.0777,-509.1504C2485.7389,-497.8299 2511.6977,-483.7615 2536.5,-476.0006 2661.7145,-436.8197 2709.2275,-492.4253 2829.5,-440.0006 2864.6857,-424.6638 2898.496,-401.3638 2928.2251,-376.7454"/>
<polygon fill="#000000" stroke="#000000" points="2930.7,-379.237 2936.0953,-370.1187 2926.1914,-373.8823 2930.7,-379.237"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="3107.5,-561.801 2545.5,-561.801 2545.5,-491.2004 3107.5,-491.2004 3107.5,-561.801"/>
<text text-anchor="middle" x="2826.5" y="-514.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;To be a Node, currently, indexed elements of the Array portion must also be </text>
<text text-anchor="middle" x="2826.5" y="-499.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">Nodes. </text>
</g>
<!-- prose_37&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>prose_37&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3897.6115,-632.3831C3890.3525,-625.0624 3880.8342,-617.1531 3870.5,-613.0008 3714.8482,-550.4597 3283.2315,-595.4256 3116.5,-577.0008 3084.8519,-573.5035 3051.4312,-568.7173 3018.9753,-563.4767"/>
<polygon fill="#000000" stroke="#000000" points="3019.3704,-559.9949 3008.9368,-561.8366 3018.2416,-566.9033 3019.3704,-559.9949"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="3673.5,-561.7011 3125.5,-561.7011 3125.5,-491.3003 3673.5,-491.3003 3673.5,-561.7011"/>
<text text-anchor="middle" x="3399.5" y="-530.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m mostly convinced that indexed elements can also be strings, and that </text>
<text text-anchor="middle" x="3399.5" y="-515.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">this is the form leaf nodes should take. &#160;Currently, they have a &#39;val&#39; field</text>
<text text-anchor="middle" x="3399.5" y="-499.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">and no children, which we should replace with a child string at [1].</text>
</g>
<!-- prose_38&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>prose_38&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3979.0769,-632.3936C3971.8303,-625.2626 3962.4768,-617.5098 3952.5,-613.0008 3842.1819,-563.1418 3802.1187,-595.6388 3682.5,-577.0008 3655.7091,-572.8264 3627.5439,-568.1495 3599.7941,-563.3712"/>
<polygon fill="#000000" stroke="#000000" points="3600.0429,-559.8624 3589.5927,-561.607 3598.8499,-566.76 3600.0429,-559.8624"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="4225.5,-561.7011 3691.5,-561.7011 3691.5,-491.3003 4225.5,-491.3003 4225.5,-561.7011"/>
<text text-anchor="middle" x="3958.5" y="-530.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">This gives us a lighter way to handle the circumstance where we have, say,</text>
<text text-anchor="middle" x="3958.5" y="-515.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">a list, =(foo bar baz)=. We currently either need a &quot;left&#45;per&quot; or &quot;pal&quot;</text>
<text text-anchor="middle" x="3958.5" y="-499.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">Node class to hold the =(=, or we would have to skip it entirely.</text>
</g>
<!-- prose_39&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>prose_39&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4060.2043,-632.7253C4044.789,-616.6248 4020.3305,-591.0793 3999.2622,-569.0746"/>
<polygon fill="#000000" stroke="#000000" points="4001.709,-566.5692 3992.2652,-561.7666 3996.6528,-571.4102 4001.709,-566.5692"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="4771,-577.0009 4244,-577.0009 4244,-476.0005 4771,-476.0005 4771,-577.0009"/>
<text text-anchor="middle" x="4507.5" y="-545.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">Quipu can&#39;t lose any information from the string, so they have to include</text>
<text text-anchor="middle" x="4507.5" y="-530.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">whitespace. &#160;We&#39;re not limited in the same way and can reconstruct less </text>
<text text-anchor="middle" x="4507.5" y="-515.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">semantically crucial parts of a document using the span and the original </text>
<text text-anchor="middle" x="4507.5" y="-499.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">string, since we&#39;re not /currently/ editing our strings once they&#39;re</text>
<text text-anchor="middle" x="4507.5" y="-484.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">entered in.</text>
</g>
<!-- prose_40&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>prose_40&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4298.1235,-636.3111C4322.7582,-623.3911 4363.1155,-602.2252 4401.8573,-581.9065"/>
<polygon fill="#000000" stroke="#000000" points="4403.9046,-584.785 4411.1349,-577.0407 4400.6533,-578.5858 4403.9046,-584.785"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="5295.5,-569.701 4789.5,-569.701 4789.5,-483.3004 5295.5,-483.3004 5295.5,-569.701"/>
<text text-anchor="middle" x="5042.5" y="-538.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">Nodes are meant to be broadly compatible with everything we intend to</text>
<text text-anchor="middle" x="5042.5" y="-523.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">do with abstract syntax trees. &#160;The more I think about this the better</text>
<text text-anchor="middle" x="5042.5" y="-507.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">it strikes me as an approach. </text>
</g>
<!-- prose_41&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>prose_41&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4726.7013,-639.0098C4766.6532,-624.7762 4843.8427,-597.276 4911.9044,-573.0278"/>
<polygon fill="#000000" stroke="#000000" points="4913.1975,-576.2827 4921.4429,-569.6295 4910.8482,-569.6887 4913.1975,-576.2827"/>
</g>
<!-- header_49 -->
<g id="node50" class="node">
<title>header_49</title>
<ellipse fill="none" stroke="#000000" cx="5359.5" cy="-526.5007" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="5359.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Fields</text>
</g>
<!-- section_42&#45;&gt;header_49 -->
<g id="edge49" class="edge">
<title>section_42&#45;&gt;header_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5534.3854,-633.9528C5500.1801,-621.4696 5452.3819,-601.6827 5414.5,-577.0008 5403.1297,-569.5925 5391.8613,-559.7982 5382.5129,-550.8082"/>
<polygon fill="#000000" stroke="#000000" points="5384.7191,-548.0672 5375.1517,-543.5158 5379.7927,-553.0401 5384.7191,-548.0672"/>
</g>
<!-- prose_50 -->
<g id="node51" class="node">
<title>prose_50</title>
<ellipse fill="none" stroke="#000000" cx="5455.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5455.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_42&#45;&gt;prose_50 -->
<g id="edge50" class="edge">
<title>section_42&#45;&gt;prose_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5556.7058,-631.3725C5539.6393,-617.403 5515.6631,-596.8772 5496.5,-577.0008 5488.8578,-569.0741 5481.0896,-559.86 5474.3999,-551.4891"/>
<polygon fill="#000000" stroke="#000000" points="5477.0408,-549.1849 5468.1143,-543.478 5471.5336,-553.506 5477.0408,-549.1849"/>
</g>
<!-- prose_51 -->
<g id="node52" class="node">
<title>prose_51</title>
<ellipse fill="none" stroke="#000000" cx="5537.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5537.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_42&#45;&gt;prose_51 -->
<g id="edge51" class="edge">
<title>section_42&#45;&gt;prose_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5572.4503,-630.6698C5565.659,-610.4284 5554.5628,-577.3562 5546.6967,-553.9114"/>
<polygon fill="#000000" stroke="#000000" points="5549.9404,-552.5757 5543.4412,-544.2084 5543.304,-554.8024 5549.9404,-552.5757"/>
</g>
<!-- prose_52 -->
<g id="node53" class="node">
<title>prose_52</title>
<ellipse fill="none" stroke="#000000" cx="5619.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5619.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_42&#45;&gt;prose_52 -->
<g id="edge52" class="edge">
<title>section_42&#45;&gt;prose_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5584.5497,-630.6698C5591.341,-610.4284 5602.4372,-577.3562 5610.3033,-553.9114"/>
<polygon fill="#000000" stroke="#000000" points="5613.696,-554.8024 5613.5588,-544.2084 5607.0596,-552.5757 5613.696,-554.8024"/>
</g>
<!-- prose_53 -->
<g id="node54" class="node">
<title>prose_53</title>
<ellipse fill="none" stroke="#000000" cx="5701.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5701.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_42&#45;&gt;prose_53 -->
<g id="edge53" class="edge">
<title>section_42&#45;&gt;prose_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5600.2942,-631.3725C5617.3607,-617.403 5641.3369,-596.8772 5660.5,-577.0008 5668.1422,-569.0741 5675.9104,-559.86 5682.6001,-551.4891"/>
<polygon fill="#000000" stroke="#000000" points="5685.4664,-553.506 5688.8857,-543.478 5679.9592,-549.1849 5685.4664,-553.506"/>
</g>
<!-- prose_54 -->
<g id="node55" class="node">
<title>prose_54</title>
<ellipse fill="none" stroke="#000000" cx="6004.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6004.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_42&#45;&gt;prose_54 -->
<g id="edge54" class="edge">
<title>section_42&#45;&gt;prose_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5626.9529,-634.8019C5712.3129,-610.3159 5887.8202,-559.9709 5965.7489,-537.6166"/>
<polygon fill="#000000" stroke="#000000" points="5966.9911,-540.9015 5975.6383,-534.7798 5965.0609,-534.1729 5966.9911,-540.9015"/>
</g>
<!-- section_55 -->
<g id="node56" class="node">
<title>section_55</title>
<ellipse fill="none" stroke="#000000" cx="6801.5" cy="-526.5007" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6801.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 166&#45;178</text>
</g>
<!-- section_42&#45;&gt;section_55 -->
<g id="edge55" class="edge">
<title>section_42&#45;&gt;section_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5648.2016,-641.7363C5860.1793,-620.5559 6496.3497,-556.9908 6721.4756,-534.4966"/>
<polygon fill="#000000" stroke="#000000" points="6721.9589,-537.9658 6731.5614,-533.4889 6721.2629,-531.0005 6721.9589,-537.9658"/>
</g>
<!-- header_70 -->
<g id="node71" class="node">
<title>header_70</title>
<ellipse fill="none" stroke="#000000" cx="8793.5" cy="-526.5007" rx="67.7307" ry="18"/>
<text text-anchor="middle" x="8793.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Other fields</text>
</g>
<!-- section_43&#45;&gt;header_70 -->
<g id="edge70" class="edge">
<title>section_43&#45;&gt;header_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9093.6453,-639.0843C9034.1224,-628.6644 8943.7757,-609.0793 8870.5,-577.0008 8854.0063,-569.7802 8837.1219,-559.1387 8823.3829,-549.4838"/>
<polygon fill="#000000" stroke="#000000" points="8825.4268,-546.6425 8815.2665,-543.6391 8821.3362,-552.323 8825.4268,-546.6425"/>
</g>
<!-- prose_71 -->
<g id="node72" class="node">
<title>prose_71</title>
<ellipse fill="none" stroke="#000000" cx="8911.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8911.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_43&#45;&gt;prose_71 -->
<g id="edge71" class="edge">
<title>section_43&#45;&gt;prose_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9098.7188,-637.2465C9055.4073,-626.7444 8996.611,-608.0055 8952.5,-577.0008 8942.9779,-570.3079 8934.4776,-560.8191 8927.7197,-551.8703"/>
<polygon fill="#000000" stroke="#000000" points="8930.4532,-549.6752 8921.7979,-543.5649 8924.7536,-553.7391 8930.4532,-549.6752"/>
</g>
<!-- prose_72 -->
<g id="node73" class="node">
<title>prose_72</title>
<ellipse fill="none" stroke="#000000" cx="8993.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8993.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_43&#45;&gt;prose_72 -->
<g id="edge72" class="edge">
<title>section_43&#45;&gt;prose_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9122.7228,-632.6993C9096.8239,-619.8104 9061.4377,-600.0756 9034.5,-577.0008 9026.0091,-569.7275 9017.9538,-560.5273 9011.267,-551.9782"/>
<polygon fill="#000000" stroke="#000000" points="9013.8795,-549.629 9005.0709,-543.7417 9008.2856,-553.8371 9013.8795,-549.629"/>
</g>
<!-- prose_73 -->
<g id="node74" class="node">
<title>prose_73</title>
<ellipse fill="none" stroke="#000000" cx="9075.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9075.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_43&#45;&gt;prose_73 -->
<g id="edge73" class="edge">
<title>section_43&#45;&gt;prose_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9145.4006,-630.6698C9131.4164,-609.8298 9108.3056,-575.389 9092.5151,-551.8574"/>
<polygon fill="#000000" stroke="#000000" points="9095.3344,-549.7774 9086.856,-543.4239 9089.5218,-553.6779 9095.3344,-549.7774"/>
</g>
<!-- prose_74 -->
<g id="node75" class="node">
<title>prose_74</title>
<ellipse fill="none" stroke="#000000" cx="9157.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9157.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_43&#45;&gt;prose_74 -->
<g id="edge74" class="edge">
<title>section_43&#45;&gt;prose_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9157.5,-630.6698C9157.5,-610.6343 9157.5,-578.0277 9157.5,-554.6299"/>
<polygon fill="#000000" stroke="#000000" points="9161.0001,-554.6057 9157.5,-544.6057 9154.0001,-554.6058 9161.0001,-554.6057"/>
</g>
<!-- prose_75 -->
<g id="node76" class="node">
<title>prose_75</title>
<ellipse fill="none" stroke="#000000" cx="9486.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9486.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_43&#45;&gt;prose_75 -->
<g id="edge75" class="edge">
<title>section_43&#45;&gt;prose_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9198.5029,-633.4711C9263.1184,-609.4711 9387.643,-563.219 9449.6076,-540.2036"/>
<polygon fill="#000000" stroke="#000000" points="9451.198,-543.3466 9459.3536,-536.5837 9448.7607,-536.7846 9451.198,-543.3466"/>
</g>
<!-- prose_76 -->
<g id="node77" class="node">
<title>prose_76</title>
<ellipse fill="none" stroke="#000000" cx="9862.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9862.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_43&#45;&gt;prose_76 -->
<g id="edge76" class="edge">
<title>section_43&#45;&gt;prose_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9218.8308,-638.0701C9359.6379,-613.6635 9703.0423,-554.1401 9821.5162,-533.6046"/>
<polygon fill="#000000" stroke="#000000" points="9822.3615,-537.0103 9831.6168,-531.8538 9821.1659,-530.1132 9822.3615,-537.0103"/>
</g>
<!-- prose_77 -->
<g id="node78" class="node">
<title>prose_77</title>
<ellipse fill="none" stroke="#000000" cx="10256.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10256.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_43&#45;&gt;prose_77 -->
<g id="edge77" class="edge">
<title>section_43&#45;&gt;prose_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9229.1115,-642.928C9362.1601,-631.9561 9656.4218,-606.5319 9903.5,-577.0008 10016.6982,-563.4712 10149.6974,-543.2755 10215.438,-533.0047"/>
<polygon fill="#000000" stroke="#000000" points="10216.0605,-536.45 10225.3981,-531.4441 10214.9768,-529.5344 10216.0605,-536.45"/>
</g>
<!-- prose_78 -->
<g id="node79" class="node">
<title>prose_78</title>
<ellipse fill="none" stroke="#000000" cx="10731.5" cy="-526.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10731.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_43&#45;&gt;prose_78 -->
<g id="edge78" class="edge">
<title>section_43&#45;&gt;prose_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9231.9614,-645.3869C9414.0528,-636.9849 9896.2934,-612.9343 10297.5,-577.0008 10441.8184,-564.0751 10612.3972,-542.3228 10689.699,-532.1122"/>
<polygon fill="#000000" stroke="#000000" points="10690.5217,-535.5339 10699.9751,-530.7502 10689.6019,-528.5946 10690.5217,-535.5339"/>
</g>
<!-- codeblock_79 -->
<g id="node80" class="node">
<title>codeblock_79</title>
<ellipse fill="none" stroke="#000000" cx="11037.5" cy="-526.5007" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11037.5" y="-522.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 208&#45;210</text>
</g>
<!-- section_43&#45;&gt;codeblock_79 -->
<g id="edge79" class="edge">
<title>section_43&#45;&gt;codeblock_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9232.6521,-646.8024C9508.9665,-639.5985 10468.3021,-612.551 10772.5,-577.0008 10840.1285,-569.0973 10916.4085,-553.8842 10969.7034,-542.2124"/>
<polygon fill="#000000" stroke="#000000" points="10970.7026,-545.5762 10979.713,-540.0027 10969.1936,-538.7407 10970.7026,-545.5762"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="4385,-316.3012 3872,-316.3012 3872,-215.0994 4385,-215.0994 4385,-316.3012"/>
<text text-anchor="middle" x="4128.5" y="-269.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;There are invariant fields a Node is also expected to have, they are:</text>
<text text-anchor="middle" x="4128.5" y="-253.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="4128.5" y="-238.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; first : &#160;Index into =str= which begins the span.</text>
<text text-anchor="middle" x="4128.5" y="-223.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; last &#160;: &#160;Index into =str= which ends the span.</text>
</g>
<!-- prose_50&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>prose_50&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5446.5918,-509.1324C5439.5876,-497.491 5428.6525,-483.0486 5414.5,-476.0006 5312.8881,-425.3976 4501.6552,-474.4693 4393.5,-440.0006 4318.0495,-415.9548 4243.7442,-363.9225 4193.1064,-322.9341"/>
<polygon fill="#000000" stroke="#000000" points="4195.1427,-320.078 4185.1861,-316.4565 4190.7112,-325.4966 4195.1427,-320.078"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="4888,-293.0008 4403,-293.0008 4403,-238.3999 4888,-238.3999 4888,-293.0008"/>
<text text-anchor="middle" x="4645.5" y="-261.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">In principle, we want the Node to be localized. We could include a </text>
<text text-anchor="middle" x="4645.5" y="-246.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">reference to the whole =str= and derive substrings lazily.</text>
</g>
<!-- prose_51&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>prose_51&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5528.2337,-508.7416C5521.1942,-497.2388 5510.3631,-483.1202 5496.5,-476.0006 5377.8776,-415.0803 5023.5445,-483.5363 4897.5,-440.0006 4810.9936,-410.1214 4726.943,-341.6785 4681.119,-300.0013"/>
<polygon fill="#000000" stroke="#000000" points="4683.2875,-297.2405 4673.5568,-293.0494 4678.55,-302.3939 4683.2875,-297.2405"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="5426.5,-300.9007 4906.5,-300.9007 4906.5,-230.4999 5426.5,-230.4999 5426.5,-300.9007"/>
<text text-anchor="middle" x="5166.5" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">If we included the full span as a substring on each Node, we&#39;d end up</text>
<text text-anchor="middle" x="5166.5" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">with a lot of spans, and wouldn&#39;t use most of them. Even slicing a piece</text>
<text text-anchor="middle" x="5166.5" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">out is costly if we&#39;re not going to use it. </text>
</g>
<!-- prose_52&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>prose_52&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5609.4552,-509.0588C5602.2111,-497.9956 5591.4491,-484.2593 5578.5,-476.0006 5523.2431,-440.7588 5495.5864,-466.1718 5435.5,-440.0006 5354.8675,-404.8804 5271.2681,-346.6917 5219.0973,-307.3034"/>
<polygon fill="#000000" stroke="#000000" points="5221.0789,-304.4134 5210.9993,-301.1497 5216.8436,-309.9868 5221.0789,-304.4134"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="5958,-308.3014 5445,-308.3014 5445,-223.0993 5958,-223.0993 5958,-308.3014"/>
<text text-anchor="middle" x="5701.5" y="-277.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">So our constructor for a Node class takes (Constructor, node, str) as </text>
<text text-anchor="middle" x="5701.5" y="-261.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">the standard interface. &#160;If a module needs a non&#45;standard constructor,</text>
<text text-anchor="middle" x="5701.5" y="-246.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">as our Section and Block modules currently take an array of lines, that</text>
<text text-anchor="middle" x="5701.5" y="-231.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">will need to be provided as the second return from the module. </text>
</g>
<!-- prose_53&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>prose_53&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5701.5,-508.1617C5701.5,-469.3327 5701.5,-377.5666 5701.5,-318.7265"/>
<polygon fill="#000000" stroke="#000000" points="5705.0001,-318.5026 5701.5,-308.5027 5698.0001,-318.5027 5705.0001,-318.5026"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="6475,-301.0007 5976,-301.0007 5976,-230.4 6475,-230.4 6475,-301.0007"/>
<text text-anchor="middle" x="6225.5" y="-269.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">This will allow for the kind of multi&#45;pass recursive&#45;descent that I&#39;m</text>
<text text-anchor="middle" x="6225.5" y="-254.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">aiming for. </text>
</g>
<!-- prose_54&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>prose_54&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6018.3245,-510.1865C6051.9668,-470.4855 6138.993,-367.7866 6188.8967,-308.8956"/>
<polygon fill="#000000" stroke="#000000" points="6191.591,-311.1299 6195.3857,-301.2379 6186.2506,-306.6044 6191.591,-311.1299"/>
</g>
<!-- header_61 -->
<g id="node62" class="node">
<title>header_61</title>
<ellipse fill="none" stroke="#000000" cx="6601.5" cy="-265.7003" rx="108.8185" ry="18"/>
<text text-anchor="middle" x="6601.5" y="-261.5003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : line tracking (optional)</text>
</g>
<!-- section_55&#45;&gt;header_61 -->
<g id="edge61" class="edge">
<title>section_55&#45;&gt;header_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6782.9946,-508.7345C6765.7467,-491.7801 6739.7201,-465.1638 6719.5,-440.0006 6679.5768,-390.3177 6639.2805,-327.4271 6617.651,-292.3874"/>
<polygon fill="#000000" stroke="#000000" points="6620.527,-290.3823 6612.3132,-283.6903 6614.561,-294.044 6620.527,-290.3823"/>
</g>
<!-- prose_62 -->
<g id="node63" class="node">
<title>prose_62</title>
<ellipse fill="none" stroke="#000000" cx="6760.5" cy="-265.7003" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6760.5" y="-261.5003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_55&#45;&gt;prose_62 -->
<g id="edge62" class="edge">
<title>section_55&#45;&gt;prose_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6798.617,-508.1617C6791.5572,-463.2544 6773.3658,-347.5394 6764.9244,-293.844"/>
<polygon fill="#000000" stroke="#000000" points="6768.336,-293.0079 6763.3254,-283.6728 6761.421,-294.095 6768.336,-293.0079"/>
</g>
<!-- prose_63 -->
<g id="node64" class="node">
<title>prose_63</title>
<ellipse fill="none" stroke="#000000" cx="6842.5" cy="-265.7003" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6842.5" y="-261.5003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_55&#45;&gt;prose_63 -->
<g id="edge63" class="edge">
<title>section_55&#45;&gt;prose_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6804.383,-508.1617C6811.4428,-463.2544 6829.6342,-347.5394 6838.0756,-293.844"/>
<polygon fill="#000000" stroke="#000000" points="6841.579,-294.095 6839.6746,-283.6728 6834.664,-293.0079 6841.579,-294.095"/>
</g>
<!-- prose_64 -->
<g id="node65" class="node">
<title>prose_64</title>
<ellipse fill="none" stroke="#000000" cx="6924.5" cy="-265.7003" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6924.5" y="-261.5003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_55&#45;&gt;prose_64 -->
<g id="edge64" class="edge">
<title>section_55&#45;&gt;prose_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6823.7082,-508.9769C6842.4552,-492.985 6868.5627,-467.6803 6883.5,-440.0006 6908.9873,-392.7712 6918.7447,-329.9735 6922.3967,-294.0846"/>
<polygon fill="#000000" stroke="#000000" points="6925.9067,-294.138 6923.3447,-283.8576 6918.9365,-293.4918 6925.9067,-294.138"/>
</g>
<!-- prose_65 -->
<g id="node66" class="node">
<title>prose_65</title>
<ellipse fill="none" stroke="#000000" cx="7006.5" cy="-265.7003" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7006.5" y="-261.5003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_55&#45;&gt;prose_65 -->
<g id="edge65" class="edge">
<title>section_55&#45;&gt;prose_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6850.7743,-512.7744C6887.7891,-499.9284 6936.8493,-477.0516 6965.5,-440.0006 6998.8173,-396.9148 7005.7344,-331.1628 7006.782,-293.9511"/>
<polygon fill="#000000" stroke="#000000" points="7010.2836,-293.8684 7006.9404,-283.8149 7003.2845,-293.7589 7010.2836,-293.8684"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="6432.5,-55.6015 5940.5,-55.6015 5940.5,.2015 6432.5,.2015 6432.5,-55.6015"/>
<text text-anchor="middle" x="6186.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">It may be wise to always track lines, in which case we will include:</text>
</g>
<!-- prose_62&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>prose_62&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6762.3243,-247.6081C6764.8281,-211.7828 6764.6972,-131.7957 6719.5,-91.4 6716.6534,-88.8558 6576.9518,-72.2131 6441.3051,-56.5783"/>
<polygon fill="#000000" stroke="#000000" points="6441.466,-53.0738 6431.1312,-55.4067 6440.6651,-60.0278 6441.466,-53.0738"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="6830.5,-55.0004 6450.5,-55.0004 6450.5,-.3996 6830.5,-.3996 6830.5,-55.0004"/>
<text text-anchor="middle" x="6640.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; line_first : &#160;The line at which the match begins</text>
<text text-anchor="middle" x="6640.5" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; line_last &#160;: &#160;The line at which the match ends</text>
</g>
<!-- prose_63&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>prose_63&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6843.3993,-247.4764C6844.1085,-212.8132 6840.7231,-136.8 6801.5,-91.4 6790.2471,-78.3751 6775.9732,-67.9899 6760.5926,-59.7152"/>
<polygon fill="#000000" stroke="#000000" points="6761.9272,-56.4682 6751.4233,-55.0831 6758.7708,-62.7162 6761.9272,-56.4682"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="7404,-55.0004 6849,-55.0004 6849,-.3996 7404,-.3996 7404,-55.0004"/>
<text text-anchor="middle" x="7126.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">This is, at least, a frequent enough pattern that the metatable should return</text>
<text text-anchor="middle" x="7126.5" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000">a negative number if these aren&#39;t assigned. </text>
</g>
<!-- prose_64&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>prose_64&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6923.6007,-247.4764C6922.8915,-212.8132 6926.2769,-136.8 6965.5,-91.4 6976.7529,-78.3751 6991.0268,-67.9899 7006.4074,-59.7152"/>
<polygon fill="#000000" stroke="#000000" points="7008.2292,-62.7162 7015.5767,-55.0831 7005.0728,-56.4682 7008.2292,-62.7162"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="7823,-55.6015 7422,-55.6015 7422,.2015 7823,.2015 7823,-55.6015"/>
<text text-anchor="middle" x="7622.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; [ ] #todo decide if line tracking is in fact optional</text>
</g>
<!-- prose_65&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>prose_65&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7004.6051,-247.5283C7001.9744,-211.5595 7001.8884,-131.3272 7047.5,-91.4 7106.6712,-39.6032 7316.0717,-62.9308 7411.8789,-55.2727"/>
<polygon fill="#000000" stroke="#000000" points="7412.269,-58.7514 7421.8866,-54.307 7411.5966,-51.7838 7412.269,-58.7514"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="7612,-308.9007 7057,-308.9007 7057,-222.5 7612,-222.5 7612,-308.9007"/>
<text text-anchor="middle" x="7334.5" y="-261.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The way the Grammar class will work: each =V&quot;patt&quot;= can have a metatable.</text>
<text text-anchor="middle" x="7334.5" y="-246.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">These are passed in as the second parameter during construction, with the key</text>
<text text-anchor="middle" x="7334.5" y="-230.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">the same name as the rule. </text>
</g>
<!-- prose_71&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>prose_71&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8902.6057,-509.1043C8895.6081,-497.4498 8884.675,-483.0031 8870.5,-476.0006 8746.0244,-414.51 7754.6449,-479.3415 7621.5,-440.0006 7535.8861,-414.704 7450,-357.3004 7394.8035,-315.2546"/>
<polygon fill="#000000" stroke="#000000" points="7396.6105,-312.229 7386.5499,-308.9072 7392.3432,-317.7779 7396.6105,-312.229"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="8192.5,-293.0008 7630.5,-293.0008 7630.5,-238.3999 8192.5,-238.3999 8192.5,-293.0008"/>
<text text-anchor="middle" x="7911.5" y="-261.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">If a pattern doesn&#39;t have a metatable, it&#39;s given a Node class and consists of</text>
<text text-anchor="middle" x="7911.5" y="-246.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">only the above fields, plus an array representing any subrules. </text>
</g>
<!-- prose_72&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>prose_72&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8984.5642,-509.1874C8977.547,-497.572 8966.6076,-483.138 8952.5,-476.0006 8803.4136,-400.5741 8361.3853,-488.504 8201.5,-440.0006 8104.1902,-410.4803 8005.876,-341.1809 7952.4135,-299.4005"/>
<polygon fill="#000000" stroke="#000000" points="7954.5605,-296.6363 7944.5408,-293.1928 7950.2262,-302.133 7954.5605,-296.6363"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="8730.5,-293.0008 8210.5,-293.0008 8210.5,-238.3999 8730.5,-238.3999 8730.5,-293.0008"/>
<text text-anchor="middle" x="8470.5" y="-261.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">If it does, the metatable will have a =__call= method, which expects two</text>
<text text-anchor="middle" x="8470.5" y="-246.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">parameters, itself, and the node, which will include the span. </text>
</g>
<!-- prose_73&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>prose_73&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9066.0902,-509.0107C9058.9867,-497.628 9048.138,-483.5425 9034.5,-476.0006 8918.9128,-412.0809 8863.6579,-485.0666 8739.5,-440.0006 8650.0615,-407.5368 8560.0973,-340.6851 8510.2068,-299.8622"/>
<polygon fill="#000000" stroke="#000000" points="8512.1941,-296.9642 8502.2542,-293.2968 8507.7376,-302.3623 8512.1941,-296.9642"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="9318,-300.9007 8749,-300.9007 8749,-230.4999 9318,-230.4999 9318,-300.9007"/>
<text text-anchor="middle" x="9033.5" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">This will require reattunement of basically every class in the =/grym= folder,</text>
<text text-anchor="middle" x="9033.5" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">but let&#39;s build the Prose parse first. &#160;I do want the whole shebang in a single</text>
<text text-anchor="middle" x="9033.5" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">grammar eventually.</text>
</g>
<!-- prose_74&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>prose_74&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9149.1715,-508.9839C9130.088,-468.847 9082.7046,-369.1888 9054.8623,-310.6301"/>
<polygon fill="#000000" stroke="#000000" points="9057.8572,-308.7779 9050.4022,-301.2496 9051.5353,-311.7837 9057.8572,-308.7779"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="9884.5,-308.3014 9336.5,-308.3014 9336.5,-223.0993 9884.5,-223.0993 9884.5,-308.3014"/>
<text text-anchor="middle" x="9610.5" y="-277.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">The intention is to allow multiple grammars to coexist peacefully. Currently</text>
<text text-anchor="middle" x="9610.5" y="-261.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">the parser is handrolled and we have special case values for everything.</text>
<text text-anchor="middle" x="9610.5" y="-246.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">The idea is to stabilize this, so that multi&#45;pass parsing works but in a</text>
<text text-anchor="middle" x="9610.5" y="-231.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">standard way where the Node constructor is a consistent interface. </text>
</g>
<!-- prose_75&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>prose_75&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9494.8285,-508.9839C9513.1782,-470.3904 9557.6932,-376.7651 9585.8419,-317.5619"/>
<polygon fill="#000000" stroke="#000000" points="9589.0795,-318.9035 9590.2126,-308.3694 9582.7577,-315.8977 9589.0795,-318.9035"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="10164,-285.6024 9903,-285.6024 9903,-245.7982 10164,-245.7982 10164,-285.6024"/>
<text text-anchor="middle" x="10033.5" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">In the meantime we have things like</text>
</g>
<!-- prose_76&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>prose_76&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9873.7198,-509.3889C9902.5069,-465.4842 9979.2174,-348.4893 10014.8403,-294.1591"/>
<polygon fill="#000000" stroke="#000000" points="10017.836,-295.9733 10020.3923,-285.6915 10011.9822,-292.135 10017.836,-295.9733"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="10709,-293.0008 10182,-293.0008 10182,-238.3999 10709,-238.3999 10709,-293.0008"/>
<text text-anchor="middle" x="10445.5" y="-261.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines : &#160;If this exists, there&#39;s a collection of lines which need to be</text>
<text text-anchor="middle" x="10445.5" y="-246.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;joined with =\n= to reconstruct the actual span.</text>
</g>
<!-- prose_77&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>prose_77&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10268.6103,-509.7897C10298.8334,-468.085 10378.1176,-358.681 10419.5057,-301.5697"/>
<polygon fill="#000000" stroke="#000000" points="10422.5343,-303.3551 10425.5683,-293.204 10416.8662,-299.2475 10422.5343,-303.3551"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="11275.5,-293.0008 10727.5,-293.0008 10727.5,-238.3999 11275.5,-238.3999 11275.5,-293.0008"/>
<text text-anchor="middle" x="11001.5" y="-261.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;We want to do this the other way, and use the span itself for the</text>
<text text-anchor="middle" x="11001.5" y="-246.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;inner parse. </text>
</g>
<!-- prose_78&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>prose_78&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10747.9833,-510.5791C10790.9143,-469.1108 10906.9344,-357.0439 10965.9646,-300.0249"/>
<polygon fill="#000000" stroke="#000000" points="10968.4549,-302.4857 10973.2158,-293.0208 10963.5916,-297.4509 10968.4549,-302.4857"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="11365.5,-283.7003 11293.5,-283.7003 11293.5,-247.7003 11365.5,-247.7003 11365.5,-283.7003"/>
<text text-anchor="middle" x="11329.5" y="-262.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">return N</text>
</g>
<!-- codeblock_79&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>codeblock_79&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11115.714,-518.4229C11170.3695,-508.6934 11241.0697,-487.2507 11284.5,-440.0006 11321.7472,-399.4774 11329.0434,-332.2181 11329.9699,-294.1875"/>
<polygon fill="#000000" stroke="#000000" points="11333.4734,-293.8704 11330.0808,-283.8334 11326.4739,-293.7954 11333.4734,-293.8704"/>
</g>
</g>
</svg>