<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="10180pt" height="799pt"
 viewBox="0.00 0.00 10179.50 799.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 795.4007)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-795.4007 10175.5,-795.4007 10175.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="668.5" cy="-773.4007" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="668.5" y="-769.2007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 144</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="668.5" cy="-701.4007" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="668.5" y="-697.2007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;49</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M668.5,-755.232C668.5,-747.5316 668.5,-738.375 668.5,-729.8173"/>
<polygon fill="#000000" stroke="#000000" points="672.0001,-729.8139 668.5,-719.8139 665.0001,-729.814 672.0001,-729.8139"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="519.5" cy="-629.4007" rx="43.5751" ry="18"/>
<text text-anchor="middle" x="519.5" y="-625.2007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Node</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M636.5358,-685.9548C613.1822,-674.6699 581.4424,-659.3326 556.908,-647.477"/>
<polygon fill="#000000" stroke="#000000" points="558.4169,-644.319 547.8902,-643.1194 555.3713,-650.6217 558.4169,-644.319"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="613.5" cy="-629.4007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="613.5" y="-625.2007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M654.9045,-683.6029C648.1139,-674.7134 639.7883,-663.8145 632.3881,-654.1269"/>
<polygon fill="#000000" stroke="#000000" points="635.0368,-651.8286 626.185,-646.0065 629.4741,-656.0779 635.0368,-651.8286"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="724.5" cy="-629.4007" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="724.5" y="-625.2007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 7&#45;29</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M682.3427,-683.6029C689.0563,-674.9711 697.2436,-664.4446 704.6109,-654.9723"/>
<polygon fill="#000000" stroke="#000000" points="707.4398,-657.036 710.8165,-646.9937 701.9143,-652.7384 707.4398,-657.036"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="2881.5" cy="-629.4007" rx="70.655" ry="18"/>
<text text-anchor="middle" x="2881.5" y="-625.2007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 50&#45;109</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M729.1286,-699.4281C1039.3561,-689.3348 2448.2561,-643.4963 2801.161,-632.0145"/>
<polygon fill="#000000" stroke="#000000" points="2801.411,-635.5083 2811.2918,-631.6849 2801.1833,-628.512 2801.411,-635.5083"/>
</g>
<!-- leaf_6 -->
<g id="node7" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="359,-575.6016 0,-575.6016 0,-487.7997 359,-487.7997 359,-575.6016"/>
<text text-anchor="middle" x="179.5" y="-512.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Time to stabilize this class once and for all. </text>
</g>
<!-- prose_3&#45;&gt;leaf_6 -->
<g id="edge6" class="edge">
<title>prose_3&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M589.146,-617.5689C583.755,-615.2731 578.0062,-613.0664 572.5,-611.4007 486.9839,-585.5307 459.9789,-593.2884 368.9739,-575.6361"/>
<polygon fill="#000000" stroke="#000000" points="369.5571,-572.1836 359.0662,-573.6639 368.1904,-579.0489 369.5571,-572.1836"/>
</g>
<!-- header_7 -->
<g id="node8" class="node">
<title>header_7</title>
<ellipse fill="none" stroke="#000000" cx="461.5" cy="-531.7006" rx="84.6634" ry="18"/>
<text text-anchor="middle" x="461.5" y="-527.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Node metatable</text>
</g>
<!-- section_4&#45;&gt;header_7 -->
<g id="edge7" class="edge">
<title>section_4&#45;&gt;header_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M680.2001,-616.9092C645.7964,-606.8105 597.104,-591.6438 555.5,-575.4007 538.2628,-568.6709 519.7083,-560.2975 503.6752,-552.6864"/>
<polygon fill="#000000" stroke="#000000" points="505.0856,-549.4812 494.5555,-548.3114 502.0578,-555.7925 505.0856,-549.4812"/>
</g>
<!-- prose_8 -->
<g id="node9" class="node">
<title>prose_8</title>
<ellipse fill="none" stroke="#000000" cx="596.5" cy="-531.7006" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="596.5" y="-527.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_8 -->
<g id="edge8" class="edge">
<title>section_4&#45;&gt;prose_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M695.428,-613.545C678.1777,-603.5637 656.2783,-589.8645 638.5,-575.4007 631.2251,-569.482 623.925,-562.3878 617.4991,-555.654"/>
<polygon fill="#000000" stroke="#000000" points="619.7758,-552.9615 610.411,-548.0065 614.6418,-557.72 619.7758,-552.9615"/>
</g>
<!-- codeblock_9 -->
<g id="node10" class="node">
<title>codeblock_9</title>
<ellipse fill="none" stroke="#000000" cx="724.5" cy="-531.7006" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="724.5" y="-527.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 13&#45;18</text>
</g>
<!-- section_4&#45;&gt;codeblock_9 -->
<g id="edge9" class="edge">
<title>section_4&#45;&gt;codeblock_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M724.5,-611.024C724.5,-596.6955 724.5,-576.543 724.5,-560.1365"/>
<polygon fill="#000000" stroke="#000000" points="728.0001,-559.9948 724.5,-549.9949 721.0001,-559.9949 728.0001,-559.9948"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="885.5" cy="-531.7006" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="885.5" y="-527.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 22&#45;29</text>
</g>
<!-- section_4&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_4&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M751.4478,-613.0479C778.3812,-596.7038 819.952,-571.4773 849.6561,-553.4519"/>
<polygon fill="#000000" stroke="#000000" points="851.731,-556.2868 858.4643,-548.1068 848.0995,-550.3025 851.731,-556.2868"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="1096.5" cy="-531.7006" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1096.5" y="-527.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 30&#45;49</text>
</g>
<!-- section_4&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_4&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M774.9939,-619.161C822.9932,-609.1179 897.0681,-592.8141 960.5,-575.4007 989.0022,-567.5762 1020.4419,-557.5658 1045.9066,-549.1006"/>
<polygon fill="#000000" stroke="#000000" points="1047.3383,-552.3123 1055.7108,-545.8199 1045.117,-545.6741 1047.3383,-552.3123"/>
</g>
<!-- header_22 -->
<g id="node23" class="node">
<title>header_22</title>
<ellipse fill="none" stroke="#000000" cx="2583.5" cy="-531.7006" rx="83.6943" ry="18"/>
<text text-anchor="middle" x="2583.5" y="-527.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Node Instances</text>
</g>
<!-- section_5&#45;&gt;header_22 -->
<g id="edge22" class="edge">
<title>section_5&#45;&gt;header_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2826.7227,-617.8268C2784.9503,-608.319 2726.3138,-593.4949 2676.5,-575.4007 2659.1193,-569.0874 2640.5665,-560.722 2624.6402,-553.0015"/>
<polygon fill="#000000" stroke="#000000" points="2626.1131,-549.8256 2615.5953,-548.5507 2623.0225,-556.1064 2626.1131,-549.8256"/>
</g>
<!-- prose_23 -->
<g id="node24" class="node">
<title>prose_23</title>
<ellipse fill="none" stroke="#000000" cx="2717.5" cy="-531.7006" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2717.5" y="-527.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_23 -->
<g id="edge23" class="edge">
<title>section_5&#45;&gt;prose_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2837.991,-615.2188C2813.3835,-606.0298 2782.7785,-592.568 2758.5,-575.4007 2750.9296,-570.0476 2743.6609,-563.1251 2737.4016,-556.3749"/>
<polygon fill="#000000" stroke="#000000" points="2739.8048,-553.8089 2730.5596,-548.6341 2734.5599,-558.4448 2739.8048,-553.8089"/>
</g>
<!-- prose_24 -->
<g id="node25" class="node">
<title>prose_24</title>
<ellipse fill="none" stroke="#000000" cx="2799.5" cy="-531.7006" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2799.5" y="-527.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_24 -->
<g id="edge24" class="edge">
<title>section_5&#45;&gt;prose_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2866.4599,-611.481C2853.4272,-595.953 2834.4495,-573.3417 2820.0228,-556.1528"/>
<polygon fill="#000000" stroke="#000000" points="2822.4619,-553.6146 2813.3522,-548.205 2817.1001,-558.1148 2822.4619,-553.6146"/>
</g>
<!-- prose_25 -->
<g id="node26" class="node">
<title>prose_25</title>
<ellipse fill="none" stroke="#000000" cx="2881.5" cy="-531.7006" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2881.5" y="-527.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_25 -->
<g id="edge25" class="edge">
<title>section_5&#45;&gt;prose_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2881.5,-611.024C2881.5,-596.6955 2881.5,-576.543 2881.5,-560.1365"/>
<polygon fill="#000000" stroke="#000000" points="2885.0001,-559.9948 2881.5,-549.9949 2878.0001,-559.9949 2885.0001,-559.9948"/>
</g>
<!-- prose_26 -->
<g id="node27" class="node">
<title>prose_26</title>
<ellipse fill="none" stroke="#000000" cx="3080.5" cy="-531.7006" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3080.5" y="-527.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_26 -->
<g id="edge26" class="edge">
<title>section_5&#45;&gt;prose_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2914.3608,-613.2675C2950.9438,-595.3069 3009.7698,-566.426 3046.7203,-548.2849"/>
<polygon fill="#000000" stroke="#000000" points="3048.6366,-551.2432 3056.0707,-543.6943 3045.5517,-544.9597 3048.6366,-551.2432"/>
</g>
<!-- prose_27 -->
<g id="node28" class="node">
<title>prose_27</title>
<ellipse fill="none" stroke="#000000" cx="3505.5" cy="-531.7006" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3505.5" y="-527.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_27 -->
<g id="edge27" class="edge">
<title>section_5&#45;&gt;prose_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2941.8987,-619.944C3067.9959,-600.2009 3356.447,-555.0379 3464.0332,-538.1931"/>
<polygon fill="#000000" stroke="#000000" points="3464.8284,-541.6113 3474.1666,-536.6065 3463.7456,-534.6956 3464.8284,-541.6113"/>
</g>
<!-- section_28 -->
<g id="node29" class="node">
<title>section_28</title>
<ellipse fill="none" stroke="#000000" cx="4384.5" cy="-531.7006" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="4384.5" y="-527.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 74&#45;96</text>
</g>
<!-- section_5&#45;&gt;section_28 -->
<g id="edge28" class="edge">
<title>section_5&#45;&gt;section_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2949.9864,-624.9488C3198.6294,-608.7862 4052.5707,-553.2772 4310.2814,-536.5251"/>
<polygon fill="#000000" stroke="#000000" points="4310.5362,-540.016 4320.2881,-535.8746 4310.0821,-533.0308 4310.5362,-540.016"/>
</g>
<!-- section_29 -->
<g id="node30" class="node">
<title>section_29</title>
<ellipse fill="none" stroke="#000000" cx="7963.5" cy="-531.7006" rx="74.6878" ry="18"/>
<text text-anchor="middle" x="7963.5" y="-527.5006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 110&#45;144</text>
</g>
<!-- section_5&#45;&gt;section_29 -->
<g id="edge29" class="edge">
<title>section_5&#45;&gt;section_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2951.8879,-628.0475C3513.7036,-617.2467 7264.7626,-545.1337 7878.6073,-533.3327"/>
<polygon fill="#000000" stroke="#000000" points="7878.7743,-536.8302 7888.7051,-533.1386 7878.6397,-529.8315 7878.7743,-536.8302"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="615.5,-444.7009 81.5,-444.7009 81.5,-358.3002 615.5,-358.3002 615.5,-444.7009"/>
<text text-anchor="middle" x="348.5" y="-397.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The Node metatable is the root table for any Node. &#160;I&#39;m planning to make</text>
<text text-anchor="middle" x="348.5" y="-382.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">an intermediate class/table called Root that is in common for any instance</text>
<text text-anchor="middle" x="348.5" y="-366.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">Node. &#160;All Root absolutely has to contain is =str=. </text>
</g>
<!-- prose_8&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>prose_8&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M583.8514,-515.119C576.3703,-506.1756 566.2699,-495.4726 555.5,-488.0006 533.934,-473.0385 509.3777,-459.9595 484.8998,-448.809"/>
<polygon fill="#000000" stroke="#000000" points="486.0872,-445.5063 475.5287,-444.63 483.2362,-451.8995 486.0872,-445.5063"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="755,-436.7009 634,-436.7009 634,-366.3002 755,-366.3002 755,-436.7009"/>
<text text-anchor="middle" x="694.5" y="-405.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local N = {}</text>
<text text-anchor="middle" x="694.5" y="-390.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">N.__index = N</text>
<text text-anchor="middle" x="694.5" y="-374.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">N.isNode = true</text>
</g>
<!-- codeblock_9&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>codeblock_9&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M720.3286,-513.5969C716.3597,-496.3716 710.2249,-469.7468 704.9301,-446.7672"/>
<polygon fill="#000000" stroke="#000000" points="708.3004,-445.806 702.6444,-436.8472 701.4792,-447.3778 708.3004,-445.806"/>
</g>
<!-- header_14 -->
<g id="node15" class="node">
<title>header_14</title>
<ellipse fill="none" stroke="#000000" cx="818.5" cy="-401.5005" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="818.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Fields</text>
</g>
<!-- section_10&#45;&gt;header_14 -->
<g id="edge14" class="edge">
<title>section_10&#45;&gt;header_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M876.3244,-513.8699C865.011,-491.8847 845.6673,-454.2944 832.496,-428.6987"/>
<polygon fill="#000000" stroke="#000000" points="835.4676,-426.8241 827.7798,-419.5338 829.2433,-430.027 835.4676,-426.8241"/>
</g>
<!-- prose_15 -->
<g id="node16" class="node">
<title>prose_15</title>
<ellipse fill="none" stroke="#000000" cx="914.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="914.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_15 -->
<g id="edge15" class="edge">
<title>section_10&#45;&gt;prose_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M889.5323,-513.5969C894.4019,-491.734 902.6442,-454.729 908.3184,-429.2539"/>
<polygon fill="#000000" stroke="#000000" points="911.7441,-429.9723 910.5019,-419.4506 904.9115,-428.4504 911.7441,-429.9723"/>
</g>
<!-- header_17 -->
<g id="node18" class="node">
<title>header_17</title>
<ellipse fill="none" stroke="#000000" cx="1021.5" cy="-401.5005" rx="56.1302" ry="18"/>
<text text-anchor="middle" x="1021.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Methods</text>
</g>
<!-- section_11&#45;&gt;header_17 -->
<g id="edge17" class="edge">
<title>section_11&#45;&gt;header_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1086.2288,-513.8699C1073.5088,-491.7879 1051.7202,-453.9629 1036.9727,-428.3612"/>
<polygon fill="#000000" stroke="#000000" points="1039.9121,-426.4519 1031.8878,-419.5338 1033.8465,-429.946 1039.9121,-426.4519"/>
</g>
<!-- prose_18 -->
<g id="node19" class="node">
<title>prose_18</title>
<ellipse fill="none" stroke="#000000" cx="1128.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1128.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_18 -->
<g id="edge18" class="edge">
<title>section_11&#45;&gt;prose_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1100.9495,-513.5969C1106.3228,-491.734 1115.4178,-454.729 1121.6789,-429.2539"/>
<polygon fill="#000000" stroke="#000000" points="1125.1004,-429.9969 1124.0883,-419.4506 1118.3027,-428.3262 1125.1004,-429.9969"/>
</g>
<!-- codeblock_19 -->
<g id="node20" class="node">
<title>codeblock_19</title>
<ellipse fill="none" stroke="#000000" cx="1256.5" cy="-401.5005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1256.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 32&#45;47</text>
</g>
<!-- section_11&#45;&gt;codeblock_19 -->
<g id="edge19" class="edge">
<title>section_11&#45;&gt;codeblock_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1117.7468,-514.4111C1145.8386,-491.5513 1195.4717,-451.1624 1227.1355,-425.396"/>
<polygon fill="#000000" stroke="#000000" points="1229.6181,-427.8882 1235.1654,-418.8616 1225.1998,-422.4587 1229.6181,-427.8882"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1083,-261.7004 570,-261.7004 570,-144.7001 1083,-144.7001 1083,-261.7004"/>
<text text-anchor="middle" x="826.5" y="-214.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; id : &#160;A string naming the Node. </text>
<text text-anchor="middle" x="826.5" y="-199.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;This is identical to the name of the pattern that recognizes</text>
<text text-anchor="middle" x="826.5" y="-183.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;or captures it.</text>
<text text-anchor="middle" x="826.5" y="-168.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; line_first : &#160;Always &#45;1.</text>
<text text-anchor="middle" x="826.5" y="-152.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; line_last &#160;: &#160;Always &#45;1. </text>
</g>
<!-- prose_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>prose_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M906.6906,-383.9027C895.5296,-358.7524 874.4006,-311.14 856.6323,-271.1007"/>
<polygon fill="#000000" stroke="#000000" points="859.803,-269.6169 852.5476,-261.8962 853.4047,-272.4563 859.803,-269.6169"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1155.5,-221.2002 1101.5,-221.2002 1101.5,-185.2002 1155.5,-185.2002 1155.5,-221.2002"/>
</g>
<!-- prose_18&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>prose_18&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1128.5,-383.2004C1128.5,-348.5223 1128.5,-273.0161 1128.5,-231.6689"/>
<polygon fill="#000000" stroke="#000000" points="1132.0001,-231.4562 1128.5,-221.4562 1125.0001,-231.4562 1132.0001,-231.4562"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1659,-314.801 1174,-314.801 1174,-91.5995 1659,-91.5995 1659,-314.801"/>
<text text-anchor="middle" x="1416.5" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.toString(Node, depth)</text>
<text text-anchor="middle" x="1416.5" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local depth = depth or 0</text>
<text text-anchor="middle" x="1416.5" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="1416.5" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;phrase = (&quot; &#160;&quot;):rep(depth) .. &quot;id: &quot; .. Node.id .. &quot;, &#160;&quot;</text>
<text text-anchor="middle" x="1416.5" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;.. &quot;first: &quot; .. Node.first .. &quot;, last: &quot; .. Node.last .. &quot;\n&quot;</text>
<text text-anchor="middle" x="1416.5" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if Node[1] then</text>
<text text-anchor="middle" x="1416.5" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(Node) do</text>
<text text-anchor="middle" x="1416.5" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if(v.isNode) then</text>
<text text-anchor="middle" x="1416.5" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. N.toString(v, depth + 1)</text>
<text text-anchor="middle" x="1416.5" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1416.5" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1416.5" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end </text>
<text text-anchor="middle" x="1416.5" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase</text>
<text text-anchor="middle" x="1416.5" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_19&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>codeblock_19&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1270.9811,-383.553C1282.8507,-368.8421 1300.7825,-346.6179 1320.0445,-322.7449"/>
<polygon fill="#000000" stroke="#000000" points="1322.7837,-324.9239 1326.3392,-314.9434 1317.3358,-320.5282 1322.7837,-324.9239"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="1913.5,-436.8009 1351.5,-436.8009 1351.5,-366.2002 1913.5,-366.2002 1913.5,-436.8009"/>
<text text-anchor="middle" x="1632.5" y="-389.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;To be a Node, currently, indexed elements of the Array portion must also be </text>
<text text-anchor="middle" x="1632.5" y="-374.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">Nodes. </text>
</g>
<!-- prose_23&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>prose_23&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2706.4041,-514.4822C2699.1599,-504.8495 2688.7789,-493.669 2676.5,-488.0006 2600.3493,-452.8468 2005.8657,-461.213 1922.5,-452.0006 1890.8519,-448.5033 1857.4312,-443.7171 1824.9753,-438.4765"/>
<polygon fill="#000000" stroke="#000000" points="1825.3704,-434.9947 1814.9368,-436.8364 1824.2416,-441.9031 1825.3704,-434.9947"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="2479.5,-436.7009 1931.5,-436.7009 1931.5,-366.3002 2479.5,-366.3002 2479.5,-436.7009"/>
<text text-anchor="middle" x="2205.5" y="-405.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m mostly convinced that indexed elements can also be strings, and that </text>
<text text-anchor="middle" x="2205.5" y="-390.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">this is the form leaf nodes should take. &#160;Currently, they have a &#39;val&#39; field</text>
<text text-anchor="middle" x="2205.5" y="-374.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">and no children, which we should replace with a child string at [1].</text>
</g>
<!-- prose_24&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>prose_24&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2787.8818,-514.4173C2780.5925,-505.0145 2770.3425,-494.0895 2758.5,-488.0006 2650.8354,-432.6442 2608.1187,-470.6387 2488.5,-452.0006 2461.7091,-447.8263 2433.5439,-443.1493 2405.7941,-438.3711"/>
<polygon fill="#000000" stroke="#000000" points="2406.0429,-434.8622 2395.5927,-436.6068 2404.8499,-441.7598 2406.0429,-434.8622"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="3031.5,-436.7009 2497.5,-436.7009 2497.5,-366.3002 3031.5,-366.3002 3031.5,-436.7009"/>
<text text-anchor="middle" x="2764.5" y="-405.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">This gives us a lighter way to handle the circumstance where we have, say,</text>
<text text-anchor="middle" x="2764.5" y="-390.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">a list, =(foo bar baz)=. We currently either need a &quot;left&#45;per&quot; or &quot;pal&quot;</text>
<text text-anchor="middle" x="2764.5" y="-374.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">Node class to hold the =(=, or we would have to skip it entirely.</text>
</g>
<!-- prose_25&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>prose_25&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2866.9184,-515.474C2851.0544,-497.8201 2825.0359,-468.8662 2803.194,-444.56"/>
<polygon fill="#000000" stroke="#000000" points="2805.5547,-441.9506 2796.2674,-436.8519 2800.348,-446.6294 2805.5547,-441.9506"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="3577,-452.0007 3050,-452.0007 3050,-351.0004 3577,-351.0004 3577,-452.0007"/>
<text text-anchor="middle" x="3313.5" y="-420.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">Quipu can&#39;t lose any information from the string, so they have to include</text>
<text text-anchor="middle" x="3313.5" y="-405.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">whitespace. &#160;We&#39;re not limited in the same way and can reconstruct less </text>
<text text-anchor="middle" x="3313.5" y="-390.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">semantically crucial parts of a document using the span and the original </text>
<text text-anchor="middle" x="3313.5" y="-374.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">string, since we&#39;re not /currently/ editing our strings once they&#39;re</text>
<text text-anchor="middle" x="3313.5" y="-359.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">entered in.</text>
</g>
<!-- prose_26&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>prose_26&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3103.6928,-518.7406C3129.5908,-504.2688 3173.2423,-479.8763 3214.0434,-457.0768"/>
<polygon fill="#000000" stroke="#000000" points="3215.9483,-460.0217 3222.9706,-452.0883 3212.5337,-453.911 3215.9483,-460.0217"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="4101.5,-444.7009 3595.5,-444.7009 3595.5,-358.3002 4101.5,-358.3002 4101.5,-444.7009"/>
<text text-anchor="middle" x="3848.5" y="-413.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">Nodes are meant to be broadly compatible with everything we intend to</text>
<text text-anchor="middle" x="3848.5" y="-398.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">do with abstract syntax trees. &#160;The more I think about this the better</text>
<text text-anchor="middle" x="3848.5" y="-382.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">it strikes me as an approach. </text>
</g>
<!-- prose_27&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>prose_27&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3532.4146,-521.4841C3573.7519,-505.7927 3655.4335,-474.7871 3725.4057,-448.2262"/>
<polygon fill="#000000" stroke="#000000" points="3726.648,-451.4984 3734.755,-444.6773 3724.1637,-444.954 3726.648,-451.4984"/>
</g>
<!-- header_35 -->
<g id="node36" class="node">
<title>header_35</title>
<ellipse fill="none" stroke="#000000" cx="4165.5" cy="-401.5005" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="4165.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Fields</text>
</g>
<!-- section_28&#45;&gt;header_35 -->
<g id="edge35" class="edge">
<title>section_28&#45;&gt;header_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4346.3352,-516.8886C4311.964,-502.6996 4260.8026,-479.4295 4220.5,-452.0006 4209.4484,-444.4792 4198.3756,-434.8227 4189.0921,-425.9718"/>
<polygon fill="#000000" stroke="#000000" points="4191.3496,-423.2839 4181.7546,-418.791 4186.4536,-428.2868 4191.3496,-423.2839"/>
</g>
<!-- prose_36 -->
<g id="node37" class="node">
<title>prose_36</title>
<ellipse fill="none" stroke="#000000" cx="4261.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4261.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_28&#45;&gt;prose_36 -->
<g id="edge36" class="edge">
<title>section_28&#45;&gt;prose_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4365.314,-514.2624C4348.2848,-498.5056 4322.9986,-474.4152 4302.5,-452.0006 4295.0692,-443.8753 4287.3514,-434.614 4280.643,-426.2606"/>
<polygon fill="#000000" stroke="#000000" points="4283.2749,-423.9464 4274.3192,-418.2855 4277.79,-428.2957 4283.2749,-423.9464"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="4343.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4343.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_28&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_28&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4378.7991,-513.5969C4371.9145,-491.734 4360.2616,-454.729 4352.2395,-429.2539"/>
<polygon fill="#000000" stroke="#000000" points="4355.4945,-427.9375 4349.1525,-419.4506 4348.8177,-430.0401 4355.4945,-427.9375"/>
</g>
<!-- prose_38 -->
<g id="node39" class="node">
<title>prose_38</title>
<ellipse fill="none" stroke="#000000" cx="4425.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4425.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_28&#45;&gt;prose_38 -->
<g id="edge38" class="edge">
<title>section_28&#45;&gt;prose_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4390.2009,-513.5969C4397.0855,-491.734 4408.7384,-454.729 4416.7605,-429.2539"/>
<polygon fill="#000000" stroke="#000000" points="4420.1823,-430.0401 4419.8475,-419.4506 4413.5055,-427.9375 4420.1823,-430.0401"/>
</g>
<!-- prose_39 -->
<g id="node40" class="node">
<title>prose_39</title>
<ellipse fill="none" stroke="#000000" cx="4507.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4507.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_28&#45;&gt;prose_39 -->
<g id="edge39" class="edge">
<title>section_28&#45;&gt;prose_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4403.686,-514.2624C4420.7152,-498.5056 4446.0014,-474.4152 4466.5,-452.0006 4473.9308,-443.8753 4481.6486,-434.614 4488.357,-426.2606"/>
<polygon fill="#000000" stroke="#000000" points="4491.21,-428.2957 4494.6808,-418.2855 4485.7251,-423.9464 4491.21,-428.2957"/>
</g>
<!-- prose_40 -->
<g id="node41" class="node">
<title>prose_40</title>
<ellipse fill="none" stroke="#000000" cx="4810.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4810.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_28&#45;&gt;prose_40 -->
<g id="edge40" class="edge">
<title>section_28&#45;&gt;prose_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4428.485,-518.2573C4512.1022,-492.7011 4692.7065,-437.5023 4771.9283,-413.2894"/>
<polygon fill="#000000" stroke="#000000" points="4773.4276,-416.491 4781.9679,-410.2209 4771.3816,-409.7967 4773.4276,-416.491"/>
</g>
<!-- section_41 -->
<g id="node42" class="node">
<title>section_41</title>
<ellipse fill="none" stroke="#000000" cx="5607.5" cy="-401.5005" rx="70.655" ry="18"/>
<text text-anchor="middle" x="5607.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 97&#45;109</text>
</g>
<!-- section_28&#45;&gt;section_41 -->
<g id="edge41" class="edge">
<title>section_28&#45;&gt;section_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4445.9869,-525.1548C4650.6414,-503.3673 5308.4839,-433.3337 5532.2029,-409.5166"/>
<polygon fill="#000000" stroke="#000000" points="5532.634,-412.9906 5542.2073,-408.4516 5531.8929,-406.03 5532.634,-412.9906"/>
</g>
<!-- header_56 -->
<g id="node57" class="node">
<title>header_56</title>
<ellipse fill="none" stroke="#000000" cx="7599.5" cy="-401.5005" rx="67.7307" ry="18"/>
<text text-anchor="middle" x="7599.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Other fields</text>
</g>
<!-- section_29&#45;&gt;header_56 -->
<g id="edge56" class="edge">
<title>section_29&#45;&gt;header_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7903.9246,-520.7827C7844.5433,-508.6165 7751.62,-486.0597 7676.5,-452.0006 7660.376,-444.6901 7643.7929,-434.2543 7630.1653,-424.7651"/>
<polygon fill="#000000" stroke="#000000" points="7631.8454,-421.6645 7621.6713,-418.7085 7627.7814,-427.364 7631.8454,-421.6645"/>
</g>
<!-- prose_57 -->
<g id="node58" class="node">
<title>prose_57</title>
<ellipse fill="none" stroke="#000000" cx="7717.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7717.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_29&#45;&gt;prose_57 -->
<g id="edge57" class="edge">
<title>section_29&#45;&gt;prose_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7909.6552,-519.0106C7865.9667,-506.8694 7804.3253,-485.4003 7758.5,-452.0006 7749.2325,-445.2461 7740.8661,-435.9042 7734.1441,-427.0904"/>
<polygon fill="#000000" stroke="#000000" points="7736.9217,-424.9584 7728.2275,-418.9036 7731.2483,-429.0587 7736.9217,-424.9584"/>
</g>
<!-- prose_58 -->
<g id="node59" class="node">
<title>prose_58</title>
<ellipse fill="none" stroke="#000000" cx="7799.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7799.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_29&#45;&gt;prose_58 -->
<g id="edge58" class="edge">
<title>section_29&#45;&gt;prose_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7932.5635,-515.2889C7906.491,-500.6395 7868.9879,-477.5926 7840.5,-452.0006 7832.183,-444.5291 7824.1671,-435.284 7817.4632,-426.7544"/>
<polygon fill="#000000" stroke="#000000" points="7820.0706,-424.4008 7811.2341,-418.5555 7814.4968,-428.6355 7820.0706,-424.4008"/>
</g>
<!-- prose_59 -->
<g id="node60" class="node">
<title>prose_59</title>
<ellipse fill="none" stroke="#000000" cx="7881.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7881.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_29&#45;&gt;prose_59 -->
<g id="edge59" class="edge">
<title>section_29&#45;&gt;prose_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7952.2702,-513.8699C7938.145,-491.4418 7913.7917,-452.7735 7897.6645,-427.1666"/>
<polygon fill="#000000" stroke="#000000" points="7900.6242,-425.2984 7892.3334,-418.7019 7894.7011,-429.0289 7900.6242,-425.2984"/>
</g>
<!-- prose_60 -->
<g id="node61" class="node">
<title>prose_60</title>
<ellipse fill="none" stroke="#000000" cx="7963.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7963.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_29&#45;&gt;prose_60 -->
<g id="edge60" class="edge">
<title>section_29&#45;&gt;prose_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7963.5,-513.5969C7963.5,-491.9534 7963.5,-455.4703 7963.5,-430.0245"/>
<polygon fill="#000000" stroke="#000000" points="7967.0001,-429.8703 7963.5,-419.8703 7960.0001,-429.8703 7967.0001,-429.8703"/>
</g>
<!-- prose_61 -->
<g id="node62" class="node">
<title>prose_61</title>
<ellipse fill="none" stroke="#000000" cx="8292.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8292.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_29&#45;&gt;prose_61 -->
<g id="edge61" class="edge">
<title>section_29&#45;&gt;prose_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8002.5326,-516.2537C8066.8369,-490.8056 8194.1179,-440.4348 8256.428,-415.7759"/>
<polygon fill="#000000" stroke="#000000" points="8257.8405,-418.9811 8265.8509,-412.0468 8255.2646,-412.4722 8257.8405,-418.9811"/>
</g>
<!-- prose_62 -->
<g id="node63" class="node">
<title>prose_62</title>
<ellipse fill="none" stroke="#000000" cx="8668.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8668.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_29&#45;&gt;prose_62 -->
<g id="edge62" class="edge">
<title>section_29&#45;&gt;prose_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8023.0003,-520.7121C8162.6911,-494.9138 8508.786,-430.9967 8627.6504,-409.0447"/>
<polygon fill="#000000" stroke="#000000" points="8628.5819,-412.4319 8637.7799,-407.174 8627.3105,-405.5483 8628.5819,-412.4319"/>
</g>
<!-- prose_63 -->
<g id="node64" class="node">
<title>prose_63</title>
<ellipse fill="none" stroke="#000000" cx="9062.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9062.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_29&#45;&gt;prose_63 -->
<g id="edge63" class="edge">
<title>section_29&#45;&gt;prose_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8033.2756,-525.0842C8165.4134,-512.3682 8461.185,-483.0171 8709.5,-452.0006 8822.6248,-437.8705 8955.6562,-417.9383 9021.4206,-407.8626"/>
<polygon fill="#000000" stroke="#000000" points="9022.0316,-411.3099 9031.3845,-406.3326 9020.9691,-404.391 9022.0316,-411.3099"/>
</g>
<!-- prose_64 -->
<g id="node65" class="node">
<title>prose_64</title>
<ellipse fill="none" stroke="#000000" cx="9537.5" cy="-401.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9537.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_29&#45;&gt;prose_64 -->
<g id="edge64" class="edge">
<title>section_29&#45;&gt;prose_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8036.6149,-527.7596C8217.6543,-517.7464 8701.2475,-489.4448 9103.5,-452.0006 9247.7723,-438.5709 9418.3739,-417.0667 9495.6901,-407.0146"/>
<polygon fill="#000000" stroke="#000000" points="9496.5048,-410.4381 9505.9682,-405.6743 9495.5995,-403.4969 9496.5048,-410.4381"/>
</g>
<!-- codeblock_65 -->
<g id="node66" class="node">
<title>codeblock_65</title>
<ellipse fill="none" stroke="#000000" cx="9967.5" cy="-401.5005" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9967.5" y="-397.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 139&#45;141</text>
</g>
<!-- section_29&#45;&gt;codeblock_65 -->
<g id="edge65" class="edge">
<title>section_29&#45;&gt;codeblock_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8038.1,-530.136C8268.0312,-524.8596 8986.0827,-504.9873 9578.5,-452.0006 9685.6115,-442.4204 9808.592,-425.4444 9887.1098,-413.8418"/>
<polygon fill="#000000" stroke="#000000" points="9888.0336,-417.2431 9897.4113,-412.3126 9887.0057,-410.3189 9888.0336,-417.2431"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="3191,-253.8012 2678,-253.8012 2678,-152.5993 3191,-152.5993 3191,-253.8012"/>
<text text-anchor="middle" x="2934.5" y="-206.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;There are invariant fields a Node is also expected to have, they are:</text>
<text text-anchor="middle" x="2934.5" y="-191.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="2934.5" y="-176.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; first : &#160;Index into =str= which begins the span.</text>
<text text-anchor="middle" x="2934.5" y="-160.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; last &#160;: &#160;Index into =str= which ends the span.</text>
</g>
<!-- prose_36&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>prose_36&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4252.5918,-384.1322C4245.5876,-372.4909 4234.6525,-358.0484 4220.5,-351.0005 4118.8881,-300.3974 3310.3469,-339.4667 3199.5,-315.0005 3144.9877,-302.9684 3087.5483,-280.1236 3040.1346,-258.2047"/>
<polygon fill="#000000" stroke="#000000" points="3041.3307,-254.9004 3030.7894,-253.8368 3038.3666,-261.2419 3041.3307,-254.9004"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="3694,-230.5007 3209,-230.5007 3209,-175.8998 3694,-175.8998 3694,-230.5007"/>
<text text-anchor="middle" x="3451.5" y="-199.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">In principle, we want the Node to be localized. We could include a </text>
<text text-anchor="middle" x="3451.5" y="-184.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">reference to the whole =str= and derive substrings lazily.</text>
</g>
<!-- prose_37&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>prose_37&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4334.2337,-383.7414C4327.1942,-372.2386 4316.3631,-358.1201 4302.5,-351.0005 4183.8776,-290.0801 3833.0673,-346.5423 3703.5,-315.0005 3633.2342,-297.895 3558.1267,-262.035 3508.3704,-235.5179"/>
<polygon fill="#000000" stroke="#000000" points="3509.8464,-232.3376 3499.3817,-230.6819 3506.5298,-238.5021 3509.8464,-232.3376"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="4232.5,-238.4006 3712.5,-238.4006 3712.5,-167.9999 4232.5,-167.9999 4232.5,-238.4006"/>
<text text-anchor="middle" x="3972.5" y="-207.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">If we included the full span as a substring on each Node, we&#39;d end up</text>
<text text-anchor="middle" x="3972.5" y="-191.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">with a lot of spans, and wouldn&#39;t use most of them. Even slicing a piece</text>
<text text-anchor="middle" x="3972.5" y="-176.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">out is costly if we&#39;re not going to use it. </text>
</g>
<!-- prose_38&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>prose_38&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4415.4552,-384.0586C4408.2111,-372.9955 4397.4491,-359.2592 4384.5,-351.0005 4329.2431,-315.7586 4303.7062,-335.6328 4241.5,-315.0005 4178.7818,-294.1983 4110.0138,-265.5082 4057.7081,-242.4002"/>
<polygon fill="#000000" stroke="#000000" points="4059.0297,-239.1575 4048.4695,-238.3011 4056.1907,-245.556 4059.0297,-239.1575"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="4764,-245.8013 4251,-245.8013 4251,-160.5992 4764,-160.5992 4764,-245.8013"/>
<text text-anchor="middle" x="4507.5" y="-214.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">So our constructor for a Node class takes (Constructor, node, str) as </text>
<text text-anchor="middle" x="4507.5" y="-199.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">the standard interface. &#160;If a module needs a non&#45;standard constructor,</text>
<text text-anchor="middle" x="4507.5" y="-184.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">as our Section and Block modules currently take an array of lines, that</text>
<text text-anchor="middle" x="4507.5" y="-168.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">will need to be provided as the second return from the module. </text>
</g>
<!-- prose_39&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>prose_39&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4507.5,-383.2004C4507.5,-354.5899 4507.5,-298.1888 4507.5,-256.1081"/>
<polygon fill="#000000" stroke="#000000" points="4511.0001,-256.0148 4507.5,-246.0148 4504.0001,-256.0148 4511.0001,-256.0148"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="5281,-238.5006 4782,-238.5006 4782,-167.8999 5281,-167.8999 5281,-238.5006"/>
<text text-anchor="middle" x="5031.5" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">This will allow for the kind of multi&#45;pass recursive&#45;descent that I&#39;m</text>
<text text-anchor="middle" x="5031.5" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">aiming for. </text>
</g>
<!-- prose_40&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>prose_40&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4827.8415,-385.9403C4861.1644,-356.0401 4935.1769,-289.6297 4984.1956,-245.6458"/>
<polygon fill="#000000" stroke="#000000" points="4986.7326,-248.0719 4991.8381,-238.7883 4982.0577,-242.8618 4986.7326,-248.0719"/>
</g>
<!-- header_47 -->
<g id="node48" class="node">
<title>header_47</title>
<ellipse fill="none" stroke="#000000" cx="5407.5" cy="-203.2002" rx="108.8185" ry="18"/>
<text text-anchor="middle" x="5407.5" y="-199.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : line tracking (optional)</text>
</g>
<!-- section_41&#45;&gt;header_47 -->
<g id="edge47" class="edge">
<title>section_41&#45;&gt;header_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5589.7513,-383.9027C5554.1117,-348.566 5473.75,-268.8872 5432.6868,-228.173"/>
<polygon fill="#000000" stroke="#000000" points="5435.0619,-225.5991 5425.4964,-221.0437 5430.1333,-230.57 5435.0619,-225.5991"/>
</g>
<!-- prose_48 -->
<g id="node49" class="node">
<title>prose_48</title>
<ellipse fill="none" stroke="#000000" cx="5566.5" cy="-203.2002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5566.5" y="-199.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_41&#45;&gt;prose_48 -->
<g id="edge48" class="edge">
<title>section_41&#45;&gt;prose_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5603.7163,-383.2004C5596.5129,-348.3603 5580.7889,-272.3098 5572.2668,-231.0917"/>
<polygon fill="#000000" stroke="#000000" points="5575.6677,-230.254 5570.2153,-221.1698 5568.8126,-231.6713 5575.6677,-230.254"/>
</g>
<!-- prose_49 -->
<g id="node50" class="node">
<title>prose_49</title>
<ellipse fill="none" stroke="#000000" cx="5648.5" cy="-203.2002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5648.5" y="-199.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_41&#45;&gt;prose_49 -->
<g id="edge49" class="edge">
<title>section_41&#45;&gt;prose_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5611.2837,-383.2004C5618.4871,-348.3603 5634.2111,-272.3098 5642.7332,-231.0917"/>
<polygon fill="#000000" stroke="#000000" points="5646.1874,-231.6713 5644.7847,-221.1698 5639.3323,-230.254 5646.1874,-231.6713"/>
</g>
<!-- prose_50 -->
<g id="node51" class="node">
<title>prose_50</title>
<ellipse fill="none" stroke="#000000" cx="5730.5" cy="-203.2002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5730.5" y="-199.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_41&#45;&gt;prose_50 -->
<g id="edge50" class="edge">
<title>section_41&#45;&gt;prose_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5628.1811,-384.145C5646.4428,-367.8838 5672.7054,-342.0824 5689.5,-315.0005 5705.9196,-288.5232 5717.2156,-254.4764 5723.7302,-230.9471"/>
<polygon fill="#000000" stroke="#000000" points="5727.1211,-231.8147 5726.3094,-221.251 5720.3563,-230.0152 5727.1211,-231.8147"/>
</g>
<!-- prose_51 -->
<g id="node52" class="node">
<title>prose_51</title>
<ellipse fill="none" stroke="#000000" cx="5812.5" cy="-203.2002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5812.5" y="-199.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_41&#45;&gt;prose_51 -->
<g id="edge51" class="edge">
<title>section_41&#45;&gt;prose_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5652.9553,-387.7221C5689.5521,-374.4867 5739.9293,-351.1077 5771.5,-315.0005 5792.2445,-291.2752 5802.8215,-256.1623 5807.9842,-231.6366"/>
<polygon fill="#000000" stroke="#000000" points="5811.4791,-231.9971 5809.9359,-221.5153 5804.6057,-230.6717 5811.4791,-231.9971"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="5238.5,-55.6015 4746.5,-55.6015 4746.5,.2015 5238.5,.2015 5238.5,-55.6015"/>
<text text-anchor="middle" x="4992.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">It may be wise to always track lines, in which case we will include:</text>
</g>
<!-- prose_48&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>prose_48&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5565.4816,-185.1714C5563.0063,-159.8687 5554.5263,-114.3549 5525.5,-91.4 5522.4998,-89.0274 5382.2871,-72.3228 5246.4425,-56.6165"/>
<polygon fill="#000000" stroke="#000000" points="5246.5901,-53.1103 5236.2544,-55.4394 5245.7866,-60.0641 5246.5901,-53.1103"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="5636.5,-55.0004 5256.5,-55.0004 5256.5,-.3996 5636.5,-.3996 5636.5,-55.0004"/>
<text text-anchor="middle" x="5446.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; line_first : &#160;The line at which the match begins</text>
<text text-anchor="middle" x="5446.5" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; line_last &#160;: &#160;The line at which the match ends</text>
</g>
<!-- prose_49&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>prose_49&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5646.4326,-184.9023C5642.755,-160.5253 5632.9017,-117.4516 5607.5,-91.4 5594.7514,-78.3254 5578.987,-67.8689 5562.3559,-59.5243"/>
<polygon fill="#000000" stroke="#000000" points="5563.5757,-56.229 5553.041,-55.1024 5560.5738,-62.5527 5563.5757,-56.229"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="6210,-55.0004 5655,-55.0004 5655,-.3996 6210,-.3996 6210,-55.0004"/>
<text text-anchor="middle" x="5932.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">This is, at least, a frequent enough pattern that the metatable should return</text>
<text text-anchor="middle" x="5932.5" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000">a negative number if these aren&#39;t assigned. </text>
</g>
<!-- prose_50&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>prose_50&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5732.5674,-184.9023C5736.245,-160.5253 5746.0983,-117.4516 5771.5,-91.4 5784.2486,-78.3254 5800.013,-67.8689 5816.6441,-59.5243"/>
<polygon fill="#000000" stroke="#000000" points="5818.4262,-62.5527 5825.959,-55.1024 5815.4243,-56.229 5818.4262,-62.5527"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="6629,-55.6015 6228,-55.6015 6228,.2015 6629,.2015 6629,-55.6015"/>
<text text-anchor="middle" x="6428.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; [ ] #todo decide if line tracking is in fact optional</text>
</g>
<!-- prose_51&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>prose_51&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5813.4546,-185.0898C5815.8521,-159.6878 5824.2384,-114.0542 5853.5,-91.4 5915.6819,-43.2592 6122.2834,-63.1879 6217.8901,-55.2863"/>
<polygon fill="#000000" stroke="#000000" points="6218.2755,-58.7654 6227.8866,-54.307 6217.593,-51.7987 6218.2755,-58.7654"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="6418,-246.4006 5863,-246.4006 5863,-159.9999 6418,-159.9999 6418,-246.4006"/>
<text text-anchor="middle" x="6140.5" y="-199.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The way the Grammar class will work: each =V&quot;patt&quot;= can have a metatable.</text>
<text text-anchor="middle" x="6140.5" y="-183.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">These are passed in as the second parameter during construction, with the key</text>
<text text-anchor="middle" x="6140.5" y="-168.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">the same name as the rule. </text>
</g>
<!-- prose_57&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>prose_57&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7708.6057,-384.1042C7701.6081,-372.4496 7690.675,-358.0029 7676.5,-351.0005 7552.0244,-289.5098 6563.5641,-342.6018 6427.5,-315.0005 6361.8594,-301.6849 6291.7467,-274.6356 6237.2517,-250.4792"/>
<polygon fill="#000000" stroke="#000000" points="6238.5121,-247.2088 6227.9546,-246.3191 6235.6529,-253.5983 6238.5121,-247.2088"/>
</g>
<!-- leaf_67 -->
<g id="node68" class="node">
<title>leaf_67</title>
<polygon fill="none" stroke="#c0c0c0" points="6998.5,-230.5007 6436.5,-230.5007 6436.5,-175.8998 6998.5,-175.8998 6998.5,-230.5007"/>
<text text-anchor="middle" x="6717.5" y="-199.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">If a pattern doesn&#39;t have a metatable, it&#39;s given a Node class and consists of</text>
<text text-anchor="middle" x="6717.5" y="-184.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">only the above fields, plus an array representing any subrules. </text>
</g>
<!-- prose_58&#45;&gt;leaf_67 -->
<g id="edge67" class="edge">
<title>prose_58&#45;&gt;leaf_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7790.5642,-384.1873C7783.547,-372.5719 7772.6076,-358.1378 7758.5,-351.0005 7609.4136,-275.5739 7170.9817,-349.4917 7007.5,-315.0005 6926.9797,-298.0124 6839.4747,-261.5865 6781.8844,-234.9119"/>
<polygon fill="#000000" stroke="#000000" points="6783.0924,-231.6132 6772.5508,-230.5527 6780.1302,-237.9556 6783.0924,-231.6132"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="7536.5,-230.5007 7016.5,-230.5007 7016.5,-175.8998 7536.5,-175.8998 7536.5,-230.5007"/>
<text text-anchor="middle" x="7276.5" y="-199.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">If it does, the metatable will have a =__call= method, which expects two</text>
<text text-anchor="middle" x="7276.5" y="-184.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">parameters, itself, and the node, which will include the span. </text>
</g>
<!-- prose_59&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>prose_59&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7872.0902,-384.0106C7864.9867,-372.6278 7854.138,-358.5423 7840.5,-351.0005 7724.9128,-287.0808 7673.2234,-348.6583 7545.5,-315.0005 7472.2251,-295.6909 7392.5759,-260.6868 7339.1146,-234.9741"/>
<polygon fill="#000000" stroke="#000000" points="7340.631,-231.8197 7330.1055,-230.6097 7337.5791,-238.1194 7340.631,-231.8197"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="8124,-238.4006 7555,-238.4006 7555,-167.9999 8124,-167.9999 8124,-238.4006"/>
<text text-anchor="middle" x="7839.5" y="-207.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">This will require reattunement of basically every class in the =/grym= folder,</text>
<text text-anchor="middle" x="7839.5" y="-191.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">but let&#39;s build the Prose parse first. &#160;I do want the whole shebang in a single</text>
<text text-anchor="middle" x="7839.5" y="-176.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">grammar eventually.</text>
</g>
<!-- prose_60&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>prose_60&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7952.7127,-384.2496C7933.7497,-353.9241 7893.8954,-290.1892 7866.9055,-247.027"/>
<polygon fill="#000000" stroke="#000000" points="7869.7909,-245.0399 7861.5214,-238.4167 7863.8557,-248.7512 7869.7909,-245.0399"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="8690.5,-245.8013 8142.5,-245.8013 8142.5,-160.5992 8690.5,-160.5992 8690.5,-245.8013"/>
<text text-anchor="middle" x="8416.5" y="-214.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">The intention is to allow multiple grammars to coexist peacefully. Currently</text>
<text text-anchor="middle" x="8416.5" y="-199.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">the parser is handrolled and we have special case values for everything.</text>
<text text-anchor="middle" x="8416.5" y="-184.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">The idea is to stabilize this, so that multi&#45;pass parsing works but in a</text>
<text text-anchor="middle" x="8416.5" y="-168.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">standard way where the Node constructor is a consistent interface. </text>
</g>
<!-- prose_61&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>prose_61&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8303.2873,-384.2496C8321.1478,-355.6872 8357.5409,-297.4873 8384.2632,-254.7533"/>
<polygon fill="#000000" stroke="#000000" points="8387.3048,-256.4904 8389.6392,-246.1559 8381.3697,-252.7791 8387.3048,-256.4904"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="8970,-223.1023 8709,-223.1023 8709,-183.2982 8970,-183.2982 8970,-223.1023"/>
<text text-anchor="middle" x="8839.5" y="-191.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">In the meantime we have things like</text>
</g>
<!-- prose_62&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>prose_62&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8682.4936,-385.2728C8711.7186,-351.3821 8779.517,-272.7596 8815.717,-230.7802"/>
<polygon fill="#000000" stroke="#000000" points="8818.4237,-233.0009 8822.3036,-223.142 8813.1225,-228.4295 8818.4237,-233.0009"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="9515,-230.5007 8988,-230.5007 8988,-175.8998 9515,-175.8998 9515,-230.5007"/>
<text text-anchor="middle" x="9251.5" y="-199.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines : &#160;If this exists, there&#39;s a collection of lines which need to be</text>
<text text-anchor="middle" x="9251.5" y="-184.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;joined with =\n= to reconstruct the actual span.</text>
</g>
<!-- prose_63&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>prose_63&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9077.6472,-385.608C9107.9739,-353.7889 9176.7799,-281.5972 9218.1593,-238.1816"/>
<polygon fill="#000000" stroke="#000000" points="9220.9361,-240.3412 9225.3018,-230.6876 9215.8689,-235.5116 9220.9361,-240.3412"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="10081.5,-230.5007 9533.5,-230.5007 9533.5,-175.8998 10081.5,-175.8998 10081.5,-230.5007"/>
<text text-anchor="middle" x="9807.5" y="-199.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;We want to do this the other way, and use the span itself for the</text>
<text text-anchor="middle" x="9807.5" y="-184.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;inner parse. </text>
</g>
<!-- prose_64&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>prose_64&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9557.3537,-386.9191C9600.1569,-355.4825 9702.0711,-280.632 9761.7712,-236.7856"/>
<polygon fill="#000000" stroke="#000000" points="9763.9164,-239.5526 9769.9044,-230.8122 9759.7728,-233.9107 9763.9164,-239.5526"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="10171.5,-221.2002 10099.5,-221.2002 10099.5,-185.2002 10171.5,-185.2002 10171.5,-221.2002"/>
<text text-anchor="middle" x="10135.5" y="-199.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">return N</text>
</g>
<!-- codeblock_65&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>codeblock_65&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10001.3371,-384.7742C10028.6333,-369.7846 10066.3365,-345.4828 10090.5,-315.0005 10110.2003,-290.1485 10122.3473,-255.5334 10128.9793,-231.4279"/>
<polygon fill="#000000" stroke="#000000" points="10132.4361,-232.0417 10131.5678,-221.4825 10125.6618,-230.2785 10132.4361,-232.0417"/>
</g>
</g>
</svg>