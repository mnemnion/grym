<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="15452pt" height="1443pt"
 viewBox="0.00 0.00 15451.50 1443.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1439.0017)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1439.0017 15447.5,-1439.0017 15447.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="992.5" cy="-1417.0017" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="992.5" y="-1412.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 322</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="992.5" cy="-1345.0017" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="992.5" y="-1340.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;227</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M992.5,-1398.8331C992.5,-1391.1327 992.5,-1381.9761 992.5,-1373.4183"/>
<polygon fill="#000000" stroke="#000000" points="996.0001,-1373.4149 992.5,-1363.415 989.0001,-1373.415 996.0001,-1373.4149"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="359.5" cy="-1273.0017" rx="43.5751" ry="18"/>
<text text-anchor="middle" x="359.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Node</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M928.7159,-1340.7003C826.9906,-1333.382 621.9017,-1316.7507 449.5,-1291.0017 435.9369,-1288.976 421.3215,-1286.278 407.8942,-1283.5886"/>
<polygon fill="#000000" stroke="#000000" points="408.3933,-1280.1183 397.8949,-1281.545 406.9916,-1286.9766 408.3933,-1280.1183"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="490.5" cy="-1273.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="490.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M928.4672,-1340.7267C841.8115,-1334.1413 682.7144,-1319.2153 549.5,-1291.0017 542.5313,-1289.5258 535.2009,-1287.6017 528.1671,-1285.5619"/>
<polygon fill="#000000" stroke="#000000" points="528.7359,-1282.0773 518.1507,-1282.5294 526.7075,-1288.777 528.7359,-1282.0773"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="619.5" cy="-1273.0017" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="619.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;12</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M938.661,-1334.6092C870.3014,-1321.4138 752.6398,-1298.7016 680.8704,-1284.848"/>
<polygon fill="#000000" stroke="#000000" points="681.1079,-1281.3293 670.6258,-1282.8705 679.7811,-1288.2024 681.1079,-1281.3293"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="992.5" cy="-1273.0017" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="992.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 13&#45;27</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M992.5,-1326.8331C992.5,-1319.1327 992.5,-1309.9761 992.5,-1301.4183"/>
<polygon fill="#000000" stroke="#000000" points="996.0001,-1301.4149 992.5,-1291.415 989.0001,-1301.415 996.0001,-1301.4149"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="1398.5" cy="-1273.0017" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1398.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 28&#45;44</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1047.6775,-1335.2165C1122.0088,-1322.0346 1254.0929,-1298.6109 1333.2591,-1284.5715"/>
<polygon fill="#000000" stroke="#000000" points="1333.8826,-1288.0157 1343.1178,-1282.8232 1332.6603,-1281.1232 1333.8826,-1288.0157"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="2509.5" cy="-1273.0017" rx="70.655" ry="18"/>
<text text-anchor="middle" x="2509.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 45&#45;209</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1057.1983,-1341.931C1300.7792,-1330.3701 2162.2996,-1289.4806 2429.7205,-1276.7882"/>
<polygon fill="#000000" stroke="#000000" points="2429.9163,-1280.283 2439.7391,-1276.3127 2429.5844,-1273.2908 2429.9163,-1280.283"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="8208.5" cy="-1273.0017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8208.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 228&#45;287</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1058.2028,-1344.3461C1730.9951,-1337.6331 7359.7713,-1281.4702 8122.9669,-1273.8552"/>
<polygon fill="#000000" stroke="#000000" points="8123.0891,-1277.3542 8133.0536,-1273.7545 8123.0191,-1270.3546 8123.0891,-1277.3542"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="308.5,-1219.0017 250.5,-1219.0017 250.5,-1183.0017 308.5,-1183.0017 308.5,-1219.0017"/>
<text text-anchor="middle" x="279.5" y="-1197.5017" font-family="Inconsolata" font-size="14.00" fill="#000000">* Node</text>
</g>
<!-- header_2&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>header_2&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M340.9453,-1256.3025C330.8944,-1247.2567 318.2788,-1235.9027 307.098,-1225.8399"/>
<polygon fill="#000000" stroke="#000000" points="309.4101,-1223.212 299.6357,-1219.1239 304.7273,-1228.4151 309.4101,-1223.212"/>
</g>
<!-- raw_10 -->
<g id="node11" class="node">
<title>raw_10</title>
<ellipse fill="none" stroke="#000000" cx="353.5" cy="-1201.0017" rx="27" ry="18"/>
<text text-anchor="middle" x="353.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_10 -->
<g id="edge10" class="edge">
<title>prose_3&#45;&gt;raw_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M466.9489,-1260.6245C444.0196,-1248.5741 409.0601,-1230.2012 384.0117,-1217.0371"/>
<polygon fill="#000000" stroke="#000000" points="385.423,-1213.8249 374.9427,-1212.2709 382.1664,-1220.0213 385.423,-1213.8249"/>
</g>
<!-- header_12 -->
<g id="node13" class="node">
<title>header_12</title>
<ellipse fill="none" stroke="#000000" cx="453.5" cy="-1201.0017" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="453.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : includes</text>
</g>
<!-- section_4&#45;&gt;header_12 -->
<g id="edge12" class="edge">
<title>section_4&#45;&gt;header_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M585.1047,-1258.0833C559.28,-1246.8822 523.7624,-1231.477 496.1334,-1219.4933"/>
<polygon fill="#000000" stroke="#000000" points="497.2854,-1216.178 486.7185,-1215.4097 494.5,-1222.6 497.2854,-1216.178"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="558.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="558.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>section_4&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M604.4213,-1255.204C596.8139,-1246.2247 587.4694,-1235.1951 579.2003,-1225.4348"/>
<polygon fill="#000000" stroke="#000000" points="581.7035,-1222.9749 572.5688,-1217.6075 576.3626,-1227.4999 581.7035,-1222.9749"/>
</g>
<!-- codeblock_14 -->
<g id="node15" class="node">
<title>codeblock_14</title>
<ellipse fill="none" stroke="#000000" cx="680.5" cy="-1201.0017" rx="71.7805" ry="18"/>
<text text-anchor="middle" x="680.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 8&#45;11</text>
</g>
<!-- section_4&#45;&gt;codeblock_14 -->
<g id="edge14" class="edge">
<title>section_4&#45;&gt;codeblock_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M634.5787,-1255.204C641.9105,-1246.55 650.8557,-1235.9917 658.8968,-1226.5006"/>
<polygon fill="#000000" stroke="#000000" points="661.5896,-1228.7366 665.3834,-1218.8443 656.2487,-1224.2117 661.5896,-1228.7366"/>
</g>
<!-- header_19 -->
<g id="node20" class="node">
<title>header_19</title>
<ellipse fill="none" stroke="#000000" cx="857.5" cy="-1201.0017" rx="84.6634" ry="18"/>
<text text-anchor="middle" x="857.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Node metatable</text>
</g>
<!-- section_5&#45;&gt;header_19 -->
<g id="edge19" class="edge">
<title>section_5&#45;&gt;header_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M962.2034,-1256.8435C943.2423,-1246.7309 918.5854,-1233.5806 897.9625,-1222.5817"/>
<polygon fill="#000000" stroke="#000000" points="899.5742,-1219.4746 889.1036,-1217.8569 896.28,-1225.6511 899.5742,-1219.4746"/>
</g>
<!-- prose_20 -->
<g id="node21" class="node">
<title>prose_20</title>
<ellipse fill="none" stroke="#000000" cx="992.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="992.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_20 -->
<g id="edge20" class="edge">
<title>section_5&#45;&gt;prose_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M992.5,-1254.8331C992.5,-1247.1327 992.5,-1237.9761 992.5,-1229.4183"/>
<polygon fill="#000000" stroke="#000000" points="996.0001,-1229.4149 992.5,-1219.415 989.0001,-1229.415 996.0001,-1229.4149"/>
</g>
<!-- codeblock_21 -->
<g id="node22" class="node">
<title>codeblock_21</title>
<ellipse fill="none" stroke="#000000" cx="1120.5" cy="-1201.0017" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1120.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 19&#45;24</text>
</g>
<!-- section_5&#45;&gt;codeblock_21 -->
<g id="edge21" class="edge">
<title>section_5&#45;&gt;codeblock_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1021.5452,-1256.6638C1039.3745,-1246.6348 1062.4246,-1233.6691 1081.7922,-1222.7749"/>
<polygon fill="#000000" stroke="#000000" points="1083.6817,-1225.7278 1090.6815,-1217.7746 1080.2498,-1219.6268 1083.6817,-1225.7278"/>
</g>
<!-- header_26 -->
<g id="node27" class="node">
<title>header_26</title>
<ellipse fill="none" stroke="#000000" cx="1261.5" cy="-1201.0017" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="1261.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Fields</text>
</g>
<!-- section_6&#45;&gt;header_26 -->
<g id="edge26" class="edge">
<title>section_6&#45;&gt;header_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1368.0953,-1257.0226C1347.4022,-1246.1474 1319.9084,-1231.6981 1298.0265,-1220.1981"/>
<polygon fill="#000000" stroke="#000000" points="1299.5086,-1217.0232 1289.0283,-1215.4692 1296.2521,-1223.2195 1299.5086,-1217.0232"/>
</g>
<!-- prose_27 -->
<g id="node28" class="node">
<title>prose_27</title>
<ellipse fill="none" stroke="#000000" cx="1357.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1357.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_27 -->
<g id="edge27" class="edge">
<title>section_6&#45;&gt;prose_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1388.3652,-1255.204C1383.5632,-1246.7712 1377.7315,-1236.5303 1372.4358,-1227.2305"/>
<polygon fill="#000000" stroke="#000000" points="1375.3667,-1225.3042 1367.3768,-1218.3463 1369.2838,-1228.7681 1375.3667,-1225.3042"/>
</g>
<!-- prose_28 -->
<g id="node29" class="node">
<title>prose_28</title>
<ellipse fill="none" stroke="#000000" cx="1439.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1439.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_28 -->
<g id="edge28" class="edge">
<title>section_6&#45;&gt;prose_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1408.6348,-1255.204C1413.4368,-1246.7712 1419.2685,-1236.5303 1424.5642,-1227.2305"/>
<polygon fill="#000000" stroke="#000000" points="1427.7162,-1228.7681 1429.6232,-1218.3463 1421.6333,-1225.3042 1427.7162,-1228.7681"/>
</g>
<!-- codeblock_29 -->
<g id="node30" class="node">
<title>codeblock_29</title>
<ellipse fill="none" stroke="#000000" cx="1567.5" cy="-1201.0017" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1567.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 37&#45;40</text>
</g>
<!-- section_6&#45;&gt;codeblock_29 -->
<g id="edge29" class="edge">
<title>section_6&#45;&gt;codeblock_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1434.3406,-1257.7324C1459.5622,-1246.987 1493.5576,-1232.5038 1520.8858,-1220.861"/>
<polygon fill="#000000" stroke="#000000" points="1522.4208,-1224.0115 1530.2488,-1216.872 1519.6771,-1217.5716 1522.4208,-1224.0115"/>
</g>
<!-- prose_30 -->
<g id="node31" class="node">
<title>prose_30</title>
<ellipse fill="none" stroke="#000000" cx="1857.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1857.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_30 -->
<g id="edge30" class="edge">
<title>section_6&#45;&gt;prose_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1455.7046,-1264.0284C1549.6177,-1249.297 1734.2404,-1220.3366 1816.394,-1207.4497"/>
<polygon fill="#000000" stroke="#000000" points="1817.0208,-1210.8943 1826.3576,-1205.8868 1815.936,-1203.9788 1817.0208,-1210.8943"/>
</g>
<!-- header_43 -->
<g id="node44" class="node">
<title>header_43</title>
<ellipse fill="none" stroke="#000000" cx="2258.5" cy="-1201.0017" rx="56.1302" ry="18"/>
<text text-anchor="middle" x="2258.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Methods</text>
</g>
<!-- section_7&#45;&gt;header_43 -->
<g id="edge43" class="edge">
<title>section_7&#45;&gt;header_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2462.5833,-1259.5435C2419.3152,-1247.132 2355.1946,-1228.7388 2310.4082,-1215.8917"/>
<polygon fill="#000000" stroke="#000000" points="2311.1732,-1212.4701 2300.5957,-1213.077 2309.243,-1219.1987 2311.1732,-1212.4701"/>
</g>
<!-- prose_44 -->
<g id="node45" class="node">
<title>prose_44</title>
<ellipse fill="none" stroke="#000000" cx="2428.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2428.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_44 -->
<g id="edge44" class="edge">
<title>section_7&#45;&gt;prose_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2489.8922,-1255.5725C2478.9361,-1245.8338 2465.1711,-1233.5983 2453.4532,-1223.1824"/>
<polygon fill="#000000" stroke="#000000" points="2455.527,-1220.3428 2445.7276,-1216.3151 2450.8764,-1225.5747 2455.527,-1220.3428"/>
</g>
<!-- section_45 -->
<g id="node46" class="node">
<title>section_45</title>
<ellipse fill="none" stroke="#000000" cx="2591.5" cy="-1201.0017" rx="70.655" ry="18"/>
<text text-anchor="middle" x="2591.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 48&#45;102</text>
</g>
<!-- section_7&#45;&gt;section_45 -->
<g id="edge45" class="edge">
<title>section_7&#45;&gt;section_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2529.3499,-1255.5725C2539.748,-1246.4425 2552.6454,-1235.118 2563.9914,-1225.1556"/>
<polygon fill="#000000" stroke="#000000" points="2566.3436,-1227.748 2571.5487,-1218.52 2561.7249,-1222.488 2566.3436,-1227.748"/>
</g>
<!-- section_46 -->
<g id="node47" class="node">
<title>section_46</title>
<ellipse fill="none" stroke="#000000" cx="3958.5" cy="-1201.0017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="3958.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 103&#45;191</text>
</g>
<!-- section_7&#45;&gt;section_46 -->
<g id="edge46" class="edge">
<title>section_7&#45;&gt;section_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2578.9001,-1269.5533C2818.8653,-1257.6295 3613.0341,-1218.1677 3874.3369,-1205.1837"/>
<polygon fill="#000000" stroke="#000000" points="3874.7079,-1208.6697 3884.5218,-1204.6777 3874.3604,-1201.6783 3874.7079,-1208.6697"/>
</g>
<!-- section_47 -->
<g id="node48" class="node">
<title>section_47</title>
<ellipse fill="none" stroke="#000000" cx="6322.5" cy="-1201.0017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6322.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 210&#45;227</text>
</g>
<!-- section_7&#45;&gt;section_47 -->
<g id="edge47" class="edge">
<title>section_7&#45;&gt;section_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2580.1762,-1271.6672C3050.3362,-1262.7892 5722.7057,-1212.3275 6236.9077,-1202.6179"/>
<polygon fill="#000000" stroke="#000000" points="6237.2852,-1206.1115 6247.2173,-1202.4233 6237.153,-1199.1128 6237.2852,-1206.1115"/>
</g>
<!-- header_110 -->
<g id="node111" class="node">
<title>header_110</title>
<ellipse fill="none" stroke="#000000" cx="7910.5" cy="-1201.0017" rx="83.6943" ry="18"/>
<text text-anchor="middle" x="7910.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Node Instances</text>
</g>
<!-- section_8&#45;&gt;header_110 -->
<g id="edge110" class="edge">
<title>section_8&#45;&gt;header_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8155.2236,-1260.1296C8105.1057,-1248.0205 8029.9307,-1229.8575 7976.1346,-1216.8597"/>
<polygon fill="#000000" stroke="#000000" points="7976.8917,-1213.442 7966.3493,-1214.4955 7975.2476,-1220.2462 7976.8917,-1213.442"/>
</g>
<!-- prose_111 -->
<g id="node112" class="node">
<title>prose_111</title>
<ellipse fill="none" stroke="#000000" cx="8044.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8044.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_111 -->
<g id="edge111" class="edge">
<title>section_8&#45;&gt;prose_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8172.1031,-1257.0226C8144.4153,-1244.867 8106.5566,-1228.2461 8079.2766,-1216.2695"/>
<polygon fill="#000000" stroke="#000000" points="8080.6659,-1213.057 8070.1025,-1212.2418 8077.8519,-1219.4665 8080.6659,-1213.057"/>
</g>
<!-- prose_112 -->
<g id="node113" class="node">
<title>prose_112</title>
<ellipse fill="none" stroke="#000000" cx="8126.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8126.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_112 -->
<g id="edge112" class="edge">
<title>section_8&#45;&gt;prose_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8188.6501,-1255.5725C8177.5588,-1245.8338 8163.6239,-1233.5983 8151.7613,-1223.1824"/>
<polygon fill="#000000" stroke="#000000" points="8153.764,-1220.2831 8143.9403,-1216.3151 8149.1454,-1225.5432 8153.764,-1220.2831"/>
</g>
<!-- prose_113 -->
<g id="node114" class="node">
<title>prose_113</title>
<ellipse fill="none" stroke="#000000" cx="8208.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8208.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_113 -->
<g id="edge113" class="edge">
<title>section_8&#45;&gt;prose_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8208.5,-1254.8331C8208.5,-1247.1327 8208.5,-1237.9761 8208.5,-1229.4183"/>
<polygon fill="#000000" stroke="#000000" points="8212.0001,-1229.4149 8208.5,-1219.415 8205.0001,-1229.415 8212.0001,-1229.4149"/>
</g>
<!-- prose_114 -->
<g id="node115" class="node">
<title>prose_114</title>
<ellipse fill="none" stroke="#000000" cx="8344.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8344.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_114 -->
<g id="edge114" class="edge">
<title>section_8&#45;&gt;prose_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8239.7011,-1256.4835C8261.3847,-1245.0039 8290.2121,-1229.7424 8312.1436,-1218.1316"/>
<polygon fill="#000000" stroke="#000000" points="8313.8794,-1221.1729 8321.0797,-1213.4007 8310.6041,-1214.9864 8313.8794,-1221.1729"/>
</g>
<!-- prose_115 -->
<g id="node116" class="node">
<title>prose_115</title>
<ellipse fill="none" stroke="#000000" cx="8683.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8683.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_115 -->
<g id="edge115" class="edge">
<title>section_8&#45;&gt;prose_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8272.5606,-1263.2915C8371.6415,-1248.2729 8559.2724,-1219.832 8642.2532,-1207.2539"/>
<polygon fill="#000000" stroke="#000000" points="8642.9485,-1210.6885 8652.311,-1205.7293 8641.8994,-1203.7676 8642.9485,-1210.6885"/>
</g>
<!-- section_116 -->
<g id="node117" class="node">
<title>section_116</title>
<ellipse fill="none" stroke="#000000" cx="9754.5" cy="-1201.0017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9754.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 252&#45;274</text>
</g>
<!-- section_8&#45;&gt;section_116 -->
<g id="edge116" class="edge">
<title>section_8&#45;&gt;section_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8282.8062,-1269.5411C8540.777,-1257.527 9396.7848,-1217.6612 9669.9449,-1204.9396"/>
<polygon fill="#000000" stroke="#000000" points="9670.3643,-1208.424 9680.1907,-1204.4624 9670.0386,-1201.4315 9670.3643,-1208.424"/>
</g>
<!-- section_117 -->
<g id="node118" class="node">
<title>section_117</title>
<ellipse fill="none" stroke="#000000" cx="13201.5" cy="-1201.0017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="13201.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 288&#45;322</text>
</g>
<!-- section_8&#45;&gt;section_117 -->
<g id="edge117" class="edge">
<title>section_8&#45;&gt;section_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8283.9402,-1271.9139C8856.2542,-1263.661 12507.8717,-1211.004 13115.7706,-1202.238"/>
<polygon fill="#000000" stroke="#000000" points="13115.8282,-1205.7376 13125.7767,-1202.0937 13115.7272,-1198.7383 13115.8282,-1205.7376"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="359,-1147.2029 0,-1147.2029 0,-1075.4005 359,-1075.4005 359,-1147.2029"/>
<text text-anchor="middle" x="179.5" y="-1083.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Time to stabilize this class once and for all. </text>
</g>
<!-- raw_10&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>raw_10&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M331.8146,-1189.8225C313.1531,-1180.2022 285.0432,-1165.7111 258.0324,-1151.7865"/>
<polygon fill="#000000" stroke="#000000" points="259.4218,-1148.5651 248.9296,-1147.0939 256.2143,-1154.787 259.4218,-1148.5651"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="477.5,-1129.3017 377.5,-1129.3017 377.5,-1093.3017 477.5,-1093.3017 477.5,-1129.3017"/>
<text text-anchor="middle" x="427.5" y="-1107.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">*** includes</text>
</g>
<!-- header_12&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>header_12&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M448.2385,-1182.8496C444.6087,-1170.3266 439.7133,-1153.4374 435.5902,-1139.213"/>
<polygon fill="#000000" stroke="#000000" points="438.8993,-1138.0571 432.7537,-1129.4268 432.1761,-1140.0059 438.8993,-1138.0571"/>
</g>
<!-- raw_16 -->
<g id="node17" class="node">
<title>raw_16</title>
<ellipse fill="none" stroke="#000000" cx="522.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="522.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_13&#45;&gt;raw_16 -->
<g id="edge16" class="edge">
<title>prose_13&#45;&gt;raw_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M551.3876,-1183.2799C546.2596,-1170.5028 539.2433,-1153.0205 533.4097,-1138.485"/>
<polygon fill="#000000" stroke="#000000" points="536.5705,-1136.9636 529.5977,-1128.9867 530.0742,-1139.5708 536.5705,-1136.9636"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="793.5,-1130.6023 567.5,-1130.6023 567.5,-1092.0011 793.5,-1092.0011 793.5,-1130.6023"/>
<text text-anchor="middle" x="680.5" y="-1115.5017" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;status&quot;</text>
<text text-anchor="middle" x="680.5" y="-1100.1017" font-family="Inconsolata" font-size="14.00" fill="#000000">local dot = require &quot;node/dot&quot;</text>
</g>
<!-- codeblock_14&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>codeblock_14&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M680.5,-1182.8496C680.5,-1170.7745 680.5,-1154.6401 680.5,-1140.7493"/>
<polygon fill="#000000" stroke="#000000" points="684.0001,-1140.6686 680.5,-1130.6686 677.0001,-1140.6687 684.0001,-1140.6686"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="224.5,-852.5013 170.5,-852.5013 170.5,-816.5013 224.5,-816.5013 224.5,-852.5013"/>
</g>
<!-- raw_16&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>raw_16&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M510.1797,-1095.0264C503.892,-1087.9023 495.6433,-1080.1463 486.5,-1075.6017 384.7935,-1025.0492 315.102,-1118.6009 233.5,-1039.6017 185.6285,-993.2571 188.0268,-907.3376 193.1249,-862.8468"/>
<polygon fill="#000000" stroke="#000000" points="196.6216,-863.0944 194.4144,-852.732 189.6778,-862.2091 196.6216,-863.0944"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="947,-1129.3017 812,-1129.3017 812,-1093.3017 947,-1093.3017 947,-1129.3017"/>
<text text-anchor="middle" x="879.5" y="-1107.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">** Node metatable</text>
</g>
<!-- header_19&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>header_19&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M861.952,-1182.8496C865.0234,-1170.3266 869.1657,-1153.4374 872.6544,-1139.213"/>
<polygon fill="#000000" stroke="#000000" points="876.0718,-1139.9727 875.0546,-1129.4268 869.2732,-1138.3053 876.0718,-1139.9727"/>
</g>
<!-- raw_23 -->
<g id="node24" class="node">
<title>raw_23</title>
<ellipse fill="none" stroke="#000000" cx="992.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="992.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_20&#45;&gt;raw_23 -->
<g id="edge23" class="edge">
<title>prose_20&#45;&gt;raw_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M992.5,-1182.8496C992.5,-1170.4482 992.5,-1153.765 992.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="996.0001,-1139.4268 992.5,-1129.4268 989.0001,-1139.4269 996.0001,-1139.4268"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1181,-1146.5021 1060,-1146.5021 1060,-1076.1013 1181,-1076.1013 1181,-1146.5021"/>
<text text-anchor="middle" x="1120.5" y="-1115.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local N = {}</text>
<text text-anchor="middle" x="1120.5" y="-1099.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">N.__index = N</text>
<text text-anchor="middle" x="1120.5" y="-1084.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">N.isNode = true</text>
</g>
<!-- codeblock_21&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>codeblock_21&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1120.5,-1182.8496C1120.5,-1175.1803 1120.5,-1165.8734 1120.5,-1156.544"/>
<polygon fill="#000000" stroke="#000000" points="1124.0001,-1156.488 1120.5,-1146.488 1117.0001,-1156.4881 1124.0001,-1156.488"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="776.5,-877.7017 242.5,-877.7017 242.5,-791.301 776.5,-791.301 776.5,-877.7017"/>
<text text-anchor="middle" x="509.5" y="-830.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The Node metatable is the root table for any Node. &#160;I&#39;m planning to make</text>
<text text-anchor="middle" x="509.5" y="-815.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">an intermediate class/table called Root that is in common for any instance</text>
<text text-anchor="middle" x="509.5" y="-799.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">Node. &#160;All Root absolutely has to contain is =str=. </text>
</g>
<!-- raw_23&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>raw_23&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M979.6113,-1095.3055C973.0995,-1088.2426 964.6453,-1080.4574 955.5,-1075.6017 887.2875,-1039.3843 855.8961,-1071.367 785.5,-1039.6017 699.405,-1000.7525 614.3053,-931.5808 561.8568,-884.4072"/>
<polygon fill="#000000" stroke="#000000" points="564.1196,-881.7344 554.3592,-877.613 559.4191,-886.9215 564.1196,-881.7344"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1301,-1129.3017 1222,-1129.3017 1222,-1093.3017 1301,-1093.3017 1301,-1129.3017"/>
<text text-anchor="middle" x="1261.5" y="-1107.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">** Fields</text>
</g>
<!-- header_26&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>header_26&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1261.5,-1182.8496C1261.5,-1170.4482 1261.5,-1153.765 1261.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="1265.0001,-1139.4268 1261.5,-1129.4268 1258.0001,-1139.4269 1265.0001,-1139.4268"/>
</g>
<!-- raw_32 -->
<g id="node33" class="node">
<title>raw_32</title>
<ellipse fill="none" stroke="#000000" cx="1351.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="1351.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_27&#45;&gt;raw_32 -->
<g id="edge32" class="edge">
<title>prose_27&#45;&gt;raw_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1356.2858,-1182.8496C1355.4563,-1170.4482 1354.3404,-1153.765 1353.3947,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="1356.8721,-1139.1709 1352.7124,-1129.4268 1349.8877,-1139.6382 1356.8721,-1139.1709"/>
</g>
<!-- raw_34 -->
<g id="node35" class="node">
<title>raw_34</title>
<ellipse fill="none" stroke="#000000" cx="1439.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="1439.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_34 -->
<g id="edge34" class="edge">
<title>prose_28&#45;&gt;raw_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1439.5,-1182.8496C1439.5,-1170.4482 1439.5,-1153.765 1439.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="1443.0001,-1139.4268 1439.5,-1129.4268 1436.0001,-1139.4269 1443.0001,-1139.4268"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="1635,-1130.6023 1500,-1130.6023 1500,-1092.0011 1635,-1092.0011 1635,-1130.6023"/>
<text text-anchor="middle" x="1567.5" y="-1115.5017" font-family="Inconsolata" font-size="14.00" fill="#000000">N.line_first = &#45;1</text>
<text text-anchor="middle" x="1567.5" y="-1100.1017" font-family="Inconsolata" font-size="14.00" fill="#000000">N.line_last &#160;= &#45;1</text>
</g>
<!-- codeblock_29&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>codeblock_29&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1567.5,-1182.8496C1567.5,-1170.7745 1567.5,-1154.6401 1567.5,-1140.7493"/>
<polygon fill="#000000" stroke="#000000" points="1571.0001,-1140.6686 1567.5,-1130.6686 1564.0001,-1140.6687 1571.0001,-1140.6686"/>
</g>
<!-- raw_37 -->
<g id="node38" class="node">
<title>raw_37</title>
<ellipse fill="none" stroke="#000000" cx="1798.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="1798.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_37 -->
<g id="edge37" class="edge">
<title>prose_30&#45;&gt;raw_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1846.1242,-1183.7067C1837.2787,-1170.2585 1824.8838,-1151.414 1814.9564,-1136.321"/>
<polygon fill="#000000" stroke="#000000" points="1817.8615,-1134.3685 1809.4419,-1127.9372 1812.0131,-1138.2153 1817.8615,-1134.3685"/>
</g>
<!-- link_38 -->
<g id="node39" class="node">
<title>link_38</title>
<ellipse fill="none" stroke="#000000" cx="1932.5" cy="-1111.3017" rx="72.074" ry="18"/>
<text text-anchor="middle" x="1932.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link: line iterator</text>
</g>
<!-- prose_30&#45;&gt;link_38 -->
<g id="edge38" class="edge">
<title>prose_30&#45;&gt;link_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1871.2562,-1184.5494C1882.3173,-1171.3202 1898.0605,-1152.4913 1910.8152,-1137.2367"/>
<polygon fill="#000000" stroke="#000000" points="1913.8156,-1139.1046 1917.545,-1129.1878 1908.4454,-1134.6145 1913.8156,-1139.1046"/>
</g>
<!-- raw_39 -->
<g id="node40" class="node">
<title>raw_39</title>
<ellipse fill="none" stroke="#000000" cx="2116.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="2116.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_39 -->
<g id="edge39" class="edge">
<title>prose_30&#45;&gt;raw_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1885.1172,-1191.4457C1916.2974,-1180.6559 1968.5448,-1162.5732 2013.5,-1147.0017 2036.6007,-1139.0001 2062.6138,-1129.9839 2082.7183,-1123.0143"/>
<polygon fill="#000000" stroke="#000000" points="2084.0579,-1126.2543 2092.3598,-1119.6718 2081.765,-1119.6405 2084.0579,-1126.2543"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="1308,-877.7017 795,-877.7017 795,-791.301 1308,-791.301 1308,-877.7017"/>
<text text-anchor="middle" x="1051.5" y="-830.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; id : &#160;A string naming the Node. </text>
<text text-anchor="middle" x="1051.5" y="-815.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;This is identical to the name of the pattern that recognizes</text>
<text text-anchor="middle" x="1051.5" y="-799.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;or captures it.</text>
</g>
<!-- raw_32&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>raw_32&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1335.3707,-1096.4197C1292.7449,-1057.0902 1175.6026,-949.0068 1105.8375,-884.6368"/>
<polygon fill="#000000" stroke="#000000" points="1108.1289,-881.9888 1098.4059,-877.7799 1103.382,-887.1335 1108.1289,-881.9888"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="1552.5,-861.8018 1326.5,-861.8018 1326.5,-807.2009 1552.5,-807.2009 1552.5,-861.8018"/>
<text text-anchor="middle" x="1439.5" y="-830.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; line_first : &#160;Always &#45;1.</text>
<text text-anchor="middle" x="1439.5" y="-815.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; line_last &#160;: &#160;Always &#45;1. </text>
</g>
<!-- raw_34&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>raw_34&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1439.5,-1093.1401C1439.5,-1048.4359 1439.5,-932.3358 1439.5,-872.0576"/>
<polygon fill="#000000" stroke="#000000" points="1443.0001,-871.8313 1439.5,-861.8313 1436.0001,-871.8313 1443.0001,-871.8313"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="1992.5,-854.4034 1570.5,-854.4034 1570.5,-814.5992 1992.5,-814.5992 1992.5,-854.4034"/>
<text text-anchor="middle" x="1781.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">It occurs to me we could lazily calculate these using the </text>
</g>
<!-- raw_37&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>raw_37&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1797.3846,-1093.1401C1794.5255,-1046.5872 1786.9114,-922.611 1783.3654,-864.8746"/>
<polygon fill="#000000" stroke="#000000" points="1786.8394,-864.3419 1782.7329,-854.5753 1779.8525,-864.771 1786.8394,-864.3419"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="2208.5,-852.5013 2010.5,-852.5013 2010.5,-816.5013 2208.5,-816.5013 2208.5,-852.5013"/>
<text text-anchor="middle" x="2109.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">[[line iterator][httk://]]</text>
</g>
<!-- link_38&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>link_38&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1952.2018,-1093.7194C1966.9241,-1079.9349 1986.9355,-1059.7696 2001.5,-1039.6017 2044.052,-980.6785 2080.3181,-902.811 2097.9882,-862.0577"/>
<polygon fill="#000000" stroke="#000000" points="2101.2485,-863.3355 2101.9729,-852.7654 2094.815,-860.5767 2101.2485,-863.3355"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="2280.5,-854.4034 2226.5,-854.4034 2226.5,-814.5992 2280.5,-814.5992 2280.5,-854.4034"/>
<text text-anchor="middle" x="2253.5" y="-839.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_39&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>raw_39&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2139.3894,-1101.5205C2162.9481,-1090.1978 2198.7743,-1069.2318 2217.5,-1039.6017 2251.9683,-985.0618 2255.8745,-906.8882 2255.0788,-864.5381"/>
<polygon fill="#000000" stroke="#000000" points="2258.5713,-864.2258 2254.7812,-854.3321 2251.5743,-864.4299 2258.5713,-864.2258"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="2280.5,-1129.3017 2194.5,-1129.3017 2194.5,-1093.3017 2280.5,-1093.3017 2280.5,-1129.3017"/>
<text text-anchor="middle" x="2237.5" y="-1107.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">** Methods</text>
</g>
<!-- header_43&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>header_43&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2254.2503,-1182.8496C2251.3185,-1170.3266 2247.3646,-1153.4374 2244.0344,-1139.213"/>
<polygon fill="#000000" stroke="#000000" points="2247.4308,-1138.3657 2241.7433,-1129.4268 2240.6151,-1139.9614 2247.4308,-1138.3657"/>
</g>
<!-- raw_49 -->
<g id="node50" class="node">
<title>raw_49</title>
<ellipse fill="none" stroke="#000000" cx="2325.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="2325.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_49 -->
<g id="edge49" class="edge">
<title>prose_44&#45;&gt;raw_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2409.2992,-1186.3769C2395.665,-1175.789 2377.0886,-1160.9464 2361.5,-1147.0017 2356.877,-1142.8663 2352.0714,-1138.3025 2347.5339,-1133.8594"/>
<polygon fill="#000000" stroke="#000000" points="2349.7881,-1131.165 2340.2304,-1126.5932 2344.851,-1136.1274 2349.7881,-1131.165"/>
</g>
<!-- header_51 -->
<g id="node52" class="node">
<title>header_51</title>
<ellipse fill="none" stroke="#000000" cx="2435.5" cy="-1111.3017" rx="64.997" ry="18"/>
<text text-anchor="middle" x="2435.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Visualizers</text>
</g>
<!-- section_45&#45;&gt;header_51 -->
<g id="edge51" class="edge">
<title>section_45&#45;&gt;header_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2562.5232,-1184.3401C2537.1906,-1169.7738 2500.2562,-1148.5365 2472.7369,-1132.7129"/>
<polygon fill="#000000" stroke="#000000" points="2474.2094,-1129.5223 2463.7956,-1127.5717 2470.72,-1135.5906 2474.2094,-1129.5223"/>
</g>
<!-- prose_52 -->
<g id="node53" class="node">
<title>prose_52</title>
<ellipse fill="none" stroke="#000000" cx="2550.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2550.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_45&#45;&gt;prose_52 -->
<g id="edge52" class="edge">
<title>section_45&#45;&gt;prose_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2583.203,-1182.8496C2577.3474,-1170.0386 2569.4033,-1152.6584 2562.8111,-1138.236"/>
<polygon fill="#000000" stroke="#000000" points="2565.846,-1136.4563 2558.5056,-1128.8164 2559.4795,-1139.3664 2565.846,-1136.4563"/>
</g>
<!-- prose_53 -->
<g id="node54" class="node">
<title>prose_53</title>
<ellipse fill="none" stroke="#000000" cx="2632.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2632.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_45&#45;&gt;prose_53 -->
<g id="edge53" class="edge">
<title>section_45&#45;&gt;prose_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2599.797,-1182.8496C2605.6526,-1170.0386 2613.5967,-1152.6584 2620.1889,-1138.236"/>
<polygon fill="#000000" stroke="#000000" points="2623.5205,-1139.3664 2624.4944,-1128.8164 2617.154,-1136.4563 2623.5205,-1139.3664"/>
</g>
<!-- codeblock_54 -->
<g id="node55" class="node">
<title>codeblock_54</title>
<ellipse fill="none" stroke="#000000" cx="2829.5" cy="-1111.3017" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2829.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 55&#45;70</text>
</g>
<!-- section_45&#45;&gt;codeblock_54 -->
<g id="edge54" class="edge">
<title>section_45&#45;&gt;codeblock_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2631.068,-1186.0889C2671.7057,-1170.7729 2735.0877,-1146.8848 2779.2468,-1130.2417"/>
<polygon fill="#000000" stroke="#000000" points="2780.5172,-1133.5033 2788.6403,-1126.7014 2778.0484,-1126.9531 2780.5172,-1133.5033"/>
</g>
<!-- codeblock_55 -->
<g id="node56" class="node">
<title>codeblock_55</title>
<ellipse fill="none" stroke="#000000" cx="3181.5" cy="-1111.3017" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="3181.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 72&#45;100</text>
</g>
<!-- section_45&#45;&gt;codeblock_55 -->
<g id="edge55" class="edge">
<title>section_45&#45;&gt;codeblock_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2652.1427,-1191.782C2759.8631,-1175.4048 2984.4214,-1141.2643 3103.4858,-1123.1625"/>
<polygon fill="#000000" stroke="#000000" points="3104.2619,-1126.5848 3113.6222,-1121.6214 3103.2097,-1119.6643 3104.2619,-1126.5848"/>
</g>
<!-- header_63 -->
<g id="node64" class="node">
<title>header_63</title>
<ellipse fill="none" stroke="#000000" cx="3650.5" cy="-1111.3017" rx="54.6679" ry="18"/>
<text text-anchor="middle" x="3650.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Iterators</text>
</g>
<!-- section_46&#45;&gt;header_63 -->
<g id="edge63" class="edge">
<title>section_46&#45;&gt;header_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3901.4525,-1189.0834C3857.1258,-1179.2927 3794.3383,-1164.2609 3740.5,-1147.0017 3724.8744,-1141.9926 3708.0792,-1135.6127 3693.2784,-1129.6358"/>
<polygon fill="#000000" stroke="#000000" points="3694.453,-1126.3347 3683.8724,-1125.7847 3691.8006,-1132.8128 3694.453,-1126.3347"/>
</g>
<!-- prose_64 -->
<g id="node65" class="node">
<title>prose_64</title>
<ellipse fill="none" stroke="#000000" cx="3781.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3781.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_46&#45;&gt;prose_64 -->
<g id="edge64" class="edge">
<title>section_46&#45;&gt;prose_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3926.0355,-1184.5494C3894.3341,-1168.4837 3846.3367,-1144.1596 3814.4651,-1128.0077"/>
<polygon fill="#000000" stroke="#000000" points="3816.0314,-1124.8778 3805.5293,-1123.4793 3812.8671,-1131.1217 3816.0314,-1124.8778"/>
</g>
<!-- section_65 -->
<g id="node66" class="node">
<title>section_65</title>
<ellipse fill="none" stroke="#000000" cx="3958.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="3958.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 108&#45;128</text>
</g>
<!-- section_46&#45;&gt;section_65 -->
<g id="edge65" class="edge">
<title>section_46&#45;&gt;section_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3958.5,-1182.8496C3958.5,-1170.4482 3958.5,-1153.765 3958.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="3962.0001,-1139.4268 3958.5,-1129.4268 3955.0001,-1139.4269 3962.0001,-1139.4268"/>
</g>
<!-- section_66 -->
<g id="node67" class="node">
<title>section_66</title>
<ellipse fill="none" stroke="#000000" cx="4298.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4298.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 129&#45;151</text>
</g>
<!-- section_46&#45;&gt;section_66 -->
<g id="edge66" class="edge">
<title>section_46&#45;&gt;section_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4009.4014,-1187.5727C4070.5448,-1171.4417 4172.9957,-1144.4127 4238.0881,-1127.2398"/>
<polygon fill="#000000" stroke="#000000" points="4239.0303,-1130.611 4247.8066,-1124.6758 4237.2446,-1123.8426 4239.0303,-1130.611"/>
</g>
<!-- section_67 -->
<g id="node68" class="node">
<title>section_67</title>
<ellipse fill="none" stroke="#000000" cx="4965.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4965.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 152&#45;191</text>
</g>
<!-- section_46&#45;&gt;section_67 -->
<g id="edge67" class="edge">
<title>section_46&#45;&gt;section_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4029.3103,-1194.6942C4210.954,-1178.514 4692.629,-1135.6081 4884.7375,-1118.4957"/>
<polygon fill="#000000" stroke="#000000" points="4885.118,-1121.9758 4894.768,-1117.6023 4884.4968,-1115.0034 4885.118,-1121.9758"/>
</g>
<!-- section_68 -->
<g id="node69" class="node">
<title>section_68</title>
<ellipse fill="none" stroke="#000000" cx="5725.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5725.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 192&#45;209</text>
</g>
<!-- section_46&#45;&gt;section_68 -->
<g id="edge68" class="edge">
<title>section_46&#45;&gt;section_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4032.5839,-1197.4195C4208.8228,-1188.8792 4666.9242,-1166.5717 5049.5,-1147.0017 5262.6256,-1136.0997 5513.5148,-1122.7022 5641.3687,-1115.8343"/>
<polygon fill="#000000" stroke="#000000" points="5641.6844,-1119.3225 5651.4822,-1115.2909 5641.3087,-1112.3326 5641.6844,-1119.3225"/>
</g>
<!-- header_100 -->
<g id="node101" class="node">
<title>header_100</title>
<ellipse fill="none" stroke="#000000" cx="6210.5" cy="-1111.3017" rx="61.9256" ry="18"/>
<text text-anchor="middle" x="6210.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Collectors</text>
</g>
<!-- section_47&#45;&gt;header_100 -->
<g id="edge100" class="edge">
<title>section_47&#45;&gt;header_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6300.9053,-1183.7067C6283.4405,-1169.7192 6258.6863,-1149.8938 6239.4953,-1134.5238"/>
<polygon fill="#000000" stroke="#000000" points="6241.6418,-1131.7588 6231.6486,-1128.2395 6237.266,-1137.2226 6241.6418,-1131.7588"/>
</g>
<!-- prose_101 -->
<g id="node102" class="node">
<title>prose_101</title>
<ellipse fill="none" stroke="#000000" cx="6322.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6322.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_47&#45;&gt;prose_101 -->
<g id="edge101" class="edge">
<title>section_47&#45;&gt;prose_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6322.5,-1182.8496C6322.5,-1170.4482 6322.5,-1153.765 6322.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="6326.0001,-1139.4268 6322.5,-1129.4268 6319.0001,-1139.4269 6326.0001,-1139.4268"/>
</g>
<!-- prose_102 -->
<g id="node103" class="node">
<title>prose_102</title>
<ellipse fill="none" stroke="#000000" cx="6404.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6404.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_47&#45;&gt;prose_102 -->
<g id="edge102" class="edge">
<title>section_47&#45;&gt;prose_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6338.7006,-1183.2799C6351.3399,-1169.4537 6369.0157,-1150.118 6382.8648,-1134.9685"/>
<polygon fill="#000000" stroke="#000000" points="6385.5473,-1137.2215 6389.7113,-1127.4792 6380.3808,-1132.4984 6385.5473,-1137.2215"/>
</g>
<!-- codeblock_103 -->
<g id="node104" class="node">
<title>codeblock_103</title>
<ellipse fill="none" stroke="#000000" cx="6562.5" cy="-1111.3017" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6562.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 217&#45;226</text>
</g>
<!-- section_47&#45;&gt;codeblock_103 -->
<g id="edge103" class="edge">
<title>section_47&#45;&gt;codeblock_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6363.2127,-1185.7853C6403.8305,-1170.6044 6466.3847,-1147.2248 6510.5578,-1130.7151"/>
<polygon fill="#000000" stroke="#000000" points="6511.8268,-1133.9773 6519.9686,-1127.1978 6509.3761,-1127.4204 6511.8268,-1133.9773"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="2352.5,-854.5013 2298.5,-854.5013 2298.5,-814.5013 2352.5,-814.5013 2352.5,-854.5013"/>
</g>
<!-- raw_49&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>raw_49&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2325.5,-1093.1401C2325.5,-1046.5872 2325.5,-922.611 2325.5,-864.8746"/>
<polygon fill="#000000" stroke="#000000" points="2329.0001,-864.5752 2325.5,-854.5753 2322.0001,-864.5753 2329.0001,-864.5752"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="2492,-852.5013 2371,-852.5013 2371,-816.5013 2492,-816.5013 2492,-852.5013"/>
<text text-anchor="middle" x="2431.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Visualizers</text>
</g>
<!-- header_51&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>header_51&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2435.2375,-1093.1401C2434.5567,-1046.0222 2432.7296,-919.5904 2431.909,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="2435.4076,-862.6782 2431.7634,-852.7298 2428.4084,-862.7794 2435.4076,-862.6782"/>
</g>
<!-- raw_57 -->
<g id="node58" class="node">
<title>raw_57</title>
<ellipse fill="none" stroke="#000000" cx="2537.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="2537.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_52&#45;&gt;raw_57 -->
<g id="edge57" class="edge">
<title>prose_52&#45;&gt;raw_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2549.647,-1093.1401C2547.4341,-1046.0222 2541.4962,-919.5904 2538.8291,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="2542.3215,-862.5546 2538.3561,-852.7298 2535.3292,-862.8831 2542.3215,-862.5546"/>
</g>
<!-- raw_59 -->
<g id="node60" class="node">
<title>raw_59</title>
<ellipse fill="none" stroke="#000000" cx="2609.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="2609.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_53&#45;&gt;raw_59 -->
<g id="edge59" class="edge">
<title>prose_53&#45;&gt;raw_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2630.9909,-1093.1401C2627.0758,-1046.0222 2616.5703,-919.5904 2611.8516,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="2615.3308,-862.4056 2611.0147,-852.7298 2608.3548,-862.9854 2615.3308,-862.4056"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="3140,-946.1021 2655,-946.1021 2655,-722.9005 3140,-722.9005 3140,-946.1021"/>
<text text-anchor="middle" x="2897.5" y="-931.1015" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.toString(node, depth)</text>
<text text-anchor="middle" x="2897.5" y="-915.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local depth = depth or 0</text>
<text text-anchor="middle" x="2897.5" y="-900.3015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="2897.5" y="-884.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;phrase = (&quot; &#160;&quot;):rep(depth) .. &quot;id: &quot; .. node.id .. &quot;, &#160;&quot;</text>
<text text-anchor="middle" x="2897.5" y="-869.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;.. &quot;first: &quot; .. node.first .. &quot;, last: &quot; .. node.last .. &quot;\n&quot;</text>
<text text-anchor="middle" x="2897.5" y="-854.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if node[1] then</text>
<text text-anchor="middle" x="2897.5" y="-838.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(node) do</text>
<text text-anchor="middle" x="2897.5" y="-823.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if(v.isNode) then</text>
<text text-anchor="middle" x="2897.5" y="-807.9013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. N.toString(v, depth + 1)</text>
<text text-anchor="middle" x="2897.5" y="-792.5013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2897.5" y="-777.1012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2897.5" y="-761.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end </text>
<text text-anchor="middle" x="2897.5" y="-746.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase</text>
<text text-anchor="middle" x="2897.5" y="-730.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_54&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>codeblock_54&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2833.9617,-1093.1401C2840.8461,-1065.1163 2854.623,-1009.0361 2867.5935,-956.2386"/>
<polygon fill="#000000" stroke="#000000" points="2871.0173,-956.9721 2870.0041,-946.4258 2864.2194,-955.3021 2871.0173,-956.9721"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="3552.5,-1039.7021 3158.5,-1039.7021 3158.5,-629.3006 3552.5,-629.3006 3552.5,-1039.7021"/>
<text text-anchor="middle" x="3355.5" y="-1024.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.dotLabel(node)</text>
<text text-anchor="middle" x="3355.5" y="-1009.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return node.id</text>
<text text-anchor="middle" x="3355.5" y="-993.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3355.5" y="-962.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.toMarkdown(node)</text>
<text text-anchor="middle" x="3355.5" y="-946.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if not node[1] then</text>
<text text-anchor="middle" x="3355.5" y="-931.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return string.sub(node.str, node.first, node.last)</text>
<text text-anchor="middle" x="3355.5" y="-916.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="3355.5" y="-900.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;s:halt(&quot;no toMarkdown for &quot; .. node.id)</text>
<text text-anchor="middle" x="3355.5" y="-885.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3355.5" y="-869.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3355.5" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.dot(node)</text>
<text text-anchor="middle" x="3355.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return dot.dot(node)</text>
<text text-anchor="middle" x="3355.5" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3355.5" y="-776.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.toValue(node)</text>
<text text-anchor="middle" x="3355.5" y="-760.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if node.__VALUE then</text>
<text text-anchor="middle" x="3355.5" y="-745.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return node.__VALUE</text>
<text text-anchor="middle" x="3355.5" y="-730.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3355.5" y="-714.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if node.str then</text>
<text text-anchor="middle" x="3355.5" y="-699.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return node.str:sub(node.first,node.last)</text>
<text text-anchor="middle" x="3355.5" y="-683.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="3355.5" y="-668.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;s:halt(&quot;no str on node &quot; .. node.id)</text>
<text text-anchor="middle" x="3355.5" y="-653.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3355.5" y="-637.601" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_55&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>codeblock_55&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3192.9166,-1093.1401C3199.932,-1081.9799 3209.7445,-1066.3701 3221.1099,-1048.2901"/>
<polygon fill="#000000" stroke="#000000" points="3224.0777,-1050.1452 3226.4366,-1039.8163 3218.1514,-1046.4198 3224.0777,-1050.1452"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="2445,-385.702 2002,-385.702 2002,-329.899 2445,-329.899 2445,-385.702"/>
<text text-anchor="middle" x="2223.5" y="-338.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">This gives us a nice, tree&#45;shaped printout of an entire Node.</text>
</g>
<!-- raw_57&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>raw_57&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2538.434,-816.2491C2539.5127,-778.4545 2537.5301,-690.0951 2500.5,-629.401 2486.7957,-606.939 2473.1856,-610.8601 2453.5,-593.401 2378.3533,-526.7532 2298.005,-440.598 2255.0006,-393.1156"/>
<polygon fill="#000000" stroke="#000000" points="2257.4728,-390.631 2248.173,-385.5552 2252.2777,-395.3226 2257.4728,-390.631"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="2948,-385.101 2463,-385.101 2463,-330.5001 2948,-330.5001 2948,-385.101"/>
<text text-anchor="middle" x="2705.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">We&#39;re less disciplined than we should be about up&#45;assigning this to</text>
<text text-anchor="middle" x="2705.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">inherited Node classes. </text>
</g>
<!-- raw_59&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>raw_59&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2612.4135,-816.344C2618.2238,-780.5099 2631.8698,-698.1987 2645.5,-629.401 2662.1286,-545.469 2684.482,-447.6103 2696.6694,-395.3115"/>
<polygon fill="#000000" stroke="#000000" points="2700.1002,-396.0108 2698.9666,-385.4768 2693.2837,-394.4186 2700.1002,-396.0108"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="3678,-852.5013 3571,-852.5013 3571,-816.5013 3678,-816.5013 3678,-852.5013"/>
<text text-anchor="middle" x="3624.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Iterators</text>
</g>
<!-- header_63&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>header_63&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3648.7941,-1093.1401C3644.3683,-1046.0222 3632.4925,-919.5904 3627.1583,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="3630.6322,-862.3587 3626.2122,-852.7298 3623.6628,-863.0134 3630.6322,-862.3587"/>
</g>
<!-- raw_70 -->
<g id="node71" class="node">
<title>raw_70</title>
<ellipse fill="none" stroke="#000000" cx="3723.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="3723.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_64&#45;&gt;raw_70 -->
<g id="edge70" class="edge">
<title>prose_64&#45;&gt;raw_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3775.3625,-1093.4973C3770.5608,-1079.0916 3763.9704,-1058.2128 3759.5,-1039.6017 3744.4565,-976.9728 3732.9154,-902.1763 3727.2881,-862.4831"/>
<polygon fill="#000000" stroke="#000000" points="3730.7416,-861.9065 3725.8913,-852.4871 3723.809,-862.8753 3730.7416,-861.9065"/>
</g>
<!-- header_72 -->
<g id="node73" class="node">
<title>header_72</title>
<ellipse fill="none" stroke="#000000" cx="3838.5" cy="-834.5013" rx="70.1446" ry="18"/>
<text text-anchor="middle" x="3838.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : N.walkDeep</text>
</g>
<!-- section_65&#45;&gt;header_72 -->
<g id="edge72" class="edge">
<title>section_65&#45;&gt;header_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3947.2722,-1093.4379C3938.5566,-1079.173 3926.4845,-1058.5113 3917.5,-1039.6017 3888.1248,-977.7761 3861.1274,-901.8891 3847.599,-862.0039"/>
<polygon fill="#000000" stroke="#000000" points="3850.887,-860.8004 3844.3796,-852.4395 3844.2527,-863.0336 3850.887,-860.8004"/>
</g>
<!-- prose_73 -->
<g id="node74" class="node">
<title>prose_73</title>
<ellipse fill="none" stroke="#000000" cx="3958.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3958.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_65&#45;&gt;prose_73 -->
<g id="edge73" class="edge">
<title>section_65&#45;&gt;prose_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3958.5,-1093.1401C3958.5,-1046.0222 3958.5,-919.5904 3958.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="3962.0001,-862.7298 3958.5,-852.7298 3955.0001,-862.7299 3962.0001,-862.7298"/>
</g>
<!-- codeblock_74 -->
<g id="node75" class="node">
<title>codeblock_74</title>
<ellipse fill="none" stroke="#000000" cx="4095.5" cy="-834.5013" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="4095.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 112&#45;127</text>
</g>
<!-- section_65&#45;&gt;codeblock_74 -->
<g id="edge74" class="edge">
<title>section_65&#45;&gt;codeblock_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3969.3638,-1093.257C3977.8786,-1078.8924 3989.8583,-1058.1848 3999.5,-1039.6017 4031.9657,-977.0287 4066.0479,-901.4924 4083.5553,-861.8487"/>
<polygon fill="#000000" stroke="#000000" points="4086.8129,-863.1355 4087.6382,-852.5728 4080.4061,-860.3154 4086.8129,-863.1355"/>
</g>
<!-- header_79 -->
<g id="node80" class="node">
<title>header_79</title>
<ellipse fill="none" stroke="#000000" cx="4249.5" cy="-834.5013" rx="48.8618" ry="18"/>
<text text-anchor="middle" x="4249.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : N.walk</text>
</g>
<!-- section_66&#45;&gt;header_79 -->
<g id="edge79" class="edge">
<title>section_66&#45;&gt;header_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4295.285,-1093.1401C4286.944,-1046.0222 4264.5627,-919.5904 4254.5099,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="4257.9165,-861.9666 4252.7269,-852.7298 4251.0237,-863.1869 4257.9165,-861.9666"/>
</g>
<!-- prose_80 -->
<g id="node81" class="node">
<title>prose_80</title>
<ellipse fill="none" stroke="#000000" cx="4348.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4348.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_66&#45;&gt;prose_80 -->
<g id="edge80" class="edge">
<title>section_66&#45;&gt;prose_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4301.7806,-1093.1401C4310.2918,-1046.0222 4333.1299,-919.5904 4343.3879,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="4346.8739,-863.1928 4345.2073,-852.7298 4339.9854,-861.9484 4346.8739,-863.1928"/>
</g>
<!-- codeblock_81 -->
<g id="node82" class="node">
<title>codeblock_81</title>
<ellipse fill="none" stroke="#000000" cx="4534.5" cy="-834.5013" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4534.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 133&#45;149</text>
</g>
<!-- section_66&#45;&gt;codeblock_81 -->
<g id="edge81" class="edge">
<title>section_66&#45;&gt;codeblock_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4324.0625,-1094.2C4343.2583,-1080.6674 4369.5586,-1060.6067 4389.5,-1039.6017 4444.2339,-981.9485 4494.5442,-902.3999 4518.9755,-861.3755"/>
<polygon fill="#000000" stroke="#000000" points="4522.1343,-862.9094 4524.2035,-852.5186 4516.1061,-859.3511 4522.1343,-862.9094"/>
</g>
<!-- header_86 -->
<g id="node87" class="node">
<title>header_86</title>
<ellipse fill="none" stroke="#000000" cx="4888.5" cy="-834.5013" rx="102.5369" ry="18"/>
<text text-anchor="middle" x="4888.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : N.select(node, pred)</text>
</g>
<!-- section_67&#45;&gt;header_86 -->
<g id="edge86" class="edge">
<title>section_67&#45;&gt;header_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4960.4478,-1093.1401C4947.3134,-1045.9242 4912.0237,-919.0644 4896.2744,-862.4487"/>
<polygon fill="#000000" stroke="#000000" points="4899.6229,-861.426 4893.5708,-852.7298 4892.8789,-863.3021 4899.6229,-861.426"/>
</g>
<!-- prose_87 -->
<g id="node88" class="node">
<title>prose_87</title>
<ellipse fill="none" stroke="#000000" cx="5041.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5041.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_67&#45;&gt;prose_87 -->
<g id="edge87" class="edge">
<title>section_67&#45;&gt;prose_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4975.9093,-1093.2843C4983.6981,-1079.106 4994.0731,-1058.6308 5000.5,-1039.6017 5021.2014,-978.3075 5032.9468,-902.9879 5038.1754,-862.8533"/>
<polygon fill="#000000" stroke="#000000" points="5041.6721,-863.0988 5039.4511,-852.7394 5034.7271,-862.2227 5041.6721,-863.0988"/>
</g>
<!-- codeblock_88 -->
<g id="node89" class="node">
<title>codeblock_88</title>
<ellipse fill="none" stroke="#000000" cx="5249.5" cy="-834.5013" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5249.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 158&#45;189</text>
</g>
<!-- section_67&#45;&gt;codeblock_88 -->
<g id="edge88" class="edge">
<title>section_67&#45;&gt;codeblock_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4998.5175,-1094.9709C5023.1204,-1081.9117 5056.7673,-1062.108 5082.5,-1039.6017 5146.0969,-983.9787 5204.5453,-902.3593 5232.3922,-860.8477"/>
<polygon fill="#000000" stroke="#000000" points="5235.3972,-862.6495 5238.0177,-852.3839 5229.5674,-858.7747 5235.3972,-862.6495"/>
</g>
<!-- header_93 -->
<g id="node94" class="node">
<title>header_93</title>
<ellipse fill="none" stroke="#000000" cx="5658.5" cy="-834.5013" rx="82.7165" ry="18"/>
<text text-anchor="middle" x="5658.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : N.tokens(node)</text>
</g>
<!-- section_68&#45;&gt;header_93 -->
<g id="edge93" class="edge">
<title>section_68&#45;&gt;header_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5721.1039,-1093.1401C5709.699,-1046.0222 5679.096,-919.5904 5665.3502,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="5668.6667,-861.6257 5662.9122,-852.7298 5661.8631,-863.2726 5668.6667,-861.6257"/>
</g>
<!-- prose_94 -->
<g id="node95" class="node">
<title>prose_94</title>
<ellipse fill="none" stroke="#000000" cx="5791.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5791.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_68&#45;&gt;prose_94 -->
<g id="edge94" class="edge">
<title>section_68&#45;&gt;prose_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5732.5741,-1093.2487C5738.0142,-1078.8795 5745.4331,-1058.1698 5750.5,-1039.6017 5767.5316,-977.1882 5780.7153,-902.3072 5787.1577,-862.5429"/>
<polygon fill="#000000" stroke="#000000" points="5790.6362,-862.9547 5788.7574,-852.5278 5783.7238,-861.8505 5790.6362,-862.9547"/>
</g>
<!-- codeblock_95 -->
<g id="node96" class="node">
<title>codeblock_95</title>
<ellipse fill="none" stroke="#000000" cx="5981.5" cy="-834.5013" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5981.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 196&#45;208</text>
</g>
<!-- section_68&#45;&gt;codeblock_95 -->
<g id="edge95" class="edge">
<title>section_68&#45;&gt;codeblock_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5756.1741,-1094.6883C5778.7771,-1081.5535 5809.4646,-1061.7802 5832.5,-1039.6017 5890.568,-983.6939 5941.8123,-902.8049 5966.2757,-861.2943"/>
<polygon fill="#000000" stroke="#000000" points="5969.3436,-862.9811 5971.358,-852.5795 5963.2968,-859.4547 5969.3436,-862.9811"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="3547,-393.7017 3062,-393.7017 3062,-321.8994 3547,-321.8994 3547,-393.7017"/>
<text text-anchor="middle" x="3304.5" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">These yield a new element per call in the usual Lua =for= pattern. </text>
</g>
<!-- raw_70&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>raw_70&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3726.0391,-816.4294C3730.4909,-777.002 3735.0797,-682.5466 3686.5,-629.401 3645.7618,-584.8339 3608.1681,-622.9288 3555.5,-593.401 3466.2447,-543.3609 3384.1078,-454.8735 3339.4902,-401.7474"/>
<polygon fill="#000000" stroke="#000000" points="3342.0078,-399.3011 3332.9197,-393.8553 3336.6282,-403.7799 3342.0078,-399.3011"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="3686,-375.8005 3565,-375.8005 3565,-339.8005 3686,-339.8005 3686,-375.8005"/>
<text text-anchor="middle" x="3625.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** N.walkDeep</text>
</g>
<!-- header_72&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>header_72&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3835.7826,-816.4881C3829.1523,-777.9876 3808.9213,-686.5473 3759.5,-629.401 3738.152,-604.716 3715.8584,-618.9082 3695.5,-593.401 3645.6173,-530.9024 3631.2551,-433.6525 3627.1398,-386.0219"/>
<polygon fill="#000000" stroke="#000000" points="3630.6127,-385.5351 3626.3527,-375.8345 3623.6335,-386.0744 3630.6127,-385.5351"/>
</g>
<!-- raw_76 -->
<g id="node77" class="node">
<title>raw_76</title>
<ellipse fill="none" stroke="#000000" cx="3731.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="3731.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_73&#45;&gt;raw_76 -->
<g id="edge76" class="edge">
<title>prose_73&#45;&gt;raw_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3960.7601,-816.2686C3964.5894,-776.5204 3967.6101,-681.465 3917.5,-629.401 3869.9567,-580.0038 3813.9029,-643.8709 3767.5,-593.401 3714.6465,-535.915 3720.1562,-435.143 3726.7018,-386.1497"/>
<polygon fill="#000000" stroke="#000000" points="3730.2076,-386.3621 3728.18,-375.9632 3723.2801,-385.3569 3730.2076,-386.3621"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="4184.5,-470.101 3776.5,-470.101 3776.5,-245.5001 4184.5,-245.5001 4184.5,-470.101"/>
<text text-anchor="middle" x="3980.5" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.walkDeep(node)</text>
<text text-anchor="middle" x="3980.5" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local function traverse(ast)</text>
<text text-anchor="middle" x="3980.5" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not ast.isNode then return nil end</text>
<text text-anchor="middle" x="3980.5" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;for _, v in ipairs(ast) do</text>
<text text-anchor="middle" x="3980.5" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(v) == &#39;table&#39; and v.isNode then</text>
<text text-anchor="middle" x="3980.5" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;traverse(v)</text>
<text text-anchor="middle" x="3980.5" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3980.5" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3980.5" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;coroutine.yield(ast)</text>
<text text-anchor="middle" x="3980.5" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3980.5" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="3980.5" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_74&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>codeblock_74&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4091.1323,-816.3962C4078.0165,-762.0282 4038.1491,-596.769 4010.0497,-480.2906"/>
<polygon fill="#000000" stroke="#000000" points="4013.3713,-479.1346 4007.6237,-470.2343 4006.5665,-480.7763 4013.3713,-479.1346"/>
</g>
<!-- leaf_77 -->
<g id="node78" class="node">
<title>leaf_77</title>
<polygon fill="none" stroke="#c0c0c0" points="3816.5,-71.0015 3646.5,-71.0015 3646.5,-15.1986 3816.5,-15.1986 3816.5,-71.0015"/>
<text text-anchor="middle" x="3731.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Depth&#45;first iterator. </text>
</g>
<!-- raw_76&#45;&gt;leaf_77 -->
<g id="edge77" class="edge">
<title>raw_76&#45;&gt;leaf_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3731.5,-339.5207C3731.5,-289.4637 3731.5,-149.3734 3731.5,-81.2549"/>
<polygon fill="#000000" stroke="#000000" points="3735.0001,-80.965 3731.5,-70.965 3728.0001,-80.9651 3735.0001,-80.965"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="4296,-375.8005 4203,-375.8005 4203,-339.8005 4296,-339.8005 4296,-375.8005"/>
<text text-anchor="middle" x="4249.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** N.walk</text>
</g>
<!-- header_79&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>header_79&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4249.5,-816.3962C4249.5,-743.9091 4249.5,-474.3014 4249.5,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="4253.0001,-385.9237 4249.5,-375.9237 4246.0001,-385.9238 4253.0001,-385.9237"/>
</g>
<!-- raw_83 -->
<g id="node84" class="node">
<title>raw_83</title>
<ellipse fill="none" stroke="#000000" cx="4341.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="4341.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_80&#45;&gt;raw_83 -->
<g id="edge83" class="edge">
<title>prose_80&#45;&gt;raw_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4348.2341,-816.3962C4347.1697,-743.9091 4343.2107,-474.3014 4341.9141,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="4345.4127,-385.8712 4341.7661,-375.9237 4338.4134,-385.9741 4345.4127,-385.8712"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="4780.5,-470.101 4386.5,-470.101 4386.5,-245.5001 4780.5,-245.5001 4780.5,-470.101"/>
<text text-anchor="middle" x="4583.5" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.walk(node)</text>
<text text-anchor="middle" x="4583.5" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local function traverse(ast)</text>
<text text-anchor="middle" x="4583.5" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not ast.isNode then return nil end</text>
<text text-anchor="middle" x="4583.5" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;coroutine.yield(ast)</text>
<text text-anchor="middle" x="4583.5" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, v in ipairs(ast) do</text>
<text text-anchor="middle" x="4583.5" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if type(v) == &#39;table&#39; and v.isNode then</text>
<text text-anchor="middle" x="4583.5" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;traverse(v)</text>
<text text-anchor="middle" x="4583.5" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4583.5" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4583.5" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4583.5" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="4583.5" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_81&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>codeblock_81&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4536.361,-816.3962C4541.9495,-762.0282 4558.9365,-596.769 4570.9093,-480.2906"/>
<polygon fill="#000000" stroke="#000000" points="4574.402,-480.5398 4571.943,-470.2343 4567.4387,-479.824 4574.402,-480.5398"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="4510.5,-71.0015 4172.5,-71.0015 4172.5,-15.1986 4510.5,-15.1986 4510.5,-71.0015"/>
<text text-anchor="middle" x="4341.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Breadth&#45;first iterator. &#160;This is the default. </text>
</g>
<!-- raw_83&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>raw_83&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4341.5,-339.5207C4341.5,-289.4637 4341.5,-149.3734 4341.5,-81.2549"/>
<polygon fill="#000000" stroke="#000000" points="4345.0001,-80.965 4341.5,-70.965 4338.0001,-80.9651 4345.0001,-80.965"/>
</g>
<!-- leaf_89 -->
<g id="node90" class="node">
<title>leaf_89</title>
<polygon fill="none" stroke="#c0c0c0" points="4990,-375.8005 4799,-375.8005 4799,-339.8005 4990,-339.8005 4990,-375.8005"/>
<text text-anchor="middle" x="4894.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** N.select(node, pred)</text>
</g>
<!-- header_86&#45;&gt;leaf_89 -->
<g id="edge89" class="edge">
<title>header_86&#45;&gt;leaf_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4888.7279,-816.3962C4889.6402,-743.9091 4893.0337,-474.3014 4894.1451,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="4897.6457,-385.967 4894.2719,-375.9237 4890.6462,-385.8789 4897.6457,-385.967"/>
</g>
<!-- raw_90 -->
<g id="node91" class="node">
<title>raw_90</title>
<ellipse fill="none" stroke="#000000" cx="5035.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="5035.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_87&#45;&gt;raw_90 -->
<g id="edge90" class="edge">
<title>prose_87&#45;&gt;raw_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5041.2721,-816.3962C5040.3598,-743.9091 5036.9663,-474.3014 5035.8549,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="5039.3538,-385.8789 5035.7281,-375.9237 5032.3543,-385.967 5039.3538,-385.8789"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="5572.5,-593.5014 5080.5,-593.5014 5080.5,-122.0996 5572.5,-122.0996 5572.5,-593.5014"/>
<text text-anchor="middle" x="5326.5" y="-578.201" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.select(node, pred)</text>
<text text-anchor="middle" x="5326.5" y="-562.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local function qualifies(node, pred)</text>
<text text-anchor="middle" x="5326.5" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if type(pred) == &#39;string&#39; then</text>
<text text-anchor="middle" x="5326.5" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(node) == &#39;table&#39; </text>
<text text-anchor="middle" x="5326.5" y="-516.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;and node.id and node.id == pred then</text>
<text text-anchor="middle" x="5326.5" y="-501.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="5326.5" y="-485.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5326.5" y="-470.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="5326.5" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5326.5" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif type(pred) == &#39;function&#39; then</text>
<text text-anchor="middle" x="5326.5" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return pred(node)</text>
<text text-anchor="middle" x="5326.5" y="-408.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5326.5" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:halt(&quot;cannot select on predicate of type &quot; .. type(pred))</text>
<text text-anchor="middle" x="5326.5" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5326.5" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5326.5" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local function traverse(ast)</text>
<text text-anchor="middle" x="5326.5" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; depth first</text>
<text text-anchor="middle" x="5326.5" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if qualifies(ast, pred) then</text>
<text text-anchor="middle" x="5326.5" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;coroutine.yield(ast)</text>
<text text-anchor="middle" x="5326.5" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5326.5" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if ast.isNode then</text>
<text text-anchor="middle" x="5326.5" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for _, v in ipairs(ast) do</text>
<text text-anchor="middle" x="5326.5" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;traverse(v)</text>
<text text-anchor="middle" x="5326.5" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5326.5" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5326.5" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5326.5" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="5326.5" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_88&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>codeblock_88&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5252.4245,-816.3962C5258.3556,-779.6773 5272.4569,-692.3772 5286.7831,-603.6848"/>
<polygon fill="#000000" stroke="#000000" points="5290.2553,-604.1371 5288.3948,-593.7069 5283.3449,-603.0208 5290.2553,-604.1371"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="5309.5,-86.3004 4761.5,-86.3004 4761.5,.1003 5309.5,.1003 5309.5,-86.3004"/>
<text text-anchor="middle" x="5035.5" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Takes the Node and walks it, yielding the Nodes which match the predicate.</text>
<text text-anchor="middle" x="5035.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">=pred= is either a string, which matches to =id=, or a function, which takes</text>
<text text-anchor="middle" x="5035.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">a Node and returns true or false on some premise. </text>
</g>
<!-- raw_90&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>raw_90&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5035.5,-339.5207C5035.5,-292.9462 5035.5,-168.4298 5035.5,-96.4623"/>
<polygon fill="#000000" stroke="#000000" points="5039.0001,-96.241 5035.5,-86.241 5032.0001,-96.241 5039.0001,-96.241"/>
</g>
<!-- leaf_96 -->
<g id="node97" class="node">
<title>leaf_96</title>
<polygon fill="none" stroke="#c0c0c0" points="5740,-375.8005 5591,-375.8005 5591,-339.8005 5740,-339.8005 5740,-375.8005"/>
<text text-anchor="middle" x="5665.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** N.tokens(node)</text>
</g>
<!-- header_93&#45;&gt;leaf_96 -->
<g id="edge96" class="edge">
<title>header_93&#45;&gt;leaf_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5658.7659,-816.3962C5659.8303,-743.9091 5663.7893,-474.3014 5665.0859,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="5668.5866,-385.9741 5665.2339,-375.9237 5661.5873,-385.8712 5668.5866,-385.9741"/>
</g>
<!-- raw_97 -->
<g id="node98" class="node">
<title>raw_97</title>
<ellipse fill="none" stroke="#000000" cx="5785.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="5785.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_94&#45;&gt;raw_97 -->
<g id="edge97" class="edge">
<title>prose_94&#45;&gt;raw_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5791.2721,-816.3962C5790.3598,-743.9091 5786.9663,-474.3014 5785.8549,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="5789.3538,-385.8789 5785.7281,-375.9237 5782.3543,-385.967 5789.3538,-385.8789"/>
</g>
<!-- leaf_99 -->
<g id="node100" class="node">
<title>leaf_99</title>
<polygon fill="none" stroke="#c0c0c0" points="6224.5,-446.8008 5830.5,-446.8008 5830.5,-268.8002 6224.5,-268.8002 6224.5,-446.8008"/>
<text text-anchor="middle" x="6027.5" y="-431.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.tokens(node)</text>
<text text-anchor="middle" x="6027.5" y="-416.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local function traverse(ast)</text>
<text text-anchor="middle" x="6027.5" y="-400.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for node in N.walk(ast) do</text>
<text text-anchor="middle" x="6027.5" y="-385.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not node[1] then</text>
<text text-anchor="middle" x="6027.5" y="-370.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;coroutine.yield(node:toValue())</text>
<text text-anchor="middle" x="6027.5" y="-354.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6027.5" y="-339.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6027.5" y="-323.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="6027.5" y="-292.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="6027.5" y="-277.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">end &#160;</text>
</g>
<!-- codeblock_95&#45;&gt;leaf_99 -->
<g id="edge99" class="edge">
<title>codeblock_95&#45;&gt;leaf_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5983.2471,-816.3962C5988.8522,-758.31 6006.6716,-573.6466 6017.9152,-457.1285"/>
<polygon fill="#000000" stroke="#000000" points="6021.4043,-457.409 6018.8811,-447.119 6014.4367,-456.7366 6021.4043,-457.409"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="5982.5,-71.0015 5588.5,-71.0015 5588.5,-15.1986 5982.5,-15.1986 5982.5,-71.0015"/>
<text text-anchor="middle" x="5785.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Iterator returning all &#39;captured&#39; values as strings.</text>
</g>
<!-- raw_97&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>raw_97&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5785.5,-339.5207C5785.5,-289.4637 5785.5,-149.3734 5785.5,-81.2549"/>
<polygon fill="#000000" stroke="#000000" points="5789.0001,-80.965 5785.5,-70.965 5782.0001,-80.9651 5789.0001,-80.965"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6267.5,-852.5013 6153.5,-852.5013 6153.5,-816.5013 6267.5,-816.5013 6267.5,-852.5013"/>
<text text-anchor="middle" x="6210.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Collectors</text>
</g>
<!-- header_100&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>header_100&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6210.5,-1093.1401C6210.5,-1046.0222 6210.5,-919.5904 6210.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="6214.0001,-862.7298 6210.5,-852.7298 6207.0001,-862.7299 6214.0001,-862.7298"/>
</g>
<!-- raw_105 -->
<g id="node106" class="node">
<title>raw_105</title>
<ellipse fill="none" stroke="#000000" cx="6324.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="6324.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_101&#45;&gt;raw_105 -->
<g id="edge105" class="edge">
<title>prose_101&#45;&gt;raw_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6322.6312,-1093.1401C6322.9717,-1046.0222 6323.8852,-919.5904 6324.2955,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="6327.7958,-862.7549 6324.3683,-852.7298 6320.796,-862.7043 6327.7958,-862.7549"/>
</g>
<!-- raw_107 -->
<g id="node108" class="node">
<title>raw_107</title>
<ellipse fill="none" stroke="#000000" cx="6401.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="6401.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_102&#45;&gt;raw_107 -->
<g id="edge107" class="edge">
<title>prose_102&#45;&gt;raw_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6404.3032,-1093.1401C6403.7925,-1046.0222 6402.4222,-919.5904 6401.8067,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="6405.3058,-862.6913 6401.6976,-852.7298 6398.3062,-862.7672 6405.3058,-862.6913"/>
</g>
<!-- leaf_109 -->
<g id="node110" class="node">
<title>leaf_109</title>
<polygon fill="none" stroke="#c0c0c0" points="6714.5,-900.2017 6446.5,-900.2017 6446.5,-768.8009 6714.5,-768.8009 6714.5,-900.2017"/>
<text text-anchor="middle" x="6580.5" y="-884.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.gather(node, pred)</text>
<text text-anchor="middle" x="6580.5" y="-869.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local gathered = {}</text>
<text text-anchor="middle" x="6580.5" y="-854.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for ast in N.select(node, pred) do</text>
<text text-anchor="middle" x="6580.5" y="-838.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;gathered[#gathered + 1] = ast</text>
<text text-anchor="middle" x="6580.5" y="-823.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="6580.5" y="-807.9013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;</text>
<text text-anchor="middle" x="6580.5" y="-792.5013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return gathered</text>
<text text-anchor="middle" x="6580.5" y="-777.1012" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_103&#45;&gt;leaf_109 -->
<g id="edge109" class="edge">
<title>codeblock_103&#45;&gt;leaf_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6563.681,-1093.1401C6566.0482,-1056.7388 6571.4936,-972.9992 6575.551,-910.6054"/>
<polygon fill="#000000" stroke="#000000" points="6579.0586,-910.6014 6576.215,-900.3953 6572.0734,-910.1471 6579.0586,-910.6014"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="6524.5,-385.702 6242.5,-385.702 6242.5,-329.899 6524.5,-329.899 6524.5,-385.702"/>
<text text-anchor="middle" x="6383.5" y="-338.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">These return an array of all results. </text>
</g>
<!-- raw_105&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>raw_105&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6326.7408,-816.3962C6335.404,-746.4008 6366.8157,-492.6039 6378.8053,-395.7326"/>
<polygon fill="#000000" stroke="#000000" points="6382.3146,-395.872 6380.0695,-385.5177 6375.3676,-395.0121 6382.3146,-395.872"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="7042,-385.101 6543,-385.101 6543,-330.5001 7042,-330.5001 7042,-385.101"/>
<text text-anchor="middle" x="6792.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; [ ] #todo &#160;Add a Forest class to provide the iterator interface for</text>
<text text-anchor="middle" x="6792.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;the return arrays of this class.</text>
</g>
<!-- raw_107&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>raw_107&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6399.1951,-816.4644C6395.264,-777.5167 6391.6612,-684.6148 6437.5,-629.401 6466.6072,-594.3408 6494.6152,-617.1584 6533.5,-593.401 6626.5573,-536.5457 6716.384,-443.6726 6761.807,-393.1856"/>
<polygon fill="#000000" stroke="#000000" points="6764.6577,-395.2482 6768.7095,-385.4587 6759.4373,-390.5847 6764.6577,-395.2482"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="7978,-1129.3017 7843,-1129.3017 7843,-1093.3017 7978,-1093.3017 7978,-1129.3017"/>
<text text-anchor="middle" x="7910.5" y="-1107.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">** Node Instances</text>
</g>
<!-- header_110&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>header_110&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7910.5,-1182.8496C7910.5,-1170.4482 7910.5,-1153.765 7910.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="7914.0001,-1139.4268 7910.5,-1129.4268 7907.0001,-1139.4269 7914.0001,-1139.4268"/>
</g>
<!-- raw_119 -->
<g id="node120" class="node">
<title>raw_119</title>
<ellipse fill="none" stroke="#000000" cx="8033.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="8033.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_111&#45;&gt;raw_119 -->
<g id="edge119" class="edge">
<title>prose_111&#45;&gt;raw_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8042.274,-1182.8496C8040.7532,-1170.4482 8038.7073,-1153.765 8036.9737,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="8040.414,-1138.9264 8035.7227,-1129.4268 8033.466,-1139.7785 8040.414,-1138.9264"/>
</g>
<!-- raw_121 -->
<g id="node122" class="node">
<title>raw_121</title>
<ellipse fill="none" stroke="#000000" cx="8115.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="8115.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_112&#45;&gt;raw_121 -->
<g id="edge121" class="edge">
<title>prose_112&#45;&gt;raw_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8124.274,-1182.8496C8122.7532,-1170.4482 8120.7073,-1153.765 8118.9737,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="8122.414,-1138.9264 8117.7227,-1129.4268 8115.466,-1139.7785 8122.414,-1138.9264"/>
</g>
<!-- raw_123 -->
<g id="node124" class="node">
<title>raw_123</title>
<ellipse fill="none" stroke="#000000" cx="8198.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="8198.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_113&#45;&gt;raw_123 -->
<g id="edge123" class="edge">
<title>prose_113&#45;&gt;raw_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8206.4764,-1182.8496C8205.0938,-1170.4482 8203.2339,-1153.765 8201.6579,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="8205.1071,-1138.9775 8200.5206,-1129.4268 8198.1502,-1139.7531 8205.1071,-1138.9775"/>
</g>
<!-- raw_125 -->
<g id="node126" class="node">
<title>raw_125</title>
<ellipse fill="none" stroke="#000000" cx="8577.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="8577.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_114&#45;&gt;raw_125 -->
<g id="edge125" class="edge">
<title>prose_114&#45;&gt;raw_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8371.2281,-1190.712C8413.9915,-1174.249 8497.7016,-1142.0224 8544.259,-1124.0988"/>
<polygon fill="#000000" stroke="#000000" points="8545.8016,-1127.2554 8553.8765,-1120.3963 8543.2867,-1120.7227 8545.8016,-1127.2554"/>
</g>
<!-- raw_127 -->
<g id="node128" class="node">
<title>raw_127</title>
<ellipse fill="none" stroke="#000000" cx="8939.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="8939.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_115&#45;&gt;raw_127 -->
<g id="edge127" class="edge">
<title>prose_115&#45;&gt;raw_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8710.8965,-1191.4022C8758.0571,-1174.8776 8854.4394,-1141.1062 8905.694,-1123.147"/>
<polygon fill="#000000" stroke="#000000" points="8907.0352,-1126.3858 8915.3153,-1119.7758 8904.7204,-1119.7796 8907.0352,-1126.3858"/>
</g>
<!-- header_129 -->
<g id="node130" class="node">
<title>header_129</title>
<ellipse fill="none" stroke="#000000" cx="9535.5" cy="-1111.3017" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="9535.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Fields</text>
</g>
<!-- section_116&#45;&gt;header_129 -->
<g id="edge129" class="edge">
<title>section_116&#45;&gt;header_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9702.9412,-1187.7266C9669.9586,-1178.3431 9626.7227,-1164.3615 9590.5,-1147.0017 9582.1463,-1142.9982 9573.546,-1137.9327 9565.7001,-1132.8848"/>
<polygon fill="#000000" stroke="#000000" points="9567.4824,-1129.867 9557.2156,-1127.2507 9563.61,-1135.6984 9567.4824,-1129.867"/>
</g>
<!-- prose_130 -->
<g id="node131" class="node">
<title>prose_130</title>
<ellipse fill="none" stroke="#000000" cx="9631.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9631.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_116&#45;&gt;prose_130 -->
<g id="edge130" class="edge">
<title>section_116&#45;&gt;prose_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9726.911,-1184.1354C9710.6981,-1173.9062 9690.0133,-1160.2983 9672.5,-1147.0017 9666.9443,-1142.7837 9661.1793,-1138.0257 9655.7888,-1133.391"/>
<polygon fill="#000000" stroke="#000000" points="9658.0553,-1130.7235 9648.2272,-1126.7663 9653.4424,-1135.9886 9658.0553,-1130.7235"/>
</g>
<!-- prose_131 -->
<g id="node132" class="node">
<title>prose_131</title>
<ellipse fill="none" stroke="#000000" cx="9713.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9713.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_116&#45;&gt;prose_131 -->
<g id="edge131" class="edge">
<title>section_116&#45;&gt;prose_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9746.203,-1182.8496C9740.3474,-1170.0386 9732.4033,-1152.6584 9725.8111,-1138.236"/>
<polygon fill="#000000" stroke="#000000" points="9728.846,-1136.4563 9721.5056,-1128.8164 9722.4795,-1139.3664 9728.846,-1136.4563"/>
</g>
<!-- prose_132 -->
<g id="node133" class="node">
<title>prose_132</title>
<ellipse fill="none" stroke="#000000" cx="9795.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9795.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_116&#45;&gt;prose_132 -->
<g id="edge132" class="edge">
<title>section_116&#45;&gt;prose_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9762.797,-1182.8496C9768.6526,-1170.0386 9776.5967,-1152.6584 9783.1889,-1138.236"/>
<polygon fill="#000000" stroke="#000000" points="9786.5205,-1139.3664 9787.4944,-1128.8164 9780.154,-1136.4563 9786.5205,-1139.3664"/>
</g>
<!-- prose_133 -->
<g id="node134" class="node">
<title>prose_133</title>
<ellipse fill="none" stroke="#000000" cx="9877.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9877.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_116&#45;&gt;prose_133 -->
<g id="edge133" class="edge">
<title>section_116&#45;&gt;prose_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9782.089,-1184.1354C9798.3019,-1173.9062 9818.9867,-1160.2983 9836.5,-1147.0017 9842.0557,-1142.7837 9847.8207,-1138.0257 9853.2112,-1133.391"/>
<polygon fill="#000000" stroke="#000000" points="9855.5576,-1135.9886 9860.7728,-1126.7663 9850.9447,-1130.7235 9855.5576,-1135.9886"/>
</g>
<!-- prose_134 -->
<g id="node135" class="node">
<title>prose_134</title>
<ellipse fill="none" stroke="#000000" cx="10070.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10070.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_116&#45;&gt;prose_134 -->
<g id="edge134" class="edge">
<title>section_116&#45;&gt;prose_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9803.1825,-1187.1827C9866.0607,-1169.334 9974.2448,-1138.6248 10031.8182,-1122.2819"/>
<polygon fill="#000000" stroke="#000000" points="10032.9563,-1125.5972 10041.6205,-1119.4995 10031.0448,-1118.8633 10032.9563,-1125.5972"/>
</g>
<!-- section_135 -->
<g id="node136" class="node">
<title>section_135</title>
<ellipse fill="none" stroke="#000000" cx="10974.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10974.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 275&#45;287</text>
</g>
<!-- section_116&#45;&gt;section_135 -->
<g id="edge135" class="edge">
<title>section_116&#45;&gt;section_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9826.7118,-1195.6924C10039.9573,-1180.0136 10666.0779,-1133.9783 10892.0087,-1117.3668"/>
<polygon fill="#000000" stroke="#000000" points="10892.423,-1120.8459 10902.1394,-1116.622 10891.9097,-1113.8648 10892.423,-1120.8459"/>
</g>
<!-- header_161 -->
<g id="node162" class="node">
<title>header_161</title>
<ellipse fill="none" stroke="#000000" cx="12837.5" cy="-1111.3017" rx="67.7307" ry="18"/>
<text text-anchor="middle" x="12837.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Other fields</text>
</g>
<!-- section_117&#45;&gt;header_161 -->
<g id="edge161" class="edge">
<title>section_117&#45;&gt;header_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13133.6409,-1193.0692C13074.7333,-1185.0473 12987.6489,-1170.4379 12914.5,-1147.0017 12901.9882,-1142.993 12888.8511,-1137.446 12877.0421,-1131.9185"/>
<polygon fill="#000000" stroke="#000000" points="12878.4226,-1128.6987 12867.8936,-1127.5195 12875.3891,-1135.0073 12878.4226,-1128.6987"/>
</g>
<!-- prose_162 -->
<g id="node163" class="node">
<title>prose_162</title>
<ellipse fill="none" stroke="#000000" cx="12955.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12955.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_117&#45;&gt;prose_162 -->
<g id="edge162" class="edge">
<title>section_117&#45;&gt;prose_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13136.3635,-1191.7107C13094.6128,-1183.8963 13040.2471,-1170.1668 12996.5,-1147.0017 12990.1113,-1143.6187 12983.8753,-1139.0643 12978.2725,-1134.3423"/>
<polygon fill="#000000" stroke="#000000" points="12980.3497,-1131.5033 12970.5729,-1127.421 12975.67,-1136.7091 12980.3497,-1131.5033"/>
</g>
<!-- prose_163 -->
<g id="node164" class="node">
<title>prose_163</title>
<ellipse fill="none" stroke="#000000" cx="13037.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13037.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_117&#45;&gt;prose_163 -->
<g id="edge163" class="edge">
<title>section_117&#45;&gt;prose_163</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13158.9086,-1185.9898C13134.4614,-1176.4859 13103.7114,-1162.9859 13078.5,-1147.0017 13072.5017,-1143.1987 13066.4871,-1138.5469 13060.9842,-1133.8738"/>
<polygon fill="#000000" stroke="#000000" points="13063.155,-1131.1209 13053.3493,-1127.1083 13058.5125,-1136.36 13063.155,-1131.1209"/>
</g>
<!-- prose_164 -->
<g id="node165" class="node">
<title>prose_164</title>
<ellipse fill="none" stroke="#000000" cx="13119.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13119.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_117&#45;&gt;prose_164 -->
<g id="edge164" class="edge">
<title>section_117&#45;&gt;prose_164</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13185.2994,-1183.2799C13172.6601,-1169.4537 13154.9843,-1150.118 13141.1352,-1134.9685"/>
<polygon fill="#000000" stroke="#000000" points="13143.6192,-1132.4984 13134.2887,-1127.4792 13138.4527,-1137.2215 13143.6192,-1132.4984"/>
</g>
<!-- prose_165 -->
<g id="node166" class="node">
<title>prose_165</title>
<ellipse fill="none" stroke="#000000" cx="13201.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13201.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_117&#45;&gt;prose_165 -->
<g id="edge165" class="edge">
<title>section_117&#45;&gt;prose_165</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13201.5,-1182.8496C13201.5,-1170.4482 13201.5,-1153.765 13201.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="13205.0001,-1139.4268 13201.5,-1129.4268 13198.0001,-1139.4269 13205.0001,-1139.4268"/>
</g>
<!-- prose_166 -->
<g id="node167" class="node">
<title>prose_166</title>
<ellipse fill="none" stroke="#000000" cx="13283.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13283.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_117&#45;&gt;prose_166 -->
<g id="edge166" class="edge">
<title>section_117&#45;&gt;prose_166</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13217.7006,-1183.2799C13230.3399,-1169.4537 13248.0157,-1150.118 13261.8648,-1134.9685"/>
<polygon fill="#000000" stroke="#000000" points="13264.5473,-1137.2215 13268.7113,-1127.4792 13259.3808,-1132.4984 13264.5473,-1137.2215"/>
</g>
<!-- prose_167 -->
<g id="node168" class="node">
<title>prose_167</title>
<ellipse fill="none" stroke="#000000" cx="13365.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13365.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_117&#45;&gt;prose_167 -->
<g id="edge167" class="edge">
<title>section_117&#45;&gt;prose_167</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13244.0914,-1185.9898C13268.5386,-1176.4859 13299.2886,-1162.9859 13324.5,-1147.0017 13330.4983,-1143.1987 13336.5129,-1138.5469 13342.0158,-1133.8738"/>
<polygon fill="#000000" stroke="#000000" points="13344.4875,-1136.36 13349.6507,-1127.1083 13339.845,-1131.1209 13344.4875,-1136.36"/>
</g>
<!-- prose_168 -->
<g id="node169" class="node">
<title>prose_168</title>
<ellipse fill="none" stroke="#000000" cx="13447.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13447.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_117&#45;&gt;prose_168 -->
<g id="edge168" class="edge">
<title>section_117&#45;&gt;prose_168</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13266.6365,-1191.7107C13308.3872,-1183.8963 13362.7529,-1170.1668 13406.5,-1147.0017 13412.8887,-1143.6187 13419.1247,-1139.0643 13424.7275,-1134.3423"/>
<polygon fill="#000000" stroke="#000000" points="13427.33,-1136.7091 13432.4271,-1127.421 13422.6503,-1131.5033 13427.33,-1136.7091"/>
</g>
<!-- prose_169 -->
<g id="node170" class="node">
<title>prose_169</title>
<ellipse fill="none" stroke="#000000" cx="13529.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13529.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_117&#45;&gt;prose_169 -->
<g id="edge169" class="edge">
<title>section_117&#45;&gt;prose_169</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13268.2811,-1192.5646C13340.5373,-1182.7129 13450.5156,-1165.4062 13488.5,-1147.0017 13495.1198,-1143.7942 13501.509,-1139.2309 13507.1945,-1134.4345"/>
<polygon fill="#000000" stroke="#000000" points="13509.9196,-1136.6873 13514.9657,-1127.3713 13505.2115,-1131.5072 13509.9196,-1136.6873"/>
</g>
<!-- codeblock_170 -->
<g id="node171" class="node">
<title>codeblock_170</title>
<ellipse fill="none" stroke="#000000" cx="13667.5" cy="-1111.3017" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13667.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 317&#45;319</text>
</g>
<!-- section_117&#45;&gt;codeblock_170 -->
<g id="edge170" class="edge">
<title>section_117&#45;&gt;codeblock_170</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13272.7541,-1194.9947C13347.7096,-1187.6523 13468.6908,-1172.8876 13570.5,-1147.0017 13586.7744,-1142.8638 13604.112,-1136.9808 13619.5609,-1131.1815"/>
<polygon fill="#000000" stroke="#000000" points="13620.825,-1134.4453 13628.9096,-1127.5977 13618.3194,-1127.9091 13620.825,-1134.4453"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="7294.5,-869.8017 6732.5,-869.8017 6732.5,-799.201 7294.5,-799.201 7294.5,-869.8017"/>
<text text-anchor="middle" x="7013.5" y="-822.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;To be a Node, currently, indexed elements of the Array portion must also be </text>
<text text-anchor="middle" x="7013.5" y="-807.3013" font-family="Inconsolata" font-size="14.00" fill="#000000">Nodes. </text>
</g>
<!-- raw_119&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>raw_119&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8018.4148,-1096.1011C8009.8306,-1088.4845 7998.4307,-1079.972 7986.5,-1075.6017 7701.0704,-971.0459 7590.6673,-1139.2858 7303.5,-1039.6017 7204.6645,-1005.293 7109.4622,-926.3788 7056.4858,-877.0494"/>
<polygon fill="#000000" stroke="#000000" points="7058.6642,-874.2935 7048.9806,-869.9947 7053.8699,-879.394 7058.6642,-874.2935"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="7860.5,-869.7017 7312.5,-869.7017 7312.5,-799.3009 7860.5,-799.3009 7860.5,-869.7017"/>
<text text-anchor="middle" x="7586.5" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m mostly convinced that indexed elements can also be strings, and that </text>
<text text-anchor="middle" x="7586.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">this is the form leaf nodes should take. &#160;Currently, they have a &#39;val&#39; field</text>
<text text-anchor="middle" x="7586.5" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">and no children, which we should replace with a child string at [1].</text>
</g>
<!-- raw_121&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>raw_121&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8100.1442,-1096.3222C8091.7412,-1088.9629 8080.7659,-1080.6198 8069.5,-1075.6017 7986.9969,-1038.8529 7952.5956,-1074.9903 7869.5,-1039.6017 7775.8511,-999.7187 7683.418,-924.0376 7630.8186,-876.5985"/>
<polygon fill="#000000" stroke="#000000" points="7633.1059,-873.9478 7623.3517,-869.8119 7628.3978,-879.1279 7633.1059,-873.9478"/>
</g>
<!-- leaf_124 -->
<g id="node125" class="node">
<title>leaf_124</title>
<polygon fill="none" stroke="#c0c0c0" points="8412.5,-869.7017 7878.5,-869.7017 7878.5,-799.3009 8412.5,-799.3009 8412.5,-869.7017"/>
<text text-anchor="middle" x="8145.5" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">This gives us a lighter way to handle the circumstance where we have, say,</text>
<text text-anchor="middle" x="8145.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">a list, =(foo bar baz)=. We currently either need a &quot;left&#45;per&quot; or &quot;pal&quot;</text>
<text text-anchor="middle" x="8145.5" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">Node class to hold the =(=, or we would have to skip it entirely.</text>
</g>
<!-- raw_123&#45;&gt;leaf_124 -->
<g id="edge124" class="edge">
<title>raw_123&#45;&gt;leaf_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8195.0225,-1093.1401C8186.8201,-1050.3016 8166.0644,-941.902 8154.1902,-879.8869"/>
<polygon fill="#000000" stroke="#000000" points="8157.6115,-879.1437 8152.2933,-869.9803 8150.7364,-880.4602 8157.6115,-879.1437"/>
</g>
<!-- leaf_126 -->
<g id="node127" class="node">
<title>leaf_126</title>
<polygon fill="none" stroke="#c0c0c0" points="8958,-885.0015 8431,-885.0015 8431,-784.0012 8958,-784.0012 8958,-885.0015"/>
<text text-anchor="middle" x="8694.5" y="-853.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">Quipu can&#39;t lose any information from the string, so they have to include</text>
<text text-anchor="middle" x="8694.5" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">whitespace. &#160;We&#39;re not limited in the same way and can reconstruct less </text>
<text text-anchor="middle" x="8694.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">semantically crucial parts of a document using the span and the original </text>
<text text-anchor="middle" x="8694.5" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">string, since we&#39;re not /currently/ editing our strings once they&#39;re</text>
<text text-anchor="middle" x="8694.5" y="-792.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">entered in.</text>
</g>
<!-- raw_125&#45;&gt;leaf_126 -->
<g id="edge126" class="edge">
<title>raw_125&#45;&gt;leaf_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8584.9969,-1093.5655C8601.6195,-1054.2393 8642.2162,-958.1952 8669.0342,-894.7487"/>
<polygon fill="#000000" stroke="#000000" points="8672.3807,-895.8212 8673.0502,-885.2475 8665.933,-893.0958 8672.3807,-895.8212"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="9482.5,-877.7017 8976.5,-877.7017 8976.5,-791.301 9482.5,-791.301 9482.5,-877.7017"/>
<text text-anchor="middle" x="9229.5" y="-846.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">Nodes are meant to be broadly compatible with everything we intend to</text>
<text text-anchor="middle" x="9229.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">do with abstract syntax trees. &#160;The more I think about this the better</text>
<text text-anchor="middle" x="9229.5" y="-815.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">it strikes me as an approach. </text>
</g>
<!-- raw_127&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>raw_127&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8955.0917,-1096.4197C8996.2132,-1057.1698 9109.076,-949.4441 9176.5637,-885.0282"/>
<polygon fill="#000000" stroke="#000000" points="9179.3404,-887.2163 9184.1576,-877.7799 9174.5072,-882.1526 9179.3404,-887.2163"/>
</g>
<!-- leaf_136 -->
<g id="node137" class="node">
<title>leaf_136</title>
<polygon fill="none" stroke="#c0c0c0" points="9586.5,-852.5013 9500.5,-852.5013 9500.5,-816.5013 9586.5,-816.5013 9586.5,-852.5013"/>
<text text-anchor="middle" x="9543.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Fields</text>
</g>
<!-- header_129&#45;&gt;leaf_136 -->
<g id="edge136" class="edge">
<title>header_129&#45;&gt;leaf_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9536.0249,-1093.1401C9537.3867,-1046.0222 9541.0408,-919.5904 9542.6821,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="9546.1827,-862.8268 9542.9732,-852.7298 9539.1856,-862.6245 9546.1827,-862.8268"/>
</g>
<!-- raw_137 -->
<g id="node138" class="node">
<title>raw_137</title>
<ellipse fill="none" stroke="#000000" cx="9631.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="9631.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_130&#45;&gt;raw_137 -->
<g id="edge137" class="edge">
<title>prose_130&#45;&gt;raw_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9631.5,-1093.1401C9631.5,-1046.0222 9631.5,-919.5904 9631.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="9635.0001,-862.7298 9631.5,-852.7298 9628.0001,-862.7299 9635.0001,-862.7298"/>
</g>
<!-- raw_139 -->
<g id="node140" class="node">
<title>raw_139</title>
<ellipse fill="none" stroke="#000000" cx="9708.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="9708.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_131&#45;&gt;raw_139 -->
<g id="edge139" class="edge">
<title>prose_131&#45;&gt;raw_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9713.1719,-1093.1401C9712.3208,-1046.0222 9710.037,-919.5904 9709.0112,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="9712.5094,-862.665 9708.8293,-852.7298 9705.5105,-862.7915 9712.5094,-862.665"/>
</g>
<!-- raw_141 -->
<g id="node142" class="node">
<title>raw_141</title>
<ellipse fill="none" stroke="#000000" cx="9788.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="9788.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_132&#45;&gt;raw_141 -->
<g id="edge141" class="edge">
<title>prose_132&#45;&gt;raw_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9795.0407,-1093.1401C9793.8491,-1046.0222 9790.6518,-919.5904 9789.2157,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="9792.7128,-862.6381 9788.961,-852.7298 9785.715,-862.8152 9792.7128,-862.6381"/>
</g>
<!-- raw_143 -->
<g id="node144" class="node">
<title>raw_143</title>
<ellipse fill="none" stroke="#000000" cx="9877.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="9877.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_133&#45;&gt;raw_143 -->
<g id="edge143" class="edge">
<title>prose_133&#45;&gt;raw_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9877.5,-1093.1401C9877.5,-1046.0222 9877.5,-919.5904 9877.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="9881.0001,-862.7298 9877.5,-852.7298 9874.0001,-862.7299 9881.0001,-862.7298"/>
</g>
<!-- raw_145 -->
<g id="node146" class="node">
<title>raw_145</title>
<ellipse fill="none" stroke="#000000" cx="10291.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="10291.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_134&#45;&gt;raw_145 -->
<g id="edge145" class="edge">
<title>prose_134&#45;&gt;raw_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10083.6627,-1094.8155C10121.1388,-1047.8771 10228.5294,-913.3714 10272.4405,-858.3732"/>
<polygon fill="#000000" stroke="#000000" points="10275.1789,-860.5529 10278.6831,-850.5544 10269.7085,-856.1854 10275.1789,-860.5529"/>
</g>
<!-- header_147 -->
<g id="node148" class="node">
<title>header_147</title>
<ellipse fill="none" stroke="#000000" cx="10774.5" cy="-834.5013" rx="108.8185" ry="18"/>
<text text-anchor="middle" x="10774.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : line tracking (optional)</text>
</g>
<!-- section_135&#45;&gt;header_147 -->
<g id="edge147" class="edge">
<title>section_135&#45;&gt;header_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10950.7014,-1093.9437C10933.2308,-1080.4288 10909.655,-1060.5062 10892.5,-1039.6017 10845.0923,-981.8321 10805.4754,-902.5971 10786.5161,-861.5754"/>
<polygon fill="#000000" stroke="#000000" points="10789.6989,-860.1194 10782.3612,-852.4769 10783.3315,-863.0272 10789.6989,-860.1194"/>
</g>
<!-- prose_148 -->
<g id="node149" class="node">
<title>prose_148</title>
<ellipse fill="none" stroke="#000000" cx="10933.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10933.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_135&#45;&gt;prose_148 -->
<g id="edge148" class="edge">
<title>section_135&#45;&gt;prose_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10971.8099,-1093.1401C10964.8307,-1046.0222 10946.1035,-919.5904 10937.6919,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="10941.1276,-862.1091 10936.2,-852.7298 10934.2031,-863.1348 10941.1276,-862.1091"/>
</g>
<!-- prose_149 -->
<g id="node150" class="node">
<title>prose_149</title>
<ellipse fill="none" stroke="#000000" cx="11015.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11015.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_135&#45;&gt;prose_149 -->
<g id="edge149" class="edge">
<title>section_135&#45;&gt;prose_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10977.1901,-1093.1401C10984.1693,-1046.0222 11002.8965,-919.5904 11011.3081,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="11014.7969,-863.1348 11012.8,-852.7298 11007.8724,-862.1091 11014.7969,-863.1348"/>
</g>
<!-- prose_150 -->
<g id="node151" class="node">
<title>prose_150</title>
<ellipse fill="none" stroke="#000000" cx="11097.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11097.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_135&#45;&gt;prose_150 -->
<g id="edge150" class="edge">
<title>section_135&#45;&gt;prose_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11001.9748,-1094.3165C11020.2865,-1081.5334 11043.3295,-1062.3501 11056.5,-1039.6017 11089.3186,-982.9164 11096.244,-904.2854 11097.4719,-862.7782"/>
<polygon fill="#000000" stroke="#000000" points="11100.9751,-862.6513 11097.6789,-852.5823 11093.9765,-862.5091 11100.9751,-862.6513"/>
</g>
<!-- prose_151 -->
<g id="node152" class="node">
<title>prose_151</title>
<ellipse fill="none" stroke="#000000" cx="11179.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11179.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_135&#45;&gt;prose_151 -->
<g id="edge151" class="edge">
<title>section_135&#45;&gt;prose_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11033.3444,-1099.9556C11068.9993,-1090.0218 11112.4804,-1071.9116 11138.5,-1039.6017 11180.0725,-987.9789 11183.2054,-905.7011 11181.5797,-862.7275"/>
<polygon fill="#000000" stroke="#000000" points="11185.0731,-862.5067 11181.0843,-852.6914 11178.0816,-862.8519 11185.0731,-862.5067"/>
</g>
<!-- leaf_138 -->
<g id="node139" class="node">
<title>leaf_138</title>
<polygon fill="none" stroke="#c0c0c0" points="8561,-408.4014 8048,-408.4014 8048,-307.1996 8561,-307.1996 8561,-408.4014"/>
<text text-anchor="middle" x="8304.5" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;There are invariant fields a Node is also expected to have, they are:</text>
<text text-anchor="middle" x="8304.5" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="8304.5" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; first : &#160;Index into =str= which begins the span.</text>
<text text-anchor="middle" x="8304.5" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; last &#160;: &#160;Index into =str= which ends the span.</text>
</g>
<!-- raw_137&#45;&gt;leaf_138 -->
<g id="edge138" class="edge">
<title>raw_137&#45;&gt;leaf_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9634.8679,-816.4704C9641.2927,-775.8415 9650.1825,-676.9812 9595.5,-629.401 9509.4456,-554.5235 8675.3946,-635.8078 8569.5,-593.401 8477.8038,-556.6801 8396.9497,-473.4369 8349.3687,-416.4144"/>
<polygon fill="#000000" stroke="#000000" points="8351.9427,-414.0345 8342.8779,-408.5498 8346.5439,-418.4903 8351.9427,-414.0345"/>
</g>
<!-- leaf_140 -->
<g id="node141" class="node">
<title>leaf_140</title>
<polygon fill="none" stroke="#c0c0c0" points="9064,-385.101 8579,-385.101 8579,-330.5001 9064,-330.5001 9064,-385.101"/>
<text text-anchor="middle" x="8821.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">In principle, we want the Node to be localized. We could include a </text>
<text text-anchor="middle" x="8821.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">reference to the whole =str= and derive substrings lazily.</text>
</g>
<!-- raw_139&#45;&gt;leaf_140 -->
<g id="edge140" class="edge">
<title>raw_139&#45;&gt;leaf_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9711.2925,-816.5075C9716.4449,-775.9556 9722.3791,-677.2444 9667.5,-629.401 9617.6598,-585.9504 9134.2419,-619.5241 9073.5,-593.401 8972.7038,-550.0518 8887.1186,-448.0914 8846.593,-393.6065"/>
<polygon fill="#000000" stroke="#000000" points="8849.2215,-391.2727 8840.4803,-385.2859 8843.5802,-395.4171 8849.2215,-391.2727"/>
</g>
<!-- leaf_142 -->
<g id="node143" class="node">
<title>leaf_142</title>
<polygon fill="none" stroke="#c0c0c0" points="9602.5,-393.0009 9082.5,-393.0009 9082.5,-322.6002 9602.5,-322.6002 9602.5,-393.0009"/>
<text text-anchor="middle" x="9342.5" y="-361.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">If we included the full span as a substring on each Node, we&#39;d end up</text>
<text text-anchor="middle" x="9342.5" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">with a lot of spans, and wouldn&#39;t use most of them. Even slicing a piece</text>
<text text-anchor="middle" x="9342.5" y="-330.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">out is costly if we&#39;re not going to use it. </text>
</g>
<!-- raw_141&#45;&gt;leaf_142 -->
<g id="edge142" class="edge">
<title>raw_141&#45;&gt;leaf_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9790.3442,-816.3461C9793.2948,-776.7525 9794.3689,-681.9863 9744.5,-629.401 9702.361,-584.9665 9665.4799,-622.3198 9611.5,-593.401 9517.0946,-542.8249 9427.7667,-453.4217 9379.5449,-400.4897"/>
<polygon fill="#000000" stroke="#000000" points="9382.0351,-398.0251 9372.7328,-392.9537 9376.8422,-402.7191 9382.0351,-398.0251"/>
</g>
<!-- leaf_144 -->
<g id="node145" class="node">
<title>leaf_144</title>
<polygon fill="none" stroke="#c0c0c0" points="10134,-400.4016 9621,-400.4016 9621,-315.1995 10134,-315.1995 10134,-400.4016"/>
<text text-anchor="middle" x="9877.5" y="-369.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">So our constructor for a Node class takes (Constructor, node, str) as </text>
<text text-anchor="middle" x="9877.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">the standard interface. &#160;If a module needs a non&#45;standard constructor,</text>
<text text-anchor="middle" x="9877.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">as our Section and Block modules currently take an array of lines, that</text>
<text text-anchor="middle" x="9877.5" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">will need to be provided as the second return from the module. </text>
</g>
<!-- raw_143&#45;&gt;leaf_144 -->
<g id="edge144" class="edge">
<title>raw_143&#45;&gt;leaf_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9877.5,-816.3962C9877.5,-749.7381 9877.5,-516.3874 9877.5,-410.6218"/>
<polygon fill="#000000" stroke="#000000" points="9881.0001,-410.4912 9877.5,-400.4912 9874.0001,-410.4913 9881.0001,-410.4912"/>
</g>
<!-- leaf_146 -->
<g id="node147" class="node">
<title>leaf_146</title>
<polygon fill="none" stroke="#c0c0c0" points="10651,-393.1009 10152,-393.1009 10152,-322.5002 10651,-322.5002 10651,-393.1009"/>
<text text-anchor="middle" x="10401.5" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">This will allow for the kind of multi&#45;pass recursive&#45;descent that I&#39;m</text>
<text text-anchor="middle" x="10401.5" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">aiming for. </text>
</g>
<!-- raw_145&#45;&gt;leaf_146 -->
<g id="edge146" class="edge">
<title>raw_145&#45;&gt;leaf_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10295.6114,-816.6841C10311.2601,-748.8679 10367.4074,-505.5455 10390.9716,-403.427"/>
<polygon fill="#000000" stroke="#000000" points="10394.443,-403.9491 10393.2811,-393.4181 10387.6222,-402.3751 10394.443,-403.9491"/>
</g>
<!-- leaf_152 -->
<g id="node153" class="node">
<title>leaf_152</title>
<polygon fill="none" stroke="#c0c0c0" points="10888,-375.8005 10669,-375.8005 10669,-339.8005 10888,-339.8005 10888,-375.8005"/>
<text text-anchor="middle" x="10778.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** line tracking (optional)</text>
</g>
<!-- header_147&#45;&gt;leaf_152 -->
<g id="edge152" class="edge">
<title>header_147&#45;&gt;leaf_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10774.6519,-816.3962C10775.2602,-743.9091 10777.5224,-474.3014 10778.2634,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="10781.7638,-385.9528 10778.3479,-375.9237 10774.764,-385.894 10781.7638,-385.9528"/>
</g>
<!-- raw_153 -->
<g id="node154" class="node">
<title>raw_153</title>
<ellipse fill="none" stroke="#000000" cx="10933.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="10933.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_148&#45;&gt;raw_153 -->
<g id="edge153" class="edge">
<title>prose_148&#45;&gt;raw_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10933.5,-816.3962C10933.5,-743.9091 10933.5,-474.3014 10933.5,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="10937.0001,-385.9237 10933.5,-375.9237 10930.0001,-385.9238 10937.0001,-385.9237"/>
</g>
<!-- raw_155 -->
<g id="node156" class="node">
<title>raw_155</title>
<ellipse fill="none" stroke="#000000" cx="11010.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="11010.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_149&#45;&gt;raw_155 -->
<g id="edge155" class="edge">
<title>prose_149&#45;&gt;raw_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11015.3101,-816.3962C11014.5498,-743.9091 11011.7219,-474.3014 11010.7958,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="11014.2949,-385.8864 11010.6901,-375.9237 11007.2953,-385.9599 11014.2949,-385.8864"/>
</g>
<!-- raw_157 -->
<g id="node158" class="node">
<title>raw_157</title>
<ellipse fill="none" stroke="#000000" cx="11102.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="11102.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_150&#45;&gt;raw_157 -->
<g id="edge157" class="edge">
<title>prose_150&#45;&gt;raw_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11097.6899,-816.3962C11098.4502,-743.9091 11101.2781,-474.3014 11102.2042,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="11105.7047,-385.9599 11102.3099,-375.9237 11098.7051,-385.8864 11105.7047,-385.9599"/>
</g>
<!-- raw_159 -->
<g id="node160" class="node">
<title>raw_159</title>
<ellipse fill="none" stroke="#000000" cx="11179.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="11179.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_151&#45;&gt;raw_159 -->
<g id="edge159" class="edge">
<title>prose_151&#45;&gt;raw_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11179.5,-816.3962C11179.5,-743.9091 11179.5,-474.3014 11179.5,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="11183.0001,-385.9237 11179.5,-375.9237 11176.0001,-385.9238 11183.0001,-385.9237"/>
</g>
<!-- leaf_154 -->
<g id="node155" class="node">
<title>leaf_154</title>
<polygon fill="none" stroke="#c0c0c0" points="10605.5,-71.0015 10113.5,-71.0015 10113.5,-15.1986 10605.5,-15.1986 10605.5,-71.0015"/>
<text text-anchor="middle" x="10359.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">It may be wise to always track lines, in which case we will include:</text>
</g>
<!-- raw_153&#45;&gt;leaf_154 -->
<g id="edge154" class="edge">
<title>raw_153&#45;&gt;leaf_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10937.0388,-339.8727C10944.6057,-295.7202 10957.0793,-181.0593 10896.5,-122.2001 10851.1897,-78.1763 10676.992,-95.4663 10614.5,-86.2001 10586.3918,-82.0323 10556.5964,-77.291 10527.666,-72.5146"/>
<polygon fill="#000000" stroke="#000000" points="10527.9111,-69.0075 10517.4732,-70.8245 10526.766,-75.9132 10527.9111,-69.0075"/>
</g>
<!-- leaf_156 -->
<g id="node157" class="node">
<title>leaf_156</title>
<polygon fill="none" stroke="#c0c0c0" points="11003.5,-70.4005 10623.5,-70.4005 10623.5,-15.7996 11003.5,-15.7996 11003.5,-70.4005"/>
<text text-anchor="middle" x="10813.5" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; line_first : &#160;The line at which the match begins</text>
<text text-anchor="middle" x="10813.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; line_last &#160;: &#160;The line at which the match ends</text>
</g>
<!-- raw_155&#45;&gt;leaf_156 -->
<g id="edge156" class="edge">
<title>raw_155&#45;&gt;leaf_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11012.4544,-339.774C11016.0689,-297.3335 11019.3761,-189.6227 10969.5,-122.2001 10954.5801,-102.0313 10933.0427,-86.6421 10910.713,-75.0481"/>
<polygon fill="#000000" stroke="#000000" points="10911.9689,-71.7646 10901.4535,-70.4695 10908.8661,-78.0394 10911.9689,-71.7646"/>
</g>
<!-- leaf_158 -->
<g id="node159" class="node">
<title>leaf_158</title>
<polygon fill="none" stroke="#c0c0c0" points="11577,-70.4005 11022,-70.4005 11022,-15.7996 11577,-15.7996 11577,-70.4005"/>
<text text-anchor="middle" x="11299.5" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">This is, at least, a frequent enough pattern that the metatable should return</text>
<text text-anchor="middle" x="11299.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">a negative number if these aren&#39;t assigned. </text>
</g>
<!-- raw_157&#45;&gt;leaf_158 -->
<g id="edge158" class="edge">
<title>raw_157&#45;&gt;leaf_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11100.5456,-339.774C11096.9311,-297.3335 11093.6239,-189.6227 11143.5,-122.2001 11158.4199,-102.0313 11179.9573,-86.6421 11202.287,-75.0481"/>
<polygon fill="#000000" stroke="#000000" points="11204.1339,-78.0394 11211.5465,-70.4695 11201.0311,-71.7646 11204.1339,-78.0394"/>
</g>
<!-- leaf_160 -->
<g id="node161" class="node">
<title>leaf_160</title>
<polygon fill="none" stroke="#c0c0c0" points="11996,-71.0015 11595,-71.0015 11595,-15.1986 11996,-15.1986 11996,-71.0015"/>
<text text-anchor="middle" x="11795.5" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; [ ] #todo decide if line tracking is in fact optional</text>
</g>
<!-- raw_159&#45;&gt;leaf_160 -->
<g id="edge160" class="edge">
<title>raw_159&#45;&gt;leaf_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11175.7656,-339.7706C11167.7385,-295.3852 11154.2048,-180.2346 11215.5,-122.2001 11275.4882,-65.403 11503.8136,-98.5215 11585.5,-86.2001 11610.1918,-82.4756 11636.3655,-77.7429 11661.5483,-72.7863"/>
<polygon fill="#000000" stroke="#000000" points="11662.394,-76.1867 11671.5187,-70.8024 11661.0279,-69.3213 11662.394,-76.1867"/>
</g>
<!-- leaf_171 -->
<g id="node172" class="node">
<title>leaf_171</title>
<polygon fill="none" stroke="#c0c0c0" points="12901.5,-852.5013 12773.5,-852.5013 12773.5,-816.5013 12901.5,-816.5013 12901.5,-852.5013"/>
<text text-anchor="middle" x="12837.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Other fields</text>
</g>
<!-- header_161&#45;&gt;leaf_171 -->
<g id="edge171" class="edge">
<title>header_161&#45;&gt;leaf_171</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12837.5,-1093.1401C12837.5,-1046.0222 12837.5,-919.5904 12837.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="12841.0001,-862.7298 12837.5,-852.7298 12834.0001,-862.7299 12841.0001,-862.7298"/>
</g>
<!-- raw_172 -->
<g id="node173" class="node">
<title>raw_172</title>
<ellipse fill="none" stroke="#000000" cx="12950.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="12950.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_162&#45;&gt;raw_172 -->
<g id="edge172" class="edge">
<title>prose_162&#45;&gt;raw_172</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12955.1719,-1093.1401C12954.3208,-1046.0222 12952.037,-919.5904 12951.0112,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="12954.5094,-862.665 12950.8293,-852.7298 12947.5105,-862.7915 12954.5094,-862.665"/>
</g>
<!-- raw_174 -->
<g id="node175" class="node">
<title>raw_174</title>
<ellipse fill="none" stroke="#000000" cx="13029.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="13029.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_163&#45;&gt;raw_174 -->
<g id="edge174" class="edge">
<title>prose_163&#45;&gt;raw_174</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13036.9751,-1093.1401C13035.6133,-1046.0222 13031.9592,-919.5904 13030.3179,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="13033.8144,-862.6245 13030.0268,-852.7298 13026.8173,-862.8268 13033.8144,-862.6245"/>
</g>
<!-- raw_176 -->
<g id="node177" class="node">
<title>raw_176</title>
<ellipse fill="none" stroke="#000000" cx="13110.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="13110.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_164&#45;&gt;raw_176 -->
<g id="edge176" class="edge">
<title>prose_164&#45;&gt;raw_176</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13118.9095,-1093.1401C13117.3775,-1046.0222 13113.2666,-919.5904 13111.4202,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="13114.9159,-862.6108 13111.0927,-852.7298 13107.9196,-862.8383 13114.9159,-862.6108"/>
</g>
<!-- raw_178 -->
<g id="node179" class="node">
<title>raw_178</title>
<ellipse fill="none" stroke="#000000" cx="13201.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="13201.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_165&#45;&gt;raw_178 -->
<g id="edge178" class="edge">
<title>prose_165&#45;&gt;raw_178</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13201.5,-1093.1401C13201.5,-1046.0222 13201.5,-919.5904 13201.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="13205.0001,-862.7298 13201.5,-852.7298 13198.0001,-862.7299 13205.0001,-862.7298"/>
</g>
<!-- raw_180 -->
<g id="node181" class="node">
<title>raw_180</title>
<ellipse fill="none" stroke="#000000" cx="13326.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="13326.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_166&#45;&gt;raw_180 -->
<g id="edge180" class="edge">
<title>prose_166&#45;&gt;raw_180</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13286.3214,-1093.1401C13293.6409,-1046.0222 13313.2817,-919.5904 13322.1036,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="13325.5916,-863.1486 13323.6683,-852.7298 13318.6746,-862.074 13325.5916,-863.1486"/>
</g>
<!-- raw_182 -->
<g id="node183" class="node">
<title>raw_182</title>
<ellipse fill="none" stroke="#000000" cx="13404.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="13404.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_167&#45;&gt;raw_182 -->
<g id="edge182" class="edge">
<title>prose_167&#45;&gt;raw_182</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13368.0589,-1093.1401C13374.6976,-1046.0222 13392.5113,-919.5904 13400.5126,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="13404.0022,-863.1204 13401.9317,-852.7298 13397.0706,-862.1437 13404.0022,-863.1204"/>
</g>
<!-- raw_184 -->
<g id="node185" class="node">
<title>raw_184</title>
<ellipse fill="none" stroke="#000000" cx="13498.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="13498.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_168&#45;&gt;raw_184 -->
<g id="edge184" class="edge">
<title>prose_168&#45;&gt;raw_184</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13450.8463,-1093.1401C13459.5485,-1045.9092 13482.9343,-918.9836 13493.3607,-862.3947"/>
<polygon fill="#000000" stroke="#000000" points="13496.8377,-862.8387 13495.2077,-852.37 13489.9536,-861.5702 13496.8377,-862.8387"/>
</g>
<!-- raw_186 -->
<g id="node187" class="node">
<title>raw_186</title>
<ellipse fill="none" stroke="#000000" cx="13581.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="13581.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_169&#45;&gt;raw_186 -->
<g id="edge186" class="edge">
<title>prose_169&#45;&gt;raw_186</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13532.9119,-1093.1401C13541.7847,-1045.9092 13565.6291,-918.9836 13576.2599,-862.3947"/>
<polygon fill="#000000" stroke="#000000" points="13579.7366,-862.8443 13578.1432,-852.37 13572.857,-861.5518 13579.7366,-862.8443"/>
</g>
<!-- leaf_188 -->
<g id="node189" class="node">
<title>leaf_188</title>
<polygon fill="none" stroke="#c0c0c0" points="13703.5,-852.5013 13631.5,-852.5013 13631.5,-816.5013 13703.5,-816.5013 13703.5,-852.5013"/>
<text text-anchor="middle" x="13667.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">return N</text>
</g>
<!-- codeblock_170&#45;&gt;leaf_188 -->
<g id="edge188" class="edge">
<title>codeblock_170&#45;&gt;leaf_188</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13667.5,-1093.1401C13667.5,-1046.0222 13667.5,-919.5904 13667.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="13671.0001,-862.7298 13667.5,-852.7298 13664.0001,-862.7299 13671.0001,-862.7298"/>
</g>
<!-- leaf_173 -->
<g id="node174" class="node">
<title>leaf_173</title>
<polygon fill="none" stroke="#c0c0c0" points="11780,-401.0009 11225,-401.0009 11225,-314.6002 11780,-314.6002 11780,-401.0009"/>
<text text-anchor="middle" x="11502.5" y="-353.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The way the Grammar class will work: each =V&quot;patt&quot;= can have a metatable.</text>
<text text-anchor="middle" x="11502.5" y="-338.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">These are passed in as the second parameter during construction, with the key</text>
<text text-anchor="middle" x="11502.5" y="-322.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">the same name as the rule. </text>
</g>
<!-- raw_172&#45;&gt;leaf_173 -->
<g id="edge173" class="edge">
<title>raw_172&#45;&gt;leaf_173</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12953.4854,-816.409C12959.0538,-775.6528 12965.8916,-676.546 12910.5,-629.401 12815.5999,-548.6293 11906.143,-637.27 11789.5,-593.401 11688.1561,-555.2859 11596.2533,-465.7695 11545.0271,-408.7064"/>
<polygon fill="#000000" stroke="#000000" points="11547.6358,-406.3729 11538.3761,-401.2242 11542.404,-411.0235 11547.6358,-406.3729"/>
</g>
<!-- leaf_175 -->
<g id="node176" class="node">
<title>leaf_175</title>
<polygon fill="none" stroke="#c0c0c0" points="12360.5,-385.101 11798.5,-385.101 11798.5,-330.5001 12360.5,-330.5001 12360.5,-385.101"/>
<text text-anchor="middle" x="12079.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">If a pattern doesn&#39;t have a metatable, it&#39;s given a Node class and consists of</text>
<text text-anchor="middle" x="12079.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">only the above fields, plus an array representing any subrules. </text>
</g>
<!-- raw_174&#45;&gt;leaf_175 -->
<g id="edge175" class="edge">
<title>raw_174&#45;&gt;leaf_175</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13032.1052,-816.4753C13036.8376,-775.8567 13041.7617,-677.0162 12986.5,-629.401 12934.4758,-584.5752 12433.5181,-618.2514 12369.5,-593.401 12258.2599,-550.2201 12157.1485,-447.4463 12109.0471,-393.0186"/>
<polygon fill="#000000" stroke="#000000" points="12111.5586,-390.5737 12102.34,-385.3519 12106.2902,-395.1828 12111.5586,-390.5737"/>
</g>
<!-- leaf_177 -->
<g id="node178" class="node">
<title>leaf_177</title>
<polygon fill="none" stroke="#c0c0c0" points="12898.5,-385.101 12378.5,-385.101 12378.5,-330.5001 12898.5,-330.5001 12898.5,-385.101"/>
<text text-anchor="middle" x="12638.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">If it does, the metatable will have a =__call= method, which expects two</text>
<text text-anchor="middle" x="12638.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">parameters, itself, and the node, which will include the span. </text>
</g>
<!-- raw_176&#45;&gt;leaf_177 -->
<g id="edge177" class="edge">
<title>raw_176&#45;&gt;leaf_177</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13112.3763,-816.4849C13115.4369,-776.7499 13116.7186,-681.0331 13065.5,-629.401 13014.778,-578.2694 12971.6581,-626.1255 12907.5,-593.401 12807.0295,-542.1549 12713.6851,-444.9901 12667.9517,-392.889"/>
<polygon fill="#000000" stroke="#000000" points="12670.4952,-390.4801 12661.2905,-385.2338 12665.2145,-395.0752 12670.4952,-390.4801"/>
</g>
<!-- leaf_179 -->
<g id="node180" class="node">
<title>leaf_179</title>
<polygon fill="none" stroke="#c0c0c0" points="13486,-393.0009 12917,-393.0009 12917,-322.6002 13486,-322.6002 13486,-393.0009"/>
<text text-anchor="middle" x="13201.5" y="-361.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">This will require reattunement of basically every class in the =/grym= folder,</text>
<text text-anchor="middle" x="13201.5" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">but let&#39;s build the Prose parse first. &#160;I do want the whole shebang in a single</text>
<text text-anchor="middle" x="13201.5" y="-330.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">grammar eventually.</text>
</g>
<!-- raw_178&#45;&gt;leaf_179 -->
<g id="edge179" class="edge">
<title>raw_178&#45;&gt;leaf_179</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13201.5,-816.3962C13201.5,-748.1479 13201.5,-505.1591 13201.5,-403.2744"/>
<polygon fill="#000000" stroke="#000000" points="13205.0001,-403.0016 13201.5,-393.0017 13198.0001,-403.0017 13205.0001,-403.0016"/>
</g>
<!-- leaf_181 -->
<g id="node182" class="node">
<title>leaf_181</title>
<polygon fill="none" stroke="#c0c0c0" points="14052.5,-400.4016 13504.5,-400.4016 13504.5,-315.1995 14052.5,-315.1995 14052.5,-400.4016"/>
<text text-anchor="middle" x="13778.5" y="-369.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">The intention is to allow multiple grammars to coexist peacefully. Currently</text>
<text text-anchor="middle" x="13778.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">the parser is handrolled and we have special case values for everything.</text>
<text text-anchor="middle" x="13778.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">The idea is to stabilize this, so that multi&#45;pass parsing works but in a</text>
<text text-anchor="middle" x="13778.5" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">standard way where the Node constructor is a consistent interface. </text>
</g>
<!-- raw_180&#45;&gt;leaf_181 -->
<g id="edge181" class="edge">
<title>raw_180&#45;&gt;leaf_181</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13324.5084,-816.4165C13321.2309,-776.9633 13319.3434,-682.4597 13368.5,-629.401 13408.0815,-586.6774 13442.9869,-620.5744 13494.5,-593.401 13587.5819,-544.2997 13678.1465,-461.2011 13731.0961,-407.9554"/>
<polygon fill="#000000" stroke="#000000" points="13733.7774,-410.2213 13738.3142,-400.6469 13728.797,-405.3024 13733.7774,-410.2213"/>
</g>
<!-- leaf_183 -->
<g id="node184" class="node">
<title>leaf_183</title>
<polygon fill="none" stroke="#c0c0c0" points="14332,-377.7026 14071,-377.7026 14071,-337.8984 14332,-337.8984 14332,-377.7026"/>
<text text-anchor="middle" x="14201.5" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">In the meantime we have things like</text>
</g>
<!-- raw_182&#45;&gt;leaf_183 -->
<g id="edge183" class="edge">
<title>raw_182&#45;&gt;leaf_183</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13403.346,-816.3201C13401.8599,-775.3794 13404.6983,-675.9155 13462.5,-629.401 13566.3899,-545.7981 13947.6291,-662.7982 14061.5,-593.401 14138.6314,-546.3941 14178.3562,-439.5404 14193.7367,-387.4527"/>
<polygon fill="#000000" stroke="#000000" points="14197.1129,-388.376 14196.4921,-377.7993 14190.3817,-386.4546 14197.1129,-388.376"/>
</g>
<!-- leaf_185 -->
<g id="node186" class="node">
<title>leaf_185</title>
<polygon fill="none" stroke="#c0c0c0" points="14877,-385.101 14350,-385.101 14350,-330.5001 14877,-330.5001 14877,-385.101"/>
<text text-anchor="middle" x="14613.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines : &#160;If this exists, there&#39;s a collection of lines which need to be</text>
<text text-anchor="middle" x="14613.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;joined with =\n= to reconstruct the actual span.</text>
</g>
<!-- raw_184&#45;&gt;leaf_185 -->
<g id="edge185" class="edge">
<title>raw_184&#45;&gt;leaf_185</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13496.2397,-816.3782C13492.2859,-775.558 13489.263,-676.3273 13545.5,-629.401 13613.3921,-572.7491 14258.3388,-626.0862 14340.5,-593.401 14447.2883,-550.9186 14541.3053,-448.2125 14585.9543,-393.5003"/>
<polygon fill="#000000" stroke="#000000" points="14588.8793,-395.4488 14592.4352,-385.4685 14583.4316,-391.053 14588.8793,-395.4488"/>
</g>
<!-- leaf_187 -->
<g id="node188" class="node">
<title>leaf_187</title>
<polygon fill="none" stroke="#c0c0c0" points="15443.5,-385.101 14895.5,-385.101 14895.5,-330.5001 15443.5,-330.5001 15443.5,-385.101"/>
<text text-anchor="middle" x="15169.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;We want to do this the other way, and use the span itself for the</text>
<text text-anchor="middle" x="15169.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;inner parse. </text>
</g>
<!-- raw_186&#45;&gt;leaf_187 -->
<g id="edge187" class="edge">
<title>raw_186&#45;&gt;leaf_187</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13578.6004,-816.3827C13573.2259,-775.5718 13566.8617,-676.3592 13622.5,-629.401 13676.1432,-584.1266 14819.8171,-618.1622 14885.5,-593.401 14996.0564,-551.7232 15094.7177,-447.8165 15141.2424,-392.9753"/>
<polygon fill="#000000" stroke="#000000" points="15143.9756,-395.163 15147.7236,-385.2532 15138.6139,-390.6628 15143.9756,-395.163"/>
</g>
</g>
</svg>