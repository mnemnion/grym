<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="13437pt" height="1443pt"
 viewBox="0.00 0.00 13436.50 1443.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1439.0017)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1439.0017 13432.5,-1439.0017 13432.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="539.5" cy="-1417.0017" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="539.5" y="-1412.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 281</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="539.5" cy="-1345.0017" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="539.5" y="-1340.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;186</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M539.5,-1398.8331C539.5,-1391.1327 539.5,-1381.9761 539.5,-1373.4183"/>
<polygon fill="#000000" stroke="#000000" points="543.0001,-1373.4149 539.5,-1363.415 536.0001,-1373.415 543.0001,-1373.4149"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="279.5" cy="-1273.0017" rx="43.5751" ry="18"/>
<text text-anchor="middle" x="279.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Node</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M493.0172,-1332.1296C445.6985,-1319.0259 372.7789,-1298.8328 325.5991,-1285.7676"/>
<polygon fill="#000000" stroke="#000000" points="326.5121,-1282.3888 315.9406,-1283.093 324.6438,-1289.1349 326.5121,-1282.3888"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="410.5" cy="-1273.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="410.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M510.5499,-1328.8435C490.2314,-1317.503 463.0683,-1302.3422 442.1726,-1290.6794"/>
<polygon fill="#000000" stroke="#000000" points="443.788,-1287.5728 433.3502,-1285.7553 440.3764,-1293.6852 443.788,-1287.5728"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="539.5" cy="-1273.0017" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="539.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;12</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M539.5,-1326.8331C539.5,-1319.1327 539.5,-1309.9761 539.5,-1301.4183"/>
<polygon fill="#000000" stroke="#000000" points="543.0001,-1301.4149 539.5,-1291.415 536.0001,-1301.415 543.0001,-1301.4149"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1056.5" cy="-1273.0017" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1056.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 13&#45;35</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M598.0521,-1336.8475C694.2517,-1323.4502 885.2766,-1296.8471 987.7495,-1282.5763"/>
<polygon fill="#000000" stroke="#000000" points="988.2635,-1286.0385 997.6851,-1281.1926 987.2979,-1279.1055 988.2635,-1286.0385"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="6193.5" cy="-1273.0017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6193.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 187&#45;246</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M605.4456,-1344.1619C1187.8423,-1336.7455 5446.8248,-1282.5101 6107.4894,-1274.097"/>
<polygon fill="#000000" stroke="#000000" points="6107.9219,-1277.5919 6117.8765,-1273.9647 6107.8327,-1270.5924 6107.9219,-1277.5919"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="289.5,-1219.0017 231.5,-1219.0017 231.5,-1183.0017 289.5,-1183.0017 289.5,-1219.0017"/>
<text text-anchor="middle" x="260.5" y="-1197.5017" font-family="Inconsolata" font-size="14.00" fill="#000000">* Node</text>
</g>
<!-- header_2&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>header_2&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M274.7055,-1254.8331C272.6511,-1247.0481 270.204,-1237.7746 267.9244,-1229.1364"/>
<polygon fill="#000000" stroke="#000000" points="271.2948,-1228.1909 265.3591,-1219.415 264.5265,-1229.9771 271.2948,-1228.1909"/>
</g>
<!-- raw_8 -->
<g id="node9" class="node">
<title>raw_8</title>
<ellipse fill="none" stroke="#000000" cx="334.5" cy="-1201.0017" rx="27" ry="18"/>
<text text-anchor="middle" x="334.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_8 -->
<g id="edge8" class="edge">
<title>prose_3&#45;&gt;raw_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M394.0091,-1257.3788C383.3371,-1247.2685 369.2903,-1233.9609 357.524,-1222.8139"/>
<polygon fill="#000000" stroke="#000000" points="359.8462,-1220.1927 350.1796,-1215.856 355.032,-1225.2744 359.8462,-1220.1927"/>
</g>
<!-- header_10 -->
<g id="node11" class="node">
<title>header_10</title>
<ellipse fill="none" stroke="#000000" cx="434.5" cy="-1201.0017" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="434.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : includes</text>
</g>
<!-- section_4&#45;&gt;header_10 -->
<g id="edge10" class="edge">
<title>section_4&#45;&gt;header_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M515.147,-1256.3025C500.7322,-1246.4181 482.2981,-1233.7776 466.6936,-1223.0773"/>
<polygon fill="#000000" stroke="#000000" points="468.5856,-1220.1309 458.3589,-1217.3621 464.6269,-1225.904 468.5856,-1220.1309"/>
</g>
<!-- prose_11 -->
<g id="node12" class="node">
<title>prose_11</title>
<ellipse fill="none" stroke="#000000" cx="539.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="539.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_11 -->
<g id="edge11" class="edge">
<title>section_4&#45;&gt;prose_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M539.5,-1254.8331C539.5,-1247.1327 539.5,-1237.9761 539.5,-1229.4183"/>
<polygon fill="#000000" stroke="#000000" points="543.0001,-1229.4149 539.5,-1219.415 536.0001,-1229.415 543.0001,-1229.4149"/>
</g>
<!-- codeblock_12 -->
<g id="node13" class="node">
<title>codeblock_12</title>
<ellipse fill="none" stroke="#000000" cx="667.5" cy="-1201.0017" rx="71.7805" ry="18"/>
<text text-anchor="middle" x="667.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 8&#45;11</text>
</g>
<!-- section_4&#45;&gt;codeblock_12 -->
<g id="edge12" class="edge">
<title>section_4&#45;&gt;codeblock_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M567.9073,-1257.0226C585.9187,-1246.8912 609.4447,-1233.6578 629.1084,-1222.597"/>
<polygon fill="#000000" stroke="#000000" points="630.8378,-1225.64 637.8377,-1217.6868 627.406,-1219.5389 630.8378,-1225.64"/>
</g>
<!-- header_17 -->
<g id="node18" class="node">
<title>header_17</title>
<ellipse fill="none" stroke="#000000" cx="857.5" cy="-1201.0017" rx="84.6634" ry="18"/>
<text text-anchor="middle" x="857.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Node metatable</text>
</g>
<!-- section_5&#45;&gt;header_17 -->
<g id="edge17" class="edge">
<title>section_5&#45;&gt;header_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1016.7077,-1258.6045C986.1504,-1247.5486 943.6709,-1232.1791 910.2761,-1220.0966"/>
<polygon fill="#000000" stroke="#000000" points="911.2666,-1216.733 900.6724,-1216.6219 908.885,-1223.3154 911.2666,-1216.733"/>
</g>
<!-- prose_18 -->
<g id="node19" class="node">
<title>prose_18</title>
<ellipse fill="none" stroke="#000000" cx="992.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="992.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_18 -->
<g id="edge18" class="edge">
<title>section_5&#45;&gt;prose_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1040.6798,-1255.204C1032.6184,-1246.1349 1022.6979,-1234.9743 1013.9584,-1225.1424"/>
<polygon fill="#000000" stroke="#000000" points="1016.5204,-1222.7564 1007.2607,-1217.6075 1011.2885,-1227.407 1016.5204,-1222.7564"/>
</g>
<!-- codeblock_19 -->
<g id="node20" class="node">
<title>codeblock_19</title>
<ellipse fill="none" stroke="#000000" cx="1120.5" cy="-1201.0017" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1120.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 19&#45;24</text>
</g>
<!-- section_5&#45;&gt;codeblock_19 -->
<g id="edge19" class="edge">
<title>section_5&#45;&gt;codeblock_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1072.3202,-1255.204C1080.0126,-1246.55 1089.3978,-1235.9917 1097.8344,-1226.5006"/>
<polygon fill="#000000" stroke="#000000" points="1100.6122,-1228.6437 1104.64,-1218.8443 1095.3803,-1223.9931 1100.6122,-1228.6437"/>
</g>
<!-- section_20 -->
<g id="node21" class="node">
<title>section_20</title>
<ellipse fill="none" stroke="#000000" cx="1281.5" cy="-1201.0017" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1281.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 28&#45;35</text>
</g>
<!-- section_5&#45;&gt;section_20 -->
<g id="edge20" class="edge">
<title>section_5&#45;&gt;section_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1099.3504,-1259.2896C1136.1411,-1247.5166 1189.316,-1230.5006 1228.7228,-1217.8904"/>
<polygon fill="#000000" stroke="#000000" points="1229.969,-1221.1665 1238.4265,-1214.7852 1227.8356,-1214.4996 1229.969,-1221.1665"/>
</g>
<!-- section_21 -->
<g id="node22" class="node">
<title>section_21</title>
<ellipse fill="none" stroke="#000000" cx="2251.5" cy="-1201.0017" rx="70.655" ry="18"/>
<text text-anchor="middle" x="2251.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 36&#45;168</text>
</g>
<!-- section_5&#45;&gt;section_21 -->
<g id="edge21" class="edge">
<title>section_5&#45;&gt;section_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1120.7484,-1269.1307C1323.5659,-1256.9107 1949.8998,-1219.1734 2172.2184,-1205.7785"/>
<polygon fill="#000000" stroke="#000000" points="2172.725,-1209.2544 2182.4964,-1205.1593 2172.3039,-1202.2671 2172.725,-1209.2544"/>
</g>
<!-- header_72 -->
<g id="node73" class="node">
<title>header_72</title>
<ellipse fill="none" stroke="#000000" cx="5895.5" cy="-1201.0017" rx="83.6943" ry="18"/>
<text text-anchor="middle" x="5895.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Node Instances</text>
</g>
<!-- section_6&#45;&gt;header_72 -->
<g id="edge72" class="edge">
<title>section_6&#45;&gt;header_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6140.2236,-1260.1296C6090.1057,-1248.0205 6014.9307,-1229.8575 5961.1346,-1216.8597"/>
<polygon fill="#000000" stroke="#000000" points="5961.8917,-1213.442 5951.3493,-1214.4955 5960.2476,-1220.2462 5961.8917,-1213.442"/>
</g>
<!-- prose_73 -->
<g id="node74" class="node">
<title>prose_73</title>
<ellipse fill="none" stroke="#000000" cx="6029.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6029.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_73 -->
<g id="edge73" class="edge">
<title>section_6&#45;&gt;prose_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6157.1031,-1257.0226C6129.4153,-1244.867 6091.5566,-1228.2461 6064.2766,-1216.2695"/>
<polygon fill="#000000" stroke="#000000" points="6065.6659,-1213.057 6055.1025,-1212.2418 6062.8519,-1219.4665 6065.6659,-1213.057"/>
</g>
<!-- prose_74 -->
<g id="node75" class="node">
<title>prose_74</title>
<ellipse fill="none" stroke="#000000" cx="6111.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6111.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_74 -->
<g id="edge74" class="edge">
<title>section_6&#45;&gt;prose_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6173.6501,-1255.5725C6162.5588,-1245.8338 6148.6239,-1233.5983 6136.7613,-1223.1824"/>
<polygon fill="#000000" stroke="#000000" points="6138.764,-1220.2831 6128.9403,-1216.3151 6134.1454,-1225.5432 6138.764,-1220.2831"/>
</g>
<!-- prose_75 -->
<g id="node76" class="node">
<title>prose_75</title>
<ellipse fill="none" stroke="#000000" cx="6193.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6193.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_75 -->
<g id="edge75" class="edge">
<title>section_6&#45;&gt;prose_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6193.5,-1254.8331C6193.5,-1247.1327 6193.5,-1237.9761 6193.5,-1229.4183"/>
<polygon fill="#000000" stroke="#000000" points="6197.0001,-1229.4149 6193.5,-1219.415 6190.0001,-1229.415 6197.0001,-1229.4149"/>
</g>
<!-- prose_76 -->
<g id="node77" class="node">
<title>prose_76</title>
<ellipse fill="none" stroke="#000000" cx="6329.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6329.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_76 -->
<g id="edge76" class="edge">
<title>section_6&#45;&gt;prose_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6224.7011,-1256.4835C6246.3847,-1245.0039 6275.2121,-1229.7424 6297.1436,-1218.1316"/>
<polygon fill="#000000" stroke="#000000" points="6298.8794,-1221.1729 6306.0797,-1213.4007 6295.6041,-1214.9864 6298.8794,-1221.1729"/>
</g>
<!-- prose_77 -->
<g id="node78" class="node">
<title>prose_77</title>
<ellipse fill="none" stroke="#000000" cx="6641.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6641.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_77 -->
<g id="edge77" class="edge">
<title>section_6&#45;&gt;prose_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6256.2642,-1262.9146C6349.372,-1247.9509 6521.5434,-1220.2805 6600.2715,-1207.6277"/>
<polygon fill="#000000" stroke="#000000" points="6600.9771,-1211.0593 6610.295,-1206.0168 6599.8663,-1204.148 6600.9771,-1211.0593"/>
</g>
<!-- section_78 -->
<g id="node79" class="node">
<title>section_78</title>
<ellipse fill="none" stroke="#000000" cx="7739.5" cy="-1201.0017" rx="74.6878" ry="18"/>
<text text-anchor="middle" x="7739.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 211&#45;233</text>
</g>
<!-- section_6&#45;&gt;section_78 -->
<g id="edge78" class="edge">
<title>section_6&#45;&gt;section_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6267.8062,-1269.5411C6525.9257,-1257.5201 7382.7717,-1217.6152 7655.4167,-1204.9176"/>
<polygon fill="#000000" stroke="#000000" points="7655.8155,-1208.4029 7665.6418,-1204.4414 7655.4898,-1201.4105 7655.8155,-1208.4029"/>
</g>
<!-- section_79 -->
<g id="node80" class="node">
<title>section_79</title>
<ellipse fill="none" stroke="#000000" cx="11186.5" cy="-1201.0017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11186.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 247&#45;281</text>
</g>
<!-- section_6&#45;&gt;section_79 -->
<g id="edge79" class="edge">
<title>section_6&#45;&gt;section_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6268.9402,-1271.9139C6841.2542,-1263.661 10492.8717,-1211.004 11100.7706,-1202.238"/>
<polygon fill="#000000" stroke="#000000" points="11100.8282,-1205.7376 11110.7767,-1202.0937 11100.7272,-1198.7383 11100.8282,-1205.7376"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="359,-1147.2029 0,-1147.2029 0,-1075.4005 359,-1075.4005 359,-1147.2029"/>
<text text-anchor="middle" x="179.5" y="-1083.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Time to stabilize this class once and for all. </text>
</g>
<!-- raw_8&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>raw_8&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M313.9172,-1189.0902C297.4875,-1179.5822 273.4517,-1165.6725 250.2324,-1152.2352"/>
<polygon fill="#000000" stroke="#000000" points="251.7992,-1149.0981 241.3909,-1147.1186 248.293,-1155.1567 251.7992,-1149.0981"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="477.5,-1129.3017 377.5,-1129.3017 377.5,-1093.3017 477.5,-1093.3017 477.5,-1129.3017"/>
<text text-anchor="middle" x="427.5" y="-1107.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">*** includes</text>
</g>
<!-- header_10&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>header_10&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M433.0834,-1182.8496C432.1157,-1170.4482 430.8137,-1153.765 429.7105,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="433.1819,-1139.1242 428.9144,-1129.4268 426.2032,-1139.6689 433.1819,-1139.1242"/>
</g>
<!-- raw_14 -->
<g id="node15" class="node">
<title>raw_14</title>
<ellipse fill="none" stroke="#000000" cx="522.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="522.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_11&#45;&gt;raw_14 -->
<g id="edge14" class="edge">
<title>prose_11&#45;&gt;raw_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M536.0598,-1182.8496C533.7095,-1170.4482 530.5477,-1153.765 527.8684,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="531.236,-1138.6002 525.9351,-1129.4268 524.3584,-1139.9037 531.236,-1138.6002"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="793.5,-1130.6023 567.5,-1130.6023 567.5,-1092.0011 793.5,-1092.0011 793.5,-1130.6023"/>
<text text-anchor="middle" x="680.5" y="-1115.5017" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;status&quot;</text>
<text text-anchor="middle" x="680.5" y="-1100.1017" font-family="Inconsolata" font-size="14.00" fill="#000000">local dot = require &quot;node/dot&quot;</text>
</g>
<!-- codeblock_12&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>codeblock_12&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M670.1307,-1182.8496C671.8808,-1170.7745 674.2191,-1154.6401 676.2322,-1140.7493"/>
<polygon fill="#000000" stroke="#000000" points="679.7226,-1141.0673 677.6932,-1130.6686 672.795,-1140.0632 679.7226,-1141.0673"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="549.5,-852.5013 495.5,-852.5013 495.5,-816.5013 549.5,-816.5013 549.5,-852.5013"/>
</g>
<!-- raw_14&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>raw_14&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M522.5,-1093.1401C522.5,-1046.0222 522.5,-919.5904 522.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="526.0001,-862.7298 522.5,-852.7298 519.0001,-862.7299 526.0001,-862.7298"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="947,-1129.3017 812,-1129.3017 812,-1093.3017 947,-1093.3017 947,-1129.3017"/>
<text text-anchor="middle" x="879.5" y="-1107.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">** Node metatable</text>
</g>
<!-- header_17&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>header_17&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M861.952,-1182.8496C865.0234,-1170.3266 869.1657,-1153.4374 872.6544,-1139.213"/>
<polygon fill="#000000" stroke="#000000" points="876.0718,-1139.9727 875.0546,-1129.4268 869.2732,-1138.3053 876.0718,-1139.9727"/>
</g>
<!-- raw_23 -->
<g id="node24" class="node">
<title>raw_23</title>
<ellipse fill="none" stroke="#000000" cx="992.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="992.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_18&#45;&gt;raw_23 -->
<g id="edge23" class="edge">
<title>prose_18&#45;&gt;raw_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M992.5,-1182.8496C992.5,-1170.4482 992.5,-1153.765 992.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="996.0001,-1139.4268 992.5,-1129.4268 989.0001,-1139.4269 996.0001,-1139.4268"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1170,-1146.5021 1049,-1146.5021 1049,-1076.1013 1170,-1076.1013 1170,-1146.5021"/>
<text text-anchor="middle" x="1109.5" y="-1115.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local N = {}</text>
<text text-anchor="middle" x="1109.5" y="-1099.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">N.__index = N</text>
<text text-anchor="middle" x="1109.5" y="-1084.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">N.isNode = true</text>
</g>
<!-- codeblock_19&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>codeblock_19&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1118.274,-1182.8496C1117.3335,-1175.1803 1116.1922,-1165.8734 1115.0481,-1156.544"/>
<polygon fill="#000000" stroke="#000000" points="1118.5062,-1155.9876 1113.8149,-1146.488 1111.5582,-1156.8397 1118.5062,-1155.9876"/>
</g>
<!-- header_26 -->
<g id="node27" class="node">
<title>header_26</title>
<ellipse fill="none" stroke="#000000" cx="1233.5" cy="-1111.3017" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="1233.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Fields</text>
</g>
<!-- section_20&#45;&gt;header_26 -->
<g id="edge26" class="edge">
<title>section_20&#45;&gt;header_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1271.7865,-1182.8496C1264.9102,-1169.9994 1255.5737,-1152.552 1247.8422,-1138.1037"/>
<polygon fill="#000000" stroke="#000000" points="1250.8394,-1136.2864 1243.0353,-1129.1207 1244.6675,-1139.5891 1250.8394,-1136.2864"/>
</g>
<!-- prose_27 -->
<g id="node28" class="node">
<title>prose_27</title>
<ellipse fill="none" stroke="#000000" cx="1329.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1329.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_27 -->
<g id="edge27" class="edge">
<title>section_20&#45;&gt;prose_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1291.2135,-1182.8496C1298.1348,-1169.9155 1307.5484,-1152.3238 1315.3092,-1137.8208"/>
<polygon fill="#000000" stroke="#000000" points="1318.4954,-1139.2847 1320.1276,-1128.8164 1312.3235,-1135.982 1318.4954,-1139.2847"/>
</g>
<!-- header_31 -->
<g id="node32" class="node">
<title>header_31</title>
<ellipse fill="none" stroke="#000000" cx="1487.5" cy="-1111.3017" rx="56.1302" ry="18"/>
<text text-anchor="middle" x="1487.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Methods</text>
</g>
<!-- section_21&#45;&gt;header_31 -->
<g id="edge31" class="edge">
<title>section_21&#45;&gt;header_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2185.7867,-1194.3248C2090.9223,-1184.5742 1910.1224,-1165.5725 1756.5,-1147.0017 1685.4294,-1138.4103 1603.9522,-1127.4398 1549.4636,-1119.9417"/>
<polygon fill="#000000" stroke="#000000" points="1549.659,-1116.4356 1539.2746,-1118.5368 1548.7028,-1123.37 1549.659,-1116.4356"/>
</g>
<!-- prose_32 -->
<g id="node33" class="node">
<title>prose_32</title>
<ellipse fill="none" stroke="#000000" cx="1797.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1797.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_21&#45;&gt;prose_32 -->
<g id="edge32" class="edge">
<title>section_21&#45;&gt;prose_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2190.6687,-1191.7062C2127.9871,-1181.8236 2027.563,-1165.1422 1941.5,-1147.0017 1905.6536,-1139.446 1865.1892,-1129.2662 1836.3033,-1121.7104"/>
<polygon fill="#000000" stroke="#000000" points="1837.1569,-1118.316 1826.5954,-1119.1559 1835.3755,-1125.0855 1837.1569,-1118.316"/>
</g>
<!-- codeblock_33 -->
<g id="node34" class="node">
<title>codeblock_33</title>
<ellipse fill="none" stroke="#000000" cx="2027.5" cy="-1111.3017" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2027.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 38&#45;53</text>
</g>
<!-- section_21&#45;&gt;codeblock_33 -->
<g id="edge33" class="edge">
<title>section_21&#45;&gt;codeblock_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2213.5015,-1185.7853C2175.5189,-1170.5754 2116.9838,-1147.1352 2075.7426,-1130.6203"/>
<polygon fill="#000000" stroke="#000000" points="2077.0223,-1127.3626 2066.4378,-1126.8942 2074.42,-1133.8609 2077.0223,-1127.3626"/>
</g>
<!-- codeblock_34 -->
<g id="node35" class="node">
<title>codeblock_34</title>
<ellipse fill="none" stroke="#000000" cx="2251.5" cy="-1111.3017" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2251.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 55&#45;83</text>
</g>
<!-- section_21&#45;&gt;codeblock_34 -->
<g id="edge34" class="edge">
<title>section_21&#45;&gt;codeblock_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2251.5,-1182.8496C2251.5,-1170.4482 2251.5,-1153.765 2251.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="2255.0001,-1139.4268 2251.5,-1129.4268 2248.0001,-1139.4269 2255.0001,-1139.4268"/>
</g>
<!-- section_35 -->
<g id="node36" class="node">
<title>section_35</title>
<ellipse fill="none" stroke="#000000" cx="2596.5" cy="-1111.3017" rx="70.655" ry="18"/>
<text text-anchor="middle" x="2596.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 85&#45;105</text>
</g>
<!-- section_21&#45;&gt;section_35 -->
<g id="edge35" class="edge">
<title>section_21&#45;&gt;section_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2300.9301,-1188.1499C2363.2236,-1171.9536 2470.1959,-1144.1408 2536.9337,-1126.7889"/>
<polygon fill="#000000" stroke="#000000" points="2538.0845,-1130.1062 2546.882,-1124.2024 2536.3231,-1123.3314 2538.0845,-1130.1062"/>
</g>
<!-- section_36 -->
<g id="node37" class="node">
<title>section_36</title>
<ellipse fill="none" stroke="#000000" cx="2988.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="2988.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 106&#45;128</text>
</g>
<!-- section_21&#45;&gt;section_36 -->
<g id="edge36" class="edge">
<title>section_21&#45;&gt;section_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2315.294,-1193.2374C2450.2679,-1176.8097 2764.3398,-1138.5842 2910.7627,-1120.7631"/>
<polygon fill="#000000" stroke="#000000" points="2911.5068,-1124.1984 2921.0107,-1119.5158 2910.661,-1117.2497 2911.5068,-1124.1984"/>
</g>
<!-- section_37 -->
<g id="node38" class="node">
<title>section_37</title>
<ellipse fill="none" stroke="#000000" cx="3653.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="3653.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 129&#45;168</text>
</g>
<!-- section_21&#45;&gt;section_37 -->
<g id="edge37" class="edge">
<title>section_21&#45;&gt;section_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2320.0704,-1196.6146C2553.3724,-1181.6879 3315.9736,-1132.8967 3570.1879,-1116.632"/>
<polygon fill="#000000" stroke="#000000" points="3570.7073,-1120.106 3580.4634,-1115.9746 3570.2603,-1113.1203 3570.7073,-1120.106"/>
</g>
<!-- section_38 -->
<g id="node39" class="node">
<title>section_38</title>
<ellipse fill="none" stroke="#000000" cx="4408.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4408.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 169&#45;186</text>
</g>
<!-- section_21&#45;&gt;section_38 -->
<g id="edge38" class="edge">
<title>section_21&#45;&gt;section_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2321.9042,-1198.8643C2535.1417,-1192.3 3192.6903,-1171.392 3737.5,-1147.0017 3949.1182,-1137.5279 4198.1229,-1123.5325 4325.0085,-1116.1963"/>
<polygon fill="#000000" stroke="#000000" points="4325.2644,-1119.6875 4335.0453,-1115.6152 4324.8597,-1112.6992 4325.2644,-1119.6875"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1172.5,-877.7017 638.5,-877.7017 638.5,-791.301 1172.5,-791.301 1172.5,-877.7017"/>
<text text-anchor="middle" x="905.5" y="-830.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The Node metatable is the root table for any Node. &#160;I&#39;m planning to make</text>
<text text-anchor="middle" x="905.5" y="-815.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">an intermediate class/table called Root that is in common for any instance</text>
<text text-anchor="middle" x="905.5" y="-799.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">Node. &#160;All Root absolutely has to contain is =str=. </text>
</g>
<!-- raw_23&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>raw_23&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M986.9254,-1093.5655C974.0919,-1052.7344 942.0412,-950.7614 922.1933,-887.6131"/>
<polygon fill="#000000" stroke="#000000" points="925.4549,-886.3172 919.1175,-877.8268 918.777,-888.4162 925.4549,-886.3172"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1276.5,-852.5013 1190.5,-852.5013 1190.5,-816.5013 1276.5,-816.5013 1276.5,-852.5013"/>
<text text-anchor="middle" x="1233.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Fields</text>
</g>
<!-- header_26&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>header_26&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1233.5,-1093.1401C1233.5,-1046.0222 1233.5,-919.5904 1233.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="1237.0001,-862.7298 1233.5,-852.7298 1230.0001,-862.7299 1237.0001,-862.7298"/>
</g>
<!-- raw_29 -->
<g id="node30" class="node">
<title>raw_29</title>
<ellipse fill="none" stroke="#000000" cx="1321.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="1321.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_27&#45;&gt;raw_29 -->
<g id="edge29" class="edge">
<title>prose_27&#45;&gt;raw_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1328.9751,-1093.1401C1327.6133,-1046.0222 1323.9592,-919.5904 1322.3179,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="1325.8144,-862.6245 1322.0268,-852.7298 1318.8173,-862.8268 1325.8144,-862.6245"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="1519,-416.3007 1006,-416.3007 1006,-299.3004 1519,-299.3004 1519,-416.3007"/>
<text text-anchor="middle" x="1262.5" y="-369.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; id : &#160;A string naming the Node. </text>
<text text-anchor="middle" x="1262.5" y="-353.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;This is identical to the name of the pattern that recognizes</text>
<text text-anchor="middle" x="1262.5" y="-338.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;or captures it.</text>
<text text-anchor="middle" x="1262.5" y="-322.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; line_first : &#160;Always &#45;1.</text>
<text text-anchor="middle" x="1262.5" y="-307.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; line_last &#160;: &#160;Always &#45;1. </text>
</g>
<!-- raw_29&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>raw_29&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1319.2592,-816.3962C1311.4007,-752.902 1284.823,-538.1634 1271.0043,-426.5129"/>
<polygon fill="#000000" stroke="#000000" points="1274.4503,-425.8597 1269.7484,-416.3653 1267.5033,-426.7195 1274.4503,-425.8597"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="1460,-852.5013 1367,-852.5013 1367,-816.5013 1460,-816.5013 1460,-852.5013"/>
<text text-anchor="middle" x="1413.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Methods</text>
</g>
<!-- header_31&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>header_31&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1482.6447,-1093.1401C1470.0219,-1045.9242 1436.1071,-919.0644 1420.9715,-862.4487"/>
<polygon fill="#000000" stroke="#000000" points="1424.3373,-861.4866 1418.3732,-852.7298 1417.5747,-863.2945 1424.3373,-861.4866"/>
</g>
<!-- raw_40 -->
<g id="node41" class="node">
<title>raw_40</title>
<ellipse fill="none" stroke="#000000" cx="1505.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="1505.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_32&#45;&gt;raw_40 -->
<g id="edge40" class="edge">
<title>prose_32&#45;&gt;raw_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1765.9658,-1106.7113C1704.4281,-1097.1017 1571.7015,-1072.9625 1541.5,-1039.6017 1496.9891,-990.4346 1497.7852,-906.4089 1501.811,-862.7339"/>
<polygon fill="#000000" stroke="#000000" points="1505.3173,-862.8555 1502.8784,-852.5452 1498.3554,-862.1261 1505.3173,-862.8555"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="2036,-946.1021 1551,-946.1021 1551,-722.9005 2036,-722.9005 2036,-946.1021"/>
<text text-anchor="middle" x="1793.5" y="-931.1015" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.toString(node, depth)</text>
<text text-anchor="middle" x="1793.5" y="-915.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local depth = depth or 0</text>
<text text-anchor="middle" x="1793.5" y="-900.3015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="1793.5" y="-884.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;phrase = (&quot; &#160;&quot;):rep(depth) .. &quot;id: &quot; .. node.id .. &quot;, &#160;&quot;</text>
<text text-anchor="middle" x="1793.5" y="-869.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;.. &quot;first: &quot; .. node.first .. &quot;, last: &quot; .. node.last .. &quot;\n&quot;</text>
<text text-anchor="middle" x="1793.5" y="-854.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if node[1] then</text>
<text text-anchor="middle" x="1793.5" y="-838.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(node) do</text>
<text text-anchor="middle" x="1793.5" y="-823.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if(v.isNode) then</text>
<text text-anchor="middle" x="1793.5" y="-807.9013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. N.toString(v, depth + 1)</text>
<text text-anchor="middle" x="1793.5" y="-792.5013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1793.5" y="-777.1012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1793.5" y="-761.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end </text>
<text text-anchor="middle" x="1793.5" y="-746.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase</text>
<text text-anchor="middle" x="1793.5" y="-730.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_33&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>codeblock_33&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2012.5063,-1093.5655C1988.6147,-1065.304 1939.9604,-1007.7505 1894.5667,-954.0539"/>
<polygon fill="#000000" stroke="#000000" points="1897.0251,-951.5406 1887.8963,-946.1634 1891.6794,-956.0598 1897.0251,-951.5406"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="2448.5,-1039.7021 2054.5,-1039.7021 2054.5,-629.3006 2448.5,-629.3006 2448.5,-1039.7021"/>
<text text-anchor="middle" x="2251.5" y="-1024.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.dotLabel(node)</text>
<text text-anchor="middle" x="2251.5" y="-1009.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return node.id</text>
<text text-anchor="middle" x="2251.5" y="-993.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2251.5" y="-962.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.toMarkdown(node)</text>
<text text-anchor="middle" x="2251.5" y="-946.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if not node[1] then</text>
<text text-anchor="middle" x="2251.5" y="-931.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return string.sub(node.str, node.first, node.last)</text>
<text text-anchor="middle" x="2251.5" y="-916.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="2251.5" y="-900.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;s:halt(&quot;no toMarkdown for &quot; .. node.id)</text>
<text text-anchor="middle" x="2251.5" y="-885.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="2251.5" y="-869.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2251.5" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.dot(node)</text>
<text text-anchor="middle" x="2251.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return dot.dot(node)</text>
<text text-anchor="middle" x="2251.5" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2251.5" y="-776.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.toValue(node)</text>
<text text-anchor="middle" x="2251.5" y="-760.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if node.__VALUE then</text>
<text text-anchor="middle" x="2251.5" y="-745.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return node.__VALUE</text>
<text text-anchor="middle" x="2251.5" y="-730.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="2251.5" y="-714.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if node.str then</text>
<text text-anchor="middle" x="2251.5" y="-699.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return node.str:sub(node.first,node.last)</text>
<text text-anchor="middle" x="2251.5" y="-683.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="2251.5" y="-668.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;s:halt(&quot;no str on node &quot; .. node.id)</text>
<text text-anchor="middle" x="2251.5" y="-653.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="2251.5" y="-637.601" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_34&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>codeblock_34&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2251.5,-1093.1401C2251.5,-1082.382 2251.5,-1067.4894 2251.5,-1050.2349"/>
<polygon fill="#000000" stroke="#000000" points="2255.0001,-1049.8163 2251.5,-1039.8163 2248.0001,-1049.8163 2255.0001,-1049.8163"/>
</g>
<!-- header_44 -->
<g id="node45" class="node">
<title>header_44</title>
<ellipse fill="none" stroke="#000000" cx="2536.5" cy="-834.5013" rx="70.1446" ry="18"/>
<text text-anchor="middle" x="2536.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : N.walkDeep</text>
</g>
<!-- section_35&#45;&gt;header_44 -->
<g id="edge44" class="edge">
<title>section_35&#45;&gt;header_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2592.5632,-1093.1401C2582.3498,-1046.0222 2554.9441,-919.5904 2542.6345,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="2545.9903,-861.7614 2540.4513,-852.7298 2539.1492,-863.2444 2545.9903,-861.7614"/>
</g>
<!-- prose_45 -->
<g id="node46" class="node">
<title>prose_45</title>
<ellipse fill="none" stroke="#000000" cx="2656.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2656.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_35&#45;&gt;prose_45 -->
<g id="edge45" class="edge">
<title>section_35&#45;&gt;prose_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2601.6537,-1093.1079C2605.6654,-1078.6611 2611.2472,-1057.9156 2615.5,-1039.6017 2630.1339,-976.5828 2644.2573,-901.9392 2651.4927,-862.375"/>
<polygon fill="#000000" stroke="#000000" points="2654.9585,-862.8783 2653.3042,-852.4134 2648.0715,-861.6258 2654.9585,-862.8783"/>
</g>
<!-- codeblock_46 -->
<g id="node47" class="node">
<title>codeblock_46</title>
<ellipse fill="none" stroke="#000000" cx="2789.5" cy="-834.5013" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="2789.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 89&#45;104</text>
</g>
<!-- section_35&#45;&gt;codeblock_46 -->
<g id="edge46" class="edge">
<title>section_35&#45;&gt;codeblock_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2627.6836,-1095.0798C2649.5721,-1082.4045 2678.2571,-1063.0333 2697.5,-1039.6017 2742.4807,-984.8298 2769.9421,-904.5497 2782.1038,-862.5179"/>
<polygon fill="#000000" stroke="#000000" points="2785.5283,-863.2689 2784.8674,-852.6947 2778.7899,-861.373 2785.5283,-863.2689"/>
</g>
<!-- header_51 -->
<g id="node52" class="node">
<title>header_51</title>
<ellipse fill="none" stroke="#000000" cx="2938.5" cy="-834.5013" rx="48.8618" ry="18"/>
<text text-anchor="middle" x="2938.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : N.walk</text>
</g>
<!-- section_36&#45;&gt;header_51 -->
<g id="edge51" class="edge">
<title>section_36&#45;&gt;header_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2985.2194,-1093.1401C2976.7082,-1046.0222 2953.8701,-919.5904 2943.6121,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="2947.0146,-861.9484 2941.7927,-852.7298 2940.1261,-863.1928 2947.0146,-861.9484"/>
</g>
<!-- prose_52 -->
<g id="node53" class="node">
<title>prose_52</title>
<ellipse fill="none" stroke="#000000" cx="3037.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3037.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_36&#45;&gt;prose_52 -->
<g id="edge52" class="edge">
<title>section_36&#45;&gt;prose_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2991.715,-1093.1401C3000.056,-1046.0222 3022.4373,-919.5904 3032.4901,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="3035.9763,-863.1869 3034.2731,-852.7298 3029.0835,-861.9666 3035.9763,-863.1869"/>
</g>
<!-- codeblock_53 -->
<g id="node54" class="node">
<title>codeblock_53</title>
<ellipse fill="none" stroke="#000000" cx="3223.5" cy="-834.5013" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="3223.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 110&#45;126</text>
</g>
<!-- section_36&#45;&gt;codeblock_53 -->
<g id="edge53" class="edge">
<title>section_36&#45;&gt;codeblock_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3013.7654,-1094.1489C3032.7419,-1080.5896 3058.7497,-1060.5177 3078.5,-1039.6017 3133.0787,-981.8015 3183.4548,-902.3152 3207.9369,-861.339"/>
<polygon fill="#000000" stroke="#000000" points="3211.0916,-862.8806 3213.1764,-852.4929 3205.0688,-859.3133 3211.0916,-862.8806"/>
</g>
<!-- header_58 -->
<g id="node59" class="node">
<title>header_58</title>
<ellipse fill="none" stroke="#000000" cx="3577.5" cy="-834.5013" rx="102.5369" ry="18"/>
<text text-anchor="middle" x="3577.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : N.select(node, pred)</text>
</g>
<!-- section_37&#45;&gt;header_58 -->
<g id="edge58" class="edge">
<title>section_37&#45;&gt;header_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3648.5134,-1093.1401C3635.5496,-1045.9242 3600.7182,-919.0644 3585.1734,-862.4487"/>
<polygon fill="#000000" stroke="#000000" points="3588.5278,-861.4463 3582.5049,-852.7298 3581.7776,-863.2997 3588.5278,-861.4463"/>
</g>
<!-- prose_59 -->
<g id="node60" class="node">
<title>prose_59</title>
<ellipse fill="none" stroke="#000000" cx="3730.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3730.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_37&#45;&gt;prose_59 -->
<g id="edge59" class="edge">
<title>section_37&#45;&gt;prose_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3664.2298,-1093.3234C3672.2535,-1079.1662 3682.9303,-1058.7002 3689.5,-1039.6017 3710.5985,-978.2671 3722.215,-902.6714 3727.3098,-862.5766"/>
<polygon fill="#000000" stroke="#000000" points="3730.8044,-862.834 3728.549,-852.482 3723.8566,-861.981 3730.8044,-862.834"/>
</g>
<!-- codeblock_60 -->
<g id="node61" class="node">
<title>codeblock_60</title>
<ellipse fill="none" stroke="#000000" cx="3942.5" cy="-834.5013" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3942.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 135&#45;166</text>
</g>
<!-- section_37&#45;&gt;codeblock_60 -->
<g id="edge60" class="edge">
<title>section_37&#45;&gt;codeblock_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3686.4751,-1095.0726C3711.2765,-1081.997 3745.3427,-1062.1262 3771.5,-1039.6017 3836.139,-983.9398 3896.1979,-902.3374 3924.8682,-860.8385"/>
<polygon fill="#000000" stroke="#000000" points="3927.8999,-862.6059 3930.6618,-852.3774 3922.1241,-858.6511 3927.8999,-862.6059"/>
</g>
<!-- header_65 -->
<g id="node66" class="node">
<title>header_65</title>
<ellipse fill="none" stroke="#000000" cx="4341.5" cy="-834.5013" rx="82.7165" ry="18"/>
<text text-anchor="middle" x="4341.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : N.tokens(node)</text>
</g>
<!-- section_38&#45;&gt;header_65 -->
<g id="edge65" class="edge">
<title>section_38&#45;&gt;header_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4404.1039,-1093.1401C4392.699,-1046.0222 4362.096,-919.5904 4348.3502,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="4351.6667,-861.6257 4345.9122,-852.7298 4344.8631,-863.2726 4351.6667,-861.6257"/>
</g>
<!-- prose_66 -->
<g id="node67" class="node">
<title>prose_66</title>
<ellipse fill="none" stroke="#000000" cx="4474.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4474.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_38&#45;&gt;prose_66 -->
<g id="edge66" class="edge">
<title>section_38&#45;&gt;prose_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4415.5741,-1093.2487C4421.0142,-1078.8795 4428.4331,-1058.1698 4433.5,-1039.6017 4450.5316,-977.1882 4463.7153,-902.3072 4470.1577,-862.5429"/>
<polygon fill="#000000" stroke="#000000" points="4473.6362,-862.9547 4471.7574,-852.5278 4466.7238,-861.8505 4473.6362,-862.9547"/>
</g>
<!-- codeblock_67 -->
<g id="node68" class="node">
<title>codeblock_67</title>
<ellipse fill="none" stroke="#000000" cx="4612.5" cy="-834.5013" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4612.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 173&#45;185</text>
</g>
<!-- section_38&#45;&gt;codeblock_67 -->
<g id="edge67" class="edge">
<title>section_38&#45;&gt;codeblock_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4441.913,-1095.0884C4464.9825,-1082.5404 4495.0677,-1063.3206 4515.5,-1039.6017 4562.3064,-985.2663 4591.599,-904.4745 4604.6142,-862.3426"/>
<polygon fill="#000000" stroke="#000000" points="4608.0448,-863.088 4607.5732,-852.5036 4601.3414,-861.0719 4608.0448,-863.088"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="1591.5,-375.8005 1537.5,-375.8005 1537.5,-339.8005 1591.5,-339.8005 1591.5,-375.8005"/>
</g>
<!-- raw_40&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>raw_40&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1507.7408,-816.3962C1516.7124,-743.9091 1550.081,-474.3014 1561.0099,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="1564.502,-386.2779 1562.2569,-375.9237 1557.5551,-385.4181 1564.502,-386.2779"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="2375,-375.8005 2254,-375.8005 2254,-339.8005 2375,-339.8005 2375,-375.8005"/>
<text text-anchor="middle" x="2314.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** N.walkDeep</text>
</g>
<!-- header_44&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>header_44&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2534.0184,-816.2785C2527.8462,-777.3709 2508.4526,-685.1863 2457.5,-629.401 2433.1034,-602.6905 2407.8247,-621.0524 2384.5,-593.401 2332.8325,-532.1493 2319.2997,-433.9773 2315.7562,-386.0153"/>
<polygon fill="#000000" stroke="#000000" points="2319.2488,-385.786 2315.1115,-376.0324 2312.2634,-386.2372 2319.2488,-385.786"/>
</g>
<!-- raw_48 -->
<g id="node49" class="node">
<title>raw_48</title>
<ellipse fill="none" stroke="#000000" cx="2420.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="2420.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_48 -->
<g id="edge48" class="edge">
<title>prose_45&#45;&gt;raw_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2658.7802,-816.5197C2662.7219,-776.855 2666.0712,-681.2712 2615.5,-629.401 2564.9201,-577.5218 2505.8821,-646.4216 2456.5,-593.401 2403.1461,-536.116 2408.9905,-434.8251 2415.6746,-385.8586"/>
<polygon fill="#000000" stroke="#000000" points="2419.178,-386.0928 2417.1803,-375.6881 2412.2535,-385.0676 2419.178,-386.0928"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="2873.5,-470.101 2465.5,-470.101 2465.5,-245.5001 2873.5,-245.5001 2873.5,-470.101"/>
<text text-anchor="middle" x="2669.5" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.walkDeep(node)</text>
<text text-anchor="middle" x="2669.5" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local function traverse(ast)</text>
<text text-anchor="middle" x="2669.5" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not ast.isNode then return nil end</text>
<text text-anchor="middle" x="2669.5" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;for _, v in ipairs(ast) do</text>
<text text-anchor="middle" x="2669.5" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(v) == &#39;table&#39; and v.isNode then</text>
<text text-anchor="middle" x="2669.5" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;traverse(v)</text>
<text text-anchor="middle" x="2669.5" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2669.5" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2669.5" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;coroutine.yield(ast)</text>
<text text-anchor="middle" x="2669.5" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2669.5" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="2669.5" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_46&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>codeblock_46&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2784.9424,-816.3962C2771.2426,-761.9736 2729.572,-596.4368 2700.2461,-479.9395"/>
<polygon fill="#000000" stroke="#000000" points="2703.6383,-479.0773 2697.803,-470.2343 2696.8501,-480.7862 2703.6383,-479.0773"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="2505.5,-71.0015 2335.5,-71.0015 2335.5,-15.1986 2505.5,-15.1986 2505.5,-71.0015"/>
<text text-anchor="middle" x="2420.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Depth&#45;first iterator. </text>
</g>
<!-- raw_48&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>raw_48&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2420.5,-339.5207C2420.5,-289.4637 2420.5,-149.3734 2420.5,-81.2549"/>
<polygon fill="#000000" stroke="#000000" points="2424.0001,-80.965 2420.5,-70.965 2417.0001,-80.9651 2424.0001,-80.965"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="2985,-375.8005 2892,-375.8005 2892,-339.8005 2985,-339.8005 2985,-375.8005"/>
<text text-anchor="middle" x="2938.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** N.walk</text>
</g>
<!-- header_51&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>header_51&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2938.5,-816.3962C2938.5,-743.9091 2938.5,-474.3014 2938.5,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="2942.0001,-385.9237 2938.5,-375.9237 2935.0001,-385.9238 2942.0001,-385.9237"/>
</g>
<!-- raw_55 -->
<g id="node56" class="node">
<title>raw_55</title>
<ellipse fill="none" stroke="#000000" cx="3030.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="3030.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_52&#45;&gt;raw_55 -->
<g id="edge55" class="edge">
<title>prose_52&#45;&gt;raw_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3037.2341,-816.3962C3036.1697,-743.9091 3032.2107,-474.3014 3030.9141,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="3034.4127,-385.8712 3030.7661,-375.9237 3027.4134,-385.9741 3034.4127,-385.8712"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3469.5,-470.101 3075.5,-470.101 3075.5,-245.5001 3469.5,-245.5001 3469.5,-470.101"/>
<text text-anchor="middle" x="3272.5" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.walk(node)</text>
<text text-anchor="middle" x="3272.5" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local function traverse(ast)</text>
<text text-anchor="middle" x="3272.5" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not ast.isNode then return nil end</text>
<text text-anchor="middle" x="3272.5" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;coroutine.yield(ast)</text>
<text text-anchor="middle" x="3272.5" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, v in ipairs(ast) do</text>
<text text-anchor="middle" x="3272.5" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if type(v) == &#39;table&#39; and v.isNode then</text>
<text text-anchor="middle" x="3272.5" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;traverse(v)</text>
<text text-anchor="middle" x="3272.5" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3272.5" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3272.5" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3272.5" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="3272.5" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_53&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>codeblock_53&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3225.361,-816.3962C3230.9495,-762.0282 3247.9365,-596.769 3259.9093,-480.2906"/>
<polygon fill="#000000" stroke="#000000" points="3263.402,-480.5398 3260.943,-470.2343 3256.4387,-479.824 3263.402,-480.5398"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3199.5,-71.0015 2861.5,-71.0015 2861.5,-15.1986 3199.5,-15.1986 3199.5,-71.0015"/>
<text text-anchor="middle" x="3030.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Breadth&#45;first iterator. &#160;This is the default. </text>
</g>
<!-- raw_55&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>raw_55&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3030.5,-339.5207C3030.5,-289.4637 3030.5,-149.3734 3030.5,-81.2549"/>
<polygon fill="#000000" stroke="#000000" points="3034.0001,-80.965 3030.5,-70.965 3027.0001,-80.9651 3034.0001,-80.965"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="3679,-375.8005 3488,-375.8005 3488,-339.8005 3679,-339.8005 3679,-375.8005"/>
<text text-anchor="middle" x="3583.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** N.select(node, pred)</text>
</g>
<!-- header_58&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>header_58&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3577.7279,-816.3962C3578.6402,-743.9091 3582.0337,-474.3014 3583.1451,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="3586.6457,-385.967 3583.2719,-375.9237 3579.6462,-385.8789 3586.6457,-385.967"/>
</g>
<!-- raw_62 -->
<g id="node63" class="node">
<title>raw_62</title>
<ellipse fill="none" stroke="#000000" cx="3724.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="3724.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_59&#45;&gt;raw_62 -->
<g id="edge62" class="edge">
<title>prose_59&#45;&gt;raw_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3730.2721,-816.3962C3729.3598,-743.9091 3725.9663,-474.3014 3724.8549,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="3728.3538,-385.8789 3724.7281,-375.9237 3721.3543,-385.967 3728.3538,-385.8789"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="4261.5,-593.5014 3769.5,-593.5014 3769.5,-122.0996 4261.5,-122.0996 4261.5,-593.5014"/>
<text text-anchor="middle" x="4015.5" y="-578.201" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.select(node, pred)</text>
<text text-anchor="middle" x="4015.5" y="-562.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local function qualifies(node, pred)</text>
<text text-anchor="middle" x="4015.5" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if type(pred) == &#39;string&#39; then</text>
<text text-anchor="middle" x="4015.5" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(node) == &#39;table&#39; </text>
<text text-anchor="middle" x="4015.5" y="-516.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;and node.id and node.id == pred then</text>
<text text-anchor="middle" x="4015.5" y="-501.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="4015.5" y="-485.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4015.5" y="-470.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="4015.5" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4015.5" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif type(pred) == &#39;function&#39; then</text>
<text text-anchor="middle" x="4015.5" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return pred(node)</text>
<text text-anchor="middle" x="4015.5" y="-408.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4015.5" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:halt(&quot;cannot select on predicate of type &quot; .. type(pred))</text>
<text text-anchor="middle" x="4015.5" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4015.5" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4015.5" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local function traverse(ast)</text>
<text text-anchor="middle" x="4015.5" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; depth first</text>
<text text-anchor="middle" x="4015.5" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if qualifies(ast, pred) then</text>
<text text-anchor="middle" x="4015.5" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;coroutine.yield(ast)</text>
<text text-anchor="middle" x="4015.5" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4015.5" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if ast.isNode then</text>
<text text-anchor="middle" x="4015.5" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for _, v in ipairs(ast) do</text>
<text text-anchor="middle" x="4015.5" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;traverse(v)</text>
<text text-anchor="middle" x="4015.5" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4015.5" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4015.5" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="4015.5" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="4015.5" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_60&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>codeblock_60&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3945.2725,-816.3962C3950.8955,-779.6773 3964.2643,-692.3772 3977.8463,-603.6848"/>
<polygon fill="#000000" stroke="#000000" points="3981.3201,-604.1215 3979.3743,-593.7069 3974.4008,-603.0619 3981.3201,-604.1215"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="3998.5,-86.3004 3450.5,-86.3004 3450.5,.1003 3998.5,.1003 3998.5,-86.3004"/>
<text text-anchor="middle" x="3724.5" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Takes the Node and walks it, yielding the Nodes which match the predicate.</text>
<text text-anchor="middle" x="3724.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">=pred= is either a string, which matches to =id=, or a function, which takes</text>
<text text-anchor="middle" x="3724.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">a Node and returns true or false on some premise. </text>
</g>
<!-- raw_62&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>raw_62&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3724.5,-339.5207C3724.5,-292.9462 3724.5,-168.4298 3724.5,-96.4623"/>
<polygon fill="#000000" stroke="#000000" points="3728.0001,-96.241 3724.5,-86.241 3721.0001,-96.241 3728.0001,-96.241"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="4429,-375.8005 4280,-375.8005 4280,-339.8005 4429,-339.8005 4429,-375.8005"/>
<text text-anchor="middle" x="4354.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** N.tokens(node)</text>
</g>
<!-- header_65&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>header_65&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4341.9937,-816.3962C4343.9705,-743.9091 4351.3229,-474.3014 4353.731,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="4357.2318,-386.0155 4354.0058,-375.9237 4350.2344,-385.8246 4357.2318,-386.0155"/>
</g>
<!-- raw_69 -->
<g id="node70" class="node">
<title>raw_69</title>
<ellipse fill="none" stroke="#000000" cx="4474.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="4474.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_66&#45;&gt;raw_69 -->
<g id="edge69" class="edge">
<title>prose_66&#45;&gt;raw_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4474.5,-816.3962C4474.5,-743.9091 4474.5,-474.3014 4474.5,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="4478.0001,-385.9237 4474.5,-375.9237 4471.0001,-385.9238 4478.0001,-385.9237"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="4913.5,-446.8008 4519.5,-446.8008 4519.5,-268.8002 4913.5,-268.8002 4913.5,-446.8008"/>
<text text-anchor="middle" x="4716.5" y="-431.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.tokens(node)</text>
<text text-anchor="middle" x="4716.5" y="-416.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local function traverse(ast)</text>
<text text-anchor="middle" x="4716.5" y="-400.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for node in N.walk(ast) do</text>
<text text-anchor="middle" x="4716.5" y="-385.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not node[1] then</text>
<text text-anchor="middle" x="4716.5" y="-370.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;coroutine.yield(node:toValue())</text>
<text text-anchor="middle" x="4716.5" y="-354.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4716.5" y="-339.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4716.5" y="-323.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4716.5" y="-292.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="4716.5" y="-277.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">end &#160;</text>
</g>
<!-- codeblock_67&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>codeblock_67&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4616.4499,-816.3962C4629.1224,-758.31 4669.4097,-573.6466 4694.83,-457.1285"/>
<polygon fill="#000000" stroke="#000000" points="4698.3017,-457.6353 4697.0137,-447.119 4691.4626,-456.1432 4698.3017,-457.6353"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4671.5,-71.0015 4277.5,-71.0015 4277.5,-15.1986 4671.5,-15.1986 4671.5,-71.0015"/>
<text text-anchor="middle" x="4474.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Iterator returning all &#39;captured&#39; values as strings.</text>
</g>
<!-- raw_69&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>raw_69&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4474.5,-339.5207C4474.5,-289.4637 4474.5,-149.3734 4474.5,-81.2549"/>
<polygon fill="#000000" stroke="#000000" points="4478.0001,-80.965 4474.5,-70.965 4471.0001,-80.9651 4478.0001,-80.965"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="5963,-1129.3017 5828,-1129.3017 5828,-1093.3017 5963,-1093.3017 5963,-1129.3017"/>
<text text-anchor="middle" x="5895.5" y="-1107.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">** Node Instances</text>
</g>
<!-- header_72&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>header_72&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5895.5,-1182.8496C5895.5,-1170.4482 5895.5,-1153.765 5895.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="5899.0001,-1139.4268 5895.5,-1129.4268 5892.0001,-1139.4269 5899.0001,-1139.4268"/>
</g>
<!-- raw_81 -->
<g id="node82" class="node">
<title>raw_81</title>
<ellipse fill="none" stroke="#000000" cx="6018.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="6018.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_73&#45;&gt;raw_81 -->
<g id="edge81" class="edge">
<title>prose_73&#45;&gt;raw_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6027.274,-1182.8496C6025.7532,-1170.4482 6023.7073,-1153.765 6021.9737,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="6025.414,-1138.9264 6020.7227,-1129.4268 6018.466,-1139.7785 6025.414,-1138.9264"/>
</g>
<!-- raw_83 -->
<g id="node84" class="node">
<title>raw_83</title>
<ellipse fill="none" stroke="#000000" cx="6100.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="6100.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_74&#45;&gt;raw_83 -->
<g id="edge83" class="edge">
<title>prose_74&#45;&gt;raw_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6109.274,-1182.8496C6107.7532,-1170.4482 6105.7073,-1153.765 6103.9737,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="6107.414,-1138.9264 6102.7227,-1129.4268 6100.466,-1139.7785 6107.414,-1138.9264"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="6183.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="6183.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_75&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_75&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6191.4764,-1182.8496C6190.0938,-1170.4482 6188.2339,-1153.765 6186.6579,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="6190.1071,-1138.9775 6185.5206,-1129.4268 6183.1502,-1139.7531 6190.1071,-1138.9775"/>
</g>
<!-- raw_87 -->
<g id="node88" class="node">
<title>raw_87</title>
<ellipse fill="none" stroke="#000000" cx="6562.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="6562.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_76&#45;&gt;raw_87 -->
<g id="edge87" class="edge">
<title>prose_76&#45;&gt;raw_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6356.2281,-1190.712C6398.9915,-1174.249 6482.7016,-1142.0224 6529.259,-1124.0988"/>
<polygon fill="#000000" stroke="#000000" points="6530.8016,-1127.2554 6538.8765,-1120.3963 6528.2867,-1120.7227 6530.8016,-1127.2554"/>
</g>
<!-- raw_89 -->
<g id="node90" class="node">
<title>raw_89</title>
<ellipse fill="none" stroke="#000000" cx="6984.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="6984.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_77&#45;&gt;raw_89 -->
<g id="edge89" class="edge">
<title>prose_77&#45;&gt;raw_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6670.744,-1193.3539C6733.6149,-1176.9122 6881.4342,-1138.2551 6949.306,-1120.5055"/>
<polygon fill="#000000" stroke="#000000" points="6950.3151,-1123.8594 6959.1042,-1117.9431 6948.544,-1117.0871 6950.3151,-1123.8594"/>
</g>
<!-- header_91 -->
<g id="node92" class="node">
<title>header_91</title>
<ellipse fill="none" stroke="#000000" cx="7520.5" cy="-1111.3017" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="7520.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Fields</text>
</g>
<!-- section_78&#45;&gt;header_91 -->
<g id="edge91" class="edge">
<title>section_78&#45;&gt;header_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7688.31,-1187.8315C7655.2814,-1178.4474 7611.8579,-1164.4263 7575.5,-1147.0017 7567.1463,-1142.9982 7558.546,-1137.9327 7550.7001,-1132.8848"/>
<polygon fill="#000000" stroke="#000000" points="7552.4824,-1129.867 7542.2156,-1127.2507 7548.61,-1135.6984 7552.4824,-1129.867"/>
</g>
<!-- prose_92 -->
<g id="node93" class="node">
<title>prose_92</title>
<ellipse fill="none" stroke="#000000" cx="7616.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7616.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_78&#45;&gt;prose_92 -->
<g id="edge92" class="edge">
<title>section_78&#45;&gt;prose_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7711.911,-1184.1354C7695.6981,-1173.9062 7675.0133,-1160.2983 7657.5,-1147.0017 7651.9443,-1142.7837 7646.1793,-1138.0257 7640.7888,-1133.391"/>
<polygon fill="#000000" stroke="#000000" points="7643.0553,-1130.7235 7633.2272,-1126.7663 7638.4424,-1135.9886 7643.0553,-1130.7235"/>
</g>
<!-- prose_93 -->
<g id="node94" class="node">
<title>prose_93</title>
<ellipse fill="none" stroke="#000000" cx="7698.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7698.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_78&#45;&gt;prose_93 -->
<g id="edge93" class="edge">
<title>section_78&#45;&gt;prose_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7731.203,-1182.8496C7725.3474,-1170.0386 7717.4033,-1152.6584 7710.8111,-1138.236"/>
<polygon fill="#000000" stroke="#000000" points="7713.846,-1136.4563 7706.5056,-1128.8164 7707.4795,-1139.3664 7713.846,-1136.4563"/>
</g>
<!-- prose_94 -->
<g id="node95" class="node">
<title>prose_94</title>
<ellipse fill="none" stroke="#000000" cx="7780.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7780.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_78&#45;&gt;prose_94 -->
<g id="edge94" class="edge">
<title>section_78&#45;&gt;prose_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7747.797,-1182.8496C7753.6526,-1170.0386 7761.5967,-1152.6584 7768.1889,-1138.236"/>
<polygon fill="#000000" stroke="#000000" points="7771.5205,-1139.3664 7772.4944,-1128.8164 7765.154,-1136.4563 7771.5205,-1139.3664"/>
</g>
<!-- prose_95 -->
<g id="node96" class="node">
<title>prose_95</title>
<ellipse fill="none" stroke="#000000" cx="7862.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7862.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_78&#45;&gt;prose_95 -->
<g id="edge95" class="edge">
<title>section_78&#45;&gt;prose_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7767.089,-1184.1354C7783.3019,-1173.9062 7803.9867,-1160.2983 7821.5,-1147.0017 7827.0557,-1142.7837 7832.8207,-1138.0257 7838.2112,-1133.391"/>
<polygon fill="#000000" stroke="#000000" points="7840.5576,-1135.9886 7845.7728,-1126.7663 7835.9447,-1130.7235 7840.5576,-1135.9886"/>
</g>
<!-- prose_96 -->
<g id="node97" class="node">
<title>prose_96</title>
<ellipse fill="none" stroke="#000000" cx="8055.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8055.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_78&#45;&gt;prose_96 -->
<g id="edge96" class="edge">
<title>section_78&#45;&gt;prose_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7788.1825,-1187.1827C7851.0607,-1169.334 7959.2448,-1138.6248 8016.8182,-1122.2819"/>
<polygon fill="#000000" stroke="#000000" points="8017.9563,-1125.5972 8026.6205,-1119.4995 8016.0448,-1118.8633 8017.9563,-1125.5972"/>
</g>
<!-- section_97 -->
<g id="node98" class="node">
<title>section_97</title>
<ellipse fill="none" stroke="#000000" cx="8959.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8959.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 234&#45;246</text>
</g>
<!-- section_78&#45;&gt;section_97 -->
<g id="edge97" class="edge">
<title>section_78&#45;&gt;section_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7811.2618,-1195.7255C8024.0472,-1180.0805 8650.7544,-1134.0021 8876.9198,-1117.3734"/>
<polygon fill="#000000" stroke="#000000" points="8877.3446,-1120.8517 8887.061,-1116.6277 8876.8312,-1113.8705 8877.3446,-1120.8517"/>
</g>
<!-- header_123 -->
<g id="node124" class="node">
<title>header_123</title>
<ellipse fill="none" stroke="#000000" cx="10822.5" cy="-1111.3017" rx="67.7307" ry="18"/>
<text text-anchor="middle" x="10822.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Other fields</text>
</g>
<!-- section_79&#45;&gt;header_123 -->
<g id="edge123" class="edge">
<title>section_79&#45;&gt;header_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11118.6409,-1193.0692C11059.7333,-1185.0473 10972.6489,-1170.4379 10899.5,-1147.0017 10886.9882,-1142.993 10873.8511,-1137.446 10862.0421,-1131.9185"/>
<polygon fill="#000000" stroke="#000000" points="10863.4226,-1128.6987 10852.8936,-1127.5195 10860.3891,-1135.0073 10863.4226,-1128.6987"/>
</g>
<!-- prose_124 -->
<g id="node125" class="node">
<title>prose_124</title>
<ellipse fill="none" stroke="#000000" cx="10940.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10940.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_79&#45;&gt;prose_124 -->
<g id="edge124" class="edge">
<title>section_79&#45;&gt;prose_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11121.3635,-1191.7107C11079.6128,-1183.8963 11025.2471,-1170.1668 10981.5,-1147.0017 10975.1113,-1143.6187 10968.8753,-1139.0643 10963.2725,-1134.3423"/>
<polygon fill="#000000" stroke="#000000" points="10965.3497,-1131.5033 10955.5729,-1127.421 10960.67,-1136.7091 10965.3497,-1131.5033"/>
</g>
<!-- prose_125 -->
<g id="node126" class="node">
<title>prose_125</title>
<ellipse fill="none" stroke="#000000" cx="11022.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11022.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_79&#45;&gt;prose_125 -->
<g id="edge125" class="edge">
<title>section_79&#45;&gt;prose_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11143.9086,-1185.9898C11119.4614,-1176.4859 11088.7114,-1162.9859 11063.5,-1147.0017 11057.5017,-1143.1987 11051.4871,-1138.5469 11045.9842,-1133.8738"/>
<polygon fill="#000000" stroke="#000000" points="11048.155,-1131.1209 11038.3493,-1127.1083 11043.5125,-1136.36 11048.155,-1131.1209"/>
</g>
<!-- prose_126 -->
<g id="node127" class="node">
<title>prose_126</title>
<ellipse fill="none" stroke="#000000" cx="11104.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11104.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_79&#45;&gt;prose_126 -->
<g id="edge126" class="edge">
<title>section_79&#45;&gt;prose_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11170.2994,-1183.2799C11157.6601,-1169.4537 11139.9843,-1150.118 11126.1352,-1134.9685"/>
<polygon fill="#000000" stroke="#000000" points="11128.6192,-1132.4984 11119.2887,-1127.4792 11123.4527,-1137.2215 11128.6192,-1132.4984"/>
</g>
<!-- prose_127 -->
<g id="node128" class="node">
<title>prose_127</title>
<ellipse fill="none" stroke="#000000" cx="11186.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11186.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_79&#45;&gt;prose_127 -->
<g id="edge127" class="edge">
<title>section_79&#45;&gt;prose_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11186.5,-1182.8496C11186.5,-1170.4482 11186.5,-1153.765 11186.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="11190.0001,-1139.4268 11186.5,-1129.4268 11183.0001,-1139.4269 11190.0001,-1139.4268"/>
</g>
<!-- prose_128 -->
<g id="node129" class="node">
<title>prose_128</title>
<ellipse fill="none" stroke="#000000" cx="11268.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11268.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_79&#45;&gt;prose_128 -->
<g id="edge128" class="edge">
<title>section_79&#45;&gt;prose_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11202.7006,-1183.2799C11215.3399,-1169.4537 11233.0157,-1150.118 11246.8648,-1134.9685"/>
<polygon fill="#000000" stroke="#000000" points="11249.5473,-1137.2215 11253.7113,-1127.4792 11244.3808,-1132.4984 11249.5473,-1137.2215"/>
</g>
<!-- prose_129 -->
<g id="node130" class="node">
<title>prose_129</title>
<ellipse fill="none" stroke="#000000" cx="11350.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11350.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_79&#45;&gt;prose_129 -->
<g id="edge129" class="edge">
<title>section_79&#45;&gt;prose_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11229.0914,-1185.9898C11253.5386,-1176.4859 11284.2886,-1162.9859 11309.5,-1147.0017 11315.4983,-1143.1987 11321.5129,-1138.5469 11327.0158,-1133.8738"/>
<polygon fill="#000000" stroke="#000000" points="11329.4875,-1136.36 11334.6507,-1127.1083 11324.845,-1131.1209 11329.4875,-1136.36"/>
</g>
<!-- prose_130 -->
<g id="node131" class="node">
<title>prose_130</title>
<ellipse fill="none" stroke="#000000" cx="11432.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11432.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_79&#45;&gt;prose_130 -->
<g id="edge130" class="edge">
<title>section_79&#45;&gt;prose_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11251.6365,-1191.7107C11293.3872,-1183.8963 11347.7529,-1170.1668 11391.5,-1147.0017 11397.8887,-1143.6187 11404.1247,-1139.0643 11409.7275,-1134.3423"/>
<polygon fill="#000000" stroke="#000000" points="11412.33,-1136.7091 11417.4271,-1127.421 11407.6503,-1131.5033 11412.33,-1136.7091"/>
</g>
<!-- prose_131 -->
<g id="node132" class="node">
<title>prose_131</title>
<ellipse fill="none" stroke="#000000" cx="11514.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11514.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_79&#45;&gt;prose_131 -->
<g id="edge131" class="edge">
<title>section_79&#45;&gt;prose_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11253.2811,-1192.5646C11325.5373,-1182.7129 11435.5156,-1165.4062 11473.5,-1147.0017 11480.1198,-1143.7942 11486.509,-1139.2309 11492.1945,-1134.4345"/>
<polygon fill="#000000" stroke="#000000" points="11494.9196,-1136.6873 11499.9657,-1127.3713 11490.2115,-1131.5072 11494.9196,-1136.6873"/>
</g>
<!-- codeblock_132 -->
<g id="node133" class="node">
<title>codeblock_132</title>
<ellipse fill="none" stroke="#000000" cx="11652.5" cy="-1111.3017" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11652.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 276&#45;278</text>
</g>
<!-- section_79&#45;&gt;codeblock_132 -->
<g id="edge132" class="edge">
<title>section_79&#45;&gt;codeblock_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11257.7541,-1194.9947C11332.7096,-1187.6523 11453.6908,-1172.8876 11555.5,-1147.0017 11571.7744,-1142.8638 11589.112,-1136.9808 11604.5609,-1131.1815"/>
<polygon fill="#000000" stroke="#000000" points="11605.825,-1134.4453 11613.9096,-1127.5977 11603.3194,-1127.9091 11605.825,-1134.4453"/>
</g>
<!-- leaf_82 -->
<g id="node83" class="node">
<title>leaf_82</title>
<polygon fill="none" stroke="#c0c0c0" points="5279.5,-869.8017 4717.5,-869.8017 4717.5,-799.201 5279.5,-799.201 5279.5,-869.8017"/>
<text text-anchor="middle" x="4998.5" y="-822.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;To be a Node, currently, indexed elements of the Array portion must also be </text>
<text text-anchor="middle" x="4998.5" y="-807.3013" font-family="Inconsolata" font-size="14.00" fill="#000000">Nodes. </text>
</g>
<!-- raw_81&#45;&gt;leaf_82 -->
<g id="edge82" class="edge">
<title>raw_81&#45;&gt;leaf_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6003.4148,-1096.1011C5994.8306,-1088.4845 5983.4307,-1079.972 5971.5,-1075.6017 5686.0704,-971.0459 5575.6673,-1139.2858 5288.5,-1039.6017 5189.6645,-1005.293 5094.4622,-926.3788 5041.4858,-877.0494"/>
<polygon fill="#000000" stroke="#000000" points="5043.6642,-874.2935 5033.9806,-869.9947 5038.8699,-879.394 5043.6642,-874.2935"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="5845.5,-869.7017 5297.5,-869.7017 5297.5,-799.3009 5845.5,-799.3009 5845.5,-869.7017"/>
<text text-anchor="middle" x="5571.5" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m mostly convinced that indexed elements can also be strings, and that </text>
<text text-anchor="middle" x="5571.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">this is the form leaf nodes should take. &#160;Currently, they have a &#39;val&#39; field</text>
<text text-anchor="middle" x="5571.5" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">and no children, which we should replace with a child string at [1].</text>
</g>
<!-- raw_83&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>raw_83&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6085.1442,-1096.3222C6076.7412,-1088.9629 6065.7659,-1080.6198 6054.5,-1075.6017 5971.9969,-1038.8529 5937.5956,-1074.9903 5854.5,-1039.6017 5760.8511,-999.7187 5668.418,-924.0376 5615.8186,-876.5985"/>
<polygon fill="#000000" stroke="#000000" points="5618.1059,-873.9478 5608.3517,-869.8119 5613.3978,-879.1279 5618.1059,-873.9478"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="6397.5,-869.7017 5863.5,-869.7017 5863.5,-799.3009 6397.5,-799.3009 6397.5,-869.7017"/>
<text text-anchor="middle" x="6130.5" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">This gives us a lighter way to handle the circumstance where we have, say,</text>
<text text-anchor="middle" x="6130.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">a list, =(foo bar baz)=. We currently either need a &quot;left&#45;per&quot; or &quot;pal&quot;</text>
<text text-anchor="middle" x="6130.5" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">Node class to hold the =(=, or we would have to skip it entirely.</text>
</g>
<!-- raw_85&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>raw_85&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6180.0225,-1093.1401C6171.8201,-1050.3016 6151.0644,-941.902 6139.1902,-879.8869"/>
<polygon fill="#000000" stroke="#000000" points="6142.6115,-879.1437 6137.2933,-869.9803 6135.7364,-880.4602 6142.6115,-879.1437"/>
</g>
<!-- leaf_88 -->
<g id="node89" class="node">
<title>leaf_88</title>
<polygon fill="none" stroke="#c0c0c0" points="6943,-885.0015 6416,-885.0015 6416,-784.0012 6943,-784.0012 6943,-885.0015"/>
<text text-anchor="middle" x="6679.5" y="-853.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">Quipu can&#39;t lose any information from the string, so they have to include</text>
<text text-anchor="middle" x="6679.5" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">whitespace. &#160;We&#39;re not limited in the same way and can reconstruct less </text>
<text text-anchor="middle" x="6679.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">semantically crucial parts of a document using the span and the original </text>
<text text-anchor="middle" x="6679.5" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">string, since we&#39;re not /currently/ editing our strings once they&#39;re</text>
<text text-anchor="middle" x="6679.5" y="-792.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">entered in.</text>
</g>
<!-- raw_87&#45;&gt;leaf_88 -->
<g id="edge88" class="edge">
<title>raw_87&#45;&gt;leaf_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6569.9969,-1093.5655C6586.6195,-1054.2393 6627.2162,-958.1952 6654.0342,-894.7487"/>
<polygon fill="#000000" stroke="#000000" points="6657.3807,-895.8212 6658.0502,-885.2475 6650.933,-893.0958 6657.3807,-895.8212"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="7467.5,-877.7017 6961.5,-877.7017 6961.5,-791.301 7467.5,-791.301 7467.5,-877.7017"/>
<text text-anchor="middle" x="7214.5" y="-846.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">Nodes are meant to be broadly compatible with everything we intend to</text>
<text text-anchor="middle" x="7214.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">do with abstract syntax trees. &#160;The more I think about this the better</text>
<text text-anchor="middle" x="7214.5" y="-815.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">it strikes me as an approach. </text>
</g>
<!-- raw_89&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>raw_89&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6997.8599,-1095.2233C7031.1429,-1055.1679 7118.8874,-949.5692 7171.939,-885.7226"/>
<polygon fill="#000000" stroke="#000000" points="7174.8497,-887.6962 7178.5487,-877.768 7169.4658,-883.2225 7174.8497,-887.6962"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="7571.5,-852.5013 7485.5,-852.5013 7485.5,-816.5013 7571.5,-816.5013 7571.5,-852.5013"/>
<text text-anchor="middle" x="7528.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Fields</text>
</g>
<!-- header_91&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>header_91&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7521.0249,-1093.1401C7522.3867,-1046.0222 7526.0408,-919.5904 7527.6821,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="7531.1827,-862.8268 7527.9732,-852.7298 7524.1856,-862.6245 7531.1827,-862.8268"/>
</g>
<!-- raw_99 -->
<g id="node100" class="node">
<title>raw_99</title>
<ellipse fill="none" stroke="#000000" cx="7616.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="7616.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_92&#45;&gt;raw_99 -->
<g id="edge99" class="edge">
<title>prose_92&#45;&gt;raw_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7616.5,-1093.1401C7616.5,-1046.0222 7616.5,-919.5904 7616.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="7620.0001,-862.7298 7616.5,-852.7298 7613.0001,-862.7299 7620.0001,-862.7298"/>
</g>
<!-- raw_101 -->
<g id="node102" class="node">
<title>raw_101</title>
<ellipse fill="none" stroke="#000000" cx="7693.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="7693.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_93&#45;&gt;raw_101 -->
<g id="edge101" class="edge">
<title>prose_93&#45;&gt;raw_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7698.1719,-1093.1401C7697.3208,-1046.0222 7695.037,-919.5904 7694.0112,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="7697.5094,-862.665 7693.8293,-852.7298 7690.5105,-862.7915 7697.5094,-862.665"/>
</g>
<!-- raw_103 -->
<g id="node104" class="node">
<title>raw_103</title>
<ellipse fill="none" stroke="#000000" cx="7775.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="7775.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_94&#45;&gt;raw_103 -->
<g id="edge103" class="edge">
<title>prose_94&#45;&gt;raw_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7780.1719,-1093.1401C7779.3208,-1046.0222 7777.037,-919.5904 7776.0112,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="7779.5094,-862.665 7775.8293,-852.7298 7772.5105,-862.7915 7779.5094,-862.665"/>
</g>
<!-- raw_105 -->
<g id="node106" class="node">
<title>raw_105</title>
<ellipse fill="none" stroke="#000000" cx="7862.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="7862.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_95&#45;&gt;raw_105 -->
<g id="edge105" class="edge">
<title>prose_95&#45;&gt;raw_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7862.5,-1093.1401C7862.5,-1046.0222 7862.5,-919.5904 7862.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="7866.0001,-862.7298 7862.5,-852.7298 7859.0001,-862.7299 7866.0001,-862.7298"/>
</g>
<!-- raw_107 -->
<g id="node108" class="node">
<title>raw_107</title>
<ellipse fill="none" stroke="#000000" cx="8276.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="8276.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_96&#45;&gt;raw_107 -->
<g id="edge107" class="edge">
<title>prose_96&#45;&gt;raw_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8068.6627,-1094.8155C8106.1388,-1047.8771 8213.5294,-913.3714 8257.4405,-858.3732"/>
<polygon fill="#000000" stroke="#000000" points="8260.1789,-860.5529 8263.6831,-850.5544 8254.7085,-856.1854 8260.1789,-860.5529"/>
</g>
<!-- header_109 -->
<g id="node110" class="node">
<title>header_109</title>
<ellipse fill="none" stroke="#000000" cx="8759.5" cy="-834.5013" rx="108.8185" ry="18"/>
<text text-anchor="middle" x="8759.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : line tracking (optional)</text>
</g>
<!-- section_97&#45;&gt;header_109 -->
<g id="edge109" class="edge">
<title>section_97&#45;&gt;header_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8935.7014,-1093.9437C8918.2308,-1080.4288 8894.655,-1060.5062 8877.5,-1039.6017 8830.0923,-981.8321 8790.4754,-902.5971 8771.5161,-861.5754"/>
<polygon fill="#000000" stroke="#000000" points="8774.6989,-860.1194 8767.3612,-852.4769 8768.3315,-863.0272 8774.6989,-860.1194"/>
</g>
<!-- prose_110 -->
<g id="node111" class="node">
<title>prose_110</title>
<ellipse fill="none" stroke="#000000" cx="8918.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8918.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_97&#45;&gt;prose_110 -->
<g id="edge110" class="edge">
<title>section_97&#45;&gt;prose_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8956.8099,-1093.1401C8949.8307,-1046.0222 8931.1035,-919.5904 8922.6919,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="8926.1276,-862.1091 8921.2,-852.7298 8919.2031,-863.1348 8926.1276,-862.1091"/>
</g>
<!-- prose_111 -->
<g id="node112" class="node">
<title>prose_111</title>
<ellipse fill="none" stroke="#000000" cx="9000.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9000.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_97&#45;&gt;prose_111 -->
<g id="edge111" class="edge">
<title>section_97&#45;&gt;prose_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8962.1901,-1093.1401C8969.1693,-1046.0222 8987.8965,-919.5904 8996.3081,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="8999.7969,-863.1348 8997.8,-852.7298 8992.8724,-862.1091 8999.7969,-863.1348"/>
</g>
<!-- prose_112 -->
<g id="node113" class="node">
<title>prose_112</title>
<ellipse fill="none" stroke="#000000" cx="9082.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9082.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_97&#45;&gt;prose_112 -->
<g id="edge112" class="edge">
<title>section_97&#45;&gt;prose_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8986.9748,-1094.3165C9005.2865,-1081.5334 9028.3295,-1062.3501 9041.5,-1039.6017 9074.3186,-982.9164 9081.244,-904.2854 9082.4719,-862.7782"/>
<polygon fill="#000000" stroke="#000000" points="9085.9751,-862.6513 9082.6789,-852.5823 9078.9765,-862.5091 9085.9751,-862.6513"/>
</g>
<!-- prose_113 -->
<g id="node114" class="node">
<title>prose_113</title>
<ellipse fill="none" stroke="#000000" cx="9164.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9164.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_97&#45;&gt;prose_113 -->
<g id="edge113" class="edge">
<title>section_97&#45;&gt;prose_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9018.3444,-1099.9556C9053.9993,-1090.0218 9097.4804,-1071.9116 9123.5,-1039.6017 9165.0725,-987.9789 9168.2054,-905.7011 9166.5797,-862.7275"/>
<polygon fill="#000000" stroke="#000000" points="9170.0731,-862.5067 9166.0843,-852.6914 9163.0816,-862.8519 9170.0731,-862.5067"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="6546,-408.4014 6033,-408.4014 6033,-307.1996 6546,-307.1996 6546,-408.4014"/>
<text text-anchor="middle" x="6289.5" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;There are invariant fields a Node is also expected to have, they are:</text>
<text text-anchor="middle" x="6289.5" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="6289.5" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; first : &#160;Index into =str= which begins the span.</text>
<text text-anchor="middle" x="6289.5" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; last &#160;: &#160;Index into =str= which ends the span.</text>
</g>
<!-- raw_99&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>raw_99&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7619.8679,-816.4704C7626.2927,-775.8415 7635.1825,-676.9812 7580.5,-629.401 7494.4456,-554.5235 6660.3946,-635.8078 6554.5,-593.401 6462.8038,-556.6801 6381.9497,-473.4369 6334.3687,-416.4144"/>
<polygon fill="#000000" stroke="#000000" points="6336.9427,-414.0345 6327.8779,-408.5498 6331.5439,-418.4903 6336.9427,-414.0345"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="7049,-385.101 6564,-385.101 6564,-330.5001 7049,-330.5001 7049,-385.101"/>
<text text-anchor="middle" x="6806.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">In principle, we want the Node to be localized. We could include a </text>
<text text-anchor="middle" x="6806.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">reference to the whole =str= and derive substrings lazily.</text>
</g>
<!-- raw_101&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>raw_101&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7696.2925,-816.5075C7701.4449,-775.9556 7707.3791,-677.2444 7652.5,-629.401 7602.6598,-585.9504 7119.2419,-619.5241 7058.5,-593.401 6957.7038,-550.0518 6872.1186,-448.0914 6831.593,-393.6065"/>
<polygon fill="#000000" stroke="#000000" points="6834.2215,-391.2727 6825.4803,-385.2859 6828.5802,-395.4171 6834.2215,-391.2727"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="7587.5,-393.0009 7067.5,-393.0009 7067.5,-322.6002 7587.5,-322.6002 7587.5,-393.0009"/>
<text text-anchor="middle" x="7327.5" y="-361.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">If we included the full span as a substring on each Node, we&#39;d end up</text>
<text text-anchor="middle" x="7327.5" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">with a lot of spans, and wouldn&#39;t use most of them. Even slicing a piece</text>
<text text-anchor="middle" x="7327.5" y="-330.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">out is costly if we&#39;re not going to use it. </text>
</g>
<!-- raw_103&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>raw_103&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7777.1425,-816.3274C7779.6576,-776.6966 7779.7153,-681.8608 7729.5,-629.401 7687.1547,-585.163 7650.4799,-622.3198 7596.5,-593.401 7502.0946,-542.8249 7412.7667,-453.4217 7364.5449,-400.4897"/>
<polygon fill="#000000" stroke="#000000" points="7367.0351,-398.0251 7357.7328,-392.9537 7361.8422,-402.7191 7367.0351,-398.0251"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="8119,-400.4016 7606,-400.4016 7606,-315.1995 8119,-315.1995 8119,-400.4016"/>
<text text-anchor="middle" x="7862.5" y="-369.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">So our constructor for a Node class takes (Constructor, node, str) as </text>
<text text-anchor="middle" x="7862.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">the standard interface. &#160;If a module needs a non&#45;standard constructor,</text>
<text text-anchor="middle" x="7862.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">as our Section and Block modules currently take an array of lines, that</text>
<text text-anchor="middle" x="7862.5" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">will need to be provided as the second return from the module. </text>
</g>
<!-- raw_105&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>raw_105&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7862.5,-816.3962C7862.5,-749.7381 7862.5,-516.3874 7862.5,-410.6218"/>
<polygon fill="#000000" stroke="#000000" points="7866.0001,-410.4912 7862.5,-400.4912 7859.0001,-410.4913 7866.0001,-410.4912"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="8636,-393.1009 8137,-393.1009 8137,-322.5002 8636,-322.5002 8636,-393.1009"/>
<text text-anchor="middle" x="8386.5" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">This will allow for the kind of multi&#45;pass recursive&#45;descent that I&#39;m</text>
<text text-anchor="middle" x="8386.5" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">aiming for. </text>
</g>
<!-- raw_107&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>raw_107&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8280.6114,-816.6841C8296.2601,-748.8679 8352.4074,-505.5455 8375.9716,-403.427"/>
<polygon fill="#000000" stroke="#000000" points="8379.443,-403.9491 8378.2811,-393.4181 8372.6222,-402.3751 8379.443,-403.9491"/>
</g>
<!-- leaf_114 -->
<g id="node115" class="node">
<title>leaf_114</title>
<polygon fill="none" stroke="#c0c0c0" points="8873,-375.8005 8654,-375.8005 8654,-339.8005 8873,-339.8005 8873,-375.8005"/>
<text text-anchor="middle" x="8763.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** line tracking (optional)</text>
</g>
<!-- header_109&#45;&gt;leaf_114 -->
<g id="edge114" class="edge">
<title>header_109&#45;&gt;leaf_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8759.6519,-816.3962C8760.2602,-743.9091 8762.5224,-474.3014 8763.2634,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="8766.7638,-385.9528 8763.3479,-375.9237 8759.764,-385.894 8766.7638,-385.9528"/>
</g>
<!-- raw_115 -->
<g id="node116" class="node">
<title>raw_115</title>
<ellipse fill="none" stroke="#000000" cx="8918.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="8918.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_110&#45;&gt;raw_115 -->
<g id="edge115" class="edge">
<title>prose_110&#45;&gt;raw_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8918.5,-816.3962C8918.5,-743.9091 8918.5,-474.3014 8918.5,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="8922.0001,-385.9237 8918.5,-375.9237 8915.0001,-385.9238 8922.0001,-385.9237"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="8995.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="8995.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_111&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_111&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9000.3101,-816.3962C8999.5498,-743.9091 8996.7219,-474.3014 8995.7958,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="8999.2949,-385.8864 8995.6901,-375.9237 8992.2953,-385.9599 8999.2949,-385.8864"/>
</g>
<!-- raw_119 -->
<g id="node120" class="node">
<title>raw_119</title>
<ellipse fill="none" stroke="#000000" cx="9087.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="9087.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_112&#45;&gt;raw_119 -->
<g id="edge119" class="edge">
<title>prose_112&#45;&gt;raw_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9082.6899,-816.3962C9083.4502,-743.9091 9086.2781,-474.3014 9087.2042,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="9090.7047,-385.9599 9087.3099,-375.9237 9083.7051,-385.8864 9090.7047,-385.9599"/>
</g>
<!-- raw_121 -->
<g id="node122" class="node">
<title>raw_121</title>
<ellipse fill="none" stroke="#000000" cx="9164.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="9164.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_113&#45;&gt;raw_121 -->
<g id="edge121" class="edge">
<title>prose_113&#45;&gt;raw_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9164.5,-816.3962C9164.5,-743.9091 9164.5,-474.3014 9164.5,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="9168.0001,-385.9237 9164.5,-375.9237 9161.0001,-385.9238 9168.0001,-385.9237"/>
</g>
<!-- leaf_116 -->
<g id="node117" class="node">
<title>leaf_116</title>
<polygon fill="none" stroke="#c0c0c0" points="8592.5,-71.0015 8100.5,-71.0015 8100.5,-15.1986 8592.5,-15.1986 8592.5,-71.0015"/>
<text text-anchor="middle" x="8346.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">It may be wise to always track lines, in which case we will include:</text>
</g>
<!-- raw_115&#45;&gt;leaf_116 -->
<g id="edge116" class="edge">
<title>raw_115&#45;&gt;leaf_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8922.0355,-339.8761C8929.595,-295.7313 8942.0529,-181.0865 8881.5,-122.2001 8836.5255,-78.4634 8663.5518,-95.4294 8601.5,-86.2001 8573.3936,-82.0197 8543.5992,-77.272 8514.6692,-72.4932"/>
<polygon fill="#000000" stroke="#000000" points="8514.9145,-68.9861 8504.4765,-70.8024 8513.7689,-75.8917 8514.9145,-68.9861"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="8990.5,-70.4005 8610.5,-70.4005 8610.5,-15.7996 8990.5,-15.7996 8990.5,-70.4005"/>
<text text-anchor="middle" x="8800.5" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; line_first : &#160;The line at which the match begins</text>
<text text-anchor="middle" x="8800.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; line_last &#160;: &#160;The line at which the match ends</text>
</g>
<!-- raw_117&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_117&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8997.4309,-339.7914C9000.9945,-297.3883 9004.1998,-189.7527 8954.5,-122.2001 8939.706,-102.0918 8918.3012,-86.7052 8896.1326,-75.0932"/>
<polygon fill="#000000" stroke="#000000" points="8897.4519,-71.8399 8886.9414,-70.506 8894.326,-78.1032 8897.4519,-71.8399"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="9564,-70.4005 9009,-70.4005 9009,-15.7996 9564,-15.7996 9564,-70.4005"/>
<text text-anchor="middle" x="9286.5" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">This is, at least, a frequent enough pattern that the metatable should return</text>
<text text-anchor="middle" x="9286.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">a negative number if these aren&#39;t assigned. </text>
</g>
<!-- raw_119&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>raw_119&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9085.5226,-339.7569C9081.8584,-297.2795 9078.4515,-189.4948 9128.5,-122.2001 9143.6108,-101.8823 9165.4033,-86.4432 9187.9978,-74.8491"/>
<polygon fill="#000000" stroke="#000000" points="9189.5799,-77.9716 9197.0243,-70.4328 9186.5035,-71.6838 9189.5799,-77.9716"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="9983,-71.0015 9582,-71.0015 9582,-15.1986 9983,-15.1986 9983,-71.0015"/>
<text text-anchor="middle" x="9782.5" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; [ ] #todo decide if line tracking is in fact optional</text>
</g>
<!-- raw_121&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>raw_121&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9160.7637,-339.7687C9152.7324,-295.3787 9139.1898,-180.2187 9200.5,-122.2001 9260.8242,-65.1145 9490.3729,-98.5662 9572.5,-86.2001 9597.1928,-82.482 9623.3669,-77.7524 9648.5499,-72.7968"/>
<polygon fill="#000000" stroke="#000000" points="9649.3955,-76.1972 9658.5203,-70.8132 9648.0296,-69.3318 9649.3955,-76.1972"/>
</g>
<!-- leaf_133 -->
<g id="node134" class="node">
<title>leaf_133</title>
<polygon fill="none" stroke="#c0c0c0" points="10886.5,-852.5013 10758.5,-852.5013 10758.5,-816.5013 10886.5,-816.5013 10886.5,-852.5013"/>
<text text-anchor="middle" x="10822.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Other fields</text>
</g>
<!-- header_123&#45;&gt;leaf_133 -->
<g id="edge133" class="edge">
<title>header_123&#45;&gt;leaf_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10822.5,-1093.1401C10822.5,-1046.0222 10822.5,-919.5904 10822.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="10826.0001,-862.7298 10822.5,-852.7298 10819.0001,-862.7299 10826.0001,-862.7298"/>
</g>
<!-- raw_134 -->
<g id="node135" class="node">
<title>raw_134</title>
<ellipse fill="none" stroke="#000000" cx="10935.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="10935.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_124&#45;&gt;raw_134 -->
<g id="edge134" class="edge">
<title>prose_124&#45;&gt;raw_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10940.1719,-1093.1401C10939.3208,-1046.0222 10937.037,-919.5904 10936.0112,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="10939.5094,-862.665 10935.8293,-852.7298 10932.5105,-862.7915 10939.5094,-862.665"/>
</g>
<!-- raw_136 -->
<g id="node137" class="node">
<title>raw_136</title>
<ellipse fill="none" stroke="#000000" cx="11014.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="11014.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_125&#45;&gt;raw_136 -->
<g id="edge136" class="edge">
<title>prose_125&#45;&gt;raw_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11021.9751,-1093.1401C11020.6133,-1046.0222 11016.9592,-919.5904 11015.3179,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="11018.8144,-862.6245 11015.0268,-852.7298 11011.8173,-862.8268 11018.8144,-862.6245"/>
</g>
<!-- raw_138 -->
<g id="node139" class="node">
<title>raw_138</title>
<ellipse fill="none" stroke="#000000" cx="11095.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="11095.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_126&#45;&gt;raw_138 -->
<g id="edge138" class="edge">
<title>prose_126&#45;&gt;raw_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11103.9095,-1093.1401C11102.3775,-1046.0222 11098.2666,-919.5904 11096.4202,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="11099.9159,-862.6108 11096.0927,-852.7298 11092.9196,-862.8383 11099.9159,-862.6108"/>
</g>
<!-- raw_140 -->
<g id="node141" class="node">
<title>raw_140</title>
<ellipse fill="none" stroke="#000000" cx="11186.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="11186.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_127&#45;&gt;raw_140 -->
<g id="edge140" class="edge">
<title>prose_127&#45;&gt;raw_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11186.5,-1093.1401C11186.5,-1046.0222 11186.5,-919.5904 11186.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="11190.0001,-862.7298 11186.5,-852.7298 11183.0001,-862.7299 11190.0001,-862.7298"/>
</g>
<!-- raw_142 -->
<g id="node143" class="node">
<title>raw_142</title>
<ellipse fill="none" stroke="#000000" cx="11274.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="11274.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_128&#45;&gt;raw_142 -->
<g id="edge142" class="edge">
<title>prose_128&#45;&gt;raw_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11268.8937,-1093.1401C11269.915,-1046.0222 11272.6556,-919.5904 11273.8865,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="11277.3872,-862.8034 11274.1049,-852.7298 11270.3889,-862.6516 11277.3872,-862.8034"/>
</g>
<!-- raw_144 -->
<g id="node145" class="node">
<title>raw_144</title>
<ellipse fill="none" stroke="#000000" cx="11389.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="11389.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_129&#45;&gt;raw_144 -->
<g id="edge144" class="edge">
<title>prose_129&#45;&gt;raw_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11353.0589,-1093.1401C11359.6976,-1046.0222 11377.5113,-919.5904 11385.5126,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="11389.0022,-863.1204 11386.9317,-852.7298 11382.0706,-862.1437 11389.0022,-863.1204"/>
</g>
<!-- raw_146 -->
<g id="node147" class="node">
<title>raw_146</title>
<ellipse fill="none" stroke="#000000" cx="11483.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="11483.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_130&#45;&gt;raw_146 -->
<g id="edge146" class="edge">
<title>prose_130&#45;&gt;raw_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11435.8463,-1093.1401C11444.5485,-1045.9092 11467.9343,-918.9836 11478.3607,-862.3947"/>
<polygon fill="#000000" stroke="#000000" points="11481.8377,-862.8387 11480.2077,-852.37 11474.9536,-861.5702 11481.8377,-862.8387"/>
</g>
<!-- raw_148 -->
<g id="node149" class="node">
<title>raw_148</title>
<ellipse fill="none" stroke="#000000" cx="11566.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="11566.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_131&#45;&gt;raw_148 -->
<g id="edge148" class="edge">
<title>prose_131&#45;&gt;raw_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11517.9119,-1093.1401C11526.7847,-1045.9092 11550.6291,-918.9836 11561.2599,-862.3947"/>
<polygon fill="#000000" stroke="#000000" points="11564.7366,-862.8443 11563.1432,-852.37 11557.857,-861.5518 11564.7366,-862.8443"/>
</g>
<!-- leaf_150 -->
<g id="node151" class="node">
<title>leaf_150</title>
<polygon fill="none" stroke="#c0c0c0" points="11688.5,-852.5013 11616.5,-852.5013 11616.5,-816.5013 11688.5,-816.5013 11688.5,-852.5013"/>
<text text-anchor="middle" x="11652.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">return N</text>
</g>
<!-- codeblock_132&#45;&gt;leaf_150 -->
<g id="edge150" class="edge">
<title>codeblock_132&#45;&gt;leaf_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11652.5,-1093.1401C11652.5,-1046.0222 11652.5,-919.5904 11652.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="11656.0001,-862.7298 11652.5,-852.7298 11649.0001,-862.7299 11656.0001,-862.7298"/>
</g>
<!-- leaf_135 -->
<g id="node136" class="node">
<title>leaf_135</title>
<polygon fill="none" stroke="#c0c0c0" points="9765,-401.0009 9210,-401.0009 9210,-314.6002 9765,-314.6002 9765,-401.0009"/>
<text text-anchor="middle" x="9487.5" y="-353.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The way the Grammar class will work: each =V&quot;patt&quot;= can have a metatable.</text>
<text text-anchor="middle" x="9487.5" y="-338.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">These are passed in as the second parameter during construction, with the key</text>
<text text-anchor="middle" x="9487.5" y="-322.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">the same name as the rule. </text>
</g>
<!-- raw_134&#45;&gt;leaf_135 -->
<g id="edge135" class="edge">
<title>raw_134&#45;&gt;leaf_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10938.4854,-816.409C10944.0538,-775.6528 10950.8916,-676.546 10895.5,-629.401 10800.5999,-548.6293 9891.143,-637.27 9774.5,-593.401 9673.1561,-555.2859 9581.2533,-465.7695 9530.0271,-408.7064"/>
<polygon fill="#000000" stroke="#000000" points="9532.6358,-406.3729 9523.3761,-401.2242 9527.404,-411.0235 9532.6358,-406.3729"/>
</g>
<!-- leaf_137 -->
<g id="node138" class="node">
<title>leaf_137</title>
<polygon fill="none" stroke="#c0c0c0" points="10345.5,-385.101 9783.5,-385.101 9783.5,-330.5001 10345.5,-330.5001 10345.5,-385.101"/>
<text text-anchor="middle" x="10064.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">If a pattern doesn&#39;t have a metatable, it&#39;s given a Node class and consists of</text>
<text text-anchor="middle" x="10064.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">only the above fields, plus an array representing any subrules. </text>
</g>
<!-- raw_136&#45;&gt;leaf_137 -->
<g id="edge137" class="edge">
<title>raw_136&#45;&gt;leaf_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11017.1052,-816.4753C11021.8376,-775.8567 11026.7617,-677.0162 10971.5,-629.401 10919.4758,-584.5752 10418.5181,-618.2514 10354.5,-593.401 10243.2599,-550.2201 10142.1485,-447.4463 10094.0471,-393.0186"/>
<polygon fill="#000000" stroke="#000000" points="10096.5586,-390.5737 10087.34,-385.3519 10091.2902,-395.1828 10096.5586,-390.5737"/>
</g>
<!-- leaf_139 -->
<g id="node140" class="node">
<title>leaf_139</title>
<polygon fill="none" stroke="#c0c0c0" points="10883.5,-385.101 10363.5,-385.101 10363.5,-330.5001 10883.5,-330.5001 10883.5,-385.101"/>
<text text-anchor="middle" x="10623.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">If it does, the metatable will have a =__call= method, which expects two</text>
<text text-anchor="middle" x="10623.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">parameters, itself, and the node, which will include the span. </text>
</g>
<!-- raw_138&#45;&gt;leaf_139 -->
<g id="edge139" class="edge">
<title>raw_138&#45;&gt;leaf_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11097.3763,-816.4849C11100.4369,-776.7499 11101.7186,-681.0331 11050.5,-629.401 10999.778,-578.2694 10956.6581,-626.1255 10892.5,-593.401 10792.0295,-542.1549 10698.6851,-444.9901 10652.9517,-392.889"/>
<polygon fill="#000000" stroke="#000000" points="10655.4952,-390.4801 10646.2905,-385.2338 10650.2145,-395.0752 10655.4952,-390.4801"/>
</g>
<!-- leaf_141 -->
<g id="node142" class="node">
<title>leaf_141</title>
<polygon fill="none" stroke="#c0c0c0" points="11471,-393.0009 10902,-393.0009 10902,-322.6002 11471,-322.6002 11471,-393.0009"/>
<text text-anchor="middle" x="11186.5" y="-361.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">This will require reattunement of basically every class in the =/grym= folder,</text>
<text text-anchor="middle" x="11186.5" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">but let&#39;s build the Prose parse first. &#160;I do want the whole shebang in a single</text>
<text text-anchor="middle" x="11186.5" y="-330.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">grammar eventually.</text>
</g>
<!-- raw_140&#45;&gt;leaf_141 -->
<g id="edge141" class="edge">
<title>raw_140&#45;&gt;leaf_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11186.5,-816.3962C11186.5,-748.1479 11186.5,-505.1591 11186.5,-403.2744"/>
<polygon fill="#000000" stroke="#000000" points="11190.0001,-403.0016 11186.5,-393.0017 11183.0001,-403.0017 11190.0001,-403.0016"/>
</g>
<!-- leaf_143 -->
<g id="node144" class="node">
<title>leaf_143</title>
<polygon fill="none" stroke="#c0c0c0" points="12037.5,-400.4016 11489.5,-400.4016 11489.5,-315.1995 12037.5,-315.1995 12037.5,-400.4016"/>
<text text-anchor="middle" x="11763.5" y="-369.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">The intention is to allow multiple grammars to coexist peacefully. Currently</text>
<text text-anchor="middle" x="11763.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">the parser is handrolled and we have special case values for everything.</text>
<text text-anchor="middle" x="11763.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">The idea is to stabilize this, so that multi&#45;pass parsing works but in a</text>
<text text-anchor="middle" x="11763.5" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">standard way where the Node constructor is a consistent interface. </text>
</g>
<!-- raw_142&#45;&gt;leaf_143 -->
<g id="edge143" class="edge">
<title>raw_142&#45;&gt;leaf_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11276.1363,-816.4466C11280.7253,-776.6343 11297.321,-680.7713 11353.5,-629.401 11396.4809,-590.099 11427.9869,-620.5744 11479.5,-593.401 11572.5819,-544.2997 11663.1465,-461.2011 11716.0961,-407.9554"/>
<polygon fill="#000000" stroke="#000000" points="11718.7774,-410.2213 11723.3142,-400.6469 11713.797,-405.3024 11718.7774,-410.2213"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="12317,-377.7026 12056,-377.7026 12056,-337.8984 12317,-337.8984 12317,-377.7026"/>
<text text-anchor="middle" x="12186.5" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">In the meantime we have things like</text>
</g>
<!-- raw_144&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>raw_144&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11388.346,-816.3201C11386.8599,-775.3794 11389.6983,-675.9155 11447.5,-629.401 11551.3899,-545.7981 11932.6291,-662.7982 12046.5,-593.401 12123.6314,-546.3941 12163.3562,-439.5404 12178.7367,-387.4527"/>
<polygon fill="#000000" stroke="#000000" points="12182.1129,-388.376 12181.4921,-377.7993 12175.3817,-386.4546 12182.1129,-388.376"/>
</g>
<!-- leaf_147 -->
<g id="node148" class="node">
<title>leaf_147</title>
<polygon fill="none" stroke="#c0c0c0" points="12862,-385.101 12335,-385.101 12335,-330.5001 12862,-330.5001 12862,-385.101"/>
<text text-anchor="middle" x="12598.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines : &#160;If this exists, there&#39;s a collection of lines which need to be</text>
<text text-anchor="middle" x="12598.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;joined with =\n= to reconstruct the actual span.</text>
</g>
<!-- raw_146&#45;&gt;leaf_147 -->
<g id="edge147" class="edge">
<title>raw_146&#45;&gt;leaf_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11481.2397,-816.3782C11477.2859,-775.558 11474.263,-676.3273 11530.5,-629.401 11598.3921,-572.7491 12243.3388,-626.0862 12325.5,-593.401 12432.2883,-550.9186 12526.3053,-448.2125 12570.9543,-393.5003"/>
<polygon fill="#000000" stroke="#000000" points="12573.8793,-395.4488 12577.4352,-385.4685 12568.4316,-391.053 12573.8793,-395.4488"/>
</g>
<!-- leaf_149 -->
<g id="node150" class="node">
<title>leaf_149</title>
<polygon fill="none" stroke="#c0c0c0" points="13428.5,-385.101 12880.5,-385.101 12880.5,-330.5001 13428.5,-330.5001 13428.5,-385.101"/>
<text text-anchor="middle" x="13154.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;We want to do this the other way, and use the span itself for the</text>
<text text-anchor="middle" x="13154.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;inner parse. </text>
</g>
<!-- raw_148&#45;&gt;leaf_149 -->
<g id="edge149" class="edge">
<title>raw_148&#45;&gt;leaf_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11563.6004,-816.3827C11558.2259,-775.5718 11551.8617,-676.3592 11607.5,-629.401 11661.1432,-584.1266 12804.8171,-618.1622 12870.5,-593.401 12981.0564,-551.7232 13079.7177,-447.8165 13126.2424,-392.9753"/>
<polygon fill="#000000" stroke="#000000" points="13128.9756,-395.163 13132.7236,-385.2532 13123.6139,-390.6628 13128.9756,-395.163"/>
</g>
</g>
</svg>