<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="7355pt" height="679pt"
 viewBox="0.00 0.00 7354.50 679.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 675.2002)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-675.2002 7350.5,-675.2002 7350.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="529.5" cy="-653.2002" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="529.5" y="-649.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 79</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="529.5" cy="-581.2002" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="529.5" y="-577.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;18</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M529.5,-635.0316C529.5,-627.3312 529.5,-618.1746 529.5,-609.6169"/>
<polygon fill="#000000" stroke="#000000" points="533.0001,-609.6135 529.5,-599.6135 526.0001,-609.6136 533.0001,-609.6135"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="382.5" cy="-509.2002" rx="43.5751" ry="18"/>
<text text-anchor="middle" x="382.5" y="-505.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Node</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M497.9648,-565.7544C475.1752,-554.5922 444.2908,-539.4651 420.1977,-527.6644"/>
<polygon fill="#000000" stroke="#000000" points="421.5171,-524.4134 410.9969,-523.1579 418.438,-530.6999 421.5171,-524.4134"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="476.5" cy="-509.2002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="476.5" y="-505.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M516.3989,-563.4025C510.0152,-554.7303 502.2238,-544.1458 495.2259,-534.6392"/>
<polygon fill="#000000" stroke="#000000" points="497.8324,-532.276 489.0855,-526.2975 492.195,-536.4257 497.8324,-532.276"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="582.5" cy="-509.2002" rx="55.6456" ry="18"/>
<text text-anchor="middle" x="582.5" y="-505.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;8</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M542.6011,-563.4025C548.8909,-554.8579 556.5474,-544.4566 563.4649,-535.0593"/>
<polygon fill="#000000" stroke="#000000" points="566.44,-536.9215 569.5496,-526.7933 560.8027,-532.7718 566.44,-536.9215"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1581.5" cy="-509.2002" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1581.5" y="-505.0002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 19&#45;48</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M588.6937,-577.149C768.6866,-564.8301 1309.2367,-527.8342 1507.5273,-514.263"/>
<polygon fill="#000000" stroke="#000000" points="1507.8185,-517.7514 1517.5562,-513.5766 1507.3405,-510.7677 1507.8185,-517.7514"/>
</g>
<!-- leaf_6 -->
<g id="node7" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="345,-455.4014 0,-455.4014 0,-383.5991 345,-383.5991 345,-455.4014"/>
<text text-anchor="middle" x="172.5" y="-408.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">Time to stabilize this class once and for all. </text>
</g>
<!-- prose_3&#45;&gt;leaf_6 -->
<g id="edge6" class="edge">
<title>prose_3&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M451.5834,-497.563C446.3287,-495.3067 440.7769,-493.0664 435.5,-491.2002 401.3436,-479.1209 364.0972,-467.8542 328.6632,-457.9945"/>
<polygon fill="#000000" stroke="#000000" points="329.2919,-454.5372 318.7211,-455.2513 327.43,-461.2851 329.2919,-454.5372"/>
</g>
<!-- header_7 -->
<g id="node8" class="node">
<title>header_7</title>
<ellipse fill="none" stroke="#000000" cx="447.5" cy="-419.5002" rx="84.6634" ry="18"/>
<text text-anchor="middle" x="447.5" y="-415.3002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Node metatable</text>
</g>
<!-- section_4&#45;&gt;header_7 -->
<g id="edge7" class="edge">
<title>section_4&#45;&gt;header_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M558.0525,-492.9563C536.8034,-478.8374 505.7849,-458.2273 482.0086,-442.4293"/>
<polygon fill="#000000" stroke="#000000" points="483.8741,-439.4667 473.6081,-436.8476 480.0002,-445.297 483.8741,-439.4667"/>
</g>
<!-- prose_8 -->
<g id="node9" class="node">
<title>prose_8</title>
<ellipse fill="none" stroke="#000000" cx="582.5" cy="-419.5002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="582.5" y="-415.3002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_8 -->
<g id="edge8" class="edge">
<title>section_4&#45;&gt;prose_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M582.5,-491.0481C582.5,-478.6467 582.5,-461.9635 582.5,-447.8266"/>
<polygon fill="#000000" stroke="#000000" points="586.0001,-447.6253 582.5,-437.6254 579.0001,-447.6254 586.0001,-447.6253"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="693.5" cy="-419.5002" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="693.5" y="-415.3002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 9&#45;18</text>
</g>
<!-- section_4&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_4&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M603.3783,-492.3284C620.6328,-478.3849 645.3207,-458.4344 664.4955,-442.939"/>
<polygon fill="#000000" stroke="#000000" points="666.76,-445.6091 672.338,-436.6014 662.3602,-440.1646 666.76,-445.6091"/>
</g>
<!-- header_14 -->
<g id="node15" class="node">
<title>header_14</title>
<ellipse fill="none" stroke="#000000" cx="1447.5" cy="-419.5002" rx="83.6943" ry="18"/>
<text text-anchor="middle" x="1447.5" y="-415.3002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Node Instances</text>
</g>
<!-- section_5&#45;&gt;header_14 -->
<g id="edge14" class="edge">
<title>section_5&#45;&gt;header_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1556.6097,-492.5386C1535.5361,-478.4319 1505.1158,-458.0684 1481.7465,-442.4249"/>
<polygon fill="#000000" stroke="#000000" points="1483.4263,-439.3376 1473.1693,-436.6834 1479.5324,-445.1546 1483.4263,-439.3376"/>
</g>
<!-- prose_15 -->
<g id="node16" class="node">
<title>prose_15</title>
<ellipse fill="none" stroke="#000000" cx="1581.5" cy="-419.5002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1581.5" y="-415.3002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_15 -->
<g id="edge15" class="edge">
<title>section_5&#45;&gt;prose_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1581.5,-491.0481C1581.5,-478.6467 1581.5,-461.9635 1581.5,-447.8266"/>
<polygon fill="#000000" stroke="#000000" points="1585.0001,-447.6253 1581.5,-437.6254 1578.0001,-447.6254 1585.0001,-447.6253"/>
</g>
<!-- section_16 -->
<g id="node17" class="node">
<title>section_16</title>
<ellipse fill="none" stroke="#000000" cx="1901.5" cy="-419.5002" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1901.5" y="-415.3002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 24&#45;38</text>
</g>
<!-- section_5&#45;&gt;section_16 -->
<g id="edge16" class="edge">
<title>section_5&#45;&gt;section_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1627.689,-496.2529C1685.3189,-480.0985 1783.7922,-452.4952 1845.6136,-435.1659"/>
<polygon fill="#000000" stroke="#000000" points="1846.9002,-438.4402 1855.5843,-432.371 1845.0107,-431.7 1846.9002,-438.4402"/>
</g>
<!-- section_17 -->
<g id="node18" class="node">
<title>section_17</title>
<ellipse fill="none" stroke="#000000" cx="5063.5" cy="-419.5002" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="5063.5" y="-415.3002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 49&#45;79</text>
</g>
<!-- section_5&#45;&gt;section_17 -->
<g id="edge17" class="edge">
<title>section_5&#45;&gt;section_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1647.1822,-507.5082C2080.4552,-496.3466 4524.7863,-433.3781 4987.8013,-421.4503"/>
<polygon fill="#000000" stroke="#000000" points="4988.1403,-424.9428 4998.0468,-421.1864 4987.96,-417.9452 4988.1403,-424.9428"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="571.5,-332.1002 517.5,-332.1002 517.5,-292.1002 571.5,-292.1002 571.5,-332.1002"/>
</g>
<!-- prose_8&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>prose_8&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M576.2251,-401.7653C570.4807,-385.5299 561.8644,-361.1774 555.0603,-341.9469"/>
<polygon fill="#000000" stroke="#000000" points="558.3274,-340.6874 551.6922,-332.4276 551.7282,-343.0224 558.3274,-340.6874"/>
</g>
<!-- header_11 -->
<g id="node12" class="node">
<title>header_11</title>
<ellipse fill="none" stroke="#000000" cx="635.5" cy="-312.1002" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="635.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Fields</text>
</g>
<!-- section_9&#45;&gt;header_11 -->
<g id="edge11" class="edge">
<title>section_9&#45;&gt;header_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M683.6611,-401.2813C674.4399,-384.2062 660.5403,-358.468 650.0399,-339.0241"/>
<polygon fill="#000000" stroke="#000000" points="653.025,-337.1859 645.1936,-330.0501 646.8658,-340.5121 653.025,-337.1859"/>
</g>
<!-- prose_12 -->
<g id="node13" class="node">
<title>prose_12</title>
<ellipse fill="none" stroke="#000000" cx="731.5" cy="-312.1002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="731.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_12 -->
<g id="edge12" class="edge">
<title>section_9&#45;&gt;prose_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M699.9462,-401.2813C705.9327,-384.3614 714.9289,-358.9353 721.7857,-339.556"/>
<polygon fill="#000000" stroke="#000000" points="725.113,-340.6449 725.149,-330.0501 718.5138,-338.3099 725.113,-340.6449"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="671,-240.4003 158,-240.4003 158,-91.4 671,-91.4 671,-240.4003"/>
<text text-anchor="middle" x="414.5" y="-193.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; id : &#160;A string naming the Node. </text>
<text text-anchor="middle" x="414.5" y="-177.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;This is identical to the name of the pattern that recognizes</text>
<text text-anchor="middle" x="414.5" y="-162.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;or captures it.</text>
<text text-anchor="middle" x="414.5" y="-147.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; line_first : &#160;Always &#45;1.</text>
<text text-anchor="middle" x="414.5" y="-131.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; line_last &#160;: &#160;Always &#45;1. </text>
</g>
<!-- prose_12&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>prose_12&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M715.7378,-296.1536C708.4947,-289.4352 699.5196,-281.9129 690.5,-276.4002 672.073,-265.1376 652.2964,-254.6047 632.1038,-244.8639"/>
<polygon fill="#000000" stroke="#000000" points="633.3346,-241.5738 622.8001,-240.4443 630.331,-247.8966 633.3346,-241.5738"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1659.5,-348.0014 1097.5,-348.0014 1097.5,-276.199 1659.5,-276.199 1659.5,-348.0014"/>
<text text-anchor="middle" x="1378.5" y="-300.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;To be a Node, all indexed elements of the Array portion must also be Nodes. </text>
</g>
<!-- prose_15&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>prose_15&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1565.6426,-403.7062C1558.3819,-397.0162 1549.4193,-389.4738 1540.5,-383.8002 1522.1588,-372.1333 1501.5973,-361.4435 1481.4395,-352.0805"/>
<polygon fill="#000000" stroke="#000000" points="1482.7663,-348.8388 1472.2156,-347.8732 1479.8613,-355.2076 1482.7663,-348.8388"/>
</g>
<!-- header_19 -->
<g id="node20" class="node">
<title>header_19</title>
<ellipse fill="none" stroke="#000000" cx="1723.5" cy="-312.1002" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="1723.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Fields</text>
</g>
<!-- section_16&#45;&gt;header_19 -->
<g id="edge19" class="edge">
<title>section_16&#45;&gt;header_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1872.4391,-403.0827C1847.3671,-388.7945 1810.2848,-367.3644 1778.5,-347.8002 1770.9747,-343.1682 1762.9561,-338.0629 1755.4353,-333.1971"/>
<polygon fill="#000000" stroke="#000000" points="1757.185,-330.1599 1746.8947,-327.6379 1753.3663,-336.0265 1757.185,-330.1599"/>
</g>
<!-- prose_20 -->
<g id="node21" class="node">
<title>prose_20</title>
<ellipse fill="none" stroke="#000000" cx="1819.5" cy="-312.1002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1819.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_16&#45;&gt;prose_20 -->
<g id="edge20" class="edge">
<title>section_16&#45;&gt;prose_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1887.9594,-401.7653C1874.4264,-384.0404 1853.5067,-356.6407 1838.3535,-336.7936"/>
<polygon fill="#000000" stroke="#000000" points="1841.101,-334.6247 1832.2506,-328.8004 1835.5372,-338.8726 1841.101,-334.6247"/>
</g>
<!-- prose_21 -->
<g id="node22" class="node">
<title>prose_21</title>
<ellipse fill="none" stroke="#000000" cx="1901.5" cy="-312.1002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1901.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_16&#45;&gt;prose_21 -->
<g id="edge21" class="edge">
<title>section_16&#45;&gt;prose_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1901.5,-401.2813C1901.5,-384.6176 1901.5,-359.7034 1901.5,-340.4405"/>
<polygon fill="#000000" stroke="#000000" points="1905.0001,-340.4085 1901.5,-330.4085 1898.0001,-340.4086 1905.0001,-340.4085"/>
</g>
<!-- prose_22 -->
<g id="node23" class="node">
<title>prose_22</title>
<ellipse fill="none" stroke="#000000" cx="1983.5" cy="-312.1002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1983.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_16&#45;&gt;prose_22 -->
<g id="edge22" class="edge">
<title>section_16&#45;&gt;prose_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1915.0406,-401.7653C1928.5736,-384.0404 1949.4933,-356.6407 1964.6465,-336.7936"/>
<polygon fill="#000000" stroke="#000000" points="1967.4628,-338.8726 1970.7494,-328.8004 1961.899,-334.6247 1967.4628,-338.8726"/>
</g>
<!-- prose_23 -->
<g id="node24" class="node">
<title>prose_23</title>
<ellipse fill="none" stroke="#000000" cx="2258.5" cy="-312.1002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2258.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_16&#45;&gt;prose_23 -->
<g id="edge23" class="edge">
<title>section_16&#45;&gt;prose_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1945.9925,-406.1151C2016.752,-384.8278 2153.72,-343.6223 2220.3053,-323.5907"/>
<polygon fill="#000000" stroke="#000000" points="2221.4171,-326.9113 2229.9848,-320.6787 2219.4004,-320.208 2221.4171,-326.9113"/>
</g>
<!-- section_24 -->
<g id="node25" class="node">
<title>section_24</title>
<ellipse fill="none" stroke="#000000" cx="2913.5" cy="-312.1002" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2913.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 39&#45;48</text>
</g>
<!-- section_16&#45;&gt;section_24 -->
<g id="edge24" class="edge">
<title>section_16&#45;&gt;section_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1962.9034,-412.9837C2140.2504,-394.1625 2652.6183,-339.7867 2842.0178,-319.6864"/>
<polygon fill="#000000" stroke="#000000" points="2842.5652,-323.148 2852.1399,-318.6121 2841.8264,-316.1871 2842.5652,-323.148"/>
</g>
<!-- header_36 -->
<g id="node37" class="node">
<title>header_36</title>
<ellipse fill="none" stroke="#000000" cx="4740.5" cy="-312.1002" rx="67.7307" ry="18"/>
<text text-anchor="middle" x="4740.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Other fields</text>
</g>
<!-- section_17&#45;&gt;header_36 -->
<g id="edge36" class="edge">
<title>section_17&#45;&gt;header_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5014.2486,-407.4799C4964.072,-394.6929 4884.3505,-372.8769 4817.5,-347.8002 4805.6438,-343.3528 4793.0706,-337.8683 4781.5978,-332.5441"/>
<polygon fill="#000000" stroke="#000000" points="4782.7966,-329.2397 4772.2594,-328.1359 4779.8084,-335.5698 4782.7966,-329.2397"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="4858.5" cy="-312.1002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4858.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_17&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5022.0027,-405.3712C4987.7611,-392.7889 4938.623,-372.5623 4899.5,-347.8002 4893.4987,-344.0018 4887.483,-339.3519 4881.9799,-334.6792"/>
<polygon fill="#000000" stroke="#000000" points="4884.1507,-331.9263 4874.3452,-327.9134 4879.508,-337.1652 4884.1507,-331.9263"/>
</g>
<!-- prose_38 -->
<g id="node39" class="node">
<title>prose_38</title>
<ellipse fill="none" stroke="#000000" cx="4940.5" cy="-312.1002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4940.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_38 -->
<g id="edge38" class="edge">
<title>section_17&#45;&gt;prose_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5043.7379,-402.2446C5022.5982,-383.7859 4989.0009,-354.4497 4965.9091,-334.2867"/>
<polygon fill="#000000" stroke="#000000" points="4968.0517,-331.511 4958.217,-327.5702 4963.4476,-336.7839 4968.0517,-331.511"/>
</g>
<!-- prose_39 -->
<g id="node40" class="node">
<title>prose_39</title>
<ellipse fill="none" stroke="#000000" cx="5022.5" cy="-312.1002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5022.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_39 -->
<g id="edge39" class="edge">
<title>section_17&#45;&gt;prose_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5056.5449,-401.2813C5050.0857,-384.3614 5040.3793,-358.9353 5032.9812,-339.556"/>
<polygon fill="#000000" stroke="#000000" points="5036.1887,-338.1442 5029.3524,-330.0501 5029.6491,-340.6408 5036.1887,-338.1442"/>
</g>
<!-- prose_40 -->
<g id="node41" class="node">
<title>prose_40</title>
<ellipse fill="none" stroke="#000000" cx="5104.5" cy="-312.1002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5104.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_40 -->
<g id="edge40" class="edge">
<title>section_17&#45;&gt;prose_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5070.4551,-401.2813C5076.9143,-384.3614 5086.6207,-358.9353 5094.0188,-339.556"/>
<polygon fill="#000000" stroke="#000000" points="5097.3509,-340.6408 5097.6476,-330.0501 5090.8113,-338.1442 5097.3509,-340.6408"/>
</g>
<!-- prose_41 -->
<g id="node42" class="node">
<title>prose_41</title>
<ellipse fill="none" stroke="#000000" cx="5433.5" cy="-312.1002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5433.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_41 -->
<g id="edge41" class="edge">
<title>section_17&#45;&gt;prose_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5108.8693,-406.3309C5182.2883,-385.0195 5325.8533,-343.3468 5394.7708,-323.3422"/>
<polygon fill="#000000" stroke="#000000" points="5396.1467,-326.5873 5404.7746,-320.4383 5394.1953,-319.8648 5396.1467,-326.5873"/>
</g>
<!-- prose_42 -->
<g id="node43" class="node">
<title>prose_42</title>
<ellipse fill="none" stroke="#000000" cx="5809.5" cy="-312.1002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5809.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_42 -->
<g id="edge42" class="edge">
<title>section_17&#45;&gt;prose_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5121.7266,-411.1175C5266.9804,-390.2056 5642.6503,-336.1212 5768.055,-318.067"/>
<polygon fill="#000000" stroke="#000000" points="5768.628,-321.5206 5778.0272,-316.6313 5767.6305,-314.5921 5768.628,-321.5206"/>
</g>
<!-- prose_43 -->
<g id="node44" class="node">
<title>prose_43</title>
<ellipse fill="none" stroke="#000000" cx="6203.5" cy="-312.1002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6203.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_43 -->
<g id="edge43" class="edge">
<title>section_17&#45;&gt;prose_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5126.2595,-413.9958C5259.6303,-402.2513 5581.1188,-373.6923 5850.5,-347.8002 5962.8282,-337.0036 6095.1638,-323.3771 6161.3465,-316.5"/>
<polygon fill="#000000" stroke="#000000" points="6161.803,-319.9715 6171.3872,-315.4557 6161.0788,-313.0091 6161.803,-319.9715"/>
</g>
<!-- prose_44 -->
<g id="node45" class="node">
<title>prose_44</title>
<ellipse fill="none" stroke="#000000" cx="6678.5" cy="-312.1002" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6678.5" y="-307.9002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_44 -->
<g id="edge44" class="edge">
<title>section_17&#45;&gt;prose_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5128.1826,-416.0616C5306.2754,-406.4883 5818.842,-378.2247 6244.5,-347.8002 6388.3635,-337.5174 6558.831,-322.7343 6636.3552,-315.869"/>
<polygon fill="#000000" stroke="#000000" points="6637.0135,-319.3244 6646.665,-314.9541 6636.3947,-312.3518 6637.0135,-319.3244"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1188,-216.501 689,-216.501 689,-115.2992 1188,-115.2992 1188,-216.501"/>
<text text-anchor="middle" x="938.5" y="-169.5002" font-family="Inconsolata" font-size="14.00" fill="#000000">There are invariant fields a Node is also expected to have, they are:</text>
<text text-anchor="middle" x="938.5" y="-154.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="938.5" y="-138.7001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; first : &#160;Index into =str= which begins the span.</text>
<text text-anchor="middle" x="938.5" y="-123.3001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; last &#160;: &#160;Index into =str= which ends the span.</text>
</g>
<!-- prose_20&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>prose_20&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1805.5858,-295.8457C1798.3207,-288.5401 1788.8047,-280.6251 1778.5,-276.4002 1658.6051,-227.244 1324.1808,-262.5075 1196.5,-240.4002 1166.0328,-235.1249 1134.0355,-227.5827 1103.3458,-219.3022"/>
<polygon fill="#000000" stroke="#000000" points="1104.0003,-215.8527 1093.4311,-216.5898 1102.1531,-222.6046 1104.0003,-215.8527"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1691,-193.2005 1206,-193.2005 1206,-138.5997 1691,-138.5997 1691,-193.2005"/>
<text text-anchor="middle" x="1448.5" y="-162.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">In principle, we want the Node to be localized. We could include a </text>
<text text-anchor="middle" x="1448.5" y="-146.7001" font-family="Inconsolata" font-size="14.00" fill="#000000">reference to the whole =str= and derive substrings lazily.</text>
</g>
<!-- prose_21&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>prose_21&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1886.5099,-295.8211C1879.2788,-288.8734 1870.0985,-281.2621 1860.5,-276.4002 1795.477,-243.4638 1771.0433,-258.7424 1700.5,-240.4002 1649.076,-227.0292 1592.2846,-210.4048 1545.6529,-196.2545"/>
<polygon fill="#000000" stroke="#000000" points="1546.4479,-192.838 1535.862,-193.2746 1544.4097,-199.5347 1546.4479,-192.838"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="2257.5,-193.2005 1709.5,-193.2005 1709.5,-138.5997 2257.5,-138.5997 2257.5,-193.2005"/>
<text text-anchor="middle" x="1983.5" y="-162.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">Instead, we&#39;re going to use a constructor pattern. That involves handing the</text>
<text text-anchor="middle" x="1983.5" y="-146.7001" font-family="Inconsolata" font-size="14.00" fill="#000000">constructor the substring of the capture, so let&#39;s just keept it around:</text>
</g>
<!-- prose_22&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>prose_22&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1983.5,-293.8795C1983.5,-271.3821 1983.5,-232.542 1983.5,-203.535"/>
<polygon fill="#000000" stroke="#000000" points="1987.0001,-203.3415 1983.5,-193.3416 1980.0001,-203.3416 1987.0001,-203.3415"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="2627.5,-185.8022 2275.5,-185.8022 2275.5,-145.998 2627.5,-145.998 2627.5,-185.8022"/>
<text text-anchor="middle" x="2451.5" y="-154.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; span : &#160;The substring captured by the Node. </text>
</g>
<!-- prose_23&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>prose_23&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2277.7112,-297.5475C2310.2694,-272.8842 2376.7021,-222.5605 2417.3423,-191.775"/>
<polygon fill="#000000" stroke="#000000" points="2419.4973,-194.5334 2425.3551,-185.7052 2415.2705,-188.9536 2419.4973,-194.5334"/>
</g>
<!-- header_29 -->
<g id="node30" class="node">
<title>header_29</title>
<ellipse fill="none" stroke="#000000" cx="2754.5" cy="-165.9001" rx="108.8185" ry="18"/>
<text text-anchor="middle" x="2754.5" y="-161.7001" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : line tracking (optional)</text>
</g>
<!-- section_24&#45;&gt;header_29 -->
<g id="edge29" class="edge">
<title>section_24&#45;&gt;header_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2894.6362,-294.755C2866.5776,-268.9552 2813.7089,-220.3425 2781.5399,-190.7633"/>
<polygon fill="#000000" stroke="#000000" points="2783.5653,-187.8708 2773.8351,-183.6787 2778.8273,-193.0237 2783.5653,-187.8708"/>
</g>
<!-- prose_30 -->
<g id="node31" class="node">
<title>prose_30</title>
<ellipse fill="none" stroke="#000000" cx="2913.5" cy="-165.9001" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2913.5" y="-161.7001" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_24&#45;&gt;prose_30 -->
<g id="edge30" class="edge">
<title>section_24&#45;&gt;prose_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2913.5,-293.8795C2913.5,-268.9279 2913.5,-223.8733 2913.5,-194.4268"/>
<polygon fill="#000000" stroke="#000000" points="2917.0001,-194.3504 2913.5,-184.3505 2910.0001,-194.3505 2917.0001,-194.3504"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="2995.5" cy="-165.9001" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2995.5" y="-161.7001" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_24&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>section_24&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2923.8598,-294.1719C2932.1985,-279.6962 2944.1864,-258.7835 2954.5,-240.4002 2963.4476,-224.4517 2973.3353,-206.4951 2981.1585,-192.2074"/>
<polygon fill="#000000" stroke="#000000" points="2984.2443,-193.8594 2985.9708,-183.4061 2978.1024,-190.5011 2984.2443,-193.8594"/>
</g>
<!-- prose_32 -->
<g id="node33" class="node">
<title>prose_32</title>
<ellipse fill="none" stroke="#000000" cx="3077.5" cy="-165.9001" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3077.5" y="-161.7001" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_24&#45;&gt;prose_32 -->
<g id="edge32" class="edge">
<title>section_24&#45;&gt;prose_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2950.3688,-297.0542C2976.8259,-284.8357 3011.9895,-265.523 3036.5,-240.4002 3049.6932,-226.8774 3059.9414,-208.2582 3066.8922,-193.0168"/>
<polygon fill="#000000" stroke="#000000" points="3070.2183,-194.1436 3070.9815,-183.5763 3063.795,-191.3612 3070.2183,-194.1436"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2787.5,-55.6015 2295.5,-55.6015 2295.5,.2015 2787.5,.2015 2787.5,-55.6015"/>
<text text-anchor="middle" x="2541.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">It may be wise to always track lines, in which case we will include:</text>
</g>
<!-- prose_30&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>prose_30&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2908.4776,-147.8653C2902.7012,-130.6034 2891.4825,-105.2087 2872.5,-91.4 2853.7625,-77.7695 2814.9448,-66.4765 2770.2628,-57.3791"/>
<polygon fill="#000000" stroke="#000000" points="2770.8277,-53.923 2760.338,-55.4119 2769.4666,-60.7895 2770.8277,-53.923"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="3185.5,-55.0004 2805.5,-55.0004 2805.5,-.3996 3185.5,-.3996 3185.5,-55.0004"/>
<text text-anchor="middle" x="2995.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; line_first : &#160;The line at which the match begins</text>
<text text-anchor="middle" x="2995.5" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; line_last &#160;: &#160;The line at which the match ends</text>
</g>
<!-- prose_31&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>prose_31&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2995.5,-147.8329C2995.5,-126.9698 2995.5,-92.0835 2995.5,-65.265"/>
<polygon fill="#000000" stroke="#000000" points="2999.0001,-65.0632 2995.5,-55.0632 2992.0001,-65.0633 2999.0001,-65.0632"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="3759,-55.0004 3204,-55.0004 3204,-.3996 3759,-.3996 3759,-55.0004"/>
<text text-anchor="middle" x="3481.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">This is, at least, a frequent enough pattern that the metatable should return</text>
<text text-anchor="middle" x="3481.5" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000">a negative number if these aren&#39;t assigned. </text>
</g>
<!-- prose_32&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>prose_32&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3082.4739,-147.798C3088.2134,-130.485 3099.4049,-105.0525 3118.5,-91.4 3138.3014,-77.2425 3178.3991,-65.8736 3224.979,-56.8862"/>
<polygon fill="#000000" stroke="#000000" points="3225.8287,-60.288 3235.0121,-55.0044 3224.5382,-53.408 3225.8287,-60.288"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="3683,-209.1004 3128,-209.1004 3128,-122.6998 3683,-122.6998 3683,-209.1004"/>
<text text-anchor="middle" x="3405.5" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The way the Grammar class will work: each =V&quot;patt&quot;= can have a metatable.</text>
<text text-anchor="middle" x="3405.5" y="-146.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">These are passed in as the second parameter during construction, with the key</text>
<text text-anchor="middle" x="3405.5" y="-131.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">the same name as the rule. </text>
</g>
<!-- prose_37&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>prose_37&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4844.6397,-295.7115C4837.3874,-288.3741 4827.8665,-280.4711 4817.5,-276.4002 4701.0903,-230.686 3816.2878,-258.2213 3692.5,-240.4002 3647.6171,-233.9386 3599.6411,-223.103 3556.0149,-211.6685"/>
<polygon fill="#000000" stroke="#000000" points="3556.7573,-208.2445 3546.1943,-209.0655 3554.9638,-215.0108 3556.7573,-208.2445"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="4263.5,-193.2005 3701.5,-193.2005 3701.5,-138.5997 4263.5,-138.5997 4263.5,-193.2005"/>
<text text-anchor="middle" x="3982.5" y="-162.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">If a pattern doesn&#39;t have a metatable, it&#39;s given a Node class and consists of</text>
<text text-anchor="middle" x="3982.5" y="-146.7001" font-family="Inconsolata" font-size="14.00" fill="#000000">only the above fields, plus an array representing any subrules. </text>
</g>
<!-- prose_38&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>prose_38&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4926.5939,-295.8259C4919.3308,-288.5155 4909.814,-280.6023 4899.5,-276.4002 4770.2522,-223.743 4410.4024,-261.864 4272.5,-240.4002 4207.5712,-230.2943 4136.0545,-212.0036 4080.2875,-196.0753"/>
<polygon fill="#000000" stroke="#000000" points="4080.9957,-192.6371 4070.4177,-193.234 4079.0592,-199.3639 4080.9957,-192.6371"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="4801.5,-193.2005 4281.5,-193.2005 4281.5,-138.5997 4801.5,-138.5997 4801.5,-193.2005"/>
<text text-anchor="middle" x="4541.5" y="-162.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">If it does, the metatable will have a =__call= method, which expects two</text>
<text text-anchor="middle" x="4541.5" y="-146.7001" font-family="Inconsolata" font-size="14.00" fill="#000000">parameters, itself, and the node, which will include the span. </text>
</g>
<!-- prose_39&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>prose_39&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5007.5407,-295.7598C5000.3158,-288.7997 4991.1318,-281.1957 4981.5,-276.4002 4911.9747,-241.7848 4885.9613,-258.7739 4810.5,-240.4002 4755.3237,-226.9656 4694.2945,-210.2194 4644.333,-196.0087"/>
<polygon fill="#000000" stroke="#000000" points="4645.0698,-192.5793 4634.4933,-193.2021 4643.1497,-199.3108 4645.0698,-192.5793"/>
</g>
<!-- leaf_48 -->
<g id="node49" class="node">
<title>leaf_48</title>
<polygon fill="none" stroke="#c0c0c0" points="5389,-201.1005 4820,-201.1005 4820,-130.6997 5389,-130.6997 5389,-201.1005"/>
<text text-anchor="middle" x="5104.5" y="-169.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">This will require reattunement of basically every class in the =/grym= folder,</text>
<text text-anchor="middle" x="5104.5" y="-154.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">but let&#39;s build the Prose parse first. &#160;I do want the whole shebang in a single</text>
<text text-anchor="middle" x="5104.5" y="-139.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">grammar eventually.</text>
</g>
<!-- prose_40&#45;&gt;leaf_48 -->
<g id="edge48" class="edge">
<title>prose_40&#45;&gt;leaf_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5104.5,-293.8795C5104.5,-273.3813 5104.5,-239.3158 5104.5,-211.4824"/>
<polygon fill="#000000" stroke="#000000" points="5108.0001,-211.1614 5104.5,-201.1615 5101.0001,-211.1615 5108.0001,-211.1614"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="5955.5,-208.5012 5407.5,-208.5012 5407.5,-123.2991 5955.5,-123.2991 5955.5,-208.5012"/>
<text text-anchor="middle" x="5681.5" y="-177.5002" font-family="Inconsolata" font-size="14.00" fill="#000000">The intention is to allow multiple grammars to coexist peacefully. Currently</text>
<text text-anchor="middle" x="5681.5" y="-162.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">the parser is handrolled and we have special case values for everything.</text>
<text text-anchor="middle" x="5681.5" y="-146.7001" font-family="Inconsolata" font-size="14.00" fill="#000000">The idea is to stabilize this, so that multi&#45;pass parsing works but in a</text>
<text text-anchor="middle" x="5681.5" y="-131.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">standard way where the Node constructor is a consistent interface. </text>
</g>
<!-- prose_41&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>prose_41&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5455.9457,-298.8681C5488.3507,-279.7648 5549.9068,-243.4765 5600.5357,-213.6299"/>
<polygon fill="#000000" stroke="#000000" points="5602.368,-216.6127 5609.2051,-208.5192 5598.8131,-210.5825 5602.368,-216.6127"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="6235,-185.8022 5974,-185.8022 5974,-145.998 6235,-145.998 6235,-185.8022"/>
<text text-anchor="middle" x="6104.5" y="-154.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">In the meantime we have things like</text>
</g>
<!-- prose_42&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>prose_42&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5834.9421,-300.8553C5865.8206,-287.0876 5919.3612,-262.8288 5964.5,-240.4002 5996.6211,-224.4398 6032.3049,-205.4308 6059.6074,-190.609"/>
<polygon fill="#000000" stroke="#000000" points="6061.418,-193.6084 6068.5279,-185.7535 6058.0715,-187.4602 6061.418,-193.6084"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="6780,-193.2005 6253,-193.2005 6253,-138.5997 6780,-138.5997 6780,-193.2005"/>
<text text-anchor="middle" x="6516.5" y="-162.1001" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines : &#160;If this exists, there&#39;s a collection of lines which need to be</text>
<text text-anchor="middle" x="6516.5" y="-146.7001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;joined with =\n= to reconstruct the actual span.</text>
</g>
<!-- prose_43&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>prose_43&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6228.3222,-300.5059C6275.5095,-278.4651 6379.6223,-229.8347 6448.9212,-197.4657"/>
<polygon fill="#000000" stroke="#000000" points="6450.4574,-200.6112 6458.0365,-193.208 6447.4949,-194.2689 6450.4574,-200.6112"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="7346.5,-209.2004 6798.5,-209.2004 6798.5,-122.5998 7346.5,-122.5998 7346.5,-209.2004"/>
<text text-anchor="middle" x="7072.5" y="-178.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;We want to do this the other way, and use the span itself for the</text>
<text text-anchor="middle" x="7072.5" y="-162.7001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;inner parse. </text>
</g>
<!-- prose_44&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>prose_44&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6705.5812,-302.0513C6754.5137,-283.8941 6860.5234,-244.5575 6946.0727,-212.813"/>
<polygon fill="#000000" stroke="#000000" points="6947.4457,-216.0368 6955.6034,-209.2765 6945.0104,-209.474 6947.4457,-216.0368"/>
</g>
</g>
</svg>