<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="1237pt" height="1469pt"
 viewBox="0.00 0.00 1236.94 1469.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1465.4022)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1465.4022 1232.9377,-1465.4022 1232.9377,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="espalier/node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="303.9377" cy="-1443.4022" rx="45.8507" ry="18"/>
<text text-anchor="middle" x="303.9377" y="-1439.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 111</text>
</g>
<!-- section_1 -->
<g id="node2" class="espalier/node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="303.9377" cy="-1371.4022" rx="64.2105" ry="18"/>
<text text-anchor="middle" x="303.9377" y="-1367.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;111</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M303.9377,-1425.2336C303.9377,-1417.5332 303.9377,-1408.3766 303.9377,-1399.8188"/>
<polygon fill="#000000" stroke="#000000" points="307.4378,-1399.8154 303.9377,-1389.8155 300.4378,-1399.8155 307.4378,-1399.8154"/>
</g>
<!-- header_2 -->
<g id="node3" class="espalier/node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="103.9377" cy="-1299.4022" rx="27" ry="18"/>
<text text-anchor="middle" x="103.9377" y="-1295.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">0 : </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M258.7502,-1358.462C225.448,-1348.4603 179.2932,-1333.6194 139.9377,-1317.4022 138.1449,-1316.6634 136.3177,-1315.8733 134.4847,-1315.0517"/>
<polygon fill="#000000" stroke="#000000" points="135.9413,-1311.8689 125.4033,-1310.7724 132.9574,-1318.2012 135.9413,-1311.8689"/>
</g>
<!-- prose_3 -->
<g id="node4" class="espalier/node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="180.9377" cy="-1299.4022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="180.9377" y="-1295.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M276.0271,-1355.0643C257.0586,-1343.9608 231.9406,-1329.2575 212.2838,-1317.7511"/>
<polygon fill="#000000" stroke="#000000" points="213.8,-1314.5831 203.4017,-1312.5519 210.2637,-1320.6243 213.8,-1314.5831"/>
</g>
<!-- codeblock_4 -->
<g id="node5" class="espalier/node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="303.9377" cy="-1299.4022" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="303.9377" y="-1295.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 2&#45;21</text>
</g>
<!-- section_1&#45;&gt;codeblock_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;codeblock_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M303.9377,-1353.2336C303.9377,-1345.5332 303.9377,-1336.3766 303.9377,-1327.8188"/>
<polygon fill="#000000" stroke="#000000" points="307.4378,-1327.8154 303.9377,-1317.8155 300.4378,-1327.8155 307.4378,-1327.8154"/>
</g>
<!-- codeblock_5 -->
<g id="node6" class="espalier/node">
<title>codeblock_5</title>
<ellipse fill="none" stroke="#000000" cx="546.9377" cy="-1299.4022" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="546.9377" y="-1295.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 25&#45;28</text>
</g>
<!-- section_1&#45;&gt;codeblock_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;codeblock_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M348.2251,-1358.28C387.7224,-1346.5771 445.8077,-1329.3667 488.9885,-1316.5724"/>
<polygon fill="#000000" stroke="#000000" points="490.1984,-1319.8643 498.7921,-1313.6676 488.2098,-1313.1528 490.1984,-1319.8643"/>
</g>
<!-- codeblock_6 -->
<g id="node7" class="espalier/node">
<title>codeblock_6</title>
<ellipse fill="none" stroke="#000000" cx="867.9377" cy="-1299.4022" rx="81.9542" ry="18"/>
<text text-anchor="middle" x="867.9377" y="-1295.2022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 31&#45;112</text>
</g>
<!-- section_1&#45;&gt;codeblock_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;codeblock_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M362.6995,-1363.9007C464.0321,-1350.9646 671.8162,-1324.439 786.8398,-1309.7551"/>
<polygon fill="#000000" stroke="#000000" points="787.5191,-1313.1969 796.9954,-1308.4587 786.6327,-1306.2533 787.5191,-1313.1969"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="espalier/node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="68.9377,-640.7011 14.9377,-640.7011 14.9377,-604.7011 68.9377,-604.7011 68.9377,-640.7011"/>
</g>
<!-- prose_3&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>prose_3&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M155.96,-1287.8949C127.0012,-1274.3129 82.6161,-1252.6558 77.9377,-1245.4022 -48.0928,-1049.9984 11.9703,-744.3015 34.6147,-650.8049"/>
<polygon fill="#000000" stroke="#000000" points="38.0465,-651.5072 37.0533,-640.959 31.2518,-649.8242 38.0465,-651.5072"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="espalier/node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="446.4377,-765.5017 87.4377,-765.5017 87.4377,-479.9005 446.4377,-479.9005 446.4377,-765.5017"/>
<text text-anchor="middle" x="266.9377" y="-750.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require( &quot;lpeg&quot; )</text>
<text text-anchor="middle" x="266.9377" y="-719.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">local assert = assert</text>
<text text-anchor="middle" x="266.9377" y="-703.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">local string, io = assert( string ), assert( io )</text>
<text text-anchor="middle" x="266.9377" y="-688.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">local V = string.sub( assert( _VERSION ), &#45;4 )</text>
<text text-anchor="middle" x="266.9377" y="-672.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">local _G = assert( _G )</text>
<text text-anchor="middle" x="266.9377" y="-657.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">local error = assert( error )</text>
<text text-anchor="middle" x="266.9377" y="-642.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">local pairs = assert( pairs )</text>
<text text-anchor="middle" x="266.9377" y="-626.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local next = assert( next )</text>
<text text-anchor="middle" x="266.9377" y="-611.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">local type = assert( type )</text>
<text text-anchor="middle" x="266.9377" y="-595.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">local tostring = assert( tostring )</text>
<text text-anchor="middle" x="266.9377" y="-580.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">local setmetatable = assert( setmetatable )</text>
<text text-anchor="middle" x="266.9377" y="-565.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local setfenv = setfenv</text>
<text text-anchor="middle" x="266.9377" y="-549.601" font-family="Inconsolata" font-size="14.00" fill="#000000">local getfenv = getfenv</text>
<text text-anchor="middle" x="266.9377" y="-534.201" font-family="Inconsolata" font-size="14.00" fill="#000000">if V == &quot; 5.1&quot; then</text>
<text text-anchor="middle" x="266.9377" y="-518.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert( setfenv )</text>
<text text-anchor="middle" x="266.9377" y="-503.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert( getfenv )</text>
<text text-anchor="middle" x="266.9377" y="-488.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>codeblock_4&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M302.9481,-1281.3021C299.072,-1210.4108 284.6758,-947.1161 275.3018,-775.674"/>
<polygon fill="#000000" stroke="#000000" points="278.7886,-775.334 274.7478,-765.5401 271.799,-775.7163 278.7886,-775.334"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="espalier/node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="704.9377,-642.0017 464.9377,-642.0017 464.9377,-603.4005 704.9377,-603.4005 704.9377,-642.0017"/>
<text text-anchor="middle" x="584.9377" y="-626.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;node/node&quot;</text>
<text text-anchor="middle" x="584.9377" y="-611.5011" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;util&quot;</text>
</g>
<!-- codeblock_5&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>codeblock_5&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M547.9542,-1281.3021C553.1509,-1188.7585 576.7599,-768.3314 583.2706,-652.3889"/>
<polygon fill="#000000" stroke="#000000" points="586.7799,-652.3209 583.8461,-642.1404 579.7909,-651.9284 586.7799,-652.3209"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="espalier/node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="1228.9377,-1245.6034 722.9377,-1245.6034 722.9377,.2012 1228.9377,.2012 1228.9377,-1245.6034"/>
<text text-anchor="middle" x="975.9377" y="-1214.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; module table</text>
<text text-anchor="middle" x="975.9377" y="-1198.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">local epnf = {}</text>
<text text-anchor="middle" x="975.9377" y="-1183.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;</text>
<text text-anchor="middle" x="975.9377" y="-1152.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local function make_ast_node( id, first, t, last, str, metas)</text>
<text text-anchor="middle" x="975.9377" y="-1136.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;t.first = first</text>
<text text-anchor="middle" x="975.9377" y="-1121.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;t.last &#160;= last</text>
<text text-anchor="middle" x="975.9377" y="-1105.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;t.str &#160;&#160;= str</text>
<text text-anchor="middle" x="975.9377" y="-1090.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if metas[id] then</text>
<text text-anchor="middle" x="975.9377" y="-1075.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;io.write(&quot;metatable detected: &quot; .. id .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="975.9377" y="-1059.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;t = metas[id](t, str)</text>
<text text-anchor="middle" x="975.9377" y="-1044.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(t.id == id)</text>
<text text-anchor="middle" x="975.9377" y="-1028.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="975.9377" y="-1013.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;t.id = id</text>
<text text-anchor="middle" x="975.9377" y="-998.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setmetatable(t, {__index = Node,</text>
<text text-anchor="middle" x="975.9377" y="-982.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;__tostring = Node.toString})</text>
<text text-anchor="middle" x="975.9377" y="-967.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;</text>
<text text-anchor="middle" x="975.9377" y="-951.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="975.9377" y="-936.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert(t.isNode)</text>
<text text-anchor="middle" x="975.9377" y="-921.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert(t.str)</text>
<text text-anchor="middle" x="975.9377" y="-905.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return t</text>
<text text-anchor="middle" x="975.9377" y="-890.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="975.9377" y="-842.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; some useful/common lpeg patterns</text>
<text text-anchor="middle" x="975.9377" y="-827.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local Cp = L.Cp</text>
<text text-anchor="middle" x="975.9377" y="-812.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">local Cc = L.Cc</text>
<text text-anchor="middle" x="975.9377" y="-796.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">local Ct = L.Ct</text>
<text text-anchor="middle" x="975.9377" y="-781.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">local arg1_str = L.Carg(1)</text>
<text text-anchor="middle" x="975.9377" y="-765.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">local arg2_metas = L.Carg(2)</text>
<text text-anchor="middle" x="975.9377" y="-718.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; setup an environment where you can easily define lpeg grammars</text>
<text text-anchor="middle" x="975.9377" y="-703.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; with lots of syntax sugar</text>
<text text-anchor="middle" x="975.9377" y="-687.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">function epnf.define(func, g, e)</text>
<text text-anchor="middle" x="975.9377" y="-672.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;g = g or {}</text>
<text text-anchor="middle" x="975.9377" y="-656.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if e == nil then</text>
<text text-anchor="middle" x="975.9377" y="-641.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;e = V == &quot; 5.1&quot; and getfenv(func) or _G</text>
<text text-anchor="middle" x="975.9377" y="-626.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="975.9377" y="-610.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local suppressed = {}</text>
<text text-anchor="middle" x="975.9377" y="-595.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local env = {}</text>
<text text-anchor="middle" x="975.9377" y="-579.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local env_index = {</text>
<text text-anchor="middle" x="975.9377" y="-564.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;START = function(name) g[1] = name end,</text>
<text text-anchor="middle" x="975.9377" y="-549.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;SUPPRESS = function(...)</text>
<text text-anchor="middle" x="975.9377" y="-533.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;suppressed = {}</text>
<text text-anchor="middle" x="975.9377" y="-518.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for i = 1, select(&#39;#&#39;, ...) do</text>
<text text-anchor="middle" x="975.9377" y="-502.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;suppressed[select(i, ... )] = true</text>
<text text-anchor="middle" x="975.9377" y="-487.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="975.9377" y="-472.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end,</text>
<text text-anchor="middle" x="975.9377" y="-456.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;}</text>
<text text-anchor="middle" x="975.9377" y="-425.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;setmetatable(env_index, { __index = e })</text>
<text text-anchor="middle" x="975.9377" y="-409.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;setmetatable(env, {</text>
<text text-anchor="middle" x="975.9377" y="-394.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;__index = env_index,</text>
<text text-anchor="middle" x="975.9377" y="-379.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;__newindex = function( _, name, val )</text>
<text text-anchor="middle" x="975.9377" y="-363.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if suppressed[ name ] then</text>
<text text-anchor="middle" x="975.9377" y="-348.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;g[ name ] = val</text>
<text text-anchor="middle" x="975.9377" y="-332.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="975.9377" y="-317.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;g[ name ] = (Cc(name) </text>
<text text-anchor="middle" x="975.9377" y="-302.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* Cp() </text>
<text text-anchor="middle" x="975.9377" y="-286.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* Ct(val)</text>
<text text-anchor="middle" x="975.9377" y="-271.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* Cp()</text>
<text text-anchor="middle" x="975.9377" y="-255.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* arg1_str</text>
<text text-anchor="middle" x="975.9377" y="-240.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* arg2_metas) / make_ast_node</text>
<text text-anchor="middle" x="975.9377" y="-225.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="975.9377" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="975.9377" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;})</text>
<text text-anchor="middle" x="975.9377" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; call passed function with custom environment (5.1&#45; and 5.2&#45;style)</text>
<text text-anchor="middle" x="975.9377" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if V == &quot; 5.1&quot; then</text>
<text text-anchor="middle" x="975.9377" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setfenv( func, env )</text>
<text text-anchor="middle" x="975.9377" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="975.9377" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;func( env )</text>
<text text-anchor="middle" x="975.9377" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert( g[ 1 ] and g[ g[ 1 ] ], &quot;no start rule defined&quot; )</text>
<text text-anchor="middle" x="975.9377" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return g</text>
<text text-anchor="middle" x="975.9377" y="-71.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="975.9377" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; return module table</text>
<text text-anchor="middle" x="975.9377" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return epnf</text>
</g>
<!-- codeblock_6&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>codeblock_6&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M870.8265,-1281.3021C871.9132,-1274.4929 873.2833,-1265.9085 874.8964,-1255.8009"/>
<polygon fill="#000000" stroke="#000000" points="878.3964,-1256.0784 876.5162,-1245.6517 871.4838,-1254.9751 878.3964,-1256.0784"/>
</g>
</g>
</svg>