<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="8321pt" height="1124pt"
 viewBox="0.00 0.00 8321.00 1123.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1119.6011)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1119.6011 8317,-1119.6011 8317,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="452" cy="-1097.6011" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="452" y="-1093.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 169</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="452" cy="-1025.6011" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="452" y="-1021.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;15</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M452,-1079.4324C452,-1071.732 452,-1062.5754 452,-1054.0177"/>
<polygon fill="#000000" stroke="#000000" points="455.5001,-1054.0143 452,-1044.0143 448.5001,-1054.0144 455.5001,-1054.0143"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="250" cy="-953.6011" rx="91.3932" ry="18"/>
<text text-anchor="middle" x="250" y="-949.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Grammar Module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M413.0524,-1011.7187C382.0334,-1000.6625 338.2653,-985.062 303.8845,-972.8074"/>
<polygon fill="#000000" stroke="#000000" points="305.0494,-969.507 294.4547,-969.4463 302.6991,-976.1007 305.0494,-969.507"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="391" cy="-953.6011" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="391" y="-949.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M436.9213,-1007.8033C429.3139,-998.824 419.9694,-987.7945 411.7003,-978.0342"/>
<polygon fill="#000000" stroke="#000000" points="414.2035,-975.5743 405.0688,-970.2069 408.8626,-980.0992 414.2035,-975.5743"/>
</g>
<!-- codeblock_4 -->
<g id="node5" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="514" cy="-953.6011" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="514" y="-949.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 4&#45;13</text>
</g>
<!-- section_1&#45;&gt;codeblock_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;codeblock_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M467.3258,-1007.8033C474.7779,-999.1493 483.8698,-988.591 492.0427,-979.0999"/>
<polygon fill="#000000" stroke="#000000" points="494.7625,-981.3052 498.6356,-971.4436 489.4581,-976.7375 494.7625,-981.3052"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="864" cy="-953.6011" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="864" y="-949.4011" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 16&#45;77</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M504.5986,-1016.4091C579.4916,-1003.321 716.792,-979.3267 798.2879,-965.0847"/>
<polygon fill="#000000" stroke="#000000" points="799.181,-968.4818 808.4292,-963.3125 797.9759,-961.5863 799.181,-968.4818"/>
</g>
<!-- leaf_6 -->
<g id="node7" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="365,-853.701 311,-853.701 311,-813.701 365,-813.701 365,-853.701"/>
</g>
<!-- prose_3&#45;&gt;leaf_6 -->
<g id="edge6" class="edge">
<title>prose_3&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M383.1797,-935.9094C374.7141,-916.7579 361.0737,-885.8998 350.9928,-863.0942"/>
<polygon fill="#000000" stroke="#000000" points="354.1601,-861.6022 346.9158,-853.8709 347.7577,-864.4323 354.1601,-861.6022"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="644.5,-899.5013 383.5,-899.5013 383.5,-767.9006 644.5,-767.9006 644.5,-899.5013"/>
<text text-anchor="middle" x="514" y="-884.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="514" y="-853.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;status&quot; </text>
<text text-anchor="middle" x="514" y="-837.601" font-family="Inconsolata" font-size="14.00" fill="#000000">if _VERSION == &quot;Lua 5.1&quot; then</text>
<text text-anchor="middle" x="514" y="-822.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local setfenv = assert( setfenv )</text>
<text text-anchor="middle" x="514" y="-806.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="514" y="-791.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local setfenv</text>
<text text-anchor="middle" x="514" y="-776.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>codeblock_4&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M514,-935.3908C514,-928.0976 514,-919.1682 514,-909.659"/>
<polygon fill="#000000" stroke="#000000" points="517.5001,-909.5837 514,-899.5838 510.5001,-909.5838 517.5001,-909.5837"/>
</g>
<!-- header_8 -->
<g id="node9" class="node">
<title>header_8</title>
<ellipse fill="none" stroke="#000000" cx="709" cy="-833.701" rx="46.4822" ry="18"/>
<text text-anchor="middle" x="709" y="-829.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : define</text>
</g>
<!-- section_5&#45;&gt;header_8 -->
<g id="edge8" class="edge">
<title>section_5&#45;&gt;header_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M828.6132,-938.2369C808.8039,-928.7038 784.2884,-915.2913 765,-899.6011 750.7642,-888.0209 737.3565,-872.4762 727.2314,-859.3925"/>
<polygon fill="#000000" stroke="#000000" points="729.8868,-857.1004 721.076,-851.2164 724.2944,-861.3106 729.8868,-857.1004"/>
</g>
<!-- prose_9 -->
<g id="node10" class="node">
<title>prose_9</title>
<ellipse fill="none" stroke="#000000" cx="806" cy="-833.701" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="806" y="-829.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_9 -->
<g id="edge9" class="edge">
<title>section_5&#45;&gt;prose_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M855.3168,-935.6508C845.6941,-915.7583 830.0738,-883.4674 818.9933,-860.5613"/>
<polygon fill="#000000" stroke="#000000" points="822.0586,-858.8605 814.5532,-851.3826 815.7572,-861.9088 822.0586,-858.8605"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="922" cy="-833.701" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="922" y="-829.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 22&#45;33</text>
</g>
<!-- section_5&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_5&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M872.6832,-935.6508C882.2506,-915.8726 897.7468,-883.8381 908.8152,-860.9572"/>
<polygon fill="#000000" stroke="#000000" points="912.0535,-862.3001 913.2575,-851.7739 905.752,-859.2519 912.0535,-862.3001"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="1999" cy="-833.701" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1999" y="-829.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 34&#45;77</text>
</g>
<!-- section_5&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_5&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M925.425,-947.1122C1119.565,-926.6035 1719.3575,-863.2421 1927.2079,-841.285"/>
<polygon fill="#000000" stroke="#000000" points="1927.8187,-844.74 1937.3957,-840.2088 1927.0833,-837.7788 1927.8187,-844.74"/>
</g>
<!-- section_12 -->
<g id="node13" class="node">
<title>section_12</title>
<ellipse fill="none" stroke="#000000" cx="6025" cy="-833.701" rx="70.655" ry="18"/>
<text text-anchor="middle" x="6025" y="-829.501" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 78&#45;169</text>
</g>
<!-- section_5&#45;&gt;section_12 -->
<g id="edge12" class="edge">
<title>section_5&#45;&gt;section_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M929.7236,-952.0742C1481.4528,-939.2564 5335.6027,-849.717 5944.1675,-835.5788"/>
<polygon fill="#000000" stroke="#000000" points="5944.6724,-839.0682 5954.5884,-835.3368 5944.5098,-832.07 5944.6724,-839.0682"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="654,-731.7011 134,-731.7011 134,-645.1005 654,-645.1005 654,-731.7011"/>
<text text-anchor="middle" x="394" y="-684.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;This is going to be a chopped&#45;and&#45;screwed version of epnf. &#160;Now that I</text>
<text text-anchor="middle" x="394" y="-669.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">actually understand what it does.</text>
</g>
<!-- prose_9&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>prose_9&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M799.3518,-816.0348C792.718,-800.8729 781.0449,-779.6476 764,-767.8008 751.582,-759.1699 700.2338,-746.4764 639.5655,-733.759"/>
<polygon fill="#000000" stroke="#000000" points="640.2563,-730.3279 629.7532,-731.7184 638.831,-737.1813 640.2563,-730.3279"/>
</g>
<!-- header_14 -->
<g id="node15" class="node">
<title>header_14</title>
<ellipse fill="none" stroke="#000000" cx="731" cy="-688.4008" rx="58.5359" ry="18"/>
<text text-anchor="middle" x="731" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : problems</text>
</g>
<!-- section_10&#45;&gt;header_14 -->
<g id="edge14" class="edge">
<title>section_10&#45;&gt;header_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M903.4265,-816.2559C888.5671,-802.5789 866.983,-783.328 847,-767.8008 820.5136,-747.2204 789.0313,-725.8521 765.552,-710.4741"/>
<polygon fill="#000000" stroke="#000000" points="767.2623,-707.4111 756.9723,-704.8877 763.4427,-713.2773 767.2623,-707.4111"/>
</g>
<!-- prose_15 -->
<g id="node16" class="node">
<title>prose_15</title>
<ellipse fill="none" stroke="#000000" cx="840" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="840" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_15 -->
<g id="edge15" class="edge">
<title>section_10&#45;&gt;prose_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M911.9452,-815.8843C897.6669,-790.5839 871.4178,-744.0717 854.8812,-714.7696"/>
<polygon fill="#000000" stroke="#000000" points="857.8439,-712.898 849.8809,-705.9093 851.7477,-716.3384 857.8439,-712.898"/>
</g>
<!-- prose_16 -->
<g id="node17" class="node">
<title>prose_16</title>
<ellipse fill="none" stroke="#000000" cx="922" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="922" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_16 -->
<g id="edge16" class="edge">
<title>section_10&#45;&gt;prose_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M922,-815.5924C922,-790.7944 922,-746.0171 922,-716.7519"/>
<polygon fill="#000000" stroke="#000000" points="925.5001,-716.7376 922,-706.7376 918.5001,-716.7376 925.5001,-716.7376"/>
</g>
<!-- prose_17 -->
<g id="node18" class="node">
<title>prose_17</title>
<ellipse fill="none" stroke="#000000" cx="1004" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1004" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_17 -->
<g id="edge17" class="edge">
<title>section_10&#45;&gt;prose_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M932.0548,-815.8843C946.3331,-790.5839 972.5822,-744.0717 989.1188,-714.7696"/>
<polygon fill="#000000" stroke="#000000" points="992.2523,-716.3384 994.1191,-705.9093 986.1561,-712.898 992.2523,-716.3384"/>
</g>
<!-- header_21 -->
<g id="node22" class="node">
<title>header_21</title>
<ellipse fill="none" stroke="#000000" cx="1707" cy="-688.4008" rx="77.8797" ry="18"/>
<text text-anchor="middle" x="1707" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : makeAstNode</text>
</g>
<!-- section_11&#45;&gt;header_21 -->
<g id="edge21" class="edge">
<title>section_11&#45;&gt;header_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1967.0353,-817.8297C1926.6986,-797.7975 1855.1936,-762.2729 1794,-731.8008 1779.3744,-724.5179 1763.3708,-716.5376 1749.1222,-709.4286"/>
<polygon fill="#000000" stroke="#000000" points="1750.555,-706.232 1740.0444,-704.8988 1747.4295,-712.4956 1750.555,-706.232"/>
</g>
<!-- prose_22 -->
<g id="node23" class="node">
<title>prose_22</title>
<ellipse fill="none" stroke="#000000" cx="1835" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1835" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_22 -->
<g id="edge22" class="edge">
<title>section_11&#45;&gt;prose_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1976.5377,-816.4429C1951.3374,-796.7763 1909.5921,-763.2738 1876,-731.8008 1869.3673,-725.5865 1862.468,-718.5374 1856.2629,-711.9545"/>
<polygon fill="#000000" stroke="#000000" points="1858.7256,-709.4631 1849.3552,-704.5188 1853.5972,-714.2274 1858.7256,-709.4631"/>
</g>
<!-- prose_23 -->
<g id="node24" class="node">
<title>prose_23</title>
<ellipse fill="none" stroke="#000000" cx="1917" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1917" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_23 -->
<g id="edge23" class="edge">
<title>section_11&#45;&gt;prose_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1988.9452,-815.8843C1974.6669,-790.5839 1948.4178,-744.0717 1931.8812,-714.7696"/>
<polygon fill="#000000" stroke="#000000" points="1934.8439,-712.898 1926.8809,-705.9093 1928.7477,-716.3384 1934.8439,-712.898"/>
</g>
<!-- prose_24 -->
<g id="node25" class="node">
<title>prose_24</title>
<ellipse fill="none" stroke="#000000" cx="1999" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1999" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_24 -->
<g id="edge24" class="edge">
<title>section_11&#45;&gt;prose_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1999,-815.5924C1999,-790.7944 1999,-746.0171 1999,-716.7519"/>
<polygon fill="#000000" stroke="#000000" points="2002.5001,-716.7376 1999,-706.7376 1995.5001,-716.7376 2002.5001,-716.7376"/>
</g>
<!-- prose_25 -->
<g id="node26" class="node">
<title>prose_25</title>
<ellipse fill="none" stroke="#000000" cx="2144" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2144" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_25 -->
<g id="edge25" class="edge">
<title>section_11&#45;&gt;prose_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2016.4904,-816.1744C2042.627,-789.9836 2091.9026,-740.606 2120.9491,-711.4994"/>
<polygon fill="#000000" stroke="#000000" points="2123.6342,-713.7637 2128.2205,-704.213 2118.6793,-708.8191 2123.6342,-713.7637"/>
</g>
<!-- prose_26 -->
<g id="node27" class="node">
<title>prose_26</title>
<ellipse fill="none" stroke="#000000" cx="2522" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2522" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_26 -->
<g id="edge26" class="edge">
<title>section_11&#45;&gt;prose_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2045.4128,-820.8065C2147.3226,-792.4939 2389.0677,-725.3321 2483.3771,-699.1311"/>
<polygon fill="#000000" stroke="#000000" points="2484.3869,-702.4832 2493.085,-696.434 2482.5131,-695.7386 2484.3869,-702.4832"/>
</g>
<!-- prose_27 -->
<g id="node28" class="node">
<title>prose_27</title>
<ellipse fill="none" stroke="#000000" cx="2963" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2963" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_27 -->
<g id="edge27" class="edge">
<title>section_11&#45;&gt;prose_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2056.7731,-824.993C2234.2671,-798.24 2768.8563,-717.6634 2921.7452,-694.619"/>
<polygon fill="#000000" stroke="#000000" points="2922.3039,-698.0744 2931.6705,-693.123 2921.2605,-691.1526 2922.3039,-698.0744"/>
</g>
<!-- codeblock_28 -->
<g id="node29" class="node">
<title>codeblock_28</title>
<ellipse fill="none" stroke="#000000" cx="3430" cy="-688.4008" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3430" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 58&#45;75</text>
</g>
<!-- section_11&#45;&gt;codeblock_28 -->
<g id="edge28" class="edge">
<title>section_11&#45;&gt;codeblock_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2060.7563,-827.4497C2218.0795,-811.5225 2646.7626,-768.1089 3004,-731.8008 3123.9324,-719.6114 3262.8529,-705.4507 3348.5852,-696.7069"/>
<polygon fill="#000000" stroke="#000000" points="3349.1786,-700.1646 3358.7719,-695.6679 3348.4683,-693.2008 3349.1786,-700.1646"/>
</g>
<!-- header_36 -->
<g id="node37" class="node">
<title>header_36</title>
<ellipse fill="none" stroke="#000000" cx="5362" cy="-688.4008" rx="76.9365" ry="18"/>
<text text-anchor="middle" x="5362" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : define, proper</text>
</g>
<!-- section_12&#45;&gt;header_36 -->
<g id="edge36" class="edge">
<title>section_12&#45;&gt;header_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5957.6776,-828.2393C5848.3793,-817.9598 5626.5715,-791.1919 5448,-731.8008 5431.3099,-726.2499 5413.8183,-717.9349 5399.0007,-710.0638"/>
<polygon fill="#000000" stroke="#000000" points="5400.608,-706.9538 5390.1512,-705.249 5397.2625,-713.1027 5400.608,-706.9538"/>
</g>
<!-- prose_37 -->
<g id="node38" class="node">
<title>prose_37</title>
<ellipse fill="none" stroke="#000000" cx="5489" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5489" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_12&#45;&gt;prose_37 -->
<g id="edge37" class="edge">
<title>section_12&#45;&gt;prose_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5962.0778,-825.4344C5846.3381,-809.4641 5604.7661,-772.3495 5531,-731.8008 5522.3628,-727.053 5514.4058,-719.9404 5507.794,-712.8398"/>
<polygon fill="#000000" stroke="#000000" points="5510.3886,-710.4897 5501.179,-705.252 5505.1122,-715.0897 5510.3886,-710.4897"/>
</g>
<!-- codeblock_38 -->
<g id="node39" class="node">
<title>codeblock_38</title>
<ellipse fill="none" stroke="#000000" cx="5617" cy="-688.4008" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="5617" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 88&#45;90</text>
</g>
<!-- section_12&#45;&gt;codeblock_38 -->
<g id="edge38" class="edge">
<title>section_12&#45;&gt;codeblock_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5976.0422,-820.7207C5912.3685,-803.261 5798.1524,-769.9596 5704,-731.8008 5688.2162,-725.4039 5671.3595,-717.3076 5656.7276,-709.8452"/>
<polygon fill="#000000" stroke="#000000" points="5657.9576,-706.5411 5647.4672,-705.0571 5654.7425,-712.7591 5657.9576,-706.5411"/>
</g>
<!-- prose_39 -->
<g id="node40" class="node">
<title>prose_39</title>
<ellipse fill="none" stroke="#000000" cx="5745" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5745" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_12&#45;&gt;prose_39 -->
<g id="edge39" class="edge">
<title>section_12&#45;&gt;prose_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5978.1033,-820.0611C5927.7142,-804.0113 5846.7006,-774.0834 5786,-731.8008 5778.4197,-726.5206 5771.1481,-719.6567 5764.889,-712.9517"/>
<polygon fill="#000000" stroke="#000000" points="5767.3089,-710.4059 5758.0487,-705.2581 5762.0776,-715.0571 5767.3089,-710.4059"/>
</g>
<!-- prose_40 -->
<g id="node41" class="node">
<title>prose_40</title>
<ellipse fill="none" stroke="#000000" cx="5827" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5827" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_12&#45;&gt;prose_40 -->
<g id="edge40" class="edge">
<title>section_12&#45;&gt;prose_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5995.2025,-817.2391C5962.5034,-798.5355 5909.1883,-766.1264 5868,-731.8008 5861.0178,-725.982 5854.0084,-719.0574 5847.8097,-712.4673"/>
<polygon fill="#000000" stroke="#000000" points="5850.2865,-709.9894 5840.9555,-704.9711 5845.1204,-714.7129 5850.2865,-709.9894"/>
</g>
<!-- codeblock_41 -->
<g id="node42" class="node">
<title>codeblock_41</title>
<ellipse fill="none" stroke="#000000" cx="5959" cy="-688.4008" rx="81.9542" ry="18"/>
<text text-anchor="middle" x="5959" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 98&#45;113</text>
</g>
<!-- section_12&#45;&gt;codeblock_41 -->
<g id="edge41" class="edge">
<title>section_12&#45;&gt;codeblock_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6016.7745,-815.5924C6005.4117,-790.5769 5984.8137,-745.23 5971.5298,-715.9854"/>
<polygon fill="#000000" stroke="#000000" points="5974.6515,-714.3948 5967.3292,-706.7376 5968.2782,-717.2899 5974.6515,-714.3948"/>
</g>
<!-- prose_42 -->
<g id="node43" class="node">
<title>prose_42</title>
<ellipse fill="none" stroke="#000000" cx="6091" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6091" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_12&#45;&gt;prose_42 -->
<g id="edge42" class="edge">
<title>section_12&#45;&gt;prose_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6033.2255,-815.5924C6044.6504,-790.4402 6065.4117,-744.7338 6078.6873,-715.5074"/>
<polygon fill="#000000" stroke="#000000" points="6081.9291,-716.8334 6082.8782,-706.2812 6075.5558,-713.9384 6081.9291,-716.8334"/>
</g>
<!-- prose_43 -->
<g id="node44" class="node">
<title>prose_43</title>
<ellipse fill="none" stroke="#000000" cx="6308" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6308" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_12&#45;&gt;prose_43 -->
<g id="edge43" class="edge">
<title>section_12&#45;&gt;prose_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6056.6399,-817.4561C6110.6331,-789.7345 6220.0416,-733.5611 6274.9698,-705.3594"/>
<polygon fill="#000000" stroke="#000000" points="6276.6372,-708.4378 6283.9346,-700.7567 6273.4399,-702.2106 6276.6372,-708.4378"/>
</g>
<!-- prose_44 -->
<g id="node45" class="node">
<title>prose_44</title>
<ellipse fill="none" stroke="#000000" cx="6635" cy="-688.4008" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6635" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_12&#45;&gt;prose_44 -->
<g id="edge44" class="edge">
<title>section_12&#45;&gt;prose_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6076.7451,-821.3754C6196.0412,-792.9595 6488.3108,-723.3417 6595.0973,-697.9055"/>
<polygon fill="#000000" stroke="#000000" points="6596.2181,-701.2365 6605.1349,-695.5146 6594.5961,-694.427 6596.2181,-701.2365"/>
</g>
<!-- block_45 -->
<g id="node46" class="node">
<title>block_45</title>
<ellipse fill="none" stroke="#000000" cx="6947" cy="-688.4008" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="6947" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 122&#45;122</text>
</g>
<!-- section_12&#45;&gt;block_45 -->
<g id="edge45" class="edge">
<title>section_12&#45;&gt;block_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6085.5929,-824.2895C6200.6714,-806.3991 6458.7778,-766.1953 6676,-731.8008 6745.6685,-720.7697 6825.3833,-707.9838 6880.229,-699.1613"/>
<polygon fill="#000000" stroke="#000000" points="6880.8554,-702.6056 6890.1724,-697.5614 6879.7434,-695.6945 6880.8554,-702.6056"/>
</g>
<!-- codeblock_46 -->
<g id="node47" class="node">
<title>codeblock_46</title>
<ellipse fill="none" stroke="#000000" cx="7289" cy="-688.4008" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7289" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 123&#45;149</text>
</g>
<!-- section_12&#45;&gt;codeblock_46 -->
<g id="edge46" class="edge">
<title>section_12&#45;&gt;codeblock_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6092.2608,-828.213C6253.2165,-814.7781 6673.1391,-777.9407 7022,-731.8008 7086.6232,-723.2539 7159.6625,-711.2163 7212.9932,-701.9861"/>
<polygon fill="#000000" stroke="#000000" points="7213.7984,-705.3987 7223.0514,-700.2382 7212.5998,-698.5021 7213.7984,-705.3987"/>
</g>
<!-- codeblock_47 -->
<g id="node48" class="node">
<title>codeblock_47</title>
<ellipse fill="none" stroke="#000000" cx="7726" cy="-688.4008" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7726" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 151&#45;165</text>
</g>
<!-- section_12&#45;&gt;codeblock_47 -->
<g id="edge47" class="edge">
<title>section_12&#45;&gt;codeblock_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6094.1043,-829.7923C6294.1906,-818.2019 6891.1786,-781.6922 7385,-731.8008 7473.7101,-722.8384 7575.0193,-709.5552 7644.0078,-700.0471"/>
<polygon fill="#000000" stroke="#000000" points="7644.5204,-703.5096 7653.9466,-698.6726 7643.5613,-696.5756 7644.5204,-703.5096"/>
</g>
<!-- codeblock_48 -->
<g id="node49" class="node">
<title>codeblock_48</title>
<ellipse fill="none" stroke="#000000" cx="8094" cy="-688.4008" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8094" y="-684.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 167&#45;169</text>
</g>
<!-- section_12&#45;&gt;codeblock_48 -->
<g id="edge48" class="edge">
<title>section_12&#45;&gt;codeblock_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6095.4264,-832.2784C6336.7683,-826.8563 7152.4874,-804.008 7822,-731.8008 7889.1371,-724.5601 7964.9689,-712.1021 8019.4755,-702.3858"/>
<polygon fill="#000000" stroke="#000000" points="8020.1734,-705.8166 8029.398,-700.6053 8018.937,-698.9266 8020.1734,-705.8166"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="226,-440.4019 0,-440.4019 0,-384.5989 226,-384.5989 226,-440.4019"/>
<text text-anchor="middle" x="113" y="-393.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; We&#39;re gathering stuff twice.</text>
</g>
<!-- prose_15&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>prose_15&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M828.8455,-671.3697C821.5806,-661.8277 811.1984,-650.7254 799,-645.0008 685.3088,-591.6458 342.7531,-673.5121 235,-609.0008 175.4595,-573.3541 140.709,-496.2853 124.4124,-449.9657"/>
<polygon fill="#000000" stroke="#000000" points="127.6563,-448.6335 121.1207,-440.2947 121.0296,-450.8891 127.6563,-448.6335"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="715.5,-447.7008 244.5,-447.7008 244.5,-377.3 715.5,-377.3 715.5,-447.7008"/>
<text text-anchor="middle" x="480" y="-416.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; &#160;The pattern of passing the string around is a good one.</text>
<text text-anchor="middle" x="480" y="-401.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;doing a match&#45;time capture is therefore not necessary, we </text>
<text text-anchor="middle" x="480" y="-385.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;should slice the value off the string. </text>
</g>
<!-- prose_16&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>prose_16&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M910.1373,-671.6418C902.7664,-662.4387 892.5164,-651.5887 881,-645.0008 818.8603,-609.4537 788.409,-640.2484 724,-609.0008 643.5747,-569.9829 565.8483,-500.0746 520.5033,-455.0202"/>
<polygon fill="#000000" stroke="#000000" points="522.777,-452.3437 513.2364,-447.7364 517.8215,-457.2877 522.777,-452.3437"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1274.5,-447.7008 733.5,-447.7008 733.5,-377.3 1274.5,-377.3 1274.5,-447.7008"/>
<text text-anchor="middle" x="1004" y="-416.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45; &#160;This means we need to pass in an optional offset, in case we&#39;re</text>
<text text-anchor="middle" x="1004" y="-401.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;working on a substring. &#160;I need the Grammar class to be sufficiently</text>
<text text-anchor="middle" x="1004" y="-385.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;general for my own purposes, and the Prose class needs the offset.</text>
</g>
<!-- prose_17&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>prose_17&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1004,-670.2982C1004,-627.6871 1004,-519.9972 1004,-458.1214"/>
<polygon fill="#000000" stroke="#000000" points="1007.5001,-457.864 1004,-447.8641 1000.5001,-457.8641 1007.5001,-457.864"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1491,-440.4019 1293,-440.4019 1293,-384.5989 1491,-384.5989 1491,-440.4019"/>
<text text-anchor="middle" x="1392" y="-393.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Takes a bunch of params:</text>
</g>
<!-- prose_22&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>prose_22&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1823.3814,-671.1881C1816.0919,-661.8339 1805.8419,-650.9838 1794,-645.0008 1676.5028,-585.6359 1609.0163,-682.7925 1500,-609.0008 1444.7047,-571.5721 1415.0229,-496.0834 1401.4553,-450.3405"/>
<polygon fill="#000000" stroke="#000000" points="1404.7577,-449.1583 1398.6493,-440.5016 1398.0261,-451.0781 1404.7577,-449.1583"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="1868.5,-478.9012 1509.5,-478.9012 1509.5,-346.0996 1868.5,-346.0996 1868.5,-478.9012"/>
<text text-anchor="middle" x="1689" y="-447.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; id : &#160;Name of the rule</text>
<text text-anchor="middle" x="1689" y="-432.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; first : &#160;First position</text>
<text text-anchor="middle" x="1689" y="-416.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; t &#160;&#160;&#160;&#160;: &#160;Table, which may contain other Nodes</text>
<text text-anchor="middle" x="1689" y="-401.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; last &#160;: &#160;Last position</text>
<text text-anchor="middle" x="1689" y="-385.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; metatables : &#160;The metatable collection</text>
<text text-anchor="middle" x="1689" y="-370.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; str &#160;&#160;: &#160;The string we&#39;re parsing</text>
</g>
<!-- prose_23&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>prose_23&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1903.4204,-671.9682C1874.001,-636.3682 1802.8194,-550.2321 1750.5059,-486.928"/>
<polygon fill="#000000" stroke="#000000" points="1752.97,-484.4155 1743.9018,-478.9365 1747.5741,-488.8746 1752.97,-484.4155"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1987,-432.4025 1887,-432.4025 1887,-392.5983 1987,-392.5983 1987,-432.4025"/>
<text text-anchor="middle" x="1937" y="-401.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; [ ] #Todo</text>
</g>
<!-- prose_24&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>prose_24&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1994.932,-670.2982C1984.483,-623.8002 1956.62,-499.8094 1943.7228,-442.4168"/>
<polygon fill="#000000" stroke="#000000" points="1947.1037,-441.4983 1941.4963,-432.509 1940.2741,-443.0331 1947.1037,-441.4983"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2532.5,-447.7008 2005.5,-447.7008 2005.5,-377.3 2532.5,-377.3 2532.5,-447.7008"/>
<text text-anchor="middle" x="2269" y="-416.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; [ ] &#160;Impose an intermediate Root metatable. &#160;Where should this be </text>
<text text-anchor="middle" x="2269" y="-401.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;done? &#160;Ideally these are added directly to the Node subclasses,</text>
<text text-anchor="middle" x="2269" y="-385.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;before the parse, then removed when the parse completes.</text>
</g>
<!-- prose_25&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>prose_25&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2152.0095,-670.7223C2171.2807,-628.1867 2220.7121,-519.0817 2248.7659,-457.1611"/>
<polygon fill="#000000" stroke="#000000" points="2251.9715,-458.5667 2252.9103,-448.0135 2245.5954,-455.6779 2251.9715,-458.5667"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="3085,-447.7008 2551,-447.7008 2551,-377.3 3085,-377.3 3085,-447.7008"/>
<text text-anchor="middle" x="2818" y="-416.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45; &#160;The easier way is to pass in a new Root and stick it on during</text>
<text text-anchor="middle" x="2818" y="-401.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;makeAstNode. &#160;This is unacceptably wasteful in a systems tool, but</text>
<text text-anchor="middle" x="2818" y="-385.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;is also an optimization, so let&#39;s start with the clearer approach.</text>
</g>
<!-- prose_26&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>prose_26&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2538.7623,-672.7767C2583.2757,-631.286 2705.6159,-517.2532 2772.6361,-454.7839"/>
<polygon fill="#000000" stroke="#000000" points="2775.2021,-457.1769 2780.1307,-447.7982 2770.4292,-452.0563 2775.2021,-457.1769"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="3539,-432.4025 3103,-432.4025 3103,-392.5983 3539,-392.5983 3539,-432.4025"/>
<text text-anchor="middle" x="3321" y="-401.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; [ ] &#160;Handle string captures as well as table captures. </text>
</g>
<!-- prose_27&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>prose_27&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2986.4709,-675.7606C3013.2856,-660.9629 3058.0924,-635.1376 3094,-609.0008 3169.9739,-553.7 3251.5176,-478.8381 3293.1094,-439.3904"/>
<polygon fill="#000000" stroke="#000000" points="3295.5708,-441.8796 3300.4003,-432.4494 3290.7442,-436.8096 3295.5708,-441.8796"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="3979,-540.1011 3557,-540.1011 3557,-284.8996 3979,-284.8996 3979,-540.1011"/>
<text text-anchor="middle" x="3768" y="-525.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">local function makeAstNode(id, first, t, last, metatables)</text>
<text text-anchor="middle" x="3768" y="-509.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;t.first = first</text>
<text text-anchor="middle" x="3768" y="-494.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;t.last &#160;= last</text>
<text text-anchor="middle" x="3768" y="-478.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if metatables[id] then</text>
<text text-anchor="middle" x="3768" y="-463.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;t = metatables[id](t)</text>
<text text-anchor="middle" x="3768" y="-432.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="3768" y="-416.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setmetatable(t, Node)</text>
<text text-anchor="middle" x="3768" y="-401.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;t.id = id</text>
<text text-anchor="middle" x="3768" y="-385.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3768" y="-370.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return t </text>
<text text-anchor="middle" x="3768" y="-355.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3768" y="-323.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function anonNode (t) </text>
<text text-anchor="middle" x="3768" y="-308.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return unpack(t)</text>
<text text-anchor="middle" x="3768" y="-292.9002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_28&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>codeblock_28&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3457.4481,-671.4423C3481.8477,-656.0168 3518.1704,-632.1835 3548,-609.0008 3572.9186,-589.6348 3598.5887,-568.2058 3623.2045,-546.8292"/>
<polygon fill="#000000" stroke="#000000" points="3625.5712,-549.4092 3630.808,-540.1991 3620.9707,-544.1333 3625.5712,-549.4092"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="4524.5,-455.7007 3997.5,-455.7007 3997.5,-369.3001 4524.5,-369.3001 4524.5,-455.7007"/>
<text text-anchor="middle" x="4261" y="-408.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;I&#39;m going to slice this into pieces in the Orb document, because a) it </text>
<text text-anchor="middle" x="4261" y="-393.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">needs documentation and b) we&#39;re going to be customizing it, finally, to</text>
<text text-anchor="middle" x="4261" y="-377.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">suit our own needs. </text>
</g>
<!-- prose_37&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>prose_37&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5477.8957,-671.2612C5470.6485,-661.6807 5460.2673,-650.5761 5448,-645.0008 5262.7446,-560.8054 4725.3472,-675.4162 4533,-609.0008 4445.5305,-578.7985 4361.8866,-510.4223 4310.9974,-462.8734"/>
<polygon fill="#000000" stroke="#000000" points="4313.0975,-460.0427 4303.4231,-455.7233 4308.2923,-465.133 4313.0975,-460.0427"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="4817.5,-430.5004 4542.5,-430.5004 4542.5,-394.5004 4817.5,-394.5004 4817.5,-430.5004"/>
<text text-anchor="middle" x="4680" y="-409.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function define(func, metas, g)</text>
</g>
<!-- codeblock_38&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>codeblock_38&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5590.3254,-671.4827C5573.6661,-661.8529 5551.3859,-650.62 5530,-645.0008 5378.7085,-605.2483 4965.0323,-682.5975 4827,-609.0008 4756.9233,-571.637 4710.9607,-484.5044 4691.1488,-439.8893"/>
<polygon fill="#000000" stroke="#000000" points="4694.2856,-438.3249 4687.1033,-430.5361 4687.8608,-441.1038 4694.2856,-438.3249"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="5076,-432.4025 4836,-432.4025 4836,-392.5983 5076,-392.5983 5076,-432.4025"/>
<text text-anchor="middle" x="4956" y="-401.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">First step is set up our =_ENV=.</text>
</g>
<!-- prose_39&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>prose_39&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5733.4965,-671.3388C5726.0271,-661.7859 5715.39,-650.6829 5703,-645.0008 5577.9564,-587.6549 5204.1061,-677.8353 5085,-609.0008 5020.1241,-571.5073 4981.9495,-486.7113 4965.5481,-441.755"/>
<polygon fill="#000000" stroke="#000000" points="4968.8303,-440.5385 4962.1982,-432.2762 4962.2304,-442.871 4968.8303,-440.5385"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="5593.5,-439.8008 5094.5,-439.8008 5094.5,-385.2 5593.5,-385.2 5593.5,-439.8008"/>
<text text-anchor="middle" x="5344" y="-408.7004" font-family="Inconsolata" font-size="14.00" fill="#000000">In a way this is an elaborate workaround for Lua&#39;s global&#45;by&#45;default </text>
<text text-anchor="middle" x="5344" y="-393.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">antipattern, which we aim to eliminate with Lun.</text>
</g>
<!-- prose_40&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>prose_40&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5815.2157,-671.5021C5807.8709,-662.2525 5797.6209,-651.4025 5786,-645.0008 5713.0136,-604.794 5678.0161,-643.1352 5602,-609.0008 5512.2328,-568.6915 5424.7857,-491.8363 5378.3292,-447.1219"/>
<polygon fill="#000000" stroke="#000000" points="5380.5709,-444.42 5370.9583,-439.9648 5375.6945,-449.4421 5380.5709,-444.42"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="5956.5,-516.7009 5611.5,-516.7009 5611.5,-308.2999 5956.5,-308.2999 5956.5,-516.7009"/>
<text text-anchor="middle" x="5784" y="-501.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;g = g or {}</text>
<text text-anchor="middle" x="5784" y="-486.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local suppressed = {}</text>
<text text-anchor="middle" x="5784" y="-470.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local env = {}</text>
<text text-anchor="middle" x="5784" y="-455.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local node_mts = metas or {}</text>
<text text-anchor="middle" x="5784" y="-439.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local env_index = {</text>
<text text-anchor="middle" x="5784" y="-424.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;START = function( name ) g[ 1 ] = name end,</text>
<text text-anchor="middle" x="5784" y="-409.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;SUPPRESS = function( ... )</text>
<text text-anchor="middle" x="5784" y="-393.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;suppressed = {}</text>
<text text-anchor="middle" x="5784" y="-378.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for i = 1, select( &#39;#&#39;, ... ) do</text>
<text text-anchor="middle" x="5784" y="-362.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;suppressed[ select( i, ... ) ] = true</text>
<text text-anchor="middle" x="5784" y="-347.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5784" y="-332.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end,</text>
<text text-anchor="middle" x="5784" y="-316.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;}</text>
</g>
<!-- codeblock_41&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>codeblock_41&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5947.5178,-670.2982C5928.8594,-640.882 5890.529,-580.4512 5855.6672,-525.489"/>
<polygon fill="#000000" stroke="#000000" points="5858.4173,-523.2903 5850.1054,-516.7205 5852.5061,-527.0398 5858.4173,-523.2903"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="6207.5,-432.4025 5974.5,-432.4025 5974.5,-392.5983 6207.5,-392.5983 6207.5,-432.4025"/>
<text text-anchor="middle" x="6091" y="-401.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">Here&#39;s where the magic happens.</text>
</g>
<!-- prose_42&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>prose_42&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6091,-670.2982C6091,-623.8967 6091,-500.3236 6091,-442.7749"/>
<polygon fill="#000000" stroke="#000000" points="6094.5001,-442.509 6091,-432.509 6087.5001,-442.5091 6094.5001,-442.509"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="6662,-439.8008 6226,-439.8008 6226,-385.2 6662,-385.2 6662,-439.8008"/>
<text text-anchor="middle" x="6444" y="-408.7004" font-family="Inconsolata" font-size="14.00" fill="#000000">The __newindex method takes any new assignment in global, so</text>
<text text-anchor="middle" x="6444" y="-393.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">any grammar rules, and applies a consistent capture to them.</text>
</g>
<!-- prose_43&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>prose_43&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6316.7143,-670.7223C6338.64,-626.242 6396.4492,-508.9658 6426.0206,-448.9747"/>
<polygon fill="#000000" stroke="#000000" points="6429.2323,-450.3753 6430.5144,-439.8583 6422.9537,-447.2803 6429.2323,-450.3753"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="7081.5,-432.4025 6680.5,-432.4025 6680.5,-392.5983 7081.5,-392.5983 7081.5,-432.4025"/>
<text text-anchor="middle" x="6881" y="-401.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">Now we get to figure out what that capture wants to be!</text>
</g>
<!-- prose_44&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>prose_44&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6649.6517,-671.9682C6690.4518,-626.2091 6805.6974,-496.9558 6856.4663,-440.0161"/>
<polygon fill="#000000" stroke="#000000" points="6859.145,-442.271 6863.1876,-432.4778 6853.9202,-437.6125 6859.145,-442.271"/>
</g>
<!-- structure_57 -->
<g id="node58" class="node">
<title>structure_57</title>
<ellipse fill="none" stroke="#000000" cx="7144" cy="-412.5004" rx="44.5182" ry="18"/>
<text text-anchor="middle" x="7144" y="-408.3004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">structure</text>
</g>
<!-- block_45&#45;&gt;structure_57 -->
<g id="edge57" class="edge">
<title>block_45&#45;&gt;structure_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6990.3223,-674.6955C7022.3533,-662.4021 7064.6459,-641.2635 7090,-609.0008 7129.4325,-558.8235 7140.1056,-481.799 7142.9704,-440.673"/>
<polygon fill="#000000" stroke="#000000" points="7146.4723,-440.741 7143.5662,-430.5525 7139.4844,-440.3295 7146.4723,-440.741"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="7713,-609.0012 7207,-609.0012 7207,-215.9996 7713,-215.9996 7713,-609.0012"/>
<text text-anchor="middle" x="7460" y="-593.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;setmetatable( env_index, { __index = _G } )</text>
<text text-anchor="middle" x="7460" y="-578.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;setmetatable( env, {</text>
<text text-anchor="middle" x="7460" y="-563.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;__index = env_index,</text>
<text text-anchor="middle" x="7460" y="-547.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;__newindex = function( _, name, val )</text>
<text text-anchor="middle" x="7460" y="-532.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if suppressed[ name ] then</text>
<text text-anchor="middle" x="7460" y="-516.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local v = L.Ct( val ) / anonNode</text>
<text text-anchor="middle" x="7460" y="-501.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;g[name] = v</text>
<text text-anchor="middle" x="7460" y="-486.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="7460" y="-470.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local v = (L.Cc( name ) </text>
<text text-anchor="middle" x="7460" y="-455.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L.Cp </text>
<text text-anchor="middle" x="7460" y="-439.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L.Ct( val ) </text>
<text text-anchor="middle" x="7460" y="-424.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L.Cp </text>
<text text-anchor="middle" x="7460" y="-409.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L.Cc(node_mts)) / makeAstNode</text>
<text text-anchor="middle" x="7460" y="-393.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;g[name] = v</text>
<text text-anchor="middle" x="7460" y="-378.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="7460" y="-362.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="7460" y="-347.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;} )</text>
<text text-anchor="middle" x="7460" y="-332.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; call passed function with custom environment (5.1&#45; and 5.2&#45;style)</text>
<text text-anchor="middle" x="7460" y="-316.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if _VERSION == &quot;Lua 5.1&quot; then</text>
<text text-anchor="middle" x="7460" y="-301.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setfenv( func, env )</text>
<text text-anchor="middle" x="7460" y="-285.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="7460" y="-270.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;func( env )</text>
<text text-anchor="middle" x="7460" y="-255.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert( g[ 1 ] and g[ g[ 1 ] ], &quot;no start rule defined&quot; )</text>
<text text-anchor="middle" x="7460" y="-239.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return g</text>
<text text-anchor="middle" x="7460" y="-224.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_46&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>codeblock_46&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7300.2198,-670.2982C7308.0912,-657.598 7319.5457,-639.1167 7332.7636,-617.7904"/>
<polygon fill="#000000" stroke="#000000" points="7335.8231,-619.4977 7338.1163,-609.154 7329.8732,-615.81 7335.8231,-619.4977"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="8209,-516.7009 7731,-516.7009 7731,-308.2999 8209,-308.2999 8209,-516.7009"/>
<text text-anchor="middle" x="7970" y="-501.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(grammar_template, metas)</text>
<text text-anchor="middle" x="7970" y="-486.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local metas = metas or {}</text>
<text text-anchor="middle" x="7970" y="-470.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if type(grammar_template) == &#39;function&#39; then</text>
<text text-anchor="middle" x="7970" y="-455.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local grammar = define(grammar_template, &#160;metas)</text>
<text text-anchor="middle" x="7970" y="-439.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;io.write(&quot;type of grammar is &quot; .. type(grammar) .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="7970" y="-424.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for k,v in pairs(grammar) do</text>
<text text-anchor="middle" x="7970" y="-409.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;io.write(&quot; &#160;&quot; .. tostring(k) .. &quot; &#160;&quot; .. tostring(v) .. &quot;\n&quot;)</text>
<text text-anchor="middle" x="7970" y="-393.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="7970" y="-378.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return grammar</text>
<text text-anchor="middle" x="7970" y="-362.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="7970" y="-347.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;s:halt(&quot;no way to build grammar out of &quot; .. type(template))</text>
<text text-anchor="middle" x="7970" y="-332.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="7970" y="-316.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_47&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>codeblock_47&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7742.0095,-670.2982C7768.1851,-640.7004 7822.129,-579.7039 7870.975,-524.4718"/>
<polygon fill="#000000" stroke="#000000" points="7873.8272,-526.53 7877.8301,-516.7205 7868.5836,-521.8927 7873.8272,-526.53"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="8313,-430.5004 8227,-430.5004 8227,-394.5004 8313,-394.5004 8313,-430.5004"/>
<text text-anchor="middle" x="8270" y="-409.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_48&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>codeblock_48&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8125.7488,-671.5702C8158.2345,-653.7607 8205.651,-625.9386 8218,-609.0008 8255.4051,-557.6962 8265.9178,-481.4449 8268.8627,-440.6551"/>
<polygon fill="#000000" stroke="#000000" points="8272.3597,-440.8099 8269.4846,-430.6127 8265.3731,-440.3772 8272.3597,-440.8099"/>
</g>
<!-- handleline_58 -->
<g id="node59" class="node">
<title>handleline_58</title>
<ellipse fill="none" stroke="#000000" cx="7144" cy="-162" rx="50.3585" ry="18"/>
<text text-anchor="middle" x="7144" y="-157.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handleline</text>
</g>
<!-- structure_57&#45;&gt;handleline_58 -->
<g id="edge58" class="edge">
<title>structure_57&#45;&gt;handleline_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7144,-394.485C7144,-351.4398 7144,-242.3398 7144,-190.3676"/>
<polygon fill="#000000" stroke="#000000" points="7147.5001,-190.1887 7144,-180.1887 7140.5001,-190.1888 7147.5001,-190.1887"/>
</g>
<!-- handle_59 -->
<g id="node60" class="node">
<title>handle_59</title>
<ellipse fill="none" stroke="#000000" cx="7144" cy="-90" rx="36.827" ry="18"/>
<text text-anchor="middle" x="7144" y="-85.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handle</text>
</g>
<!-- handleline_58&#45;&gt;handle_59 -->
<g id="edge59" class="edge">
<title>handleline_58&#45;&gt;handle_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7144,-143.8314C7144,-136.131 7144,-126.9743 7144,-118.4166"/>
<polygon fill="#000000" stroke="#000000" points="7147.5001,-118.4132 7144,-108.4133 7140.5001,-118.4133 7147.5001,-118.4132"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="7197.5,-36 7090.5,-36 7090.5,0 7197.5,0 7197.5,-36"/>
<text text-anchor="middle" x="7144" y="-14.5" font-family="Inconsolata" font-size="14.00" fill="#000000">grammar&#45;magic</text>
</g>
<!-- handle_59&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>handle_59&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7144,-71.8314C7144,-64.131 7144,-54.9743 7144,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="7147.5001,-46.4132 7144,-36.4133 7140.5001,-46.4133 7147.5001,-46.4132"/>
</g>
</g>
</svg>