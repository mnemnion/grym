<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="2787pt" height="633pt"
 viewBox="0.00 0.00 2786.50 633.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 629.2006)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-629.2006 2782.5,-629.2006 2782.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="591" cy="-607.2006" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="591" y="-603.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 71</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="591" cy="-535.2006" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="591" y="-531.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;24</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M591,-589.0319C591,-581.3315 591,-572.1749 591,-563.6172"/>
<polygon fill="#000000" stroke="#000000" points="594.5001,-563.6138 591,-553.6138 587.5001,-563.6139 594.5001,-563.6138"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="443" cy="-463.2006" rx="42.6061" ry="18"/>
<text text-anchor="middle" x="443" y="-459.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Spec</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M559.2503,-519.7548C536.1556,-508.5195 504.8043,-493.2675 480.4794,-481.4338"/>
<polygon fill="#000000" stroke="#000000" points="481.7232,-478.1467 471.1997,-476.9193 478.6609,-484.4414 481.7232,-478.1467"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="536" cy="-463.2006" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="536" y="-459.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M577.4045,-517.4028C570.6139,-508.5133 562.2883,-497.6144 554.8881,-487.9269"/>
<polygon fill="#000000" stroke="#000000" points="557.5368,-485.6285 548.685,-479.8064 551.9741,-489.8778 557.5368,-485.6285"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="647" cy="-463.2006" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="647" y="-459.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;24</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M604.8427,-517.4028C611.5563,-508.771 619.7436,-498.2445 627.1109,-488.7722"/>
<polygon fill="#000000" stroke="#000000" points="629.9398,-490.8359 633.3165,-480.7936 624.4143,-486.5383 629.9398,-490.8359"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1785" cy="-463.2006" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1785" y="-459.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 25&#45;71</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M650.6192,-531.6054C849.7122,-519.5998 1491.3852,-480.906 1710.7012,-467.6809"/>
<polygon fill="#000000" stroke="#000000" points="1711.0509,-471.1663 1720.8221,-467.0706 1710.6295,-464.1789 1711.0509,-471.1663"/>
</g>
<!-- leaf_6 -->
<g id="node7" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="408,-409.4017 0,-409.4017 0,-337.5994 408,-337.5994 408,-409.4017"/>
<text text-anchor="middle" x="204" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;A small test harness to exercise our fresh Node class.</text>
</g>
<!-- prose_3&#45;&gt;leaf_6 -->
<g id="edge6" class="edge">
<title>prose_3&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M511.1183,-451.4626C505.8611,-449.2136 500.2994,-447.0017 495,-445.2006 458.4826,-432.7889 418.7147,-421.5534 380.6405,-411.8537"/>
<polygon fill="#000000" stroke="#000000" points="381.0298,-408.3424 370.4775,-409.2904 379.3179,-415.1298 381.0298,-408.3424"/>
</g>
<!-- header_7 -->
<g id="node8" class="node">
<title>header_7</title>
<ellipse fill="none" stroke="#000000" cx="481" cy="-373.5005" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="481" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : includes</text>
</g>
<!-- section_4&#45;&gt;header_7 -->
<g id="edge7" class="edge">
<title>section_4&#45;&gt;header_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M617.0044,-447.5412C596.6344,-436.8529 569.1182,-422.3095 545,-409.2006 536.0294,-404.3248 526.3938,-398.9977 517.3916,-393.9815"/>
<polygon fill="#000000" stroke="#000000" points="519.0858,-390.9188 508.6487,-389.097 515.6717,-397.0298 519.0858,-390.9188"/>
</g>
<!-- prose_8 -->
<g id="node9" class="node">
<title>prose_8</title>
<ellipse fill="none" stroke="#000000" cx="586" cy="-373.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="586" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_8 -->
<g id="edge8" class="edge">
<title>section_4&#45;&gt;prose_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M634.9484,-445.4787C625.8926,-432.1623 613.3614,-413.7352 603.2453,-398.8596"/>
<polygon fill="#000000" stroke="#000000" points="606.1303,-396.8779 597.6127,-390.577 600.3419,-400.8143 606.1303,-396.8779"/>
</g>
<!-- codeblock_9 -->
<g id="node10" class="node">
<title>codeblock_9</title>
<ellipse fill="none" stroke="#000000" cx="709" cy="-373.5005" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="709" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 8&#45;19</text>
</g>
<!-- section_4&#45;&gt;codeblock_9 -->
<g id="edge9" class="edge">
<title>section_4&#45;&gt;codeblock_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M659.2492,-445.4787C668.2764,-432.4184 680.7015,-414.4421 690.8761,-399.7217"/>
<polygon fill="#000000" stroke="#000000" points="693.7573,-401.7089 696.564,-391.4926 687.9989,-397.7287 693.7573,-401.7089"/>
</g>
<!-- codeblock_10 -->
<g id="node11" class="node">
<title>codeblock_10</title>
<ellipse fill="none" stroke="#000000" cx="890" cy="-373.5005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="890" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 21&#45;23</text>
</g>
<!-- section_4&#45;&gt;codeblock_10 -->
<g id="edge10" class="edge">
<title>section_4&#45;&gt;codeblock_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M685.2361,-449.0863C726.6633,-433.794 792.9746,-409.3161 838.8591,-392.3785"/>
<polygon fill="#000000" stroke="#000000" points="840.1548,-395.6311 848.324,-388.8847 837.7306,-389.0643 840.1548,-395.6311"/>
</g>
<!-- header_14 -->
<g id="node15" class="node">
<title>header_14</title>
<ellipse fill="none" stroke="#000000" cx="1503" cy="-373.5005" rx="85.0876" ry="18"/>
<text text-anchor="middle" x="1503" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Trivial Grammar</text>
</g>
<!-- section_5&#45;&gt;header_14 -->
<g id="edge14" class="edge">
<title>section_5&#45;&gt;header_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1737.8076,-450.674C1699.8082,-440.3239 1645.1477,-424.8401 1598,-409.2006 1583.3255,-404.3328 1567.5491,-398.6076 1553.1505,-393.1847"/>
<polygon fill="#000000" stroke="#000000" points="1554.0239,-389.7725 1543.4327,-389.4929 1551.5379,-396.3162 1554.0239,-389.7725"/>
</g>
<!-- prose_15 -->
<g id="node16" class="node">
<title>prose_15</title>
<ellipse fill="none" stroke="#000000" cx="1639" cy="-373.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1639" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_15 -->
<g id="edge15" class="edge">
<title>section_5&#45;&gt;prose_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1750.2439,-447.9265C1729.2017,-438.0549 1702.2277,-424.2678 1680,-409.2006 1674.226,-405.2867 1668.3688,-400.6572 1662.9575,-396.0515"/>
<polygon fill="#000000" stroke="#000000" points="1665.2286,-393.3878 1655.4102,-389.4068 1660.603,-398.6418 1665.2286,-393.3878"/>
</g>
<!-- prose_16 -->
<g id="node17" class="node">
<title>prose_16</title>
<ellipse fill="none" stroke="#000000" cx="1721" cy="-373.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1721" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_16 -->
<g id="edge16" class="edge">
<title>section_5&#45;&gt;prose_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1772.3557,-445.4787C1762.7937,-432.077 1749.5383,-413.4988 1738.8896,-398.574"/>
<polygon fill="#000000" stroke="#000000" points="1741.626,-396.383 1732.9687,-390.2754 1735.9277,-400.4487 1741.626,-396.383"/>
</g>
<!-- codeblock_17 -->
<g id="node18" class="node">
<title>codeblock_17</title>
<ellipse fill="none" stroke="#000000" cx="1849" cy="-373.5005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1849" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 31&#45;52</text>
</g>
<!-- section_5&#45;&gt;codeblock_17 -->
<g id="edge17" class="edge">
<title>section_5&#45;&gt;codeblock_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1797.6443,-445.4787C1806.9627,-432.4184 1819.7887,-414.4421 1830.2915,-399.7217"/>
<polygon fill="#000000" stroke="#000000" points="1833.2039,-401.6659 1836.1629,-391.4926 1827.5056,-397.6002 1833.2039,-401.6659"/>
</g>
<!-- codeblock_18 -->
<g id="node19" class="node">
<title>codeblock_18</title>
<ellipse fill="none" stroke="#000000" cx="2070" cy="-373.5005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2070" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 54&#45;60</text>
</g>
<!-- section_5&#45;&gt;codeblock_18 -->
<g id="edge18" class="edge">
<title>section_5&#45;&gt;codeblock_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1828.2854,-449.5771C1877.9809,-433.9361 1959.6356,-408.2363 2014.1006,-391.0942"/>
<polygon fill="#000000" stroke="#000000" points="2015.4522,-394.3381 2023.9401,-387.9973 2013.3506,-387.661 2015.4522,-394.3381"/>
</g>
<!-- codeblock_19 -->
<g id="node20" class="node">
<title>codeblock_19</title>
<ellipse fill="none" stroke="#000000" cx="2351" cy="-373.5005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2351" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 63&#45;67</text>
</g>
<!-- section_5&#45;&gt;codeblock_19 -->
<g id="edge19" class="edge">
<title>section_5&#45;&gt;codeblock_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1844.2174,-455.2608C1917.5328,-445.2744 2046.1706,-427.241 2156,-409.2006 2197.5978,-402.3678 2244.0295,-393.9009 2281.1469,-386.9278"/>
<polygon fill="#000000" stroke="#000000" points="2282.1785,-390.2951 2291.3572,-385.0033 2280.8819,-383.4162 2282.1785,-390.2951"/>
</g>
<!-- codeblock_20 -->
<g id="node21" class="node">
<title>codeblock_20</title>
<ellipse fill="none" stroke="#000000" cx="2628" cy="-373.5005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2628" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 69&#45;71</text>
</g>
<!-- section_5&#45;&gt;codeblock_20 -->
<g id="edge20" class="edge">
<title>section_5&#45;&gt;codeblock_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1850.0165,-460.0201C1967.5691,-453.7799 2223.1203,-437.9692 2437,-409.2006 2478.4085,-403.6308 2524.4571,-395.094 2560.9634,-387.765"/>
<polygon fill="#000000" stroke="#000000" points="2561.8889,-391.1487 2570.9952,-385.7333 2560.4994,-384.2879 2561.8889,-391.1487"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="537,-168.9003 483,-168.9003 483,-132.9003 537,-132.9003 537,-168.9003"/>
</g>
<!-- prose_8&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>prose_8&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M574.7386,-356.4798C565.8312,-342.35 553.6587,-321.4571 546,-301.8005 529.9062,-260.4948 519.6256,-209.9249 514.336,-179.0783"/>
<polygon fill="#000000" stroke="#000000" points="517.7599,-178.3307 512.6717,-169.0376 510.8541,-179.4753 517.7599,-178.3307"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="837,-224.6007 555,-224.6007 555,-77.1999 837,-77.1999 837,-224.6007"/>
<text text-anchor="middle" x="696" y="-209.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">local Grammar = require &quot;node/grammar&quot;</text>
<text text-anchor="middle" x="696" y="-193.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;node/node&quot;</text>
<text text-anchor="middle" x="696" y="-178.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">local epnf = require &quot;peg/epnf&quot;</text>
<text text-anchor="middle" x="696" y="-163.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">local pnf = require &quot;node/define&quot;</text>
<text text-anchor="middle" x="696" y="-147.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="696" y="-132.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">local P = L.P</text>
<text text-anchor="middle" x="696" y="-116.9002" font-family="Inconsolata" font-size="14.00" fill="#000000">local V = L.V</text>
<text text-anchor="middle" x="696" y="-101.5002" font-family="Inconsolata" font-size="14.00" fill="#000000">local C = L.C</text>
</g>
<!-- codeblock_9&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>codeblock_9&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M707.9362,-355.2842C706.4031,-329.034 703.4739,-278.8771 700.9011,-234.8219"/>
<polygon fill="#000000" stroke="#000000" points="704.3843,-234.4311 700.3072,-224.6522 697.3962,-234.8393 704.3843,-234.4311"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="976.5,-168.9003 855.5,-168.9003 855.5,-132.9003 976.5,-132.9003 976.5,-168.9003"/>
<text text-anchor="middle" x="916" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">local Spec = {}</text>
</g>
<!-- codeblock_10&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>codeblock_10&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M892.1277,-355.2842C896.6621,-316.4628 907.3037,-225.354 912.7153,-179.0222"/>
<polygon fill="#000000" stroke="#000000" points="916.1955,-179.3946 913.8794,-169.0561 909.2428,-178.5825 916.1955,-179.3946"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1319,-178.8018 995,-178.8018 995,-122.9988 1319,-122.9988 1319,-178.8018"/>
<text text-anchor="middle" x="1157" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">This should succeed under all circumstances.</text>
</g>
<!-- prose_15&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>prose_15&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1624.1549,-357.1978C1616.7162,-350.0678 1607.1418,-342.3146 1597,-337.8005 1486.8013,-288.7518 1437.7392,-351.8689 1328,-301.8005 1269.729,-275.2145 1216.8213,-221.9742 1185.7661,-186.3807"/>
<polygon fill="#000000" stroke="#000000" points="1188.2744,-183.9295 1179.102,-178.6269 1182.9657,-188.4922 1188.2744,-183.9295"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1696.5,-170.8023 1337.5,-170.8023 1337.5,-130.9982 1696.5,-130.9982 1696.5,-170.8023"/>
<text text-anchor="middle" x="1517" y="-139.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;d have to guess what it will return currently. </text>
</g>
<!-- prose_16&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>prose_16&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1705.9994,-357.1322C1671.2935,-319.2619 1585.1526,-225.2669 1542.1936,-178.391"/>
<polygon fill="#000000" stroke="#000000" points="1544.5265,-175.7562 1535.1898,-170.7486 1539.3658,-180.4857 1544.5265,-175.7562"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1983,-301.7009 1715,-301.7009 1715,-.0997 1983,-.0997 1983,-301.7009"/>
<text text-anchor="middle" x="1849" y="-286.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">local function epsilon(_ENV)</text>
<text text-anchor="middle" x="1849" y="-271.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;START &quot;any&quot;</text>
<text text-anchor="middle" x="1849" y="-255.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;any = C(V&quot;anything&quot; + V&quot;other&quot;)</text>
<text text-anchor="middle" x="1849" y="-240.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;anything = P(1)</text>
<text text-anchor="middle" x="1849" y="-225.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;other = P(1)^1</text>
<text text-anchor="middle" x="1849" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end </text>
<text text-anchor="middle" x="1849" y="-178.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function a(_ENV)</text>
<text text-anchor="middle" x="1849" y="-162.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;START &quot;A&quot;</text>
<text text-anchor="middle" x="1849" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;A = C(P&quot;a&quot; + P&quot;A&quot;)</text>
<text text-anchor="middle" x="1849" y="-132.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1849" y="-100.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">local function ab(_ENV)</text>
<text text-anchor="middle" x="1849" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;START &quot;AB&quot;</text>
<text text-anchor="middle" x="1849" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;AB = V&quot;B&quot; + V&quot;A&quot; &#160;</text>
<text text-anchor="middle" x="1849" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;A = C(P&quot;a&quot; + P&quot;A&quot;)</text>
<text text-anchor="middle" x="1849" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;B = V&quot;bmatch&quot; + (V&quot;A&quot; * V&quot;bmatch&quot;)</text>
<text text-anchor="middle" x="1849" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;bmatch = P&quot;b&quot; + P&quot;B&quot;</text>
<text text-anchor="middle" x="1849" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_17&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>codeblock_17&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1849,-355.2842C1849,-344.3475 1849,-329.261 1849,-312.1949"/>
<polygon fill="#000000" stroke="#000000" points="1852.5001,-311.9342 1849,-301.9342 1845.5001,-311.9343 1852.5001,-311.9342"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="2234.5,-193.4004 2001.5,-193.4004 2001.5,-108.4001 2234.5,-108.4001 2234.5,-193.4004"/>
<text text-anchor="middle" x="2118" y="-178.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.trivial = Grammar(epsilon)</text>
<text text-anchor="middle" x="2118" y="-162.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.a = Grammar(a)</text>
<text text-anchor="middle" x="2118" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.a_ = pnf.define(a)</text>
<text text-anchor="middle" x="2118" y="-132.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.ab = Grammar(ab)</text>
<text text-anchor="middle" x="2118" y="-116.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.ab_ = pnf.define(ab)</text>
</g>
<!-- codeblock_18&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>codeblock_18&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2073.928,-355.2842C2081.0082,-322.4501 2096.1536,-252.2132 2106.7013,-203.2982"/>
<polygon fill="#000000" stroke="#000000" points="2110.1251,-204.0243 2108.8117,-193.5112 2103.2823,-202.5488 2110.1251,-204.0243"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="2667.5,-178.1007 2252.5,-178.1007 2252.5,-123.6998 2667.5,-123.6998 2667.5,-178.1007"/>
<text text-anchor="middle" x="2460" y="-162.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">for k, v in pairs(Spec.a_) do</text>
<text text-anchor="middle" x="2460" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;io.write(&quot;k &#160;&#160;&quot; .. tostring(k) .. &quot; v &quot; .. tostring(v))</text>
<text text-anchor="middle" x="2460" y="-132.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_19&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>codeblock_19&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2359.9199,-355.2842C2377.8426,-318.6824 2418.5246,-235.6016 2442.132,-187.3904"/>
<polygon fill="#000000" stroke="#000000" points="2445.3596,-188.7576 2446.614,-178.2372 2439.0728,-185.6791 2445.3596,-188.7576"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="2778.5,-168.9003 2685.5,-168.9003 2685.5,-132.9003 2778.5,-132.9003 2778.5,-168.9003"/>
<text text-anchor="middle" x="2732" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">return Spec</text>
</g>
<!-- codeblock_20&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>codeblock_20&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2642.0141,-355.7185C2652.618,-341.6668 2667.0113,-321.247 2677,-301.8005 2698.0611,-260.7978 2714.8564,-209.8255 2724.1129,-178.8573"/>
<polygon fill="#000000" stroke="#000000" points="2727.4996,-179.7463 2726.9583,-169.1653 2720.783,-177.7744 2727.4996,-179.7463"/>
</g>
</g>
</svg>