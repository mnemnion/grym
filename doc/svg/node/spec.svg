<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="3819pt" height="2744pt"
 viewBox="0.00 0.00 3819.00 2743.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2739.804)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2739.804 3815,-2739.804 3815,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1588" cy="-2717.804" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1588" y="-2713.604" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 100</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1588" cy="-2645.804" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1588" y="-2641.604" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;76</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1588,-2699.6353C1588,-2691.9349 1588,-2682.7783 1588,-2674.2206"/>
<polygon fill="#000000" stroke="#000000" points="1591.5001,-2674.2172 1588,-2664.2172 1584.5001,-2674.2173 1591.5001,-2674.2172"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="599" cy="-1973.803" rx="42.6061" ry="18"/>
<text text-anchor="middle" x="599" y="-1969.603" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Spec</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1527.3603,-2644.4808C1324.6395,-2639.7775 681.4533,-2622.4858 650,-2591.804 483.0738,-2428.9722 562.1156,-2099.2502 590.3936,-2001.6324"/>
<polygon fill="#000000" stroke="#000000" points="593.7905,-2002.4873 593.2682,-1991.9054 587.0775,-2000.5034 593.7905,-2002.4873"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="710" cy="-1973.803" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="710" y="-1969.603" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;76</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1527.5221,-2643.9359C1342.8501,-2637.9549 797.1412,-2618.1201 770,-2591.804 602.366,-2429.2658 675.4545,-2099.3406 701.917,-2001.6532"/>
<polygon fill="#000000" stroke="#000000" points="705.3168,-2002.4904 704.6101,-1991.9192 698.5703,-2000.6239 705.3168,-2002.4904"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="840" cy="-1973.803" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="840" y="-1969.603" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;27</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1563.4755,-2629.246C1548.5554,-2618.9053 1529.2981,-2605.0762 1513,-2591.804 1247.0367,-2375.22 950.2392,-2083.6237 864.4304,-1998.239"/>
<polygon fill="#000000" stroke="#000000" points="866.7986,-1995.6578 857.2442,-1991.0792 861.858,-2000.6167 866.7986,-1995.6578"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1588" cy="-1973.803" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1588" y="-1969.603" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 28&#45;68</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1588,-2627.481C1588,-2534.65 1588,-2116.2204 1588,-2002.4394"/>
<polygon fill="#000000" stroke="#000000" points="1591.5001,-2002.1095 1588,-1992.1095 1584.5001,-2002.1096 1591.5001,-2002.1095"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="2375" cy="-1973.803" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2375" y="-1969.603" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 69&#45;76</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1612.3929,-2629.082C1627.2649,-2618.6814 1646.5178,-2604.8468 1663,-2591.804 1940.4996,-2372.2105 2257.1037,-2082.7484 2348.8432,-1998.049"/>
<polygon fill="#000000" stroke="#000000" points="2351.3164,-2000.5292 2356.2851,-1991.1717 2346.5654,-1995.3883 2351.3164,-2000.5292"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="3095" cy="-1973.803" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3095" y="-1969.603" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 77&#45;100</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1648.8635,-2644.4034C1833.189,-2639.8274 2377.1769,-2623.7407 2450,-2591.804 2760.917,-2455.4504 3011.7443,-2100.3777 3077.8897,-2000.3672"/>
<polygon fill="#000000" stroke="#000000" points="3080.9777,-2002.041 3083.5408,-1991.7608 3075.1264,-1998.1988 3080.9777,-2002.041"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="3592,-2591.8049 3184,-2591.8049 3184,-1355.8012 3592,-1355.8012 3592,-2591.8049"/>
<text text-anchor="middle" x="3388" y="-2576.604" font-family="Inconsolata" font-size="14.00" fill="#000000">* Spec</text>
<text text-anchor="middle" x="3388" y="-2529.2039" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;A small test harness to exercise our fresh Node class.</text>
<text text-anchor="middle" x="3388" y="-2497.8039" font-family="Inconsolata" font-size="14.00" fill="#000000">*** includes</text>
<text text-anchor="middle" x="3388" y="-2466.4039" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="3388" y="-2451.0038" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;util&quot;</text>
<text text-anchor="middle" x="3388" y="-2435.6038" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="3388" y="-2404.2038" font-family="Inconsolata" font-size="14.00" fill="#000000">local Grammar = require &quot;node/grammar&quot;</text>
<text text-anchor="middle" x="3388" y="-2388.8037" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;node/node&quot;</text>
<text text-anchor="middle" x="3388" y="-2373.4037" font-family="Inconsolata" font-size="14.00" fill="#000000">local epnf = require &quot;peg/epnf&quot;</text>
<text text-anchor="middle" x="3388" y="-2358.0037" font-family="Inconsolata" font-size="14.00" fill="#000000">local pnf = require &quot;node/define&quot;</text>
<text text-anchor="middle" x="3388" y="-2342.6037" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="3388" y="-2327.2036" font-family="Inconsolata" font-size="14.00" fill="#000000">local P = L.P</text>
<text text-anchor="middle" x="3388" y="-2311.8036" font-family="Inconsolata" font-size="14.00" fill="#000000">local V = L.V</text>
<text text-anchor="middle" x="3388" y="-2296.4036" font-family="Inconsolata" font-size="14.00" fill="#000000">local C = L.C</text>
<text text-anchor="middle" x="3388" y="-2249.0035" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
<text text-anchor="middle" x="3388" y="-2217.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="3388" y="-2202.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">local Spec = {}</text>
<text text-anchor="middle" x="3388" y="-2186.8034" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
<text text-anchor="middle" x="3388" y="-2155.4034" font-family="Inconsolata" font-size="14.00" fill="#000000">** Trivial Grammar</text>
<text text-anchor="middle" x="3388" y="-2124.0034" font-family="Inconsolata" font-size="14.00" fill="#000000">This should succeed under all circumstances.</text>
<text text-anchor="middle" x="3388" y="-2092.6033" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;d have to guess what it will return currently. </text>
<text text-anchor="middle" x="3388" y="-2061.2033" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="3388" y="-2045.8033" font-family="Inconsolata" font-size="14.00" fill="#000000">local function epsilon(_ENV)</text>
<text text-anchor="middle" x="3388" y="-2030.4032" font-family="Inconsolata" font-size="14.00" fill="#000000">	START &quot;any&quot;</text>
<text text-anchor="middle" x="3388" y="-2015.0032" font-family="Inconsolata" font-size="14.00" fill="#000000">	any = V&quot;anything&quot; + V&quot;other&quot;</text>
<text text-anchor="middle" x="3388" y="-1999.6032" font-family="Inconsolata" font-size="14.00" fill="#000000">	anything = P(1)</text>
<text text-anchor="middle" x="3388" y="-1984.2032" font-family="Inconsolata" font-size="14.00" fill="#000000">	other = P(1)^1</text>
<text text-anchor="middle" x="3388" y="-1968.8031" font-family="Inconsolata" font-size="14.00" fill="#000000">end </text>
<text text-anchor="middle" x="3388" y="-1937.4031" font-family="Inconsolata" font-size="14.00" fill="#000000">local function a(_ENV)</text>
<text text-anchor="middle" x="3388" y="-1922.0031" font-family="Inconsolata" font-size="14.00" fill="#000000">	START &quot;A&quot;</text>
<text text-anchor="middle" x="3388" y="-1906.603" font-family="Inconsolata" font-size="14.00" fill="#000000">	A = P&quot;a&quot; + P&quot;A&quot;</text>
<text text-anchor="middle" x="3388" y="-1891.203" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3388" y="-1859.803" font-family="Inconsolata" font-size="14.00" fill="#000000">local function ab(_ENV)</text>
<text text-anchor="middle" x="3388" y="-1844.4029" font-family="Inconsolata" font-size="14.00" fill="#000000">	START &quot;AB&quot;</text>
<text text-anchor="middle" x="3388" y="-1829.0029" font-family="Inconsolata" font-size="14.00" fill="#000000">	AB = V&quot;B&quot; + V&quot;A&quot; &#160;</text>
<text text-anchor="middle" x="3388" y="-1813.6029" font-family="Inconsolata" font-size="14.00" fill="#000000">	A = P&quot;a&quot; + P&quot;A&quot;</text>
<text text-anchor="middle" x="3388" y="-1798.2028" font-family="Inconsolata" font-size="14.00" fill="#000000">	B = V&quot;bmatch&quot; + (V&quot;A&quot; * V&quot;bmatch&quot;)</text>
<text text-anchor="middle" x="3388" y="-1782.8028" font-family="Inconsolata" font-size="14.00" fill="#000000">	bmatch = P&quot;b&quot; + P&quot;B&quot;</text>
<text text-anchor="middle" x="3388" y="-1767.4028" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3388" y="-1736.0027" font-family="Inconsolata" font-size="14.00" fill="#000000">local function clu_gm(_ENV)</text>
<text text-anchor="middle" x="3388" y="-1720.6027" font-family="Inconsolata" font-size="14.00" fill="#000000">	local WS = P(m._ + m.NL)^0</text>
<text text-anchor="middle" x="3388" y="-1705.2027" font-family="Inconsolata" font-size="14.00" fill="#000000">	START &quot;clu&quot;</text>
<text text-anchor="middle" x="3388" y="-1689.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">	SUPPRESS &quot;form&quot;</text>
<text text-anchor="middle" x="3388" y="-1674.4026" font-family="Inconsolata" font-size="14.00" fill="#000000">	clu = V&quot;form&quot;^1</text>
<text text-anchor="middle" x="3388" y="-1659.0026" font-family="Inconsolata" font-size="14.00" fill="#000000">	form = (V&quot;number&quot; * WS)</text>
<text text-anchor="middle" x="3388" y="-1643.6026" font-family="Inconsolata" font-size="14.00" fill="#000000">	 &#160;&#160;&#160;&#160;+ (V&quot;atom&quot; * WS) </text>
<text text-anchor="middle" x="3388" y="-1628.2025" font-family="Inconsolata" font-size="14.00" fill="#000000">	 &#160;&#160;&#160;&#160;+ (V&quot;expr&quot; * WS)</text>
<text text-anchor="middle" x="3388" y="-1612.8025" font-family="Inconsolata" font-size="14.00" fill="#000000">	expr = m.pal * WS * V&quot;form&quot;^0 * WS * m.par</text>
<text text-anchor="middle" x="3388" y="-1597.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">	atom = m.symbol</text>
<text text-anchor="middle" x="3388" y="-1582.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">	number = m.number</text>
<text text-anchor="middle" x="3388" y="-1566.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3388" y="-1551.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
<text text-anchor="middle" x="3388" y="-1519.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">** Easy mode</text>
<text text-anchor="middle" x="3388" y="-1488.4023" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="3388" y="-1473.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.trivial = Grammar(epsilon)</text>
<text text-anchor="middle" x="3388" y="-1457.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.a = Grammar(a)</text>
<text text-anchor="middle" x="3388" y="-1442.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.clu = Grammar(clu_gm)</text>
<text text-anchor="middle" x="3388" y="-1426.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
<text text-anchor="middle" x="3388" y="-1395.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">** With metas</text>
<text text-anchor="middle" x="3388" y="-1364.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
</g>
<!-- section_1&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>section_1&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1648.9614,-2645.649C1932.6688,-2644.6858 3112.6108,-2637.9121 3175,-2591.804 3175.2781,-2591.5985 3175.5558,-2591.3926 3175.8332,-2591.1863"/>
<polygon fill="#000000" stroke="#000000" points="3177.9691,-2593.959 3183.7761,-2585.0973 3173.7103,-2588.4035 3177.9691,-2593.959"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="408,-994.803 0,-994.803 0,-939 408,-939 408,-994.803"/>
<text text-anchor="middle" x="204" y="-947.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;A small test harness to exercise our fresh Node class.</text>
</g>
<!-- block_3&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>block_3&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M715.1592,-1955.7528C737.4297,-1873.6087 816.9241,-1531.5465 651,-1355.8021 578.7641,-1279.2908 504.4227,-1378.3621 417,-1319.8021 301.1585,-1242.2057 238.2678,-1078.3091 214.8285,-1004.4216"/>
<polygon fill="#000000" stroke="#000000" points="218.0902,-1003.1233 211.7815,-994.6115 211.4053,-1005.1996 218.0902,-1003.1233"/>
</g>
<!-- header_9 -->
<g id="node10" class="node">
<title>header_9</title>
<ellipse fill="none" stroke="#000000" cx="481" cy="-966.9015" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="481" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : includes</text>
</g>
<!-- section_4&#45;&gt;header_9 -->
<g id="edge9" class="edge">
<title>section_4&#45;&gt;header_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M844.7546,-1955.7231C865.1987,-1873.4489 937.2478,-1530.9026 770,-1355.8021 700.0509,-1282.5687 617.3491,-1390.6654 545,-1319.8021 455.0356,-1231.6853 467.2729,-1062.546 476.3797,-995.3948"/>
<polygon fill="#000000" stroke="#000000" points="479.8925,-995.5565 477.8534,-985.1597 472.9639,-994.5588 479.8925,-995.5565"/>
</g>
<!-- block_10 -->
<g id="node11" class="node">
<title>block_10</title>
<ellipse fill="none" stroke="#000000" cx="600" cy="-966.9015" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="600" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 6&#45;7</text>
</g>
<!-- section_4&#45;&gt;block_10 -->
<g id="edge10" class="edge">
<title>section_4&#45;&gt;block_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M844.27,-1955.7216C862.2263,-1874.8468 923.8068,-1542.1199 770,-1355.8021 735.9048,-1314.5 689.9513,-1360.3823 655,-1319.8021 573.353,-1225.0059 586.2416,-1060.4203 595.3666,-994.9412"/>
<polygon fill="#000000" stroke="#000000" points="598.8426,-995.3597 596.8386,-984.9561 591.9175,-994.3387 598.8426,-995.3597"/>
</g>
<!-- block_11 -->
<g id="node12" class="node">
<title>block_11</title>
<ellipse fill="none" stroke="#000000" cx="715" cy="-966.9015" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="715" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 8&#45;23</text>
</g>
<!-- section_4&#45;&gt;block_11 -->
<g id="edge11" class="edge">
<title>section_4&#45;&gt;block_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M838.1226,-1955.581C830.4091,-1881.0982 800.1396,-1592.5223 770,-1355.8021 752.7808,-1220.5605 728.9106,-1059.3553 719.281,-995.2312"/>
<polygon fill="#000000" stroke="#000000" points="722.7057,-994.4687 717.7567,-985.1008 715.7836,-995.5103 722.7057,-994.4687"/>
</g>
<!-- block_12 -->
<g id="node13" class="node">
<title>block_12</title>
<ellipse fill="none" stroke="#000000" cx="840" cy="-966.9015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="840" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 24&#45;27</text>
</g>
<!-- section_4&#45;&gt;block_12 -->
<g id="edge12" class="edge">
<title>section_4&#45;&gt;block_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M840,-1955.4668C840,-1833.9014 840,-1144.4754 840,-995.346"/>
<polygon fill="#000000" stroke="#000000" points="843.5001,-995.1825 840,-985.1826 836.5001,-995.1826 843.5001,-995.1825"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1196,-1149.7021 914,-1149.7021 914,-784.1009 1196,-784.1009 1196,-1149.7021"/>
<text text-anchor="middle" x="1055" y="-1134.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">*** includes</text>
<text text-anchor="middle" x="1055" y="-1103.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="1055" y="-1087.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;util&quot;</text>
<text text-anchor="middle" x="1055" y="-1072.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="1055" y="-1041.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local Grammar = require &quot;node/grammar&quot;</text>
<text text-anchor="middle" x="1055" y="-1025.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;node/node&quot;</text>
<text text-anchor="middle" x="1055" y="-1010.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">local epnf = require &quot;peg/epnf&quot;</text>
<text text-anchor="middle" x="1055" y="-994.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local pnf = require &quot;node/define&quot;</text>
<text text-anchor="middle" x="1055" y="-979.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1055" y="-964.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">local P = L.P</text>
<text text-anchor="middle" x="1055" y="-948.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">local V = L.V</text>
<text text-anchor="middle" x="1055" y="-933.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">local C = L.C</text>
<text text-anchor="middle" x="1055" y="-885.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
<text text-anchor="middle" x="1055" y="-854.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="1055" y="-839.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">local Spec = {}</text>
<text text-anchor="middle" x="1055" y="-823.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
<text text-anchor="middle" x="1055" y="-792.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">*</text>
</g>
<!-- section_4&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>section_4&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M843.9153,-1955.4668C864.1791,-1860.566 958.3375,-1419.5972 1013.8181,-1159.7671"/>
<polygon fill="#000000" stroke="#000000" points="1017.2735,-1160.3454 1015.9389,-1149.835 1010.4278,-1158.8836 1017.2735,-1160.3454"/>
</g>
<!-- header_21 -->
<g id="node22" class="node">
<title>header_21</title>
<ellipse fill="none" stroke="#000000" cx="1299" cy="-966.9015" rx="85.0876" ry="18"/>
<text text-anchor="middle" x="1299" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Trivial Grammar</text>
</g>
<!-- section_5&#45;&gt;header_21 -->
<g id="edge21" class="edge">
<title>section_5&#45;&gt;header_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1582.375,-1955.6549C1558.618,-1878.861 1464.4363,-1572.9443 1393,-1319.8021 1358.9677,-1199.205 1321.4582,-1054.4846 1306.1235,-994.7628"/>
<polygon fill="#000000" stroke="#000000" points="1309.4811,-993.7655 1303.6067,-984.9484 1302.7004,-995.5044 1309.4811,-993.7655"/>
</g>
<!-- block_22 -->
<g id="node23" class="node">
<title>block_22</title>
<ellipse fill="none" stroke="#000000" cx="1458" cy="-966.9015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1458" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 28&#45;31</text>
</g>
<!-- section_5&#45;&gt;block_22 -->
<g id="edge22" class="edge">
<title>section_5&#45;&gt;block_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1585.6326,-1955.4668C1569.9375,-1833.9014 1480.9264,-1144.4754 1461.6724,-995.346"/>
<polygon fill="#000000" stroke="#000000" points="1465.112,-994.6521 1460.3602,-985.1826 1458.1696,-995.5484 1465.112,-994.6521"/>
</g>
<!-- block_23 -->
<g id="node24" class="node">
<title>block_23</title>
<ellipse fill="none" stroke="#000000" cx="1588" cy="-966.9015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1588" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 32&#45;33</text>
</g>
<!-- section_5&#45;&gt;block_23 -->
<g id="edge23" class="edge">
<title>section_5&#45;&gt;block_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1588,-1955.4668C1588,-1833.9014 1588,-1144.4754 1588,-995.346"/>
<polygon fill="#000000" stroke="#000000" points="1591.5001,-995.1825 1588,-985.1826 1584.5001,-995.1826 1591.5001,-995.1825"/>
</g>
<!-- block_24 -->
<g id="node25" class="node">
<title>block_24</title>
<ellipse fill="none" stroke="#000000" cx="1718" cy="-966.9015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1718" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 34&#45;68</text>
</g>
<!-- section_5&#45;&gt;block_24 -->
<g id="edge24" class="edge">
<title>section_5&#45;&gt;block_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1590.3674,-1955.4668C1606.0625,-1833.9014 1695.0736,-1144.4754 1714.3276,-995.346"/>
<polygon fill="#000000" stroke="#000000" points="1717.8304,-995.5484 1715.6398,-985.1826 1710.888,-994.6521 1717.8304,-995.5484"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="2150.5,-1319.7027 1791.5,-1319.7027 1791.5,-614.1003 2150.5,-614.1003 2150.5,-1319.7027"/>
<text text-anchor="middle" x="1971" y="-1304.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">** Trivial Grammar</text>
<text text-anchor="middle" x="1971" y="-1273.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">This should succeed under all circumstances.</text>
<text text-anchor="middle" x="1971" y="-1241.802" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;d have to guess what it will return currently. </text>
<text text-anchor="middle" x="1971" y="-1210.402" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="1971" y="-1195.002" font-family="Inconsolata" font-size="14.00" fill="#000000">local function epsilon(_ENV)</text>
<text text-anchor="middle" x="1971" y="-1179.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">	START &quot;any&quot;</text>
<text text-anchor="middle" x="1971" y="-1164.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">	any = V&quot;anything&quot; + V&quot;other&quot;</text>
<text text-anchor="middle" x="1971" y="-1148.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">	anything = P(1)</text>
<text text-anchor="middle" x="1971" y="-1133.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">	other = P(1)^1</text>
<text text-anchor="middle" x="1971" y="-1118.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">end </text>
<text text-anchor="middle" x="1971" y="-1086.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">local function a(_ENV)</text>
<text text-anchor="middle" x="1971" y="-1071.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">	START &quot;A&quot;</text>
<text text-anchor="middle" x="1971" y="-1055.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">	A = P&quot;a&quot; + P&quot;A&quot;</text>
<text text-anchor="middle" x="1971" y="-1040.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1971" y="-1009.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local function ab(_ENV)</text>
<text text-anchor="middle" x="1971" y="-993.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">	START &quot;AB&quot;</text>
<text text-anchor="middle" x="1971" y="-978.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">	AB = V&quot;B&quot; + V&quot;A&quot; &#160;</text>
<text text-anchor="middle" x="1971" y="-962.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">	A = P&quot;a&quot; + P&quot;A&quot;</text>
<text text-anchor="middle" x="1971" y="-947.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">	B = V&quot;bmatch&quot; + (V&quot;A&quot; * V&quot;bmatch&quot;)</text>
<text text-anchor="middle" x="1971" y="-932.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">	bmatch = P&quot;b&quot; + P&quot;B&quot;</text>
<text text-anchor="middle" x="1971" y="-916.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1971" y="-885.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">local function clu_gm(_ENV)</text>
<text text-anchor="middle" x="1971" y="-869.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">	local WS = P(m._ + m.NL)^0</text>
<text text-anchor="middle" x="1971" y="-854.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">	START &quot;clu&quot;</text>
<text text-anchor="middle" x="1971" y="-839.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">	SUPPRESS &quot;form&quot;</text>
<text text-anchor="middle" x="1971" y="-823.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">	clu = V&quot;form&quot;^1</text>
<text text-anchor="middle" x="1971" y="-808.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">	form = (V&quot;number&quot; * WS)</text>
<text text-anchor="middle" x="1971" y="-792.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">	 &#160;&#160;&#160;&#160;+ (V&quot;atom&quot; * WS) </text>
<text text-anchor="middle" x="1971" y="-777.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">	 &#160;&#160;&#160;&#160;+ (V&quot;expr&quot; * WS)</text>
<text text-anchor="middle" x="1971" y="-762.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">	expr = m.pal * WS * V&quot;form&quot;^0 * WS * m.par</text>
<text text-anchor="middle" x="1971" y="-746.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">	atom = m.symbol</text>
<text text-anchor="middle" x="1971" y="-731.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">	number = m.number</text>
<text text-anchor="middle" x="1971" y="-715.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1971" y="-700.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
<text text-anchor="middle" x="1971" y="-669.001" font-family="Inconsolata" font-size="14.00" fill="#000000">** Easy mode</text>
<text text-anchor="middle" x="1971" y="-637.601" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="1971" y="-622.201" font-family="Inconsolata" font-size="14.00" fill="#000000">Sp</text>
</g>
<!-- section_5&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>section_5&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1594.8102,-1955.899C1623.558,-1880.3216 1737.8838,-1579.7608 1833.0354,-1329.6085"/>
<polygon fill="#000000" stroke="#000000" points="1836.4122,-1330.5754 1836.6962,-1319.9843 1829.8695,-1328.0867 1836.4122,-1330.5754"/>
</g>
<!-- header_31 -->
<g id="node32" class="node">
<title>header_31</title>
<ellipse fill="none" stroke="#000000" cx="2235" cy="-966.9015" rx="66.7704" ry="18"/>
<text text-anchor="middle" x="2235" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Easy mode</text>
</g>
<!-- section_6&#45;&gt;header_31 -->
<g id="edge31" class="edge">
<title>section_6&#45;&gt;header_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2372.4505,-1955.4668C2355.548,-1833.9014 2259.6899,-1144.4754 2238.9549,-995.346"/>
<polygon fill="#000000" stroke="#000000" points="2242.3857,-994.6053 2237.5418,-985.1826 2235.4524,-995.5693 2242.3857,-994.6053"/>
</g>
<!-- block_32 -->
<g id="node33" class="node">
<title>block_32</title>
<ellipse fill="none" stroke="#000000" cx="2375" cy="-966.9015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2375" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 69&#45;70</text>
</g>
<!-- section_6&#45;&gt;block_32 -->
<g id="edge32" class="edge">
<title>section_6&#45;&gt;block_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2375,-1955.4668C2375,-1833.9014 2375,-1144.4754 2375,-995.346"/>
<polygon fill="#000000" stroke="#000000" points="2378.5001,-995.1825 2375,-985.1826 2371.5001,-995.1826 2378.5001,-995.1825"/>
</g>
<!-- block_33 -->
<g id="node34" class="node">
<title>block_33</title>
<ellipse fill="none" stroke="#000000" cx="2505" cy="-966.9015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="2505" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 71&#45;76</text>
</g>
<!-- section_6&#45;&gt;block_33 -->
<g id="edge33" class="edge">
<title>section_6&#45;&gt;block_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2377.3674,-1955.4668C2393.0625,-1833.9014 2482.0736,-1144.4754 2501.3276,-995.346"/>
<polygon fill="#000000" stroke="#000000" points="2504.8304,-995.5484 2502.6398,-985.1826 2497.888,-994.6521 2504.8304,-995.5484"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2805,-1033.3023 2579,-1033.3023 2579,-900.5007 2805,-900.5007 2805,-1033.3023"/>
<text text-anchor="middle" x="2692" y="-1017.9016" font-family="Inconsolata" font-size="14.00" fill="#000000">pec.trivial = Grammar(epsilon)</text>
<text text-anchor="middle" x="2692" y="-1002.5016" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.a = Grammar(a)</text>
<text text-anchor="middle" x="2692" y="-987.1015" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.clu = Grammar(clu_gm)</text>
<text text-anchor="middle" x="2692" y="-971.7015" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
<text text-anchor="middle" x="2692" y="-940.3015" font-family="Inconsolata" font-size="14.00" fill="#000000">** With metas</text>
<text text-anchor="middle" x="2692" y="-908.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
</g>
<!-- section_6&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>section_6&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2380.7727,-1955.4668C2415.8583,-1844.0228 2601.1916,-1255.3404 2667.9819,-1043.1914"/>
<polygon fill="#000000" stroke="#000000" points="2671.4071,-1043.9666 2671.0717,-1033.3771 2664.7302,-1041.8645 2671.4071,-1043.9666"/>
</g>
<!-- header_39 -->
<g id="node40" class="node">
<title>header_39</title>
<ellipse fill="none" stroke="#000000" cx="2890" cy="-966.9015" rx="66.7444" ry="18"/>
<text text-anchor="middle" x="2890" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : With metas</text>
</g>
<!-- section_7&#45;&gt;header_39 -->
<g id="edge39" class="edge">
<title>section_7&#45;&gt;header_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3091.2668,-1955.4668C3066.5168,-1833.9014 2926.1531,-1144.4754 2895.7912,-995.346"/>
<polygon fill="#000000" stroke="#000000" points="2899.1467,-994.2833 2893.7219,-985.1826 2892.2874,-995.6798 2899.1467,-994.2833"/>
</g>
<!-- block_40 -->
<g id="node41" class="node">
<title>block_40</title>
<ellipse fill="none" stroke="#000000" cx="3030" cy="-966.9015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3030" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 77&#45;78</text>
</g>
<!-- section_7&#45;&gt;block_40 -->
<g id="edge40" class="edge">
<title>section_7&#45;&gt;block_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3093.8163,-1955.4668C3085.9687,-1833.9014 3041.4632,-1144.4754 3031.8362,-995.346"/>
<polygon fill="#000000" stroke="#000000" points="3035.3171,-994.9363 3031.1801,-985.1826 3028.3317,-995.3873 3035.3171,-994.9363"/>
</g>
<!-- block_41 -->
<g id="node42" class="node">
<title>block_41</title>
<ellipse fill="none" stroke="#000000" cx="3160" cy="-966.9015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3160" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 79&#45;93</text>
</g>
<!-- section_7&#45;&gt;block_41 -->
<g id="edge41" class="edge">
<title>section_7&#45;&gt;block_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3096.1837,-1955.4668C3104.0313,-1833.9014 3148.5368,-1144.4754 3158.1638,-995.346"/>
<polygon fill="#000000" stroke="#000000" points="3161.6683,-995.3873 3158.8199,-985.1826 3154.6829,-994.9363 3161.6683,-995.3873"/>
</g>
<!-- block_42 -->
<g id="node43" class="node">
<title>block_42</title>
<ellipse fill="none" stroke="#000000" cx="3290" cy="-966.9015" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="3290" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 94&#45;97</text>
</g>
<!-- section_7&#45;&gt;block_42 -->
<g id="edge42" class="edge">
<title>section_7&#45;&gt;block_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3092.4512,-1955.7097C3082.3674,-1877.4578 3051.5647,-1562.7763 3175,-1355.8021 3189.0258,-1332.2839 3210.3512,-1342.9374 3225,-1319.8021 3291.6317,-1214.5686 3293.8325,-1058.4574 3291.6004,-995.1253"/>
<polygon fill="#000000" stroke="#000000" points="3295.0957,-994.9379 3291.1802,-985.0932 3288.1019,-995.2309 3295.0957,-994.9379"/>
</g>
<!-- block_43 -->
<g id="node44" class="node">
<title>block_43</title>
<ellipse fill="none" stroke="#000000" cx="3478" cy="-966.9015" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="3478" y="-962.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 98&#45;100</text>
</g>
<!-- section_7&#45;&gt;block_43 -->
<g id="edge43" class="edge">
<title>section_7&#45;&gt;block_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3090.7465,-1955.8264C3072.5462,-1874.0039 3009.4386,-1533.1401 3175,-1355.8021 3230.6747,-1296.1671 3293.4717,-1373.3769 3355,-1319.8021 3454.1927,-1233.4316 3473.4182,-1062.5662 3477.1241,-995.1785"/>
<polygon fill="#000000" stroke="#000000" points="3480.6329,-995.073 3477.6098,-984.9186 3473.6407,-994.7419 3480.6329,-995.073"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="3811,-1134.402 3557,-1134.402 3557,-799.401 3811,-799.401 3811,-1134.402"/>
<text text-anchor="middle" x="3684" y="-1103.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local metas = {}</text>
<text text-anchor="middle" x="3684" y="-1071.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">local AMt, amt = u.inherit(Node)</text>
<text text-anchor="middle" x="3684" y="-1040.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">local function Anew(A, t, str)</text>
<text text-anchor="middle" x="3684" y="-1025.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">	local a = setmetatable(t, AMt)</text>
<text text-anchor="middle" x="3684" y="-1009.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">	a.id = &quot;A&quot;	</text>
<text text-anchor="middle" x="3684" y="-994.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">	return a</text>
<text text-anchor="middle" x="3684" y="-978.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3684" y="-947.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">metas[&quot;A&quot;] = u.export(amt, Anew)</text>
<text text-anchor="middle" x="3684" y="-932.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
<text text-anchor="middle" x="3684" y="-900.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="3684" y="-885.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.ab = Grammar(ab, metas)</text>
<text text-anchor="middle" x="3684" y="-869.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
<text text-anchor="middle" x="3684" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="3684" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">return Spec</text>
<text text-anchor="middle" x="3684" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
</g>
<!-- section_7&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>section_7&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3090.4091,-1955.708C3070.5301,-1872.6457 3000.4885,-1524.7293 3175,-1355.8021 3234.8332,-1297.8835 3481.6861,-1370.1711 3548,-1319.8021 3603.5776,-1277.5879 3636.4488,-1209.5896 3655.8878,-1144.4965"/>
<polygon fill="#000000" stroke="#000000" points="3659.3631,-1145.0773 3658.7766,-1134.4987 3652.6382,-1143.1342 3659.3631,-1145.0773"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="509,-576.3009 455,-576.3009 455,-540.3009 509,-540.3009 509,-576.3009"/>
</g>
<!-- block_10&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>block_10&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M601.3212,-948.6614C604.4443,-894.0893 607.8076,-728.7746 545,-614.0009 538.2423,-601.6521 527.6378,-590.7037 517.0428,-581.8528"/>
<polygon fill="#000000" stroke="#000000" points="519.0233,-578.9569 509.0066,-575.5048 514.6842,-584.4499 519.0233,-578.9569"/>
</g>
<!-- codeblock_14 -->
<g id="node15" class="node">
<title>codeblock_14</title>
<ellipse fill="none" stroke="#000000" cx="600" cy="-558.3009" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="600" y="-554.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 8&#45;22</text>
</g>
<!-- block_11&#45;&gt;codeblock_14 -->
<g id="edge14" class="edge">
<title>block_11&#45;&gt;codeblock_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M715.6354,-948.8388C716.792,-894.7623 714.8238,-730.6888 655,-614.0009 648.9337,-602.1684 639.4702,-591.2442 630.0924,-582.2623"/>
<polygon fill="#000000" stroke="#000000" points="632.4082,-579.6374 622.6566,-575.4953 627.6967,-584.8145 632.4082,-579.6374"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="745,-576.3009 691,-576.3009 691,-540.3009 745,-540.3009 745,-576.3009"/>
</g>
<!-- block_11&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>block_11&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M715.1328,-948.8172C715.6061,-884.3561 717.213,-665.4875 717.7909,-586.7844"/>
<polygon fill="#000000" stroke="#000000" points="721.2917,-586.6654 717.8654,-576.64 714.2919,-586.614 721.2917,-586.6654"/>
</g>
<!-- codeblock_17 -->
<g id="node18" class="node">
<title>codeblock_17</title>
<ellipse fill="none" stroke="#000000" cx="840" cy="-558.3009" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="840" y="-554.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 24&#45;26</text>
</g>
<!-- block_12&#45;&gt;codeblock_17 -->
<g id="edge17" class="edge">
<title>block_12&#45;&gt;codeblock_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M840,-948.8172C840,-884.3561 840,-665.4875 840,-586.7844"/>
<polygon fill="#000000" stroke="#000000" points="843.5001,-586.6399 840,-576.64 836.5001,-586.64 843.5001,-586.6399"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="989,-576.3009 935,-576.3009 935,-540.3009 989,-540.3009 989,-576.3009"/>
</g>
<!-- block_12&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>block_12&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M839.5896,-948.776C839.1131,-894.524 843.1902,-730.0111 905,-614.0009 911.1604,-602.4386 920.5616,-591.8093 929.9635,-583.0047"/>
<polygon fill="#000000" stroke="#000000" points="932.2968,-585.6135 937.4418,-576.3518 927.6441,-580.3835 932.2968,-585.6135"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="741,-348.3008 459,-348.3008 459,-154.3001 741,-154.3001 741,-348.3008"/>
<text text-anchor="middle" x="600" y="-333.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;util&quot;</text>
<text text-anchor="middle" x="600" y="-317.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="600" y="-286.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">local Grammar = require &quot;node/grammar&quot;</text>
<text text-anchor="middle" x="600" y="-270.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;node/node&quot;</text>
<text text-anchor="middle" x="600" y="-255.5005" font-family="Inconsolata" font-size="14.00" fill="#000000">local epnf = require &quot;peg/epnf&quot;</text>
<text text-anchor="middle" x="600" y="-240.1005" font-family="Inconsolata" font-size="14.00" fill="#000000">local pnf = require &quot;node/define&quot;</text>
<text text-anchor="middle" x="600" y="-224.7004" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="600" y="-209.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">local P = L.P</text>
<text text-anchor="middle" x="600" y="-193.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">local V = L.V</text>
<text text-anchor="middle" x="600" y="-178.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">local C = L.C</text>
</g>
<!-- codeblock_14&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>codeblock_14&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M600,-540.016C600,-504.839 600,-425.3182 600,-358.6226"/>
<polygon fill="#000000" stroke="#000000" points="603.5001,-358.4603 600,-348.4604 596.5001,-358.4604 603.5001,-358.4603"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="900.5,-269.3005 779.5,-269.3005 779.5,-233.3005 900.5,-233.3005 900.5,-269.3005"/>
<text text-anchor="middle" x="840" y="-247.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">local Spec = {}</text>
</g>
<!-- codeblock_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>codeblock_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M840,-540.016C840,-488.5058 840,-341.9133 840,-279.7372"/>
<polygon fill="#000000" stroke="#000000" points="843.5001,-279.4895 840,-269.4895 836.5001,-279.4896 843.5001,-279.4895"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1360,-578.203 1036,-578.203 1036,-538.3988 1360,-538.3988 1360,-578.203"/>
<text text-anchor="middle" x="1198" y="-546.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">This should succeed under all circumstances.</text>
</g>
<!-- block_22&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>block_22&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1460.6656,-948.6906C1467.9686,-891.3038 1482.2151,-712.2282 1393,-614.0009 1381.1265,-600.928 1348.6143,-589.5475 1313.4621,-580.5405"/>
<polygon fill="#000000" stroke="#000000" points="1314.0412,-577.078 1303.4923,-578.0635 1312.3533,-583.8715 1314.0412,-577.078"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1737.5,-576.3009 1378.5,-576.3009 1378.5,-540.3009 1737.5,-540.3009 1737.5,-576.3009"/>
<text text-anchor="middle" x="1558" y="-554.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;d have to guess what it will return currently. </text>
</g>
<!-- block_23&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>block_23&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1586.6722,-948.8172C1581.9394,-884.3561 1565.8698,-665.4875 1560.0913,-586.7844"/>
<polygon fill="#000000" stroke="#000000" points="1563.5694,-586.3568 1559.3465,-576.64 1556.5882,-586.8694 1563.5694,-586.3568"/>
</g>
<!-- codeblock_27 -->
<g id="node28" class="node">
<title>codeblock_27</title>
<ellipse fill="none" stroke="#000000" cx="1833" cy="-558.3009" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1833" y="-554.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 34&#45;67</text>
</g>
<!-- block_24&#45;&gt;codeblock_27 -->
<g id="edge27" class="edge">
<title>block_24&#45;&gt;codeblock_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1717.8277,-948.5485C1718.0276,-894.345 1723.7651,-731.4253 1782,-614.0009 1787.6433,-602.6218 1796.3188,-591.8786 1804.9234,-582.9194"/>
<polygon fill="#000000" stroke="#000000" points="1807.4286,-585.3644 1812.0666,-575.8386 1802.5005,-580.393 1807.4286,-585.3644"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1982,-576.3009 1928,-576.3009 1928,-540.3009 1982,-540.3009 1982,-576.3009"/>
</g>
<!-- block_24&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>block_24&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1715.1863,-948.6162C1707.4345,-891.0083 1691.9241,-711.3488 1782,-614.0009 1822.6695,-570.0482 1856.9999,-598.2038 1918.1785,-577.6385"/>
<polygon fill="#000000" stroke="#000000" points="1919.6545,-580.8243 1927.8171,-574.0698 1917.2239,-574.2598 1919.6545,-580.8243"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1995,-502.4015 1671,-502.4015 1671,-.1994 1995,-.1994 1995,-502.4015"/>
<text text-anchor="middle" x="1833" y="-487.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function epsilon(_ENV)</text>
<text text-anchor="middle" x="1833" y="-472.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;START &quot;any&quot;</text>
<text text-anchor="middle" x="1833" y="-456.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;any = V&quot;anything&quot; + V&quot;other&quot;</text>
<text text-anchor="middle" x="1833" y="-441.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;anything = P(1)</text>
<text text-anchor="middle" x="1833" y="-425.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;other = P(1)^1</text>
<text text-anchor="middle" x="1833" y="-410.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">end </text>
<text text-anchor="middle" x="1833" y="-379.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local function a(_ENV)</text>
<text text-anchor="middle" x="1833" y="-363.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;START &quot;A&quot;</text>
<text text-anchor="middle" x="1833" y="-348.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;A = P&quot;a&quot; + P&quot;A&quot;</text>
<text text-anchor="middle" x="1833" y="-332.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1833" y="-301.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local function ab(_ENV)</text>
<text text-anchor="middle" x="1833" y="-286.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;START &quot;AB&quot;</text>
<text text-anchor="middle" x="1833" y="-270.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;AB = V&quot;B&quot; + V&quot;A&quot; &#160;</text>
<text text-anchor="middle" x="1833" y="-255.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;A = P&quot;a&quot; + P&quot;A&quot;</text>
<text text-anchor="middle" x="1833" y="-239.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;B = V&quot;bmatch&quot; + (V&quot;A&quot; * V&quot;bmatch&quot;)</text>
<text text-anchor="middle" x="1833" y="-224.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;bmatch = P&quot;b&quot; + P&quot;B&quot;</text>
<text text-anchor="middle" x="1833" y="-209.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1833" y="-177.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function clu_gm(_ENV)</text>
<text text-anchor="middle" x="1833" y="-162.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local WS = P(m._ + m.NL)^0</text>
<text text-anchor="middle" x="1833" y="-146.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;START &quot;clu&quot;</text>
<text text-anchor="middle" x="1833" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;SUPPRESS &quot;form&quot;</text>
<text text-anchor="middle" x="1833" y="-116.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;clu = V&quot;form&quot;^1</text>
<text text-anchor="middle" x="1833" y="-100.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;form = (V&quot;number&quot; * WS)</text>
<text text-anchor="middle" x="1833" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;+ (V&quot;atom&quot; * WS) </text>
<text text-anchor="middle" x="1833" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;+ (V&quot;expr&quot; * WS)</text>
<text text-anchor="middle" x="1833" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;expr = m.pal * WS * V&quot;form&quot;^0 * WS * m.par</text>
<text text-anchor="middle" x="1833" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;atom = m.symbol</text>
<text text-anchor="middle" x="1833" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;number = m.number</text>
<text text-anchor="middle" x="1833" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_27&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>codeblock_27&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1833,-540.016C1833,-532.7026 1833,-523.4724 1833,-512.8392"/>
<polygon fill="#000000" stroke="#000000" points="1836.5001,-512.6943 1833,-502.6943 1829.5001,-512.6944 1836.5001,-512.6943"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2402,-576.3009 2348,-576.3009 2348,-540.3009 2402,-540.3009 2402,-576.3009"/>
</g>
<!-- block_32&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>block_32&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2375,-948.8172C2375,-884.3561 2375,-665.4875 2375,-586.7844"/>
<polygon fill="#000000" stroke="#000000" points="2378.5001,-586.6399 2375,-576.64 2371.5001,-586.64 2378.5001,-586.6399"/>
</g>
<!-- codeblock_35 -->
<g id="node36" class="node">
<title>codeblock_35</title>
<ellipse fill="none" stroke="#000000" cx="2501" cy="-558.3009" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2501" y="-554.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 71&#45;75</text>
</g>
<!-- block_33&#45;&gt;codeblock_35 -->
<g id="edge35" class="edge">
<title>block_33&#45;&gt;codeblock_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2504.823,-948.8172C2504.1919,-884.3561 2502.0493,-665.4875 2501.2788,-586.7844"/>
<polygon fill="#000000" stroke="#000000" points="2504.7774,-586.6052 2501.1795,-576.64 2497.7777,-586.6738 2504.7774,-586.6052"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="2650,-576.3009 2596,-576.3009 2596,-540.3009 2650,-540.3009 2650,-576.3009"/>
</g>
<!-- block_33&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>block_33&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2504.7861,-948.8784C2504.8583,-894.9124 2510.3098,-731.1158 2570,-614.0009 2575.7299,-602.7586 2584.4549,-592.224 2593.1818,-583.4075"/>
<polygon fill="#000000" stroke="#000000" points="2595.6605,-585.8798 2600.4471,-576.4279 2590.8109,-580.8318 2595.6605,-585.8798"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2617.5,-278.5009 2384.5,-278.5009 2384.5,-224.1 2617.5,-224.1 2617.5,-278.5009"/>
<text text-anchor="middle" x="2501" y="-263.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.trivial = Grammar(epsilon)</text>
<text text-anchor="middle" x="2501" y="-247.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.a = Grammar(a)</text>
<text text-anchor="middle" x="2501" y="-232.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.clu = Grammar(clu_gm)</text>
</g>
<!-- codeblock_35&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>codeblock_35&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2501,-540.016C2501,-490.8815 2501,-355.2331 2501,-288.8612"/>
<polygon fill="#000000" stroke="#000000" points="2504.5001,-288.8275 2501,-278.8276 2497.5001,-288.8276 2504.5001,-288.8275"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="2943,-576.3009 2889,-576.3009 2889,-540.3009 2943,-540.3009 2943,-576.3009"/>
</g>
<!-- block_40&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>block_40&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3030.1174,-948.5756C3029.7665,-894.4465 3023.6557,-731.7108 2966,-614.0009 2960.6063,-602.9892 2952.3958,-592.5277 2944.1777,-583.7069"/>
<polygon fill="#000000" stroke="#000000" points="2946.5227,-581.0992 2937.0244,-576.4051 2941.5223,-585.9978 2946.5227,-581.0992"/>
</g>
<!-- codeblock_45 -->
<g id="node46" class="node">
<title>codeblock_45</title>
<ellipse fill="none" stroke="#000000" cx="3038" cy="-558.3009" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3038" y="-554.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 79&#45;92</text>
</g>
<!-- block_41&#45;&gt;codeblock_45 -->
<g id="edge45" class="edge">
<title>block_41&#45;&gt;codeblock_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3160.4104,-948.776C3160.8869,-894.524 3156.8098,-730.0111 3095,-614.0009 3088.6856,-602.1495 3078.9663,-591.2784 3069.3314,-582.3478"/>
<polygon fill="#000000" stroke="#000000" points="3071.5078,-579.6007 3061.6892,-575.62 3066.8823,-584.8548 3071.5078,-579.6007"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="3187,-576.3009 3133,-576.3009 3133,-540.3009 3187,-540.3009 3187,-576.3009"/>
</g>
<!-- block_41&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>block_41&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3160,-948.8172C3160,-884.3561 3160,-665.4875 3160,-586.7844"/>
<polygon fill="#000000" stroke="#000000" points="3163.5001,-586.6399 3160,-576.64 3156.5001,-586.64 3163.5001,-586.6399"/>
</g>
<!-- codeblock_48 -->
<g id="node49" class="node">
<title>codeblock_48</title>
<ellipse fill="none" stroke="#000000" cx="3282" cy="-558.3009" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3282" y="-554.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 94&#45;96</text>
</g>
<!-- block_42&#45;&gt;codeblock_48 -->
<g id="edge48" class="edge">
<title>block_42&#45;&gt;codeblock_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3289.6459,-948.8172C3288.3838,-884.3561 3284.0986,-665.4875 3282.5577,-586.7844"/>
<polygon fill="#000000" stroke="#000000" points="3286.0542,-586.5695 3282.3591,-576.64 3279.0556,-586.7066 3286.0542,-586.5695"/>
</g>
<!-- leaf_50 -->
<g id="node51" class="node">
<title>leaf_50</title>
<polygon fill="none" stroke="#c0c0c0" points="3431,-576.3009 3377,-576.3009 3377,-540.3009 3431,-540.3009 3431,-576.3009"/>
</g>
<!-- block_42&#45;&gt;leaf_50 -->
<g id="edge50" class="edge">
<title>block_42&#45;&gt;leaf_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3295.0455,-948.8172C3313.067,-884.2243 3374.3448,-664.5917 3396.1873,-586.3033"/>
<polygon fill="#000000" stroke="#000000" points="3399.5672,-587.2127 3398.8834,-576.64 3392.8247,-585.3315 3399.5672,-587.2127"/>
</g>
<!-- codeblock_51 -->
<g id="node52" class="node">
<title>codeblock_51</title>
<ellipse fill="none" stroke="#000000" cx="3531" cy="-558.3009" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="3531" y="-554.1009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 98&#45;100</text>
</g>
<!-- block_43&#45;&gt;codeblock_51 -->
<g id="edge51" class="edge">
<title>block_43&#45;&gt;codeblock_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3480.3457,-948.8172C3488.707,-884.3561 3517.0967,-665.4875 3527.3054,-586.7844"/>
<polygon fill="#000000" stroke="#000000" points="3530.8057,-587.0071 3528.6212,-576.64 3523.8639,-586.1066 3530.8057,-587.0071"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="3685,-576.3009 3631,-576.3009 3631,-540.3009 3685,-540.3009 3685,-576.3009"/>
</g>
<!-- block_43&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>block_43&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3476.3555,-948.9003C3472.2218,-892.8795 3466.9448,-719.107 3548,-614.0009 3570.3351,-585.0385 3589.504,-594.7844 3622,-578.0009 3622.091,-577.9539 3622.1821,-577.9068 3622.2733,-577.8597"/>
<polygon fill="#000000" stroke="#000000" points="3623.7348,-581.0459 3630.9477,-573.2853 3620.4696,-574.854 3623.7348,-581.0459"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="3158,-349.0008 2918,-349.0008 2918,-153.6001 3158,-153.6001 3158,-349.0008"/>
<text text-anchor="middle" x="3038" y="-317.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">local metas = {}</text>
<text text-anchor="middle" x="3038" y="-286.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">local AMt, amt = u.inherit(Node)</text>
<text text-anchor="middle" x="3038" y="-254.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">local function Anew(A, t, str)</text>
<text text-anchor="middle" x="3038" y="-239.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local a = setmetatable(t, AMt)</text>
<text text-anchor="middle" x="3038" y="-224.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;a.id = &quot;A&quot; &#160;</text>
<text text-anchor="middle" x="3038" y="-208.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return a</text>
<text text-anchor="middle" x="3038" y="-193.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3038" y="-161.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">metas[&quot;A&quot;] = u.export(amt, Anew)</text>
</g>
<!-- codeblock_45&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>codeblock_45&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3038,-540.016C3038,-504.9618 3038,-425.8728 3038,-359.3215"/>
<polygon fill="#000000" stroke="#000000" points="3041.5001,-359.1791 3038,-349.1791 3034.5001,-359.1791 3041.5001,-359.1791"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="3388,-269.3005 3176,-269.3005 3176,-233.3005 3388,-233.3005 3388,-269.3005"/>
<text text-anchor="middle" x="3282" y="-247.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.ab = Grammar(ab, metas)</text>
</g>
<!-- codeblock_48&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>codeblock_48&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3282,-540.016C3282,-488.5058 3282,-341.9133 3282,-279.7372"/>
<polygon fill="#000000" stroke="#000000" points="3285.5001,-279.4895 3282,-269.4895 3278.5001,-279.4896 3285.5001,-279.4895"/>
</g>
<!-- leaf_52 -->
<g id="node53" class="node">
<title>leaf_52</title>
<polygon fill="none" stroke="#c0c0c0" points="3577.5,-269.3005 3484.5,-269.3005 3484.5,-233.3005 3577.5,-233.3005 3577.5,-269.3005"/>
<text text-anchor="middle" x="3531" y="-247.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">return Spec</text>
</g>
<!-- codeblock_51&#45;&gt;leaf_52 -->
<g id="edge52" class="edge">
<title>codeblock_51&#45;&gt;leaf_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3531,-540.016C3531,-488.5058 3531,-341.9133 3531,-279.7372"/>
<polygon fill="#000000" stroke="#000000" points="3534.5001,-279.4895 3531,-269.4895 3527.5001,-279.4896 3534.5001,-279.4895"/>
</g>
</g>
</svg>