<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="2964pt" height="633pt"
 viewBox="0.00 0.00 2964.46 633.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 629.2006)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-629.2006 2960.4605,-629.2006 2960.4605,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1086" cy="-607.2006" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="1086" y="-603.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 86</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1086" cy="-535.2006" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="1086" y="-531.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;61</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1086,-589.0319C1086,-581.3315 1086,-572.1749 1086,-563.6172"/>
<polygon fill="#000000" stroke="#000000" points="1089.5001,-563.6138 1086,-553.6138 1082.5001,-563.6139 1089.5001,-563.6138"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="589" cy="-463.2006" rx="42.6061" ry="18"/>
<text text-anchor="middle" x="589" y="-459.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Spec</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1025.919,-531.9692C939.7574,-526.4225 776.5411,-512.5081 641,-481.2006 637.4396,-480.3782 633.7823,-479.3997 630.1364,-478.3301"/>
<polygon fill="#000000" stroke="#000000" points="631.1765,-474.9883 620.5872,-475.3308 629.0788,-481.6666 631.1765,-474.9883"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="682" cy="-463.2006" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="682" y="-459.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1026.5036,-531.2238C953.7421,-525.2547 827.3817,-511.2932 723,-481.2006 720.5817,-480.5034 718.1194,-479.6947 715.6628,-478.8138"/>
<polygon fill="#000000" stroke="#000000" points="716.9089,-475.543 706.3217,-475.1417 714.3479,-482.0577 716.9089,-475.543"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="793" cy="-463.2006" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="793" y="-459.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;26</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1038.9245,-523.6325C987.4512,-510.9838 904.9729,-490.7161 849.9079,-477.1847"/>
<polygon fill="#000000" stroke="#000000" points="850.505,-473.7274 839.9587,-474.7399 848.8345,-480.5252 850.505,-473.7274"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="1295" cy="-463.2006" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1295" y="-459.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 27&#45;54</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1125.8032,-521.4884C1159.5067,-509.8777 1208.0128,-493.1675 1244.4553,-480.6131"/>
<polygon fill="#000000" stroke="#000000" points="1245.6021,-483.9199 1253.9168,-477.3536 1243.3221,-477.3017 1245.6021,-483.9199"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="1893" cy="-463.2006" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1893" y="-459.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 55&#45;61</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1144.3621,-529.9935C1288.6409,-517.1211 1661.842,-483.8243 1820.2135,-469.6945"/>
<polygon fill="#000000" stroke="#000000" points="1820.6804,-473.1669 1830.3297,-468.792 1820.0582,-466.1946 1820.6804,-473.1669"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="2423" cy="-463.2006" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2423" y="-459.0006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 62&#45;86</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1146.0455,-531.967C1363.4467,-520.2595 2109.2222,-480.0981 2348.4817,-467.2135"/>
<polygon fill="#000000" stroke="#000000" points="2348.6776,-470.7081 2358.4749,-466.6754 2348.3012,-463.7183 2348.6776,-470.7081"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="408,-409.4017 0,-409.4017 0,-337.5994 408,-337.5994 408,-409.4017"/>
<text text-anchor="middle" x="204" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;A small test harness to exercise our fresh Node class.</text>
</g>
<!-- prose_3&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>prose_3&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M657.6641,-451.3083C652.2719,-449.0163 646.5181,-446.8263 641,-445.2006 547.3002,-417.594 518.3047,-425.019 417.9904,-409.3232"/>
<polygon fill="#000000" stroke="#000000" points="418.4834,-405.8576 408.0554,-407.7301 417.3751,-412.7693 418.4834,-405.8576"/>
</g>
<!-- header_9 -->
<g id="node10" class="node">
<title>header_9</title>
<ellipse fill="none" stroke="#000000" cx="481" cy="-373.5005" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="481" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : includes</text>
</g>
<!-- section_4&#45;&gt;header_9 -->
<g id="edge9" class="edge">
<title>section_4&#45;&gt;header_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M747.5222,-451.1397C739.375,-449.0837 730.9496,-447.0252 723,-445.2006 644.3328,-427.144 620.7029,-437.1942 545,-409.2006 534.6909,-405.3884 524.0513,-400.0836 514.4782,-394.7278"/>
<polygon fill="#000000" stroke="#000000" points="516.0793,-391.6104 505.6723,-389.6241 512.5692,-397.6668 516.0793,-391.6104"/>
</g>
<!-- prose_10 -->
<g id="node11" class="node">
<title>prose_10</title>
<ellipse fill="none" stroke="#000000" cx="586" cy="-373.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="586" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_10 -->
<g id="edge10" class="edge">
<title>section_4&#45;&gt;prose_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M748.1981,-450.8202C706.5511,-438.9186 647.8968,-421.0395 627,-409.2006 620.7102,-405.6371 614.5139,-401.0102 608.9182,-396.2752"/>
<polygon fill="#000000" stroke="#000000" points="610.9934,-393.4353 601.2088,-389.3718 606.3238,-398.6502 610.9934,-393.4353"/>
</g>
<!-- codeblock_11 -->
<g id="node12" class="node">
<title>codeblock_11</title>
<ellipse fill="none" stroke="#000000" cx="709" cy="-373.5005" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="709" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 8&#45;21</text>
</g>
<!-- section_4&#45;&gt;codeblock_11 -->
<g id="edge11" class="edge">
<title>section_4&#45;&gt;codeblock_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M776.4043,-445.4787C763.8639,-432.0874 746.4834,-413.5275 732.5126,-398.6086"/>
<polygon fill="#000000" stroke="#000000" points="734.9513,-396.0924 725.5612,-391.1856 729.8419,-400.8772 734.9513,-396.0924"/>
</g>
<!-- codeblock_12 -->
<g id="node13" class="node">
<title>codeblock_12</title>
<ellipse fill="none" stroke="#000000" cx="877" cy="-373.5005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="877" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 23&#45;25</text>
</g>
<!-- section_4&#45;&gt;codeblock_12 -->
<g id="edge12" class="edge">
<title>section_4&#45;&gt;codeblock_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M809.5957,-445.4787C822.1361,-432.0874 839.5166,-413.5275 853.4874,-398.6086"/>
<polygon fill="#000000" stroke="#000000" points="856.1581,-400.8772 860.4388,-391.1856 851.0487,-396.0924 856.1581,-400.8772"/>
</g>
<!-- header_16 -->
<g id="node17" class="node">
<title>header_16</title>
<ellipse fill="none" stroke="#000000" cx="1159" cy="-373.5005" rx="85.0876" ry="18"/>
<text text-anchor="middle" x="1159" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Trivial Grammar</text>
</g>
<!-- section_5&#45;&gt;header_16 -->
<g id="edge16" class="edge">
<title>section_5&#45;&gt;header_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1269.7382,-446.5389C1248.2559,-432.3701 1217.2036,-411.8892 1193.4446,-396.2188"/>
<polygon fill="#000000" stroke="#000000" points="1195.3273,-393.2679 1185.0525,-390.6837 1191.4732,-399.1113 1195.3273,-393.2679"/>
</g>
<!-- prose_17 -->
<g id="node18" class="node">
<title>prose_17</title>
<ellipse fill="none" stroke="#000000" cx="1295" cy="-373.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1295" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_17 -->
<g id="edge17" class="edge">
<title>section_5&#45;&gt;prose_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1295,-445.0484C1295,-432.647 1295,-415.9638 1295,-401.8269"/>
<polygon fill="#000000" stroke="#000000" points="1298.5001,-401.6257 1295,-391.6257 1291.5001,-401.6257 1298.5001,-401.6257"/>
</g>
<!-- prose_18 -->
<g id="node19" class="node">
<title>prose_18</title>
<ellipse fill="none" stroke="#000000" cx="1427" cy="-373.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1427" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_18 -->
<g id="edge18" class="edge">
<title>section_5&#45;&gt;prose_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1319.8282,-446.3287C1341.9463,-431.2984 1374.3358,-409.2883 1397.7131,-393.4024"/>
<polygon fill="#000000" stroke="#000000" points="1399.8873,-396.1565 1406.1912,-387.6411 1395.9529,-390.3668 1399.8873,-396.1565"/>
</g>
<!-- codeblock_19 -->
<g id="node20" class="node">
<title>codeblock_19</title>
<ellipse fill="none" stroke="#000000" cx="1621" cy="-373.5005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1621" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 33&#45;53</text>
</g>
<!-- section_5&#45;&gt;codeblock_19 -->
<g id="edge19" class="edge">
<title>section_5&#45;&gt;codeblock_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1341.3616,-450.444C1399.0118,-434.5814 1497.5401,-407.471 1560.9254,-390.0303"/>
<polygon fill="#000000" stroke="#000000" points="1562.0718,-393.345 1570.7849,-387.3174 1560.2147,-386.5958 1562.0718,-393.345"/>
</g>
<!-- header_23 -->
<g id="node24" class="node">
<title>header_23</title>
<ellipse fill="none" stroke="#000000" cx="1835" cy="-373.5005" rx="66.7704" ry="18"/>
<text text-anchor="middle" x="1835" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Easy mode</text>
</g>
<!-- section_6&#45;&gt;header_23 -->
<g id="edge23" class="edge">
<title>section_6&#45;&gt;header_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1881.2628,-445.0484C1872.8748,-432.0759 1861.4573,-414.4181 1852.0638,-399.8906"/>
<polygon fill="#000000" stroke="#000000" points="1854.8907,-397.8166 1846.5218,-391.3196 1849.0125,-401.6175 1854.8907,-397.8166"/>
</g>
<!-- prose_24 -->
<g id="node25" class="node">
<title>prose_24</title>
<ellipse fill="none" stroke="#000000" cx="1952" cy="-373.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1952" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_24 -->
<g id="edge24" class="edge">
<title>section_6&#45;&gt;prose_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1904.6565,-445.4787C1913.3335,-432.2868 1925.3095,-414.0792 1935.0452,-399.2776"/>
<polygon fill="#000000" stroke="#000000" points="1938.1968,-400.8551 1940.768,-390.577 1932.3485,-397.0083 1938.1968,-400.8551"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="2080" cy="-373.5005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2080" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 57&#45;60</text>
</g>
<!-- section_6&#45;&gt;codeblock_25 -->
<g id="edge25" class="edge">
<title>section_6&#45;&gt;codeblock_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1926.0014,-447.3705C1956.8621,-432.5672 2003.1326,-410.3722 2036.8976,-394.1759"/>
<polygon fill="#000000" stroke="#000000" points="2038.5637,-397.2586 2046.0663,-389.7779 2035.5361,-390.9471 2038.5637,-397.2586"/>
</g>
<!-- header_28 -->
<g id="node29" class="node">
<title>header_28</title>
<ellipse fill="none" stroke="#000000" cx="2242" cy="-373.5005" rx="66.7444" ry="18"/>
<text text-anchor="middle" x="2242" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : With metas</text>
</g>
<!-- section_7&#45;&gt;header_28 -->
<g id="edge28" class="edge">
<title>section_7&#45;&gt;header_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2391.0575,-447.3705C2361.0374,-432.4931 2315.9525,-410.1499 2283.2298,-393.9332"/>
<polygon fill="#000000" stroke="#000000" points="2284.4413,-390.6274 2273.9271,-389.323 2281.333,-396.8995 2284.4413,-390.6274"/>
</g>
<!-- prose_29 -->
<g id="node30" class="node">
<title>prose_29</title>
<ellipse fill="none" stroke="#000000" cx="2359" cy="-373.5005" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2359" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_29 -->
<g id="edge29" class="edge">
<title>section_7&#45;&gt;prose_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2410.3557,-445.4787C2400.7937,-432.077 2387.5383,-413.4988 2376.8896,-398.574"/>
<polygon fill="#000000" stroke="#000000" points="2379.626,-396.383 2370.9687,-390.2754 2373.9277,-400.4487 2379.626,-396.383"/>
</g>
<!-- codeblock_30 -->
<g id="node31" class="node">
<title>codeblock_30</title>
<ellipse fill="none" stroke="#000000" cx="2487" cy="-373.5005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2487" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 64&#45;78</text>
</g>
<!-- section_7&#45;&gt;codeblock_30 -->
<g id="edge30" class="edge">
<title>section_7&#45;&gt;codeblock_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2435.6443,-445.4787C2444.9627,-432.4184 2457.7887,-414.4421 2468.2915,-399.7217"/>
<polygon fill="#000000" stroke="#000000" points="2471.2039,-401.6659 2474.1629,-391.4926 2465.5056,-397.6002 2471.2039,-401.6659"/>
</g>
<!-- codeblock_31 -->
<g id="node32" class="node">
<title>codeblock_31</title>
<ellipse fill="none" stroke="#000000" cx="2683" cy="-373.5005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2683" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 80&#45;82</text>
</g>
<!-- section_7&#45;&gt;codeblock_31 -->
<g id="edge31" class="edge">
<title>section_7&#45;&gt;codeblock_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2463.911,-449.0863C2508.6901,-433.6375 2580.6417,-408.8142 2629.7816,-391.8609"/>
<polygon fill="#000000" stroke="#000000" points="2630.9789,-395.1504 2639.2906,-388.5803 2628.6959,-388.5331 2630.9789,-395.1504"/>
</g>
<!-- codeblock_32 -->
<g id="node33" class="node">
<title>codeblock_32</title>
<ellipse fill="none" stroke="#000000" cx="2879" cy="-373.5005" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2879" y="-369.3005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 84&#45;86</text>
</g>
<!-- section_7&#45;&gt;codeblock_32 -->
<g id="edge32" class="edge">
<title>section_7&#45;&gt;codeblock_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2484.1977,-456.6329C2553.7941,-448.4767 2670.5399,-432.7035 2769,-409.2006 2788.4509,-404.5575 2809.4172,-398.1235 2827.7754,-391.9949"/>
<polygon fill="#000000" stroke="#000000" points="2829.0506,-395.2583 2837.397,-388.7322 2826.8026,-388.629 2829.0506,-395.2583"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="472,-168.9003 418,-168.9003 418,-132.9003 472,-132.9003 472,-168.9003"/>
</g>
<!-- prose_10&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>prose_10&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M569.4821,-357.75C562.2463,-351.2184 553.4834,-343.7855 545,-337.8005 518.3327,-318.9871 500.6544,-327.8542 481,-301.8005 453.7489,-265.6768 446.7612,-211.9743 445.1771,-179.3249"/>
<polygon fill="#000000" stroke="#000000" points="448.6677,-178.989 444.8256,-169.1154 441.6718,-179.2299 448.6677,-178.989"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="772,-240.001 490,-240.001 490,-61.7995 772,-61.7995 772,-240.001"/>
<text text-anchor="middle" x="631" y="-225.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;util&quot;</text>
<text text-anchor="middle" x="631" y="-193.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">local Grammar = require &quot;node/grammar&quot;</text>
<text text-anchor="middle" x="631" y="-178.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;node/node&quot;</text>
<text text-anchor="middle" x="631" y="-162.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local epnf = require &quot;peg/epnf&quot;</text>
<text text-anchor="middle" x="631" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">local pnf = require &quot;node/define&quot;</text>
<text text-anchor="middle" x="631" y="-132.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="631" y="-116.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">local P = L.P</text>
<text text-anchor="middle" x="631" y="-101.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local V = L.V</text>
<text text-anchor="middle" x="631" y="-85.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">local C = L.C</text>
</g>
<!-- codeblock_11&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>codeblock_11&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M702.6169,-355.2842C694.4486,-331.9731 679.6742,-289.809 665.6574,-249.8072"/>
<polygon fill="#000000" stroke="#000000" points="668.9147,-248.519 662.3047,-240.239 662.3085,-250.8339 668.9147,-248.519"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="911.5,-168.9003 790.5,-168.9003 790.5,-132.9003 911.5,-132.9003 911.5,-168.9003"/>
<text text-anchor="middle" x="851" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">local Spec = {}</text>
</g>
<!-- codeblock_12&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>codeblock_12&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M874.8723,-355.2842C870.3379,-316.4628 859.6963,-225.354 854.2847,-179.0222"/>
<polygon fill="#000000" stroke="#000000" points="857.7572,-178.5825 853.1206,-169.0561 850.8045,-179.3946 857.7572,-178.5825"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="1254,-178.8018 930,-178.8018 930,-122.9988 1254,-122.9988 1254,-178.8018"/>
<text text-anchor="middle" x="1092" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">This should succeed under all circumstances.</text>
</g>
<!-- prose_17&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>prose_17&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1280.0729,-357.1322C1247.3935,-321.2974 1168.8854,-235.2092 1124.3211,-186.3421"/>
<polygon fill="#000000" stroke="#000000" points="1126.7969,-183.8627 1117.4725,-178.8322 1121.6247,-188.5795 1126.7969,-183.8627"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1631.5,-170.8023 1272.5,-170.8023 1272.5,-130.9982 1631.5,-130.9982 1631.5,-170.8023"/>
<text text-anchor="middle" x="1452" y="-139.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;d have to guess what it will return currently. </text>
</g>
<!-- prose_18&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>prose_18&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1429.0459,-355.2842C1433.3518,-316.9444 1443.3852,-227.6067 1448.6457,-180.7672"/>
<polygon fill="#000000" stroke="#000000" points="1452.1451,-180.9675 1449.7831,-170.6393 1445.1888,-180.1862 1452.1451,-180.9675"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1918,-301.7009 1650,-301.7009 1650,-.0997 1918,-.0997 1918,-301.7009"/>
<text text-anchor="middle" x="1784" y="-286.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">local function epsilon(_ENV)</text>
<text text-anchor="middle" x="1784" y="-271.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;START &quot;any&quot;</text>
<text text-anchor="middle" x="1784" y="-255.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;any = C(V&quot;anything&quot; + V&quot;other&quot;)</text>
<text text-anchor="middle" x="1784" y="-240.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;anything = P(1)</text>
<text text-anchor="middle" x="1784" y="-225.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;other = P(1)^1</text>
<text text-anchor="middle" x="1784" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end </text>
<text text-anchor="middle" x="1784" y="-178.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function a(_ENV)</text>
<text text-anchor="middle" x="1784" y="-162.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;START &quot;A&quot;</text>
<text text-anchor="middle" x="1784" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;A = C(P&quot;a&quot; + P&quot;A&quot;)</text>
<text text-anchor="middle" x="1784" y="-132.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1784" y="-100.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">local function ab(_ENV)</text>
<text text-anchor="middle" x="1784" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;START &quot;AB&quot;</text>
<text text-anchor="middle" x="1784" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;AB = V&quot;B&quot; + V&quot;A&quot; &#160;</text>
<text text-anchor="middle" x="1784" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;A = C(P&quot;a&quot; + P&quot;A&quot;)</text>
<text text-anchor="middle" x="1784" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;B = V&quot;bmatch&quot; + (V&quot;A&quot; * V&quot;bmatch&quot;)</text>
<text text-anchor="middle" x="1784" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;bmatch = P&quot;b&quot; + P&quot;B&quot;</text>
<text text-anchor="middle" x="1784" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_19&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>codeblock_19&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1634.0634,-355.6605C1642.3835,-344.2983 1654.0616,-328.35 1667.2683,-310.3144"/>
<polygon fill="#000000" stroke="#000000" points="1670.3531,-312.0259 1673.4372,-301.8899 1664.7053,-307.8903 1670.3531,-312.0259"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1990,-168.9003 1936,-168.9003 1936,-132.9003 1990,-132.9003 1990,-168.9003"/>
</g>
<!-- prose_24&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>prose_24&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1952.9002,-355.2842C1954.8145,-316.5445 1959.3019,-225.7374 1961.5958,-179.3154"/>
<polygon fill="#000000" stroke="#000000" points="1965.1049,-179.2167 1962.1028,-169.0561 1958.1134,-178.8711 1965.1049,-179.2167"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="2241.5,-170.2008 2008.5,-170.2008 2008.5,-131.5997 2241.5,-131.5997 2241.5,-170.2008"/>
<text text-anchor="middle" x="2125" y="-155.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.trivial = Grammar(epsilon)</text>
<text text-anchor="middle" x="2125" y="-139.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.a = Grammar(a)</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>codeblock_25&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2083.6825,-355.2842C2091.469,-316.7672 2109.6605,-226.7796 2119.093,-180.1203"/>
<polygon fill="#000000" stroke="#000000" points="2122.5236,-180.8135 2121.0745,-170.3182 2115.6624,-179.4264 2122.5236,-180.8135"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2337,-168.9003 2283,-168.9003 2283,-132.9003 2337,-132.9003 2337,-168.9003"/>
</g>
<!-- prose_29&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>prose_29&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2354.9901,-355.2842C2346.4445,-316.4628 2326.3892,-225.354 2316.1903,-179.0222"/>
<polygon fill="#000000" stroke="#000000" points="2319.5646,-178.0698 2313.9966,-169.0561 2312.7283,-179.5747 2319.5646,-178.0698"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2595,-256.0009 2355,-256.0009 2355,-45.7996 2595,-45.7996 2595,-256.0009"/>
<text text-anchor="middle" x="2475" y="-225.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local metas = {}</text>
<text text-anchor="middle" x="2475" y="-193.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">local AMt, amt = u.inherit(Node)</text>
<text text-anchor="middle" x="2475" y="-162.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function Anew(A, t, str)</text>
<text text-anchor="middle" x="2475" y="-146.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local a = setmetatable(t, AMt)</text>
<text text-anchor="middle" x="2475" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;a.id = &quot;A&quot;</text>
<text text-anchor="middle" x="2475" y="-116.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;</text>
<text text-anchor="middle" x="2475" y="-100.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return a</text>
<text text-anchor="middle" x="2475" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2475" y="-53.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">metas[&quot;A&quot;] = u.export(amt, Anew)</text>
</g>
<!-- codeblock_30&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>codeblock_30&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2486.018,-355.2842C2484.9354,-335.2017 2483.0985,-301.1269 2481.2316,-266.4967"/>
<polygon fill="#000000" stroke="#000000" points="2484.7119,-266.0351 2480.6786,-256.2381 2477.722,-266.412 2484.7119,-266.0351"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="2825,-168.9003 2613,-168.9003 2613,-132.9003 2825,-132.9003 2825,-168.9003"/>
<text text-anchor="middle" x="2719" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">Spec.ab = Grammar(ab, metas)</text>
</g>
<!-- codeblock_31&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>codeblock_31&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2685.946,-355.2842C2692.2244,-316.4628 2706.959,-225.354 2714.452,-179.0222"/>
<polygon fill="#000000" stroke="#000000" points="2717.9223,-179.4866 2716.0638,-169.0561 2711.0121,-178.369 2717.9223,-179.4866"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2936.5,-168.9003 2843.5,-168.9003 2843.5,-132.9003 2936.5,-132.9003 2936.5,-168.9003"/>
<text text-anchor="middle" x="2890" y="-147.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">return Spec</text>
</g>
<!-- codeblock_32&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>codeblock_32&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2879.9002,-355.2842C2881.8145,-316.5445 2886.3019,-225.7374 2888.5958,-179.3154"/>
<polygon fill="#000000" stroke="#000000" points="2892.1049,-179.2167 2889.1028,-169.0561 2885.1134,-178.8711 2892.1049,-179.2167"/>
</g>
</g>
</svg>