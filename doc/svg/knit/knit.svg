<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="4148pt" height="2606pt"
 viewBox="0.00 0.00 4147.50 2606.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2602.0041)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2602.0041 4143.5,-2602.0041 4143.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="443.5" cy="-2580.0041" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="443.5" y="-2575.8041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 213</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="443.5" cy="-2508.0041" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="443.5" y="-2503.8041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;179</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M443.5,-2561.8354C443.5,-2554.135 443.5,-2544.9784 443.5,-2536.4207"/>
<polygon fill="#000000" stroke="#000000" points="447.0001,-2536.4173 443.5,-2526.4173 440.0001,-2536.4174 447.0001,-2536.4173"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="138.5" cy="-2436.0041" rx="69.1929" ry="18"/>
<text text-anchor="middle" x="138.5" y="-2431.8041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Knit module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M393.477,-2496.1953C340.4675,-2483.6816 256.7114,-2463.9097 199.7767,-2450.4694"/>
<polygon fill="#000000" stroke="#000000" points="200.3606,-2447.0111 189.8239,-2448.1199 198.7523,-2453.8238 200.3606,-2447.0111"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="299.5" cy="-2436.0041" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="299.5" y="-2431.8041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M411.8986,-2492.2034C388.5103,-2480.5092 356.7131,-2464.6106 332.9066,-2452.7073"/>
<polygon fill="#000000" stroke="#000000" points="334.3964,-2449.5392 323.8869,-2448.1975 331.2659,-2455.8002 334.3964,-2449.5392"/>
</g>
<!-- codeblock_4 -->
<g id="node5" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="443.5" cy="-2436.0041" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="443.5" y="-2431.8041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 6&#45;44</text>
</g>
<!-- section_1&#45;&gt;codeblock_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;codeblock_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M443.5,-2489.8354C443.5,-2482.135 443.5,-2472.9784 443.5,-2464.4207"/>
<polygon fill="#000000" stroke="#000000" points="447.0001,-2464.4173 443.5,-2454.4173 440.0001,-2464.4174 447.0001,-2464.4173"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="914.5" cy="-2436.0041" rx="69.851" ry="18"/>
<text text-anchor="middle" x="914.5" y="-2431.8041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 47&#45;112</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M501.2538,-2499.1754C587.7624,-2485.9512 750.7747,-2461.0321 844.1202,-2446.7628"/>
<polygon fill="#000000" stroke="#000000" points="844.6831,-2450.2175 854.0393,-2445.2465 843.6253,-2443.2978 844.6831,-2450.2175"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="3348.5" cy="-2436.0041" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="3348.5" y="-2431.8041" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 180&#45;213</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M508.9389,-2506.3822C890.9513,-2496.914 2830.7386,-2448.8367 3263.0223,-2438.1226"/>
<polygon fill="#000000" stroke="#000000" points="3263.3453,-2441.6158 3273.2555,-2437.869 3263.1718,-2434.6179 3263.3453,-2441.6158"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="173.5,-2116.7036 59.5,-2116.7036 59.5,-2080.7036 173.5,-2080.7036 173.5,-2116.7036"/>
<text text-anchor="middle" x="116.5" y="-2095.2036" font-family="Inconsolata" font-size="14.00" fill="#000000"> * Knit module</text>
</g>
<!-- header_2&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>header_2&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M137.3172,-2417.8693C133.6987,-2362.3914 122.7578,-2194.6466 118.3599,-2127.2196"/>
<polygon fill="#000000" stroke="#000000" points="121.8322,-2126.679 117.6887,-2116.928 114.847,-2127.1346 121.8322,-2126.679"/>
</g>
<!-- raw_8 -->
<g id="node9" class="node">
<title>raw_8</title>
<ellipse fill="none" stroke="#000000" cx="218.5" cy="-2098.7036" rx="27" ry="18"/>
<text text-anchor="middle" x="218.5" y="-2094.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_8 -->
<g id="edge8" class="edge">
<title>prose_3&#45;&gt;raw_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M282.5797,-2420.6652C272.6926,-2410.6694 260.9294,-2396.774 254.5,-2382.0041 216.6271,-2295.001 215.2612,-2179.7456 216.9844,-2127.108"/>
<polygon fill="#000000" stroke="#000000" points="220.4917,-2126.9886 217.387,-2116.8589 213.4971,-2126.7138 220.4917,-2126.9886"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="623,-2381.8047 264,-2381.8047 264,-1815.6026 623,-1815.6026 623,-2381.8047"/>
<text text-anchor="middle" x="443.5" y="-2366.8041" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="443.5" y="-2335.404" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;status&quot; ()</text>
<text text-anchor="middle" x="443.5" y="-2320.004" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;ansi&quot;</text>
<text text-anchor="middle" x="443.5" y="-2304.604" font-family="Inconsolata" font-size="14.00" fill="#000000">s.chatty = true</text>
<text text-anchor="middle" x="443.5" y="-2289.2039" font-family="Inconsolata" font-size="14.00" fill="#000000">s.verbose = false</text>
<text text-anchor="middle" x="443.5" y="-2257.8039" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_file = require &quot;pl.file&quot;</text>
<text text-anchor="middle" x="443.5" y="-2242.4039" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_dir = require &quot;pl.dir&quot;</text>
<text text-anchor="middle" x="443.5" y="-2227.0038" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path = require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="443.5" y="-2211.6038" font-family="Inconsolata" font-size="14.00" fill="#000000">local getfiles = pl_dir.getfiles</text>
<text text-anchor="middle" x="443.5" y="-2196.2038" font-family="Inconsolata" font-size="14.00" fill="#000000">local getdirectories = pl_dir.getdirectories</text>
<text text-anchor="middle" x="443.5" y="-2180.8037" font-family="Inconsolata" font-size="14.00" fill="#000000">local makepath = pl_dir.makepath</text>
<text text-anchor="middle" x="443.5" y="-2165.4037" font-family="Inconsolata" font-size="14.00" fill="#000000">local extension = pl_path.extension</text>
<text text-anchor="middle" x="443.5" y="-2150.0037" font-family="Inconsolata" font-size="14.00" fill="#000000">local dirname = pl_path.dirname</text>
<text text-anchor="middle" x="443.5" y="-2134.6037" font-family="Inconsolata" font-size="14.00" fill="#000000">local basename = pl_path.basename</text>
<text text-anchor="middle" x="443.5" y="-2119.2036" font-family="Inconsolata" font-size="14.00" fill="#000000">local read = pl_file.read</text>
<text text-anchor="middle" x="443.5" y="-2103.8036" font-family="Inconsolata" font-size="14.00" fill="#000000">local write = pl_file.write</text>
<text text-anchor="middle" x="443.5" y="-2088.4036" font-family="Inconsolata" font-size="14.00" fill="#000000">local delete = pl_file.delete</text>
<text text-anchor="middle" x="443.5" y="-2073.0035" font-family="Inconsolata" font-size="14.00" fill="#000000">local isdir = pl_path.isdir</text>
<text text-anchor="middle" x="443.5" y="-2025.6035" font-family="Inconsolata" font-size="14.00" fill="#000000">local knitter = require &quot;knit/knitter&quot;</text>
<text text-anchor="middle" x="443.5" y="-1994.2035" font-family="Inconsolata" font-size="14.00" fill="#000000">local Dir = require &quot;walk/directory&quot;</text>
<text text-anchor="middle" x="443.5" y="-1978.8034" font-family="Inconsolata" font-size="14.00" fill="#000000">local Path = require &quot;walk/path&quot;</text>
<text text-anchor="middle" x="443.5" y="-1963.4034" font-family="Inconsolata" font-size="14.00" fill="#000000">local File = require &quot;walk/File&quot;</text>
<text text-anchor="middle" x="443.5" y="-1932.0034" font-family="Inconsolata" font-size="14.00" fill="#000000">local walk = require &quot;walk&quot; &#45;&#45; factoring this out</text>
<text text-anchor="middle" x="443.5" y="-1916.6033" font-family="Inconsolata" font-size="14.00" fill="#000000">local strHas = walk.strHas</text>
<text text-anchor="middle" x="443.5" y="-1901.2033" font-family="Inconsolata" font-size="14.00" fill="#000000">local endsWith = walk.endsWith</text>
<text text-anchor="middle" x="443.5" y="-1885.8033" font-family="Inconsolata" font-size="14.00" fill="#000000">local subLastFor = walk.subLastFor</text>
<text text-anchor="middle" x="443.5" y="-1870.4032" font-family="Inconsolata" font-size="14.00" fill="#000000">local writeOnChange = walk.writeOnChange</text>
<text text-anchor="middle" x="443.5" y="-1839.0032" font-family="Inconsolata" font-size="14.00" fill="#000000">local Doc = require &quot;Orbit/doc&quot;</text>
<text text-anchor="middle" x="443.5" y="-1823.6032" font-family="Inconsolata" font-size="14.00" fill="#000000">local Path = require &quot;walk/path&quot;</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>codeblock_4&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M443.5,-2417.8693C443.5,-2410.8698 443.5,-2402.0831 443.5,-2391.9363"/>
<polygon fill="#000000" stroke="#000000" points="447.0001,-2391.805 443.5,-2381.8051 440.0001,-2391.8051 447.0001,-2391.805"/>
</g>
<!-- header_11 -->
<g id="node12" class="node">
<title>header_11</title>
<ellipse fill="none" stroke="#000000" cx="732.5" cy="-2098.7036" rx="91.4192" ry="18"/>
<text text-anchor="middle" x="732.5" y="-2094.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : knitCodex(codex)</text>
</g>
<!-- section_5&#45;&gt;header_11 -->
<g id="edge11" class="edge">
<title>section_5&#45;&gt;header_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M880.3328,-2420.1164C863.9093,-2410.9865 845.1039,-2398.1144 832.5,-2382.0041 770.2809,-2302.4757 744.9774,-2181.217 736.3382,-2126.8236"/>
<polygon fill="#000000" stroke="#000000" points="739.7882,-2126.2298 734.8265,-2116.8686 732.8676,-2127.2807 739.7882,-2126.2298"/>
</g>
<!-- prose_12 -->
<g id="node13" class="node">
<title>prose_12</title>
<ellipse fill="none" stroke="#000000" cx="873.5" cy="-2098.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="873.5" y="-2094.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_12 -->
<g id="edge12" class="edge">
<title>section_5&#45;&gt;prose_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M912.2957,-2417.8693C905.5521,-2362.3914 885.1622,-2194.6466 876.9662,-2127.2196"/>
<polygon fill="#000000" stroke="#000000" points="880.3964,-2126.4326 875.7152,-2116.928 873.4475,-2127.2773 880.3964,-2126.4326"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="955.5" cy="-2098.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="955.5" y="-2094.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>section_5&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M916.7043,-2417.8693C923.4479,-2362.3914 943.8378,-2194.6466 952.0338,-2127.2196"/>
<polygon fill="#000000" stroke="#000000" points="955.5525,-2127.2773 953.2848,-2116.928 948.6036,-2126.4326 955.5525,-2127.2773"/>
</g>
<!-- codeblock_14 -->
<g id="node15" class="node">
<title>codeblock_14</title>
<ellipse fill="none" stroke="#000000" cx="1258.5" cy="-2098.7036" rx="81.9542" ry="18"/>
<text text-anchor="middle" x="1258.5" y="-2094.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 54&#45;110</text>
</g>
<!-- section_5&#45;&gt;codeblock_14 -->
<g id="edge14" class="edge">
<title>section_5&#45;&gt;codeblock_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M943.4038,-2419.3541C959.6802,-2409.4056 979.9901,-2396.0063 996.5,-2382.0041 1096.1996,-2297.4477 1196.1363,-2177.1921 1238.0202,-2124.7907"/>
<polygon fill="#000000" stroke="#000000" points="1240.9795,-2126.6928 1244.4655,-2116.6878 1235.5012,-2122.3352 1240.9795,-2126.6928"/>
</g>
<!-- section_15 -->
<g id="node16" class="node">
<title>section_15</title>
<ellipse fill="none" stroke="#000000" cx="2071.5" cy="-2098.7036" rx="74.6878" ry="18"/>
<text text-anchor="middle" x="2071.5" y="-2094.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 113&#45;179</text>
</g>
<!-- section_5&#45;&gt;section_15 -->
<g id="edge15" class="edge">
<title>section_5&#45;&gt;section_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M983.6696,-2432.7617C1070.3227,-2427.4864 1222.8191,-2414.1776 1349.5,-2382.0041 1617.7076,-2313.8866 1920.5854,-2172.563 2029.6231,-2119.4673"/>
<polygon fill="#000000" stroke="#000000" points="2031.2088,-2122.5881 2038.6574,-2115.0537 2028.136,-2116.2986 2031.2088,-2122.5881"/>
</g>
<!-- header_65 -->
<g id="node66" class="node">
<title>header_65</title>
<ellipse fill="none" stroke="#000000" cx="3182.5" cy="-2098.7036" rx="115.0832" ry="18"/>
<text text-anchor="middle" x="3182.5" y="-2094.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : knit_all(knitter, pwd_str)</text>
</g>
<!-- section_6&#45;&gt;header_65 -->
<g id="edge65" class="edge">
<title>section_6&#45;&gt;header_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3333.3445,-2418.2568C3325.0792,-2408.0633 3315.0294,-2394.7822 3307.5,-2382.0041 3255.1774,-2293.2068 3211.1171,-2178.5203 3192.2891,-2126.5238"/>
<polygon fill="#000000" stroke="#000000" points="3195.5382,-2125.2157 3188.8649,-2116.9866 3188.95,-2127.5811 3195.5382,-2125.2157"/>
</g>
<!-- prose_66 -->
<g id="node67" class="node">
<title>prose_66</title>
<ellipse fill="none" stroke="#000000" cx="3348.5" cy="-2098.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3348.5" y="-2094.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_66 -->
<g id="edge66" class="edge">
<title>section_6&#45;&gt;prose_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3348.5,-2417.8693C3348.5,-2362.3914 3348.5,-2194.6466 3348.5,-2127.2196"/>
<polygon fill="#000000" stroke="#000000" points="3352.0001,-2126.928 3348.5,-2116.928 3345.0001,-2126.928 3352.0001,-2126.928"/>
</g>
<!-- prose_67 -->
<g id="node68" class="node">
<title>prose_67</title>
<ellipse fill="none" stroke="#000000" cx="3534.5" cy="-2098.7036" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3534.5" y="-2094.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_67 -->
<g id="edge67" class="edge">
<title>section_6&#45;&gt;prose_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3363.3737,-2418.0852C3371.5507,-2407.838 3381.6062,-2394.5604 3389.5,-2382.0041 3446.1539,-2291.8864 3499.6575,-2176.9595 3522.6664,-2125.6028"/>
<polygon fill="#000000" stroke="#000000" points="3525.9806,-2126.764 3526.8534,-2116.2052 3519.5865,-2123.9151 3525.9806,-2126.764"/>
</g>
<!-- codeblock_68 -->
<g id="node69" class="node">
<title>codeblock_68</title>
<ellipse fill="none" stroke="#000000" cx="3820.5" cy="-2098.7036" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3820.5" y="-2094.5036" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 188&#45;212</text>
</g>
<!-- section_6&#45;&gt;codeblock_68 -->
<g id="edge68" class="edge">
<title>section_6&#45;&gt;codeblock_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3420.3307,-2430.3793C3467.2852,-2424.0494 3528.4074,-2410.5961 3575.5,-2382.0041 3685.5418,-2315.1927 3771.9097,-2182.2838 3805.407,-2125.4692"/>
<polygon fill="#000000" stroke="#000000" points="3808.4983,-2127.1157 3810.5048,-2116.7126 3802.4488,-2123.5938 3808.4983,-2127.1157"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="356,-1386.6035 81,-1386.6035 81,-1314.8012 356,-1314.8012 356,-1386.6035"/>
<text text-anchor="middle" x="218.5" y="-1323.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> This is due for a complete overhaul.</text>
</g>
<!-- raw_8&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>raw_8&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M218.5,-2080.5842C218.5,-1985.4658 218.5,-1542.6881 218.5,-1397.178"/>
<polygon fill="#000000" stroke="#000000" points="222.0001,-1396.8224 218.5,-1386.8224 215.0001,-1396.8225 222.0001,-1396.8224"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="549,-1368.7024 400,-1368.7024 400,-1332.7024 549,-1332.7024 549,-1368.7024"/>
<text text-anchor="middle" x="474.5" y="-1347.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">** knitCodex(codex)</text>
</g>
<!-- header_11&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>header_11&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M730.7163,-2080.4115C725.054,-2031.5325 703.3832,-1896.1235 631.5,-1815.4032 607.4419,-1788.3874 580.4809,-1808.1343 558.5,-1779.4032 463.6003,-1655.36 467.0227,-1453.4786 471.992,-1379.2516"/>
<polygon fill="#000000" stroke="#000000" points="475.5135,-1379.0872 472.7564,-1368.8574 468.5323,-1378.5737 475.5135,-1379.0872"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="594.5" cy="-1350.7024" rx="27" ry="18"/>
<text text-anchor="middle" x="594.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_12&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_12&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M877.2321,-2080.7528C886.4388,-2030.9555 904.5629,-1889.8576 832.5,-1815.4032 769.0782,-1749.8766 691.9296,-1846.8009 630.5,-1779.4032 525.9859,-1664.735 567.3825,-1453.8864 586.7096,-1378.4494"/>
<polygon fill="#000000" stroke="#000000" points="590.1076,-1379.2896 589.2727,-1368.7278 583.3389,-1377.505 590.1076,-1379.2896"/>
</g>
<!-- prespace_19 -->
<g id="node20" class="node">
<title>prespace_19</title>
<ellipse fill="none" stroke="#000000" cx="685.5" cy="-1350.7024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="685.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_13&#45;&gt;prespace_19 -->
<g id="edge19" class="edge">
<title>prose_13&#45;&gt;prespace_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M959.1849,-2080.5013C968.1214,-2030.6645 985.3132,-1890.7064 914.5,-1815.4032 860.6986,-1758.1903 794.9044,-1836.9867 741.5,-1779.4032 635.6908,-1665.3138 664.5248,-1454.8794 679.3226,-1378.9513"/>
<polygon fill="#000000" stroke="#000000" points="682.8334,-1379.2478 681.3863,-1368.7523 675.9725,-1377.8595 682.8334,-1379.2478"/>
</g>
<!-- literal_20 -->
<g id="node21" class="node">
<title>literal_20</title>
<ellipse fill="none" stroke="#000000" cx="781.5" cy="-1350.7024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="781.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_13&#45;&gt;literal_20 -->
<g id="edge20" class="edge">
<title>prose_13&#45;&gt;literal_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M958.5606,-2080.7368C965.7795,-2032.0908 978.7457,-1896.0647 914.5,-1815.4032 886.8866,-1780.7341 848.2259,-1814.7609 821.5,-1779.4032 728.4888,-1656.3519 759.4336,-1453.1327 774.9348,-1378.9367"/>
<polygon fill="#000000" stroke="#000000" points="778.4015,-1379.4646 777.0932,-1368.9508 771.5595,-1377.9856 778.4015,-1379.4646"/>
</g>
<!-- raw_21 -->
<g id="node22" class="node">
<title>raw_21</title>
<ellipse fill="none" stroke="#000000" cx="857.5" cy="-1350.7024" rx="27" ry="18"/>
<text text-anchor="middle" x="857.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_13&#45;&gt;raw_21 -->
<g id="edge21" class="edge">
<title>prose_13&#45;&gt;raw_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M955.2569,-2080.5702C954.1413,-2034.7894 947.9989,-1911.3529 914.5,-1815.4032 908.3944,-1797.9151 899.0788,-1797.0663 893.5,-1779.4032 847.6993,-1634.3914 851.9805,-1448.8649 855.6513,-1378.9996"/>
<polygon fill="#000000" stroke="#000000" points="859.1576,-1378.9852 856.2274,-1368.8037 852.1687,-1378.5902 859.1576,-1378.9852"/>
</g>
<!-- link_22 -->
<g id="node23" class="node">
<title>link_22</title>
<ellipse fill="none" stroke="#000000" cx="929.5" cy="-1350.7024" rx="27" ry="18"/>
<text text-anchor="middle" x="929.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_13&#45;&gt;link_22 -->
<g id="edge22" class="edge">
<title>prose_13&#45;&gt;link_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M954.8702,-2080.5842C951.4111,-1981.069 934.7246,-1501.0107 930.4825,-1378.9687"/>
<polygon fill="#000000" stroke="#000000" points="933.9785,-1378.7897 930.1331,-1368.9173 926.9827,-1379.0329 933.9785,-1378.7897"/>
</g>
<!-- raw_23 -->
<g id="node24" class="node">
<title>raw_23</title>
<ellipse fill="none" stroke="#000000" cx="1001.5" cy="-1350.7024" rx="27" ry="18"/>
<text text-anchor="middle" x="1001.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_13&#45;&gt;raw_23 -->
<g id="edge23" class="edge">
<title>prose_13&#45;&gt;raw_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M956.6143,-2080.5842C962.7342,-1981.069 992.2565,-1501.0107 999.7617,-1378.9687"/>
<polygon fill="#000000" stroke="#000000" points="1003.2593,-1379.1133 1000.3798,-1368.9173 996.2725,-1378.6836 1003.2593,-1379.1133"/>
</g>
<!-- link_24 -->
<g id="node25" class="node">
<title>link_24</title>
<ellipse fill="none" stroke="#000000" cx="1073.5" cy="-1350.7024" rx="27" ry="18"/>
<text text-anchor="middle" x="1073.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_13&#45;&gt;link_24 -->
<g id="edge24" class="edge">
<title>prose_13&#45;&gt;link_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M961.1906,-2080.9265C976.3218,-2032.8867 1017.7394,-1896.2157 1037.5,-1779.4032 1062.8059,-1629.8103 1070.6184,-1447.6979 1072.7659,-1378.8607"/>
<polygon fill="#000000" stroke="#000000" points="1076.266,-1378.907 1073.0637,-1368.8077 1069.269,-1378.6996 1076.266,-1378.907"/>
</g>
<!-- raw_25 -->
<g id="node26" class="node">
<title>raw_25</title>
<ellipse fill="none" stroke="#000000" cx="1145.5" cy="-1350.7024" rx="27" ry="18"/>
<text text-anchor="middle" x="1145.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_13&#45;&gt;raw_25 -->
<g id="edge25" class="edge">
<title>prose_13&#45;&gt;raw_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M966.5775,-2081.5953C995.9634,-2035.2161 1075.9386,-1902.3007 1109.5,-1779.4032 1149.4684,-1633.0442 1148.6743,-1449.0336 1146.6418,-1379.2745"/>
<polygon fill="#000000" stroke="#000000" points="1150.1337,-1378.9639 1146.3111,-1369.0828 1143.1374,-1379.1911 1150.1337,-1378.9639"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="1668.5,-1779.604 1190.5,-1779.604 1190.5,-921.8007 1668.5,-921.8007 1668.5,-1779.604"/>
<text text-anchor="middle" x="1429.5" y="-1764.2032" font-family="Inconsolata" font-size="14.00" fill="#000000">local function knitDeck(deck)</text>
<text text-anchor="middle" x="1429.5" y="-1748.8031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local dir = deck.dir</text>
<text text-anchor="middle" x="1429.5" y="-1733.4031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local codex = deck.codex</text>
<text text-anchor="middle" x="1429.5" y="-1718.0031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local orbDir = codex.orb</text>
<text text-anchor="middle" x="1429.5" y="-1702.603" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local srcDir = codex.src</text>
<text text-anchor="middle" x="1429.5" y="-1687.203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for i, sub in ipairs(deck) do</text>
<text text-anchor="middle" x="1429.5" y="-1671.803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;knitDeck(sub)</text>
<text text-anchor="middle" x="1429.5" y="-1656.4029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1429.5" y="-1641.0029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for name, doc in pairs(deck.docs) do</text>
<text text-anchor="middle" x="1429.5" y="-1625.6029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local knitted, ext = knitter:knit(doc)</text>
<text text-anchor="middle" x="1429.5" y="-1610.2028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if knitted then</text>
<text text-anchor="middle" x="1429.5" y="-1594.8028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; add to srcs</text>
<text text-anchor="middle" x="1429.5" y="-1579.4028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local srcpath = Path(name):subFor(orbDir, srcDir, ext)</text>
<text text-anchor="middle" x="1429.5" y="-1564.0027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(&quot;knitted: &quot; .. name)</text>
<text text-anchor="middle" x="1429.5" y="-1548.6027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(&quot;into: &#160;&#160;&#160;&quot; .. tostring(srcpath))</text>
<text text-anchor="middle" x="1429.5" y="-1533.2027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deck.srcs[srcpath] = knitted</text>
<text text-anchor="middle" x="1429.5" y="-1517.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;codex.srcs[srcpath] = knitted</text>
<text text-anchor="middle" x="1429.5" y="-1502.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1429.5" y="-1471.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1429.5" y="-1455.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return srcs</text>
<text text-anchor="middle" x="1429.5" y="-1440.2025" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1429.5" y="-1408.8025" font-family="Inconsolata" font-size="14.00" fill="#000000">local function writeOnChange(out_file, newest)</text>
<text text-anchor="middle" x="1429.5" y="-1393.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;newest = tostring(newest)</text>
<text text-anchor="middle" x="1429.5" y="-1378.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;out_file = tostring(out_file)</text>
<text text-anchor="middle" x="1429.5" y="-1362.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local current = read(tostring(out_file))</text>
<text text-anchor="middle" x="1429.5" y="-1347.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If the text has changed, write it</text>
<text text-anchor="middle" x="1429.5" y="-1331.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if newest ~= current then</text>
<text text-anchor="middle" x="1429.5" y="-1316.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.green(&quot; &#160;&#45; &quot; .. tostring(out_file)))</text>
<text text-anchor="middle" x="1429.5" y="-1301.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;write(out_file, newest)</text>
<text text-anchor="middle" x="1429.5" y="-1285.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="1429.5" y="-1270.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If the new text is blank, delete the old file</text>
<text text-anchor="middle" x="1429.5" y="-1254.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;elseif current ~= &quot;&quot; and newest == &quot;&quot; then</text>
<text text-anchor="middle" x="1429.5" y="-1239.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.red(&quot; &#160;&#45; &quot; .. tostring(out_file)))</text>
<text text-anchor="middle" x="1429.5" y="-1224.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;delete(out_file)</text>
<text text-anchor="middle" x="1429.5" y="-1208.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="1429.5" y="-1193.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1429.5" y="-1177.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; Otherwise do nothing</text>
<text text-anchor="middle" x="1429.5" y="-1146.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return nil</text>
<text text-anchor="middle" x="1429.5" y="-1131.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1429.5" y="-1115.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1429.5" y="-1084.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">local function knitCodex(codex)</text>
<text text-anchor="middle" x="1429.5" y="-1068.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local orb = codex.orb</text>
<text text-anchor="middle" x="1429.5" y="-1053.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local src = codex.src</text>
<text text-anchor="middle" x="1429.5" y="-1038.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;s:chat(&quot;knitting orb directory: &quot; .. tostring(orb))</text>
<text text-anchor="middle" x="1429.5" y="-1022.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;s:chat(&quot;into src directory: &quot; .. tostring(src))</text>
<text text-anchor="middle" x="1429.5" y="-1007.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;knitDeck(orb, src)</text>
<text text-anchor="middle" x="1429.5" y="-991.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for name, src in pairs(codex.srcs) do</text>
<text text-anchor="middle" x="1429.5" y="-976.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;writeOnChange(name, src)</text>
<text text-anchor="middle" x="1429.5" y="-961.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1429.5" y="-945.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1429.5" y="-930.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">knitter.knitCodex = knitCodex</text>
</g>
<!-- codeblock_14&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>codeblock_14&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1262.6423,-2080.5842C1272.6836,-2036.6605 1299.673,-1918.6016 1329.0922,-1789.9137"/>
<polygon fill="#000000" stroke="#000000" points="1332.5795,-1790.364 1331.3962,-1779.8355 1325.7556,-1788.8039 1332.5795,-1790.364"/>
</g>
<!-- header_40 -->
<g id="node41" class="node">
<title>header_40</title>
<ellipse fill="none" stroke="#000000" cx="1815.5" cy="-1350.7024" rx="128.6478" ry="18"/>
<text text-anchor="middle" x="1815.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : knit_dir(knitter, pwd, depth)</text>
</g>
<!-- section_15&#45;&gt;header_40 -->
<g id="edge40" class="edge">
<title>section_15&#45;&gt;header_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2064.4415,-2080.444C2045.6929,-2031.7684 1993.3583,-1894.7489 1953.5,-1779.4032 1901.5198,-1628.978 1844.9548,-1446.7334 1823.9586,-1378.3712"/>
<polygon fill="#000000" stroke="#000000" points="1827.2903,-1377.2973 1821.0118,-1368.7632 1820.598,-1379.3499 1827.2903,-1377.2973"/>
</g>
<!-- prose_41 -->
<g id="node42" class="node">
<title>prose_41</title>
<ellipse fill="none" stroke="#000000" cx="1994.5" cy="-1350.7024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1994.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_15&#45;&gt;prose_41 -->
<g id="edge41" class="edge">
<title>section_15&#45;&gt;prose_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2069.6348,-2080.5842C2059.3906,-1981.069 2009.9729,-1501.0107 1997.4098,-1378.9687"/>
<polygon fill="#000000" stroke="#000000" points="2000.8808,-1378.5063 1996.3751,-1368.9173 1993.9176,-1379.2232 2000.8808,-1378.5063"/>
</g>
<!-- prose_42 -->
<g id="node43" class="node">
<title>prose_42</title>
<ellipse fill="none" stroke="#000000" cx="2157.5" cy="-1350.7024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2157.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_15&#45;&gt;prose_42 -->
<g id="edge42" class="edge">
<title>section_15&#45;&gt;prose_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2073.5832,-2080.5842C2085.0248,-1981.069 2140.2186,-1501.0107 2154.2501,-1378.9687"/>
<polygon fill="#000000" stroke="#000000" points="2157.7406,-1379.2517 2155.4058,-1368.9173 2150.7864,-1378.4521 2157.7406,-1379.2517"/>
</g>
<!-- codeblock_43 -->
<g id="node44" class="node">
<title>codeblock_43</title>
<ellipse fill="none" stroke="#000000" cx="2446.5" cy="-1350.7024" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="2446.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 121&#45;174</text>
</g>
<!-- section_15&#45;&gt;codeblock_43 -->
<g id="edge43" class="edge">
<title>section_15&#45;&gt;codeblock_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2080.5839,-2080.5842C2130.625,-1980.7687 2372.5995,-1498.1094 2432.8781,-1377.8735"/>
<polygon fill="#000000" stroke="#000000" points="2436.0153,-1379.4254 2437.3682,-1368.9173 2429.7576,-1376.2882 2436.0153,-1379.4254"/>
</g>
<!-- prose_44 -->
<g id="node45" class="node">
<title>prose_44</title>
<ellipse fill="none" stroke="#000000" cx="2774.5" cy="-1350.7024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2774.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_15&#45;&gt;prose_44 -->
<g id="edge44" class="edge">
<title>section_15&#45;&gt;prose_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2106.0915,-2082.5831C2190.0829,-2042.0285 2407.7722,-1928.2826 2542.5,-1779.4032 2659.674,-1649.9214 2738.6875,-1450.6385 2764.928,-1378.2111"/>
<polygon fill="#000000" stroke="#000000" points="2768.3403,-1379.0635 2768.4149,-1368.4689 2761.7497,-1376.7046 2768.3403,-1379.0635"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="345,-516.6023 0,-516.6023 0,-460.7993 345,-460.7993 345,-516.6023"/>
<text text-anchor="middle" x="172.5" y="-469.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">This is our new interface for knitting matters.</text>
</g>
<!-- raw_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M599.6806,-1332.6668C617.186,-1267.5205 667.1414,-1041.9133 557.5,-922.0016 495.6685,-854.3782 426.9782,-942.0637 354.5,-886.0016 235.7582,-794.1543 191.8447,-606.9408 178.0237,-526.6504"/>
<polygon fill="#000000" stroke="#000000" points="181.4294,-525.7931 176.34,-516.5007 174.5238,-526.9387 181.4294,-525.7931"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="417.5,-506.7008 363.5,-506.7008 363.5,-470.7008 417.5,-470.7008 417.5,-506.7008"/>
</g>
<!-- prespace_19&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>prespace_19&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M689.7862,-1332.5431C704.0858,-1266.972 743.1561,-1040.0897 630.5,-922.0016 566.9486,-855.3858 488.8003,-953.7888 426.5,-886.0016 330.2128,-781.2341 365.2892,-588.7323 382.8947,-516.7983"/>
<polygon fill="#000000" stroke="#000000" points="386.3894,-517.2544 385.4477,-506.7015 379.603,-515.5383 386.3894,-517.2544"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="515,-506.7008 436,-506.7008 436,-470.7008 515,-470.7008 515,-506.7008"/>
<text text-anchor="middle" x="475.5" y="-485.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">knitCodex</text>
</g>
<!-- literal_20&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>literal_20&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M786.5222,-1332.6002C803.4537,-1267.2253 851.4058,-1040.932 740.5,-922.0016 674.1246,-850.8236 591.843,-956.2648 524.5,-886.0016 425.6994,-782.9167 453.9236,-589.3967 468.921,-516.9951"/>
<polygon fill="#000000" stroke="#000000" points="472.4261,-517.3435 471.1072,-506.8311 465.5826,-515.8715 472.4261,-517.3435"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="773.5,-506.7008 533.5,-506.7008 533.5,-470.7008 773.5,-470.7008 773.5,-506.7008"/>
<text text-anchor="middle" x="653.5" y="-485.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> expects a codex which has been </text>
</g>
<!-- raw_21&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>raw_21&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M860.3885,-1332.7664C869.3717,-1271.5438 892.1726,-1066.6112 821.5,-922.0016 811.1424,-900.808 795.2228,-905.8655 782.5,-886.0016 703.0467,-761.9518 668.4625,-584.6164 657.5669,-516.6629"/>
<polygon fill="#000000" stroke="#000000" points="661.0157,-516.063 656.0183,-506.7208 654.0991,-517.1404 661.0157,-516.063"/>
</g>
<!-- anchortext_29 -->
<g id="node30" class="node">
<title>anchortext_29</title>
<ellipse fill="none" stroke="#000000" cx="842.5" cy="-488.7008" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="842.5" y="-484.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_22&#45;&gt;anchortext_29 -->
<g id="edge29" class="edge">
<title>link_22&#45;&gt;anchortext_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M928.2055,-1332.7128C923.9169,-1273.7554 909.5316,-1081.0304 893.5,-922.0016 878.0673,-768.9143 855.0152,-585.9568 846.1522,-516.9196"/>
<polygon fill="#000000" stroke="#000000" points="849.6029,-516.3111 844.8549,-506.8397 842.6601,-517.2047 849.6029,-516.3111"/>
</g>
<!-- url_30 -->
<g id="node31" class="node">
<title>url_30</title>
<ellipse fill="none" stroke="#000000" cx="938.5" cy="-488.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="938.5" y="-484.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_22&#45;&gt;url_30 -->
<g id="edge30" class="edge">
<title>link_22&#45;&gt;url_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M929.688,-1332.6982C930.826,-1223.7019 936.792,-652.2884 938.2014,-517.2992"/>
<polygon fill="#000000" stroke="#000000" points="941.7046,-517.0053 938.3093,-506.9693 934.705,-516.9322 941.7046,-517.0053"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="1037.5,-506.7008 983.5,-506.7008 983.5,-470.7008 1037.5,-470.7008 1037.5,-506.7008"/>
<text text-anchor="middle" x="1010.5" y="-485.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> and</text>
</g>
<!-- raw_23&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>raw_23&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1001.688,-1332.6982C1002.826,-1223.7019 1008.792,-652.2884 1010.2014,-517.2992"/>
<polygon fill="#000000" stroke="#000000" points="1013.7046,-517.0053 1010.3093,-506.9693 1006.705,-516.9322 1013.7046,-517.0053"/>
</g>
<!-- anchortext_34 -->
<g id="node35" class="node">
<title>anchortext_34</title>
<ellipse fill="none" stroke="#000000" cx="1106.5" cy="-488.7008" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="1106.5" y="-484.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_24&#45;&gt;anchortext_34 -->
<g id="edge34" class="edge">
<title>link_24&#45;&gt;anchortext_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1074.1893,-1332.6982C1078.362,-1223.7019 1100.2374,-652.2884 1105.4052,-517.2992"/>
<polygon fill="#000000" stroke="#000000" points="1108.9154,-517.0959 1105.8006,-506.9693 1101.9205,-516.828 1108.9154,-517.0959"/>
</g>
<!-- url_35 -->
<g id="node36" class="node">
<title>url_35</title>
<ellipse fill="none" stroke="#000000" cx="1202.5" cy="-488.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="1202.5" y="-484.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_24&#45;&gt;url_35 -->
<g id="edge35" class="edge">
<title>link_24&#45;&gt;url_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1069.73,-1332.6745C1057.7078,-1270.2946 1025.7775,-1059.9054 1109.5,-922.0016 1125.0494,-896.3892 1150.8663,-911.5626 1166.5,-886.0016 1240.0773,-765.7032 1219.3889,-585.4416 1207.839,-516.6962"/>
<polygon fill="#000000" stroke="#000000" points="1211.2517,-515.8933 1206.0796,-506.6467 1204.3566,-517.1005 1211.2517,-515.8933"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="1301.5,-506.7008 1247.5,-506.7008 1247.5,-470.7008 1301.5,-470.7008 1301.5,-506.7008"/>
<text text-anchor="middle" x="1274.5" y="-485.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_25&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>raw_25&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1141.73,-1332.6745C1129.7078,-1270.2946 1097.7775,-1059.9054 1181.5,-922.0016 1197.0494,-896.3892 1222.8663,-911.5626 1238.5,-886.0016 1311.9058,-765.9836 1291.4848,-586.2817 1279.9199,-517.1787"/>
<polygon fill="#000000" stroke="#000000" points="1283.3219,-516.3136 1278.1556,-507.0638 1276.426,-517.5165 1283.3219,-516.3136"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="869.5,-45.7 815.5,-45.7 815.5,-9.7 869.5,-9.7 869.5,-45.7"/>
<text text-anchor="middle" x="842.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">cased</text>
</g>
<!-- anchortext_29&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>anchortext_29&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M842.5,-470.629C842.5,-399.9876 842.5,-142.1835 842.5,-55.9866"/>
<polygon fill="#000000" stroke="#000000" points="846.0001,-55.8965 842.5,-45.8966 839.0001,-55.8966 846.0001,-55.8965"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="971,-45.7 906,-45.7 906,-9.7 971,-9.7 971,-45.7"/>
<text text-anchor="middle" x="938.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">httk://</text>
</g>
<!-- url_30&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>url_30&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M938.5,-470.629C938.5,-399.9876 938.5,-142.1835 938.5,-55.9866"/>
<polygon fill="#000000" stroke="#000000" points="942.0001,-55.8965 938.5,-45.8966 935.0001,-55.8966 942.0001,-55.8965"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="1133.5,-45.7 1079.5,-45.7 1079.5,-9.7 1133.5,-9.7 1133.5,-45.7"/>
<text text-anchor="middle" x="1106.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">spun</text>
</g>
<!-- anchortext_34&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>anchortext_34&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1106.5,-470.629C1106.5,-399.9876 1106.5,-142.1835 1106.5,-55.9866"/>
<polygon fill="#000000" stroke="#000000" points="1110.0001,-55.8965 1106.5,-45.8966 1103.0001,-55.8966 1110.0001,-55.8965"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="1235,-45.7 1170,-45.7 1170,-9.7 1235,-9.7 1235,-45.7"/>
<text text-anchor="middle" x="1202.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">httk://</text>
</g>
<!-- url_35&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>url_35&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1202.5,-470.629C1202.5,-399.9876 1202.5,-142.1835 1202.5,-55.9866"/>
<polygon fill="#000000" stroke="#000000" points="1206.0001,-55.8965 1202.5,-45.8966 1199.0001,-55.8966 1206.0001,-55.8965"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="1585,-506.7008 1338,-506.7008 1338,-470.7008 1585,-470.7008 1585,-506.7008"/>
<text text-anchor="middle" x="1461.5" y="-485.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">*** knit_dir(knitter, pwd, depth)</text>
</g>
<!-- header_40&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>header_40&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1814.8024,-1332.6369C1811.3796,-1268.3301 1791.4649,-1047.6974 1677.5,-922.0016 1650.4917,-892.2132 1621.6806,-915.6327 1594.5,-886.0016 1493.9208,-776.3546 1469.1593,-588.2658 1463.2691,-517.1003"/>
<polygon fill="#000000" stroke="#000000" points="1466.7273,-516.4174 1462.4771,-506.7125 1459.7475,-516.9497 1466.7273,-516.4174"/>
</g>
<!-- raw_46 -->
<g id="node47" class="node">
<title>raw_46</title>
<ellipse fill="none" stroke="#000000" cx="1630.5" cy="-488.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="1630.5" y="-484.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_41&#45;&gt;raw_46 -->
<g id="edge46" class="edge">
<title>prose_41&#45;&gt;raw_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1999.5634,-1332.8986C2016.9398,-1267.5931 2067.0438,-1038.9378 1953.5,-922.0016 1863.9455,-829.7714 1755.8244,-978.4546 1666.5,-886.0016 1567.1973,-783.2207 1604.5922,-587.9953 1622.8319,-516.1374"/>
<polygon fill="#000000" stroke="#000000" points="1626.2196,-517.0166 1625.3655,-506.4562 1619.4477,-515.2443 1626.2196,-517.0166"/>
</g>
<!-- prespace_47 -->
<g id="node48" class="node">
<title>prespace_47</title>
<ellipse fill="none" stroke="#000000" cx="1721.5" cy="-488.7008" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1721.5" y="-484.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_41&#45;&gt;prespace_47 -->
<g id="edge47" class="edge">
<title>prose_41&#45;&gt;prespace_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1999.3732,-1332.7366C2015.7932,-1267.83 2062.2101,-1042.9423 1953.5,-922.0016 1900.1257,-862.6223 1832.1874,-944.1737 1777.5,-886.0016 1679.4746,-781.7299 1702.7211,-588.9281 1715.7226,-516.8563"/>
<polygon fill="#000000" stroke="#000000" points="1719.2166,-517.2145 1717.6262,-506.7397 1712.3373,-515.92 1719.2166,-517.2145"/>
</g>
<!-- literal_48 -->
<g id="node49" class="node">
<title>literal_48</title>
<ellipse fill="none" stroke="#000000" cx="1817.5" cy="-488.7008" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1817.5" y="-484.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_41&#45;&gt;literal_48 -->
<g id="edge48" class="edge">
<title>prose_41&#45;&gt;literal_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1998.8048,-1332.8528C2013.0209,-1269.275 2052.1634,-1050.7985 1953.5,-922.0016 1925.7893,-885.8275 1885.3009,-922.1063 1857.5,-886.0016 1771.0065,-773.6734 1797.1757,-587.2758 1811.2044,-516.8283"/>
<polygon fill="#000000" stroke="#000000" points="1814.6554,-517.423 1813.252,-506.9215 1807.8003,-516.0061 1814.6554,-517.423"/>
</g>
<!-- raw_49 -->
<g id="node50" class="node">
<title>raw_49</title>
<ellipse fill="none" stroke="#000000" cx="1893.5" cy="-488.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="1893.5" y="-484.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_41&#45;&gt;raw_49 -->
<g id="edge49" class="edge">
<title>prose_41&#45;&gt;raw_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1995.8534,-1332.4698C1999.7068,-1271.9664 2007.2361,-1073.1059 1953.5,-922.0016 1947.0568,-903.8835 1935.898,-904.1356 1929.5,-886.0016 1883.0057,-754.2221 1887.4381,-583.3695 1891.4026,-516.8948"/>
<polygon fill="#000000" stroke="#000000" points="1894.9035,-516.9918 1892.0515,-506.7881 1887.9178,-516.5433 1894.9035,-516.9918"/>
</g>
<!-- prespace_50 -->
<g id="node51" class="node">
<title>prespace_50</title>
<ellipse fill="none" stroke="#000000" cx="1984.5" cy="-488.7008" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1984.5" y="-484.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_41&#45;&gt;prespace_50 -->
<g id="edge50" class="edge">
<title>prose_41&#45;&gt;prespace_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1994.2911,-1332.6982C1993.0267,-1223.7019 1986.3978,-652.2884 1984.8318,-517.2992"/>
<polygon fill="#000000" stroke="#000000" points="1988.3278,-516.928 1984.7119,-506.9693 1981.3283,-517.0093 1988.3278,-516.928"/>
</g>
<!-- literal_51 -->
<g id="node52" class="node">
<title>literal_51</title>
<ellipse fill="none" stroke="#000000" cx="2080.5" cy="-488.7008" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2080.5" y="-484.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_41&#45;&gt;literal_51 -->
<g id="edge51" class="edge">
<title>prose_41&#45;&gt;literal_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1996.2962,-1332.6982C2007.1706,-1223.7019 2064.1792,-652.2884 2077.6468,-517.2992"/>
<polygon fill="#000000" stroke="#000000" points="2081.1673,-517.2674 2078.6774,-506.9693 2074.2018,-516.5724 2081.1673,-517.2674"/>
</g>
<!-- raw_52 -->
<g id="node53" class="node">
<title>raw_52</title>
<ellipse fill="none" stroke="#000000" cx="2156.5" cy="-488.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="2156.5" y="-484.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_41&#45;&gt;raw_52 -->
<g id="edge52" class="edge">
<title>prose_41&#45;&gt;raw_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2000.5737,-1332.8033C2021.1458,-1271.399 2088.6808,-1063.306 2120.5,-886.0016 2145.0171,-749.3859 2153.2104,-583.1865 2155.6128,-517.4446"/>
<polygon fill="#000000" stroke="#000000" points="2159.1239,-517.1842 2155.9736,-507.0686 2152.1281,-516.9409 2159.1239,-517.1842"/>
</g>
<!-- raw_60 -->
<g id="node61" class="node">
<title>raw_60</title>
<ellipse fill="none" stroke="#000000" cx="2228.5" cy="-488.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="2228.5" y="-484.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_42&#45;&gt;raw_60 -->
<g id="edge60" class="edge">
<title>prose_42&#45;&gt;raw_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2158.9829,-1332.6982C2167.9606,-1223.7019 2215.0259,-652.2884 2226.1444,-517.2992"/>
<polygon fill="#000000" stroke="#000000" points="2229.6625,-517.2229 2226.9953,-506.9693 2222.6861,-516.6482 2229.6625,-517.2229"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="2919.5,-885.8024 2273.5,-885.8024 2273.5,-91.5992 2919.5,-91.5992 2919.5,-885.8024"/>
<text text-anchor="middle" x="2596.5" y="-870.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local function knit_dir(knitter, orb_dir, pwd)</text>
<text text-anchor="middle" x="2596.5" y="-855.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local knits = {}</text>
<text text-anchor="middle" x="2596.5" y="-840.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local srcDir = orb_dir:parentDir() .. &quot;/src&quot;</text>
<text text-anchor="middle" x="2596.5" y="-824.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(srcDir.idEst == Dir)</text>
<text text-anchor="middle" x="2596.5" y="-809.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;s:verb(&quot;Sorcery directory: &quot; .. tostring(srcDir))</text>
<text text-anchor="middle" x="2596.5" y="-793.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for dir in pl_dir.walk(orb_dir.path.str, false, false) do</text>
<text text-anchor="middle" x="2596.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local file_strs = getfiles(dir)</text>
<text text-anchor="middle" x="2596.5" y="-763.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local dirObj = Dir(dir)</text>
<text text-anchor="middle" x="2596.5" y="-747.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local files &#160;= dirObj:getfiles()</text>
<text text-anchor="middle" x="2596.5" y="-732.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb(&quot; &#160;* &quot; .. a.yellow(dir))</text>
<text text-anchor="middle" x="2596.5" y="-716.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;for _, file in ipairs(files) do</text>
<text text-anchor="middle" x="2596.5" y="-701.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;f = file.path.str</text>
<text text-anchor="middle" x="2596.5" y="-686.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local ext = file:extension()</text>
<text text-anchor="middle" x="2596.5" y="-670.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ext == &quot;.orb&quot; then</text>
<text text-anchor="middle" x="2596.5" y="-655.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; read and knit</text>
<text text-anchor="middle" x="2596.5" y="-639.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb(&quot; &#160;&#160;&#160;&#45; &quot; .. tostring(file))</text>
<text text-anchor="middle" x="2596.5" y="-624.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local orb_str = file:read()</text>
<text text-anchor="middle" x="2596.5" y="-609.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local knitted = knitter:knit(Doc(orb_str))</text>
<text text-anchor="middle" x="2596.5" y="-593.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local src_dir = subLastFor(&quot;/orb&quot;, &quot;/src&quot;, dirname(f))</text>
<text text-anchor="middle" x="2596.5" y="-562.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local relpath = file.path:relPath(orb_dir)</text>
<text text-anchor="middle" x="2596.5" y="-546.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local src_path = srcDir .. (&quot;/&quot; .. tostring(relpath))</text>
<text text-anchor="middle" x="2596.5" y="-531.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb(&quot; &#160;&#160;&#160;&#160;&#160;&#45; &quot; .. tostring(src_path))</text>
<text text-anchor="middle" x="2596.5" y="-516.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;makepath(src_dir)</text>
<text text-anchor="middle" x="2596.5" y="-500.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local bare_name = basename(f):sub(1, &#45; (#ext + 1)) &#45;&#45; 4 == #&quot;.orb&quot;</text>
<text text-anchor="middle" x="2596.5" y="-485.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local out_name = src_dir .. &quot;/&quot; .. bare_name .. &quot;.lua&quot;</text>
<text text-anchor="middle" x="2596.5" y="-469.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local current_src = read(out_name) or &quot;&quot;</text>
<text text-anchor="middle" x="2596.5" y="-454.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local changed = writeOnChange(tostring(knitted), current_src, out_name, 0)</text>
<text text-anchor="middle" x="2596.5" y="-439.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if changed then</text>
<text text-anchor="middle" x="2596.5" y="-423.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local tmp_dir = &quot;../tmp&quot; .. src_dir</text>
<text text-anchor="middle" x="2596.5" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;makepath(tmp_dir)</text>
<text text-anchor="middle" x="2596.5" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local tmp_out = &quot;../tmp&quot; .. out_name</text>
<text text-anchor="middle" x="2596.5" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;write(tmp_out, current_src)</text>
<text text-anchor="middle" x="2596.5" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;knits[#knits + 1] = out_name</text>
<text text-anchor="middle" x="2596.5" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2596.5" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2596.5" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2596.5" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2596.5" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; collect changed files if any</text>
<text text-anchor="middle" x="2596.5" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local orbbacks = &quot;&quot;</text>
<text text-anchor="middle" x="2596.5" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, v in ipairs(knits) do</text>
<text text-anchor="middle" x="2596.5" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;orbbacks = orbbacks .. v .. &quot;\n&quot;</text>
<text text-anchor="middle" x="2596.5" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2596.5" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if orbbacks ~= &quot;&quot; then</text>
<text text-anchor="middle" x="2596.5" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(&quot;orbbacks: \n&quot; .. orbbacks)</text>
<text text-anchor="middle" x="2596.5" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2596.5" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; if nothing changes, no rollback is needed, empty file</text>
<text text-anchor="middle" x="2596.5" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;write(tostring(pwd) .. &quot;/.orbback&quot;, orbbacks)</text>
<text text-anchor="middle" x="2596.5" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="2596.5" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_43&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>codeblock_43&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2449.633,-1332.6982C2459.8264,-1274.1198 2493.2616,-1081.9784 2525.6589,-895.802"/>
<polygon fill="#000000" stroke="#000000" points="2529.1305,-896.267 2527.3967,-885.815 2522.2341,-895.0669 2529.1305,-896.267"/>
</g>
<!-- raw_63 -->
<g id="node64" class="node">
<title>raw_63</title>
<ellipse fill="none" stroke="#000000" cx="2964.5" cy="-488.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="2964.5" y="-484.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_63 -->
<g id="edge63" class="edge">
<title>prose_44&#45;&gt;raw_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2782.0415,-1332.9543C2807.5645,-1272.0353 2891.1819,-1065.3172 2928.5,-886.0016 2956.8466,-749.7944 2962.8732,-582.7171 2964.1543,-517.0827"/>
<polygon fill="#000000" stroke="#000000" points="2967.6597,-516.7946 2964.3324,-506.7358 2960.6607,-516.674 2967.6597,-516.7946"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="1688.5,-55.6015 1322.5,-55.6015 1322.5,.2015 1688.5,.2015 1688.5,-55.6015"/>
<text text-anchor="middle" x="1505.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> Walks a given directory, knitting the contents of</text>
</g>
<!-- raw_46&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>raw_46&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1633.772,-470.5251C1643.4639,-411.2793 1666.974,-220.1585 1593.5,-91.4 1587.0195,-80.0434 1577.5952,-70.1661 1567.2967,-61.7997"/>
<polygon fill="#000000" stroke="#000000" points="1569.361,-58.9725 1559.2852,-55.697 1565.1192,-64.5409 1569.361,-58.9725"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="1760.5,-45.7 1706.5,-45.7 1706.5,-9.7 1760.5,-9.7 1760.5,-45.7"/>
<text text-anchor="middle" x="1733.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_47&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>prespace_47&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1721.9704,-470.629C1723.8092,-399.9876 1730.52,-142.1835 1732.7637,-55.9866"/>
<polygon fill="#000000" stroke="#000000" points="1736.2648,-55.9843 1733.0263,-45.8966 1729.2672,-55.8021 1736.2648,-55.9843"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="1844.5,-45.7 1790.5,-45.7 1790.5,-9.7 1844.5,-9.7 1844.5,-45.7"/>
<text text-anchor="middle" x="1817.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">/org/</text>
</g>
<!-- literal_48&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>literal_48&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1817.5,-470.629C1817.5,-399.9876 1817.5,-142.1835 1817.5,-55.9866"/>
<polygon fill="#000000" stroke="#000000" points="1821.0001,-55.8965 1817.5,-45.8966 1814.0001,-55.8966 1821.0001,-55.8965"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="1920.5,-47.6021 1866.5,-47.6021 1866.5,-7.7979 1920.5,-7.7979 1920.5,-47.6021"/>
<text text-anchor="middle" x="1893.5" y="-16.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> into</text>
</g>
<!-- raw_49&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>raw_49&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1893.5,-470.629C1893.5,-400.3951 1893.5,-145.1514 1893.5,-57.4953"/>
<polygon fill="#000000" stroke="#000000" points="1897.0001,-57.4273 1893.5,-47.4274 1890.0001,-57.4274 1897.0001,-57.4273"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="2011.5,-45.7 1957.5,-45.7 1957.5,-9.7 2011.5,-9.7 2011.5,-45.7"/>
<text text-anchor="middle" x="1984.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_50&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>prespace_50&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1984.5,-470.629C1984.5,-399.9876 1984.5,-142.1835 1984.5,-55.9866"/>
<polygon fill="#000000" stroke="#000000" points="1988.0001,-55.8965 1984.5,-45.8966 1981.0001,-55.8966 1988.0001,-55.8965"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="2107.5,-45.7 2053.5,-45.7 2053.5,-9.7 2107.5,-9.7 2107.5,-45.7"/>
<text text-anchor="middle" x="2080.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">/src/</text>
</g>
<!-- literal_51&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>literal_51&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2080.5,-470.629C2080.5,-399.9876 2080.5,-142.1835 2080.5,-55.9866"/>
<polygon fill="#000000" stroke="#000000" points="2084.0001,-55.8965 2080.5,-45.8966 2077.0001,-55.8966 2084.0001,-55.8965"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="2181.5,-45.7 2127.5,-45.7 2127.5,-9.7 2181.5,-9.7 2181.5,-45.7"/>
<text text-anchor="middle" x="2154.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_52&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>raw_52&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2156.4216,-470.629C2156.1151,-399.9876 2154.9967,-142.1835 2154.6227,-55.9866"/>
<polygon fill="#000000" stroke="#000000" points="2158.1224,-55.8812 2154.5789,-45.8966 2151.1225,-55.9117 2158.1224,-55.8812"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="2663.5,-55.0004 2199.5,-55.0004 2199.5,-.3996 2663.5,-.3996 2663.5,-55.0004"/>
<text text-anchor="middle" x="2431.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; [X] TODO fix up the orb/notes directory so it doesn&#39;t explode</text>
<text text-anchor="middle" x="2431.5" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;the knit.</text>
</g>
<!-- raw_60&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>raw_60&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2224.0548,-470.5257C2210.3043,-409.6482 2174.5766,-210.0872 2264.5,-91.4 2274.2766,-78.4962 2287.0044,-68.2062 2301.0743,-60.0006"/>
<polygon fill="#000000" stroke="#000000" points="2302.8769,-63.0045 2309.9939,-55.1561 2299.5359,-56.8533 2302.8769,-63.0045"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="3175.5,-55.6015 2753.5,-55.6015 2753.5,.2015 3175.5,.2015 3175.5,-55.6015"/>
<text text-anchor="middle" x="2964.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; [ ] #todo add some proper codex detection and correction</text>
</g>
<!-- raw_63&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>raw_63&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2964.5,-470.629C2964.5,-402.5049 2964.5,-160.3199 2964.5,-65.8393"/>
<polygon fill="#000000" stroke="#000000" points="2968.0001,-65.5921 2964.5,-55.5921 2961.0001,-65.5921 2968.0001,-65.5921"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="3292,-1368.7024 3073,-1368.7024 3073,-1332.7024 3292,-1332.7024 3292,-1368.7024"/>
<text text-anchor="middle" x="3182.5" y="-1347.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">** knit_all(knitter, pwd_str)</text>
</g>
<!-- header_65&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>header_65&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3182.5,-2080.5842C3182.5,-1981.069 3182.5,-1501.0107 3182.5,-1378.9687"/>
<polygon fill="#000000" stroke="#000000" points="3186.0001,-1378.9173 3182.5,-1368.9173 3179.0001,-1378.9174 3186.0001,-1378.9173"/>
</g>
<!-- raw_70 -->
<g id="node71" class="node">
<title>raw_70</title>
<ellipse fill="none" stroke="#000000" cx="3343.5" cy="-1350.7024" rx="27" ry="18"/>
<text text-anchor="middle" x="3343.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_66&#45;&gt;raw_70 -->
<g id="edge70" class="edge">
<title>prose_66&#45;&gt;raw_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3348.3789,-2080.5842C3347.7137,-1981.069 3344.5047,-1501.0107 3343.6889,-1378.9687"/>
<polygon fill="#000000" stroke="#000000" points="3347.1886,-1378.8937 3343.6218,-1368.9173 3340.1888,-1378.9405 3347.1886,-1378.8937"/>
</g>
<!-- prespace_72 -->
<g id="node73" class="node">
<title>prespace_72</title>
<ellipse fill="none" stroke="#000000" cx="3486.5" cy="-1350.7024" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="3486.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_67&#45;&gt;prespace_72 -->
<g id="edge72" class="edge">
<title>prose_67&#45;&gt;prespace_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3533.3373,-2080.5842C3526.9513,-1981.069 3496.1454,-1501.0107 3488.3139,-1378.9687"/>
<polygon fill="#000000" stroke="#000000" points="3491.8022,-1378.6726 3487.6689,-1368.9173 3484.8165,-1379.121 3491.8022,-1378.6726"/>
</g>
<!-- literal_73 -->
<g id="node74" class="node">
<title>literal_73</title>
<ellipse fill="none" stroke="#000000" cx="3582.5" cy="-1350.7024" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3582.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_67&#45;&gt;literal_73 -->
<g id="edge73" class="edge">
<title>prose_67&#45;&gt;literal_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3535.6627,-2080.5842C3542.0487,-1981.069 3572.8546,-1501.0107 3580.6861,-1378.9687"/>
<polygon fill="#000000" stroke="#000000" points="3584.1835,-1379.121 3581.3311,-1368.9173 3577.1978,-1378.6726 3584.1835,-1379.121"/>
</g>
<!-- raw_74 -->
<g id="node75" class="node">
<title>raw_74</title>
<ellipse fill="none" stroke="#000000" cx="3658.5" cy="-1350.7024" rx="27" ry="18"/>
<text text-anchor="middle" x="3658.5" y="-1346.5024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_67&#45;&gt;raw_74 -->
<g id="edge74" class="edge">
<title>prose_67&#45;&gt;raw_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3540.6427,-2080.967C3556.9696,-2033.0277 3601.618,-1896.5839 3622.5,-1779.4032 3649.1174,-1630.038 3656.16,-1447.792 3657.9337,-1378.8898"/>
<polygon fill="#000000" stroke="#000000" points="3661.4342,-1378.9082 3658.1753,-1368.8271 3654.4362,-1378.7401 3661.4342,-1378.9082"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="4139.5,-1532.8032 3703.5,-1532.8032 3703.5,-1168.6015 4139.5,-1168.6015 4139.5,-1532.8032"/>
<text text-anchor="middle" x="3921.5" y="-1501.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">local function knit_all(knitter, pwd_str)</text>
<text text-anchor="middle" x="3921.5" y="-1486.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local did_knit = false</text>
<text text-anchor="middle" x="3921.5" y="-1471.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local pwd = Dir(pwd_str)</text>
<text text-anchor="middle" x="3921.5" y="-1455.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pwd.codex_type = &quot;base&quot;</text>
<text text-anchor="middle" x="3921.5" y="-1440.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;s:chat(&quot;pwd:&quot; .. tostring(pwd))</text>
<text text-anchor="middle" x="3921.5" y="-1424.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local orbDir = pwd .. &quot;/orb&quot;</text>
<text text-anchor="middle" x="3921.5" y="-1409.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;s:chat(&quot;orbDir: &quot; .. tostring(orbDir))</text>
<text text-anchor="middle" x="3921.5" y="-1394.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if orbDir:exists() then</text>
<text text-anchor="middle" x="3921.5" y="-1378.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.cyan(&quot;Knit: &quot;) .. tostring(orbDir))</text>
<text text-anchor="middle" x="3921.5" y="-1363.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;orbDir.codex_type = &quot;home&quot;</text>
<text text-anchor="middle" x="3921.5" y="-1347.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;did_knit = knit_dir(knitter, orbDir, pwd)</text>
<text text-anchor="middle" x="3921.5" y="-1332.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3921.5" y="-1317.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(&quot;No orb directory to knit. No action taken.&quot;)</text>
<text text-anchor="middle" x="3921.5" y="-1301.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="3921.5" y="-1286.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3921.5" y="-1270.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return did_knit</text>
<text text-anchor="middle" x="3921.5" y="-1255.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3921.5" y="-1224.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">knitter.knit_all = knit_all</text>
<text text-anchor="middle" x="3921.5" y="-1176.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">return knitter</text>
</g>
<!-- codeblock_68&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>codeblock_68&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3822.9466,-2080.5842C3832.7281,-2008.1428 3869.7378,-1734.051 3895.5078,-1543.1995"/>
<polygon fill="#000000" stroke="#000000" points="3899.0104,-1543.415 3896.88,-1533.0366 3892.0733,-1542.4783 3899.0104,-1543.415"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="3459.5,-524.0011 3009.5,-524.0011 3009.5,-453.4005 3459.5,-453.4005 3459.5,-524.0011"/>
<text text-anchor="middle" x="3234.5" y="-476.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">Both sides of the interface to this are wrong, but let&#39;s build</text>
<text text-anchor="middle" x="3234.5" y="-461.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">the Dir locally and go from there.</text>
</g>
<!-- raw_70&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>raw_70&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3342.0263,-1332.6953C3337.1258,-1273.6846 3320.5465,-1080.8148 3300.5,-922.0016 3282.6021,-780.2099 3255.4411,-613.2442 3242.2426,-534.3637"/>
<polygon fill="#000000" stroke="#000000" points="3245.6577,-533.565 3240.5514,-524.2819 3238.7541,-534.7231 3245.6577,-533.565"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="3531.5,-506.7008 3477.5,-506.7008 3477.5,-470.7008 3531.5,-470.7008 3531.5,-506.7008"/>
</g>
<!-- prespace_72&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>prespace_72&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3486.876,-1332.6982C3489.152,-1223.7019 3501.084,-652.2884 3503.9028,-517.2992"/>
<polygon fill="#000000" stroke="#000000" points="3507.4089,-517.0402 3504.1185,-506.9693 3500.4104,-516.894 3507.4089,-517.0402"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="3615,-506.7008 3550,-506.7008 3550,-470.7008 3615,-470.7008 3615,-506.7008"/>
<text text-anchor="middle" x="3582.5" y="-485.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">knitter</text>
</g>
<!-- literal_73&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>literal_73&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3582.5,-1332.6982C3582.5,-1223.7019 3582.5,-652.2884 3582.5,-517.2992"/>
<polygon fill="#000000" stroke="#000000" points="3586.0001,-516.9693 3582.5,-506.9693 3579.0001,-516.9693 3586.0001,-516.9693"/>
</g>
<!-- leaf_77 -->
<g id="node78" class="node">
<title>leaf_77</title>
<polygon fill="none" stroke="#c0c0c0" points="4048,-508.0014 3633,-508.0014 3633,-469.4002 4048,-469.4002 4048,-508.0014"/>
<text text-anchor="middle" x="3840.5" y="-492.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> isn&#39;t wrong externally, the internal interface it</text>
<text text-anchor="middle" x="3840.5" y="-477.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">presents needs considerable refinement to work correctly.</text>
</g>
<!-- raw_74&#45;&gt;leaf_77 -->
<g id="edge77" class="edge">
<title>raw_74&#45;&gt;leaf_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3658.4694,-1332.5092C3658.6986,-1272.9282 3662.0584,-1078.5095 3694.5,-922.0016 3727.0563,-764.9402 3799.1775,-585.8695 3828.1232,-517.3836"/>
<polygon fill="#000000" stroke="#000000" points="3831.3796,-518.6696 3832.0708,-508.0974 3824.9375,-515.9311 3831.3796,-518.6696"/>
</g>
</g>
</svg>