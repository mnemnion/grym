<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="1194pt" height="579pt"
 viewBox="0.00 0.00 1194.42 578.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 574.8007)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-574.8007 1190.4166,-574.8007 1190.4166,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="79.4166" cy="-552.8007" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="79.4166" y="-548.6007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 90</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="79.4166" cy="-285.4003" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="79.4166" y="-281.2003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;46</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M79.4166,-534.4212C79.4166,-488.5138 79.4166,-368.5834 79.4166,-313.6366"/>
<polygon fill="#000000" stroke="#000000" points="82.9167,-313.5549 79.4166,-303.5549 75.9167,-313.5549 82.9167,-313.5549"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="79.4166" cy="-18" rx="79.3333" ry="18"/>
<text text-anchor="middle" x="79.4166" y="-13.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Knitter Module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M79.4166,-267.0208C79.4166,-221.1135 79.4166,-101.1831 79.4166,-46.2363"/>
<polygon fill="#000000" stroke="#000000" points="82.9167,-46.1545 79.4166,-36.1545 75.9167,-46.1546 82.9167,-46.1545"/>
</g>
<!-- section_3 -->
<g id="node4" class="node">
<title>section_3</title>
<ellipse fill="none" stroke="#000000" cx="215.4166" cy="-552.8007" rx="47.9272" ry="18"/>
<text text-anchor="middle" x="215.4166" y="-548.6007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section_3</text>
</g>
<!-- header_6 -->
<g id="node5" class="node">
<title>header_6</title>
<ellipse fill="none" stroke="#000000" cx="215.4166" cy="-285.4003" rx="56.6492" ry="18"/>
<text text-anchor="middle" x="215.4166" y="-281.2003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : An Aside</text>
</g>
<!-- section_3&#45;&gt;header_6 -->
<g id="edge3" class="edge">
<title>section_3&#45;&gt;header_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M215.4166,-534.4212C215.4166,-488.5138 215.4166,-368.5834 215.4166,-313.6366"/>
<polygon fill="#000000" stroke="#000000" points="218.9167,-313.5549 215.4166,-303.5549 211.9167,-313.5549 218.9167,-313.5549"/>
</g>
<!-- section_4 -->
<g id="node6" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="340.4166" cy="-552.8007" rx="47.9272" ry="18"/>
<text text-anchor="middle" x="340.4166" y="-548.6007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section_4</text>
</g>
<!-- header_7 -->
<g id="node7" class="node">
<title>header_7</title>
<ellipse fill="none" stroke="#000000" cx="340.4166" cy="-285.4003" rx="49.8481" ry="18"/>
<text text-anchor="middle" x="340.4166" y="-281.2003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Design</text>
</g>
<!-- section_4&#45;&gt;header_7 -->
<g id="edge4" class="edge">
<title>section_4&#45;&gt;header_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M340.4166,-534.4212C340.4166,-488.5138 340.4166,-368.5834 340.4166,-313.6366"/>
<polygon fill="#000000" stroke="#000000" points="343.9167,-313.5549 340.4166,-303.5549 336.9167,-313.5549 343.9167,-313.5549"/>
</g>
<!-- codeblock_8 -->
<g id="node8" class="node">
<title>codeblock_8</title>
<ellipse fill="none" stroke="#000000" cx="514.4166" cy="-552.8007" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="514.4166" y="-548.6007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_8</text>
</g>
<!-- leaf_9 -->
<g id="node9" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="620.4166,-312.7008 408.4166,-312.7008 408.4166,-258.0999 620.4166,-258.0999 620.4166,-312.7008"/>
<text text-anchor="middle" x="514.4166" y="-297.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="514.4166" y="-266.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local K, k = u.inherit()</text>
</g>
<!-- codeblock_8&#45;&gt;leaf_9 -->
<g id="edge5" class="edge">
<title>codeblock_8&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M514.4166,-534.4212C514.4166,-490.9885 514.4166,-381.2982 514.4166,-323.0672"/>
<polygon fill="#000000" stroke="#000000" points="517.9167,-322.8205 514.4166,-312.8206 510.9167,-322.8206 517.9167,-322.8205"/>
</g>
<!-- section_5 -->
<g id="node10" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="706.4166" cy="-552.8007" rx="47.9272" ry="18"/>
<text text-anchor="middle" x="706.4166" y="-548.6007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section_5</text>
</g>
<!-- header_10 -->
<g id="node11" class="node">
<title>header_10</title>
<ellipse fill="none" stroke="#000000" cx="706.4166" cy="-285.4003" rx="68.2239" ry="18"/>
<text text-anchor="middle" x="706.4166" y="-281.2003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : knit method</text>
</g>
<!-- section_5&#45;&gt;header_10 -->
<g id="edge6" class="edge">
<title>section_5&#45;&gt;header_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M706.4166,-534.4212C706.4166,-488.5138 706.4166,-368.5834 706.4166,-313.6366"/>
<polygon fill="#000000" stroke="#000000" points="709.9167,-313.5549 706.4166,-303.5549 702.9167,-313.5549 709.9167,-313.5549"/>
</g>
<!-- codeblock_11 -->
<g id="node12" class="node">
<title>codeblock_11</title>
<ellipse fill="none" stroke="#000000" cx="989.4166" cy="-552.8007" rx="64.0625" ry="18"/>
<text text-anchor="middle" x="989.4166" y="-548.6007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_11</text>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="1186.4166,-498.7011 792.4166,-498.7011 792.4166,-72.0996 1186.4166,-72.0996 1186.4166,-498.7011"/>
<text text-anchor="middle" x="989.4166" y="-483.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">function K.knit(knitter, doc)</text>
<text text-anchor="middle" x="989.4166" y="-468.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local codeblocks = doc:select(&quot;codeblock&quot;)</text>
<text text-anchor="middle" x="989.4166" y="-452.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="989.4166" y="-437.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local linum = 0</text>
<text text-anchor="middle" x="989.4166" y="-422.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, cb in ipairs(codeblocks) do</text>
<text text-anchor="middle" x="989.4166" y="-406.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;cb:check()</text>
<text text-anchor="middle" x="989.4166" y="-391.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Pad code with blank lines to line up errors</text>
<text text-anchor="middle" x="989.4166" y="-375.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local pad_count = cb.line_first &#45; linum</text>
<text text-anchor="middle" x="989.4166" y="-344.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local pad = (&quot;\n&quot;):rep(pad_count)</text>
<text text-anchor="middle" x="989.4166" y="-329.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; cat codeblock value</text>
<text text-anchor="middle" x="989.4166" y="-313.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. pad .. cb.val </text>
<text text-anchor="middle" x="989.4166" y="-282.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; update linum</text>
<text text-anchor="middle" x="989.4166" y="-266.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;linum = cb.line_last &#45; 1</text>
<text text-anchor="middle" x="989.4166" y="-251.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="989.4166" y="-220.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="989.4166" y="-204.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="989.4166" y="-173.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Knitter, lang)</text>
<text text-anchor="middle" x="989.4166" y="-157.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local knitter = setmetatable({}, K)</text>
<text text-anchor="middle" x="989.4166" y="-142.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;knitter.lang = lang or &quot;lua&quot;</text>
<text text-anchor="middle" x="989.4166" y="-127.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return knitter</text>
<text text-anchor="middle" x="989.4166" y="-111.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="989.4166" y="-80.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return u.export(k, new)</text>
</g>
<!-- codeblock_11&#45;&gt;leaf_12 -->
<g id="edge7" class="edge">
<title>codeblock_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M989.4166,-534.4212C989.4166,-527.4742 989.4166,-518.8322 989.4166,-508.9768"/>
<polygon fill="#000000" stroke="#000000" points="992.9167,-508.7347 989.4166,-498.7348 985.9167,-508.7348 992.9167,-508.7347"/>
</g>
</g>
</svg>