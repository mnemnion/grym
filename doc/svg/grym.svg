<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="4132pt" height="1563pt"
 viewBox="0.00 0.00 4131.50 1562.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1558.8019)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1558.8019 4127.5,-1558.8019 4127.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="467.5" cy="-1536.8019" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="467.5" y="-1532.6019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 155</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="467.5" cy="-1464.8019" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="467.5" y="-1460.6019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;60</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M467.5,-1518.6333C467.5,-1510.9329 467.5,-1501.7763 467.5,-1493.2186"/>
<polygon fill="#000000" stroke="#000000" points="471.0001,-1493.2152 467.5,-1483.2152 464.0001,-1493.2152 471.0001,-1493.2152"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="303.5" cy="-1392.8019" rx="58.5101" ry="18"/>
<text text-anchor="middle" x="303.5" y="-1388.6019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Grimoire </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M433.1202,-1449.7084C407.9143,-1438.6424 373.5217,-1423.5432 346.4972,-1411.6788"/>
<polygon fill="#000000" stroke="#000000" points="347.8362,-1408.4442 337.2727,-1407.629 345.0222,-1414.8537 347.8362,-1408.4442"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="412.5" cy="-1392.8019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="412.5" y="-1388.6019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M453.9045,-1447.0042C447.1139,-1438.1147 438.7883,-1427.2157 431.3881,-1417.5282"/>
<polygon fill="#000000" stroke="#000000" points="434.0368,-1415.2298 425.185,-1409.4078 428.4741,-1419.4792 434.0368,-1415.2298"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="523.5" cy="-1392.8019" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="523.5" y="-1388.6019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 5&#45;41</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M481.3427,-1447.0042C488.0563,-1438.3723 496.2436,-1427.8459 503.6109,-1418.3736"/>
<polygon fill="#000000" stroke="#000000" points="506.4398,-1420.4373 509.8165,-1410.395 500.9143,-1416.1397 506.4398,-1420.4373"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="2085.5" cy="-1392.8019" rx="70.655" ry="18"/>
<text text-anchor="middle" x="2085.5" y="-1388.6019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 61&#45;133</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M527.9745,-1462.1109C777.0366,-1451.0277 1723.5406,-1408.9089 2005.669,-1396.3544"/>
<polygon fill="#000000" stroke="#000000" points="2005.9871,-1399.8438 2015.8216,-1395.9026 2005.6758,-1392.8507 2005.9871,-1399.8438"/>
</g>
<!-- leaf_6 -->
<g id="node7" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="281.5,-1339.0034 41.5,-1339.0034 41.5,-1283.2004 281.5,-1283.2004 281.5,-1339.0034"/>
<text text-anchor="middle" x="161.5" y="-1291.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">A metalanguage for magic spells.</text>
</g>
<!-- prose_3&#45;&gt;leaf_6 -->
<g id="edge6" class="edge">
<title>prose_3&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M387.5415,-1381.2804C382.2899,-1379.0157 376.7499,-1376.7427 371.5,-1374.8019 339.439,-1362.9495 304.0572,-1351.5809 271.6201,-1341.8126"/>
<polygon fill="#000000" stroke="#000000" points="272.2385,-1338.3445 261.6549,-1338.8337 270.2336,-1345.0513 272.2385,-1338.3445"/>
</g>
<!-- header_7 -->
<g id="node8" class="node">
<title>header_7</title>
<ellipse fill="none" stroke="#000000" cx="357.5" cy="-1311.1019" rx="57.5753" ry="18"/>
<text text-anchor="middle" x="357.5" y="-1306.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Requires</text>
</g>
<!-- section_4&#45;&gt;header_7 -->
<g id="edge7" class="edge">
<title>section_4&#45;&gt;header_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M491.8859,-1377.2425C465.063,-1364.0411 426.4359,-1345.03 397.4716,-1330.7747"/>
<polygon fill="#000000" stroke="#000000" points="398.9522,-1327.6025 388.4344,-1326.3269 395.8611,-1333.883 398.9522,-1327.6025"/>
</g>
<!-- prose_8 -->
<g id="node9" class="node">
<title>prose_8</title>
<ellipse fill="none" stroke="#000000" cx="465.5" cy="-1311.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="465.5" y="-1306.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_8 -->
<g id="edge8" class="edge">
<title>section_4&#45;&gt;prose_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M510.9149,-1375.0742C502.848,-1363.7111 492.2544,-1348.7888 483.328,-1336.2148"/>
<polygon fill="#000000" stroke="#000000" points="486.1087,-1334.0855 477.466,-1327.9574 480.4008,-1338.1377 486.1087,-1334.0855"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="581.5" cy="-1311.1019" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="581.5" y="-1306.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 10&#45;41</text>
</g>
<!-- section_4&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_4&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M536.0851,-1375.0742C543.9896,-1363.9399 554.32,-1349.3882 563.1309,-1336.9771"/>
<polygon fill="#000000" stroke="#000000" points="566.0046,-1338.9753 568.9394,-1328.795 560.2967,-1334.9231 566.0046,-1338.9753"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="946.5" cy="-1311.1019" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="946.5" y="-1306.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 42&#45;60</text>
</g>
<!-- section_4&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_4&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M574.5237,-1382.947C651.8057,-1368.0204 798.4351,-1339.6998 882.6733,-1323.4297"/>
<polygon fill="#000000" stroke="#000000" points="883.4734,-1326.8399 892.6282,-1321.507 882.1459,-1319.9669 883.4734,-1326.8399"/>
</g>
<!-- header_24 -->
<g id="node25" class="node">
<title>header_24</title>
<ellipse fill="none" stroke="#000000" cx="1861.5" cy="-1311.1019" rx="91.9296" ry="18"/>
<text text-anchor="middle" x="1861.5" y="-1306.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Argument parsing</text>
</g>
<!-- section_5&#45;&gt;header_24 -->
<g id="edge24" class="edge">
<title>section_5&#45;&gt;header_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2044.9353,-1378.0067C2008.4795,-1364.7101 1954.6936,-1345.0926 1914.7801,-1330.5349"/>
<polygon fill="#000000" stroke="#000000" points="1915.8016,-1327.182 1905.2077,-1327.0435 1913.403,-1333.7582 1915.8016,-1327.182"/>
</g>
<!-- prose_25 -->
<g id="node26" class="node">
<title>prose_25</title>
<ellipse fill="none" stroke="#000000" cx="2003.5" cy="-1311.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2003.5" y="-1306.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_25 -->
<g id="edge25" class="edge">
<title>section_5&#45;&gt;prose_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2067.7072,-1375.0742C2055.6584,-1363.0695 2039.6225,-1347.0922 2026.5908,-1334.1083"/>
<polygon fill="#000000" stroke="#000000" points="2028.8724,-1331.4408 2019.318,-1326.8621 2023.9317,-1336.3996 2028.8724,-1331.4408"/>
</g>
<!-- prose_26 -->
<g id="node27" class="node">
<title>prose_26</title>
<ellipse fill="none" stroke="#000000" cx="2085.5" cy="-1311.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2085.5" y="-1306.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_26 -->
<g id="edge26" class="edge">
<title>section_5&#45;&gt;prose_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2085.5,-1374.6701C2085.5,-1364.3042 2085.5,-1351.0767 2085.5,-1339.3749"/>
<polygon fill="#000000" stroke="#000000" points="2089.0001,-1339.1831 2085.5,-1329.1831 2082.0001,-1339.1831 2089.0001,-1339.1831"/>
</g>
<!-- codeblock_27 -->
<g id="node28" class="node">
<title>codeblock_27</title>
<ellipse fill="none" stroke="#000000" cx="2311.5" cy="-1311.1019" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="2311.5" y="-1306.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 69&#45;122</text>
</g>
<!-- section_5&#45;&gt;codeblock_27 -->
<g id="edge27" class="edge">
<title>section_5&#45;&gt;codeblock_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2126.4269,-1378.0067C2163.6392,-1364.5543 2218.7486,-1344.632 2259.1541,-1330.0252"/>
<polygon fill="#000000" stroke="#000000" points="2260.3571,-1333.312 2268.5716,-1326.6207 2257.9773,-1326.729 2260.3571,-1333.312"/>
</g>
<!-- section_28 -->
<g id="node29" class="node">
<title>section_28</title>
<ellipse fill="none" stroke="#000000" cx="2973.5" cy="-1311.1019" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="2973.5" y="-1306.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 124&#45;133</text>
</g>
<!-- section_5&#45;&gt;section_28 -->
<g id="edge28" class="edge">
<title>section_5&#45;&gt;section_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2152.2443,-1386.6612C2312.6078,-1371.907 2719.1273,-1334.5054 2892.8135,-1318.5254"/>
<polygon fill="#000000" stroke="#000000" points="2893.2749,-1321.9979 2902.9122,-1317.5963 2892.6335,-1315.0273 2893.2749,-1321.9979"/>
</g>
<!-- section_29 -->
<g id="node30" class="node">
<title>section_29</title>
<ellipse fill="none" stroke="#000000" cx="3568.5" cy="-1311.1019" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="3568.5" y="-1306.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 134&#45;155</text>
</g>
<!-- section_5&#45;&gt;section_29 -->
<g id="edge29" class="edge">
<title>section_5&#45;&gt;section_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2154.5457,-1388.9981C2398.3116,-1375.5688 3218.1936,-1330.4007 3484.3162,-1315.7397"/>
<polygon fill="#000000" stroke="#000000" points="3484.8907,-1319.2134 3494.683,-1315.1686 3484.5056,-1312.224 3484.8907,-1319.2134"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="359,-876.5024 0,-876.5024 0,-804.7001 359,-804.7001 359,-876.5024"/>
<text text-anchor="middle" x="179.5" y="-829.1012" font-family="Inconsolata" font-size="14.00" fill="#000000">Like any main entry =grym.lua= is mostly imports.</text>
</g>
<!-- prose_8&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>prose_8&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M444.7039,-1296.9178C438.2497,-1292.5519 431.0987,-1287.7512 424.5,-1283.4019 399.7954,-1267.1188 387.9475,-1269.7011 368.5,-1247.4019 271.5553,-1136.2416 214.606,-966.8947 191.5357,-886.3042"/>
<polygon fill="#000000" stroke="#000000" points="194.8432,-885.1373 188.761,-876.4622 188.1059,-887.0368 194.8432,-885.1373"/>
</g>
<!-- header_12 -->
<g id="node13" class="node">
<title>header_12</title>
<ellipse fill="none" stroke="#000000" cx="422.5" cy="-840.6012" rx="45.0114" ry="18"/>
<text text-anchor="middle" x="422.5" y="-836.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : locals</text>
</g>
<!-- section_9&#45;&gt;header_12 -->
<g id="edge12" class="edge">
<title>section_9&#45;&gt;header_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M541.2483,-1296.8619C518.5005,-1286.6701 491.6606,-1270.6062 476.5,-1247.4019 396.9732,-1125.6813 409.9251,-939.5007 418.4494,-868.9905"/>
<polygon fill="#000000" stroke="#000000" points="421.9692,-869.0577 419.7647,-858.6948 415.0256,-868.1706 421.9692,-869.0577"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="517.5" cy="-840.6012" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="517.5" y="-836.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>section_9&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M574.0093,-1293.0251C569.108,-1280.4456 562.9875,-1263.1668 559.5,-1247.4019 528.5573,-1107.5275 520.3,-935.4388 518.1901,-868.8038"/>
<polygon fill="#000000" stroke="#000000" points="521.6849,-868.5719 517.892,-858.6793 514.6879,-868.778 521.6849,-868.5719"/>
</g>
<!-- codeblock_14 -->
<g id="node15" class="node">
<title>codeblock_14</title>
<ellipse fill="none" stroke="#000000" cx="645.5" cy="-840.6012" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="645.5" y="-836.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 12&#45;39</text>
</g>
<!-- section_9&#45;&gt;codeblock_14 -->
<g id="edge14" class="edge">
<title>section_9&#45;&gt;codeblock_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M583.9697,-1292.946C593.7499,-1221.0461 629.8096,-955.9506 641.682,-868.6693"/>
<polygon fill="#000000" stroke="#000000" points="645.1578,-869.0835 643.0377,-858.703 638.2217,-868.14 645.1578,-869.0835"/>
</g>
<!-- header_17 -->
<g id="node18" class="node">
<title>header_17</title>
<ellipse fill="none" stroke="#000000" cx="845.5" cy="-840.6012" rx="50.3413" ry="18"/>
<text text-anchor="middle" x="845.5" y="-836.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : globals</text>
</g>
<!-- section_10&#45;&gt;header_17 -->
<g id="edge17" class="edge">
<title>section_10&#45;&gt;header_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M932.0636,-1293.272C922.9653,-1281.0783 911.7869,-1264.147 905.5,-1247.4019 854.7521,-1112.2362 846.7399,-936.7463 845.6128,-869.0027"/>
<polygon fill="#000000" stroke="#000000" points="849.1089,-868.6709 845.4823,-858.7161 842.1095,-868.7597 849.1089,-868.6709"/>
</g>
<!-- prose_18 -->
<g id="node19" class="node">
<title>prose_18</title>
<ellipse fill="none" stroke="#000000" cx="946.5" cy="-840.6012" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="946.5" y="-836.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_18 -->
<g id="edge18" class="edge">
<title>section_10&#45;&gt;prose_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M946.5,-1292.946C946.5,-1221.1192 946.5,-956.4898 946.5,-868.9363"/>
<polygon fill="#000000" stroke="#000000" points="950.0001,-868.703 946.5,-858.703 943.0001,-868.703 950.0001,-868.703"/>
</g>
<!-- prose_19 -->
<g id="node20" class="node">
<title>prose_19</title>
<ellipse fill="none" stroke="#000000" cx="1028.5" cy="-840.6012" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1028.5" y="-836.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_19 -->
<g id="edge19" class="edge">
<title>section_10&#45;&gt;prose_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M961.1913,-1293.3643C970.3972,-1281.2096 981.5997,-1264.2871 987.5,-1247.4019 1034.8556,-1111.8808 1032.9773,-936.597 1030.1002,-868.9556"/>
<polygon fill="#000000" stroke="#000000" points="1033.5832,-868.5102 1029.6187,-858.6851 1026.5909,-868.838 1033.5832,-868.5102"/>
</g>
<!-- codeblock_20 -->
<g id="node21" class="node">
<title>codeblock_20</title>
<ellipse fill="none" stroke="#000000" cx="1156.5" cy="-840.6012" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1156.5" y="-836.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 48&#45;59</text>
</g>
<!-- section_10&#45;&gt;codeblock_20 -->
<g id="edge20" class="edge">
<title>section_10&#45;&gt;codeblock_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M992.4725,-1298.1726C1018.8713,-1288.4164 1050.4624,-1272.3505 1069.5,-1247.4019 1159.1208,-1129.9548 1161.0665,-940.4657 1158.2294,-869.0524"/>
<polygon fill="#000000" stroke="#000000" points="1161.7058,-868.4609 1157.7457,-858.634 1154.7134,-868.7856 1161.7058,-868.4609"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="410.5,-216.9003 356.5,-216.9003 356.5,-180.9003 410.5,-180.9003 410.5,-216.9003"/>
</g>
<!-- prose_13&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>prose_13&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M520.8598,-822.6275C531.1348,-762.3055 556.7841,-563.5899 476.5,-433.8005 460.7376,-408.3187 436.2515,-422.6433 419.5,-397.8005 384.2007,-345.451 380.7371,-268.4381 381.796,-227.288"/>
<polygon fill="#000000" stroke="#000000" points="385.2985,-227.2806 382.1687,-217.1586 378.3032,-227.0232 385.2985,-227.2806"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="752.5,-397.7008 428.5,-397.7008 428.5,-.0997 752.5,-.0997 752.5,-397.7008"/>
<text text-anchor="middle" x="590.5" y="-382.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">require &quot;pl.strict&quot;</text>
<text text-anchor="middle" x="590.5" y="-351.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">local verbose = false</text>
<text text-anchor="middle" x="590.5" y="-303.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_file &#160;= require &quot;pl.file&quot;</text>
<text text-anchor="middle" x="590.5" y="-288.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_dir &#160;&#160;= require &quot;pl.dir&quot;</text>
<text text-anchor="middle" x="590.5" y="-273.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path &#160;= require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="590.5" y="-257.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">local getfiles = pl_dir.getfiles</text>
<text text-anchor="middle" x="590.5" y="-242.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local getdirectories = pl_dir.getdirectories</text>
<text text-anchor="middle" x="590.5" y="-226.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local read = pl_file.read</text>
<text text-anchor="middle" x="590.5" y="-211.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">local write = pl_file.write</text>
<text text-anchor="middle" x="590.5" y="-196.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">local isdir = pl_path.isdir</text>
<text text-anchor="middle" x="590.5" y="-164.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">local ansi = require &quot;ansi&quot;</text>
<text text-anchor="middle" x="590.5" y="-133.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local P_grym = require &quot;grym/grymmyr&quot; </text>
<text text-anchor="middle" x="590.5" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">local invert = require &quot;invert&quot;</text>
<text text-anchor="middle" x="590.5" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">local knit &#160;&#160;= require &quot;knit&quot;</text>
<text text-anchor="middle" x="590.5" y="-71.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">local weave &#160;= require &quot;weave&quot;</text>
<text text-anchor="middle" x="590.5" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">local ast &#160;= require &quot;peg/ast&quot;</text>
<text text-anchor="middle" x="590.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
</g>
<!-- codeblock_14&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>codeblock_14&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M643.9426,-822.43C638.7937,-762.3564 621.8832,-565.0576 608.4471,-408.2938"/>
<polygon fill="#000000" stroke="#000000" points="611.9085,-407.6931 607.5672,-398.0285 604.9341,-408.2909 611.9085,-407.6931"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1122.5,-226.8018 770.5,-226.8018 770.5,-170.9988 1122.5,-170.9988 1122.5,-226.8018"/>
<text text-anchor="middle" x="946.5" y="-179.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;For interactive and introspective development.</text>
</g>
<!-- prose_18&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>prose_18&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M946.5,-822.43C946.5,-735.2169 946.5,-358.7826 946.5,-237.0394"/>
<polygon fill="#000000" stroke="#000000" points="950.0001,-236.7273 946.5,-226.7273 943.0001,-236.7273 950.0001,-236.7273"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1422.5,-218.8023 1140.5,-218.8023 1140.5,-178.9982 1422.5,-178.9982 1422.5,-218.8023"/>
<text text-anchor="middle" x="1281.5" y="-187.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">Can&#39;t wait to build a reasonable REPL.</text>
</g>
<!-- prose_19&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>prose_19&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1025.0455,-822.5279C1014.4792,-761.8911 988.0911,-562.2962 1070.5,-433.8005 1087.4947,-407.3016 1108.0186,-418.768 1131.5,-397.8005 1189.5351,-345.9787 1240.077,-268.7705 1264.9988,-227.4446"/>
<polygon fill="#000000" stroke="#000000" points="1268.0914,-229.0921 1270.2058,-218.7103 1262.0787,-225.5075 1268.0914,-229.0921"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1652.5,-280.6006 1440.5,-280.6006 1440.5,-117.1999 1652.5,-117.1999 1652.5,-280.6006"/>
<text text-anchor="middle" x="1546.5" y="-265.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1546.5" y="-249.9004" font-family="Inconsolata" font-size="14.00" fill="#000000">u = require &quot;util&quot;</text>
<text text-anchor="middle" x="1546.5" y="-234.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">s = require &quot;status&quot;</text>
<text text-anchor="middle" x="1546.5" y="-219.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="1546.5" y="-203.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">Doc = require &quot;grym/doc&quot;</text>
<text text-anchor="middle" x="1546.5" y="-172.3002" font-family="Inconsolata" font-size="14.00" fill="#000000">Link = require &quot;grym/link&quot;</text>
<text text-anchor="middle" x="1546.5" y="-140.9002" font-family="Inconsolata" font-size="14.00" fill="#000000">spec = require &quot;node/spec&quot;</text>
<text text-anchor="middle" x="1546.5" y="-125.5002" font-family="Inconsolata" font-size="14.00" fill="#000000">pnf = require &quot;node/define&quot;</text>
</g>
<!-- codeblock_20&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>codeblock_20&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1154.0387,-822.3482C1146.5481,-758.5075 1130.8854,-543.1921 1242.5,-433.8005 1303.57,-373.9469 1361.7761,-447.3038 1431.5,-397.8005 1468.6858,-371.399 1495.5947,-328.9062 1513.989,-289.9617"/>
<polygon fill="#000000" stroke="#000000" points="1517.2613,-291.2224 1518.2497,-280.6738 1510.8988,-288.3037 1517.2613,-291.2224"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="1743.5,-875.9016 1251.5,-875.9016 1251.5,-805.3009 1743.5,-805.3009 1743.5,-875.9016"/>
<text text-anchor="middle" x="1497.5" y="-828.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">This is done crudely, we can use =pl.lapp= in future to parse within</text>
<text text-anchor="middle" x="1497.5" y="-813.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">commands to each verb.</text>
</g>
<!-- prose_25&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>prose_25&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1984.8519,-1296.0579C1978.151,-1291.3347 1970.3118,-1286.5399 1962.5,-1283.4019 1874.6297,-1248.1042 1831.1686,-1300.112 1752.5,-1247.4019 1618.6151,-1157.6953 1541.5103,-971.4491 1511.7879,-885.6562"/>
<polygon fill="#000000" stroke="#000000" points="1515.0188,-884.2864 1508.4796,-875.9503 1508.3931,-886.5447 1515.0188,-884.2864"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="2225.5,-867.9016 1761.5,-867.9016 1761.5,-813.3008 2225.5,-813.3008 2225.5,-867.9016"/>
<text text-anchor="middle" x="1993.5" y="-836.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">Note here that we pass in the pwd from a shell script. This may </text>
<text text-anchor="middle" x="1993.5" y="-821.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">change, now that we&#39;ve added [[sh][../lib/sh.lua]]]]</text>
</g>
<!-- prose_26&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>prose_26&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2081.9499,-1292.946C2068.3747,-1223.5208 2019.5784,-973.97 2000.8712,-878.2983"/>
<polygon fill="#000000" stroke="#000000" points="2004.2516,-877.3477 1998.8976,-868.2053 1997.3817,-878.6911 2004.2516,-877.3477"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2749.5,-1247.2027 2243.5,-1247.2027 2243.5,-433.9997 2749.5,-433.9997 2749.5,-1247.2027"/>
<text text-anchor="middle" x="2496.5" y="-1232.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">local pwd, verb = &quot;&quot;, &quot;&quot;</text>
<text text-anchor="middle" x="2496.5" y="-1200.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">if (arg) then</text>
<text text-anchor="middle" x="2496.5" y="-1185.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pwd = table.remove(arg, 1)</text>
<text text-anchor="middle" x="2496.5" y="-1170.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;verb = table.remove(arg, 1)</text>
<text text-anchor="middle" x="2496.5" y="-1154.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, v in ipairs(arg) do</text>
<text text-anchor="middle" x="2496.5" y="-1139.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;io.write(ansi.yellow(v)..&quot;\n&quot;)</text>
<text text-anchor="middle" x="2496.5" y="-1123.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2496.5" y="-1108.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2496.5" y="-1061.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local grym = {}</text>
<text text-anchor="middle" x="2496.5" y="-1029.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">grym.invert = invert</text>
<text text-anchor="middle" x="2496.5" y="-1014.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">grym.knit &#160;&#160;= knit</text>
<text text-anchor="middle" x="2496.5" y="-998.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">grym.weave &#160;= weave</text>
<text text-anchor="middle" x="2496.5" y="-967.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">samples = getfiles(&quot;samples&quot;)</text>
<text text-anchor="middle" x="2496.5" y="-936.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">local own = require &quot;grym/own&quot;</text>
<text text-anchor="middle" x="2496.5" y="-904.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">if verb == &quot;invert&quot; then</text>
<text text-anchor="middle" x="2496.5" y="-889.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; If we allow inversion in its present no&#45;guards state,</text>
<text text-anchor="middle" x="2496.5" y="-873.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; we will lose all commentary</text>
<text text-anchor="middle" x="2496.5" y="-858.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;u.freeze(&quot;no&quot;)</text>
<text text-anchor="middle" x="2496.5" y="-843.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45;invert:invert_all(pwd)</text>
<text text-anchor="middle" x="2496.5" y="-827.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">elseif verb == &quot;knit&quot; then</text>
<text text-anchor="middle" x="2496.5" y="-812.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; knitter goes here</text>
<text text-anchor="middle" x="2496.5" y="-796.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;knit:knit_all(pwd)</text>
<text text-anchor="middle" x="2496.5" y="-781.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">elseif verb == &quot;weave&quot; then</text>
<text text-anchor="middle" x="2496.5" y="-766.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; local weaved = weave:weaveMd(Doc(read(&quot;../orb/grym/block.gm&quot;)))</text>
<text text-anchor="middle" x="2496.5" y="-750.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; io.write(weaved)</text>
<text text-anchor="middle" x="2496.5" y="-735.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;weave:weave_all(pwd) </text>
<text text-anchor="middle" x="2496.5" y="-719.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">elseif verb == &quot;spec&quot; then</text>
<text text-anchor="middle" x="2496.5" y="-704.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; This is just a shim to get us inside whatever</text>
<text text-anchor="middle" x="2496.5" y="-689.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; I&#39;m working on</text>
<text text-anchor="middle" x="2496.5" y="-673.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local abstr = &quot;ab&quot;</text>
<text text-anchor="middle" x="2496.5" y="-658.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local abNode = spec.ab(abstr)</text>
<text text-anchor="middle" x="2496.5" y="-642.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(abNode.isNode)</text>
<text text-anchor="middle" x="2496.5" y="-627.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;io.write(tostring(abNode))</text>
<text text-anchor="middle" x="2496.5" y="-612.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;io.write(tostring(abNode:dot()))</text>
<text text-anchor="middle" x="2496.5" y="-596.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;io.write(&quot;nodewalker:\n&quot;)</text>
<text text-anchor="middle" x="2496.5" y="-581.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for node in abNode:walk() do</text>
<text text-anchor="middle" x="2496.5" y="-565.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;io.write(node.id .. &quot; &#45;&#45; &quot;)</text>
<text text-anchor="middle" x="2496.5" y="-550.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2496.5" y="-535.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;io.write(&quot;\n&quot;)</text>
<text text-anchor="middle" x="2496.5" y="-503.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">elseif not verb then</text>
<text text-anchor="middle" x="2496.5" y="-488.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; do the things</text>
<text text-anchor="middle" x="2496.5" y="-472.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;weave:weave_all(pwd)</text>
<text text-anchor="middle" x="2496.5" y="-457.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;knit:knit_all(pwd)</text>
<text text-anchor="middle" x="2496.5" y="-442.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_27&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>codeblock_27&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2318.6389,-1292.946C2322.2407,-1283.7855 2327.0757,-1271.489 2332.842,-1256.8238"/>
<polygon fill="#000000" stroke="#000000" points="2336.148,-1257.9806 2336.5501,-1247.3934 2329.6335,-1255.4191 2336.148,-1257.9806"/>
</g>
<!-- header_33 -->
<g id="node34" class="node">
<title>header_33</title>
<ellipse fill="none" stroke="#000000" cx="2888.5" cy="-840.6012" rx="120.9043" ry="18"/>
<text text-anchor="middle" x="2888.5" y="-836.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : Sample Doc for REPLing</text>
</g>
<!-- section_28&#45;&gt;header_33 -->
<g id="edge33" class="edge">
<title>section_28&#45;&gt;header_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2970.22,-1292.946C2957.2306,-1221.0461 2909.3389,-955.9506 2893.5707,-868.6693"/>
<polygon fill="#000000" stroke="#000000" points="2896.9924,-867.9214 2891.7702,-858.703 2890.1039,-869.166 2896.9924,-867.9214"/>
</g>
<!-- prose_34 -->
<g id="node35" class="node">
<title>prose_34</title>
<ellipse fill="none" stroke="#000000" cx="3059.5" cy="-840.6012" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3059.5" y="-836.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_28&#45;&gt;prose_34 -->
<g id="edge34" class="edge">
<title>section_28&#45;&gt;prose_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2989.8664,-1293.3374C2999.9353,-1281.302 3012.0994,-1264.5239 3018.5,-1247.4019 3068.7675,-1112.9337 3065.2003,-937.0392 3061.4854,-869.0949"/>
<polygon fill="#000000" stroke="#000000" points="3064.9594,-868.552 3060.8729,-858.777 3057.9717,-868.9668 3064.9594,-868.552"/>
</g>
<!-- codeblock_35 -->
<g id="node36" class="node">
<title>codeblock_35</title>
<ellipse fill="none" stroke="#000000" cx="3197.5" cy="-840.6012" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3197.5" y="-836.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 126&#45;132</text>
</g>
<!-- section_28&#45;&gt;codeblock_35 -->
<g id="edge35" class="edge">
<title>section_28&#45;&gt;codeblock_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3023.2413,-1297.4681C3049.8863,-1287.7006 3081.1236,-1271.8601 3100.5,-1247.4019 3192.9157,-1130.7487 3199.5258,-940.0984 3198.4896,-868.7365"/>
<polygon fill="#000000" stroke="#000000" points="3201.9885,-868.6404 3198.2801,-858.7157 3194.99,-868.7867 3201.9885,-868.6404"/>
</g>
<!-- header_38 -->
<g id="node39" class="node">
<title>header_38</title>
<ellipse fill="none" stroke="#000000" cx="3463.5" cy="-840.6012" rx="160.5556" ry="18"/>
<text text-anchor="middle" x="3463.5" y="-836.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Run the samples and make dotfiles</text>
</g>
<!-- section_29&#45;&gt;header_38 -->
<g id="edge38" class="edge">
<title>section_29&#45;&gt;header_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3564.4482,-1292.946C3548.4026,-1221.0461 3489.2421,-955.9506 3469.7639,-868.6693"/>
<polygon fill="#000000" stroke="#000000" points="3473.1338,-867.7006 3467.5397,-858.703 3466.3019,-869.2253 3473.1338,-867.7006"/>
</g>
<!-- prose_39 -->
<g id="node40" class="node">
<title>prose_39</title>
<ellipse fill="none" stroke="#000000" cx="3674.5" cy="-840.6012" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3674.5" y="-836.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_29&#45;&gt;prose_39 -->
<g id="edge39" class="edge">
<title>section_29&#45;&gt;prose_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3593.1186,-1293.9757C3607.4671,-1282.5487 3624.4663,-1266.2002 3633.5,-1247.4019 3695.9542,-1117.4399 3685.1097,-937.5935 3677.9671,-868.855"/>
<polygon fill="#000000" stroke="#000000" points="3681.4339,-868.3603 3676.8643,-858.8015 3674.4756,-869.1236 3681.4339,-868.3603"/>
</g>
<!-- codeblock_40 -->
<g id="node41" class="node">
<title>codeblock_40</title>
<ellipse fill="none" stroke="#000000" cx="3874.5" cy="-840.6012" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3874.5" y="-836.4012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 136&#45;154</text>
</g>
<!-- section_29&#45;&gt;codeblock_40 -->
<g id="edge40" class="edge">
<title>section_29&#45;&gt;codeblock_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3623.1072,-1298.5835C3653.7496,-1289.0783 3690.6903,-1273.1292 3715.5,-1247.4019 3823.643,-1135.2592 3860.6155,-941.1014 3870.9997,-868.8009"/>
<polygon fill="#000000" stroke="#000000" points="3874.4996,-869.041 3872.3948,-858.6573 3867.5649,-868.0872 3874.4996,-869.041"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="3028.5,-216.9003 2974.5,-216.9003 2974.5,-180.9003 3028.5,-180.9003 3028.5,-216.9003"/>
</g>
<!-- prose_34&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>prose_34&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3057.8576,-822.43C3049.7482,-732.7086 3013.9722,-336.8905 3004.0561,-227.1801"/>
<polygon fill="#000000" stroke="#000000" points="3007.5141,-226.5573 3003.1281,-216.913 3000.5426,-227.1875 3007.5141,-226.5573"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="3462,-234.2006 3047,-234.2006 3047,-163.5999 3462,-163.5999 3462,-234.2006"/>
<text text-anchor="middle" x="3254.5" y="-219.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">sample_doc = Doc(read(&quot;../orb/grym.orb&quot;)) or &quot;&quot;</text>
<text text-anchor="middle" x="3254.5" y="-187.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">dot_sh = (require &quot;sh&quot;):clear_G().command(&#39;dot&#39;, &#39;&#45;Tsvg&#39;)</text>
</g>
<!-- codeblock_35&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>codeblock_35&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3199.1141,-822.43C3206.7003,-737.0253 3238.9226,-374.2691 3250.4108,-244.9361"/>
<polygon fill="#000000" stroke="#000000" points="3253.9309,-244.8638 3251.3295,-234.5933 3246.9584,-244.2444 3253.9309,-244.8638"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="3669.5,-216.9003 3615.5,-216.9003 3615.5,-180.9003 3669.5,-180.9003 3669.5,-216.9003"/>
</g>
<!-- prose_39&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>prose_39&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3673.5938,-822.43C3669.1197,-732.7086 3649.3812,-336.8905 3643.9102,-227.1801"/>
<polygon fill="#000000" stroke="#000000" points="3647.3921,-226.7262 3643.3982,-216.913 3640.4007,-227.0749 3647.3921,-226.7262"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="4123.5,-333.7009 3687.5,-333.7009 3687.5,-64.0997 4123.5,-64.0997 4123.5,-333.7009"/>
<text text-anchor="middle" x="3905.5" y="-318.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;&#45;[[</text>
<text text-anchor="middle" x="3905.5" y="-303.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">for _,v in ipairs(samples) do</text>
<text text-anchor="middle" x="3905.5" y="-287.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if v:match(&quot;~&quot;) == nil then</text>
<text text-anchor="middle" x="3905.5" y="-272.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if verbose then io.write(v) end</text>
<text text-anchor="middle" x="3905.5" y="-257.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local sample = read(v)</text>
<text text-anchor="middle" x="3905.5" y="-241.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45;io.write(v..&quot;\n&quot;)</text>
<text text-anchor="middle" x="3905.5" y="-226.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc = Doc(sample)</text>
<text text-anchor="middle" x="3905.5" y="-210.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc_dot = doc:dot()</text>
<text text-anchor="middle" x="3905.5" y="-195.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local old_dot = read(&quot;../orb/dot/&quot; .. v .. &quot;.dot&quot;)</text>
<text text-anchor="middle" x="3905.5" y="-180.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if old_dot and old_dot ~= doc_dot then</text>
<text text-anchor="middle" x="3905.5" y="-164.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;io.write(&quot; &#160;&#160;&#45;&#45; changed dotfile: &quot; .. v)</text>
<text text-anchor="middle" x="3905.5" y="-149.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;write(&quot;../orb/dot/&quot; .. v .. &quot;&#45;old.dot&quot;, old_dot)</text>
<text text-anchor="middle" x="3905.5" y="-133.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3905.5" y="-118.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;write(&quot;../orb/dot/&quot; .. v .. &quot;.dot&quot;, doc:dot())</text>
<text text-anchor="middle" x="3905.5" y="-103.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3905.5" y="-87.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3905.5" y="-72.2" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;]]</text>
</g>
<!-- codeblock_40&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>codeblock_40&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3875.3778,-822.43C3878.6954,-753.7559 3890.6763,-505.7519 3898.4914,-343.978"/>
<polygon fill="#000000" stroke="#000000" points="3901.99,-344.0898 3898.9767,-333.9326 3894.9982,-343.752 3901.99,-344.0898"/>
</g>
</g>
</svg>