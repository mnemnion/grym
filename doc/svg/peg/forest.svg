<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="1093pt" height="524pt"
 viewBox="0.00 0.00 1093.00 524.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 520.2004)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-520.2004 1089,-520.2004 1089,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="424" cy="-498.2004" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="424" y="-494.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 40</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="424" cy="-426.2004" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="424" y="-422.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;40</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M424,-480.0318C424,-472.3314 424,-463.1748 424,-454.617"/>
<polygon fill="#000000" stroke="#000000" points="427.5001,-454.6136 424,-444.6137 420.5001,-454.6137 427.5001,-454.6136"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="178" cy="-354.2004" rx="27" ry="18"/>
<text text-anchor="middle" x="178" y="-350.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">0 : </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M378.5601,-414.238C339.3195,-403.7287 281.1903,-387.7321 231,-372.2004 224.7251,-370.2586 218.0689,-368.0873 211.6702,-365.9432"/>
<polygon fill="#000000" stroke="#000000" points="212.5132,-362.5332 201.9188,-362.6329 210.263,-369.1617 212.5132,-362.5332"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="272" cy="-354.2004" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="272" y="-350.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M391.7647,-410.9311C366.5737,-398.9985 331.6514,-382.4563 306.0162,-370.3133"/>
<polygon fill="#000000" stroke="#000000" points="307.2213,-367.0114 296.6856,-365.8936 304.2246,-373.3376 307.2213,-367.0114"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="363" cy="-354.2004" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="363" y="-350.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M408.9213,-408.4026C401.3139,-399.4234 391.9694,-388.3938 383.7003,-378.6335"/>
<polygon fill="#000000" stroke="#000000" points="386.2035,-376.1736 377.0688,-370.8062 380.8626,-380.6986 386.2035,-376.1736"/>
</g>
<!-- codeblock_5 -->
<g id="node6" class="node">
<title>codeblock_5</title>
<ellipse fill="none" stroke="#000000" cx="490" cy="-354.2004" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="490" y="-350.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 6&#45;21</text>
</g>
<!-- section_1&#45;&gt;codeblock_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;codeblock_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M439.9768,-408.7712C448.0443,-399.9702 457.9811,-389.1301 466.8668,-379.4366"/>
<polygon fill="#000000" stroke="#000000" points="469.5346,-381.7059 473.7119,-371.9693 464.3745,-376.9758 469.5346,-381.7059"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="657" cy="-354.2004" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="657" y="-350.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M466.1945,-413.1617C509.78,-399.6933 577.1801,-378.8658 619.1115,-365.9084"/>
<polygon fill="#000000" stroke="#000000" points="620.1589,-369.2481 628.6798,-362.9517 618.0922,-362.5602 620.1589,-369.2481"/>
</g>
<!-- codeblock_7 -->
<g id="node8" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="850" cy="-354.2004" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="850" y="-350.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 25&#45;40</text>
</g>
<!-- section_1&#45;&gt;codeblock_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;codeblock_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M477.0919,-417.2271C552.8266,-404.4269 692.1227,-380.8839 777.3629,-366.4771"/>
<polygon fill="#000000" stroke="#000000" points="777.9495,-369.9277 787.2263,-364.81 776.7829,-363.0256 777.9495,-369.9277"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="171,-205.8002 117,-205.8002 117,-169.8002 171,-169.8002 171,-205.8002"/>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M174.2967,-336.0759C168.3696,-307.0682 156.7095,-250.002 149.7099,-215.7452"/>
<polygon fill="#000000" stroke="#000000" points="153.1299,-214.9993 147.6988,-205.9024 146.2716,-216.4006 153.1299,-214.9993"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="216" cy="-187.8002" rx="27" ry="18"/>
<text text-anchor="middle" x="216" y="-183.6002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M265.1312,-336.2727C261.1749,-325.7968 256.1749,-312.2968 252,-300.2004 242.0869,-271.478 231.5789,-238.3165 224.4915,-215.496"/>
<polygon fill="#000000" stroke="#000000" points="227.7886,-214.3111 221.4902,-205.7917 221.1012,-216.3794 227.7886,-214.3111"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="288" cy="-187.8002" rx="27" ry="18"/>
<text text-anchor="middle" x="288" y="-183.6002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_4&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M348.8829,-337.5854C340.7292,-327.3349 330.778,-313.6194 324,-300.2004 310.2207,-272.9202 300.2772,-239.2726 294.3774,-215.9382"/>
<polygon fill="#000000" stroke="#000000" points="297.7237,-214.8873 291.952,-206.0026 290.9234,-216.5474 297.7237,-214.8873"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="657,-300.0007 333,-300.0007 333,-75.5997 657,-75.5997 657,-300.0007"/>
<text text-anchor="middle" x="495" y="-284.7004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function forest_tostring(forest)</text>
<text text-anchor="middle" x="495" y="-269.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local top_phrase = &quot;[ &quot;</text>
<text text-anchor="middle" x="495" y="-253.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(forest) do </text>
<text text-anchor="middle" x="495" y="-238.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;top_phrase = top_phrase..v.id..&quot; &quot;</text>
<text text-anchor="middle" x="495" y="-223.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="495" y="-207.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;top_phrase = top_phrase..&quot;]\n&quot;</text>
<text text-anchor="middle" x="495" y="-192.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local node_phrase = &quot;&quot;</text>
<text text-anchor="middle" x="495" y="-176.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(forest) do</text>
<text text-anchor="middle" x="495" y="-161.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;node_phrase = node_phrase..tostring(v)</text>
<text text-anchor="middle" x="495" y="-146.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="495" y="-130.7001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return top_phrase..node_phrase</text>
<text text-anchor="middle" x="495" y="-115.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="495" y="-83.9" font-family="Inconsolata" font-size="14.00" fill="#000000">local function F ()</text>
</g>
<!-- codeblock_5&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>codeblock_5&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M490.5446,-336.0759C490.7591,-328.9372 491.0247,-320.0991 491.3185,-310.3198"/>
<polygon fill="#000000" stroke="#000000" points="494.8189,-310.3556 491.621,-300.2549 487.8221,-310.1453 494.8189,-310.3556"/>
</g>
<!-- raw_14 -->
<g id="node15" class="node">
<title>raw_14</title>
<ellipse fill="none" stroke="#000000" cx="702" cy="-187.8002" rx="27" ry="18"/>
<text text-anchor="middle" x="702" y="-183.6002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_14 -->
<g id="edge14" class="edge">
<title>prose_6&#45;&gt;raw_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M661.8158,-336.3927C669.6445,-307.4439 685.1894,-249.9623 694.4828,-215.5971"/>
<polygon fill="#000000" stroke="#000000" points="697.9188,-216.2984 697.1508,-205.7314 691.1616,-214.4709 697.9188,-216.2984"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1085,-300.1007 747,-300.1007 747,-75.4998 1085,-75.4998 1085,-300.1007"/>
<text text-anchor="middle" x="916" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local meta = {}</text>
<text text-anchor="middle" x="916" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;meta[&quot;__index&quot;] = meta</text>
<text text-anchor="middle" x="916" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;meta[&quot;__tostring&quot;] = forest_tostring</text>
<text text-anchor="middle" x="916" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;meta[&quot;isforest&quot;] = true</text>
<text text-anchor="middle" x="916" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;the below are added to F in ast.lua </text>
<text text-anchor="middle" x="916" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;select&quot;] = ast.forest.select</text>
<text text-anchor="middle" x="916" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;with&quot;] &#160;&#160;= ast.forest.select_with</text>
<text text-anchor="middle" x="916" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;pick&quot;] &#160;&#160;= ast.forest.pick</text>
<text text-anchor="middle" x="916" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return meta</text>
<text text-anchor="middle" x="916" y="-146.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="916" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">local F = F()</text>
<text text-anchor="middle" x="916" y="-83.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">return F</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>codeblock_7&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M857.1888,-336.0759C860.0793,-328.7884 863.6721,-319.7301 867.6474,-309.7074"/>
<polygon fill="#000000" stroke="#000000" points="870.9631,-310.8409 871.3966,-300.2549 864.4562,-308.26 870.9631,-310.8409"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="114,-39.6021 0,-39.6021 0,.2021 114,.2021 114,-39.6021"/>
<text text-anchor="middle" x="57" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> Forest module</text>
</g>
<!-- raw_9&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>raw_9&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M214.6785,-169.6196C212.009,-145.356 203.9894,-102.3269 180,-75.4 171.2198,-65.5447 146.3628,-53.5816 121.2724,-43.2722"/>
<polygon fill="#000000" stroke="#000000" points="122.2614,-39.8974 111.6778,-39.4098 119.6473,-46.3911 122.2614,-39.8974"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="554,-39.6021 132,-39.6021 132,.2021 554,.2021 554,-39.6021"/>
<text text-anchor="middle" x="343" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> Provides tools for working with vectors of borrowed Nodes</text>
</g>
<!-- raw_11&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M293.6327,-169.8569C300.6326,-147.6424 312.9997,-108.667 324,-75.4 326.8358,-66.824 329.9789,-57.5286 332.8788,-49.0334"/>
<polygon fill="#000000" stroke="#000000" points="336.2083,-50.114 336.1384,-39.5194 329.5861,-47.8451 336.2083,-50.114"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="776.5,-39.6021 627.5,-39.6021 627.5,.2021 776.5,.2021 776.5,-39.6021"/>
<text text-anchor="middle" x="702" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> &lt;Forest&gt; metatable</text>
</g>
<!-- raw_14&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>raw_14&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M702,-169.4906C702,-140.6492 702,-84.3508 702,-49.5868"/>
<polygon fill="#000000" stroke="#000000" points="705.5001,-49.5435 702,-39.5436 698.5001,-49.5436 705.5001,-49.5435"/>
</g>
</g>
</svg>