<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="1428pt" height="521pt"
 viewBox="0.00 0.00 1428.00 520.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 516.8004)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-516.8004 1424,-516.8004 1424,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="676" cy="-494.8004" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="676" y="-490.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 40</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="676" cy="-422.8004" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="676" y="-418.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;40</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M676,-476.6317C676,-468.9313 676,-459.7747 676,-451.217"/>
<polygon fill="#000000" stroke="#000000" points="679.5001,-451.2136 676,-441.2136 672.5001,-451.2137 679.5001,-451.2136"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="418" cy="-350.8004" rx="27" ry="18"/>
<text text-anchor="middle" x="418" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">0 : </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M623.432,-413.4849C577.8167,-404.5872 510.4266,-389.4699 454,-368.8004 452.13,-368.1154 450.2302,-367.3598 448.3304,-366.5579"/>
<polygon fill="#000000" stroke="#000000" points="449.5189,-363.2527 438.9694,-362.2738 446.6059,-369.6178 449.5189,-363.2527"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="509" cy="-350.8004" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="509" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;3</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M641.3975,-407.8819C614.7335,-396.3861 577.7983,-380.4619 549.7127,-368.3531"/>
<polygon fill="#000000" stroke="#000000" points="550.7474,-364.9879 540.1788,-364.2427 547.976,-371.4159 550.7474,-364.9879"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="619" cy="-350.8004" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="619" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 4&#45;5</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M661.9101,-405.0026C655.0256,-396.3064 646.6187,-385.6871 639.0765,-376.1601"/>
<polygon fill="#000000" stroke="#000000" points="641.6824,-373.813 632.7311,-368.145 636.194,-378.1579 641.6824,-373.813"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="734" cy="-350.8004" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="734" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 6&#45;22</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M690.3371,-405.0026C697.3424,-396.3064 705.8968,-385.6871 713.5713,-376.1601"/>
<polygon fill="#000000" stroke="#000000" points="716.4803,-378.1282 720.028,-368.145 711.029,-373.7369 716.4803,-378.1282"/>
</g>
<!-- block_6 -->
<g id="node7" class="node">
<title>block_6</title>
<ellipse fill="none" stroke="#000000" cx="923" cy="-350.8004" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="923" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 23&#45;24</text>
</g>
<!-- section_1&#45;&gt;block_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;block_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M719.3068,-410.1765C761.7541,-397.8032 826.4687,-378.939 871.524,-365.8055"/>
<polygon fill="#000000" stroke="#000000" points="872.7702,-369.088 881.3911,-362.9293 870.8112,-362.3677 872.7702,-369.088"/>
</g>
<!-- block_7 -->
<g id="node8" class="node">
<title>block_7</title>
<ellipse fill="none" stroke="#000000" cx="1085" cy="-350.8004" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1085" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 25&#45;40</text>
</g>
<!-- section_1&#45;&gt;block_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;block_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M728.754,-413.8701C790.8216,-403.3167 896.9617,-385.1249 988,-368.8004 1000.5045,-366.5581 1013.9058,-364.1042 1026.6346,-361.7494"/>
<polygon fill="#000000" stroke="#000000" points="1027.4747,-365.1533 1036.6686,-359.8881 1026.1979,-358.2708 1027.4747,-365.1533"/>
</g>
<!-- prose_8 -->
<g id="node9" class="node">
<title>prose_8</title>
<ellipse fill="none" stroke="#000000" cx="293" cy="-278.8004" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="293" y="-274.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_3&#45;&gt;prose_8 -->
<g id="edge8" class="edge">
<title>block_3&#45;&gt;prose_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M473.8151,-339.0721C434.4723,-325.9578 370.9986,-304.7999 330.6719,-291.3577"/>
<polygon fill="#000000" stroke="#000000" points="331.5405,-287.9579 320.9469,-288.116 329.3269,-294.5987 331.5405,-287.9579"/>
</g>
<!-- prose_10 -->
<g id="node11" class="node">
<title>prose_10</title>
<ellipse fill="none" stroke="#000000" cx="477" cy="-278.8004" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="477" y="-274.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_4&#45;&gt;prose_10 -->
<g id="edge10" class="edge">
<title>block_4&#45;&gt;prose_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M590.6055,-336.4031C567.4553,-324.665 534.7153,-308.0645 510.3253,-295.6977"/>
<polygon fill="#000000" stroke="#000000" points="511.5977,-292.4187 501.0959,-291.018 508.4321,-298.662 511.5977,-292.4187"/>
</g>
<!-- codeblock_12 -->
<g id="node13" class="node">
<title>codeblock_12</title>
<ellipse fill="none" stroke="#000000" cx="734" cy="-278.8004" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="734" y="-274.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 6&#45;21</text>
</g>
<!-- block_5&#45;&gt;codeblock_12 -->
<g id="edge12" class="edge">
<title>block_5&#45;&gt;codeblock_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M734,-332.6317C734,-324.9313 734,-315.7747 734,-307.217"/>
<polygon fill="#000000" stroke="#000000" points="737.5001,-307.2136 734,-297.2136 730.5001,-307.2137 737.5001,-307.2136"/>
</g>
<!-- prose_14 -->
<g id="node15" class="node">
<title>prose_14</title>
<ellipse fill="none" stroke="#000000" cx="972" cy="-278.8004" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="972" y="-274.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_6&#45;&gt;prose_14 -->
<g id="edge14" class="edge">
<title>block_6&#45;&gt;prose_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M935.1124,-333.0026C941.0143,-324.3304 948.2176,-313.7459 954.6874,-304.2393"/>
<polygon fill="#000000" stroke="#000000" points="957.6316,-306.1339 960.3644,-295.8976 951.8446,-302.1955 957.6316,-306.1339"/>
</g>
<!-- codeblock_16 -->
<g id="node17" class="node">
<title>codeblock_16</title>
<ellipse fill="none" stroke="#000000" cx="1101" cy="-278.8004" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1101" y="-274.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 25&#45;40</text>
</g>
<!-- block_7&#45;&gt;codeblock_16 -->
<g id="edge16" class="edge">
<title>block_7&#45;&gt;codeblock_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1089.0375,-332.6317C1090.7487,-324.9313 1092.7835,-315.7747 1094.6852,-307.217"/>
<polygon fill="#000000" stroke="#000000" points="1098.1554,-307.7348 1096.9082,-297.2136 1091.3221,-306.2162 1098.1554,-307.7348"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="114,-130.4002 0,-130.4002 0,-94.4002 114,-94.4002 114,-130.4002"/>
<text text-anchor="middle" x="57" y="-108.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> Forest module</text>
</g>
<!-- prose_8&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>prose_8&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M260.9597,-275.5506C224.1653,-270.3709 163.658,-257.258 123,-224.8004 95.3656,-202.7396 76.8769,-165.7333 66.6648,-140.2456"/>
<polygon fill="#000000" stroke="#000000" points="69.8793,-138.8525 63.0336,-130.7664 63.3425,-141.3567 69.8793,-138.8525"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="554,-130.4002 132,-130.4002 132,-94.4002 554,-94.4002 554,-130.4002"/>
<text text-anchor="middle" x="343" y="-108.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> Provides tools for working with vectors of borrowed Nodes</text>
</g>
<!-- prose_10&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>prose_10&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M463.6617,-262.2369C440.2506,-233.1653 391.6136,-172.7682 363.768,-138.1898"/>
<polygon fill="#000000" stroke="#000000" points="366.4936,-135.994 357.4956,-130.4007 361.0416,-140.3845 366.4936,-135.994"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="896,-224.6007 572,-224.6007 572,-.1997 896,-.1997 896,-224.6007"/>
<text text-anchor="middle" x="734" y="-209.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function forest_tostring(forest)</text>
<text text-anchor="middle" x="734" y="-193.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local top_phrase = &quot;[ &quot;</text>
<text text-anchor="middle" x="734" y="-178.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(forest) do </text>
<text text-anchor="middle" x="734" y="-163.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;top_phrase = top_phrase..v.id..&quot; &quot;</text>
<text text-anchor="middle" x="734" y="-147.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="734" y="-132.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;top_phrase = top_phrase..&quot;]\n&quot;</text>
<text text-anchor="middle" x="734" y="-116.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local node_phrase = &quot;&quot;</text>
<text text-anchor="middle" x="734" y="-101.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(forest) do</text>
<text text-anchor="middle" x="734" y="-86.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;node_phrase = node_phrase..tostring(v)</text>
<text text-anchor="middle" x="734" y="-70.7001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="734" y="-55.3001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return top_phrase..node_phrase</text>
<text text-anchor="middle" x="734" y="-39.9" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="734" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000">local function F ()</text>
</g>
<!-- codeblock_12&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>codeblock_12&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M734,-260.6759C734,-253.5371 734,-244.6991 734,-234.9198"/>
<polygon fill="#000000" stroke="#000000" points="737.5001,-234.8549 734,-224.8549 730.5001,-234.855 737.5001,-234.8549"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="1063.5,-130.4002 914.5,-130.4002 914.5,-94.4002 1063.5,-94.4002 1063.5,-130.4002"/>
<text text-anchor="middle" x="989" y="-108.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &lt;Forest&gt; metatable</text>
</g>
<!-- prose_14&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>prose_14&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M973.8517,-260.6759C976.8024,-231.7932 982.595,-175.0934 986.0997,-140.7894"/>
<polygon fill="#000000" stroke="#000000" points="989.6161,-140.8063 987.1506,-130.5023 982.6523,-140.0948 989.6161,-140.8063"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="1420,-224.7007 1082,-224.7007 1082,-.0997 1420,-.0997 1420,-224.7007"/>
<text text-anchor="middle" x="1251" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local meta = {}</text>
<text text-anchor="middle" x="1251" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;meta[&quot;__index&quot;] = meta</text>
<text text-anchor="middle" x="1251" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;meta[&quot;__tostring&quot;] = forest_tostring</text>
<text text-anchor="middle" x="1251" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;meta[&quot;isforest&quot;] = true</text>
<text text-anchor="middle" x="1251" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;the below are added to F in ast.lua </text>
<text text-anchor="middle" x="1251" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;select&quot;] = ast.forest.select</text>
<text text-anchor="middle" x="1251" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;with&quot;] &#160;&#160;= ast.forest.select_with</text>
<text text-anchor="middle" x="1251" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;pick&quot;] &#160;&#160;= ast.forest.pick</text>
<text text-anchor="middle" x="1251" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return meta</text>
<text text-anchor="middle" x="1251" y="-71.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1251" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">local F = F()</text>
<text text-anchor="middle" x="1251" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return F</text>
</g>
<!-- codeblock_16&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>codeblock_16&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1117.0526,-260.9926C1124.053,-253.2268 1132.9044,-243.4077 1142.7079,-232.5324"/>
<polygon fill="#000000" stroke="#000000" points="1145.54,-234.6179 1149.6359,-224.8468 1140.3407,-229.931 1145.54,-234.6179"/>
</g>
</g>
</svg>