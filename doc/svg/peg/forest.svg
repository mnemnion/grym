<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="828pt" height="377pt"
 viewBox="0.00 0.00 827.74 376.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 372.8004)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-372.8004 823.7408,-372.8004 823.7408,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="60.7408" cy="-350.8004" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="60.7408" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 40</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="60.7408" cy="-184.4002" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="60.7408" y="-180.2002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;40</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M60.7408,-332.6759C60.7408,-303.7932 60.7408,-247.0934 60.7408,-212.7894"/>
<polygon fill="#000000" stroke="#000000" points="64.2409,-212.5023 60.7408,-202.5023 57.2409,-212.5024 64.2409,-212.5023"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="60.7408" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="60.7408" y="-13.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">0 : </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M60.7408,-166.2757C60.7408,-137.393 60.7408,-80.6933 60.7408,-46.3892"/>
<polygon fill="#000000" stroke="#000000" points="64.2409,-46.1021 60.7408,-36.1022 57.2409,-46.1022 64.2409,-46.1021"/>
</g>
<!-- codeblock_3 -->
<g id="node4" class="node">
<title>codeblock_3</title>
<ellipse fill="none" stroke="#000000" cx="301.7408" cy="-350.8004" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="301.7408" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_3</text>
</g>
<!-- leaf_5 -->
<g id="node5" class="node">
<title>leaf_5</title>
<polygon fill="none" stroke="#c0c0c0" points="463.7408,-296.6007 139.7408,-296.6007 139.7408,-72.1997 463.7408,-72.1997 463.7408,-296.6007"/>
<text text-anchor="middle" x="301.7408" y="-281.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function forest_tostring(forest)</text>
<text text-anchor="middle" x="301.7408" y="-265.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local top_phrase = &quot;[ &quot;</text>
<text text-anchor="middle" x="301.7408" y="-250.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(forest) do </text>
<text text-anchor="middle" x="301.7408" y="-235.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;top_phrase = top_phrase..v.id..&quot; &quot;</text>
<text text-anchor="middle" x="301.7408" y="-219.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="301.7408" y="-204.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;top_phrase = top_phrase..&quot;]\n&quot;</text>
<text text-anchor="middle" x="301.7408" y="-188.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local node_phrase = &quot;&quot;</text>
<text text-anchor="middle" x="301.7408" y="-173.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(forest) do</text>
<text text-anchor="middle" x="301.7408" y="-158.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;node_phrase = node_phrase..tostring(v)</text>
<text text-anchor="middle" x="301.7408" y="-142.7001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="301.7408" y="-127.3001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return top_phrase..node_phrase</text>
<text text-anchor="middle" x="301.7408" y="-111.9" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="301.7408" y="-80.5" font-family="Inconsolata" font-size="14.00" fill="#000000">local function F ()</text>
</g>
<!-- codeblock_3&#45;&gt;leaf_5 -->
<g id="edge3" class="edge">
<title>codeblock_3&#45;&gt;leaf_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M301.7408,-332.6759C301.7408,-325.5371 301.7408,-316.6991 301.7408,-306.9198"/>
<polygon fill="#000000" stroke="#000000" points="305.2409,-306.8549 301.7408,-296.8549 298.2409,-306.855 305.2409,-306.8549"/>
</g>
<!-- codeblock_4 -->
<g id="node6" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="650.7408" cy="-350.8004" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="650.7408" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_4</text>
</g>
<!-- leaf_6 -->
<g id="node7" class="node">
<title>leaf_6</title>
<polygon fill="none" stroke="#c0c0c0" points="819.7408,-296.7007 481.7408,-296.7007 481.7408,-72.0997 819.7408,-72.0997 819.7408,-296.7007"/>
<text text-anchor="middle" x="650.7408" y="-281.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local meta = {}</text>
<text text-anchor="middle" x="650.7408" y="-266.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;meta[&quot;__index&quot;] = meta</text>
<text text-anchor="middle" x="650.7408" y="-250.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;meta[&quot;__tostring&quot;] = forest_tostring</text>
<text text-anchor="middle" x="650.7408" y="-235.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;meta[&quot;isforest&quot;] = true</text>
<text text-anchor="middle" x="650.7408" y="-220.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;the below are added to F in ast.lua </text>
<text text-anchor="middle" x="650.7408" y="-204.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;select&quot;] = ast.forest.select</text>
<text text-anchor="middle" x="650.7408" y="-189.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;with&quot;] &#160;&#160;= ast.forest.select_with</text>
<text text-anchor="middle" x="650.7408" y="-173.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;pick&quot;] &#160;&#160;= ast.forest.pick</text>
<text text-anchor="middle" x="650.7408" y="-158.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return meta</text>
<text text-anchor="middle" x="650.7408" y="-143.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="650.7408" y="-111.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">local F = F()</text>
<text text-anchor="middle" x="650.7408" y="-80.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return F</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_6 -->
<g id="edge4" class="edge">
<title>codeblock_4&#45;&gt;leaf_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M650.7408,-332.6759C650.7408,-325.5371 650.7408,-316.6991 650.7408,-306.9198"/>
<polygon fill="#000000" stroke="#000000" points="654.2409,-306.8549 650.7408,-296.8549 647.2409,-306.855 654.2409,-306.8549"/>
</g>
</g>
</svg>