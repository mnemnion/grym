<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="1230pt" height="521pt"
 viewBox="0.00 0.00 1230.00 520.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 516.8004)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-516.8004 1226,-516.8004 1226,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="615" cy="-494.8004" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="615" y="-490.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 40</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="615" cy="-422.8004" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="615" y="-418.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;40</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M615,-476.6317C615,-468.9313 615,-459.7747 615,-451.217"/>
<polygon fill="#000000" stroke="#000000" points="618.5001,-451.2136 615,-441.2136 611.5001,-451.2137 618.5001,-451.2136"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="357" cy="-350.8004" rx="27" ry="18"/>
<text text-anchor="middle" x="357" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">0 : </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M562.432,-413.4849C516.8167,-404.5872 449.4266,-389.4699 393,-368.8004 391.13,-368.1154 389.2302,-367.3598 387.3304,-366.5579"/>
<polygon fill="#000000" stroke="#000000" points="388.5189,-363.2527 377.9694,-362.2738 385.6059,-369.6178 388.5189,-363.2527"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="448" cy="-350.8004" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="448" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;3</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M580.3975,-407.8819C553.7335,-396.3861 516.7983,-380.4619 488.7127,-368.3531"/>
<polygon fill="#000000" stroke="#000000" points="489.7474,-364.9879 479.1788,-364.2427 486.976,-371.4159 489.7474,-364.9879"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="558" cy="-350.8004" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="558" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 4&#45;5</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M600.9101,-405.0026C594.0256,-396.3064 585.6187,-385.6871 578.0765,-376.1601"/>
<polygon fill="#000000" stroke="#000000" points="580.6824,-373.813 571.7311,-368.145 575.194,-378.1579 580.6824,-373.813"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="673" cy="-350.8004" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="673" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 6&#45;22</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M629.3371,-405.0026C636.3424,-396.3064 644.8968,-385.6871 652.5713,-376.1601"/>
<polygon fill="#000000" stroke="#000000" points="655.4803,-378.1282 659.028,-368.145 650.029,-373.7369 655.4803,-378.1282"/>
</g>
<!-- block_6 -->
<g id="node7" class="node">
<title>block_6</title>
<ellipse fill="none" stroke="#000000" cx="827" cy="-350.8004" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="827" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 23&#45;24</text>
</g>
<!-- section_1&#45;&gt;block_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;block_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M655.3746,-409.0883C690.5544,-397.1404 741.6337,-379.7927 778.9177,-367.1302"/>
<polygon fill="#000000" stroke="#000000" points="780.2181,-370.385 788.5614,-363.855 777.967,-363.7568 780.2181,-370.385"/>
</g>
<!-- block_7 -->
<g id="node8" class="node">
<title>block_7</title>
<ellipse fill="none" stroke="#000000" cx="1053" cy="-350.8004" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1053" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 25&#45;40</text>
</g>
<!-- section_1&#45;&gt;block_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;block_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M668.2695,-414.0437C750.3143,-400.5569 907.0936,-374.785 993.017,-360.6606"/>
<polygon fill="#000000" stroke="#000000" points="993.8346,-364.0732 1003.1344,-358.9975 992.6991,-357.166 993.8346,-364.0732"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="114,-296.8004 0,-296.8004 0,-260.8004 114,-260.8004 114,-296.8004"/>
<text text-anchor="middle" x="57" y="-275.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> Forest module</text>
</g>
<!-- block_3&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>block_3&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M413.9464,-338.5805C407.0756,-336.4205 399.8565,-334.3655 393,-332.8004 278.0858,-306.5696 243.4787,-320.0229 124.0207,-296.8472"/>
<polygon fill="#000000" stroke="#000000" points="124.6158,-293.3971 114.1256,-294.8823 123.2523,-300.2631 124.6158,-293.3971"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="554,-296.8004 132,-296.8004 132,-260.8004 554,-260.8004 554,-296.8004"/>
<text text-anchor="middle" x="343" y="-275.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> Provides tools for working with vectors of borrowed Nodes</text>
</g>
<!-- block_4&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>block_4&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M522.978,-339.0721C491.6293,-328.5739 444.8885,-312.9212 406.8964,-300.1983"/>
<polygon fill="#000000" stroke="#000000" points="407.532,-296.7201 396.9382,-296.8634 405.3091,-303.3578 407.532,-296.7201"/>
</g>
<!-- codeblock_10 -->
<g id="node11" class="node">
<title>codeblock_10</title>
<ellipse fill="none" stroke="#000000" cx="645" cy="-278.8004" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="645" y="-274.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 6&#45;21</text>
</g>
<!-- block_5&#45;&gt;codeblock_10 -->
<g id="edge10" class="edge">
<title>block_5&#45;&gt;codeblock_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M665.9344,-332.6317C662.874,-324.7621 659.2221,-315.3715 655.8318,-306.6537"/>
<polygon fill="#000000" stroke="#000000" points="659.0473,-305.2651 652.1607,-297.2136 652.5232,-307.8023 659.0473,-305.2651"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="790,-296.8004 736,-296.8004 736,-260.8004 790,-260.8004 790,-296.8004"/>
</g>
<!-- block_5&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>block_5&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M693.874,-334.1012C705.29,-324.9684 719.647,-313.4828 732.3147,-303.3486"/>
<polygon fill="#000000" stroke="#000000" points="734.725,-305.9026 740.3473,-296.9225 730.3522,-300.4365 734.725,-305.9026"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="957.5,-296.8004 808.5,-296.8004 808.5,-260.8004 957.5,-260.8004 957.5,-296.8004"/>
<text text-anchor="middle" x="883" y="-275.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &lt;Forest&gt; metatable</text>
</g>
<!-- block_6&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>block_6&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M840.8427,-333.0026C847.4561,-324.4996 855.4995,-314.1581 862.7805,-304.7969"/>
<polygon fill="#000000" stroke="#000000" points="865.5509,-306.9358 868.9276,-296.8935 860.0254,-302.6382 865.5509,-306.9358"/>
</g>
<!-- codeblock_14 -->
<g id="node15" class="node">
<title>codeblock_14</title>
<ellipse fill="none" stroke="#000000" cx="1053" cy="-278.8004" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1053" y="-274.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 25&#45;40</text>
</g>
<!-- block_7&#45;&gt;codeblock_14 -->
<g id="edge14" class="edge">
<title>block_7&#45;&gt;codeblock_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1053,-332.6317C1053,-324.9313 1053,-315.7747 1053,-307.217"/>
<polygon fill="#000000" stroke="#000000" points="1056.5001,-307.2136 1053,-297.2136 1049.5001,-307.2137 1056.5001,-307.2136"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1202,-296.8004 1148,-296.8004 1148,-260.8004 1202,-260.8004 1202,-296.8004"/>
</g>
<!-- block_7&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>block_7&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1079.7734,-334.9997C1097.2125,-324.7078 1120.1696,-311.1593 1139.1735,-299.9439"/>
<polygon fill="#000000" stroke="#000000" points="1141.0343,-302.9099 1147.8674,-294.813 1137.4764,-296.8814 1141.0343,-302.9099"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="807,-224.6007 483,-224.6007 483,-.1997 807,-.1997 807,-224.6007"/>
<text text-anchor="middle" x="645" y="-209.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function forest_tostring(forest)</text>
<text text-anchor="middle" x="645" y="-193.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local top_phrase = &quot;[ &quot;</text>
<text text-anchor="middle" x="645" y="-178.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(forest) do </text>
<text text-anchor="middle" x="645" y="-163.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;top_phrase = top_phrase..v.id..&quot; &quot;</text>
<text text-anchor="middle" x="645" y="-147.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="645" y="-132.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;top_phrase = top_phrase..&quot;]\n&quot;</text>
<text text-anchor="middle" x="645" y="-116.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local node_phrase = &quot;&quot;</text>
<text text-anchor="middle" x="645" y="-101.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(forest) do</text>
<text text-anchor="middle" x="645" y="-86.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;node_phrase = node_phrase..tostring(v)</text>
<text text-anchor="middle" x="645" y="-70.7001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="645" y="-55.3001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return top_phrase..node_phrase</text>
<text text-anchor="middle" x="645" y="-39.9" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="645" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000">local function F ()</text>
</g>
<!-- codeblock_10&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>codeblock_10&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M645,-260.6759C645,-253.5371 645,-244.6991 645,-234.9198"/>
<polygon fill="#000000" stroke="#000000" points="648.5001,-234.8549 645,-224.8549 641.5001,-234.855 648.5001,-234.8549"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="1222,-224.7007 884,-224.7007 884,-.0997 1222,-.0997 1222,-224.7007"/>
<text text-anchor="middle" x="1053" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local meta = {}</text>
<text text-anchor="middle" x="1053" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;meta[&quot;__index&quot;] = meta</text>
<text text-anchor="middle" x="1053" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;meta[&quot;__tostring&quot;] = forest_tostring</text>
<text text-anchor="middle" x="1053" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;meta[&quot;isforest&quot;] = true</text>
<text text-anchor="middle" x="1053" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;the below are added to F in ast.lua </text>
<text text-anchor="middle" x="1053" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;select&quot;] = ast.forest.select</text>
<text text-anchor="middle" x="1053" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;with&quot;] &#160;&#160;= ast.forest.select_with</text>
<text text-anchor="middle" x="1053" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;pick&quot;] &#160;&#160;= ast.forest.pick</text>
<text text-anchor="middle" x="1053" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return meta</text>
<text text-anchor="middle" x="1053" y="-71.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1053" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">local F = F()</text>
<text text-anchor="middle" x="1053" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return F</text>
</g>
<!-- codeblock_14&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>codeblock_14&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1053,-260.6759C1053,-253.5371 1053,-244.6991 1053,-234.9198"/>
<polygon fill="#000000" stroke="#000000" points="1056.5001,-234.8549 1053,-224.8549 1049.5001,-234.855 1056.5001,-234.8549"/>
</g>
</g>
</svg>