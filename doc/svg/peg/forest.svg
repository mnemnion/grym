<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="1428pt" height="449pt"
 viewBox="0.00 0.00 1428.00 448.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 444.8004)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-444.8004 1424,-444.8004 1424,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="672" cy="-422.8004" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="672" y="-418.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 40</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="672" cy="-350.8004" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="672" y="-346.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;40</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M672,-404.6317C672,-396.9313 672,-387.7747 672,-379.217"/>
<polygon fill="#000000" stroke="#000000" points="675.5001,-379.2136 672,-369.2136 668.5001,-379.2137 675.5001,-379.2136"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="452" cy="-278.8004" rx="27" ry="18"/>
<text text-anchor="middle" x="452" y="-274.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">0 : </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M624.7202,-339.4071C587.0884,-329.7495 533.391,-314.6442 488,-296.8004 486.1466,-296.0718 484.2596,-295.2823 482.3696,-294.4545"/>
<polygon fill="#000000" stroke="#000000" points="483.5771,-291.1558 473.0349,-290.1013 480.6186,-297.4999 483.5771,-291.1558"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="529" cy="-278.8004" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="529" y="-274.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M640.9711,-335.1774C617.7656,-323.4935 586.0796,-307.5398 562.3361,-295.585"/>
<polygon fill="#000000" stroke="#000000" points="563.8448,-292.426 553.339,-291.055 560.6967,-298.6782 563.8448,-292.426"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="611" cy="-278.8004" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="611" y="-274.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M656.9213,-333.0026C649.3139,-324.0233 639.9694,-312.9938 631.7003,-303.2335"/>
<polygon fill="#000000" stroke="#000000" points="634.2035,-300.7736 625.0688,-295.4062 628.8626,-305.2985 634.2035,-300.7736"/>
</g>
<!-- codeblock_5 -->
<g id="node6" class="node">
<title>codeblock_5</title>
<ellipse fill="none" stroke="#000000" cx="734" cy="-278.8004" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="734" y="-274.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 6&#45;21</text>
</g>
<!-- section_1&#45;&gt;codeblock_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;codeblock_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M687.3258,-333.0026C694.7779,-324.3487 703.8698,-313.7903 712.0427,-304.2992"/>
<polygon fill="#000000" stroke="#000000" points="714.7625,-306.5045 718.6356,-296.6429 709.4581,-301.9368 714.7625,-306.5045"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="923" cy="-278.8004" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="923" y="-274.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M715.7209,-338.2589C763.3824,-324.5871 838.9162,-302.92 884.4409,-289.8612"/>
<polygon fill="#000000" stroke="#000000" points="885.5828,-293.1748 894.2301,-287.0531 883.6526,-286.4462 885.5828,-293.1748"/>
</g>
<!-- codeblock_7 -->
<g id="node8" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="1151" cy="-278.8004" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1151" y="-274.6004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 25&#45;40</text>
</g>
<!-- section_1&#45;&gt;codeblock_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;codeblock_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M726.481,-342.6112C812.2117,-329.7247 978.8126,-304.6824 1075.8602,-290.0949"/>
<polygon fill="#000000" stroke="#000000" points="1076.5269,-293.5341 1085.8956,-288.5864 1075.4864,-286.6118 1076.5269,-293.5341"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="114,-132.3023 0,-132.3023 0,-92.4981 114,-92.4981 114,-132.3023"/>
<text text-anchor="middle" x="57" y="-100.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> Forest module</text>
</g>
<!-- prose_3&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>prose_3&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M504.7354,-266.6516C499.3388,-264.3756 493.5652,-262.257 488,-260.8004 409.1515,-240.1623 191.6592,-268.7199 123,-224.8004 93.25,-205.7701 75.2444,-168.1704 65.7201,-141.7141"/>
<polygon fill="#000000" stroke="#000000" points="69.0118,-140.5225 62.4783,-132.182 62.3846,-142.7765 69.0118,-140.5225"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="554,-132.3023 132,-132.3023 132,-92.4981 554,-92.4981 554,-132.3023"/>
<text text-anchor="middle" x="343" y="-100.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> Provides tools for working with vectors of borrowed Nodes</text>
</g>
<!-- prose_4&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>prose_4&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M589.0684,-265.1831C544.2135,-237.3329 441.3804,-173.4842 383.8588,-137.7693"/>
<polygon fill="#000000" stroke="#000000" points="385.3737,-134.5901 375.0318,-132.2886 381.6812,-140.537 385.3737,-134.5901"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="896,-224.6007 572,-224.6007 572,-.1997 896,-.1997 896,-224.6007"/>
<text text-anchor="middle" x="734" y="-209.3004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function forest_tostring(forest)</text>
<text text-anchor="middle" x="734" y="-193.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local top_phrase = &quot;[ &quot;</text>
<text text-anchor="middle" x="734" y="-178.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(forest) do </text>
<text text-anchor="middle" x="734" y="-163.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;top_phrase = top_phrase..v.id..&quot; &quot;</text>
<text text-anchor="middle" x="734" y="-147.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="734" y="-132.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;top_phrase = top_phrase..&quot;]\n&quot;</text>
<text text-anchor="middle" x="734" y="-116.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local node_phrase = &quot;&quot;</text>
<text text-anchor="middle" x="734" y="-101.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(forest) do</text>
<text text-anchor="middle" x="734" y="-86.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;node_phrase = node_phrase..tostring(v)</text>
<text text-anchor="middle" x="734" y="-70.7001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="734" y="-55.3001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return top_phrase..node_phrase</text>
<text text-anchor="middle" x="734" y="-39.9" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="734" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000">local function F ()</text>
</g>
<!-- codeblock_5&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>codeblock_5&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M734,-260.6759C734,-253.5371 734,-244.6991 734,-234.9198"/>
<polygon fill="#000000" stroke="#000000" points="737.5001,-234.8549 734,-224.8549 730.5001,-234.855 737.5001,-234.8549"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="1063.5,-132.3023 914.5,-132.3023 914.5,-92.4981 1063.5,-92.4981 1063.5,-132.3023"/>
<text text-anchor="middle" x="989" y="-100.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &lt;Forest&gt; metatable</text>
</g>
<!-- prose_6&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>prose_6&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M930.0632,-260.9926C941.3829,-232.4532 963.7018,-176.1823 977.3911,-141.6688"/>
<polygon fill="#000000" stroke="#000000" points="980.7403,-142.7176 981.1738,-132.1316 974.2334,-140.1367 980.7403,-142.7176"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="1420,-224.7007 1082,-224.7007 1082,-.0997 1420,-.0997 1420,-224.7007"/>
<text text-anchor="middle" x="1251" y="-209.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local meta = {}</text>
<text text-anchor="middle" x="1251" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;meta[&quot;__index&quot;] = meta</text>
<text text-anchor="middle" x="1251" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;meta[&quot;__tostring&quot;] = forest_tostring</text>
<text text-anchor="middle" x="1251" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;meta[&quot;isforest&quot;] = true</text>
<text text-anchor="middle" x="1251" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;the below are added to F in ast.lua </text>
<text text-anchor="middle" x="1251" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;select&quot;] = ast.forest.select</text>
<text text-anchor="middle" x="1251" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;with&quot;] &#160;&#160;= ast.forest.select_with</text>
<text text-anchor="middle" x="1251" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;pick&quot;] &#160;&#160;= ast.forest.pick</text>
<text text-anchor="middle" x="1251" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return meta</text>
<text text-anchor="middle" x="1251" y="-71.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1251" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">local F = F()</text>
<text text-anchor="middle" x="1251" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">return F</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>codeblock_7&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1161.8921,-260.6759C1166.361,-253.2397 1171.9379,-243.9596 1178.108,-233.6926"/>
<polygon fill="#000000" stroke="#000000" points="1181.268,-235.2291 1183.4191,-224.8549 1175.2681,-231.6234 1181.268,-235.2291"/>
</g>
</g>
</svg>