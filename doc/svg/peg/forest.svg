<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="1093pt" height="524pt"
 viewBox="0.00 0.00 1093.00 524.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 520.2004)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-520.2004 1089,-520.2004 1089,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="405" cy="-498.2004" rx="42.1216" ry="18"/>
<text text-anchor="middle" x="405" y="-494.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 40</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="405" cy="-426.2004" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="405" y="-422.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;40</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M405,-480.0318C405,-472.3314 405,-463.1748 405,-454.617"/>
<polygon fill="#000000" stroke="#000000" points="408.5001,-454.6136 405,-444.6137 401.5001,-454.6137 408.5001,-454.6136"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="136" cy="-354.2004" rx="27" ry="18"/>
<text text-anchor="middle" x="136" y="-350.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">0 : </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M354.9463,-415.7568C309.8488,-405.9258 241.9339,-390.0713 184,-372.2004 179.0248,-370.6657 173.8169,-368.8925 168.7425,-367.0698"/>
<polygon fill="#000000" stroke="#000000" points="169.838,-363.7433 159.2449,-363.5538 167.4077,-370.3079 169.838,-363.7433"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="225" cy="-354.2004" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="225" y="-350.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M368.5743,-411.6301C337.2432,-399.0977 292.2927,-381.1175 261.0663,-368.6269"/>
<polygon fill="#000000" stroke="#000000" points="262.0294,-365.2426 251.4448,-364.7783 259.4297,-371.742 262.0294,-365.2426"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="344" cy="-354.2004" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="344" y="-350.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M389.9213,-408.4026C382.3139,-399.4234 372.9694,-388.3938 364.7003,-378.6335"/>
<polygon fill="#000000" stroke="#000000" points="367.2035,-376.1736 358.0688,-370.8062 361.8626,-380.6986 367.2035,-376.1736"/>
</g>
<!-- codeblock_5 -->
<g id="node6" class="node">
<title>codeblock_5</title>
<ellipse fill="none" stroke="#000000" cx="485" cy="-354.2004" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="485" y="-350.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 6&#45;21</text>
</g>
<!-- section_1&#45;&gt;codeblock_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;codeblock_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M424.3658,-408.7712C434.4127,-399.729 446.8513,-388.5342 457.8426,-378.6421"/>
<polygon fill="#000000" stroke="#000000" points="460.4437,-381.0099 465.5353,-371.7186 455.7609,-375.8068 460.4437,-381.0099"/>
</g>
<!-- prose_6 -->
<g id="node7" class="node">
<title>prose_6</title>
<ellipse fill="none" stroke="#000000" cx="659" cy="-354.2004" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="659" y="-350.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;prose_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M448.9534,-413.7412C497.3687,-400.0171 574.4582,-378.165 620.5556,-365.098"/>
<polygon fill="#000000" stroke="#000000" points="621.5123,-368.4648 630.1787,-362.3702 619.6032,-361.7302 621.5123,-368.4648"/>
</g>
<!-- codeblock_7 -->
<g id="node8" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="856" cy="-354.2004" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="856" y="-350.0004" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 25&#45;40</text>
</g>
<!-- section_1&#45;&gt;codeblock_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;codeblock_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M458.5067,-417.6583C538.9083,-404.8226 691.1303,-380.5211 782.0831,-366.0009"/>
<polygon fill="#000000" stroke="#000000" points="782.7234,-369.4431 792.0465,-364.4103 781.6198,-362.5306 782.7234,-369.4431"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="171,-205.8002 57,-205.8002 57,-169.8002 171,-169.8002 171,-205.8002"/>
<text text-anchor="middle" x="114" y="-184.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> Forest module</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M133.6037,-336.0759C129.7851,-307.1932 122.2888,-250.4935 117.7534,-216.1895"/>
<polygon fill="#000000" stroke="#000000" points="121.1739,-215.3573 116.3933,-205.9024 114.2343,-216.2749 121.1739,-215.3573"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="216" cy="-187.8002" rx="27" ry="18"/>
<text text-anchor="middle" x="216" y="-183.6002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M224.0197,-336.0759C222.4575,-307.1932 219.3909,-250.4935 217.5355,-216.1895"/>
<polygon fill="#000000" stroke="#000000" points="221.0141,-215.6987 216.9791,-205.9024 214.0244,-216.0768 221.0141,-215.6987"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="288" cy="-187.8002" rx="27" ry="18"/>
<text text-anchor="middle" x="288" y="-183.6002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_4&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M337.1312,-336.2727C333.1749,-325.7968 328.1749,-312.2968 324,-300.2004 314.0869,-271.478 303.5789,-238.3165 296.4915,-215.496"/>
<polygon fill="#000000" stroke="#000000" points="299.7886,-214.3111 293.4902,-205.7917 293.1012,-216.3794 299.7886,-214.3111"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="657,-300.0007 333,-300.0007 333,-75.5997 657,-75.5997 657,-300.0007"/>
<text text-anchor="middle" x="495" y="-284.7004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function forest_tostring(forest)</text>
<text text-anchor="middle" x="495" y="-269.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local top_phrase = &quot;[ &quot;</text>
<text text-anchor="middle" x="495" y="-253.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(forest) do </text>
<text text-anchor="middle" x="495" y="-238.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;top_phrase = top_phrase..v.id..&quot; &quot;</text>
<text text-anchor="middle" x="495" y="-223.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="495" y="-207.7003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;top_phrase = top_phrase..&quot;]\n&quot;</text>
<text text-anchor="middle" x="495" y="-192.3002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local node_phrase = &quot;&quot;</text>
<text text-anchor="middle" x="495" y="-176.9002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for i,v in ipairs(forest) do</text>
<text text-anchor="middle" x="495" y="-161.5002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;node_phrase = node_phrase..tostring(v)</text>
<text text-anchor="middle" x="495" y="-146.1001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="495" y="-130.7001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return top_phrase..node_phrase</text>
<text text-anchor="middle" x="495" y="-115.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="495" y="-83.9" font-family="Inconsolata" font-size="14.00" fill="#000000">local function F ()</text>
</g>
<!-- codeblock_5&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>codeblock_5&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M486.0892,-336.0759C486.5182,-328.9372 487.0494,-320.0991 487.6371,-310.3198"/>
<polygon fill="#000000" stroke="#000000" points="491.1356,-310.4469 488.2419,-300.2549 484.1482,-310.027 491.1356,-310.4469"/>
</g>
<!-- raw_14 -->
<g id="node15" class="node">
<title>raw_14</title>
<ellipse fill="none" stroke="#000000" cx="702" cy="-187.8002" rx="27" ry="18"/>
<text text-anchor="middle" x="702" y="-183.6002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_6&#45;&gt;raw_14 -->
<g id="edge14" class="edge">
<title>prose_6&#45;&gt;raw_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M663.6836,-336.0759C671.1993,-306.9918 686.0039,-249.7015 694.8484,-215.4752"/>
<polygon fill="#000000" stroke="#000000" points="698.2739,-216.2082 697.3872,-205.6505 691.4965,-214.4568 698.2739,-216.2082"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1085,-300.1007 747,-300.1007 747,-75.4998 1085,-75.4998 1085,-300.1007"/>
<text text-anchor="middle" x="916" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local meta = {}</text>
<text text-anchor="middle" x="916" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;meta[&quot;__index&quot;] = meta</text>
<text text-anchor="middle" x="916" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;meta[&quot;__tostring&quot;] = forest_tostring</text>
<text text-anchor="middle" x="916" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;meta[&quot;isforest&quot;] = true</text>
<text text-anchor="middle" x="916" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;the below are added to F in ast.lua </text>
<text text-anchor="middle" x="916" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;select&quot;] = ast.forest.select</text>
<text text-anchor="middle" x="916" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;with&quot;] &#160;&#160;= ast.forest.select_with</text>
<text text-anchor="middle" x="916" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#45;&#45;meta[&quot;pick&quot;] &#160;&#160;= ast.forest.pick</text>
<text text-anchor="middle" x="916" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return meta</text>
<text text-anchor="middle" x="916" y="-146.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="916" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">local F = F()</text>
<text text-anchor="middle" x="916" y="-83.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">return F</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>codeblock_7&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M862.5353,-336.0759C865.163,-328.7884 868.4292,-319.7301 872.0431,-309.7074"/>
<polygon fill="#000000" stroke="#000000" points="875.3519,-310.8493 875.4515,-300.2549 868.7669,-308.4749 875.3519,-310.8493"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="114,-39.6021 0,-39.6021 0,.2021 114,.2021 114,-39.6021"/>
<text text-anchor="middle" x="57" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> Forest module</text>
</g>
<!-- raw_9&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>raw_9&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M214.6785,-169.6196C212.009,-145.356 203.9894,-102.3269 180,-75.4 171.2198,-65.5447 146.3628,-53.5816 121.2724,-43.2722"/>
<polygon fill="#000000" stroke="#000000" points="122.2614,-39.8974 111.6778,-39.4098 119.6473,-46.3911 122.2614,-39.8974"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="554,-39.6021 132,-39.6021 132,.2021 554,.2021 554,-39.6021"/>
<text text-anchor="middle" x="343" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> Provides tools for working with vectors of borrowed Nodes</text>
</g>
<!-- raw_11&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M293.6327,-169.8569C300.6326,-147.6424 312.9997,-108.667 324,-75.4 326.8358,-66.824 329.9789,-57.5286 332.8788,-49.0334"/>
<polygon fill="#000000" stroke="#000000" points="336.2083,-50.114 336.1384,-39.5194 329.5861,-47.8451 336.2083,-50.114"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="776.5,-39.6021 627.5,-39.6021 627.5,.2021 776.5,.2021 776.5,-39.6021"/>
<text text-anchor="middle" x="702" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> &lt;Forest&gt; metatable</text>
</g>
<!-- raw_14&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>raw_14&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M702,-169.4906C702,-140.6492 702,-84.3508 702,-49.5868"/>
<polygon fill="#000000" stroke="#000000" points="705.5001,-49.5435 702,-39.5436 698.5001,-49.5436 705.5001,-49.5435"/>
</g>
</g>
</svg>