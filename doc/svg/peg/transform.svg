<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="3576pt" height="1393pt"
 viewBox="0.00 0.00 3575.50 1393.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1389.4016)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1389.4016 3571.5,-1389.4016 3571.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1200" cy="-1367.4016" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1200" y="-1363.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 151</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1200" cy="-1295.4016" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1200" y="-1291.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;151</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1200,-1349.233C1200,-1341.5325 1200,-1332.3759 1200,-1323.8182"/>
<polygon fill="#000000" stroke="#000000" points="1203.5001,-1323.8148 1200,-1313.8149 1196.5001,-1323.8149 1203.5001,-1323.8148"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="137" cy="-1223.4016" rx="27" ry="18"/>
<text text-anchor="middle" x="137" y="-1219.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">0 : </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1134.3419,-1293.5089C922.4963,-1287.186 265.4657,-1265.8104 173,-1241.4016 171.0238,-1240.8799 169.0292,-1240.2425 167.0462,-1239.5225"/>
<polygon fill="#000000" stroke="#000000" points="167.9382,-1236.0977 157.3671,-1235.3891 165.1891,-1242.5353 167.9382,-1236.0977"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="228" cy="-1223.4016" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="228" y="-1219.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;1</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1134.5284,-1293.7338C953.1043,-1288.7643 446.5353,-1272.4379 283,-1241.4016 279.1134,-1240.664 275.1212,-1239.7274 271.1479,-1238.6706"/>
<polygon fill="#000000" stroke="#000000" points="271.9601,-1235.262 261.381,-1235.8407 270.0119,-1241.9855 271.9601,-1235.262"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="338" cy="-1223.4016" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="338" y="-1219.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 2&#45;8</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1136.9643,-1290.1364C974.9612,-1276.6049 546.0842,-1240.7822 393.1456,-1228.0077"/>
<polygon fill="#000000" stroke="#000000" points="393.3036,-1224.5088 383.047,-1227.1642 392.7209,-1231.4845 393.3036,-1224.5088"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="772" cy="-1223.4016" rx="50.0142" ry="18"/>
<text text-anchor="middle" x="772" y="-1219.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 9&#45;11</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1143.6064,-1285.9148C1061.4311,-1272.0909 909.6816,-1246.563 827.8273,-1232.7931"/>
<polygon fill="#000000" stroke="#000000" points="828.1612,-1229.3002 817.7191,-1231.0927 826.9999,-1236.2032 828.1612,-1229.3002"/>
</g>
<!-- block_6 -->
<g id="node7" class="node">
<title>block_6</title>
<ellipse fill="none" stroke="#000000" cx="975" cy="-1223.4016" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="975" y="-1219.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 12&#45;13</text>
</g>
<!-- section_1&#45;&gt;block_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;block_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1157.1496,-1281.6895C1119.3011,-1269.5779 1064.1125,-1251.9176 1024.4127,-1239.2137"/>
<polygon fill="#000000" stroke="#000000" points="1025.2642,-1235.8114 1014.6732,-1236.097 1023.1308,-1242.4783 1025.2642,-1235.8114"/>
</g>
<!-- block_7 -->
<g id="node8" class="node">
<title>block_7</title>
<ellipse fill="none" stroke="#000000" cx="1200" cy="-1223.4016" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1200" y="-1219.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 14&#45;70</text>
</g>
<!-- section_1&#45;&gt;block_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;block_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1200,-1277.233C1200,-1269.5325 1200,-1260.3759 1200,-1251.8182"/>
<polygon fill="#000000" stroke="#000000" points="1203.5001,-1251.8148 1200,-1241.8149 1196.5001,-1251.8149 1203.5001,-1251.8148"/>
</g>
<!-- block_8 -->
<g id="node9" class="node">
<title>block_8</title>
<ellipse fill="none" stroke="#000000" cx="1500" cy="-1223.4016" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1500" y="-1219.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 71&#45;73</text>
</g>
<!-- section_1&#45;&gt;block_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;block_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1249.5389,-1283.5123C1303.3887,-1270.5883 1389.2077,-1249.9917 1445.081,-1236.5821"/>
<polygon fill="#000000" stroke="#000000" points="1445.9008,-1239.9849 1454.8079,-1234.2477 1444.2672,-1233.1781 1445.9008,-1239.9849"/>
</g>
<!-- block_9 -->
<g id="node10" class="node">
<title>block_9</title>
<ellipse fill="none" stroke="#000000" cx="1715" cy="-1223.4016" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1715" y="-1219.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 74&#45;76</text>
</g>
<!-- section_1&#45;&gt;block_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;block_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1258.5756,-1287.2124C1356.705,-1273.4933 1553.3812,-1245.9968 1653.4577,-1232.0056"/>
<polygon fill="#000000" stroke="#000000" points="1653.9999,-1235.4639 1663.4189,-1230.6129 1653.0306,-1228.5313 1653.9999,-1235.4639"/>
</g>
<!-- block_10 -->
<g id="node11" class="node">
<title>block_10</title>
<ellipse fill="none" stroke="#000000" cx="1893" cy="-1223.4016" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="1893" y="-1219.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 77&#45;140</text>
</g>
<!-- section_1&#45;&gt;block_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;block_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1263.6579,-1290.8385C1370.57,-1282.8696 1592.8737,-1264.9911 1780,-1241.4016 1796.4035,-1239.3337 1814.0845,-1236.708 1830.4787,-1234.1056"/>
<polygon fill="#000000" stroke="#000000" points="1831.1803,-1237.5378 1840.4972,-1232.4934 1830.0682,-1230.6267 1831.1803,-1237.5378"/>
</g>
<!-- block_11 -->
<g id="node12" class="node">
<title>block_11</title>
<ellipse fill="none" stroke="#000000" cx="2058" cy="-1223.4016" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="2058" y="-1219.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 141&#45;142</text>
</g>
<!-- section_1&#45;&gt;block_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;block_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1265.3227,-1293.3461C1397.5175,-1288.6209 1706.0321,-1274.7237 1963,-1241.4016 1973.7062,-1240.0133 1985.0288,-1238.1865 1995.9823,-1236.2292"/>
<polygon fill="#000000" stroke="#000000" points="1996.7076,-1239.6546 2005.9097,-1234.4038 1995.4416,-1232.77 1996.7076,-1239.6546"/>
</g>
<!-- block_12 -->
<g id="node13" class="node">
<title>block_12</title>
<ellipse fill="none" stroke="#000000" cx="2218" cy="-1223.4016" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="2218" y="-1219.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 143&#45;151</text>
</g>
<!-- section_1&#45;&gt;block_12 -->
<g id="edge12" class="edge">
<title>section_1&#45;&gt;block_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1265.1469,-1292.9131C1448.1985,-1285.7167 1964.7504,-1263.9541 2133,-1241.4016 2141.2742,-1240.2925 2149.9434,-1238.8217 2158.4502,-1237.1974"/>
<polygon fill="#000000" stroke="#000000" points="2159.2034,-1240.6163 2168.3284,-1235.2326 2157.8378,-1233.7507 2159.2034,-1240.6163"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="38" cy="-1151.4016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="38" y="-1147.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_3&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>block_3&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M193.6792,-1211.2808C163.7833,-1200.607 119.3393,-1184.4594 81,-1169.4016 78.4742,-1168.4096 75.8723,-1167.3686 73.2576,-1166.3085"/>
<polygon fill="#000000" stroke="#000000" points="74.4258,-1163.0046 63.8461,-1162.4394 71.7642,-1169.4789 74.4258,-1163.0046"/>
</g>
<!-- codeblock_15 -->
<g id="node16" class="node">
<title>codeblock_15</title>
<ellipse fill="none" stroke="#000000" cx="158" cy="-1151.4016" rx="67.748" ry="18"/>
<text text-anchor="middle" x="158" y="-1147.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 2&#45;4</text>
</g>
<!-- block_4&#45;&gt;codeblock_15 -->
<g id="edge15" class="edge">
<title>block_4&#45;&gt;codeblock_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M305.8196,-1210.5294C277.7773,-1199.3125 236.7477,-1182.9007 205.0258,-1170.2119"/>
<polygon fill="#000000" stroke="#000000" points="206.0892,-1166.8677 195.5045,-1166.4034 203.4894,-1173.367 206.0892,-1166.8677"/>
</g>
<!-- structure_16 -->
<g id="node17" class="node">
<title>structure_16</title>
<ellipse fill="none" stroke="#000000" cx="298" cy="-1151.4016" rx="44.5182" ry="18"/>
<text text-anchor="middle" x="298" y="-1147.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">structure</text>
</g>
<!-- block_4&#45;&gt;structure_16 -->
<g id="edge16" class="edge">
<title>block_4&#45;&gt;structure_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M328.1124,-1205.6038C323.4622,-1197.2336 317.8223,-1187.0818 312.6864,-1177.8372"/>
<polygon fill="#000000" stroke="#000000" points="315.6899,-1176.0364 307.7739,-1168.9946 309.5708,-1179.436 315.6899,-1176.0364"/>
</g>
<!-- structure_21 -->
<g id="node22" class="node">
<title>structure_21</title>
<ellipse fill="none" stroke="#000000" cx="448" cy="-1151.4016" rx="44.5182" ry="18"/>
<text text-anchor="middle" x="448" y="-1147.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">structure</text>
</g>
<!-- block_5&#45;&gt;structure_21 -->
<g id="edge21" class="edge">
<title>block_5&#45;&gt;structure_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M728.9753,-1213.8405C668.9693,-1200.5059 560.4262,-1176.3852 497.2547,-1162.3471"/>
<polygon fill="#000000" stroke="#000000" points="497.6636,-1158.8526 487.1424,-1160.0999 496.145,-1165.6859 497.6636,-1158.8526"/>
</g>
<!-- prose_25 -->
<g id="node26" class="node">
<title>prose_25</title>
<ellipse fill="none" stroke="#000000" cx="787" cy="-1151.4016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="787" y="-1147.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_6&#45;&gt;prose_25 -->
<g id="edge25" class="edge">
<title>block_6&#45;&gt;prose_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M938.7517,-1209.5193C905.4416,-1196.7622 856.3346,-1177.9553 823.0783,-1165.2188"/>
<polygon fill="#000000" stroke="#000000" points="824.3141,-1161.9442 813.7237,-1161.6362 821.8105,-1168.4812 824.3141,-1161.9442"/>
</g>
<!-- codeblock_27 -->
<g id="node28" class="node">
<title>codeblock_27</title>
<ellipse fill="none" stroke="#000000" cx="1200" cy="-1151.4016" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1200" y="-1147.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 14&#45;69</text>
</g>
<!-- block_7&#45;&gt;codeblock_27 -->
<g id="edge27" class="edge">
<title>block_7&#45;&gt;codeblock_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1200,-1205.233C1200,-1197.5325 1200,-1188.3759 1200,-1179.8182"/>
<polygon fill="#000000" stroke="#000000" points="1203.5001,-1179.8148 1200,-1169.8149 1196.5001,-1179.8149 1203.5001,-1179.8148"/>
</g>
<!-- prose_29 -->
<g id="node30" class="node">
<title>prose_29</title>
<ellipse fill="none" stroke="#000000" cx="1680" cy="-1151.4016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1680" y="-1147.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_8&#45;&gt;prose_29 -->
<g id="edge29" class="edge">
<title>block_8&#45;&gt;prose_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1535.1331,-1209.3483C1566.6577,-1196.7385 1612.7055,-1178.3194 1644.3789,-1165.65"/>
<polygon fill="#000000" stroke="#000000" points="1645.7302,-1168.8792 1653.7151,-1161.9156 1643.1304,-1162.3799 1645.7302,-1168.8792"/>
</g>
<!-- prose_31 -->
<g id="node32" class="node">
<title>prose_31</title>
<ellipse fill="none" stroke="#000000" cx="1798" cy="-1151.4016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1798" y="-1147.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_9&#45;&gt;prose_31 -->
<g id="edge31" class="edge">
<title>block_9&#45;&gt;prose_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1734.6698,-1206.3386C1746.0738,-1196.446 1760.5523,-1183.8863 1772.7864,-1173.2736"/>
<polygon fill="#000000" stroke="#000000" points="1775.1866,-1175.825 1780.447,-1166.6283 1770.5996,-1170.5372 1775.1866,-1175.825"/>
</g>
<!-- codeblock_33 -->
<g id="node34" class="node">
<title>codeblock_33</title>
<ellipse fill="none" stroke="#000000" cx="1943" cy="-1151.4016" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="1943" y="-1147.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 77&#45;139</text>
</g>
<!-- block_10&#45;&gt;codeblock_33 -->
<g id="edge33" class="edge">
<title>block_10&#45;&gt;codeblock_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1905.3596,-1205.6038C1911.2491,-1197.123 1918.4087,-1186.8131 1924.8961,-1177.4712"/>
<polygon fill="#000000" stroke="#000000" points="1927.7801,-1179.4543 1930.6093,-1169.2441 1922.0305,-1175.4615 1927.7801,-1179.4543"/>
</g>
<!-- prose_35 -->
<g id="node36" class="node">
<title>prose_35</title>
<ellipse fill="none" stroke="#000000" cx="2082" cy="-1151.4016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2082" y="-1147.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_11&#45;&gt;prose_35 -->
<g id="edge35" class="edge">
<title>block_11&#45;&gt;prose_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2064.0562,-1205.233C2066.7198,-1197.2422 2069.906,-1187.6834 2072.8495,-1178.853"/>
<polygon fill="#000000" stroke="#000000" points="2076.1869,-1179.9087 2076.0289,-1169.315 2069.5461,-1177.695 2076.1869,-1179.9087"/>
</g>
<!-- codeblock_37 -->
<g id="node38" class="node">
<title>codeblock_37</title>
<ellipse fill="none" stroke="#000000" cx="2223" cy="-1151.4016" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="2223" y="-1147.2016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 143&#45;151</text>
</g>
<!-- block_12&#45;&gt;codeblock_37 -->
<g id="edge37" class="edge">
<title>block_12&#45;&gt;codeblock_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2219.2617,-1205.233C2219.7965,-1197.5325 2220.4323,-1188.3759 2221.0266,-1179.8182"/>
<polygon fill="#000000" stroke="#000000" points="2224.52,-1180.0333 2221.7213,-1169.8149 2217.5368,-1179.5483 2224.52,-1180.0333"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="54,-638.7008 0,-638.7008 0,-602.7008 54,-602.7008 54,-638.7008"/>
</g>
<!-- prose_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>prose_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M37.6214,-1133.1337C35.9917,-1054.5101 29.5685,-744.6185 27.586,-648.9704"/>
<polygon fill="#000000" stroke="#000000" points="31.0836,-648.8172 27.3771,-638.8919 24.0851,-648.9623 31.0836,-648.8172"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="228,-638.7008 72,-638.7008 72,-602.7008 228,-602.7008 228,-638.7008"/>
<text text-anchor="middle" x="150" y="-617.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;&#45; Transform Module</text>
</g>
<!-- codeblock_15&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>codeblock_15&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M157.7246,-1133.1337C156.5394,-1054.5101 151.868,-744.6185 150.4261,-648.9704"/>
<polygon fill="#000000" stroke="#000000" points="153.9246,-648.838 150.2742,-638.8919 146.9254,-648.9435 153.9246,-648.838"/>
</g>
<!-- handleline_18 -->
<g id="node19" class="node">
<title>handleline_18</title>
<ellipse fill="none" stroke="#000000" cx="296" cy="-620.7008" rx="50.3585" ry="18"/>
<text text-anchor="middle" x="296" y="-616.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handleline</text>
</g>
<!-- structure_16&#45;&gt;handleline_18 -->
<g id="edge18" class="edge">
<title>structure_16&#45;&gt;handleline_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M297.9312,-1133.1337C297.6349,-1054.5101 296.467,-744.6185 296.1065,-648.9704"/>
<polygon fill="#000000" stroke="#000000" points="299.6063,-648.8786 296.0686,-638.8919 292.6064,-648.905 299.6063,-648.8786"/>
</g>
<!-- handle_19 -->
<g id="node20" class="node">
<title>handle_19</title>
<ellipse fill="none" stroke="#000000" cx="296" cy="-90" rx="36.827" ry="18"/>
<text text-anchor="middle" x="296" y="-85.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handle</text>
</g>
<!-- handleline_18&#45;&gt;handle_19 -->
<g id="edge19" class="edge">
<title>handleline_18&#45;&gt;handle_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M296,-602.4329C296,-523.8093 296,-213.9177 296,-118.2696"/>
<polygon fill="#000000" stroke="#000000" points="299.5001,-118.1911 296,-108.1911 292.5001,-118.1911 299.5001,-118.1911"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="323,-36 269,-36 269,0 323,0 323,-36"/>
</g>
<!-- handle_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>handle_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M296,-71.8314C296,-64.131 296,-54.9743 296,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="299.5001,-46.4132 296,-36.4133 292.5001,-46.4133 299.5001,-46.4132"/>
</g>
<!-- hashline_22 -->
<g id="node23" class="node">
<title>hashline_22</title>
<ellipse fill="none" stroke="#000000" cx="407" cy="-620.7008" rx="43.0992" ry="18"/>
<text text-anchor="middle" x="407" y="-616.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">hashline</text>
</g>
<!-- structure_21&#45;&gt;hashline_22 -->
<g id="edge22" class="edge">
<title>structure_21&#45;&gt;hashline_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M446.5887,-1133.1337C440.5145,-1054.5101 416.5734,-744.6185 409.184,-648.9704"/>
<polygon fill="#000000" stroke="#000000" points="412.6653,-648.5925 408.4054,-638.8919 405.6861,-649.1318 412.6653,-648.5925"/>
</g>
<!-- hashtag_23 -->
<g id="node24" class="node">
<title>hashtag_23</title>
<ellipse fill="none" stroke="#000000" cx="407" cy="-90" rx="41.6544" ry="18"/>
<text text-anchor="middle" x="407" y="-85.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">hashtag</text>
</g>
<!-- hashline_22&#45;&gt;hashtag_23 -->
<g id="edge23" class="edge">
<title>hashline_22&#45;&gt;hashtag_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M407,-602.4329C407,-523.8093 407,-213.9177 407,-118.2696"/>
<polygon fill="#000000" stroke="#000000" points="410.5001,-118.1911 407,-108.1911 403.5001,-118.1911 410.5001,-118.1911"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="434,-36 380,-36 380,0 434,0 434,-36"/>
</g>
<!-- hashtag_23&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>hashtag_23&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M407,-71.8314C407,-64.131 407,-54.9743 407,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="410.5001,-46.4132 407,-36.4133 403.5001,-46.4133 410.5001,-46.4132"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="918,-638.7008 468,-638.7008 468,-602.7008 918,-602.7008 918,-638.7008"/>
<text text-anchor="middle" x="693" y="-617.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; [ ] Make leaf_font and leaf_color configurable values of t</text>
</g>
<!-- prose_25&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>prose_25&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M783.8186,-1133.4401C769.9843,-1055.3349 714.9935,-744.8707 698.0177,-649.0294"/>
<polygon fill="#000000" stroke="#000000" points="701.4194,-648.1666 696.2289,-638.9303 694.5267,-649.3875 701.4194,-648.1666"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1463.5,-1043.9022 936.5,-1043.9022 936.5,-197.4994 1463.5,-197.4994 1463.5,-1043.9022"/>
<text text-anchor="middle" x="1200" y="-1028.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">local t = {}</text>
<text text-anchor="middle" x="1200" y="-997.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">local dot_header = [=[</text>
<text text-anchor="middle" x="1200" y="-981.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">digraph hierarchy {</text>
<text text-anchor="middle" x="1200" y="-950.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">node [fontname=Helvetica]</text>
<text text-anchor="middle" x="1200" y="-935.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">edge [style=dashed]</text>
<text text-anchor="middle" x="1200" y="-903.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">]=]</text>
<text text-anchor="middle" x="1200" y="-872.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">local dot_footer = [=[</text>
<text text-anchor="middle" x="1200" y="-840.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">}</text>
<text text-anchor="middle" x="1200" y="-825.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">]=]</text>
<text text-anchor="middle" x="1200" y="-794.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">local leaf_font &#160;= &quot;Inconsolata&quot;</text>
<text text-anchor="middle" x="1200" y="-778.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local leaf_color = &quot;Gray&quot;</text>
<text text-anchor="middle" x="1200" y="-747.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">local function sanitize_string(str)</text>
<text text-anchor="middle" x="1200" y="-731.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; filter \ and &quot;</text>
<text text-anchor="middle" x="1200" y="-716.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = str:gsub(&quot;\\&quot;, &quot;\\\\&quot;):gsub(&#39;&quot;&#39;, &#39;\\&quot;&#39;)</text>
<text text-anchor="middle" x="1200" y="-701.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if phrase:sub(&#45;1,&#45;1) == &quot;\n&quot; then</text>
<text text-anchor="middle" x="1200" y="-685.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return phrase:sub(1, &#45;2)</text>
<text text-anchor="middle" x="1200" y="-670.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="1200" y="-654.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="1200" y="-639.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1200" y="-624.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1200" y="-592.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">local function ast_to_label(ast, leaf_count)</text>
<text text-anchor="middle" x="1200" y="-577.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; nodes need unique names, so we append a leaf_count and increment it</text>
<text text-anchor="middle" x="1200" y="-561.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local label &#160;&#160;&#160;&#160;&#160;= ast.id.. &quot;_&quot; .. leaf_count </text>
<text text-anchor="middle" x="1200" y="-546.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local label_line = label .. &quot; [label=\&quot;&quot;</text>
<text text-anchor="middle" x="1200" y="-531.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;.. sanitize_string(ast:dotLabel()) .. &quot;\&quot;]\n&quot;</text>
<text text-anchor="middle" x="1200" y="-515.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return label, label_line, leaf_count + 1</text>
<text text-anchor="middle" x="1200" y="-500.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1200" y="-468.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">local function list_from_table(tab)</text>
<text text-anchor="middle" x="1200" y="-453.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local table_list = &quot;&quot;</text>
<text text-anchor="middle" x="1200" y="-438.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for _,v in ipairs(tab) do</text>
<text text-anchor="middle" x="1200" y="-422.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;table_list = table_list..&quot; &quot;..v</text>
<text text-anchor="middle" x="1200" y="-407.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="1200" y="-391.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return table_list</text>
<text text-anchor="middle" x="1200" y="-376.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1200" y="-345.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function value_to_label(value, leaf_count)</text>
<text text-anchor="middle" x="1200" y="-329.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Generates a name and label for a leaf node.</text>
<text text-anchor="middle" x="1200" y="-314.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Returns these with an incremented leaf_count.</text>
<text text-anchor="middle" x="1200" y="-298.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local value = sanitize_string(value)</text>
<text text-anchor="middle" x="1200" y="-283.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local name &#160;= &quot;leaf_&quot;..leaf_count</text>
<text text-anchor="middle" x="1200" y="-268.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local label = &quot; [color=&quot;..leaf_color..&quot;,shape=rectangle,fontname=&quot;</text>
<text text-anchor="middle" x="1200" y="-252.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;..leaf_font..&quot;,label=\&quot;&quot;..value..&quot;\&quot;]\n&quot;</text>
<text text-anchor="middle" x="1200" y="-221.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return name, label, leaf_count + 1</text>
<text text-anchor="middle" x="1200" y="-205.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_27&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>codeblock_27&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1200,-1133.1337C1200,-1116.1302 1200,-1088.3103 1200,-1054.1801"/>
<polygon fill="#000000" stroke="#000000" points="1203.5001,-1053.8927 1200,-1043.8928 1196.5001,-1053.8928 1203.5001,-1053.8927"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="1890,-640.0014 1482,-640.0014 1482,-601.4002 1890,-601.4002 1890,-640.0014"/>
<text text-anchor="middle" x="1686" y="-624.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> Recursively walk an AST, concatenating dot descriptions</text>
<text text-anchor="middle" x="1686" y="-609.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> to the phrase. </text>
</g>
<!-- prose_29&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>prose_29&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1680.2065,-1133.1337C1681.0914,-1054.8696 1684.567,-747.4472 1685.6654,-650.2957"/>
<polygon fill="#000000" stroke="#000000" points="1689.1653,-650.3184 1685.7786,-640.2795 1682.1657,-650.2392 1689.1653,-650.3184"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2309.5,-640.0014 1908.5,-640.0014 1908.5,-601.4002 2309.5,-601.4002 2309.5,-640.0014"/>
<text text-anchor="middle" x="2109" y="-624.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; [ ] #todo allow nodes to skip themselves to collapse</text>
<text text-anchor="middle" x="2109" y="-609.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;semantic intermediates</text>
</g>
<!-- prose_31&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>prose_31&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1826.0803,-1142.2029C1848.3657,-1133.6618 1878.9974,-1118.986 1899,-1097.4016 2026.9536,-959.3294 2085.6669,-730.6269 2103.1442,-649.9621"/>
<polygon fill="#000000" stroke="#000000" points="2106.6031,-650.5221 2105.2514,-640.0139 2099.7551,-649.0715 2106.6031,-650.5221"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2918,-1097.6025 2328,-1097.6025 2328,-143.7991 2918,-143.7991 2918,-1097.6025"/>
<text text-anchor="middle" x="2623" y="-1082.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">local function dot_ranks(ast, phrase, leaf_count, ast_label)</text>
<text text-anchor="middle" x="2623" y="-1066.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local leaf_count = leaf_count or 0</text>
<text text-anchor="middle" x="2623" y="-1035.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Add the node we&#39;re working on</text>
<text text-anchor="middle" x="2623" y="-1020.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if ast.isnode then</text>
<text text-anchor="middle" x="2623" y="-1004.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local label = &quot;&quot;</text>
<text text-anchor="middle" x="2623" y="-989.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local label_line = &quot;&quot;</text>
<text text-anchor="middle" x="2623" y="-973.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local child_labels = {}</text>
<text text-anchor="middle" x="2623" y="-958.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local child_label_lines = {}</text>
<text text-anchor="middle" x="2623" y="-927.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Handle anonymous nodes</text>
<text text-anchor="middle" x="2623" y="-911.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not ast_label then</text>
<text text-anchor="middle" x="2623" y="-896.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;label, label_line, leaf_count = ast_to_label(ast, leaf_count)</text>
<text text-anchor="middle" x="2623" y="-880.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. label_line .. &quot;\n\n&quot;</text>
<text text-anchor="middle" x="2623" y="-865.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else </text>
<text text-anchor="middle" x="2623" y="-850.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;label = ast_label </text>
<text text-anchor="middle" x="2623" y="-834.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2623" y="-803.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Document child nodes</text>
<text text-anchor="middle" x="2623" y="-787.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for i,v in ipairs(ast) do</text>
<text text-anchor="middle" x="2623" y="-772.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; assemble labels and label lines for all child nodes</text>
<text text-anchor="middle" x="2623" y="-757.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if v.isnode then</text>
<text text-anchor="middle" x="2623" y="-741.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;child_labels[i], child_label_lines[i], leaf_count = </text>
<text text-anchor="middle" x="2623" y="-726.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ast_to_label(v, leaf_count)</text>
<text text-anchor="middle" x="2623" y="-710.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2623" y="-695.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2623" y="-664.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local child_list = list_from_table(child_labels)</text>
<text text-anchor="middle" x="2623" y="-632.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if next(child_labels) ~= nil then</text>
<text text-anchor="middle" x="2623" y="-617.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase..label..&quot; &#45;&gt; {&quot;..child_list..&quot;}\n&quot;</text>
<text text-anchor="middle" x="2623" y="-601.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase..&quot;{rank=same;&quot;..list_from_table(child_labels)..&quot;}\n\n&quot;</text>
<text text-anchor="middle" x="2623" y="-586.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2623" y="-555.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Concatenate child label lines</text>
<text text-anchor="middle" x="2623" y="-539.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for _, v in ipairs(child_label_lines) do</text>
<text text-anchor="middle" x="2623" y="-524.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase..v..&quot;\n&quot;</text>
<text text-anchor="middle" x="2623" y="-508.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2623" y="-477.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if next(child_labels) ~= nil then</text>
<text text-anchor="middle" x="2623" y="-462.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase..&quot;\n&quot;</text>
<text text-anchor="middle" x="2623" y="-446.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2623" y="-415.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Execute recursively for all nodes</text>
<text text-anchor="middle" x="2623" y="-399.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for i,v in ipairs(ast) do</text>
<text text-anchor="middle" x="2623" y="-384.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if v.isnode then</text>
<text text-anchor="middle" x="2623" y="-369.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase, leaf_count = dot_ranks(v, phrase, leaf_count, child_labels[i])</text>
<text text-anchor="middle" x="2623" y="-353.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2623" y="-338.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2623" y="-306.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; Document value of Node (aka span)</text>
<text text-anchor="middle" x="2623" y="-291.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if ast.val then</text>
<text text-anchor="middle" x="2623" y="-276.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local name = &quot;&quot; ; local val_label = &quot;&quot;</text>
<text text-anchor="middle" x="2623" y="-260.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;name, val_label, leaf_count = value_to_label(ast.val, leaf_count)</text>
<text text-anchor="middle" x="2623" y="-245.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase..label..&quot; &#45;&gt; &quot;..name..&quot;\n&quot;</text>
<text text-anchor="middle" x="2623" y="-229.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase..name..&quot; &quot;..val_label</text>
<text text-anchor="middle" x="2623" y="-214.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2623" y="-199.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="2623" y="-167.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase, leaf_count</text>
<text text-anchor="middle" x="2623" y="-152.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_33&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>codeblock_33&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2005.1269,-1139.4791C2017.0163,-1137.3425 2029.3784,-1135.2201 2041,-1133.4016 2102.5447,-1123.7715 2266.419,-1130.8041 2319,-1097.4016 2319.1877,-1097.2823 2319.3753,-1097.1629 2319.5629,-1097.0434"/>
<polygon fill="#000000" stroke="#000000" points="2321.4926,-1099.9634 2327.938,-1091.5547 2317.6556,-1094.1087 2321.4926,-1099.9634"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="3204,-638.7008 2936,-638.7008 2936,-602.7008 3204,-602.7008 3204,-638.7008"/>
<text text-anchor="middle" x="3070" y="-617.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> turn an AST into a dotfile string. </text>
</g>
<!-- prose_35&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>prose_35&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2106.7598,-1139.7779C2113.2151,-1137.2287 2120.2558,-1134.8584 2127,-1133.4016 2213.9729,-1114.6149 2856.8256,-1152.108 2927,-1097.4016 3070.9472,-985.1834 3074.7027,-733.5813 3071.6155,-649.0311"/>
<polygon fill="#000000" stroke="#000000" points="3075.1064,-648.7424 3071.1813,-638.9015 3068.1128,-649.0423 3075.1064,-648.7424"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="3567.5,-679.201 3222.5,-679.201 3222.5,-562.2006 3567.5,-562.2006 3567.5,-679.201"/>
<text text-anchor="middle" x="3395" y="-664.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">function t.dot(ast)</text>
<text text-anchor="middle" x="3395" y="-648.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = dot_header</text>
<text text-anchor="middle" x="3395" y="-617.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return &#160;dot_ranks(ast, phrase) .. dot_footer</text>
<text text-anchor="middle" x="3395" y="-601.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3395" y="-570.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">return t</text>
</g>
<!-- codeblock_37&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>codeblock_37&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2309.7022,-1149.2227C2544.3697,-1142.9874 3176.8017,-1123.8103 3213,-1097.4016 3344.8992,-1001.1737 3381.2125,-796.4218 3391.2069,-689.2838"/>
<polygon fill="#000000" stroke="#000000" points="3394.7017,-689.4962 3392.0943,-679.2272 3387.7288,-688.8808 3394.7017,-689.4962"/>
</g>
</g>
</svg>