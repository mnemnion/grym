<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="925pt" height="4595pt"
 viewBox="0.00 0.00 925.00 4595.21" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 4591.2084)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-4591.2084 921,-4591.2084 921,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="221" cy="-4569.2084" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="221" y="-4565.0084" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 142</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="221" cy="-4497.2084" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="221" y="-4493.0084" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;142</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M221,-4551.0397C221,-4543.3393 221,-4534.1827 221,-4525.625"/>
<polygon fill="#000000" stroke="#000000" points="224.5001,-4525.6216 221,-4515.6216 217.5001,-4525.6217 224.5001,-4525.6216"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="70" cy="-3351.7063" rx="27" ry="18"/>
<text text-anchor="middle" x="70" y="-3347.5063" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">0 : </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M169.2549,-4486C145.8669,-4478.1162 120.3152,-4464.945 106,-4443.2084 -13.2783,-4262.093 51.8696,-3533.0911 67.0845,-3379.9997"/>
<polygon fill="#000000" stroke="#000000" points="70.5731,-3380.2877 68.0905,-3369.9878 63.6082,-3379.5878 70.5731,-3380.2877"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="161" cy="-3351.7063" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="161" y="-3347.5063" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;1</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M219.0956,-4478.7297C218.07,-4468.3075 216.8456,-4455.0412 216,-4443.2084 185.8061,-4020.675 166.4451,-3504.9562 161.987,-3379.9621"/>
<polygon fill="#000000" stroke="#000000" points="165.4763,-3379.5955 161.6242,-3369.7258 158.4807,-3379.8435 165.4763,-3379.5955"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="281" cy="-3351.7063" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="281" y="-3347.5063" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 2&#45;142</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M221.9668,-4478.7513C228.8994,-4346.3963 271.0138,-3542.3606 279.5077,-3380.1965"/>
<polygon fill="#000000" stroke="#000000" points="283.0112,-3380.2203 280.0391,-3370.0509 276.0208,-3379.8541 283.0112,-3380.2203"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="917,-4443.2105 355,-4443.2105 355,-2260.202 917,-2260.202 917,-4443.2105"/>
<text text-anchor="middle" x="636" y="-4428.0084" font-family="Inconsolata" font-size="14.00" fill="#000000">#!lua</text>
<text text-anchor="middle" x="636" y="-4412.6083" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;require &#39;pl.strict&#39;</text>
<text text-anchor="middle" x="636" y="-4397.2083" font-family="Inconsolata" font-size="14.00" fill="#000000">local util = require &quot;util&quot;</text>
<text text-anchor="middle" x="636" y="-4381.8083" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;local clu &#160;= require &quot;clu/prelude&quot; </text>
<text text-anchor="middle" x="636" y="-4366.4082" font-family="Inconsolata" font-size="14.00" fill="#000000">local lpeg = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="636" y="-4351.0082" font-family="Inconsolata" font-size="14.00" fill="#000000">local ansi = require &quot;ansi&quot;</text>
<text text-anchor="middle" x="636" y="-4335.6082" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
<text text-anchor="middle" x="636" y="-4320.2081" font-family="Inconsolata" font-size="14.00" fill="#000000">local core = require &quot;peg/core&#45;rules&quot;</text>
<text text-anchor="middle" x="636" y="-4304.8081" font-family="Inconsolata" font-size="14.00" fill="#000000">local dump_ast = util.dump_ast</text>
<text text-anchor="middle" x="636" y="-4289.4081" font-family="Inconsolata" font-size="14.00" fill="#000000">local clear = ansi.clear</text>
<text text-anchor="middle" x="636" y="-4274.0081" font-family="Inconsolata" font-size="14.00" fill="#000000">local epnf = require &quot;peg/epnf&quot;</text>
<text text-anchor="middle" x="636" y="-4258.608" font-family="Inconsolata" font-size="14.00" fill="#000000">local ast = require &quot;peg/ast&quot;</text>
<text text-anchor="middle" x="636" y="-4243.208" font-family="Inconsolata" font-size="14.00" fill="#000000">local grammar = require &quot;peg/pegs/grammars&quot;</text>
<text text-anchor="middle" x="636" y="-4211.808" font-family="Inconsolata" font-size="14.00" fill="#000000">local match = lpeg.match &#45;&#45; match a pattern against a string</text>
<text text-anchor="middle" x="636" y="-4196.4079" font-family="Inconsolata" font-size="14.00" fill="#000000">local P = lpeg.P &#45;&#45; match a string literally</text>
<text text-anchor="middle" x="636" y="-4181.0079" font-family="Inconsolata" font-size="14.00" fill="#000000">local S = lpeg.S &#160;&#45;&#45; match anything in a set</text>
<text text-anchor="middle" x="636" y="-4165.6079" font-family="Inconsolata" font-size="14.00" fill="#000000">local R = epeg.R &#160;&#45;&#45; match anything in a range</text>
<text text-anchor="middle" x="636" y="-4150.2078" font-family="Inconsolata" font-size="14.00" fill="#000000">local B = lpeg.B</text>
<text text-anchor="middle" x="636" y="-4134.8078" font-family="Inconsolata" font-size="14.00" fill="#000000">local C = lpeg.C &#160;&#45;&#45; captures a match</text>
<text text-anchor="middle" x="636" y="-4119.4078" font-family="Inconsolata" font-size="14.00" fill="#000000">local Csp = epeg.Csp &#45;&#45; captures start and end position of match</text>
<text text-anchor="middle" x="636" y="-4104.0077" font-family="Inconsolata" font-size="14.00" fill="#000000">local Ct = lpeg.Ct &#45;&#45; a table with all captures from the pattern</text>
<text text-anchor="middle" x="636" y="-4088.6077" font-family="Inconsolata" font-size="14.00" fill="#000000">local V = lpeg.V &#45;&#45; create a variable within a grammar</text>
<text text-anchor="middle" x="636" y="-4057.2077" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local comment_m &#160;= &#45;P&quot;\n&quot; * P(1)</text>
<text text-anchor="middle" x="636" y="-4041.8076" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local comment_c = &#160;comment_m^0 * #P&quot;\n&quot;</text>
<text text-anchor="middle" x="636" y="-4026.4076" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local letter = R&quot;AZ&quot; + R&quot;az&quot; </text>
<text text-anchor="middle" x="636" y="-4011.0076" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local valid_sym = letter + P&quot;&#45;&quot; &#160;</text>
<text text-anchor="middle" x="636" y="-3995.6076" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local digit = R&quot;09&quot;</text>
<text text-anchor="middle" x="636" y="-3980.2075" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local sym = valid_sym + digit</text>
<text text-anchor="middle" x="636" y="-3964.8075" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local WS = P&#39; &#39; + P&#39;\n&#39; + P&#39;,&#39; + P&#39;\09&#39;</text>
<text text-anchor="middle" x="636" y="-3949.4075" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local symbol = letter * ( &#45;(P&quot;&#45;&quot; * WS) * sym )^0 &#160;</text>
<text text-anchor="middle" x="636" y="-3934.0074" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local h_string &#160;&#160;&#160;= (&#45;P&quot;`&quot; * core.escape)^0</text>
<text text-anchor="middle" x="636" y="-3918.6074" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local d_string = (&#45;P&#39;&quot;&#39; * core.escape)^0</text>
<text text-anchor="middle" x="636" y="-3903.2074" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local s_string = (&#45;P&quot;&#39;&quot; * core.escape)^0</text>
<text text-anchor="middle" x="636" y="-3887.8073" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local range_match = &#160;&#45;P&quot;&#45;&quot; * &#45;P&quot;\\&quot; * &#45;P&quot;]&quot; * P(1)</text>
<text text-anchor="middle" x="636" y="-3872.4073" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local range_capture = (range_match + P&quot;\\&#45;&quot; + P&quot;\\]&quot; + P&quot;\\&quot;)</text>
<text text-anchor="middle" x="636" y="-3857.0073" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local range_c &#160;= range_capture^1 * P&quot;&#45;&quot; * range_capture^1</text>
<text text-anchor="middle" x="636" y="-3841.6072" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local set_match = &#45;P&quot;}&quot; * &#45;P&quot;\\&quot; * P(1)</text>
<text text-anchor="middle" x="636" y="-3826.2072" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local set_c &#160;&#160;&#160;= (set_match + P&quot;\\}&quot; + P&quot;\\&quot;)^1</text>
<text text-anchor="middle" x="636" y="-3810.8072" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local some_num_c = &#160;&#160;digit^1 * P&quot;..&quot; * digit^1</text>
<text text-anchor="middle" x="636" y="-3795.4071" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;&#160;(P&quot;+&quot; + P&quot;&#45;&quot;)^0 * digit^1</text>
<text text-anchor="middle" x="636" y="-3764.0071" font-family="Inconsolata" font-size="14.00" fill="#000000">local _peg_fn &#160;&#160;= function ()</text>
<text text-anchor="middle" x="636" y="-3748.6071" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local function pegger (_ENV)</text>
<text text-anchor="middle" x="636" y="-3733.2071" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;START &quot;rules&quot;</text>
<text text-anchor="middle" x="636" y="-3717.807" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45;&#45;[[</text>
<text text-anchor="middle" x="636" y="-3702.407" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;SUPPRESS (&quot;WS&quot;, &#160;&quot;enclosed&quot;, &quot;form&quot;, </text>
<text text-anchor="middle" x="636" y="-3687.007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;element&quot; ,&quot;elements&quot;,</text>
<text text-anchor="middle" x="636" y="-3671.6069" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;allowed_prefixed&quot;, &quot;allowed_suffixed&quot;,</text>
<text text-anchor="middle" x="636" y="-3656.2069" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;simple&quot;, &quot;compound&quot;, &quot;prefixed&quot;, &quot;suffixed&quot; &#160;)</text>
<text text-anchor="middle" x="636" y="-3640.8069" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45;]]</text>
<text text-anchor="middle" x="636" y="-3625.4068" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local WS &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= &#160;WS^0</text>
<text text-anchor="middle" x="636" y="-3610.0068" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local symbol &#160;&#160;&#160;&#160;= &#160;Csp(symbol)</text>
<text text-anchor="middle" x="636" y="-3594.6068" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local d_string &#160;&#160;&#160;&#160;= &#160;Csp(d_string) </text>
<text text-anchor="middle" x="636" y="-3579.2067" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local s_string &#160;&#160;= &#160;Csp(s_string)</text>
<text text-anchor="middle" x="636" y="-3563.8067" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local hidden_string = Csp(h_string)</text>
<text text-anchor="middle" x="636" y="-3548.4067" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local range_c &#160;&#160;&#160;= &#160;Csp(range_c) &#160;</text>
<text text-anchor="middle" x="636" y="-3533.0066" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local set_c &#160;&#160;&#160;&#160;&#160;= &#160;Csp(set_c)</text>
<text text-anchor="middle" x="636" y="-3517.6066" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local some_num_c = some_num_c </text>
<text text-anchor="middle" x="636" y="-3470.2066" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;rules &#160;&#160;= &#160;V&quot;comment&quot;^0 * V&quot;rule&quot;^1</text>
<text text-anchor="middle" x="636" y="-3454.8066" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;rule &#160;&#160;&#160;= &#160;V&quot;lhs&quot; * V&quot;rhs&quot;</text>
<text text-anchor="middle" x="636" y="-3439.4065" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lhs &#160;&#160;&#160;&#160;= &#160;WS * V&quot;pattern&quot; * WS * ( P&quot;:&quot; + P&quot;=&quot; + &quot;:=&quot;)</text>
<text text-anchor="middle" x="636" y="-3424.0065" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;rhs &#160;&#160;&#160;&#160;= &#160;V&quot;form&quot;</text>
<text text-anchor="middle" x="636" y="-3408.6065" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;form &#160;&#160;= &#160;V&quot;element&quot; * V&quot;elements&quot;</text>
<text text-anchor="middle" x="636" y="-3393.2064" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;pattern = &#160;symbol</text>
<text text-anchor="middle" x="636" y="-3377.8064" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;hidden_pattern&quot;</text>
<text text-anchor="middle" x="636" y="-3362.4064" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;hidden_pattern = &#160;P&quot;`&quot; * symbol * P&quot;`&quot;</text>
<text text-anchor="middle" x="636" y="-3347.0063" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;element &#160;= &#160;&#45;V&quot;lhs&quot; * WS </text>
<text text-anchor="middle" x="636" y="-3331.6063" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;( V&quot;simple&quot;</text>
<text text-anchor="middle" x="636" y="-3316.2063" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;&#160;&#160;&#160;&#160;V&quot;compound&quot;</text>
<text text-anchor="middle" x="636" y="-3300.8062" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;&#160;&#160;V&quot;comment&quot;)</text>
<text text-anchor="middle" x="636" y="-3269.4062" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elements &#160;= &#160;V&quot;choice&quot; &#160;</text>
<text text-anchor="middle" x="636" y="-3254.0062" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;cat&quot;</text>
<text text-anchor="middle" x="636" y="-3238.6061" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;P&quot;&quot;</text>
<text text-anchor="middle" x="636" y="-3223.2061" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;choice = &#160;WS * P&quot;/&quot; * V&quot;form&quot;</text>
<text text-anchor="middle" x="636" y="-3207.8061" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;cat = &#160;WS * V&quot;form&quot;</text>
<text text-anchor="middle" x="636" y="-3192.4061" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;compound = &#160;V&quot;group&quot;</text>
<text text-anchor="middle" x="636" y="-3177.006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;enclosed&quot;</text>
<text text-anchor="middle" x="636" y="-3161.606" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;hidden_match&quot;</text>
<text text-anchor="middle" x="636" y="-3146.206" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;group &#160;&#160;= &#160;WS * V&quot;PEL&quot; </text>
<text text-anchor="middle" x="636" y="-3130.8059" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;WS * V&quot;form&quot; * WS </text>
<text text-anchor="middle" x="636" y="-3115.4059" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;V&quot;PER&quot;</text>
<text text-anchor="middle" x="636" y="-3100.0059" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;PEL &#160;&#160;&#160;&#160;&#160;&#160;&#160;= Csp &quot;(&quot;</text>
<text text-anchor="middle" x="636" y="-3084.6058" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;PER &#160;&#160;&#160;&#160;&#160;&#160;&#160;= Csp &quot;)&quot;</text>
<text text-anchor="middle" x="636" y="-3069.2058" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;enclosed = &#160;V&quot;literal&quot;</text>
<text text-anchor="middle" x="636" y="-3053.8058" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;hidden_literal&quot;</text>
<text text-anchor="middle" x="636" y="-3038.4057" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;set&quot;</text>
<text text-anchor="middle" x="636" y="-3023.0057" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;range&quot;</text>
<text text-anchor="middle" x="636" y="-3007.6057" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;hidden_match = &#160;WS * P&quot;``&quot;</text>
<text text-anchor="middle" x="636" y="-2992.2056" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;WS * V&quot;form&quot; * WS</text>
<text text-anchor="middle" x="636" y="-2976.8056" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;P&quot;``&quot;</text>
<text text-anchor="middle" x="636" y="-2961.4056" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;simple &#160;&#160;= &#160;V&quot;suffixed&quot;</text>
<text text-anchor="middle" x="636" y="-2946.0056" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;prefixed&quot;</text>
<text text-anchor="middle" x="636" y="-2930.6055" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;atom&quot; </text>
<text text-anchor="middle" x="636" y="-2915.2055" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;comment &#160;= &#160;P&quot;;&quot; * Csp(comment_c)</text>
<text text-anchor="middle" x="636" y="-2899.8055" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;prefixed = &#160;V&quot;if_not_this&quot;</text>
<text text-anchor="middle" x="636" y="-2884.4054" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;not_this&quot;</text>
<text text-anchor="middle" x="636" y="-2869.0054" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;if_and_this&quot;</text>
<text text-anchor="middle" x="636" y="-2853.6054" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;capture&quot;</text>
<text text-anchor="middle" x="636" y="-2838.2053" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;suffixed = &#160;V&quot;optional&quot;</text>
<text text-anchor="middle" x="636" y="-2822.8053" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;more_than_one&quot;</text>
<text text-anchor="middle" x="636" y="-2807.4053" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;maybe&quot;</text>
<text text-anchor="middle" x="636" y="-2792.0052" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;with_suffix&quot;</text>
<text text-anchor="middle" x="636" y="-2776.6052" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;some_number&quot;</text>
<text text-anchor="middle" x="636" y="-2761.2052" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if_not_this = P&quot;!&quot; * WS * V&quot;allowed_prefixed&quot;</text>
<text text-anchor="middle" x="636" y="-2745.8051" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;not_this &#160;&#160;&#160;= P&quot;&#45;&quot; * WS * V&quot;allowed_prefixed&quot;</text>
<text text-anchor="middle" x="636" y="-2730.4051" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if_and_this = P&quot;&amp;&quot; * WS * V&quot;allowed_prefixed&quot;</text>
<text text-anchor="middle" x="636" y="-2715.0051" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;capture &#160;&#160;&#160;&#160;= P&quot;~&quot; * WS * V&quot;allowed_prefixed&quot;</text>
<text text-anchor="middle" x="636" y="-2699.6051" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;literal = &#160;Csp(C&#39;&quot;&#39; * d_string * C&#39;&quot;&#39;)</text>
<text text-anchor="middle" x="636" y="-2684.205" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;Csp(C&quot;&#39;&quot; * s_string * C&quot;&#39;&quot;)</text>
<text text-anchor="middle" x="636" y="-2668.805" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;hidden_literal = &#45;P&quot;``&quot; * P&quot;`&quot; * hidden_string * &#45;P&quot;``&quot; * P&quot;`&quot;</text>
<text text-anchor="middle" x="636" y="-2653.405" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#160;&#160;&#160;&#160;= &#160;P&quot;{&quot; * set_c^1 * P&quot;}&quot; &#160;</text>
<text text-anchor="middle" x="636" y="-2638.0049" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Change range to not use &#39;&#45;&#39; separator instead require even # of bytes.</text>
<text text-anchor="middle" x="636" y="-2622.6049" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Ru catches edge cases involving multi&#45;byte chars. </text>
<text text-anchor="middle" x="636" y="-2607.2049" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;range &#160;&#160;= &#160;P&quot;[&quot; * range_c * P&quot;]&quot; </text>
<text text-anchor="middle" x="636" y="-2591.8048" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;optional &#160;&#160;&#160;&#160;&#160;= &#160;V&quot;allowed_suffixed&quot; * WS * P&quot;*&quot;</text>
<text text-anchor="middle" x="636" y="-2576.4048" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;more_than_one = &#160;V&quot;allowed_suffixed&quot; * WS * P&quot;+&quot;</text>
<text text-anchor="middle" x="636" y="-2561.0048" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;maybe &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= &#160;V&quot;allowed_suffixed&quot; * WS * P&quot;?&quot;</text>
<text text-anchor="middle" x="636" y="-2545.6047" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;with_suffix &#160;&#160;= &#160;V&quot;some_number&quot; * V&quot;which_suffix&quot;</text>
<text text-anchor="middle" x="636" y="-2530.2047" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;which_suffix &#160;= &#160;( Csp&quot;*&quot; + Csp&quot;+&quot; + Csp&quot;?&quot;)</text>
<text text-anchor="middle" x="636" y="-2514.8047" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;some_number &#160;&#160;= &#160;V&quot;allowed_suffixed&quot; * WS * V&quot;some_suffix&quot;</text>
<text text-anchor="middle" x="636" y="-2499.4047" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;some_suffix &#160;&#160;= P&quot;$&quot; * V&quot;repeats&quot;</text>
<text text-anchor="middle" x="636" y="-2484.0046" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeats &#160;&#160;&#160;= &#160;Csp(some_num_c)</text>
<text text-anchor="middle" x="636" y="-2468.6046" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;allowed_prefixed = &#160;V&quot;compound&quot; + V&quot;suffixed&quot; + V&quot;atom&quot;</text>
<text text-anchor="middle" x="636" y="-2453.2046" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;allowed_suffixed = &#160;V&quot;compound&quot; + V&quot;prefixed&quot; + V&quot;atom&quot; &#160;&#160;&#160;</text>
<text text-anchor="middle" x="636" y="-2437.8045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;atom = &#160;V&quot;ws&quot; + symbol </text>
<text text-anchor="middle" x="636" y="-2422.4045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;ws = Csp(P&quot;_&quot;)</text>
<text text-anchor="middle" x="636" y="-2407.0045" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="636" y="-2391.6044" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return pegger</text>
<text text-anchor="middle" x="636" y="-2376.2044" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="636" y="-2360.8044" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;&#45;[[</text>
<text text-anchor="middle" x="636" y="-2345.4043" font-family="Inconsolata" font-size="14.00" fill="#000000">peg = epnf.define(_peg_fn(), nil, false) &#45;&#45; nil is _G, false = suppress output</text>
<text text-anchor="middle" x="636" y="-2330.0043" font-family="Inconsolata" font-size="14.00" fill="#000000">peg_hl = epnf.define(_peg_fn(), nil, true)</text>
<text text-anchor="middle" x="636" y="-2314.6043" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;]]</text>
<text text-anchor="middle" x="636" y="-2299.2042" font-family="Inconsolata" font-size="14.00" fill="#000000">return {peg = peg,</text>
<text text-anchor="middle" x="636" y="-2283.8042" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;peg_hl = peg_hl}</text>
<text text-anchor="middle" x="636" y="-2268.4042" font-family="Inconsolata" font-size="14.00" fill="#000000">#/lua</text>
</g>
<!-- section_1&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M273.0422,-4486.072C298.3788,-4478.1242 327.3256,-4464.8755 346,-4443.2084 346.74,-4442.3497 347.4782,-4441.4894 348.2145,-4440.6274"/>
<polygon fill="#000000" stroke="#000000" points="351.0227,-4442.7265 354.7913,-4432.8245 345.6703,-4438.2151 351.0227,-4442.7265"/>
</g>
<!-- leaf_5 -->
<g id="node6" class="node">
<title>leaf_5</title>
<polygon fill="none" stroke="#c0c0c0" points="186,-2224.2042 132,-2224.2042 132,-2188.2042 186,-2188.2042 186,-2224.2042"/>
</g>
<!-- block_3&#45;&gt;leaf_5 -->
<g id="edge5" class="edge">
<title>block_3&#45;&gt;leaf_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M160.9678,-3333.2492C160.7367,-3200.8941 159.3329,-2396.8585 159.0497,-2234.6944"/>
<polygon fill="#000000" stroke="#000000" points="162.5496,-2234.5426 159.032,-2224.5488 155.5496,-2234.5549 162.5496,-2234.5426"/>
</g>
<!-- codeblock_6 -->
<g id="node7" class="node">
<title>codeblock_6</title>
<ellipse fill="none" stroke="#000000" cx="281" cy="-2206.2042" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="281" y="-2202.0042" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 2&#45;142</text>
</g>
<!-- block_4&#45;&gt;codeblock_6 -->
<g id="edge6" class="edge">
<title>block_4&#45;&gt;codeblock_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M281,-3333.2492C281,-3200.8941 281,-2396.8585 281,-2234.6944"/>
<polygon fill="#000000" stroke="#000000" points="284.5001,-2234.5488 281,-2224.5488 277.5001,-2234.5488 284.5001,-2234.5488"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="430,-2224.2042 376,-2224.2042 376,-2188.2042 430,-2188.2042 430,-2224.2042"/>
</g>
<!-- block_4&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>block_4&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M277.3739,-3333.5337C256.7014,-3225.337 161.0288,-2657.2729 346,-2260.2042 351.1199,-2249.2136 359.5628,-2239.3415 368.4017,-2231.1375"/>
<polygon fill="#000000" stroke="#000000" points="370.9396,-2233.5692 376.1975,-2224.371 366.3512,-2228.2827 370.9396,-2233.5692"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="562,-2152.3062 0,-2152.3062 0,.1021 562,.1021 562,-2152.3062"/>
<text text-anchor="middle" x="281" y="-2137.0042" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;require &#39;pl.strict&#39;</text>
<text text-anchor="middle" x="281" y="-2121.6041" font-family="Inconsolata" font-size="14.00" fill="#000000">local util = require &quot;util&quot;</text>
<text text-anchor="middle" x="281" y="-2106.2041" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;local clu &#160;= require &quot;clu/prelude&quot; </text>
<text text-anchor="middle" x="281" y="-2090.8041" font-family="Inconsolata" font-size="14.00" fill="#000000">local lpeg = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="281" y="-2075.404" font-family="Inconsolata" font-size="14.00" fill="#000000">local ansi = require &quot;ansi&quot;</text>
<text text-anchor="middle" x="281" y="-2060.004" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
<text text-anchor="middle" x="281" y="-2044.604" font-family="Inconsolata" font-size="14.00" fill="#000000">local core = require &quot;peg/core&#45;rules&quot;</text>
<text text-anchor="middle" x="281" y="-2029.2039" font-family="Inconsolata" font-size="14.00" fill="#000000">local dump_ast = util.dump_ast</text>
<text text-anchor="middle" x="281" y="-2013.8039" font-family="Inconsolata" font-size="14.00" fill="#000000">local clear = ansi.clear</text>
<text text-anchor="middle" x="281" y="-1998.4039" font-family="Inconsolata" font-size="14.00" fill="#000000">local epnf = require &quot;peg/epnf&quot;</text>
<text text-anchor="middle" x="281" y="-1983.0038" font-family="Inconsolata" font-size="14.00" fill="#000000">local ast = require &quot;peg/ast&quot;</text>
<text text-anchor="middle" x="281" y="-1967.6038" font-family="Inconsolata" font-size="14.00" fill="#000000">local grammar = require &quot;peg/pegs/grammars&quot;</text>
<text text-anchor="middle" x="281" y="-1936.2038" font-family="Inconsolata" font-size="14.00" fill="#000000">local match = lpeg.match &#45;&#45; match a pattern against a string</text>
<text text-anchor="middle" x="281" y="-1920.8037" font-family="Inconsolata" font-size="14.00" fill="#000000">local P = lpeg.P &#45;&#45; match a string literally</text>
<text text-anchor="middle" x="281" y="-1905.4037" font-family="Inconsolata" font-size="14.00" fill="#000000">local S = lpeg.S &#160;&#45;&#45; match anything in a set</text>
<text text-anchor="middle" x="281" y="-1890.0037" font-family="Inconsolata" font-size="14.00" fill="#000000">local R = epeg.R &#160;&#45;&#45; match anything in a range</text>
<text text-anchor="middle" x="281" y="-1874.6037" font-family="Inconsolata" font-size="14.00" fill="#000000">local B = lpeg.B</text>
<text text-anchor="middle" x="281" y="-1859.2036" font-family="Inconsolata" font-size="14.00" fill="#000000">local C = lpeg.C &#160;&#45;&#45; captures a match</text>
<text text-anchor="middle" x="281" y="-1843.8036" font-family="Inconsolata" font-size="14.00" fill="#000000">local Csp = epeg.Csp &#45;&#45; captures start and end position of match</text>
<text text-anchor="middle" x="281" y="-1828.4036" font-family="Inconsolata" font-size="14.00" fill="#000000">local Ct = lpeg.Ct &#45;&#45; a table with all captures from the pattern</text>
<text text-anchor="middle" x="281" y="-1813.0035" font-family="Inconsolata" font-size="14.00" fill="#000000">local V = lpeg.V &#45;&#45; create a variable within a grammar</text>
<text text-anchor="middle" x="281" y="-1781.6035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local comment_m &#160;= &#45;P&quot;\n&quot; * P(1)</text>
<text text-anchor="middle" x="281" y="-1766.2035" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local comment_c = &#160;comment_m^0 * #P&quot;\n&quot;</text>
<text text-anchor="middle" x="281" y="-1750.8034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local letter = R&quot;AZ&quot; + R&quot;az&quot; </text>
<text text-anchor="middle" x="281" y="-1735.4034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local valid_sym = letter + P&quot;&#45;&quot; &#160;</text>
<text text-anchor="middle" x="281" y="-1720.0034" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local digit = R&quot;09&quot;</text>
<text text-anchor="middle" x="281" y="-1704.6033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local sym = valid_sym + digit</text>
<text text-anchor="middle" x="281" y="-1689.2033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local WS = P&#39; &#39; + P&#39;\n&#39; + P&#39;,&#39; + P&#39;\09&#39;</text>
<text text-anchor="middle" x="281" y="-1673.8033" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local symbol = letter * ( &#45;(P&quot;&#45;&quot; * WS) * sym )^0 &#160;</text>
<text text-anchor="middle" x="281" y="-1658.4032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local h_string &#160;&#160;&#160;= (&#45;P&quot;`&quot; * core.escape)^0</text>
<text text-anchor="middle" x="281" y="-1643.0032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local d_string = (&#45;P&#39;&quot;&#39; * core.escape)^0</text>
<text text-anchor="middle" x="281" y="-1627.6032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local s_string = (&#45;P&quot;&#39;&quot; * core.escape)^0</text>
<text text-anchor="middle" x="281" y="-1612.2032" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local range_match = &#160;&#45;P&quot;&#45;&quot; * &#45;P&quot;\\&quot; * &#45;P&quot;]&quot; * P(1)</text>
<text text-anchor="middle" x="281" y="-1596.8031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local range_capture = (range_match + P&quot;\\&#45;&quot; + P&quot;\\]&quot; + P&quot;\\&quot;)</text>
<text text-anchor="middle" x="281" y="-1581.4031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local range_c &#160;= range_capture^1 * P&quot;&#45;&quot; * range_capture^1</text>
<text text-anchor="middle" x="281" y="-1566.0031" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local set_match = &#45;P&quot;}&quot; * &#45;P&quot;\\&quot; * P(1)</text>
<text text-anchor="middle" x="281" y="-1550.603" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local set_c &#160;&#160;&#160;= (set_match + P&quot;\\}&quot; + P&quot;\\&quot;)^1</text>
<text text-anchor="middle" x="281" y="-1535.203" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local some_num_c = &#160;&#160;digit^1 * P&quot;..&quot; * digit^1</text>
<text text-anchor="middle" x="281" y="-1519.803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;&#160;(P&quot;+&quot; + P&quot;&#45;&quot;)^0 * digit^1</text>
<text text-anchor="middle" x="281" y="-1488.4029" font-family="Inconsolata" font-size="14.00" fill="#000000">local _peg_fn &#160;&#160;= function ()</text>
<text text-anchor="middle" x="281" y="-1473.0029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local function pegger (_ENV)</text>
<text text-anchor="middle" x="281" y="-1457.6029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;START &quot;rules&quot;</text>
<text text-anchor="middle" x="281" y="-1442.2028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45;&#45;[[</text>
<text text-anchor="middle" x="281" y="-1426.8028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;SUPPRESS (&quot;WS&quot;, &#160;&quot;enclosed&quot;, &quot;form&quot;, </text>
<text text-anchor="middle" x="281" y="-1411.4028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;element&quot; ,&quot;elements&quot;,</text>
<text text-anchor="middle" x="281" y="-1396.0027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;allowed_prefixed&quot;, &quot;allowed_suffixed&quot;,</text>
<text text-anchor="middle" x="281" y="-1380.6027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;simple&quot;, &quot;compound&quot;, &quot;prefixed&quot;, &quot;suffixed&quot; &#160;)</text>
<text text-anchor="middle" x="281" y="-1365.2027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45;]]</text>
<text text-anchor="middle" x="281" y="-1349.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local WS &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= &#160;WS^0</text>
<text text-anchor="middle" x="281" y="-1334.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local symbol &#160;&#160;&#160;&#160;= &#160;Csp(symbol)</text>
<text text-anchor="middle" x="281" y="-1319.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local d_string &#160;&#160;&#160;&#160;= &#160;Csp(d_string) </text>
<text text-anchor="middle" x="281" y="-1303.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local s_string &#160;&#160;= &#160;Csp(s_string)</text>
<text text-anchor="middle" x="281" y="-1288.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local hidden_string = Csp(h_string)</text>
<text text-anchor="middle" x="281" y="-1272.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local range_c &#160;&#160;&#160;= &#160;Csp(range_c) &#160;</text>
<text text-anchor="middle" x="281" y="-1257.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local set_c &#160;&#160;&#160;&#160;&#160;= &#160;Csp(set_c)</text>
<text text-anchor="middle" x="281" y="-1242.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local some_num_c = some_num_c </text>
<text text-anchor="middle" x="281" y="-1194.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;rules &#160;&#160;= &#160;V&quot;comment&quot;^0 * V&quot;rule&quot;^1</text>
<text text-anchor="middle" x="281" y="-1179.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;rule &#160;&#160;&#160;= &#160;V&quot;lhs&quot; * V&quot;rhs&quot;</text>
<text text-anchor="middle" x="281" y="-1163.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lhs &#160;&#160;&#160;&#160;= &#160;WS * V&quot;pattern&quot; * WS * ( P&quot;:&quot; + P&quot;=&quot; + &quot;:=&quot;)</text>
<text text-anchor="middle" x="281" y="-1148.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;rhs &#160;&#160;&#160;&#160;= &#160;V&quot;form&quot;</text>
<text text-anchor="middle" x="281" y="-1133.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;form &#160;&#160;= &#160;V&quot;element&quot; * V&quot;elements&quot;</text>
<text text-anchor="middle" x="281" y="-1117.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;pattern = &#160;symbol</text>
<text text-anchor="middle" x="281" y="-1102.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;hidden_pattern&quot;</text>
<text text-anchor="middle" x="281" y="-1086.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;hidden_pattern = &#160;P&quot;`&quot; * symbol * P&quot;`&quot;</text>
<text text-anchor="middle" x="281" y="-1071.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;element &#160;= &#160;&#45;V&quot;lhs&quot; * WS </text>
<text text-anchor="middle" x="281" y="-1056.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;( V&quot;simple&quot;</text>
<text text-anchor="middle" x="281" y="-1040.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;&#160;&#160;&#160;&#160;V&quot;compound&quot;</text>
<text text-anchor="middle" x="281" y="-1025.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;&#160;&#160;V&quot;comment&quot;)</text>
<text text-anchor="middle" x="281" y="-993.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elements &#160;= &#160;V&quot;choice&quot; &#160;</text>
<text text-anchor="middle" x="281" y="-978.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;cat&quot;</text>
<text text-anchor="middle" x="281" y="-963.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;P&quot;&quot;</text>
<text text-anchor="middle" x="281" y="-947.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;choice = &#160;WS * P&quot;/&quot; * V&quot;form&quot;</text>
<text text-anchor="middle" x="281" y="-932.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;cat = &#160;WS * V&quot;form&quot;</text>
<text text-anchor="middle" x="281" y="-916.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;compound = &#160;V&quot;group&quot;</text>
<text text-anchor="middle" x="281" y="-901.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;enclosed&quot;</text>
<text text-anchor="middle" x="281" y="-886.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;hidden_match&quot;</text>
<text text-anchor="middle" x="281" y="-870.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;group &#160;&#160;= &#160;WS * V&quot;PEL&quot; </text>
<text text-anchor="middle" x="281" y="-855.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;WS * V&quot;form&quot; * WS </text>
<text text-anchor="middle" x="281" y="-839.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;V&quot;PER&quot;</text>
<text text-anchor="middle" x="281" y="-824.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;PEL &#160;&#160;&#160;&#160;&#160;&#160;&#160;= Csp &quot;(&quot;</text>
<text text-anchor="middle" x="281" y="-809.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;PER &#160;&#160;&#160;&#160;&#160;&#160;&#160;= Csp &quot;)&quot;</text>
<text text-anchor="middle" x="281" y="-793.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;enclosed = &#160;V&quot;literal&quot;</text>
<text text-anchor="middle" x="281" y="-778.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;hidden_literal&quot;</text>
<text text-anchor="middle" x="281" y="-762.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;set&quot;</text>
<text text-anchor="middle" x="281" y="-747.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;range&quot;</text>
<text text-anchor="middle" x="281" y="-732.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;hidden_match = &#160;WS * P&quot;``&quot;</text>
<text text-anchor="middle" x="281" y="-716.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;WS * V&quot;form&quot; * WS</text>
<text text-anchor="middle" x="281" y="-701.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;P&quot;``&quot;</text>
<text text-anchor="middle" x="281" y="-685.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;simple &#160;&#160;= &#160;V&quot;suffixed&quot;</text>
<text text-anchor="middle" x="281" y="-670.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;prefixed&quot;</text>
<text text-anchor="middle" x="281" y="-655.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;atom&quot; </text>
<text text-anchor="middle" x="281" y="-639.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;comment &#160;= &#160;P&quot;;&quot; * Csp(comment_c)</text>
<text text-anchor="middle" x="281" y="-624.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;prefixed = &#160;V&quot;if_not_this&quot;</text>
<text text-anchor="middle" x="281" y="-608.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;not_this&quot;</text>
<text text-anchor="middle" x="281" y="-593.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;if_and_this&quot;</text>
<text text-anchor="middle" x="281" y="-578.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;capture&quot;</text>
<text text-anchor="middle" x="281" y="-562.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;suffixed = &#160;V&quot;optional&quot;</text>
<text text-anchor="middle" x="281" y="-547.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;more_than_one&quot;</text>
<text text-anchor="middle" x="281" y="-531.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;maybe&quot;</text>
<text text-anchor="middle" x="281" y="-516.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;with_suffix&quot;</text>
<text text-anchor="middle" x="281" y="-501.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;some_number&quot;</text>
<text text-anchor="middle" x="281" y="-485.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if_not_this = P&quot;!&quot; * WS * V&quot;allowed_prefixed&quot;</text>
<text text-anchor="middle" x="281" y="-470.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;not_this &#160;&#160;&#160;= P&quot;&#45;&quot; * WS * V&quot;allowed_prefixed&quot;</text>
<text text-anchor="middle" x="281" y="-454.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if_and_this = P&quot;&amp;&quot; * WS * V&quot;allowed_prefixed&quot;</text>
<text text-anchor="middle" x="281" y="-439.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;capture &#160;&#160;&#160;&#160;= P&quot;~&quot; * WS * V&quot;allowed_prefixed&quot;</text>
<text text-anchor="middle" x="281" y="-424.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;literal = &#160;Csp(C&#39;&quot;&#39; * d_string * C&#39;&quot;&#39;)</text>
<text text-anchor="middle" x="281" y="-408.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;Csp(C&quot;&#39;&quot; * s_string * C&quot;&#39;&quot;)</text>
<text text-anchor="middle" x="281" y="-393.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;hidden_literal = &#45;P&quot;``&quot; * P&quot;`&quot; * hidden_string * &#45;P&quot;``&quot; * P&quot;`&quot;</text>
<text text-anchor="middle" x="281" y="-377.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#160;&#160;&#160;&#160;= &#160;P&quot;{&quot; * set_c^1 * P&quot;}&quot; &#160;</text>
<text text-anchor="middle" x="281" y="-362.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Change range to not use &#39;&#45;&#39; separator instead require even # of bytes.</text>
<text text-anchor="middle" x="281" y="-347.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; Ru catches edge cases involving multi&#45;byte chars. </text>
<text text-anchor="middle" x="281" y="-331.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;range &#160;&#160;= &#160;P&quot;[&quot; * range_c * P&quot;]&quot; </text>
<text text-anchor="middle" x="281" y="-316.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;optional &#160;&#160;&#160;&#160;&#160;= &#160;V&quot;allowed_suffixed&quot; * WS * P&quot;*&quot;</text>
<text text-anchor="middle" x="281" y="-300.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;more_than_one = &#160;V&quot;allowed_suffixed&quot; * WS * P&quot;+&quot;</text>
<text text-anchor="middle" x="281" y="-285.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;maybe &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= &#160;V&quot;allowed_suffixed&quot; * WS * P&quot;?&quot;</text>
<text text-anchor="middle" x="281" y="-270.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;with_suffix &#160;&#160;= &#160;V&quot;some_number&quot; * V&quot;which_suffix&quot;</text>
<text text-anchor="middle" x="281" y="-254.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;which_suffix &#160;= &#160;( Csp&quot;*&quot; + Csp&quot;+&quot; + Csp&quot;?&quot;)</text>
<text text-anchor="middle" x="281" y="-239.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;some_number &#160;&#160;= &#160;V&quot;allowed_suffixed&quot; * WS * V&quot;some_suffix&quot;</text>
<text text-anchor="middle" x="281" y="-223.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;some_suffix &#160;&#160;= P&quot;$&quot; * V&quot;repeats&quot;</text>
<text text-anchor="middle" x="281" y="-208.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeats &#160;&#160;&#160;= &#160;Csp(some_num_c)</text>
<text text-anchor="middle" x="281" y="-193.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;allowed_prefixed = &#160;V&quot;compound&quot; + V&quot;suffixed&quot; + V&quot;atom&quot;</text>
<text text-anchor="middle" x="281" y="-177.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;allowed_suffixed = &#160;V&quot;compound&quot; + V&quot;prefixed&quot; + V&quot;atom&quot; &#160;&#160;&#160;</text>
<text text-anchor="middle" x="281" y="-162.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;atom = &#160;V&quot;ws&quot; + symbol </text>
<text text-anchor="middle" x="281" y="-146.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;ws = Csp(P&quot;_&quot;)</text>
<text text-anchor="middle" x="281" y="-131.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="281" y="-116.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return pegger</text>
<text text-anchor="middle" x="281" y="-100.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="281" y="-85.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;&#45;[[</text>
<text text-anchor="middle" x="281" y="-69.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">peg = epnf.define(_peg_fn(), nil, false) &#45;&#45; nil is _G, false = suppress output</text>
<text text-anchor="middle" x="281" y="-54.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">peg_hl = epnf.define(_peg_fn(), nil, true)</text>
<text text-anchor="middle" x="281" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;]]</text>
<text text-anchor="middle" x="281" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">return {peg = peg,</text>
<text text-anchor="middle" x="281" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;peg_hl = peg_hl}</text>
</g>
<!-- codeblock_6&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>codeblock_6&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M281,-2187.9952C281,-2181.2182 281,-2172.6561 281,-2162.4902"/>
<polygon fill="#000000" stroke="#000000" points="284.5001,-2162.258 281,-2152.258 277.5001,-2162.258 284.5001,-2162.258"/>
</g>
</g>
</svg>