<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="6913pt" height="1446pt"
 viewBox="0.00 0.00 6912.80 1446.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1442.0022)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1442.0022 6908.7972,-1442.0022 6908.7972,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="1181.5" cy="-1420.0022" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="1181.5" y="-1415.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 289</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="1181.5" cy="-1348.0022" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1181.5" y="-1343.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;100</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1181.5,-1401.8335C1181.5,-1394.1331 1181.5,-1384.9765 1181.5,-1376.4188"/>
<polygon fill="#000000" stroke="#000000" points="1185.0001,-1376.4154 1181.5,-1366.4155 1178.0001,-1376.4155 1185.0001,-1376.4154"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="282.5" cy="-1276.0022" rx="27" ry="18"/>
<text text-anchor="middle" x="282.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">0 : </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1115.8744,-1347.2742C941.3224,-1344.8009 468.7094,-1334.4552 318.5,-1294.0022 316.5264,-1293.4707 314.5338,-1292.8256 312.5524,-1292.1"/>
<polygon fill="#000000" stroke="#000000" points="313.4473,-1288.6756 302.8772,-1287.9517 310.6889,-1295.1092 313.4473,-1288.6756"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="359.5" cy="-1276.0022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="359.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1116.0769,-1346.3666C953.6813,-1341.8438 535.5262,-1327.2402 400.5,-1294.0022 398.0562,-1293.4006 395.5747,-1292.6633 393.1043,-1291.8342"/>
<polygon fill="#000000" stroke="#000000" points="394.3244,-1288.5537 383.7332,-1288.2747 391.8387,-1295.0976 394.3244,-1288.5537"/>
</g>
<!-- codeblock_4 -->
<g id="node5" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="482.5" cy="-1276.0022" rx="72.5844" ry="18"/>
<text text-anchor="middle" x="482.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 4&#45;23</text>
</g>
<!-- section_1&#45;&gt;codeblock_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;codeblock_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1116.3249,-1345.062C1003.4121,-1339.353 764.3304,-1324.5494 564.5,-1294.0022 558.1651,-1293.0338 551.5874,-1291.8671 545.0371,-1290.5987"/>
<polygon fill="#000000" stroke="#000000" points="545.2997,-1287.0813 534.8052,-1288.5358 543.9162,-1293.9432 545.2997,-1287.0813"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="605.5" cy="-1276.0022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="605.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1117.1628,-1343.9504C995.2071,-1335.8653 734.7865,-1316.554 647.5,-1294.0022 644.8549,-1293.3188 642.1614,-1292.4935 639.4804,-1291.5769"/>
<polygon fill="#000000" stroke="#000000" points="640.5261,-1288.2301 629.935,-1287.948 638.0385,-1294.7732 640.5261,-1288.2301"/>
</g>
<!-- codeblock_6 -->
<g id="node7" class="node">
<title>codeblock_6</title>
<ellipse fill="none" stroke="#000000" cx="733.5" cy="-1276.0022" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="733.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 27&#45;29</text>
</g>
<!-- section_1&#45;&gt;codeblock_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;codeblock_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1122.2437,-1340.1667C1050.5877,-1330.4546 926.4056,-1312.8638 820.5,-1294.0022 813.9704,-1292.8393 807.1798,-1291.5592 800.4,-1290.2341"/>
<polygon fill="#000000" stroke="#000000" points="800.9966,-1286.7843 790.5063,-1288.2689 799.6328,-1293.6502 800.9966,-1286.7843"/>
</g>
<!-- prose_7 -->
<g id="node8" class="node">
<title>prose_7</title>
<ellipse fill="none" stroke="#000000" cx="861.5" cy="-1276.0022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="861.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;prose_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1122.0317,-1340.2016C1065.1239,-1331.8627 977.28,-1316.6936 903.5,-1294.0022 901.0451,-1293.2472 898.5395,-1292.3953 896.0351,-1291.483"/>
<polygon fill="#000000" stroke="#000000" points="897.0802,-1288.1334 886.4926,-1287.7429 894.5258,-1294.6507 897.0802,-1288.1334"/>
</g>
<!-- codeblock_8 -->
<g id="node9" class="node">
<title>codeblock_8</title>
<ellipse fill="none" stroke="#000000" cx="989.5" cy="-1276.0022" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="989.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 33&#45;35</text>
</g>
<!-- section_1&#45;&gt;codeblock_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;codeblock_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1142.6459,-1333.4319C1113.1528,-1322.372 1072.3457,-1307.0693 1040.2707,-1295.0412"/>
<polygon fill="#000000" stroke="#000000" points="1041.2111,-1291.6559 1030.6189,-1291.4218 1038.7532,-1298.2102 1041.2111,-1291.6559"/>
</g>
<!-- prose_9 -->
<g id="node10" class="node">
<title>prose_9</title>
<ellipse fill="none" stroke="#000000" cx="1117.5" cy="-1276.0022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1117.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;prose_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1165.6798,-1330.2044C1157.6184,-1321.1353 1147.6979,-1309.9748 1138.9584,-1300.1429"/>
<polygon fill="#000000" stroke="#000000" points="1141.5204,-1297.7568 1132.2607,-1292.608 1136.2885,-1302.4074 1141.5204,-1297.7568"/>
</g>
<!-- codeblock_10 -->
<g id="node11" class="node">
<title>codeblock_10</title>
<ellipse fill="none" stroke="#000000" cx="1245.5" cy="-1276.0022" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1245.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 39&#45;43</text>
</g>
<!-- section_1&#45;&gt;codeblock_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;codeblock_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1197.3202,-1330.2044C1205.0126,-1321.5505 1214.3978,-1310.9922 1222.8344,-1301.501"/>
<polygon fill="#000000" stroke="#000000" points="1225.6122,-1303.6441 1229.64,-1293.8447 1220.3803,-1298.9936 1225.6122,-1303.6441"/>
</g>
<!-- prose_11 -->
<g id="node12" class="node">
<title>prose_11</title>
<ellipse fill="none" stroke="#000000" cx="1409.5" cy="-1276.0022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1409.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;prose_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1224.6531,-1334.3749C1267.0224,-1320.9951 1331.023,-1300.7844 1371.5157,-1287.9972"/>
<polygon fill="#000000" stroke="#000000" points="1372.7946,-1291.2638 1381.2765,-1284.9149 1370.6866,-1284.5887 1372.7946,-1291.2638"/>
</g>
<!-- codeblock_12 -->
<g id="node13" class="node">
<title>codeblock_12</title>
<ellipse fill="none" stroke="#000000" cx="1594.5" cy="-1276.0022" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1594.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 48&#45;66</text>
</g>
<!-- section_1&#45;&gt;codeblock_12 -->
<g id="edge12" class="edge">
<title>section_1&#45;&gt;codeblock_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1237.199,-1338.2919C1310.8895,-1325.4452 1440.9147,-1302.7773 1522.1365,-1288.6176"/>
<polygon fill="#000000" stroke="#000000" points="1523.0317,-1292.0144 1532.282,-1286.8489 1521.8295,-1285.1184 1523.0317,-1292.0144"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="1790.5" cy="-1276.0022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1790.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>section_1&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1243.8673,-1342.3523C1338.4596,-1333.5348 1523.784,-1315.288 1680.5,-1294.0022 1703.4652,-1290.883 1729.0182,-1286.7426 1749.7113,-1283.2194"/>
<polygon fill="#000000" stroke="#000000" points="1750.4849,-1286.6378 1759.7475,-1281.4943 1749.2991,-1279.739 1750.4849,-1286.6378"/>
</g>
<!-- codeblock_14 -->
<g id="node15" class="node">
<title>codeblock_14</title>
<ellipse fill="none" stroke="#000000" cx="2016.5" cy="-1276.0022" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2016.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 70&#45;81</text>
</g>
<!-- section_1&#45;&gt;codeblock_14 -->
<g id="edge14" class="edge">
<title>section_1&#45;&gt;codeblock_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1244.7293,-1343.0472C1360.9571,-1333.8727 1616.3754,-1313.4027 1831.5,-1294.0022 1865.4308,-1290.9422 1902.8391,-1287.3448 1935.0859,-1284.1736"/>
<polygon fill="#000000" stroke="#000000" points="1935.755,-1287.6247 1945.3633,-1283.1602 1935.0681,-1280.6585 1935.755,-1287.6247"/>
</g>
<!-- prose_15 -->
<g id="node16" class="node">
<title>prose_15</title>
<ellipse fill="none" stroke="#000000" cx="2257.5" cy="-1276.0022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2257.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_15 -->
<g id="edge15" class="edge">
<title>section_1&#45;&gt;prose_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1246.6371,-1345.4617C1397.399,-1339.3021 1781.977,-1321.9867 2102.5,-1294.0022 2141.0526,-1290.6362 2184.8433,-1285.4219 2216.0217,-1281.4702"/>
<polygon fill="#000000" stroke="#000000" points="2216.6108,-1284.9234 2226.0859,-1280.1829 2215.7227,-1277.98 2216.6108,-1284.9234"/>
</g>
<!-- codeblock_16 -->
<g id="node17" class="node">
<title>codeblock_16</title>
<ellipse fill="none" stroke="#000000" cx="2512.5" cy="-1276.0022" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2512.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 85&#45;99</text>
</g>
<!-- section_1&#45;&gt;codeblock_16 -->
<g id="edge16" class="edge">
<title>section_1&#45;&gt;codeblock_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1246.702,-1345.6623C1418.7464,-1339.3122 1899.1823,-1320.4398 2298.5,-1294.0022 2341.9637,-1291.1246 2390.3267,-1287.1246 2430.0649,-1283.626"/>
<polygon fill="#000000" stroke="#000000" points="2430.5853,-1287.0937 2440.2374,-1282.7248 2429.9675,-1280.121 2430.5853,-1287.0937"/>
</g>
<!-- section_17 -->
<g id="node18" class="node">
<title>section_17</title>
<ellipse fill="none" stroke="#000000" cx="4525.5" cy="-1276.0022" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4525.5" y="-1271.8022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 101&#45;289</text>
</g>
<!-- section_1&#45;&gt;section_17 -->
<g id="edge17" class="edge">
<title>section_1&#45;&gt;section_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1247.1716,-1346.5882C1666.4357,-1337.561 3966.1579,-1288.0454 4440.0685,-1277.8416"/>
<polygon fill="#000000" stroke="#000000" points="4440.3364,-1281.3368 4450.2587,-1277.6222 4440.1857,-1274.3384 4440.3364,-1281.3368"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="67.5" cy="-1079.1019" rx="27" ry="18"/>
<text text-anchor="middle" x="67.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_3&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M335.1559,-1264.1373C329.7643,-1261.8436 324.0128,-1259.646 318.5,-1258.0022 225.6541,-1230.3164 174.7225,-1287.6849 103.5,-1222.0022 71.7331,-1192.7062 66.2135,-1139.8608 66.1347,-1107.2946"/>
<polygon fill="#000000" stroke="#000000" points="69.6373,-1107.1422 66.2865,-1097.0912 62.638,-1107.038 69.6373,-1107.1422"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="472,-1221.9025 113,-1221.9025 113,-936.3013 472,-936.3013 472,-1221.9025"/>
<text text-anchor="middle" x="292.5" y="-1206.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require( &quot;lpeg&quot; )</text>
<text text-anchor="middle" x="292.5" y="-1191.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;&#45;[[</text>
<text text-anchor="middle" x="292.5" y="-1176.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local assert = assert</text>
<text text-anchor="middle" x="292.5" y="-1160.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">local _VERSION = assert( _VERSION )</text>
<text text-anchor="middle" x="292.5" y="-1145.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">local string, io = assert( string ), assert( io )</text>
<text text-anchor="middle" x="292.5" y="-1129.802" font-family="Inconsolata" font-size="14.00" fill="#000000">local error = assert( error )</text>
<text text-anchor="middle" x="292.5" y="-1114.402" font-family="Inconsolata" font-size="14.00" fill="#000000">local pairs = assert( pairs )</text>
<text text-anchor="middle" x="292.5" y="-1099.002" font-family="Inconsolata" font-size="14.00" fill="#000000">local next = assert( next )</text>
<text text-anchor="middle" x="292.5" y="-1083.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">local type = assert( type )</text>
<text text-anchor="middle" x="292.5" y="-1068.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">local tostring = assert( tostring )</text>
<text text-anchor="middle" x="292.5" y="-1052.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">local setmetatable = assert( setmetatable )</text>
<text text-anchor="middle" x="292.5" y="-1021.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">if _VERSION == &quot;Lua 5.1&quot; then</text>
<text text-anchor="middle" x="292.5" y="-1006.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local setfenv = assert( setfenv )</text>
<text text-anchor="middle" x="292.5" y="-990.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="292.5" y="-975.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local setfenv</text>
<text text-anchor="middle" x="292.5" y="-959.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="292.5" y="-944.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;]]</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>codeblock_4&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M465.3037,-1258.1813C457.8103,-1250.4158 448.2822,-1240.5417 437.5638,-1229.4341"/>
<polygon fill="#000000" stroke="#000000" points="439.8204,-1226.7321 430.3579,-1221.9664 434.7831,-1231.5928 439.8204,-1226.7321"/>
</g>
<!-- raw_21 -->
<g id="node22" class="node">
<title>raw_21</title>
<ellipse fill="none" stroke="#000000" cx="517.5" cy="-1079.1019" rx="27" ry="18"/>
<text text-anchor="middle" x="517.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_21 -->
<g id="edge21" class="edge">
<title>prose_5&#45;&gt;raw_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M586.84,-1261.0654C575.6072,-1251.1216 561.8999,-1237.1375 553.5,-1222.0022 533.2655,-1185.5425 524.2039,-1137.5853 520.2903,-1107.5488"/>
<polygon fill="#000000" stroke="#000000" points="523.7331,-1106.8616 519.0702,-1097.3481 516.7827,-1107.693 523.7331,-1106.8616"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="684,-1097.1019 563,-1097.1019 563,-1061.1019 684,-1061.1019 684,-1097.1019"/>
<text text-anchor="middle" x="623.5" y="-1075.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">local epnf = {}</text>
</g>
<!-- codeblock_6&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>codeblock_6&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M718.9418,-1258.0853C710.9493,-1247.8388 701.14,-1234.5612 693.5,-1222.0022 670.023,-1183.4098 647.9785,-1135.8174 635.1147,-1106.4672"/>
<polygon fill="#000000" stroke="#000000" points="638.3073,-1105.0321 631.1153,-1097.2523 631.886,-1107.8191 638.3073,-1105.0321"/>
</g>
<!-- raw_24 -->
<g id="node25" class="node">
<title>raw_24</title>
<ellipse fill="none" stroke="#000000" cx="729.5" cy="-1079.1019" rx="27" ry="18"/>
<text text-anchor="middle" x="729.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_7&#45;&gt;raw_24 -->
<g id="edge24" class="edge">
<title>prose_7&#45;&gt;raw_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M835.9797,-1264.4846C810.8508,-1252.664 774.9058,-1234.3085 765.5,-1222.0022 739.7896,-1188.3636 732.2758,-1138.5 730.1766,-1107.4453"/>
<polygon fill="#000000" stroke="#000000" points="733.6635,-1107.1034 729.6389,-1097.3027 726.6733,-1107.474 733.6635,-1107.1034"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1000.5,-1097.1019 774.5,-1097.1019 774.5,-1061.1019 1000.5,-1061.1019 1000.5,-1097.1019"/>
<text text-anchor="middle" x="887.5" y="-1075.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">epnf.Node = require &quot;peg/node&quot;</text>
</g>
<!-- codeblock_8&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>codeblock_8&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M980.0869,-1257.8312C962.0977,-1223.1049 922.7487,-1147.1458 901.6043,-1106.3288"/>
<polygon fill="#000000" stroke="#000000" points="904.5979,-1104.4984 896.8903,-1097.229 898.3824,-1107.7182 904.5979,-1104.4984"/>
</g>
<!-- raw_27 -->
<g id="node28" class="node">
<title>raw_27</title>
<ellipse fill="none" stroke="#000000" cx="1045.5" cy="-1079.1019" rx="27" ry="18"/>
<text text-anchor="middle" x="1045.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_9&#45;&gt;raw_27 -->
<g id="edge27" class="edge">
<title>prose_9&#45;&gt;raw_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1104.2371,-1259.3661C1096.6285,-1249.1082 1087.4378,-1235.3922 1081.5,-1222.0022 1064.6887,-1184.0921 1054.7335,-1136.8988 1049.6921,-1107.3769"/>
<polygon fill="#000000" stroke="#000000" points="1053.1206,-1106.6545 1048.0535,-1097.3499 1046.2122,-1107.7835 1053.1206,-1106.6545"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1400.5,-1106.3024 1090.5,-1106.3024 1090.5,-1051.9015 1400.5,-1051.9015 1400.5,-1106.3024"/>
<text text-anchor="middle" x="1245.5" y="-1091.002" font-family="Inconsolata" font-size="14.00" fill="#000000">local function max( a, b )</text>
<text text-anchor="middle" x="1245.5" y="-1075.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if a &lt; b then return b else return a end</text>
<text text-anchor="middle" x="1245.5" y="-1060.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_10&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>codeblock_10&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1245.5,-1257.8312C1245.5,-1225.7966 1245.5,-1158.6737 1245.5,-1116.4182"/>
<polygon fill="#000000" stroke="#000000" points="1249.0001,-1116.2475 1245.5,-1106.2475 1242.0001,-1116.2476 1249.0001,-1116.2475"/>
</g>
<!-- raw_30 -->
<g id="node31" class="node">
<title>raw_30</title>
<ellipse fill="none" stroke="#000000" cx="1445.5" cy="-1079.1019" rx="27" ry="18"/>
<text text-anchor="middle" x="1445.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_11&#45;&gt;raw_30 -->
<g id="edge30" class="edge">
<title>prose_11&#45;&gt;raw_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1412.8223,-1257.8312C1419.1312,-1223.3247 1432.8838,-1148.1056 1440.3795,-1107.108"/>
<polygon fill="#000000" stroke="#000000" points="1443.8301,-1107.6954 1442.1858,-1097.229 1436.9442,-1106.4364 1443.8301,-1107.6954"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="1814.5,-1213.9025 1490.5,-1213.9025 1490.5,-944.3013 1814.5,-944.3013 1814.5,-1213.9025"/>
<text text-anchor="middle" x="1652.5" y="-1198.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">local function getline( s, p )</text>
<text text-anchor="middle" x="1652.5" y="-1183.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local lno, sol = 1, 1</text>
<text text-anchor="middle" x="1652.5" y="-1168.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, p do</text>
<text text-anchor="middle" x="1652.5" y="-1152.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if string.sub( s, i, i ) == &quot;\n&quot; then</text>
<text text-anchor="middle" x="1652.5" y="-1137.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lno = lno + 1</text>
<text text-anchor="middle" x="1652.5" y="-1121.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;sol = i + 1</text>
<text text-anchor="middle" x="1652.5" y="-1106.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1652.5" y="-1091.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="1652.5" y="-1075.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local eol = #s</text>
<text text-anchor="middle" x="1652.5" y="-1060.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = sol, #s do</text>
<text text-anchor="middle" x="1652.5" y="-1044.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if string.sub( s, i, i ) == &quot;\n&quot; then</text>
<text text-anchor="middle" x="1652.5" y="-1029.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;eol = i &#45; 1</text>
<text text-anchor="middle" x="1652.5" y="-1014.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;break</text>
<text text-anchor="middle" x="1652.5" y="-998.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1652.5" y="-983.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="1652.5" y="-967.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return string.sub( s, sol, eol ), lno, sol</text>
<text text-anchor="middle" x="1652.5" y="-952.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_12&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>codeblock_12&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1599.8525,-1257.8312C1602.4928,-1248.8679 1605.9423,-1237.1576 1609.814,-1224.0137"/>
<polygon fill="#000000" stroke="#000000" points="1613.2341,-1224.7897 1612.7024,-1214.2082 1606.5193,-1222.8117 1613.2341,-1224.7897"/>
</g>
<!-- raw_33 -->
<g id="node34" class="node">
<title>raw_33</title>
<ellipse fill="none" stroke="#000000" cx="1859.5" cy="-1079.1019" rx="27" ry="18"/>
<text text-anchor="middle" x="1859.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_13&#45;&gt;raw_33 -->
<g id="edge33" class="edge">
<title>prose_13&#45;&gt;raw_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1802.5934,-1259.2051C1809.5452,-1248.8901 1817.9686,-1235.1707 1823.5,-1222.0022 1839.5603,-1183.7678 1849.7154,-1136.6609 1855.0047,-1107.246"/>
<polygon fill="#000000" stroke="#000000" points="1858.4765,-1107.7094 1856.7351,-1097.2587 1851.5792,-1106.5143 1858.4765,-1107.7094"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="2326.5,-1160.1022 1904.5,-1160.1022 1904.5,-998.1016 2326.5,-998.1016 2326.5,-1160.1022"/>
<text text-anchor="middle" x="2115.5" y="-1144.9021" font-family="Inconsolata" font-size="14.00" fill="#000000">local function raise_error( n, msg, s, p )</text>
<text text-anchor="middle" x="2115.5" y="-1129.502" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local line, lno, sol = getline( s, p )</text>
<text text-anchor="middle" x="2115.5" y="-1114.102" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert( p &lt;= #s )</text>
<text text-anchor="middle" x="2115.5" y="-1098.702" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local clen = max( 70, p+10&#45;sol )</text>
<text text-anchor="middle" x="2115.5" y="-1083.302" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if #line &gt; clen then</text>
<text text-anchor="middle" x="2115.5" y="-1067.9019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;line = string.sub( line, 1, clen ) .. &quot;...&quot;</text>
<text text-anchor="middle" x="2115.5" y="-1052.5019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="2115.5" y="-1037.1019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local marker = string.rep( &quot; &quot;, p&#45;sol ) .. &quot;^&quot;</text>
<text text-anchor="middle" x="2115.5" y="-1021.7018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;error(&quot;:&quot;..lno..&quot;: &quot;..msg..&quot;\n&quot;..line..&quot;\n&quot;..marker, 0 )</text>
<text text-anchor="middle" x="2115.5" y="-1006.3018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_14&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>codeblock_14&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2025.6362,-1257.8312C2035.8747,-1237.468 2053.2418,-1202.9268 2069.9947,-1169.6071"/>
<polygon fill="#000000" stroke="#000000" points="2073.332,-1170.761 2074.6971,-1160.2545 2067.078,-1167.6165 2073.332,-1170.761"/>
</g>
<!-- raw_36 -->
<g id="node37" class="node">
<title>raw_36</title>
<ellipse fill="none" stroke="#000000" cx="2371.5" cy="-1079.1019" rx="27" ry="18"/>
<text text-anchor="middle" x="2371.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_15&#45;&gt;raw_36 -->
<g id="edge36" class="edge">
<title>prose_15&#45;&gt;raw_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2282.571,-1264.6567C2299.9535,-1255.5325 2322.2722,-1241.0896 2335.5,-1222.0022 2359.4859,-1187.391 2367.5102,-1138.2142 2370.1825,-1107.509"/>
<polygon fill="#000000" stroke="#000000" points="2373.6776,-1107.7029 2370.9219,-1097.4728 2366.6965,-1107.1885 2373.6776,-1107.7029"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2860,-1183.3024 2417,-1183.3024 2417,-974.9014 2860,-974.9014 2860,-1183.3024"/>
<text text-anchor="middle" x="2638.5" y="-1168.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local function parse_error( s, p, n, e )</text>
<text text-anchor="middle" x="2638.5" y="-1152.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if p &lt;= #s then</text>
<text text-anchor="middle" x="2638.5" y="-1137.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local msg = &quot;parse error&quot;</text>
<text text-anchor="middle" x="2638.5" y="-1121.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if e then msg = msg .. &quot;, &quot; .. e end</text>
<text text-anchor="middle" x="2638.5" y="-1106.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;raise_error( n, msg, s, p )</text>
<text text-anchor="middle" x="2638.5" y="-1091.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else &#45;&#45; parse error at end of input</text>
<text text-anchor="middle" x="2638.5" y="-1075.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local _,lno = string.gsub( s, &quot;\n&quot;, &quot;\n&quot; )</text>
<text text-anchor="middle" x="2638.5" y="-1060.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if string.sub( s, &#45;1, &#45;1 ) ~= &quot;\n&quot; then lno = lno + 1 end</text>
<text text-anchor="middle" x="2638.5" y="-1044.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local msg = &quot;: parse error at &lt;eof&gt;&quot;</text>
<text text-anchor="middle" x="2638.5" y="-1029.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if e then msg = msg .. &quot;, &quot; .. e end</text>
<text text-anchor="middle" x="2638.5" y="-1014.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;error( n..&quot;:&quot;..lno..msg, 0 )</text>
<text text-anchor="middle" x="2638.5" y="-998.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="2638.5" y="-983.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_16&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>codeblock_16&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2523.9039,-1258.1813C2534.0164,-1242.3785 2549.7167,-1217.8436 2566.286,-1191.9507"/>
<polygon fill="#000000" stroke="#000000" points="2569.2482,-1193.8151 2571.6903,-1183.5055 2563.3521,-1190.042 2569.2482,-1193.8151"/>
</g>
<!-- header_39 -->
<g id="node40" class="node">
<title>header_39</title>
<ellipse fill="none" stroke="#000000" cx="3341.5" cy="-1079.1019" rx="85.1565" ry="18"/>
<text text-anchor="middle" x="3341.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : make_ast_node</text>
</g>
<!-- section_17&#45;&gt;header_39 -->
<g id="edge39" class="edge">
<title>section_17&#45;&gt;header_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4450.3177,-1274.1281C4211.0748,-1267.9222 3480.4974,-1247.0078 3436.5,-1222.0022 3391.9029,-1196.6558 3364.3204,-1140.7575 3351.04,-1106.873"/>
<polygon fill="#000000" stroke="#000000" points="3354.1695,-1105.251 3347.3746,-1097.122 3347.6171,-1107.7141 3354.1695,-1105.251"/>
</g>
<!-- prose_40 -->
<g id="node41" class="node">
<title>prose_40</title>
<ellipse fill="none" stroke="#000000" cx="3477.5" cy="-1079.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3477.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_40 -->
<g id="edge40" class="edge">
<title>section_17&#45;&gt;prose_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4450.102,-1274.3357C4222.3542,-1268.991 3554.8157,-1250.9203 3518.5,-1222.0022 3484.2154,-1194.7013 3477.3741,-1140.7465 3476.6539,-1107.5082"/>
<polygon fill="#000000" stroke="#000000" points="3480.1524,-1107.0851 3476.6135,-1097.0988 3473.1524,-1107.1123 3480.1524,-1107.0851"/>
</g>
<!-- prose_41 -->
<g id="node42" class="node">
<title>prose_41</title>
<ellipse fill="none" stroke="#000000" cx="3559.5" cy="-1079.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3559.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_41 -->
<g id="edge41" class="edge">
<title>section_17&#45;&gt;prose_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4450.3017,-1273.9517C4235.8527,-1267.7958 3634.5388,-1248.2664 3601.5,-1222.0022 3567.1617,-1194.7049 3559.8896,-1140.8353 3558.891,-1107.5968"/>
<polygon fill="#000000" stroke="#000000" points="3562.3907,-1107.5435 3558.7608,-1097.5899 3555.3913,-1107.6346 3562.3907,-1107.5435"/>
</g>
<!-- codeblock_42 -->
<g id="node43" class="node">
<title>codeblock_42</title>
<ellipse fill="none" stroke="#000000" cx="3697.5" cy="-1079.1019" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3697.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 108&#45;130</text>
</g>
<!-- section_17&#45;&gt;codeblock_42 -->
<g id="edge42" class="edge">
<title>section_17&#45;&gt;codeblock_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4450.374,-1274.1367C4275.2036,-1269.2652 3850.2762,-1254.2412 3794.5,-1222.0022 3749.9175,-1196.2332 3721.498,-1140.7294 3707.6191,-1106.9819"/>
<polygon fill="#000000" stroke="#000000" points="3710.7086,-1105.2767 3703.7769,-1097.264 3704.199,-1107.8505 3710.7086,-1105.2767"/>
</g>
<!-- prose_43 -->
<g id="node44" class="node">
<title>prose_43</title>
<ellipse fill="none" stroke="#000000" cx="3835.5" cy="-1079.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3835.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_43 -->
<g id="edge43" class="edge">
<title>section_17&#45;&gt;prose_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4450.2081,-1274.449C4288.9077,-1270.4532 3921.055,-1257.5153 3877.5,-1222.0022 3843.6495,-1194.4018 3836.1839,-1141.0146 3835.0221,-1107.8834"/>
<polygon fill="#000000" stroke="#000000" points="3838.5148,-1107.428 3834.8407,-1097.4907 3831.5158,-1107.5502 3838.5148,-1107.428"/>
</g>
<!-- codeblock_44 -->
<g id="node45" class="node">
<title>codeblock_44</title>
<ellipse fill="none" stroke="#000000" cx="3973.5" cy="-1079.1019" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3973.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 134&#45;150</text>
</g>
<!-- section_17&#45;&gt;codeblock_44 -->
<g id="edge44" class="edge">
<title>section_17&#45;&gt;codeblock_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4449.8554,-1274.5298C4337.3515,-1271.0996 4132.5227,-1259.7124 4070.5,-1222.0022 4026.6164,-1195.3207 3998.0328,-1140.3731 3983.9203,-1106.9274"/>
<polygon fill="#000000" stroke="#000000" points="3987.0122,-1105.239 3980.0042,-1097.293 3980.5274,-1107.8749 3987.0122,-1105.239"/>
</g>
<!-- prose_45 -->
<g id="node46" class="node">
<title>prose_45</title>
<ellipse fill="none" stroke="#000000" cx="4111.5" cy="-1079.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4111.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_45 -->
<g id="edge45" class="edge">
<title>section_17&#45;&gt;prose_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4454.1652,-1269.7959C4352.5307,-1260.3345 4175.8069,-1241.3526 4153.5,-1222.0022 4120.5071,-1193.3821 4112.7674,-1140.3208 4111.3199,-1107.5293"/>
<polygon fill="#000000" stroke="#000000" points="4114.8111,-1107.1524 4111.0428,-1097.2504 4107.8136,-1107.3411 4114.8111,-1107.1524"/>
</g>
<!-- codeblock_46 -->
<g id="node47" class="node">
<title>codeblock_46</title>
<ellipse fill="none" stroke="#000000" cx="4249.5" cy="-1079.1019" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4249.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 155&#45;208</text>
</g>
<!-- section_17&#45;&gt;codeblock_46 -->
<g id="edge46" class="edge">
<title>section_17&#45;&gt;codeblock_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4459.3994,-1267.1052C4423.3353,-1259.6803 4379.4579,-1246.2205 4346.5,-1222.0022 4305.5519,-1191.9124 4276.31,-1139.038 4261.2202,-1106.7313"/>
<polygon fill="#000000" stroke="#000000" points="4264.3121,-1105.0749 4256.9942,-1097.4134 4257.9371,-1107.9662 4264.3121,-1105.0749"/>
</g>
<!-- prose_47 -->
<g id="node48" class="node">
<title>prose_47</title>
<ellipse fill="none" stroke="#000000" cx="4387.5" cy="-1079.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4387.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_47 -->
<g id="edge47" class="edge">
<title>section_17&#45;&gt;prose_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4483.6488,-1261.0142C4464.6803,-1252.293 4443.4309,-1239.5092 4429.5,-1222.0022 4402.8548,-1188.5171 4393.1075,-1138.6086 4389.5458,-1107.5029"/>
<polygon fill="#000000" stroke="#000000" points="4393.0072,-1106.943 4388.5263,-1097.3424 4386.0422,-1107.6418 4393.0072,-1106.943"/>
</g>
<!-- codeblock_48 -->
<g id="node49" class="node">
<title>codeblock_48</title>
<ellipse fill="none" stroke="#000000" cx="4525.5" cy="-1079.1019" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4525.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 213&#45;217</text>
</g>
<!-- section_17&#45;&gt;codeblock_48 -->
<g id="edge48" class="edge">
<title>section_17&#45;&gt;codeblock_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4525.5,-1257.8312C4525.5,-1223.3979 4525.5,-1148.4249 4525.5,-1107.3696"/>
<polygon fill="#000000" stroke="#000000" points="4529.0001,-1107.2289 4525.5,-1097.229 4522.0001,-1107.229 4529.0001,-1107.2289"/>
</g>
<!-- prose_49 -->
<g id="node50" class="node">
<title>prose_49</title>
<ellipse fill="none" stroke="#000000" cx="4729.5" cy="-1079.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4729.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_49 -->
<g id="edge49" class="edge">
<title>section_17&#45;&gt;prose_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4561.5056,-1260.1793C4580.5606,-1250.7587 4603.6421,-1237.6017 4621.5,-1222.0022 4661.1899,-1187.3316 4695.6599,-1135.9412 4714.4279,-1105.1612"/>
<polygon fill="#000000" stroke="#000000" points="4717.5936,-1106.6876 4719.7367,-1096.3118 4711.5909,-1103.0865 4717.5936,-1106.6876"/>
</g>
<!-- codeblock_50 -->
<g id="node51" class="node">
<title>codeblock_50</title>
<ellipse fill="none" stroke="#000000" cx="4971.5" cy="-1079.1019" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4971.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 221&#45;228</text>
</g>
<!-- section_17&#45;&gt;codeblock_50 -->
<g id="edge50" class="edge">
<title>section_17&#45;&gt;codeblock_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4594.0821,-1268.372C4644.522,-1261.0004 4713.8636,-1247.1239 4770.5,-1222.0022 4839.0888,-1191.5788 4907.9637,-1135.8431 4944.5912,-1103.7073"/>
<polygon fill="#000000" stroke="#000000" points="4947.1737,-1106.0952 4952.3343,-1096.8421 4942.5298,-1100.8574 4947.1737,-1106.0952"/>
</g>
<!-- prose_51 -->
<g id="node52" class="node">
<title>prose_51</title>
<ellipse fill="none" stroke="#000000" cx="5233.5" cy="-1079.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5233.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_51 -->
<g id="edge51" class="edge">
<title>section_17&#45;&gt;prose_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4600.5656,-1274.0777C4729.087,-1269.8671 4985.3681,-1257.215 5067.5,-1222.0022 5129.3619,-1195.4798 5185.0355,-1137.3205 5213.5054,-1103.951"/>
<polygon fill="#000000" stroke="#000000" points="5216.3997,-1105.9466 5220.1446,-1096.0357 5211.0365,-1101.4481 5216.3997,-1105.9466"/>
</g>
<!-- codeblock_52 -->
<g id="node53" class="node">
<title>codeblock_52</title>
<ellipse fill="none" stroke="#000000" cx="5499.5" cy="-1079.1019" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5499.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 233&#45;240</text>
</g>
<!-- section_17&#45;&gt;codeblock_52 -->
<g id="edge52" class="edge">
<title>section_17&#45;&gt;codeblock_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4601.1106,-1275.2258C4765.6041,-1272.7815 5151.0881,-1262.7496 5274.5,-1222.0022 5353.0192,-1196.0772 5431.5474,-1136.721 5471.8165,-1103.235"/>
<polygon fill="#000000" stroke="#000000" points="5474.1831,-1105.8179 5479.5821,-1096.7018 5469.6767,-1100.4614 5474.1831,-1105.8179"/>
</g>
<!-- prose_53 -->
<g id="node54" class="node">
<title>prose_53</title>
<ellipse fill="none" stroke="#000000" cx="5767.5" cy="-1079.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5767.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_53 -->
<g id="edge53" class="edge">
<title>section_17&#45;&gt;prose_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4600.9174,-1274.9454C4829.338,-1271.3629 5503.6025,-1257.8402 5595.5,-1222.0022 5659.8531,-1196.9059 5717.8365,-1137.6679 5747.2194,-1103.8681"/>
<polygon fill="#000000" stroke="#000000" points="5750.2265,-1105.7364 5754.0598,-1095.8593 5744.9038,-1101.1901 5750.2265,-1105.7364"/>
</g>
<!-- codeblock_54 -->
<g id="node55" class="node">
<title>codeblock_54</title>
<ellipse fill="none" stroke="#000000" cx="6034.5" cy="-1079.1019" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6034.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 244&#45;271</text>
</g>
<!-- section_17&#45;&gt;codeblock_54 -->
<g id="edge54" class="edge">
<title>section_17&#45;&gt;codeblock_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4601.2653,-1275.0897C4859.2063,-1271.6693 5693.5946,-1257.9182 5808.5,-1222.0022 5887.8802,-1197.1903 5966.8418,-1137.1191 6007.093,-1103.2918"/>
<polygon fill="#000000" stroke="#000000" points="6009.4995,-1105.8397 6014.8484,-1096.6942 6004.9638,-1100.508 6009.4995,-1105.8397"/>
</g>
<!-- prose_55 -->
<g id="node56" class="node">
<title>prose_55</title>
<ellipse fill="none" stroke="#000000" cx="6295.5" cy="-1079.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6295.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_55 -->
<g id="edge55" class="edge">
<title>section_17&#45;&gt;prose_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4600.9157,-1274.8638C4908.9292,-1270.0347 6058.6134,-1250.1899 6130.5,-1222.0022 6193.2713,-1197.3887 6248.4904,-1137.9625 6276.3342,-1104.0029"/>
<polygon fill="#000000" stroke="#000000" points="6279.2684,-1105.9394 6282.8113,-1095.9545 6273.815,-1101.5507 6279.2684,-1105.9394"/>
</g>
<!-- codeblock_56 -->
<g id="node57" class="node">
<title>codeblock_56</title>
<ellipse fill="none" stroke="#000000" cx="6495.5" cy="-1079.1019" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6495.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 276&#45;280</text>
</g>
<!-- section_17&#45;&gt;codeblock_56 -->
<g id="edge56" class="edge">
<title>section_17&#45;&gt;codeblock_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4601.1498,-1275.1983C4933.9469,-1271.4765 6254.8774,-1254.6947 6336.5,-1222.0022 6397.1652,-1197.7039 6449.5978,-1139.2279 6476.4234,-1105.0843"/>
<polygon fill="#000000" stroke="#000000" points="6479.3496,-1107.021 6482.6812,-1096.9636 6473.8049,-1102.7483 6479.3496,-1107.021"/>
</g>
<!-- prose_57 -->
<g id="node58" class="node">
<title>prose_57</title>
<ellipse fill="none" stroke="#000000" cx="6664.5" cy="-1079.1019" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6664.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_17&#45;&gt;prose_57 -->
<g id="edge57" class="edge">
<title>section_17&#45;&gt;prose_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4600.9799,-1275.0798C4967.8057,-1270.4678 6548.5755,-1249.0527 6591.5,-1222.0022 6631.9081,-1196.5375 6650.9341,-1141.0886 6659.0941,-1107.2379"/>
<polygon fill="#000000" stroke="#000000" points="6662.6008,-1107.5954 6661.375,-1097.0718 6655.7706,-1106.063 6662.6008,-1107.5954"/>
</g>
<!-- codeblock_58 -->
<g id="node59" class="node">
<title>codeblock_58</title>
<ellipse fill="none" stroke="#000000" cx="6817.5" cy="-1079.1019" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6817.5" y="-1074.9019" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 286&#45;288</text>
</g>
<!-- section_17&#45;&gt;codeblock_58 -->
<g id="edge58" class="edge">
<title>section_17&#45;&gt;codeblock_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4600.9265,-1275.0125C4979.6327,-1269.9352 6657.4873,-1246.1138 6705.5,-1222.0022 6754.34,-1197.4751 6788.3988,-1140.6213 6805.295,-1106.4804"/>
<polygon fill="#000000" stroke="#000000" points="6808.631,-1107.6177 6809.7946,-1097.0869 6802.3179,-1104.5936 6808.631,-1107.6177"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="135,-515.7029 0,-515.7029 0,-475.8988 135,-475.8988 135,-515.7029"/>
<text text-anchor="middle" x="67.5" y="-484.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> A modified epnf.</text>
</g>
<!-- raw_18&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_18&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M67.5,-1061.0053C67.5,-977.7088 67.5,-630.7957 67.5,-525.946"/>
<polygon fill="#000000" stroke="#000000" points="71.0001,-525.7461 67.5,-515.7462 64.0001,-525.7462 71.0001,-525.7461"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="571,-515.7029 464,-515.7029 464,-475.8988 571,-475.8988 571,-515.7029"/>
<text text-anchor="middle" x="517.5" y="-484.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> module table</text>
</g>
<!-- raw_21&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>raw_21&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M517.5,-1061.0053C517.5,-977.7088 517.5,-630.7957 517.5,-525.946"/>
<polygon fill="#000000" stroke="#000000" points="521.0001,-525.7461 517.5,-515.7462 514.0001,-525.7462 521.0001,-525.7461"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="746,-515.7029 625,-515.7029 625,-475.8988 746,-475.8988 746,-515.7029"/>
<text text-anchor="middle" x="685.5" y="-484.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> Node metatable</text>
</g>
<!-- raw_24&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>raw_24&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M728.1349,-1061.0053C721.8516,-977.7088 695.683,-630.7957 687.7739,-525.946"/>
<polygon fill="#000000" stroke="#000000" points="691.2469,-525.4546 687.0045,-515.7462 684.2667,-525.9812 691.2469,-525.4546"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1221,-515.7029 764,-515.7029 764,-475.8988 1221,-475.8988 1221,-515.7029"/>
<text text-anchor="middle" x="992.5" y="-484.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> maximum of two numbers while avoiding math lib as a dependency</text>
</g>
<!-- raw_27&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>raw_27&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1043.8557,-1061.0053C1036.2872,-977.7088 1004.7659,-630.7957 995.2391,-525.946"/>
<polygon fill="#000000" stroke="#000000" points="998.7029,-525.3884 994.3123,-515.7462 991.7316,-526.0219 998.7029,-525.3884"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1724,-523.1013 1239,-523.1013 1239,-468.5004 1724,-468.5004 1724,-523.1013"/>
<text text-anchor="middle" x="1481.5" y="-492.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> get the line which p points into, the line number and the position</text>
<text text-anchor="middle" x="1481.5" y="-476.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> of the beginning of the line</text>
</g>
<!-- raw_30&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>raw_30&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1446.6169,-1061.0053C1451.6411,-979.5984 1472.2054,-646.3998 1479.1764,-533.4495"/>
<polygon fill="#000000" stroke="#000000" points="1482.6849,-533.4188 1479.8076,-523.2222 1475.6982,-532.9876 1482.6849,-533.4188"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2129,-515.7029 1742,-515.7029 1742,-475.8988 2129,-475.8988 2129,-515.7029"/>
<text text-anchor="middle" x="1935.5" y="-484.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> raise an error during semantic validation of the ast</text>
</g>
<!-- raw_33&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>raw_33&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1861.8579,-1061.0053C1872.7108,-977.7088 1917.9111,-630.7957 1931.5723,-525.946"/>
<polygon fill="#000000" stroke="#000000" points="1935.0798,-526.1146 1932.9013,-515.7462 1928.1385,-525.2101 1935.0798,-526.1146"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="2452,-515.7029 2219,-515.7029 2219,-475.8988 2452,-475.8988 2452,-515.7029"/>
<text text-anchor="middle" x="2335.5" y="-484.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> parse&#45;error reporting function</text>
</g>
<!-- raw_36&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>raw_36&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2370.3831,-1061.0053C2365.2423,-977.7088 2343.8316,-630.7957 2337.3605,-525.946"/>
<polygon fill="#000000" stroke="#000000" points="2340.8404,-525.5116 2336.731,-515.7462 2333.8537,-525.9428 2340.8404,-525.5116"/>
</g>
<!-- raw_59 -->
<g id="node60" class="node">
<title>raw_59</title>
<ellipse fill="none" stroke="#000000" cx="2497.5" cy="-495.8008" rx="27" ry="18"/>
<text text-anchor="middle" x="2497.5" y="-491.6008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_40&#45;&gt;raw_59 -->
<g id="edge59" class="edge">
<title>prose_40&#45;&gt;raw_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3478.2941,-1061.0374C3478.5639,-1029.824 3474.0364,-966.2592 3435.5,-936.2017 3356.4108,-874.5138 2606.1368,-969.3709 2533.5,-900.2017 2427.9252,-799.6668 2469.4443,-597.6127 2489.2891,-523.7016"/>
<polygon fill="#000000" stroke="#000000" points="2492.748,-524.325 2492.0397,-513.7538 2486.0012,-522.4594 2492.748,-524.325"/>
</g>
<!-- raw_61 -->
<g id="node62" class="node">
<title>raw_61</title>
<ellipse fill="none" stroke="#000000" cx="2569.5" cy="-495.8008" rx="27" ry="18"/>
<text text-anchor="middle" x="2569.5" y="-491.6008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_41&#45;&gt;raw_61 -->
<g id="edge61" class="edge">
<title>prose_41&#45;&gt;raw_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3560.4305,-1061.0494C3560.9341,-1029.8546 3556.8745,-966.3177 3518.5,-936.2017 3438.6346,-873.5239 2679.0381,-970.1954 2605.5,-900.2017 2499.901,-799.6922 2541.435,-597.6224 2561.2865,-523.7044"/>
<polygon fill="#000000" stroke="#000000" points="2564.7456,-524.3269 2564.0379,-513.7557 2557.9989,-522.4609 2564.7456,-524.3269"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="3128,-661.8015 2615,-661.8015 2615,-329.8002 3128,-329.8002 3128,-661.8015"/>
<text text-anchor="middle" x="2871.5" y="-646.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local function make_ast_node(metatables, id, first, t, last, str, root)</text>
<text text-anchor="middle" x="2871.5" y="-631.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if type(t[1]) == &quot;table&quot; then &#160;&#160;&#160;</text>
<text text-anchor="middle" x="2871.5" y="-615.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if t[1].span then</text>
<text text-anchor="middle" x="2871.5" y="-600.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;t.val = t[1].val</text>
<text text-anchor="middle" x="2871.5" y="-585.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;t.first = t[1].first</text>
<text text-anchor="middle" x="2871.5" y="-569.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;t.last = t[1].last</text>
<text text-anchor="middle" x="2871.5" y="-554.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;t[1] = nil</text>
<text text-anchor="middle" x="2871.5" y="-538.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2871.5" y="-523.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;t.first = first</text>
<text text-anchor="middle" x="2871.5" y="-508.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;t.last = last</text>
<text text-anchor="middle" x="2871.5" y="-492.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2871.5" y="-477.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;t.id = id</text>
<text text-anchor="middle" x="2871.5" y="-461.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;t.root = root</text>
<text text-anchor="middle" x="2871.5" y="-446.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setmetatable(t,epnf.Node)</text>
<text text-anchor="middle" x="2871.5" y="-431.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return t</text>
<text text-anchor="middle" x="2871.5" y="-415.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="2871.5" y="-400.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2871.5" y="-368.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">local function anon_node (t) </text>
<text text-anchor="middle" x="2871.5" y="-353.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return unpack(t)</text>
<text text-anchor="middle" x="2871.5" y="-338.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_42&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>codeblock_42&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3691.2119,-1060.959C3679.1804,-1029.3255 3649.6396,-964.7313 3600.5,-936.2017 3422.0038,-832.5696 3315.2381,-1005.1285 3137.5,-900.2017 3049.7865,-848.4204 2985.5022,-755.0166 2942.124,-671.0124"/>
<polygon fill="#000000" stroke="#000000" points="2945.124,-669.1907 2937.4654,-661.8697 2938.887,-672.3687 2945.124,-669.1907"/>
</g>
<!-- raw_64 -->
<g id="node65" class="node">
<title>raw_64</title>
<ellipse fill="none" stroke="#000000" cx="3173.5" cy="-495.8008" rx="27" ry="18"/>
<text text-anchor="middle" x="3173.5" y="-491.6008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_43&#45;&gt;raw_64 -->
<g id="edge64" class="edge">
<title>prose_43&#45;&gt;raw_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3836.2289,-1060.6268C3836.3417,-1029.3721 3831.5063,-966.5139 3793.5,-936.2017 3691.8473,-855.1277 3302.6837,-990.8828 3209.5,-900.2017 3105.0209,-798.5285 3145.8652,-597.1754 3165.4104,-523.5756"/>
<polygon fill="#000000" stroke="#000000" points="3168.8572,-524.2398 3168.1198,-513.6707 3162.1053,-522.3929 3168.8572,-524.2398"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="3606,-615.3013 3219,-615.3013 3219,-376.3004 3606,-376.3004 3606,-615.3013"/>
<text text-anchor="middle" x="3412.5" y="-600.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">local L_Cp = L.Cp()</text>
<text text-anchor="middle" x="3412.5" y="-584.701" font-family="Inconsolata" font-size="14.00" fill="#000000">local L_Carg_1 = L.Carg( 1 )</text>
<text text-anchor="middle" x="3412.5" y="-569.301" font-family="Inconsolata" font-size="14.00" fill="#000000">local function E( msg )</text>
<text text-anchor="middle" x="3412.5" y="-553.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return L.Cmt( L_Carg_1 * L.Cc( msg ), parse_error )</text>
<text text-anchor="middle" x="3412.5" y="-538.501" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3412.5" y="-523.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function EOF( msg )</text>
<text text-anchor="middle" x="3412.5" y="-507.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return &#45;L.P( 1 ) + E( msg )</text>
<text text-anchor="middle" x="3412.5" y="-492.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3412.5" y="-476.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">local letter = L.R( &quot;az&quot;, &quot;AZ&quot; ) + L.P&quot;_&quot;</text>
<text text-anchor="middle" x="3412.5" y="-461.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">local digit = L.R&quot;09&quot;</text>
<text text-anchor="middle" x="3412.5" y="-446.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">local ID = L.C( letter * (letter+digit)^0 )</text>
<text text-anchor="middle" x="3412.5" y="-430.7007" font-family="Inconsolata" font-size="14.00" fill="#000000">local function W( s )</text>
<text text-anchor="middle" x="3412.5" y="-415.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return L.P( s ) * &#45;(letter+digit)</text>
<text text-anchor="middle" x="3412.5" y="-399.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3412.5" y="-384.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">local WS = L.S&quot; \r\n\t\f\v&quot;</text>
</g>
<!-- codeblock_44&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>codeblock_44&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3966.938,-1061.0048C3954.5702,-1029.7409 3924.6423,-966.1005 3876.5,-936.2017 3777.0248,-874.4224 3710.714,-968.3653 3615.5,-900.2017 3524.3487,-834.9465 3471.7409,-716.7856 3443.029,-624.9766"/>
<polygon fill="#000000" stroke="#000000" points="3446.3492,-623.8655 3440.0699,-615.332 3439.6571,-625.9188 3446.3492,-623.8655"/>
</g>
<!-- raw_67 -->
<g id="node68" class="node">
<title>raw_67</title>
<ellipse fill="none" stroke="#000000" cx="3651.5" cy="-495.8008" rx="27" ry="18"/>
<text text-anchor="middle" x="3651.5" y="-491.6008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_67 -->
<g id="edge67" class="edge">
<title>prose_45&#45;&gt;raw_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4112.124,-1060.7562C4112.0782,-1029.697 4107.0103,-967.1255 4069.5,-936.2017 4003.7098,-881.9635 3747.6352,-960.649 3687.5,-900.2017 3584.6815,-796.8495 3624.5032,-596.5304 3643.5942,-523.3898"/>
<polygon fill="#000000" stroke="#000000" points="3647.0238,-524.1139 3646.2411,-513.548 3640.264,-522.2959 3647.0238,-524.1139"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="4202.5,-900.1025 3696.5,-900.1025 3696.5,-91.4992 4202.5,-91.4992 4202.5,-900.1025"/>
<text text-anchor="middle" x="3949.5" y="-885.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">function epnf.define( func, g, unsuppressed)</text>
<text text-anchor="middle" x="3949.5" y="-869.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;g = g or {}</text>
<text text-anchor="middle" x="3949.5" y="-854.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local suppressed = {}</text>
<text text-anchor="middle" x="3949.5" y="-838.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local env = {}</text>
<text text-anchor="middle" x="3949.5" y="-823.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local node_mts = {}</text>
<text text-anchor="middle" x="3949.5" y="-808.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local env_index = {</text>
<text text-anchor="middle" x="3949.5" y="-792.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;START = function( name ) g[ 1 ] = name end,</text>
<text text-anchor="middle" x="3949.5" y="-777.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;SUPPRESS = function( ... )</text>
<text text-anchor="middle" x="3949.5" y="-761.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;suppressed = {}</text>
<text text-anchor="middle" x="3949.5" y="-746.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for i = 1, select( &#39;#&#39;, ... ) do</text>
<text text-anchor="middle" x="3949.5" y="-731.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;suppressed[ select( i, ... ) ] = true</text>
<text text-anchor="middle" x="3949.5" y="-715.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3949.5" y="-700.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end,</text>
<text text-anchor="middle" x="3949.5" y="-684.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;E = E,</text>
<text text-anchor="middle" x="3949.5" y="-669.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;EOF = EOF,</text>
<text text-anchor="middle" x="3949.5" y="-654.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ID = ID,</text>
<text text-anchor="middle" x="3949.5" y="-638.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;W = W,</text>
<text text-anchor="middle" x="3949.5" y="-623.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;WS = WS,</text>
<text text-anchor="middle" x="3949.5" y="-607.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;}</text>
<text text-anchor="middle" x="3949.5" y="-592.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; copy lpeg shortcuts</text>
<text text-anchor="middle" x="3949.5" y="-577.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for k,v in pairs( L ) do</text>
<text text-anchor="middle" x="3949.5" y="-561.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if string.match( k, &quot;^%u%w*$&quot; ) then</text>
<text text-anchor="middle" x="3949.5" y="-546.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;env_index[ k ] = v</text>
<text text-anchor="middle" x="3949.5" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3949.5" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3949.5" y="-500.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;setmetatable( env_index, { __index = _G } )</text>
<text text-anchor="middle" x="3949.5" y="-484.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;setmetatable( env, {</text>
<text text-anchor="middle" x="3949.5" y="-469.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;__index = env_index,</text>
<text text-anchor="middle" x="3949.5" y="-453.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;__newindex = function( _, name, val )</text>
<text text-anchor="middle" x="3949.5" y="-438.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if suppressed[ name ] and not unsuppressed then</text>
<text text-anchor="middle" x="3949.5" y="-423.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local v = L.Ct( val ) / anon_node</text>
<text text-anchor="middle" x="3949.5" y="-407.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;g[ name ] = v</text>
<text text-anchor="middle" x="3949.5" y="-392.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3949.5" y="-376.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local v = ( L.Cc(node_mts)</text>
<text text-anchor="middle" x="3949.5" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L.Cc( name ) </text>
<text text-anchor="middle" x="3949.5" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L_Cp </text>
<text text-anchor="middle" x="3949.5" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L.Ct( val ) </text>
<text text-anchor="middle" x="3949.5" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L_Cp </text>
<text text-anchor="middle" x="3949.5" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L.Carg(1)</text>
<text text-anchor="middle" x="3949.5" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L.Carg(2)) / make_ast_node</text>
<text text-anchor="middle" x="3949.5" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;g[name] = v</text>
<text text-anchor="middle" x="3949.5" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3949.5" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3949.5" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;} )</text>
<text text-anchor="middle" x="3949.5" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; call passed function with custom environment (5.1&#45; and 5.2&#45;style)</text>
<text text-anchor="middle" x="3949.5" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if _VERSION == &quot;Lua 5.1&quot; then</text>
<text text-anchor="middle" x="3949.5" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setfenv( func, env )</text>
<text text-anchor="middle" x="3949.5" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3949.5" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;func( env )</text>
<text text-anchor="middle" x="3949.5" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert( g[ 1 ] and g[ g[ 1 ] ], &quot;no start rule defined&quot; )</text>
<text text-anchor="middle" x="3949.5" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return g</text>
<text text-anchor="middle" x="3949.5" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_46&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>codeblock_46&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4240.1926,-1061.0053C4225.9714,-1033.3544 4196.8097,-976.6542 4162.2212,-909.4025"/>
<polygon fill="#000000" stroke="#000000" points="4165.2166,-907.574 4157.5304,-900.282 4158.9916,-910.7756 4165.2166,-907.574"/>
</g>
<!-- raw_70 -->
<g id="node71" class="node">
<title>raw_70</title>
<ellipse fill="none" stroke="#000000" cx="4247.5" cy="-495.8008" rx="27" ry="18"/>
<text text-anchor="middle" x="4247.5" y="-491.6008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_47&#45;&gt;raw_70 -->
<g id="edge70" class="edge">
<title>prose_47&#45;&gt;raw_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4386.4144,-1060.9083C4383.8137,-1031.7049 4375.0301,-973.8375 4345.5,-936.2017 4325.8307,-911.1332 4300.6077,-927.0835 4283.5,-900.2017 4206.2672,-778.8436 4229.2949,-593.9727 4241.8118,-523.9788"/>
<polygon fill="#000000" stroke="#000000" points="4245.3249,-524.2304 4243.7134,-513.7588 4238.4431,-522.9498 4245.3249,-524.2304"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="4742.5,-523.0013 4292.5,-523.0013 4292.5,-468.6004 4742.5,-468.6004 4742.5,-523.0013"/>
<text text-anchor="middle" x="4517.5" y="-507.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">function epnf.parse( g, name, input, ... )</text>
<text text-anchor="middle" x="4517.5" y="-492.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return L.match( L.P( g ), input, 1, name, ... ), name, input</text>
<text text-anchor="middle" x="4517.5" y="-476.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_48&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>codeblock_48&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4525.2518,-1061.0053C4524.1353,-979.5984 4519.5655,-646.3998 4518.0164,-533.4495"/>
<polygon fill="#000000" stroke="#000000" points="4521.513,-533.1732 4517.8761,-523.2222 4514.5136,-533.2693 4521.513,-533.1732"/>
</g>
<!-- raw_73 -->
<g id="node74" class="node">
<title>raw_73</title>
<ellipse fill="none" stroke="#000000" cx="4787.5" cy="-495.8008" rx="27" ry="18"/>
<text text-anchor="middle" x="4787.5" y="-491.6008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_49&#45;&gt;raw_73 -->
<g id="edge73" class="edge">
<title>prose_49&#45;&gt;raw_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4731.9173,-1061.0956C4736.1987,-1028.8663 4745.2511,-959.1718 4751.5,-900.2017 4766.4513,-759.1073 4780.148,-589.8684 4785.319,-523.9804"/>
<polygon fill="#000000" stroke="#000000" points="4788.8122,-524.2023 4786.1021,-513.96 4781.8335,-523.6569 4788.8122,-524.2023"/>
</g>
<!-- leaf_75 -->
<g id="node76" class="node">
<title>leaf_75</title>
<polygon fill="none" stroke="#c0c0c0" points="5304,-546.2018 4833,-546.2018 4833,-445.3999 5304,-445.3999 5304,-546.2018"/>
<text text-anchor="middle" x="5068.5" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">function epnf.parsefile( g, fname, ... )</text>
<text text-anchor="middle" x="5068.5" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local f = assert( io.open( fname, &quot;r&quot; ) )</text>
<text text-anchor="middle" x="5068.5" y="-500.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local a,n,i = epnf.parse( g, fname, assert( f:read&quot;*a&quot; ), ... )</text>
<text text-anchor="middle" x="5068.5" y="-484.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;f:close()</text>
<text text-anchor="middle" x="5068.5" y="-469.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return a,n,i</text>
<text text-anchor="middle" x="5068.5" y="-453.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_50&#45;&gt;leaf_75 -->
<g id="edge75" class="edge">
<title>codeblock_50&#45;&gt;leaf_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4974.5094,-1061.0053C4987.2278,-984.524 5036.9043,-685.7989 5058.4449,-556.2663"/>
<polygon fill="#000000" stroke="#000000" points="5061.9438,-556.5613 5060.1317,-546.1226 5055.0387,-555.413 5061.9438,-556.5613"/>
</g>
<!-- raw_76 -->
<g id="node77" class="node">
<title>raw_76</title>
<ellipse fill="none" stroke="#000000" cx="5349.5" cy="-495.8008" rx="27" ry="18"/>
<text text-anchor="middle" x="5349.5" y="-491.6008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_51&#45;&gt;raw_76 -->
<g id="edge76" class="edge">
<title>prose_51&#45;&gt;raw_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5243.5937,-1061.5187C5261.0152,-1030.2282 5296.4042,-962.3205 5312.5,-900.2017 5348.1805,-762.4996 5350.6014,-590.6498 5350.0259,-524.0184"/>
<polygon fill="#000000" stroke="#000000" points="5353.5243,-523.8508 5349.9071,-513.8926 5346.5247,-523.933 5353.5243,-523.8508"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="5844.5,-546.2018 5394.5,-546.2018 5394.5,-445.3999 5844.5,-445.3999 5844.5,-546.2018"/>
<text text-anchor="middle" x="5619.5" y="-530.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">function epnf.parsestring( g, str, ... )</text>
<text text-anchor="middle" x="5619.5" y="-515.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local s = string.sub( str, 1, 20 )</text>
<text text-anchor="middle" x="5619.5" y="-500.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if #s &lt; #str then s = s .. &quot;...&quot; end</text>
<text text-anchor="middle" x="5619.5" y="-484.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local name = &quot;[\&quot;&quot; .. string.gsub( s, &quot;\n&quot;, &quot;\\n&quot; ) .. &quot;\&quot;]&quot;</text>
<text text-anchor="middle" x="5619.5" y="-469.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return epnf.parse( g, name, str, ... )</text>
<text text-anchor="middle" x="5619.5" y="-453.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_52&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>codeblock_52&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5503.2229,-1061.0053C5518.9571,-984.524 5580.4125,-685.7989 5607.0607,-556.2663"/>
<polygon fill="#000000" stroke="#000000" points="5610.5606,-556.6228 5609.1475,-546.1226 5603.7042,-555.2122 5610.5606,-556.6228"/>
</g>
<!-- raw_79 -->
<g id="node80" class="node">
<title>raw_79</title>
<ellipse fill="none" stroke="#000000" cx="5889.5" cy="-495.8008" rx="27" ry="18"/>
<text text-anchor="middle" x="5889.5" y="-491.6008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_53&#45;&gt;raw_79 -->
<g id="edge79" class="edge">
<title>prose_53&#45;&gt;raw_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5778.5389,-1061.6586C5797.5825,-1030.5844 5836.225,-963.001 5853.5,-900.2017 5891.2207,-763.0771 5891.8447,-590.8944 5890.4162,-524.0962"/>
<polygon fill="#000000" stroke="#000000" points="5893.9114,-523.8544 5890.1646,-513.9442 5886.9135,-524.0279 5893.9114,-523.8544"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="6378,-700.4018 5935,-700.4018 5935,-291.1999 6378,-291.1999 6378,-700.4018"/>
<text text-anchor="middle" x="6156.5" y="-685.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">epnf.raise = raise_error</text>
<text text-anchor="middle" x="6156.5" y="-654.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">local function write( ... ) return io.stderr:write( ... ) end</text>
<text text-anchor="middle" x="6156.5" y="-622.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local function dump_ast( node, prefix )</text>
<text text-anchor="middle" x="6156.5" y="-607.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if type( node ) == &quot;table&quot; then</text>
<text text-anchor="middle" x="6156.5" y="-591.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;write( &quot;{&quot; )</text>
<text text-anchor="middle" x="6156.5" y="-576.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if next( node ) ~= nil then</text>
<text text-anchor="middle" x="6156.5" y="-561.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;write( &quot;\n&quot; )</text>
<text text-anchor="middle" x="6156.5" y="-545.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if type( node.id ) == &quot;string&quot; and</text>
<text text-anchor="middle" x="6156.5" y="-530.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;type( node.pos ) == &quot;number&quot; then</text>
<text text-anchor="middle" x="6156.5" y="-514.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;write( prefix, &quot; &#160;id = &quot;, node.id,</text>
<text text-anchor="middle" x="6156.5" y="-499.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;, &#160;pos = &quot;, tostring( node.pos ), &quot;\n&quot; )</text>
<text text-anchor="middle" x="6156.5" y="-484.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6156.5" y="-468.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for k,v in pairs( node ) do</text>
<text text-anchor="middle" x="6156.5" y="-453.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if k ~= &quot;id&quot; and k ~= &quot;pos&quot; then</text>
<text text-anchor="middle" x="6156.5" y="-437.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;write( prefix, &quot; &#160;&quot;, tostring( k ), &quot; = &quot; )</text>
<text text-anchor="middle" x="6156.5" y="-422.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dump_ast( v, prefix..&quot; &#160;&quot; )</text>
<text text-anchor="middle" x="6156.5" y="-407.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6156.5" y="-391.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6156.5" y="-376.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="6156.5" y="-360.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;write( prefix, &quot;}\n&quot; )</text>
<text text-anchor="middle" x="6156.5" y="-345.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="6156.5" y="-330.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;write( tostring( node ), &quot;\n&quot; )</text>
<text text-anchor="middle" x="6156.5" y="-314.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="6156.5" y="-299.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_54&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>codeblock_54&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6038.285,-1061.0053C6049.4199,-1007.7674 6083.078,-846.8429 6111.6454,-710.2577"/>
<polygon fill="#000000" stroke="#000000" points="6115.0716,-710.9722 6113.6931,-700.4675 6108.2199,-709.5391 6115.0716,-710.9722"/>
</g>
<!-- raw_82 -->
<g id="node83" class="node">
<title>raw_82</title>
<ellipse fill="none" stroke="#000000" cx="6423.5" cy="-495.8008" rx="27" ry="18"/>
<text text-anchor="middle" x="6423.5" y="-491.6008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_55&#45;&gt;raw_82 -->
<g id="edge82" class="edge">
<title>prose_55&#45;&gt;raw_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6306.867,-1062.2447C6326.9096,-1031.548 6368.146,-963.8147 6386.5,-900.2017 6425.9341,-763.5272 6426.1918,-591.0851 6424.5313,-524.1568"/>
<polygon fill="#000000" stroke="#000000" points="6428.0249,-523.8811 6424.2425,-513.9844 6421.0278,-524.0797 6428.0249,-523.8811"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="6688,-523.0013 6469,-523.0013 6469,-468.6004 6688,-468.6004 6688,-523.0013"/>
<text text-anchor="middle" x="6578.5" y="-507.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">function epnf.dumpast( node )</text>
<text text-anchor="middle" x="6578.5" y="-492.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return dump_ast( node, &quot;&quot; )</text>
<text text-anchor="middle" x="6578.5" y="-476.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_56&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>codeblock_56&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6498.075,-1061.0053C6509.6587,-979.5984 6557.0707,-646.3998 6573.1428,-533.4495"/>
<polygon fill="#000000" stroke="#000000" points="6576.6544,-533.6156 6574.5981,-523.2222 6569.7242,-532.6294 6576.6544,-533.6156"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="6733.5" cy="-495.8008" rx="27" ry="18"/>
<text text-anchor="middle" x="6733.5" y="-491.6008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_57&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_57&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6668.2376,-1061.1531C6674.812,-1029.0139 6688.5049,-959.4558 6696.5,-900.2017 6715.4766,-759.5604 6727.4866,-590.0621 6731.753,-524.0425"/>
<polygon fill="#000000" stroke="#000000" points="6735.2497,-524.204 6732.3934,-514.0014 6728.2639,-523.7583 6735.2497,-524.204"/>
</g>
<!-- leaf_87 -->
<g id="node88" class="node">
<title>leaf_87</title>
<polygon fill="none" stroke="#c0c0c0" points="6872,-513.8008 6779,-513.8008 6779,-477.8008 6872,-477.8008 6872,-513.8008"/>
<text text-anchor="middle" x="6825.5" y="-492.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">return epnf</text>
</g>
<!-- codeblock_58&#45;&gt;leaf_87 -->
<g id="edge87" class="edge">
<title>codeblock_58&#45;&gt;leaf_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6817.7482,-1061.0053C6818.8971,-977.2364 6823.7026,-626.8525 6825.1107,-524.1856"/>
<polygon fill="#000000" stroke="#000000" points="6828.6132,-524.0215 6825.2507,-513.9744 6821.6138,-523.9254 6828.6132,-524.0215"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="2560,-55.6015 2145,-55.6015 2145,.2015 2560,.2015 2560,-55.6015"/>
<text text-anchor="middle" x="2352.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">This needs to look for a metatable in the defined parser.</text>
</g>
<!-- raw_59&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>raw_59&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2501.1977,-477.8587C2512.5756,-417.6572 2541.6025,-219.4566 2460.5,-91.4 2452.8347,-79.2969 2441.9728,-69.2067 2430.0645,-60.8945"/>
<polygon fill="#000000" stroke="#000000" points="2431.9666,-57.9564 2421.6796,-55.421 2428.1402,-63.8181 2431.9666,-57.9564"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="2853,-55.6015 2578,-55.6015 2578,.2015 2853,.2015 2853,-55.6015"/>
<text text-anchor="middle" x="2715.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">Which means we need to pass that in. </text>
</g>
<!-- raw_61&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>raw_61&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2565.7077,-477.8392C2554.0219,-417.576 2524.0611,-219.2031 2605.5,-91.4 2613.2085,-79.303 2624.0941,-69.2423 2636.0464,-60.9638"/>
<polygon fill="#000000" stroke="#000000" points="2637.9726,-63.8863 2644.4655,-55.5142 2634.1688,-58.0099 2637.9726,-63.8863"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="3297,-47.6021 3050,-47.6021 3050,-7.7979 3297,-7.7979 3297,-47.6021"/>
<text text-anchor="middle" x="3173.5" y="-16.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> some useful/common lpeg patterns</text>
</g>
<!-- raw_64&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>raw_64&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3173.5,-477.7376C3173.5,-406.7689 3173.5,-146.6119 3173.5,-57.7137"/>
<polygon fill="#000000" stroke="#000000" points="3177.0001,-57.51 3173.5,-47.5101 3170.0001,-57.5101 3177.0001,-57.51"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="3876.5,-55.0004 3426.5,-55.0004 3426.5,-.3996 3876.5,-.3996 3876.5,-55.0004"/>
<text text-anchor="middle" x="3651.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">setup an environment where you can easily define lpeg grammars</text>
<text text-anchor="middle" x="3651.5" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000"> with lots of syntax sugar</text>
</g>
<!-- raw_67&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>raw_67&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3651.5,-477.7376C3651.5,-408.6664 3651.5,-160.3885 3651.5,-65.2049"/>
<polygon fill="#000000" stroke="#000000" points="3655.0001,-65.1632 3651.5,-55.1633 3648.0001,-65.1633 3655.0001,-65.1632"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="4486.5,-55.0004 4008.5,-55.0004 4008.5,-.3996 4486.5,-.3996 4486.5,-55.0004"/>
<text text-anchor="middle" x="4247.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> apply a given grammar to a string and return the ast. also allows</text>
<text text-anchor="middle" x="4247.5" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000"> to set the name of the string for error messages</text>
</g>
<!-- raw_70&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>raw_70&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4247.5,-477.7376C4247.5,-408.6664 4247.5,-160.3885 4247.5,-65.2049"/>
<polygon fill="#000000" stroke="#000000" points="4251.0001,-65.1632 4247.5,-55.1633 4244.0001,-65.1633 4251.0001,-65.1632"/>
</g>
<!-- leaf_74 -->
<g id="node75" class="node">
<title>leaf_74</title>
<polygon fill="none" stroke="#c0c0c0" points="5030,-47.6021 4545,-47.6021 4545,-7.7979 5030,-7.7979 5030,-47.6021"/>
<text text-anchor="middle" x="4787.5" y="-16.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> apply a given grammar to the contents of a file and return the ast</text>
</g>
<!-- raw_73&#45;&gt;leaf_74 -->
<g id="edge74" class="edge">
<title>raw_73&#45;&gt;leaf_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4787.5,-477.7376C4787.5,-406.7689 4787.5,-146.6119 4787.5,-57.7137"/>
<polygon fill="#000000" stroke="#000000" points="4791.0001,-57.51 4787.5,-47.5101 4784.0001,-57.5101 4791.0001,-57.51"/>
</g>
<!-- leaf_77 -->
<g id="node78" class="node">
<title>leaf_77</title>
<polygon fill="none" stroke="#c0c0c0" points="5595.5,-55.0004 5103.5,-55.0004 5103.5,-.3996 5595.5,-.3996 5595.5,-55.0004"/>
<text text-anchor="middle" x="5349.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> apply a given grammar to a string and return the ast. automatically</text>
<text text-anchor="middle" x="5349.5" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000"> picks a sensible name for error messages</text>
</g>
<!-- raw_76&#45;&gt;leaf_77 -->
<g id="edge77" class="edge">
<title>raw_76&#45;&gt;leaf_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5349.5,-477.7376C5349.5,-408.6664 5349.5,-160.3885 5349.5,-65.2049"/>
<polygon fill="#000000" stroke="#000000" points="5353.0001,-65.1632 5349.5,-55.1633 5346.0001,-65.1633 5353.0001,-65.1632"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="6111,-47.6021 5668,-47.6021 5668,-7.7979 6111,-7.7979 6111,-47.6021"/>
<text text-anchor="middle" x="5889.5" y="-16.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> export a function for reporting errors during ast validation</text>
</g>
<!-- raw_79&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>raw_79&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5889.5,-477.7376C5889.5,-406.7689 5889.5,-146.6119 5889.5,-57.7137"/>
<polygon fill="#000000" stroke="#000000" points="5893.0001,-57.51 5889.5,-47.5101 5886.0001,-57.5101 5893.0001,-57.51"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="6641,-55.0004 6198,-55.0004 6198,-.3996 6641,-.3996 6641,-55.0004"/>
<text text-anchor="middle" x="6419.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> write a string representation of the given ast to stderr for</text>
<text text-anchor="middle" x="6419.5" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000"> debugging</text>
</g>
<!-- raw_82&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>raw_82&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6423.3456,-477.7376C6422.7554,-408.6664 6420.6338,-160.3885 6419.8205,-65.2049"/>
<polygon fill="#000000" stroke="#000000" points="6423.3201,-65.1329 6419.7347,-55.1633 6416.3204,-65.1928 6423.3201,-65.1329"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="6815.5,-47.6021 6659.5,-47.6021 6659.5,-7.7979 6815.5,-7.7979 6815.5,-47.6021"/>
<text text-anchor="middle" x="6737.5" y="-16.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> return module table</text>
</g>
<!-- raw_85&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>raw_85&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6733.6544,-477.7376C6734.2608,-406.7689 6736.4839,-146.6119 6737.2435,-57.7137"/>
<polygon fill="#000000" stroke="#000000" points="6740.745,-57.5397 6737.3307,-47.5101 6733.7453,-57.4798 6740.745,-57.5397"/>
</g>
</g>
</svg>