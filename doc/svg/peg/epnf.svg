<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="6374pt" height="961pt"
 viewBox="0.00 0.00 6374.34 960.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 956.8016)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-956.8016 6370.3424,-956.8016 6370.3424,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="65.6592" cy="-934.8016" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="65.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 289</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="65.6592" cy="-476.4008" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="65.6592" y="-472.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;100</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M65.6592,-916.5489C65.6592,-845.9669 65.6592,-590.5847 65.6592,-504.7597"/>
<polygon fill="#000000" stroke="#000000" points="69.1593,-504.7057 65.6592,-494.7057 62.1593,-504.7057 69.1593,-504.7057"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="65.6592" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="65.6592" y="-13.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">0 : </text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M65.6592,-458.1481C65.6592,-387.5661 65.6592,-132.1839 65.6592,-46.3588"/>
<polygon fill="#000000" stroke="#000000" points="69.1593,-46.3048 65.6592,-36.3049 62.1593,-46.3049 69.1593,-46.3048"/>
</g>
<!-- codeblock_3 -->
<g id="node4" class="node">
<title>codeblock_3</title>
<ellipse fill="none" stroke="#000000" cx="328.6592" cy="-934.8016" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="328.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_3</text>
</g>
<!-- leaf_11 -->
<g id="node5" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="508.1592,-619.2014 149.1592,-619.2014 149.1592,-333.6002 508.1592,-333.6002 508.1592,-619.2014"/>
<text text-anchor="middle" x="328.6592" y="-604.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require( &quot;lpeg&quot; )</text>
<text text-anchor="middle" x="328.6592" y="-588.701" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;&#45;[[</text>
<text text-anchor="middle" x="328.6592" y="-573.301" font-family="Inconsolata" font-size="14.00" fill="#000000">local assert = assert</text>
<text text-anchor="middle" x="328.6592" y="-557.901" font-family="Inconsolata" font-size="14.00" fill="#000000">local _VERSION = assert( _VERSION )</text>
<text text-anchor="middle" x="328.6592" y="-542.501" font-family="Inconsolata" font-size="14.00" fill="#000000">local string, io = assert( string ), assert( io )</text>
<text text-anchor="middle" x="328.6592" y="-527.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">local error = assert( error )</text>
<text text-anchor="middle" x="328.6592" y="-511.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">local pairs = assert( pairs )</text>
<text text-anchor="middle" x="328.6592" y="-496.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">local next = assert( next )</text>
<text text-anchor="middle" x="328.6592" y="-480.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">local type = assert( type )</text>
<text text-anchor="middle" x="328.6592" y="-465.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">local tostring = assert( tostring )</text>
<text text-anchor="middle" x="328.6592" y="-450.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">local setmetatable = assert( setmetatable )</text>
<text text-anchor="middle" x="328.6592" y="-418.7007" font-family="Inconsolata" font-size="14.00" fill="#000000">if _VERSION == &quot;Lua 5.1&quot; then</text>
<text text-anchor="middle" x="328.6592" y="-403.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local setfenv = assert( setfenv )</text>
<text text-anchor="middle" x="328.6592" y="-387.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="328.6592" y="-372.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local setfenv</text>
<text text-anchor="middle" x="328.6592" y="-357.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="328.6592" y="-341.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;]]</text>
</g>
<!-- codeblock_3&#45;&gt;leaf_11 -->
<g id="edge3" class="edge">
<title>codeblock_3&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M328.6592,-916.5489C328.6592,-868.8403 328.6592,-736.6996 328.6592,-629.56"/>
<polygon fill="#000000" stroke="#000000" points="332.1593,-629.2733 328.6592,-619.2734 325.1593,-629.2734 332.1593,-629.2733"/>
</g>
<!-- codeblock_4 -->
<g id="node6" class="node">
<title>codeblock_4</title>
<ellipse fill="none" stroke="#000000" cx="586.6592" cy="-934.8016" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="586.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_4</text>
</g>
<!-- leaf_12 -->
<g id="node7" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="647.1592,-494.4008 526.1592,-494.4008 526.1592,-458.4008 647.1592,-458.4008 647.1592,-494.4008"/>
<text text-anchor="middle" x="586.6592" y="-472.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">local epnf = {}</text>
</g>
<!-- codeblock_4&#45;&gt;leaf_12 -->
<g id="edge4" class="edge">
<title>codeblock_4&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M586.6592,-916.5489C586.6592,-845.9669 586.6592,-590.5847 586.6592,-504.7597"/>
<polygon fill="#000000" stroke="#000000" points="590.1593,-504.7057 586.6592,-494.7057 583.1593,-504.7057 590.1593,-504.7057"/>
</g>
<!-- codeblock_5 -->
<g id="node8" class="node">
<title>codeblock_5</title>
<ellipse fill="none" stroke="#000000" cx="778.6592" cy="-934.8016" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="778.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_5</text>
</g>
<!-- leaf_13 -->
<g id="node9" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="891.6592,-494.4008 665.6592,-494.4008 665.6592,-458.4008 891.6592,-458.4008 891.6592,-494.4008"/>
<text text-anchor="middle" x="778.6592" y="-472.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">epnf.Node = require &quot;peg/node&quot;</text>
</g>
<!-- codeblock_5&#45;&gt;leaf_13 -->
<g id="edge5" class="edge">
<title>codeblock_5&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M778.6592,-916.5489C778.6592,-845.9669 778.6592,-590.5847 778.6592,-504.7597"/>
<polygon fill="#000000" stroke="#000000" points="782.1593,-504.7057 778.6592,-494.7057 775.1593,-504.7057 782.1593,-504.7057"/>
</g>
<!-- codeblock_6 -->
<g id="node10" class="node">
<title>codeblock_6</title>
<ellipse fill="none" stroke="#000000" cx="1064.6592" cy="-934.8016" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="1064.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_6</text>
</g>
<!-- leaf_14 -->
<g id="node11" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="1219.6592,-503.6013 909.6592,-503.6013 909.6592,-449.2003 1219.6592,-449.2003 1219.6592,-503.6013"/>
<text text-anchor="middle" x="1064.6592" y="-488.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function max( a, b )</text>
<text text-anchor="middle" x="1064.6592" y="-472.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if a &lt; b then return b else return a end</text>
<text text-anchor="middle" x="1064.6592" y="-457.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_6&#45;&gt;leaf_14 -->
<g id="edge6" class="edge">
<title>codeblock_6&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1064.6592,-916.5489C1064.6592,-848.325 1064.6592,-607.4426 1064.6592,-513.9162"/>
<polygon fill="#000000" stroke="#000000" points="1068.1593,-513.7777 1064.6592,-503.7777 1061.1593,-513.7778 1068.1593,-513.7777"/>
</g>
<!-- codeblock_7 -->
<g id="node12" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="1399.6592" cy="-934.8016" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="1399.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_7</text>
</g>
<!-- leaf_15 -->
<g id="node13" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="1561.6592,-611.2014 1237.6592,-611.2014 1237.6592,-341.6002 1561.6592,-341.6002 1561.6592,-611.2014"/>
<text text-anchor="middle" x="1399.6592" y="-596.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">local function getline( s, p )</text>
<text text-anchor="middle" x="1399.6592" y="-580.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local lno, sol = 1, 1</text>
<text text-anchor="middle" x="1399.6592" y="-565.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = 1, p do</text>
<text text-anchor="middle" x="1399.6592" y="-549.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if string.sub( s, i, i ) == &quot;\n&quot; then</text>
<text text-anchor="middle" x="1399.6592" y="-534.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;lno = lno + 1</text>
<text text-anchor="middle" x="1399.6592" y="-519.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;sol = i + 1</text>
<text text-anchor="middle" x="1399.6592" y="-503.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1399.6592" y="-488.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="1399.6592" y="-472.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local eol = #s</text>
<text text-anchor="middle" x="1399.6592" y="-457.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for i = sol, #s do</text>
<text text-anchor="middle" x="1399.6592" y="-442.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if string.sub( s, i, i ) == &quot;\n&quot; then</text>
<text text-anchor="middle" x="1399.6592" y="-426.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;eol = i &#45; 1</text>
<text text-anchor="middle" x="1399.6592" y="-411.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;break</text>
<text text-anchor="middle" x="1399.6592" y="-395.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1399.6592" y="-380.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="1399.6592" y="-365.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return string.sub( s, sol, eol ), lno, sol</text>
<text text-anchor="middle" x="1399.6592" y="-349.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_15 -->
<g id="edge7" class="edge">
<title>codeblock_7&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1399.6592,-916.5489C1399.6592,-867.6215 1399.6592,-729.8929 1399.6592,-621.3996"/>
<polygon fill="#000000" stroke="#000000" points="1403.1593,-621.3276 1399.6592,-611.3276 1396.1593,-621.3277 1403.1593,-621.3276"/>
</g>
<!-- codeblock_8 -->
<g id="node14" class="node">
<title>codeblock_8</title>
<ellipse fill="none" stroke="#000000" cx="1790.6592" cy="-934.8016" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="1790.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_8</text>
</g>
<!-- leaf_16 -->
<g id="node15" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="2001.6592,-557.4011 1579.6592,-557.4011 1579.6592,-395.4005 2001.6592,-395.4005 2001.6592,-557.4011"/>
<text text-anchor="middle" x="1790.6592" y="-542.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local function raise_error( n, msg, s, p )</text>
<text text-anchor="middle" x="1790.6592" y="-526.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local line, lno, sol = getline( s, p )</text>
<text text-anchor="middle" x="1790.6592" y="-511.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert( p &lt;= #s )</text>
<text text-anchor="middle" x="1790.6592" y="-496.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local clen = max( 70, p+10&#45;sol )</text>
<text text-anchor="middle" x="1790.6592" y="-480.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if #line &gt; clen then</text>
<text text-anchor="middle" x="1790.6592" y="-465.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;line = string.sub( line, 1, clen ) .. &quot;...&quot;</text>
<text text-anchor="middle" x="1790.6592" y="-449.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="1790.6592" y="-434.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local marker = string.rep( &quot; &quot;, p&#45;sol ) .. &quot;^&quot;</text>
<text text-anchor="middle" x="1790.6592" y="-419.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;error(&quot;:&quot;..lno..&quot;: &quot;..msg..&quot;\n&quot;..line..&quot;\n&quot;..marker, 0 )</text>
<text text-anchor="middle" x="1790.6592" y="-403.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_8&#45;&gt;leaf_16 -->
<g id="edge8" class="edge">
<title>codeblock_8&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1790.6592,-916.5489C1790.6592,-859.0632 1790.6592,-678.9937 1790.6592,-567.7826"/>
<polygon fill="#000000" stroke="#000000" points="1794.1593,-567.5741 1790.6592,-557.5742 1787.1593,-567.5742 1794.1593,-567.5741"/>
</g>
<!-- codeblock_9 -->
<g id="node16" class="node">
<title>codeblock_9</title>
<ellipse fill="none" stroke="#000000" cx="2241.6592" cy="-934.8016" rx="59.5308" ry="18"/>
<text text-anchor="middle" x="2241.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_9</text>
</g>
<!-- leaf_17 -->
<g id="node17" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="2463.1592,-580.6013 2020.1592,-580.6013 2020.1592,-372.2003 2463.1592,-372.2003 2463.1592,-580.6013"/>
<text text-anchor="middle" x="2241.6592" y="-565.301" font-family="Inconsolata" font-size="14.00" fill="#000000">local function parse_error( s, p, n, e )</text>
<text text-anchor="middle" x="2241.6592" y="-549.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if p &lt;= #s then</text>
<text text-anchor="middle" x="2241.6592" y="-534.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local msg = &quot;parse error&quot;</text>
<text text-anchor="middle" x="2241.6592" y="-519.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if e then msg = msg .. &quot;, &quot; .. e end</text>
<text text-anchor="middle" x="2241.6592" y="-503.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;raise_error( n, msg, s, p )</text>
<text text-anchor="middle" x="2241.6592" y="-488.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else &#45;&#45; parse error at end of input</text>
<text text-anchor="middle" x="2241.6592" y="-472.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local _,lno = string.gsub( s, &quot;\n&quot;, &quot;\n&quot; )</text>
<text text-anchor="middle" x="2241.6592" y="-457.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if string.sub( s, &#45;1, &#45;1 ) ~= &quot;\n&quot; then lno = lno + 1 end</text>
<text text-anchor="middle" x="2241.6592" y="-442.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local msg = &quot;: parse error at &lt;eof&gt;&quot;</text>
<text text-anchor="middle" x="2241.6592" y="-426.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if e then msg = msg .. &quot;, &quot; .. e end</text>
<text text-anchor="middle" x="2241.6592" y="-411.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;error( n..&quot;:&quot;..lno..msg, 0 )</text>
<text text-anchor="middle" x="2241.6592" y="-395.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="2241.6592" y="-380.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_9&#45;&gt;leaf_17 -->
<g id="edge9" class="edge">
<title>codeblock_9&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2241.6592,-916.5489C2241.6592,-862.8983 2241.6592,-702.4742 2241.6592,-590.903"/>
<polygon fill="#000000" stroke="#000000" points="2245.1593,-590.6012 2241.6592,-580.6013 2238.1593,-590.6013 2245.1593,-590.6012"/>
</g>
<!-- section_10 -->
<g id="node18" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="2566.6592" cy="-934.8016" rx="52.7641" ry="18"/>
<text text-anchor="middle" x="2566.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section_10</text>
</g>
<!-- header_18 -->
<g id="node19" class="node">
<title>header_18</title>
<ellipse fill="none" stroke="#000000" cx="2566.6592" cy="-476.4008" rx="85.1565" ry="18"/>
<text text-anchor="middle" x="2566.6592" y="-472.2008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : make_ast_node</text>
</g>
<!-- section_10&#45;&gt;header_18 -->
<g id="edge10" class="edge">
<title>section_10&#45;&gt;header_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2566.6592,-916.5489C2566.6592,-845.9669 2566.6592,-590.5847 2566.6592,-504.7597"/>
<polygon fill="#000000" stroke="#000000" points="2570.1593,-504.7057 2566.6592,-494.7057 2563.1593,-504.7057 2570.1593,-504.7057"/>
</g>
<!-- codeblock_19 -->
<g id="node20" class="node">
<title>codeblock_19</title>
<ellipse fill="none" stroke="#000000" cx="2926.6592" cy="-934.8016" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="2926.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_19</text>
</g>
<!-- leaf_28 -->
<g id="node21" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="3183.1592,-642.4014 2670.1592,-642.4014 2670.1592,-310.4002 3183.1592,-310.4002 3183.1592,-642.4014"/>
<text text-anchor="middle" x="2926.6592" y="-627.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">local function make_ast_node(metatables, id, first, t, last, str, root)</text>
<text text-anchor="middle" x="2926.6592" y="-611.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if type(t[1]) == &quot;table&quot; then &#160;&#160;&#160;</text>
<text text-anchor="middle" x="2926.6592" y="-596.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if t[1].span then</text>
<text text-anchor="middle" x="2926.6592" y="-581.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;t.val = t[1].val</text>
<text text-anchor="middle" x="2926.6592" y="-565.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;t.first = t[1].first</text>
<text text-anchor="middle" x="2926.6592" y="-550.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;t.last = t[1].last</text>
<text text-anchor="middle" x="2926.6592" y="-534.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;t[1] = nil</text>
<text text-anchor="middle" x="2926.6592" y="-519.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2926.6592" y="-504.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;t.first = first</text>
<text text-anchor="middle" x="2926.6592" y="-488.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;t.last = last</text>
<text text-anchor="middle" x="2926.6592" y="-473.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2926.6592" y="-457.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;t.id = id</text>
<text text-anchor="middle" x="2926.6592" y="-442.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;t.root = root</text>
<text text-anchor="middle" x="2926.6592" y="-427.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setmetatable(t,epnf.Node)</text>
<text text-anchor="middle" x="2926.6592" y="-411.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return t</text>
<text text-anchor="middle" x="2926.6592" y="-396.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="2926.6592" y="-380.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2926.6592" y="-349.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local function anon_node (t) </text>
<text text-anchor="middle" x="2926.6592" y="-334.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return unpack(t)</text>
<text text-anchor="middle" x="2926.6592" y="-318.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_19&#45;&gt;leaf_28 -->
<g id="edge11" class="edge">
<title>codeblock_19&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2926.6592,-916.5489C2926.6592,-872.2323 2926.6592,-755.0626 2926.6592,-652.752"/>
<polygon fill="#000000" stroke="#000000" points="2930.1593,-652.5839 2926.6592,-642.5839 2923.1593,-652.584 2930.1593,-652.5839"/>
</g>
<!-- codeblock_20 -->
<g id="node22" class="node">
<title>codeblock_20</title>
<ellipse fill="none" stroke="#000000" cx="3394.6592" cy="-934.8016" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="3394.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_20</text>
</g>
<!-- leaf_29 -->
<g id="node23" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="3588.1592,-595.9013 3201.1592,-595.9013 3201.1592,-356.9003 3588.1592,-356.9003 3588.1592,-595.9013"/>
<text text-anchor="middle" x="3394.6592" y="-580.701" font-family="Inconsolata" font-size="14.00" fill="#000000">local L_Cp = L.Cp()</text>
<text text-anchor="middle" x="3394.6592" y="-565.301" font-family="Inconsolata" font-size="14.00" fill="#000000">local L_Carg_1 = L.Carg( 1 )</text>
<text text-anchor="middle" x="3394.6592" y="-549.901" font-family="Inconsolata" font-size="14.00" fill="#000000">local function E( msg )</text>
<text text-anchor="middle" x="3394.6592" y="-534.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return L.Cmt( L_Carg_1 * L.Cc( msg ), parse_error )</text>
<text text-anchor="middle" x="3394.6592" y="-519.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3394.6592" y="-503.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function EOF( msg )</text>
<text text-anchor="middle" x="3394.6592" y="-488.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return &#45;L.P( 1 ) + E( msg )</text>
<text text-anchor="middle" x="3394.6592" y="-472.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3394.6592" y="-457.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">local letter = L.R( &quot;az&quot;, &quot;AZ&quot; ) + L.P&quot;_&quot;</text>
<text text-anchor="middle" x="3394.6592" y="-442.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">local digit = L.R&quot;09&quot;</text>
<text text-anchor="middle" x="3394.6592" y="-426.7007" font-family="Inconsolata" font-size="14.00" fill="#000000">local ID = L.C( letter * (letter+digit)^0 )</text>
<text text-anchor="middle" x="3394.6592" y="-411.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">local function W( s )</text>
<text text-anchor="middle" x="3394.6592" y="-395.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return L.P( s ) * &#45;(letter+digit)</text>
<text text-anchor="middle" x="3394.6592" y="-380.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3394.6592" y="-365.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">local WS = L.S&quot; \r\n\t\f\v&quot;</text>
</g>
<!-- codeblock_20&#45;&gt;leaf_29 -->
<g id="edge12" class="edge">
<title>codeblock_20&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3394.6592,-916.5489C3394.6592,-865.3204 3394.6592,-716.7419 3394.6592,-606.2986"/>
<polygon fill="#000000" stroke="#000000" points="3398.1593,-606.0706 3394.6592,-596.0706 3391.1593,-606.0706 3398.1593,-606.0706"/>
</g>
<!-- codeblock_21 -->
<g id="node24" class="node">
<title>codeblock_21</title>
<ellipse fill="none" stroke="#000000" cx="3859.6592" cy="-934.8016" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="3859.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_21</text>
</g>
<!-- leaf_30 -->
<g id="node25" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="4112.6592,-880.7025 3606.6592,-880.7025 3606.6592,-72.0992 4112.6592,-72.0992 4112.6592,-880.7025"/>
<text text-anchor="middle" x="3859.6592" y="-865.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">function epnf.define( func, g, unsuppressed)</text>
<text text-anchor="middle" x="3859.6592" y="-850.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;g = g or {}</text>
<text text-anchor="middle" x="3859.6592" y="-834.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local suppressed = {}</text>
<text text-anchor="middle" x="3859.6592" y="-819.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local env = {}</text>
<text text-anchor="middle" x="3859.6592" y="-804.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local node_mts = {}</text>
<text text-anchor="middle" x="3859.6592" y="-788.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local env_index = {</text>
<text text-anchor="middle" x="3859.6592" y="-773.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;START = function( name ) g[ 1 ] = name end,</text>
<text text-anchor="middle" x="3859.6592" y="-757.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;SUPPRESS = function( ... )</text>
<text text-anchor="middle" x="3859.6592" y="-742.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;suppressed = {}</text>
<text text-anchor="middle" x="3859.6592" y="-727.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for i = 1, select( &#39;#&#39;, ... ) do</text>
<text text-anchor="middle" x="3859.6592" y="-711.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;suppressed[ select( i, ... ) ] = true</text>
<text text-anchor="middle" x="3859.6592" y="-696.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3859.6592" y="-680.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end,</text>
<text text-anchor="middle" x="3859.6592" y="-665.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;E = E,</text>
<text text-anchor="middle" x="3859.6592" y="-650.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;EOF = EOF,</text>
<text text-anchor="middle" x="3859.6592" y="-634.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ID = ID,</text>
<text text-anchor="middle" x="3859.6592" y="-619.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;W = W,</text>
<text text-anchor="middle" x="3859.6592" y="-603.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;WS = WS,</text>
<text text-anchor="middle" x="3859.6592" y="-588.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;}</text>
<text text-anchor="middle" x="3859.6592" y="-573.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; copy lpeg shortcuts</text>
<text text-anchor="middle" x="3859.6592" y="-557.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for k,v in pairs( L ) do</text>
<text text-anchor="middle" x="3859.6592" y="-542.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if string.match( k, &quot;^%u%w*$&quot; ) then</text>
<text text-anchor="middle" x="3859.6592" y="-526.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;env_index[ k ] = v</text>
<text text-anchor="middle" x="3859.6592" y="-511.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3859.6592" y="-496.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3859.6592" y="-480.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;setmetatable( env_index, { __index = _G } )</text>
<text text-anchor="middle" x="3859.6592" y="-465.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;setmetatable( env, {</text>
<text text-anchor="middle" x="3859.6592" y="-449.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;__index = env_index,</text>
<text text-anchor="middle" x="3859.6592" y="-434.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;__newindex = function( _, name, val )</text>
<text text-anchor="middle" x="3859.6592" y="-419.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if suppressed[ name ] and not unsuppressed then</text>
<text text-anchor="middle" x="3859.6592" y="-403.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local v = L.Ct( val ) / anon_node</text>
<text text-anchor="middle" x="3859.6592" y="-388.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;g[ name ] = v</text>
<text text-anchor="middle" x="3859.6592" y="-372.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3859.6592" y="-357.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local v = ( L.Cc(node_mts)</text>
<text text-anchor="middle" x="3859.6592" y="-342.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L.Cc( name ) </text>
<text text-anchor="middle" x="3859.6592" y="-326.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L_Cp </text>
<text text-anchor="middle" x="3859.6592" y="-311.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L.Ct( val ) </text>
<text text-anchor="middle" x="3859.6592" y="-295.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L_Cp </text>
<text text-anchor="middle" x="3859.6592" y="-280.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L.Carg(1)</text>
<text text-anchor="middle" x="3859.6592" y="-265.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* L.Carg(2)) / make_ast_node</text>
<text text-anchor="middle" x="3859.6592" y="-249.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;g[name] = v</text>
<text text-anchor="middle" x="3859.6592" y="-234.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3859.6592" y="-218.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3859.6592" y="-203.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;} )</text>
<text text-anchor="middle" x="3859.6592" y="-188.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45;&#45; call passed function with custom environment (5.1&#45; and 5.2&#45;style)</text>
<text text-anchor="middle" x="3859.6592" y="-172.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if _VERSION == &quot;Lua 5.1&quot; then</text>
<text text-anchor="middle" x="3859.6592" y="-157.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setfenv( func, env )</text>
<text text-anchor="middle" x="3859.6592" y="-141.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3859.6592" y="-126.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;func( env )</text>
<text text-anchor="middle" x="3859.6592" y="-111.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;assert( g[ 1 ] and g[ g[ 1 ] ], &quot;no start rule defined&quot; )</text>
<text text-anchor="middle" x="3859.6592" y="-95.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return g</text>
<text text-anchor="middle" x="3859.6592" y="-80.2" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_21&#45;&gt;leaf_30 -->
<g id="edge13" class="edge">
<title>codeblock_21&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3859.6592,-916.5489C3859.6592,-909.6716 3859.6592,-901.0398 3859.6592,-890.9813"/>
<polygon fill="#000000" stroke="#000000" points="3863.1593,-890.9111 3859.6592,-880.9111 3856.1593,-890.9112 3863.1593,-890.9111"/>
</g>
<!-- codeblock_22 -->
<g id="node26" class="node">
<title>codeblock_22</title>
<ellipse fill="none" stroke="#000000" cx="4355.6592" cy="-934.8016" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="4355.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_22</text>
</g>
<!-- leaf_31 -->
<g id="node27" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="4580.6592,-503.6013 4130.6592,-503.6013 4130.6592,-449.2003 4580.6592,-449.2003 4580.6592,-503.6013"/>
<text text-anchor="middle" x="4355.6592" y="-488.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">function epnf.parse( g, name, input, ... )</text>
<text text-anchor="middle" x="4355.6592" y="-472.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return L.match( L.P( g ), input, 1, name, ... ), name, input</text>
<text text-anchor="middle" x="4355.6592" y="-457.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_22&#45;&gt;leaf_31 -->
<g id="edge14" class="edge">
<title>codeblock_22&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4355.6592,-916.5489C4355.6592,-848.325 4355.6592,-607.4426 4355.6592,-513.9162"/>
<polygon fill="#000000" stroke="#000000" points="4359.1593,-513.7777 4355.6592,-503.7777 4352.1593,-513.7778 4359.1593,-513.7777"/>
</g>
<!-- codeblock_23 -->
<g id="node28" class="node">
<title>codeblock_23</title>
<ellipse fill="none" stroke="#000000" cx="4834.6592" cy="-934.8016" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="4834.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_23</text>
</g>
<!-- leaf_32 -->
<g id="node29" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="5070.1592,-526.8018 4599.1592,-526.8018 4599.1592,-425.9998 5070.1592,-425.9998 5070.1592,-526.8018"/>
<text text-anchor="middle" x="4834.6592" y="-511.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">function epnf.parsefile( g, fname, ... )</text>
<text text-anchor="middle" x="4834.6592" y="-496.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local f = assert( io.open( fname, &quot;r&quot; ) )</text>
<text text-anchor="middle" x="4834.6592" y="-480.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local a,n,i = epnf.parse( g, fname, assert( f:read&quot;*a&quot; ), ... )</text>
<text text-anchor="middle" x="4834.6592" y="-465.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;f:close()</text>
<text text-anchor="middle" x="4834.6592" y="-449.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return a,n,i</text>
<text text-anchor="middle" x="4834.6592" y="-434.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_23&#45;&gt;leaf_32 -->
<g id="edge15" class="edge">
<title>codeblock_23&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4834.6592,-916.5489C4834.6592,-853.3776 4834.6592,-642.1747 4834.6592,-536.9903"/>
<polygon fill="#000000" stroke="#000000" points="4838.1593,-536.8445 4834.6592,-526.8445 4831.1593,-536.8446 4838.1593,-536.8445"/>
</g>
<!-- codeblock_24 -->
<g id="node30" class="node">
<title>codeblock_24</title>
<ellipse fill="none" stroke="#000000" cx="5313.6592" cy="-934.8016" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="5313.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_24</text>
</g>
<!-- leaf_33 -->
<g id="node31" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="5538.6592,-526.8018 5088.6592,-526.8018 5088.6592,-425.9998 5538.6592,-425.9998 5538.6592,-526.8018"/>
<text text-anchor="middle" x="5313.6592" y="-511.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">function epnf.parsestring( g, str, ... )</text>
<text text-anchor="middle" x="5313.6592" y="-496.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local s = string.sub( str, 1, 20 )</text>
<text text-anchor="middle" x="5313.6592" y="-480.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if #s &lt; #str then s = s .. &quot;...&quot; end</text>
<text text-anchor="middle" x="5313.6592" y="-465.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local name = &quot;[\&quot;&quot; .. string.gsub( s, &quot;\n&quot;, &quot;\\n&quot; ) .. &quot;\&quot;]&quot;</text>
<text text-anchor="middle" x="5313.6592" y="-449.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return epnf.parse( g, name, str, ... )</text>
<text text-anchor="middle" x="5313.6592" y="-434.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_24&#45;&gt;leaf_33 -->
<g id="edge16" class="edge">
<title>codeblock_24&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5313.6592,-916.5489C5313.6592,-853.3776 5313.6592,-642.1747 5313.6592,-536.9903"/>
<polygon fill="#000000" stroke="#000000" points="5317.1593,-536.8445 5313.6592,-526.8445 5310.1593,-536.8446 5317.1593,-536.8445"/>
</g>
<!-- codeblock_25 -->
<g id="node32" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="5778.6592" cy="-934.8016" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="5778.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_25</text>
</g>
<!-- leaf_34 -->
<g id="node33" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="6000.1592,-681.0018 5557.1592,-681.0018 5557.1592,-271.7999 6000.1592,-271.7999 6000.1592,-681.0018"/>
<text text-anchor="middle" x="5778.6592" y="-666.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">epnf.raise = raise_error</text>
<text text-anchor="middle" x="5778.6592" y="-634.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local function write( ... ) return io.stderr:write( ... ) end</text>
<text text-anchor="middle" x="5778.6592" y="-603.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">local function dump_ast( node, prefix )</text>
<text text-anchor="middle" x="5778.6592" y="-587.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if type( node ) == &quot;table&quot; then</text>
<text text-anchor="middle" x="5778.6592" y="-572.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;write( &quot;{&quot; )</text>
<text text-anchor="middle" x="5778.6592" y="-557.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if next( node ) ~= nil then</text>
<text text-anchor="middle" x="5778.6592" y="-541.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;write( &quot;\n&quot; )</text>
<text text-anchor="middle" x="5778.6592" y="-526.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if type( node.id ) == &quot;string&quot; and</text>
<text text-anchor="middle" x="5778.6592" y="-510.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;type( node.pos ) == &quot;number&quot; then</text>
<text text-anchor="middle" x="5778.6592" y="-495.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;write( prefix, &quot; &#160;id = &quot;, node.id,</text>
<text text-anchor="middle" x="5778.6592" y="-480.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;, &#160;pos = &quot;, tostring( node.pos ), &quot;\n&quot; )</text>
<text text-anchor="middle" x="5778.6592" y="-464.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5778.6592" y="-449.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;for k,v in pairs( node ) do</text>
<text text-anchor="middle" x="5778.6592" y="-433.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if k ~= &quot;id&quot; and k ~= &quot;pos&quot; then</text>
<text text-anchor="middle" x="5778.6592" y="-418.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;write( prefix, &quot; &#160;&quot;, tostring( k ), &quot; = &quot; )</text>
<text text-anchor="middle" x="5778.6592" y="-403.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dump_ast( v, prefix..&quot; &#160;&quot; )</text>
<text text-anchor="middle" x="5778.6592" y="-387.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5778.6592" y="-372.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5778.6592" y="-356.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5778.6592" y="-341.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;write( prefix, &quot;}\n&quot; )</text>
<text text-anchor="middle" x="5778.6592" y="-326.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="5778.6592" y="-310.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;write( tostring( node ), &quot;\n&quot; )</text>
<text text-anchor="middle" x="5778.6592" y="-295.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="5778.6592" y="-279.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_34 -->
<g id="edge17" class="edge">
<title>codeblock_25&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5778.6592,-916.5489C5778.6592,-877.7085 5778.6592,-782.9076 5778.6592,-691.1948"/>
<polygon fill="#000000" stroke="#000000" points="5782.1593,-691.1847 5778.6592,-681.1847 5775.1593,-691.1848 5782.1593,-691.1847"/>
</g>
<!-- codeblock_26 -->
<g id="node34" class="node">
<title>codeblock_26</title>
<ellipse fill="none" stroke="#000000" cx="6127.6592" cy="-934.8016" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="6127.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_26</text>
</g>
<!-- leaf_35 -->
<g id="node35" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="6237.1592,-503.6013 6018.1592,-503.6013 6018.1592,-449.2003 6237.1592,-449.2003 6237.1592,-503.6013"/>
<text text-anchor="middle" x="6127.6592" y="-488.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">function epnf.dumpast( node )</text>
<text text-anchor="middle" x="6127.6592" y="-472.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return dump_ast( node, &quot;&quot; )</text>
<text text-anchor="middle" x="6127.6592" y="-457.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_26&#45;&gt;leaf_35 -->
<g id="edge18" class="edge">
<title>codeblock_26&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6127.6592,-916.5489C6127.6592,-848.325 6127.6592,-607.4426 6127.6592,-513.9162"/>
<polygon fill="#000000" stroke="#000000" points="6131.1593,-513.7777 6127.6592,-503.7777 6124.1593,-513.7778 6131.1593,-513.7777"/>
</g>
<!-- codeblock_27 -->
<g id="node36" class="node">
<title>codeblock_27</title>
<ellipse fill="none" stroke="#000000" cx="6301.6592" cy="-934.8016" rx="64.8671" ry="18"/>
<text text-anchor="middle" x="6301.6592" y="-930.6016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">codeblock_27</text>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="6348.1592,-494.4008 6255.1592,-494.4008 6255.1592,-458.4008 6348.1592,-458.4008 6348.1592,-494.4008"/>
<text text-anchor="middle" x="6301.6592" y="-472.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">return epnf</text>
</g>
<!-- codeblock_27&#45;&gt;leaf_36 -->
<g id="edge19" class="edge">
<title>codeblock_27&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6301.6592,-916.5489C6301.6592,-845.9669 6301.6592,-590.5847 6301.6592,-504.7597"/>
<polygon fill="#000000" stroke="#000000" points="6305.1593,-504.7057 6301.6592,-494.7057 6298.1593,-504.7057 6305.1593,-504.7057"/>
</g>
</g>
</svg>