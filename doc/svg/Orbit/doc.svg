<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="4982pt" height="1330pt"
 viewBox="0.00 0.00 4981.50 1330.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1326.0016)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1326.0016 4977.5,-1326.0016 4977.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="733" cy="-1304.0016" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="733" y="-1299.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 185</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="733" cy="-1232.0016" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="733" y="-1227.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;10</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M733,-1285.8329C733,-1278.1325 733,-1268.9759 733,-1260.4182"/>
<polygon fill="#000000" stroke="#000000" points="736.5001,-1260.4148 733,-1250.4148 729.5001,-1260.4149 736.5001,-1260.4148"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="531" cy="-1160.0016" rx="69.6687" ry="18"/>
<text text-anchor="middle" x="531" y="-1155.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Doc module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M694.0524,-1218.1192C661.9855,-1206.6895 616.2935,-1190.4032 581.433,-1177.9777"/>
<polygon fill="#000000" stroke="#000000" points="582.5028,-1174.6434 571.9081,-1174.5827 580.1525,-1181.237 582.5028,-1174.6434"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="651" cy="-1160.0016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="651" y="-1155.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M713.5671,-1214.9386C702.3006,-1205.046 687.9965,-1192.4863 675.9098,-1181.8736"/>
<polygon fill="#000000" stroke="#000000" points="678.1653,-1179.1963 668.3415,-1175.2283 673.5466,-1184.4564 678.1653,-1179.1963"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="733" cy="-1160.0016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="733" y="-1155.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M733,-1213.8329C733,-1206.1325 733,-1196.9759 733,-1188.4182"/>
<polygon fill="#000000" stroke="#000000" points="736.5001,-1188.4148 733,-1178.4148 729.5001,-1188.4149 736.5001,-1188.4148"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="973" cy="-1160.0016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="973" y="-1155.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M775.9072,-1219.1294C821.0631,-1205.5826 891.4758,-1184.4588 934.7818,-1171.467"/>
<polygon fill="#000000" stroke="#000000" points="935.811,-1174.8124 944.3835,-1168.5865 933.7995,-1168.1077 935.811,-1174.8124"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="1655" cy="-1160.0016" rx="65.0143" ry="18"/>
<text text-anchor="middle" x="1655" y="-1155.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 11&#45;70</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M792.0778,-1227.3881C954.0741,-1214.7376 1405.0067,-1179.5238 1582.1874,-1165.6876"/>
<polygon fill="#000000" stroke="#000000" points="1582.4953,-1169.1743 1592.1924,-1164.9063 1581.9502,-1162.1955 1582.4953,-1169.1743"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="584.5,-1106.0016 477.5,-1106.0016 477.5,-1070.0016 584.5,-1070.0016 584.5,-1106.0016"/>
<text text-anchor="middle" x="531" y="-1084.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> * Doc module</text>
</g>
<!-- header_2&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>header_2&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M531,-1141.8329C531,-1134.1325 531,-1124.9759 531,-1116.4182"/>
<polygon fill="#000000" stroke="#000000" points="534.5001,-1116.4148 531,-1106.4148 527.5001,-1116.4149 534.5001,-1116.4148"/>
</g>
<!-- raw_8 -->
<g id="node9" class="node">
<title>raw_8</title>
<ellipse fill="none" stroke="#000000" cx="640" cy="-1088.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="640" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_8 -->
<g id="edge8" class="edge">
<title>prose_3&#45;&gt;raw_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M648.2242,-1141.8329C647.0297,-1134.014 645.6058,-1124.6938 644.2812,-1116.0237"/>
<polygon fill="#000000" stroke="#000000" points="647.707,-1115.2717 642.7368,-1105.915 640.7873,-1116.3289 647.707,-1115.2717"/>
</g>
<!-- raw_10 -->
<g id="node11" class="node">
<title>raw_10</title>
<ellipse fill="none" stroke="#000000" cx="723" cy="-1088.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="723" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_10 -->
<g id="edge10" class="edge">
<title>prose_4&#45;&gt;raw_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M730.4766,-1141.8329C729.4071,-1134.1325 728.1353,-1124.9759 726.9468,-1116.4182"/>
<polygon fill="#000000" stroke="#000000" points="730.3999,-1115.8382 725.5574,-1106.4148 723.4664,-1116.8013 730.3999,-1115.8382"/>
</g>
<!-- raw_12 -->
<g id="node13" class="node">
<title>raw_12</title>
<ellipse fill="none" stroke="#000000" cx="1010" cy="-1088.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="1010" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_12 -->
<g id="edge12" class="edge">
<title>prose_5&#45;&gt;raw_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M981.9567,-1142.5724C986.3197,-1134.0822 991.6578,-1123.6944 996.5015,-1114.269"/>
<polygon fill="#000000" stroke="#000000" points="999.6681,-1115.7643 1001.1258,-1105.2702 993.4421,-1112.5648 999.6681,-1115.7643"/>
</g>
<!-- header_14 -->
<g id="node15" class="node">
<title>header_14</title>
<ellipse fill="none" stroke="#000000" cx="1385" cy="-1088.0016" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="1385" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Fields</text>
</g>
<!-- section_6&#45;&gt;header_14 -->
<g id="edge14" class="edge">
<title>section_6&#45;&gt;header_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1607.9696,-1147.4601C1558.9213,-1134.3806 1482.4327,-1113.9836 1433.0194,-1100.8067"/>
<polygon fill="#000000" stroke="#000000" points="1433.7741,-1097.3858 1423.2099,-1098.1909 1431.9705,-1104.1494 1433.7741,-1097.3858"/>
</g>
<!-- prose_15 -->
<g id="node16" class="node">
<title>prose_15</title>
<ellipse fill="none" stroke="#000000" cx="1512" cy="-1088.0016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1512" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_15 -->
<g id="edge15" class="edge">
<title>section_6&#45;&gt;prose_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1623.618,-1144.2009C1600.3921,-1132.5067 1568.8157,-1116.6081 1545.1746,-1104.7049"/>
<polygon fill="#000000" stroke="#000000" points="1546.7233,-1101.566 1536.2175,-1100.195 1543.5753,-1107.8183 1546.7233,-1101.566"/>
</g>
<!-- prose_16 -->
<g id="node17" class="node">
<title>prose_16</title>
<ellipse fill="none" stroke="#000000" cx="1610" cy="-1088.0016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1610" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_16 -->
<g id="edge16" class="edge">
<title>section_6&#45;&gt;prose_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1643.8764,-1142.2038C1638.5116,-1133.6201 1631.9758,-1123.1629 1626.0814,-1113.7318"/>
<polygon fill="#000000" stroke="#000000" points="1628.9538,-1111.7238 1620.6858,-1105.0988 1623.0178,-1115.4338 1628.9538,-1111.7238"/>
</g>
<!-- prose_17 -->
<g id="node18" class="node">
<title>prose_17</title>
<ellipse fill="none" stroke="#000000" cx="1700" cy="-1088.0016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1700" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_17 -->
<g id="edge17" class="edge">
<title>section_6&#45;&gt;prose_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1666.1236,-1142.2038C1671.4884,-1133.6201 1678.0242,-1123.1629 1683.9186,-1113.7318"/>
<polygon fill="#000000" stroke="#000000" points="1686.9822,-1115.4338 1689.3142,-1105.0988 1681.0462,-1111.7238 1686.9822,-1115.4338"/>
</g>
<!-- codeblock_18 -->
<g id="node19" class="node">
<title>codeblock_18</title>
<ellipse fill="none" stroke="#000000" cx="1970" cy="-1088.0016" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1970" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 22&#45;28</text>
</g>
<!-- section_6&#45;&gt;codeblock_18 -->
<g id="edge18" class="edge">
<title>section_6&#45;&gt;codeblock_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1705.261,-1148.5133C1759.2823,-1136.1656 1845.3578,-1116.4912 1904.613,-1102.9472"/>
<polygon fill="#000000" stroke="#000000" points="1905.6476,-1106.301 1914.6163,-1100.6607 1904.0878,-1099.477 1905.6476,-1106.301"/>
</g>
<!-- section_19 -->
<g id="node20" class="node">
<title>section_19</title>
<ellipse fill="none" stroke="#000000" cx="2498" cy="-1088.0016" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2498" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 30&#45;70</text>
</g>
<!-- section_6&#45;&gt;section_19 -->
<g id="edge19" class="edge">
<title>section_6&#45;&gt;section_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1717.3301,-1154.678C1869.8673,-1141.6499 2261.3662,-1108.2123 2424.7077,-1094.2614"/>
<polygon fill="#000000" stroke="#000000" points="2425.466,-1097.7095 2435.1318,-1093.3711 2424.8702,-1090.7349 2425.466,-1097.7095"/>
</g>
<!-- section_20 -->
<g id="node21" class="node">
<title>section_20</title>
<ellipse fill="none" stroke="#000000" cx="3702" cy="-1088.0016" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3702" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 71&#45;185</text>
</g>
<!-- section_6&#45;&gt;section_20 -->
<g id="edge20" class="edge">
<title>section_6&#45;&gt;section_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1719.6435,-1157.7278C2021.23,-1147.12 3289.2804,-1102.5183 3621.8543,-1090.8206"/>
<polygon fill="#000000" stroke="#000000" points="3622.0167,-1094.3171 3631.8875,-1090.4677 3621.7706,-1087.3214 3622.0167,-1094.3171"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="520,-1019.103 0,-1019.103 0,-963.3 520,-963.3 520,-1019.103"/>
<text text-anchor="middle" x="260" y="-971.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> Represents a Document, which is generally the same as a file, at first.</text>
</g>
<!-- raw_8&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>raw_8&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M616.7862,-1078.407C609.2706,-1075.491 600.8489,-1072.4214 593,-1070.0016 532.3557,-1051.3049 464.3419,-1034.4912 405.6677,-1021.2444"/>
<polygon fill="#000000" stroke="#000000" points="406.1052,-1017.7556 395.5815,-1018.9815 404.5727,-1024.5858 406.1052,-1017.7556"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="834,-1011.1036 538,-1011.1036 538,-971.2994 834,-971.2994 834,-1011.1036"/>
<text text-anchor="middle" x="686" y="-979.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> A document contains an array of blocks.</text>
</g>
<!-- raw_10&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>raw_10&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M716.2136,-1070.2469C710.9269,-1056.4158 703.4723,-1036.9127 697.2906,-1020.7403"/>
<polygon fill="#000000" stroke="#000000" points="700.4767,-1019.2727 693.637,-1011.1815 693.9381,-1021.772 700.4767,-1019.2727"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="1316,-1026.5018 852,-1026.5018 852,-955.9012 1316,-955.9012 1316,-1026.5018"/>
<text text-anchor="middle" x="1084" y="-995.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> At some point documents can also contain documents, this is not</text>
<text text-anchor="middle" x="1084" y="-980.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> currently supported.</text>
</g>
<!-- raw_12&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>raw_12&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1022.5531,-1071.5807C1030.3389,-1061.3961 1040.7387,-1047.792 1050.7658,-1034.6755"/>
<polygon fill="#000000" stroke="#000000" points="1053.6414,-1036.6768 1056.9341,-1026.6066 1048.0802,-1032.4255 1053.6414,-1036.6768"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1420,-1009.2015 1334,-1009.2015 1334,-973.2015 1420,-973.2015 1420,-1009.2015"/>
<text text-anchor="middle" x="1377" y="-987.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> ** Fields</text>
</g>
<!-- header_14&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>header_14&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1383.4953,-1069.7942C1382.322,-1055.5976 1380.6718,-1035.6308 1379.3284,-1019.3754"/>
<polygon fill="#000000" stroke="#000000" points="1382.8098,-1019.0049 1378.498,-1009.3272 1375.8336,-1019.5815 1382.8098,-1019.0049"/>
</g>
<!-- raw_22 -->
<g id="node23" class="node">
<title>raw_22</title>
<ellipse fill="none" stroke="#000000" cx="1465" cy="-991.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1465" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_15&#45;&gt;raw_22 -->
<g id="edge22" class="edge">
<title>prose_15&#45;&gt;raw_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1503.3795,-1070.2469C1496.2462,-1055.5553 1486.0056,-1034.464 1477.8964,-1017.7626"/>
<polygon fill="#000000" stroke="#000000" points="1480.924,-1015.9849 1473.4077,-1008.5179 1474.627,-1019.0423 1480.924,-1015.9849"/>
</g>
<!-- raw_24 -->
<g id="node25" class="node">
<title>raw_24</title>
<ellipse fill="none" stroke="#000000" cx="1537" cy="-991.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1537" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_16&#45;&gt;raw_24 -->
<g id="edge24" class="edge">
<title>prose_16&#45;&gt;raw_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1597.2844,-1071.1403C1585.6997,-1055.7787 1568.4532,-1032.9093 1555.3712,-1015.5622"/>
<polygon fill="#000000" stroke="#000000" points="1558.1423,-1013.4238 1549.3267,-1007.547 1552.5534,-1017.6386 1558.1423,-1013.4238"/>
</g>
<!-- raw_26 -->
<g id="node27" class="node">
<title>raw_26</title>
<ellipse fill="none" stroke="#000000" cx="1609" cy="-991.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1609" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_17&#45;&gt;raw_26 -->
<g id="edge26" class="edge">
<title>prose_17&#45;&gt;raw_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1683.2251,-1072.3321C1672.114,-1061.761 1657.3644,-1047.3554 1645,-1034.0016 1639.5577,-1028.1238 1633.8844,-1021.5894 1628.6941,-1015.4321"/>
<polygon fill="#000000" stroke="#000000" points="1631.0696,-1012.8148 1621.983,-1007.3665 1625.6887,-1017.2921 1631.0696,-1012.8148"/>
</g>
<!-- prespace_27 -->
<g id="node28" class="node">
<title>prespace_27</title>
<ellipse fill="none" stroke="#000000" cx="1700" cy="-991.2015" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1700" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_17&#45;&gt;prespace_27 -->
<g id="edge27" class="edge">
<title>prose_17&#45;&gt;prespace_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1700,-1069.7942C1700,-1055.5976 1700,-1035.6308 1700,-1019.3754"/>
<polygon fill="#000000" stroke="#000000" points="1703.5001,-1019.3272 1700,-1009.3272 1696.5001,-1019.3272 1703.5001,-1019.3272"/>
</g>
<!-- interpolated_28 -->
<g id="node29" class="node">
<title>interpolated_28</title>
<ellipse fill="none" stroke="#000000" cx="1821" cy="-991.2015" rx="56.1474" ry="18"/>
<text text-anchor="middle" x="1821" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">interpolated</text>
</g>
<!-- prose_17&#45;&gt;interpolated_28 -->
<g id="edge28" class="edge">
<title>prose_17&#45;&gt;interpolated_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1718.6411,-1073.0887C1738.2428,-1057.4073 1769.343,-1032.5271 1792.123,-1014.3031"/>
<polygon fill="#000000" stroke="#000000" points="1794.4802,-1016.8996 1800.1025,-1007.9195 1790.1073,-1011.4335 1794.4802,-1016.8996"/>
</g>
<!-- raw_29 -->
<g id="node30" class="node">
<title>raw_29</title>
<ellipse fill="none" stroke="#000000" cx="1922" cy="-991.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1922" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_17&#45;&gt;raw_29 -->
<g id="edge29" class="edge">
<title>prose_17&#45;&gt;raw_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1731.6199,-1084.5178C1770.6185,-1079.0043 1837.6697,-1065.4604 1886,-1034.0016 1893.2093,-1029.3089 1899.7403,-1022.7383 1905.199,-1016.1516"/>
<polygon fill="#000000" stroke="#000000" points="1908.1915,-1018.0015 1911.5103,-1007.9399 1902.6414,-1013.7358 1908.1915,-1018.0015"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2256.5,-1033.8026 1967.5,-1033.8026 1967.5,-948.6004 2256.5,-948.6004 2256.5,-1033.8026"/>
<text text-anchor="middle" x="2112" y="-1018.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="2112" y="-987.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;lib/node/node&quot;</text>
<text text-anchor="middle" x="2112" y="-972.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">local Section = require &quot;Orbit/section&quot;</text>
<text text-anchor="middle" x="2112" y="-956.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">local own = require &quot;Orbit/own&quot;</text>
</g>
<!-- codeblock_18&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>codeblock_18&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1995.0599,-1070.9185C2007.9421,-1062.1368 2024.3604,-1050.9446 2040.7935,-1039.7423"/>
<polygon fill="#000000" stroke="#000000" points="2043.0783,-1042.4207 2049.3696,-1033.8961 2039.1354,-1036.6368 2043.0783,-1042.4207"/>
</g>
<!-- header_35 -->
<g id="node36" class="node">
<title>header_35</title>
<ellipse fill="none" stroke="#000000" cx="2424" cy="-991.2015" rx="99.1453" ry="18"/>
<text text-anchor="middle" x="2424" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Metatable for Docs.</text>
</g>
<!-- section_19&#45;&gt;header_35 -->
<g id="edge35" class="edge">
<title>section_19&#45;&gt;header_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2484.4273,-1070.2469C2473.1283,-1055.4666 2456.8777,-1034.2091 2444.0741,-1017.4606"/>
<polygon fill="#000000" stroke="#000000" points="2446.5912,-1014.9902 2437.7373,-1009.1714 2441.03,-1019.2416 2446.5912,-1014.9902"/>
</g>
<!-- prose_36 -->
<g id="node37" class="node">
<title>prose_36</title>
<ellipse fill="none" stroke="#000000" cx="2573" cy="-991.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2573" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_19&#45;&gt;prose_36 -->
<g id="edge36" class="edge">
<title>section_19&#45;&gt;prose_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2511.7562,-1070.2469C2523.4959,-1055.0948 2540.5099,-1033.1355 2553.6272,-1016.2053"/>
<polygon fill="#000000" stroke="#000000" points="2556.725,-1017.9216 2560.083,-1007.873 2551.1916,-1013.6343 2556.725,-1017.9216"/>
</g>
<!-- codeblock_37 -->
<g id="node38" class="node">
<title>codeblock_37</title>
<ellipse fill="none" stroke="#000000" cx="2768" cy="-991.2015" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2768" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 32&#45;68</text>
</g>
<!-- section_19&#45;&gt;codeblock_37 -->
<g id="edge37" class="edge">
<title>section_19&#45;&gt;codeblock_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2538.1302,-1073.6141C2585.4667,-1056.6431 2664.2699,-1028.3907 2716.1823,-1009.7791"/>
<polygon fill="#000000" stroke="#000000" points="2717.6366,-1012.9759 2725.8687,-1006.3064 2715.2741,-1006.3866 2717.6366,-1012.9759"/>
</g>
<!-- header_42 -->
<g id="node43" class="node">
<title>header_42</title>
<ellipse fill="none" stroke="#000000" cx="3151" cy="-991.2015" rx="86.074" ry="18"/>
<text text-anchor="middle" x="3151" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Doc Constructor</text>
</g>
<!-- section_20&#45;&gt;header_42 -->
<g id="edge42" class="edge">
<title>section_20&#45;&gt;header_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3632.5568,-1084.3128C3545.9459,-1078.5901 3393.8184,-1064.833 3267,-1034.0016 3243.7714,-1028.3543 3218.8009,-1019.521 3197.9996,-1011.3423"/>
<polygon fill="#000000" stroke="#000000" points="3199.0384,-1007.9881 3188.4539,-1007.5209 3196.4369,-1014.4868 3199.0384,-1007.9881"/>
</g>
<!-- prose_43 -->
<g id="node44" class="node">
<title>prose_43</title>
<ellipse fill="none" stroke="#000000" cx="3308" cy="-991.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3308" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_43 -->
<g id="edge43" class="edge">
<title>section_20&#45;&gt;prose_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3635.7224,-1081.7212C3550.5786,-1072.9369 3408.0375,-1055.6054 3360,-1034.0016 3349.4946,-1029.277 3339.3739,-1021.8503 3330.8977,-1014.501"/>
<polygon fill="#000000" stroke="#000000" points="3333.0579,-1011.7337 3323.3159,-1007.5691 3328.3345,-1016.8999 3333.0579,-1011.7337"/>
</g>
<!-- codeblock_44 -->
<g id="node45" class="node">
<title>codeblock_44</title>
<ellipse fill="none" stroke="#000000" cx="3446" cy="-991.2015" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3446" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 74&#45;92</text>
</g>
<!-- section_20&#45;&gt;codeblock_44 -->
<g id="edge44" class="edge">
<title>section_20&#45;&gt;codeblock_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3655.5342,-1074.2978C3622.4123,-1064.1439 3577.0229,-1049.4415 3538,-1034.0016 3521.4506,-1027.4536 3503.6346,-1019.4078 3488.1294,-1012.0663"/>
<polygon fill="#000000" stroke="#000000" points="3489.3371,-1008.7642 3478.8058,-1007.6059 3486.3162,-1015.0788 3489.3371,-1008.7642"/>
</g>
<!-- prose_45 -->
<g id="node46" class="node">
<title>prose_45</title>
<ellipse fill="none" stroke="#000000" cx="3579" cy="-991.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3579" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_45 -->
<g id="edge45" class="edge">
<title>section_20&#45;&gt;prose_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3673.5724,-1071.4759C3657.2632,-1061.4674 3636.7632,-1047.9674 3620,-1034.0016 3613.0677,-1028.2261 3606.0741,-1021.3856 3599.8745,-1014.8873"/>
<polygon fill="#000000" stroke="#000000" points="3602.3829,-1012.445 3593.0126,-1007.5003 3597.2541,-1017.2091 3602.3829,-1012.445"/>
</g>
<!-- prose_46 -->
<g id="node47" class="node">
<title>prose_46</title>
<ellipse fill="none" stroke="#000000" cx="3661" cy="-991.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3661" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_46 -->
<g id="edge46" class="edge">
<title>section_20&#45;&gt;prose_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3694.2882,-1069.7942C3688.1795,-1055.3717 3679.5484,-1034.9938 3672.6057,-1018.6022"/>
<polygon fill="#000000" stroke="#000000" points="3675.6617,-1016.8432 3668.5387,-1009.0002 3669.216,-1019.5733 3675.6617,-1016.8432"/>
</g>
<!-- prose_47 -->
<g id="node48" class="node">
<title>prose_47</title>
<ellipse fill="none" stroke="#000000" cx="3743" cy="-991.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3743" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_47 -->
<g id="edge47" class="edge">
<title>section_20&#45;&gt;prose_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3709.7118,-1069.7942C3715.8205,-1055.3717 3724.4516,-1034.9938 3731.3943,-1018.6022"/>
<polygon fill="#000000" stroke="#000000" points="3734.784,-1019.5733 3735.4613,-1009.0002 3728.3383,-1016.8432 3734.784,-1019.5733"/>
</g>
<!-- codeblock_48 -->
<g id="node49" class="node">
<title>codeblock_48</title>
<ellipse fill="none" stroke="#000000" cx="3975" cy="-991.2015" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3975" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 105&#45;154</text>
</g>
<!-- section_20&#45;&gt;codeblock_48 -->
<g id="edge48" class="edge">
<title>section_20&#45;&gt;codeblock_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3743.4628,-1073.2997C3791.0659,-1056.4207 3869.2825,-1028.6867 3921.4542,-1010.1877"/>
<polygon fill="#000000" stroke="#000000" points="3922.6241,-1013.4865 3930.8795,-1006.8457 3920.2848,-1006.8889 3922.6241,-1013.4865"/>
</g>
<!-- prose_49 -->
<g id="node50" class="node">
<title>prose_49</title>
<ellipse fill="none" stroke="#000000" cx="4260" cy="-991.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4260" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_49 -->
<g id="edge49" class="edge">
<title>section_20&#45;&gt;prose_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3765.9126,-1080.175C3839.6872,-1070.7877 3964.5422,-1053.8144 4071,-1034.0016 4122.8495,-1024.3519 4182.0688,-1010.4713 4220.1899,-1001.1598"/>
<polygon fill="#000000" stroke="#000000" points="4221.4825,-1004.4464 4230.3589,-998.6619 4219.8127,-997.6485 4221.4825,-1004.4464"/>
</g>
<!-- structure_50 -->
<g id="node51" class="node">
<title>structure_50</title>
<ellipse fill="none" stroke="#000000" cx="4428" cy="-991.2015" rx="44.5182" ry="18"/>
<text text-anchor="middle" x="4428" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">structure</text>
</g>
<!-- section_20&#45;&gt;structure_50 -->
<g id="edge50" class="edge">
<title>section_20&#45;&gt;structure_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3770.8533,-1083.8368C3905.9753,-1075.3273 4201.379,-1054.9728 4301,-1034.0016 4330.5468,-1027.7816 4362.7734,-1016.8693 4387.3699,-1007.6202"/>
<polygon fill="#000000" stroke="#000000" points="4388.6462,-1010.8794 4396.7376,-1004.0398 4386.147,-1004.3408 4388.6462,-1010.8794"/>
</g>
<!-- structure_51 -->
<g id="node52" class="node">
<title>structure_51</title>
<ellipse fill="none" stroke="#000000" cx="4578" cy="-991.2015" rx="44.5182" ry="18"/>
<text text-anchor="middle" x="4578" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">structure</text>
</g>
<!-- section_20&#45;&gt;structure_51 -->
<g id="edge51" class="edge">
<title>section_20&#45;&gt;structure_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3772.4867,-1086.2668C3938.21,-1081.6815 4348.6418,-1067.2382 4482,-1034.0016 4502.7663,-1028.826 4524.654,-1019.4096 4542.2772,-1010.7243"/>
<polygon fill="#000000" stroke="#000000" points="4544.2547,-1013.6462 4551.5949,-1006.006 4541.0923,-1007.4012 4544.2547,-1013.6462"/>
</g>
<!-- codeblock_52 -->
<g id="node53" class="node">
<title>codeblock_52</title>
<ellipse fill="none" stroke="#000000" cx="4781" cy="-991.2015" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4781" y="-987.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 165&#45;184</text>
</g>
<!-- section_20&#45;&gt;codeblock_52 -->
<g id="edge52" class="edge">
<title>section_20&#45;&gt;codeblock_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3772.3574,-1085.9368C3959.5527,-1080.1204 4466.7906,-1062.1668 4632,-1034.0016 4664.0397,-1028.5394 4699.0077,-1018.7064 4727.0117,-1009.8418"/>
<polygon fill="#000000" stroke="#000000" points="4728.1618,-1013.1485 4736.6104,-1006.7554 4726.019,-1006.4845 4728.1618,-1013.1485"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="919,-557.8028 791,-557.8028 791,-517.9987 919,-517.9987 919,-557.8028"/>
<text text-anchor="middle" x="855" y="-526.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">«quote endquote»</text>
</g>
<!-- raw_22&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>raw_22&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1455.3037,-974.0363C1449.0716,-964.7478 1440.0716,-954.0478 1429,-948.4014 1329.5641,-897.6903 1011.5472,-986.4216 928,-912.4014 827.3131,-823.196 840.4321,-639.8569 850.1599,-567.8634"/>
<polygon fill="#000000" stroke="#000000" points="853.6646,-568.079 851.6153,-557.6842 846.7351,-567.0881 853.6646,-568.079"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1317,-557.8028 937,-557.8028 937,-517.9987 1317,-517.9987 1317,-557.8028"/>
<text text-anchor="middle" x="1127" y="-526.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> In addition to the standard Node fields, a doc has:</text>
</g>
<!-- raw_24&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>raw_24&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1526.7096,-974.1431C1520.3961,-965.1279 1511.5109,-954.6618 1501,-948.4014 1432.7776,-907.7678 1389.5669,-959.9896 1326,-912.4014 1206.3075,-822.7958 1151.2863,-639.6914 1133.6522,-567.8121"/>
<polygon fill="#000000" stroke="#000000" points="1136.9529,-566.5646 1131.2283,-557.6494 1130.1438,-568.1886 1136.9529,-566.5646"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="1673,-557.8028 1335,-557.8028 1335,-517.9987 1673,-517.9987 1673,-557.8028"/>
<text text-anchor="middle" x="1504" y="-526.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; latest: The current block. &#160;This will be in</text>
</g>
<!-- raw_26&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>raw_26&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1604.8191,-973.1518C1588.7635,-903.8373 1530.9608,-654.2948 1510.9088,-567.7269"/>
<polygon fill="#000000" stroke="#000000" points="1514.2689,-566.7226 1508.6025,-557.7703 1507.4494,-568.3022 1514.2689,-566.7226"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1745,-555.9007 1691,-555.9007 1691,-519.9007 1745,-519.9007 1745,-555.9007"/>
<text text-anchor="middle" x="1718" y="-534.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_27&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>prespace_27&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1700.7167,-973.1518C1703.4854,-903.4262 1713.4959,-651.3284 1716.8761,-566.2039"/>
<polygon fill="#000000" stroke="#000000" points="1720.3816,-566.133 1717.2812,-556.002 1713.3871,-565.8552 1720.3816,-566.133"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="1842.5,-555.9007 1763.5,-555.9007 1763.5,-519.9007 1842.5,-519.9007 1842.5,-555.9007"/>
<text text-anchor="middle" x="1803" y="-534.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">doc[#doc]</text>
</g>
<!-- interpolated_28&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>interpolated_28&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1820.2833,-973.1518C1817.5146,-903.4262 1807.5041,-651.3284 1804.1239,-566.2039"/>
<polygon fill="#000000" stroke="#000000" points="1807.6129,-565.8552 1803.7188,-556.002 1800.6184,-566.133 1807.6129,-565.8552"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2325,-580.5018 1861,-580.5018 1861,-495.2997 2325,-495.2997 2325,-580.5018"/>
<text text-anchor="middle" x="2093" y="-565.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> but may</text>
<text text-anchor="middle" x="2093" y="-550.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;be several layers deep.</text>
<text text-anchor="middle" x="2093" y="-534.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; lastOf: An array containing references to the last block of a</text>
<text text-anchor="middle" x="2093" y="-519.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;given level.</text>
</g>
<!-- raw_29&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>raw_29&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1928.5986,-973.7093C1952.5018,-910.3449 2035.1557,-691.239 2073.3574,-589.9709"/>
<polygon fill="#000000" stroke="#000000" points="2076.6573,-591.1395 2076.9121,-580.5478 2070.1078,-588.6688 2076.6573,-591.1395"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2520.5,-555.9007 2343.5,-555.9007 2343.5,-519.9007 2520.5,-519.9007 2520.5,-555.9007"/>
<text text-anchor="middle" x="2432" y="-534.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Metatable for Docs.</text>
</g>
<!-- header_35&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>header_35&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2424.3185,-973.1518C2425.5491,-903.4262 2429.9982,-651.3284 2431.5005,-566.2039"/>
<polygon fill="#000000" stroke="#000000" points="2435.0034,-566.0622 2431.6805,-556.002 2428.0045,-565.9386 2435.0034,-566.0622"/>
</g>
<!-- raw_39 -->
<g id="node40" class="node">
<title>raw_39</title>
<ellipse fill="none" stroke="#000000" cx="2566" cy="-537.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="2566" y="-533.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_36&#45;&gt;raw_39 -->
<g id="edge39" class="edge">
<title>prose_36&#45;&gt;raw_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2572.7213,-973.1518C2571.6445,-903.4262 2567.7516,-651.3284 2566.4371,-566.2039"/>
<polygon fill="#000000" stroke="#000000" points="2569.9336,-565.9467 2566.2795,-556.002 2562.9344,-566.0548 2569.9336,-565.9467"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="3047,-813.6016 2611,-813.6016 2611,-262.1998 3047,-262.1998 3047,-813.6016"/>
<text text-anchor="middle" x="2829" y="-798.3012" font-family="Inconsolata" font-size="14.00" fill="#000000">local D = setmetatable({}, { __index = Node })</text>
<text text-anchor="middle" x="2829" y="-782.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">D.id = &quot;doc&quot;</text>
<text text-anchor="middle" x="2829" y="-751.5011" font-family="Inconsolata" font-size="14.00" fill="#000000">D.__tostring = function (doc)</text>
<text text-anchor="middle" x="2829" y="-736.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="2829" y="-720.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(doc) do</text>
<text text-anchor="middle" x="2829" y="-705.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local repr = tostring(v)</text>
<text text-anchor="middle" x="2829" y="-689.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if repr ~= &quot;&quot; and repr ~= &quot;\n&quot; then</text>
<text text-anchor="middle" x="2829" y="-674.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. repr .. &quot;\n&quot;</text>
<text text-anchor="middle" x="2829" y="-659.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2829" y="-643.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2829" y="-612.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="2829" y="-596.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2829" y="-549.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">D.__index = D</text>
<text text-anchor="middle" x="2829" y="-518.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">D.own = own</text>
<text text-anchor="middle" x="2829" y="-486.7007" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.dotLabel(doc)</text>
<text text-anchor="middle" x="2829" y="-471.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;doc &#45; &quot; .. tostring(doc.linum)</text>
<text text-anchor="middle" x="2829" y="-455.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2829" y="-424.5006" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.toMarkdown(doc)</text>
<text text-anchor="middle" x="2829" y="-409.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="2829" y="-393.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, node in ipairs(doc) do</text>
<text text-anchor="middle" x="2829" y="-378.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if node.toMarkdown then</text>
<text text-anchor="middle" x="2829" y="-362.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. node:toMarkdown()</text>
<text text-anchor="middle" x="2829" y="-347.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2829" y="-332.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;no toMarkdown method for &quot; .. node.id)</text>
<text text-anchor="middle" x="2829" y="-316.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2829" y="-301.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2829" y="-285.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="2829" y="-270.5003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_37&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>codeblock_37&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2770.4289,-973.1518C2774.1964,-945.1552 2781.9205,-887.7559 2790.5581,-823.569"/>
<polygon fill="#000000" stroke="#000000" points="2794.0301,-824.0108 2791.8951,-813.6333 2787.0926,-823.0772 2794.0301,-824.0108"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="2593,-117.7 2539,-117.7 2539,-81.7 2593,-81.7 2593,-117.7"/>
</g>
<!-- raw_39&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>raw_39&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2566,-519.6297C2566,-451.4217 2566,-211.3592 2566,-128.2627"/>
<polygon fill="#000000" stroke="#000000" points="2569.5001,-128.049 2566,-118.0491 2562.5001,-128.0491 2569.5001,-128.049"/>
</g>
<!-- leaf_53 -->
<g id="node54" class="node">
<title>leaf_53</title>
<polygon fill="none" stroke="#c0c0c0" points="3214.5,-555.9007 3065.5,-555.9007 3065.5,-519.9007 3214.5,-519.9007 3214.5,-555.9007"/>
<text text-anchor="middle" x="3140" y="-534.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Doc Constructor</text>
</g>
<!-- header_42&#45;&gt;leaf_53 -->
<g id="edge53" class="edge">
<title>header_42&#45;&gt;leaf_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3150.562,-973.1518C3148.87,-903.4262 3142.7525,-651.3284 3140.6868,-566.2039"/>
<polygon fill="#000000" stroke="#000000" points="3144.1809,-565.9141 3140.4393,-556.002 3137.183,-566.084 3144.1809,-565.9141"/>
</g>
<!-- raw_54 -->
<g id="node55" class="node">
<title>raw_54</title>
<ellipse fill="none" stroke="#000000" cx="3260" cy="-537.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="3260" y="-533.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_43&#45;&gt;raw_54 -->
<g id="edge54" class="edge">
<title>prose_43&#45;&gt;raw_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3304.9504,-973.088C3302.3354,-957.1417 3298.5907,-933.2755 3296,-912.4014 3280.0249,-783.684 3267.1722,-629.3204 3262.21,-566.5467"/>
<polygon fill="#000000" stroke="#000000" points="3265.6741,-565.9511 3261.4026,-556.2555 3258.6956,-566.4987 3265.6741,-565.9511"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3538.5,-673.5015 3305.5,-673.5015 3305.5,-402.3 3538.5,-402.3 3538.5,-673.5015"/>
<text text-anchor="middle" x="3422" y="-658.501" font-family="Inconsolata" font-size="14.00" fill="#000000">local d = {}</text>
<text text-anchor="middle" x="3422" y="-611.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.parentOf(doc, level)</text>
<text text-anchor="middle" x="3422" y="-595.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local i = level &#45; 1</text>
<text text-anchor="middle" x="3422" y="-580.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local parent = nil</text>
<text text-anchor="middle" x="3422" y="-564.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;while i &gt;= 0 do</text>
<text text-anchor="middle" x="3422" y="-549.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;parent = doc.lastOf[i]</text>
<text text-anchor="middle" x="3422" y="-534.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if parent then</text>
<text text-anchor="middle" x="3422" y="-518.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return parent</text>
<text text-anchor="middle" x="3422" y="-503.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3422" y="-487.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;i = i &#45; 1</text>
<text text-anchor="middle" x="3422" y="-472.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3422" y="-457.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3422" y="-425.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc</text>
<text text-anchor="middle" x="3422" y="-410.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_44&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>codeblock_44&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3445.0444,-973.1518C3442.5043,-925.1764 3435.393,-790.8613 3429.7354,-684.0041"/>
<polygon fill="#000000" stroke="#000000" points="3433.2166,-683.5536 3429.1927,-673.7526 3426.2264,-683.9237 3433.2166,-683.5536"/>
</g>
<!-- raw_57 -->
<g id="node58" class="node">
<title>raw_57</title>
<ellipse fill="none" stroke="#000000" cx="3584" cy="-537.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="3584" y="-533.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_57 -->
<g id="edge57" class="edge">
<title>prose_45&#45;&gt;raw_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3579.1991,-973.1518C3579.9682,-903.4262 3582.7489,-651.3284 3583.6878,-566.2039"/>
<polygon fill="#000000" stroke="#000000" points="3587.1897,-566.04 3583.8003,-556.002 3580.1902,-565.9627 3587.1897,-566.04"/>
</g>
<!-- raw_59 -->
<g id="node60" class="node">
<title>raw_59</title>
<ellipse fill="none" stroke="#000000" cx="3656" cy="-537.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="3656" y="-533.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_46&#45;&gt;raw_59 -->
<g id="edge59" class="edge">
<title>prose_46&#45;&gt;raw_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3660.8009,-973.1518C3660.0318,-903.4262 3657.2511,-651.3284 3656.3122,-566.2039"/>
<polygon fill="#000000" stroke="#000000" points="3659.8098,-565.9627 3656.1997,-556.002 3652.8103,-566.04 3659.8098,-565.9627"/>
</g>
<!-- raw_61 -->
<g id="node62" class="node">
<title>raw_61</title>
<ellipse fill="none" stroke="#000000" cx="3728" cy="-537.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="3728" y="-533.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_47&#45;&gt;raw_61 -->
<g id="edge61" class="edge">
<title>prose_47&#45;&gt;raw_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3742.4027,-973.1518C3740.0955,-903.4262 3731.7534,-651.3284 3728.9366,-566.2039"/>
<polygon fill="#000000" stroke="#000000" points="3732.4279,-565.8807 3728.599,-556.002 3725.4317,-566.1123 3732.4279,-565.8807"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="4356.5,-912.4021 3773.5,-912.4021 3773.5,-163.3993 4356.5,-163.3993 4356.5,-912.4021"/>
<text text-anchor="middle" x="4065" y="-897.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.addSection(doc, section, linum, finish)</text>
<text text-anchor="middle" x="4065" y="-881.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.id == &quot;section&quot;, &quot;type of putative section is &quot; .. section.id)</text>
<text text-anchor="middle" x="4065" y="-866.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.first, &quot;no first in section at line &quot; .. tostring(linum))</text>
<text text-anchor="middle" x="4065" y="-851.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(type(finish) == &quot;number&quot;, &quot;finish is of type &quot; .. type(finish))</text>
<text text-anchor="middle" x="4065" y="-835.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not doc.latest then</text>
<text text-anchor="middle" x="4065" y="-820.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc[1] = &#160;section</text>
<text text-anchor="middle" x="4065" y="-804.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4065" y="-789.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if linum &gt; 0 then</text>
<text text-anchor="middle" x="4065" y="-774.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest.line_last = linum &#45; 1</text>
<text text-anchor="middle" x="4065" y="-758.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest.last = finish</text>
<text text-anchor="middle" x="4065" y="-743.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4065" y="-727.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local atLevel = doc.latest.level</text>
<text text-anchor="middle" x="4065" y="-712.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if atLevel &lt; section.level then</text>
<text text-anchor="middle" x="4065" y="-697.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; add the section under the latest section</text>
<text text-anchor="middle" x="4065" y="-681.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addSection(section, linum, finish)</text>
<text text-anchor="middle" x="4065" y="-666.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4065" y="-650.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local parent = doc:parentOf(section.level)</text>
<text text-anchor="middle" x="4065" y="-635.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if parent.id == &quot;doc&quot; then</text>
<text text-anchor="middle" x="4065" y="-620.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if section.level == 1 and doc.latest.level == 1 then</text>
<text text-anchor="middle" x="4065" y="-604.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc[#doc + 1] = section</text>
<text text-anchor="middle" x="4065" y="-589.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4065" y="-573.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addSection(section, linum, finish)</text>
<text text-anchor="middle" x="4065" y="-558.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4065" y="-543.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4065" y="-527.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;parent:addSection(section, linum, finish)</text>
<text text-anchor="middle" x="4065" y="-512.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4065" y="-496.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4065" y="-481.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4065" y="-466.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.latest = section</text>
<text text-anchor="middle" x="4065" y="-450.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.lastOf[section.level] = section</text>
<text text-anchor="middle" x="4065" y="-435.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc</text>
<text text-anchor="middle" x="4065" y="-419.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4065" y="-372.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.addLine(doc, line, linum, finish)</text>
<text text-anchor="middle" x="4065" y="-357.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if doc.latest then</text>
<text text-anchor="middle" x="4065" y="-341.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addLine(line)</text>
<text text-anchor="middle" x="4065" y="-326.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest.last = finish</text>
<text text-anchor="middle" x="4065" y="-310.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4065" y="-295.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; a virtual zero block</text>
<text text-anchor="middle" x="4065" y="-280.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc[1] = Section(0, linum, 1, #line, doc.str)</text>
<text text-anchor="middle" x="4065" y="-264.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest = doc[1]</text>
<text text-anchor="middle" x="4065" y="-249.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addLine(line)</text>
<text text-anchor="middle" x="4065" y="-233.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest.last = finish</text>
<text text-anchor="middle" x="4065" y="-218.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4065" y="-187.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc</text>
<text text-anchor="middle" x="4065" y="-171.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_48&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>codeblock_48&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3978.5836,-973.1518C3980.9651,-961.157 3984.4182,-943.7651 3988.5897,-922.7546"/>
<polygon fill="#000000" stroke="#000000" points="3992.0411,-923.3431 3990.5556,-912.8529 3985.1751,-921.9798 3992.0411,-923.3431"/>
</g>
<!-- raw_64 -->
<g id="node65" class="node">
<title>raw_64</title>
<ellipse fill="none" stroke="#000000" cx="4402" cy="-537.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="4402" y="-533.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_49&#45;&gt;raw_64 -->
<g id="edge64" class="edge">
<title>prose_49&#45;&gt;raw_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4285.4632,-979.9844C4310.6103,-967.4329 4347.8586,-944.5553 4366,-912.4014 4430.7597,-797.6212 4415.8008,-631.1349 4406.5566,-565.7473"/>
<polygon fill="#000000" stroke="#000000" points="4410.0096,-565.1717 4405.0806,-555.7933 4403.0853,-566.1985 4410.0096,-565.1717"/>
</g>
<!-- handleline_66 -->
<g id="node67" class="node">
<title>handleline_66</title>
<ellipse fill="none" stroke="#000000" cx="4497" cy="-537.9007" rx="50.3585" ry="18"/>
<text text-anchor="middle" x="4497" y="-533.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handleline</text>
</g>
<!-- structure_50&#45;&gt;handleline_66 -->
<g id="edge66" class="edge">
<title>structure_50&#45;&gt;handleline_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4430.7475,-973.1518C4441.3717,-903.3551 4479.8127,-650.8142 4492.7313,-565.9441"/>
<polygon fill="#000000" stroke="#000000" points="4496.1999,-566.4148 4494.2447,-556.002 4489.2796,-565.3614 4496.1999,-566.4148"/>
</g>
<!-- handleline_69 -->
<g id="node70" class="node">
<title>handleline_69</title>
<ellipse fill="none" stroke="#000000" cx="4616" cy="-537.9007" rx="50.3585" ry="18"/>
<text text-anchor="middle" x="4616" y="-533.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handleline</text>
</g>
<!-- structure_51&#45;&gt;handleline_69 -->
<g id="edge69" class="edge">
<title>structure_51&#45;&gt;handleline_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4579.5131,-973.1518C4585.3582,-903.4262 4606.4914,-651.3284 4613.6274,-566.2039"/>
<polygon fill="#000000" stroke="#000000" points="4617.1349,-566.2594 4614.4826,-556.002 4610.1594,-565.6746 4617.1349,-566.2594"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="4973.5,-681.4012 4684.5,-681.4012 4684.5,-394.4003 4973.5,-394.4003 4973.5,-681.4012"/>
<text text-anchor="middle" x="4829" y="-666.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Doc, str)</text>
<text text-anchor="middle" x="4829" y="-650.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local doc = setmetatable({}, D)</text>
<text text-anchor="middle" x="4829" y="-635.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.str = str</text>
<text text-anchor="middle" x="4829" y="-620.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.first = 1</text>
<text text-anchor="middle" x="4829" y="-604.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.last = #str</text>
<text text-anchor="middle" x="4829" y="-589.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.latest = nil</text>
<text text-anchor="middle" x="4829" y="-573.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.lines = {}</text>
<text text-anchor="middle" x="4829" y="-558.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.lastOf = {}</text>
<text text-anchor="middle" x="4829" y="-543.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; for now lets set root to &#39;false&#39;</text>
<text text-anchor="middle" x="4829" y="-527.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.root = false</text>
<text text-anchor="middle" x="4829" y="-512.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc:own(str)</text>
<text text-anchor="middle" x="4829" y="-496.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4829" y="-465.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">setmetatable(D, Node)</text>
<text text-anchor="middle" x="4829" y="-434.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">d[&quot;__call&quot;] = new</text>
<text text-anchor="middle" x="4829" y="-402.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">return setmetatable({}, d)</text>
</g>
<!-- codeblock_52&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>codeblock_52&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4782.9113,-973.1518C4787.8689,-926.3329 4801.5336,-797.2869 4812.7059,-691.7782"/>
<polygon fill="#000000" stroke="#000000" points="4816.2064,-691.9577 4813.779,-681.6447 4809.2453,-691.2206 4816.2064,-691.9577"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="3181,-119.7 3127,-119.7 3127,-79.7 3181,-79.7 3181,-119.7"/>
</g>
<!-- raw_54&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>raw_54&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3262.5174,-519.9018C3269.5207,-463.68 3284.8714,-287.6861 3223,-163.4 3218.5762,-154.5136 3202.7485,-139.668 3187.3669,-126.5432"/>
<polygon fill="#000000" stroke="#000000" points="3189.3361,-123.6265 3179.4268,-119.8773 3184.8352,-128.9877 3189.3361,-123.6265"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="3628.5,-127.0004 3199.5,-127.0004 3199.5,-72.3996 3628.5,-72.3996 3628.5,-127.0004"/>
<text text-anchor="middle" x="3414" y="-95.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> This function looks at document level and places the block</text>
<text text-anchor="middle" x="3414" y="-80.5" font-family="Inconsolata" font-size="14.00" fill="#000000"> accordingly.</text>
</g>
<!-- raw_57&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>raw_57&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3587.8987,-519.8075C3599.3162,-461.8033 3627.0574,-277.6268 3547,-163.4 3538.1406,-150.7593 3526.0769,-140.5395 3512.8096,-132.3013"/>
<polygon fill="#000000" stroke="#000000" points="3514.3473,-129.1474 3503.9389,-127.1684 3510.8414,-135.2062 3514.3473,-129.1474"/>
</g>
<!-- leaf_60 -->
<g id="node61" class="node">
<title>leaf_60</title>
<polygon fill="none" stroke="#c0c0c0" points="3879.5,-127.0004 3646.5,-127.0004 3646.5,-72.3996 3879.5,-72.3996 3879.5,-127.0004"/>
<text text-anchor="middle" x="3763" y="-95.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; doc : the document</text>
<text text-anchor="middle" x="3763" y="-80.5" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; block : block to be appended</text>
</g>
<!-- raw_59&#45;&gt;leaf_60 -->
<g id="edge60" class="edge">
<title>raw_59&#45;&gt;leaf_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3653.3449,-519.8679C3645.9296,-463.5467 3629.4263,-287.2939 3692,-163.4 3697.4826,-152.5446 3705.6624,-142.6752 3714.5408,-134.1196"/>
<polygon fill="#000000" stroke="#000000" points="3717.0613,-136.5587 3722.119,-127.249 3712.3596,-131.3727 3717.0613,-136.5587"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="4068,-127.6015 3898,-127.6015 3898,-71.7985 4068,-71.7985 4068,-127.6015"/>
<text text-anchor="middle" x="3983" y="-96.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> returns: the document</text>
</g>
<!-- raw_61&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>raw_61&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3723.474,-520.0636C3709.7025,-461.2659 3674.4822,-271.1779 3764,-163.4 3798.991,-121.2714 3830.0483,-141.164 3888.0158,-127.4132"/>
<polygon fill="#000000" stroke="#000000" points="3889.1786,-130.7262 3897.9525,-124.7874 3887.3901,-123.9585 3889.1786,-130.7262"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="4456,-119.6021 4300,-119.6021 4300,-79.7979 4456,-79.7979 4456,-119.6021"/>
<text text-anchor="middle" x="4378" y="-88.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> Creates a Doc Node.</text>
</g>
<!-- raw_64&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>raw_64&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4401.0144,-519.9058C4397.3217,-452.482 4384.2806,-214.3735 4379.6479,-129.7884"/>
<polygon fill="#000000" stroke="#000000" points="4383.1304,-129.3714 4379.0887,-119.5778 4376.1409,-129.7543 4383.1304,-129.3714"/>
</g>
<!-- handle_67 -->
<g id="node68" class="node">
<title>handle_67</title>
<ellipse fill="none" stroke="#000000" cx="4511" cy="-99.7" rx="36.827" ry="18"/>
<text text-anchor="middle" x="4511" y="-95.5" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handle</text>
</g>
<!-- handleline_66&#45;&gt;handle_67 -->
<g id="edge67" class="edge">
<title>handleline_66&#45;&gt;handle_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4497.5837,-519.6297C4499.7629,-451.4217 4507.4326,-211.3592 4510.0875,-128.2627"/>
<polygon fill="#000000" stroke="#000000" points="4513.5926,-128.1558 4510.4138,-118.0491 4506.5961,-127.9322 4513.5926,-128.1558"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="4538,-36 4484,-36 4484,0 4538,0 4538,-36"/>
</g>
<!-- handle_67&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>handle_67&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4511,-81.5681C4511,-71.2023 4511,-57.9747 4511,-46.2729"/>
<polygon fill="#000000" stroke="#000000" points="4514.5001,-46.0812 4511,-36.0812 4507.5001,-46.0812 4514.5001,-46.0812"/>
</g>
<!-- handle_70 -->
<g id="node71" class="node">
<title>handle_70</title>
<ellipse fill="none" stroke="#000000" cx="4616" cy="-99.7" rx="36.827" ry="18"/>
<text text-anchor="middle" x="4616" y="-95.5" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">handle</text>
</g>
<!-- handleline_69&#45;&gt;handle_70 -->
<g id="edge70" class="edge">
<title>handleline_69&#45;&gt;handle_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4616,-519.6297C4616,-451.4217 4616,-211.3592 4616,-128.2627"/>
<polygon fill="#000000" stroke="#000000" points="4619.5001,-128.049 4616,-118.0491 4612.5001,-128.0491 4619.5001,-128.049"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="4643,-36 4589,-36 4589,0 4643,0 4643,-36"/>
</g>
<!-- handle_70&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>handle_70&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4616,-81.5681C4616,-71.2023 4616,-57.9747 4616,-46.2729"/>
<polygon fill="#000000" stroke="#000000" points="4619.5001,-46.0812 4616,-36.0812 4612.5001,-46.0812 4619.5001,-46.0812"/>
</g>
</g>
</svg>