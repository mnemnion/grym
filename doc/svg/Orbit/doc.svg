<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="5075pt" height="1258pt"
 viewBox="0.00 0.00 5074.50 1258.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1254.0016)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1254.0016 5070.5,-1254.0016 5070.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="733" cy="-1232.0016" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="733" y="-1227.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 187</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="733" cy="-1160.0016" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="733" y="-1155.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;10</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M733,-1213.8329C733,-1206.1325 733,-1196.9759 733,-1188.4182"/>
<polygon fill="#000000" stroke="#000000" points="736.5001,-1188.4148 733,-1178.4148 729.5001,-1188.4149 736.5001,-1188.4148"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="531" cy="-1088.0016" rx="69.6687" ry="18"/>
<text text-anchor="middle" x="531" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Doc module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M694.0524,-1146.1192C661.9855,-1134.6895 616.2935,-1118.4032 581.433,-1105.9777"/>
<polygon fill="#000000" stroke="#000000" points="582.5028,-1102.6434 571.9081,-1102.5827 580.1525,-1109.237 582.5028,-1102.6434"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="651" cy="-1088.0016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="651" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M713.5671,-1142.9386C702.3006,-1133.046 687.9965,-1120.4863 675.9098,-1109.8736"/>
<polygon fill="#000000" stroke="#000000" points="678.1653,-1107.1963 668.3415,-1103.2283 673.5466,-1112.4564 678.1653,-1107.1963"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="733" cy="-1088.0016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="733" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M733,-1141.8329C733,-1134.1325 733,-1124.9759 733,-1116.4182"/>
<polygon fill="#000000" stroke="#000000" points="736.5001,-1116.4148 733,-1106.4148 729.5001,-1116.4149 736.5001,-1116.4148"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="973" cy="-1088.0016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="973" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M775.9072,-1147.1294C821.0631,-1133.5826 891.4758,-1112.4588 934.7818,-1099.467"/>
<polygon fill="#000000" stroke="#000000" points="935.811,-1102.8124 944.3835,-1096.5865 933.7995,-1096.1077 935.811,-1102.8124"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="1655" cy="-1088.0016" rx="65.0143" ry="18"/>
<text text-anchor="middle" x="1655" y="-1083.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 11&#45;75</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M792.0778,-1155.3881C954.0741,-1142.7376 1405.0067,-1107.5238 1582.1874,-1093.6876"/>
<polygon fill="#000000" stroke="#000000" points="1582.4953,-1097.1743 1592.1924,-1092.9063 1581.9502,-1090.1955 1582.4953,-1097.1743"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="584.5,-1034.0016 477.5,-1034.0016 477.5,-998.0016 584.5,-998.0016 584.5,-1034.0016"/>
<text text-anchor="middle" x="531" y="-1012.5016" font-family="Inconsolata" font-size="14.00" fill="#000000"> * Doc module</text>
</g>
<!-- header_2&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>header_2&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M531,-1069.8329C531,-1062.1325 531,-1052.9759 531,-1044.4182"/>
<polygon fill="#000000" stroke="#000000" points="534.5001,-1044.4148 531,-1034.4148 527.5001,-1044.4149 534.5001,-1044.4148"/>
</g>
<!-- raw_8 -->
<g id="node9" class="node">
<title>raw_8</title>
<ellipse fill="none" stroke="#000000" cx="640" cy="-1016.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="640" y="-1011.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_8 -->
<g id="edge8" class="edge">
<title>prose_3&#45;&gt;raw_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M648.2242,-1069.8329C647.0297,-1062.014 645.6058,-1052.6938 644.2812,-1044.0237"/>
<polygon fill="#000000" stroke="#000000" points="647.707,-1043.2717 642.7368,-1033.915 640.7873,-1044.3289 647.707,-1043.2717"/>
</g>
<!-- raw_10 -->
<g id="node11" class="node">
<title>raw_10</title>
<ellipse fill="none" stroke="#000000" cx="723" cy="-1016.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="723" y="-1011.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_10 -->
<g id="edge10" class="edge">
<title>prose_4&#45;&gt;raw_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M730.4766,-1069.8329C729.4071,-1062.1325 728.1353,-1052.9759 726.9468,-1044.4182"/>
<polygon fill="#000000" stroke="#000000" points="730.3999,-1043.8382 725.5574,-1034.4148 723.4664,-1044.8013 730.3999,-1043.8382"/>
</g>
<!-- raw_12 -->
<g id="node13" class="node">
<title>raw_12</title>
<ellipse fill="none" stroke="#000000" cx="1010" cy="-1016.0016" rx="27" ry="18"/>
<text text-anchor="middle" x="1010" y="-1011.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_12 -->
<g id="edge12" class="edge">
<title>prose_5&#45;&gt;raw_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M981.9567,-1070.5724C986.3197,-1062.0822 991.6578,-1051.6944 996.5015,-1042.269"/>
<polygon fill="#000000" stroke="#000000" points="999.6681,-1043.7643 1001.1258,-1033.2702 993.4421,-1040.5648 999.6681,-1043.7643"/>
</g>
<!-- header_14 -->
<g id="node15" class="node">
<title>header_14</title>
<ellipse fill="none" stroke="#000000" cx="1385" cy="-1016.0016" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="1385" y="-1011.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Fields</text>
</g>
<!-- section_6&#45;&gt;header_14 -->
<g id="edge14" class="edge">
<title>section_6&#45;&gt;header_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1607.9696,-1075.4601C1558.9213,-1062.3806 1482.4327,-1041.9836 1433.0194,-1028.8067"/>
<polygon fill="#000000" stroke="#000000" points="1433.7741,-1025.3858 1423.2099,-1026.1909 1431.9705,-1032.1494 1433.7741,-1025.3858"/>
</g>
<!-- prose_15 -->
<g id="node16" class="node">
<title>prose_15</title>
<ellipse fill="none" stroke="#000000" cx="1512" cy="-1016.0016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1512" y="-1011.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_15 -->
<g id="edge15" class="edge">
<title>section_6&#45;&gt;prose_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1623.618,-1072.2009C1600.3921,-1060.5067 1568.8157,-1044.6081 1545.1746,-1032.7049"/>
<polygon fill="#000000" stroke="#000000" points="1546.7233,-1029.566 1536.2175,-1028.195 1543.5753,-1035.8183 1546.7233,-1029.566"/>
</g>
<!-- prose_16 -->
<g id="node17" class="node">
<title>prose_16</title>
<ellipse fill="none" stroke="#000000" cx="1610" cy="-1016.0016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1610" y="-1011.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_16 -->
<g id="edge16" class="edge">
<title>section_6&#45;&gt;prose_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1643.8764,-1070.2038C1638.5116,-1061.6201 1631.9758,-1051.1629 1626.0814,-1041.7318"/>
<polygon fill="#000000" stroke="#000000" points="1628.9538,-1039.7238 1620.6858,-1033.0988 1623.0178,-1043.4338 1628.9538,-1039.7238"/>
</g>
<!-- prose_17 -->
<g id="node18" class="node">
<title>prose_17</title>
<ellipse fill="none" stroke="#000000" cx="1700" cy="-1016.0016" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1700" y="-1011.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_17 -->
<g id="edge17" class="edge">
<title>section_6&#45;&gt;prose_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1666.1236,-1070.2038C1671.4884,-1061.6201 1678.0242,-1051.1629 1683.9186,-1041.7318"/>
<polygon fill="#000000" stroke="#000000" points="1686.9822,-1043.4338 1689.3142,-1033.0988 1681.0462,-1039.7238 1686.9822,-1043.4338"/>
</g>
<!-- codeblock_18 -->
<g id="node19" class="node">
<title>codeblock_18</title>
<ellipse fill="none" stroke="#000000" cx="1972" cy="-1016.0016" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1972" y="-1011.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 22&#45;28</text>
</g>
<!-- section_6&#45;&gt;codeblock_18 -->
<g id="edge18" class="edge">
<title>section_6&#45;&gt;codeblock_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1705.5801,-1076.5133C1760.027,-1064.1469 1846.8298,-1044.4314 1906.4695,-1030.8854"/>
<polygon fill="#000000" stroke="#000000" points="1907.5596,-1034.2271 1916.536,-1028.5991 1906.0091,-1027.4009 1907.5596,-1034.2271"/>
</g>
<!-- section_19 -->
<g id="node20" class="node">
<title>section_19</title>
<ellipse fill="none" stroke="#000000" cx="2498" cy="-1016.0016" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2498" y="-1011.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 30&#45;75</text>
</g>
<!-- section_6&#45;&gt;section_19 -->
<g id="edge19" class="edge">
<title>section_6&#45;&gt;section_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1717.3301,-1082.678C1869.8673,-1069.6499 2261.3662,-1036.2123 2424.7077,-1022.2614"/>
<polygon fill="#000000" stroke="#000000" points="2425.466,-1025.7095 2435.1318,-1021.3711 2424.8702,-1018.7349 2425.466,-1025.7095"/>
</g>
<!-- section_20 -->
<g id="node21" class="node">
<title>section_20</title>
<ellipse fill="none" stroke="#000000" cx="3748" cy="-1016.0016" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3748" y="-1011.8016" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 76&#45;187</text>
</g>
<!-- section_6&#45;&gt;section_20 -->
<g id="edge20" class="edge">
<title>section_6&#45;&gt;section_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1719.6455,-1085.7777C2025.9028,-1075.2424 3330.0009,-1030.3809 3667.8238,-1018.7597"/>
<polygon fill="#000000" stroke="#000000" points="3668.1364,-1022.2511 3678.0101,-1018.4092 3667.8957,-1015.2552 3668.1364,-1022.2511"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="520,-947.103 0,-947.103 0,-891.3 520,-891.3 520,-947.103"/>
<text text-anchor="middle" x="260" y="-899.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> Represents a Document, which is generally the same as a file, at first.</text>
</g>
<!-- raw_8&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>raw_8&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M616.7862,-1006.407C609.2706,-1003.491 600.8489,-1000.4214 593,-998.0016 532.3557,-979.3049 464.3419,-962.4912 405.6677,-949.2444"/>
<polygon fill="#000000" stroke="#000000" points="406.1052,-945.7556 395.5815,-946.9815 404.5727,-952.5858 406.1052,-945.7556"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="834,-939.1036 538,-939.1036 538,-899.2994 834,-899.2994 834,-939.1036"/>
<text text-anchor="middle" x="686" y="-907.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> A document contains an array of blocks.</text>
</g>
<!-- raw_10&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>raw_10&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M716.2136,-998.2469C710.9269,-984.4158 703.4723,-964.9127 697.2906,-948.7403"/>
<polygon fill="#000000" stroke="#000000" points="700.4767,-947.2727 693.637,-939.1815 693.9381,-949.772 700.4767,-947.2727"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="1316,-954.5018 852,-954.5018 852,-883.9012 1316,-883.9012 1316,-954.5018"/>
<text text-anchor="middle" x="1084" y="-923.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> At some point documents can also contain documents, this is not</text>
<text text-anchor="middle" x="1084" y="-908.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> currently supported.</text>
</g>
<!-- raw_12&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>raw_12&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1022.5531,-999.5807C1030.3389,-989.3961 1040.7387,-975.792 1050.7658,-962.6755"/>
<polygon fill="#000000" stroke="#000000" points="1053.6414,-964.6768 1056.9341,-954.6066 1048.0802,-960.4255 1053.6414,-964.6768"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1420,-937.2015 1334,-937.2015 1334,-901.2015 1420,-901.2015 1420,-937.2015"/>
<text text-anchor="middle" x="1377" y="-915.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> ** Fields</text>
</g>
<!-- header_14&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>header_14&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1383.4953,-997.7942C1382.322,-983.5976 1380.6718,-963.6308 1379.3284,-947.3754"/>
<polygon fill="#000000" stroke="#000000" points="1382.8098,-947.0049 1378.498,-937.3272 1375.8336,-947.5815 1382.8098,-947.0049"/>
</g>
<!-- raw_22 -->
<g id="node23" class="node">
<title>raw_22</title>
<ellipse fill="none" stroke="#000000" cx="1465" cy="-919.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1465" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_15&#45;&gt;raw_22 -->
<g id="edge22" class="edge">
<title>prose_15&#45;&gt;raw_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1503.3795,-998.2469C1496.2462,-983.5553 1486.0056,-962.464 1477.8964,-945.7626"/>
<polygon fill="#000000" stroke="#000000" points="1480.924,-943.9849 1473.4077,-936.5179 1474.627,-947.0423 1480.924,-943.9849"/>
</g>
<!-- raw_24 -->
<g id="node25" class="node">
<title>raw_24</title>
<ellipse fill="none" stroke="#000000" cx="1537" cy="-919.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1537" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_16&#45;&gt;raw_24 -->
<g id="edge24" class="edge">
<title>prose_16&#45;&gt;raw_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1597.2844,-999.1403C1585.6997,-983.7787 1568.4532,-960.9093 1555.3712,-943.5622"/>
<polygon fill="#000000" stroke="#000000" points="1558.1423,-941.4238 1549.3267,-935.547 1552.5534,-945.6386 1558.1423,-941.4238"/>
</g>
<!-- raw_26 -->
<g id="node27" class="node">
<title>raw_26</title>
<ellipse fill="none" stroke="#000000" cx="1609" cy="-919.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1609" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_17&#45;&gt;raw_26 -->
<g id="edge26" class="edge">
<title>prose_17&#45;&gt;raw_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1683.2251,-1000.3321C1672.114,-989.761 1657.3644,-975.3554 1645,-962.0016 1639.5577,-956.1238 1633.8844,-949.5894 1628.6941,-943.4321"/>
<polygon fill="#000000" stroke="#000000" points="1631.0696,-940.8148 1621.983,-935.3665 1625.6887,-945.2921 1631.0696,-940.8148"/>
</g>
<!-- prespace_27 -->
<g id="node28" class="node">
<title>prespace_27</title>
<ellipse fill="none" stroke="#000000" cx="1700" cy="-919.2015" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1700" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_17&#45;&gt;prespace_27 -->
<g id="edge27" class="edge">
<title>prose_17&#45;&gt;prespace_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1700,-997.7942C1700,-983.5976 1700,-963.6308 1700,-947.3754"/>
<polygon fill="#000000" stroke="#000000" points="1703.5001,-947.3272 1700,-937.3272 1696.5001,-947.3272 1703.5001,-947.3272"/>
</g>
<!-- interpolated_28 -->
<g id="node29" class="node">
<title>interpolated_28</title>
<ellipse fill="none" stroke="#000000" cx="1821" cy="-919.2015" rx="56.1474" ry="18"/>
<text text-anchor="middle" x="1821" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">interpolated</text>
</g>
<!-- prose_17&#45;&gt;interpolated_28 -->
<g id="edge28" class="edge">
<title>prose_17&#45;&gt;interpolated_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1718.6411,-1001.0887C1738.2428,-985.4073 1769.343,-960.5271 1792.123,-942.3031"/>
<polygon fill="#000000" stroke="#000000" points="1794.4802,-944.8996 1800.1025,-935.9195 1790.1073,-939.4335 1794.4802,-944.8996"/>
</g>
<!-- raw_29 -->
<g id="node30" class="node">
<title>raw_29</title>
<ellipse fill="none" stroke="#000000" cx="1922" cy="-919.2015" rx="27" ry="18"/>
<text text-anchor="middle" x="1922" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_17&#45;&gt;raw_29 -->
<g id="edge29" class="edge">
<title>prose_17&#45;&gt;raw_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1731.6199,-1012.5178C1770.6185,-1007.0043 1837.6697,-993.4604 1886,-962.0016 1893.2093,-957.3089 1899.7403,-950.7383 1905.199,-944.1516"/>
<polygon fill="#000000" stroke="#000000" points="1908.1915,-946.0015 1911.5103,-935.9399 1902.6414,-941.7358 1908.1915,-946.0015"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2263,-961.8026 1967,-961.8026 1967,-876.6004 2263,-876.6004 2263,-961.8026"/>
<text text-anchor="middle" x="2115" y="-946.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;util&quot;</text>
<text text-anchor="middle" x="2115" y="-915.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;lib/espalier/node&quot;</text>
<text text-anchor="middle" x="2115" y="-900.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">local Section = require &quot;Orbit/section&quot;</text>
<text text-anchor="middle" x="2115" y="-884.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">local own = require &quot;Orbit/own&quot;</text>
</g>
<!-- codeblock_18&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>codeblock_18&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1997.2364,-998.9185C2010.2093,-990.1368 2026.7432,-978.9446 2043.292,-967.7423"/>
<polygon fill="#000000" stroke="#000000" points="2045.6094,-970.4001 2051.9285,-961.8961 2041.6854,-964.6034 2045.6094,-970.4001"/>
</g>
<!-- header_35 -->
<g id="node36" class="node">
<title>header_35</title>
<ellipse fill="none" stroke="#000000" cx="2424" cy="-919.2015" rx="99.1453" ry="18"/>
<text text-anchor="middle" x="2424" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Metatable for Docs.</text>
</g>
<!-- section_19&#45;&gt;header_35 -->
<g id="edge35" class="edge">
<title>section_19&#45;&gt;header_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2484.4273,-998.2469C2473.1283,-983.4666 2456.8777,-962.2091 2444.0741,-945.4606"/>
<polygon fill="#000000" stroke="#000000" points="2446.5912,-942.9902 2437.7373,-937.1714 2441.03,-947.2416 2446.5912,-942.9902"/>
</g>
<!-- prose_36 -->
<g id="node37" class="node">
<title>prose_36</title>
<ellipse fill="none" stroke="#000000" cx="2573" cy="-919.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2573" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_19&#45;&gt;prose_36 -->
<g id="edge36" class="edge">
<title>section_19&#45;&gt;prose_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2511.7562,-998.2469C2523.4959,-983.0948 2540.5099,-961.1355 2553.6272,-944.2053"/>
<polygon fill="#000000" stroke="#000000" points="2556.725,-945.9216 2560.083,-935.873 2551.1916,-941.6343 2556.725,-945.9216"/>
</g>
<!-- codeblock_37 -->
<g id="node38" class="node">
<title>codeblock_37</title>
<ellipse fill="none" stroke="#000000" cx="2768" cy="-919.2015" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2768" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 32&#45;73</text>
</g>
<!-- section_19&#45;&gt;codeblock_37 -->
<g id="edge37" class="edge">
<title>section_19&#45;&gt;codeblock_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2538.1302,-1001.6141C2585.4667,-984.6431 2664.2699,-956.3907 2716.1823,-937.7791"/>
<polygon fill="#000000" stroke="#000000" points="2717.6366,-940.9759 2725.8687,-934.3064 2715.2741,-934.3866 2717.6366,-940.9759"/>
</g>
<!-- header_42 -->
<g id="node43" class="node">
<title>header_42</title>
<ellipse fill="none" stroke="#000000" cx="3147" cy="-919.2015" rx="86.074" ry="18"/>
<text text-anchor="middle" x="3147" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Doc Constructor</text>
</g>
<!-- section_20&#45;&gt;header_42 -->
<g id="edge42" class="edge">
<title>section_20&#45;&gt;header_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3678.0087,-1013.1241C3583.7917,-1008.1212 3411.4298,-994.9811 3268,-962.0016 3243.4086,-956.3471 3216.8966,-947.3203 3194.9751,-939.011"/>
<polygon fill="#000000" stroke="#000000" points="3196.1554,-935.715 3185.5658,-935.3826 3193.6368,-942.2462 3196.1554,-935.715"/>
</g>
<!-- prose_43 -->
<g id="node44" class="node">
<title>prose_43</title>
<ellipse fill="none" stroke="#000000" cx="3309" cy="-919.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3309" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_43 -->
<g id="edge43" class="edge">
<title>section_20&#45;&gt;prose_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3680.133,-1010.6942C3585.5812,-1002.5819 3419.5631,-985.5262 3364,-962.0016 3352.625,-957.1856 3341.5754,-949.4037 3332.4007,-941.7876"/>
<polygon fill="#000000" stroke="#000000" points="3334.6982,-939.1472 3324.8597,-935.216 3330.0993,-944.4246 3334.6982,-939.1472"/>
</g>
<!-- codeblock_44 -->
<g id="node45" class="node">
<title>codeblock_44</title>
<ellipse fill="none" stroke="#000000" cx="3450" cy="-919.2015" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3450" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 79&#45;97</text>
</g>
<!-- section_20&#45;&gt;codeblock_44 -->
<g id="edge44" class="edge">
<title>section_20&#45;&gt;codeblock_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3693.6981,-1004.4133C3651.9202,-994.8495 3593.0586,-979.9596 3543,-962.0016 3525.6587,-955.7805 3507.1132,-947.5803 3491.1819,-940.0236"/>
<polygon fill="#000000" stroke="#000000" points="3492.6614,-936.8514 3482.1328,-935.6685 3489.6257,-943.159 3492.6614,-936.8514"/>
</g>
<!-- prose_45 -->
<g id="node46" class="node">
<title>prose_45</title>
<ellipse fill="none" stroke="#000000" cx="3584" cy="-919.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3584" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_45 -->
<g id="edge45" class="edge">
<title>section_20&#45;&gt;prose_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3704.5582,-1001.7242C3679.9727,-992.5039 3649.3673,-979.0426 3625,-962.0016 3617.4847,-956.7458 3610.2328,-949.962 3603.9718,-943.3511"/>
<polygon fill="#000000" stroke="#000000" points="3606.423,-940.8434 3597.1207,-935.7719 3601.2301,-945.5374 3606.423,-940.8434"/>
</g>
<!-- prose_46 -->
<g id="node47" class="node">
<title>prose_46</title>
<ellipse fill="none" stroke="#000000" cx="3666" cy="-919.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3666" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_46 -->
<g id="edge46" class="edge">
<title>section_20&#45;&gt;prose_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3732.9599,-998.2469C3719.9272,-982.862 3700.9495,-960.459 3686.5228,-943.4285"/>
<polygon fill="#000000" stroke="#000000" points="3688.9865,-940.9219 3679.8522,-935.5539 3683.6453,-945.4465 3688.9865,-940.9219"/>
</g>
<!-- prose_47 -->
<g id="node48" class="node">
<title>prose_47</title>
<ellipse fill="none" stroke="#000000" cx="3748" cy="-919.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3748" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_47 -->
<g id="edge47" class="edge">
<title>section_20&#45;&gt;prose_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3748,-997.7942C3748,-983.5976 3748,-963.6308 3748,-947.3754"/>
<polygon fill="#000000" stroke="#000000" points="3751.5001,-947.3272 3748,-937.3272 3744.5001,-947.3272 3751.5001,-947.3272"/>
</g>
<!-- codeblock_48 -->
<g id="node49" class="node">
<title>codeblock_48</title>
<ellipse fill="none" stroke="#000000" cx="3975" cy="-919.2015" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="3975" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 110&#45;159</text>
</g>
<!-- section_20&#45;&gt;codeblock_48 -->
<g id="edge48" class="edge">
<title>section_20&#45;&gt;codeblock_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3784.4715,-1000.449C3823.2711,-983.9036 3884.8094,-957.6617 3927.4024,-939.4986"/>
<polygon fill="#000000" stroke="#000000" points="3928.8975,-942.6661 3936.7232,-935.524 3926.1517,-936.2271 3928.8975,-942.6661"/>
</g>
<!-- prose_49 -->
<g id="node50" class="node">
<title>prose_49</title>
<ellipse fill="none" stroke="#000000" cx="4168" cy="-919.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4168" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_49 -->
<g id="edge49" class="edge">
<title>section_20&#45;&gt;prose_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3814.3624,-1009.8088C3880.4412,-1002.5067 3984.2551,-987.9438 4071,-962.0016 4093.0754,-955.3996 4116.755,-945.0205 4135.1915,-936.1366"/>
<polygon fill="#000000" stroke="#000000" points="4136.8848,-939.2044 4144.3185,-931.6552 4133.7995,-932.921 4136.8848,-939.2044"/>
</g>
<!-- prose_50 -->
<g id="node51" class="node">
<title>prose_50</title>
<ellipse fill="none" stroke="#000000" cx="4335" cy="-919.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4335" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_50 -->
<g id="edge50" class="edge">
<title>section_20&#45;&gt;prose_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3817.4972,-1012.4334C3908.4108,-1006.7283 4072.2293,-992.8778 4209,-962.0016 4240.2345,-954.9503 4274.5816,-942.9885 4299.5151,-933.5002"/>
<polygon fill="#000000" stroke="#000000" points="4300.8495,-936.7369 4308.9175,-929.8698 4298.328,-930.2068 4300.8495,-936.7369"/>
</g>
<!-- prose_51 -->
<g id="node52" class="node">
<title>prose_51</title>
<ellipse fill="none" stroke="#000000" cx="4459" cy="-919.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4459" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_51 -->
<g id="edge51" class="edge">
<title>section_20&#45;&gt;prose_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3818.0707,-1013.4041C3959.1794,-1007.6131 4272.8971,-991.754 4376,-962.0016 4394.4467,-956.6784 4413.5879,-947.1215 4428.8336,-938.3868"/>
<polygon fill="#000000" stroke="#000000" points="4430.9528,-941.2001 4437.7819,-933.0997 4427.3919,-935.1734 4430.9528,-941.2001"/>
</g>
<!-- prose_52 -->
<g id="node53" class="node">
<title>prose_52</title>
<ellipse fill="none" stroke="#000000" cx="4562" cy="-919.2015" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4562" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_20&#45;&gt;prose_52 -->
<g id="edge52" class="edge">
<title>section_20&#45;&gt;prose_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3817.7907,-1013.088C3992.0215,-1005.5166 4436.6737,-984.256 4500,-962.0016 4513.2421,-957.348 4526.2769,-949.075 4536.9514,-941.0348"/>
<polygon fill="#000000" stroke="#000000" points="4539.2835,-943.653 4544.9649,-934.7103 4534.9467,-938.1582 4539.2835,-943.653"/>
</g>
<!-- codeblock_53 -->
<g id="node54" class="node">
<title>codeblock_53</title>
<ellipse fill="none" stroke="#000000" cx="4782" cy="-919.2015" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4782" y="-915.0015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 170&#45;186</text>
</g>
<!-- section_20&#45;&gt;codeblock_53 -->
<g id="edge53" class="edge">
<title>section_20&#45;&gt;codeblock_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3817.6851,-1013.1459C3993.5438,-1005.6908 4452.0512,-984.6434 4603,-962.0016 4642.6887,-956.0484 4686.5211,-945.634 4720.8772,-936.5692"/>
<polygon fill="#000000" stroke="#000000" points="4722.0028,-939.8913 4730.7613,-933.9297 4720.1968,-933.1283 4722.0028,-939.8913"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="919,-485.8028 791,-485.8028 791,-445.9987 919,-445.9987 919,-485.8028"/>
<text text-anchor="middle" x="855" y="-454.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">«quote endquote»</text>
</g>
<!-- raw_22&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>raw_22&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1455.3037,-902.0363C1449.0716,-892.7478 1440.0716,-882.0478 1429,-876.4014 1329.5641,-825.6903 1011.5472,-914.4216 928,-840.4014 827.3131,-751.196 840.4321,-567.8569 850.1599,-495.8634"/>
<polygon fill="#000000" stroke="#000000" points="853.6646,-496.079 851.6153,-485.6842 846.7351,-495.0881 853.6646,-496.079"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1317,-485.8028 937,-485.8028 937,-445.9987 1317,-445.9987 1317,-485.8028"/>
<text text-anchor="middle" x="1127" y="-454.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> In addition to the standard Node fields, a doc has:</text>
</g>
<!-- raw_24&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>raw_24&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1526.7096,-902.1431C1520.3961,-893.1279 1511.5109,-882.6618 1501,-876.4014 1432.7776,-835.7678 1389.5669,-887.9896 1326,-840.4014 1206.3075,-750.7958 1151.2863,-567.6914 1133.6522,-495.8121"/>
<polygon fill="#000000" stroke="#000000" points="1136.9529,-494.5646 1131.2283,-485.6494 1130.1438,-496.1886 1136.9529,-494.5646"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="1673,-485.8028 1335,-485.8028 1335,-445.9987 1673,-445.9987 1673,-485.8028"/>
<text text-anchor="middle" x="1504" y="-454.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; latest: The current block. &#160;This will be in</text>
</g>
<!-- raw_26&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>raw_26&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1604.8191,-901.1518C1588.7635,-831.8373 1530.9608,-582.2948 1510.9088,-495.7269"/>
<polygon fill="#000000" stroke="#000000" points="1514.2689,-494.7226 1508.6025,-485.7703 1507.4494,-496.3022 1514.2689,-494.7226"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1745,-483.9007 1691,-483.9007 1691,-447.9007 1745,-447.9007 1745,-483.9007"/>
<text text-anchor="middle" x="1718" y="-462.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_27&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>prespace_27&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1700.7167,-901.1518C1703.4854,-831.4262 1713.4959,-579.3284 1716.8761,-494.2039"/>
<polygon fill="#000000" stroke="#000000" points="1720.3816,-494.133 1717.2812,-484.002 1713.3871,-493.8552 1720.3816,-494.133"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="1842.5,-483.9007 1763.5,-483.9007 1763.5,-447.9007 1842.5,-447.9007 1842.5,-483.9007"/>
<text text-anchor="middle" x="1803" y="-462.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">doc[#doc]</text>
</g>
<!-- interpolated_28&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>interpolated_28&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1820.2833,-901.1518C1817.5146,-831.4262 1807.5041,-579.3284 1804.1239,-494.2039"/>
<polygon fill="#000000" stroke="#000000" points="1807.6129,-493.8552 1803.7188,-484.002 1800.6184,-494.133 1807.6129,-493.8552"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2325,-508.5018 1861,-508.5018 1861,-423.2997 2325,-423.2997 2325,-508.5018"/>
<text text-anchor="middle" x="2093" y="-493.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> but may</text>
<text text-anchor="middle" x="2093" y="-478.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;be several layers deep.</text>
<text text-anchor="middle" x="2093" y="-462.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; lastOf: An array containing references to the last block of a</text>
<text text-anchor="middle" x="2093" y="-447.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;given level.</text>
</g>
<!-- raw_29&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>raw_29&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1928.5986,-901.7093C1952.5018,-838.3449 2035.1557,-619.239 2073.3574,-517.9709"/>
<polygon fill="#000000" stroke="#000000" points="2076.6573,-519.1395 2076.9121,-508.5478 2070.1078,-516.6688 2076.6573,-519.1395"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2520.5,-483.9007 2343.5,-483.9007 2343.5,-447.9007 2520.5,-447.9007 2520.5,-483.9007"/>
<text text-anchor="middle" x="2432" y="-462.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Metatable for Docs.</text>
</g>
<!-- header_35&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>header_35&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2424.3185,-901.1518C2425.5491,-831.4262 2429.9982,-579.3284 2431.5005,-494.2039"/>
<polygon fill="#000000" stroke="#000000" points="2435.0034,-494.0622 2431.6805,-484.002 2428.0045,-493.9386 2435.0034,-494.0622"/>
</g>
<!-- raw_39 -->
<g id="node40" class="node">
<title>raw_39</title>
<ellipse fill="none" stroke="#000000" cx="2566" cy="-465.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="2566" y="-461.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_36&#45;&gt;raw_39 -->
<g id="edge39" class="edge">
<title>prose_36&#45;&gt;raw_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2572.7213,-901.1518C2571.6445,-831.4262 2567.7516,-579.3284 2566.4371,-494.2039"/>
<polygon fill="#000000" stroke="#000000" points="2569.9336,-493.9467 2566.2795,-484.002 2562.9344,-494.0548 2569.9336,-493.9467"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="3047,-780.2018 2611,-780.2018 2611,-151.5997 3047,-151.5997 3047,-780.2018"/>
<text text-anchor="middle" x="2829" y="-765.1012" font-family="Inconsolata" font-size="14.00" fill="#000000">local D = setmetatable({}, Node)</text>
<text text-anchor="middle" x="2829" y="-749.7012" font-family="Inconsolata" font-size="14.00" fill="#000000">D.id = &quot;doc&quot;</text>
<text text-anchor="middle" x="2829" y="-718.3012" font-family="Inconsolata" font-size="14.00" fill="#000000">D.__tostring = function (doc)</text>
<text text-anchor="middle" x="2829" y="-702.9011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="2829" y="-687.5011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(doc) do</text>
<text text-anchor="middle" x="2829" y="-672.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local repr = tostring(v)</text>
<text text-anchor="middle" x="2829" y="-656.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if repr ~= &quot;&quot; and repr ~= &quot;\n&quot; then</text>
<text text-anchor="middle" x="2829" y="-641.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. repr .. &quot;\n&quot;</text>
<text text-anchor="middle" x="2829" y="-625.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2829" y="-610.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2829" y="-579.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="2829" y="-563.7009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2829" y="-532.3009" font-family="Inconsolata" font-size="14.00" fill="#000000">string.lines = string.lines or function() end</text>
<text text-anchor="middle" x="2829" y="-500.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.__repr(doc)</text>
<text text-anchor="middle" x="2829" y="-485.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return string.lines(doc:toString())</text>
<text text-anchor="middle" x="2829" y="-470.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2829" y="-438.7007" font-family="Inconsolata" font-size="14.00" fill="#000000">D.__index = D</text>
<text text-anchor="middle" x="2829" y="-407.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">D.own = own</text>
<text text-anchor="middle" x="2829" y="-375.9007" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.dotLabel(doc)</text>
<text text-anchor="middle" x="2829" y="-360.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return &quot;doc &#45; &quot; .. tostring(doc.linum)</text>
<text text-anchor="middle" x="2829" y="-345.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2829" y="-313.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.toMarkdown(doc)</text>
<text text-anchor="middle" x="2829" y="-298.3005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="2829" y="-282.9005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, node in ipairs(doc) do</text>
<text text-anchor="middle" x="2829" y="-267.5005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if node.toMarkdown then</text>
<text text-anchor="middle" x="2829" y="-252.1005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. node:toMarkdown()</text>
<text text-anchor="middle" x="2829" y="-236.7004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="2829" y="-221.3004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;u.freeze(&quot;no toMarkdown method for &quot; .. node.id)</text>
<text text-anchor="middle" x="2829" y="-205.9004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2829" y="-190.5003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2829" y="-175.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return phrase</text>
<text text-anchor="middle" x="2829" y="-159.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_37&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>codeblock_37&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2770.4289,-901.1518C2773.4193,-878.9299 2778.9024,-838.1837 2785.3565,-790.2224"/>
<polygon fill="#000000" stroke="#000000" points="2788.8388,-790.5882 2786.7038,-780.2107 2781.9013,-789.6546 2788.8388,-790.5882"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="2593,-45.7 2539,-45.7 2539,-9.7 2593,-9.7 2593,-45.7"/>
</g>
<!-- raw_39&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>raw_39&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2566,-447.6297C2566,-379.4217 2566,-139.3592 2566,-56.2627"/>
<polygon fill="#000000" stroke="#000000" points="2569.5001,-56.049 2566,-46.0491 2562.5001,-56.0491 2569.5001,-56.049"/>
</g>
<!-- leaf_54 -->
<g id="node55" class="node">
<title>leaf_54</title>
<polygon fill="none" stroke="#c0c0c0" points="3214.5,-483.9007 3065.5,-483.9007 3065.5,-447.9007 3214.5,-447.9007 3214.5,-483.9007"/>
<text text-anchor="middle" x="3140" y="-462.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Doc Constructor</text>
</g>
<!-- header_42&#45;&gt;leaf_54 -->
<g id="edge54" class="edge">
<title>header_42&#45;&gt;leaf_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3146.7213,-901.1518C3145.6445,-831.4262 3141.7516,-579.3284 3140.4371,-494.2039"/>
<polygon fill="#000000" stroke="#000000" points="3143.9336,-493.9467 3140.2795,-484.002 3136.9344,-494.0548 3143.9336,-493.9467"/>
</g>
<!-- raw_55 -->
<g id="node56" class="node">
<title>raw_55</title>
<ellipse fill="none" stroke="#000000" cx="3260" cy="-465.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="3260" y="-461.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_43&#45;&gt;raw_55 -->
<g id="edge55" class="edge">
<title>prose_43&#45;&gt;raw_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3305.656,-901.1001C3302.7972,-885.1617 3298.7252,-861.3 3296,-840.4014 3279.2285,-711.7853 3266.8149,-557.3658 3262.0898,-494.562"/>
<polygon fill="#000000" stroke="#000000" points="3265.5561,-493.978 3261.3226,-484.2657 3258.5754,-494.4982 3265.5561,-493.978"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3538.5,-601.5015 3305.5,-601.5015 3305.5,-330.3 3538.5,-330.3 3538.5,-601.5015"/>
<text text-anchor="middle" x="3422" y="-586.501" font-family="Inconsolata" font-size="14.00" fill="#000000">local d = {}</text>
<text text-anchor="middle" x="3422" y="-539.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.parentOf(doc, level)</text>
<text text-anchor="middle" x="3422" y="-523.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local i = level &#45; 1</text>
<text text-anchor="middle" x="3422" y="-508.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local parent = nil</text>
<text text-anchor="middle" x="3422" y="-492.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;while i &gt;= 0 do</text>
<text text-anchor="middle" x="3422" y="-477.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;parent = doc.lastOf[i]</text>
<text text-anchor="middle" x="3422" y="-462.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if parent then</text>
<text text-anchor="middle" x="3422" y="-446.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return parent</text>
<text text-anchor="middle" x="3422" y="-431.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="3422" y="-415.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;i = i &#45; 1</text>
<text text-anchor="middle" x="3422" y="-400.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3422" y="-385.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3422" y="-353.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc</text>
<text text-anchor="middle" x="3422" y="-338.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_44&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>codeblock_44&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3448.8851,-901.1518C3445.9217,-853.1764 3437.6252,-718.8613 3431.0247,-612.0041"/>
<polygon fill="#000000" stroke="#000000" points="3434.5014,-611.5178 3430.3915,-601.7526 3427.5147,-611.9494 3434.5014,-611.5178"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="3584" cy="-465.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="3584" y="-461.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_45&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3584,-901.1518C3584,-831.4262 3584,-579.3284 3584,-494.2039"/>
<polygon fill="#000000" stroke="#000000" points="3587.5001,-494.0019 3584,-484.002 3580.5001,-494.002 3587.5001,-494.0019"/>
</g>
<!-- raw_60 -->
<g id="node61" class="node">
<title>raw_60</title>
<ellipse fill="none" stroke="#000000" cx="3656" cy="-465.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="3656" y="-461.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_46&#45;&gt;raw_60 -->
<g id="edge60" class="edge">
<title>prose_46&#45;&gt;raw_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3665.6018,-901.1518C3664.0636,-831.4262 3658.5023,-579.3284 3656.6244,-494.2039"/>
<polygon fill="#000000" stroke="#000000" points="3660.1191,-493.9223 3656.3993,-484.002 3653.1208,-494.0768 3660.1191,-493.9223"/>
</g>
<!-- raw_62 -->
<g id="node63" class="node">
<title>raw_62</title>
<ellipse fill="none" stroke="#000000" cx="3728" cy="-465.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="3728" y="-461.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_47&#45;&gt;raw_62 -->
<g id="edge62" class="edge">
<title>prose_47&#45;&gt;raw_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3747.2036,-901.1518C3744.1273,-831.4262 3733.0045,-579.3284 3729.2488,-494.2039"/>
<polygon fill="#000000" stroke="#000000" points="3732.7361,-493.8379 3728.7986,-484.002 3725.7429,-494.1465 3732.7361,-493.8379"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="4356.5,-840.4021 3773.5,-840.4021 3773.5,-91.3993 4356.5,-91.3993 4356.5,-840.4021"/>
<text text-anchor="middle" x="4065" y="-825.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.addSection(doc, section, linum, finish)</text>
<text text-anchor="middle" x="4065" y="-809.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.id == &quot;section&quot;, &quot;type of putative section is &quot; .. section.id)</text>
<text text-anchor="middle" x="4065" y="-794.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(section.first, &quot;no first in section at line &quot; .. tostring(linum))</text>
<text text-anchor="middle" x="4065" y="-779.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assert(type(finish) == &quot;number&quot;, &quot;finish is of type &quot; .. type(finish))</text>
<text text-anchor="middle" x="4065" y="-763.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not doc.latest then</text>
<text text-anchor="middle" x="4065" y="-748.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc[1] = &#160;section</text>
<text text-anchor="middle" x="4065" y="-732.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4065" y="-717.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if linum &gt; 0 then</text>
<text text-anchor="middle" x="4065" y="-702.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest.line_last = linum &#45; 1</text>
<text text-anchor="middle" x="4065" y="-686.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest.last = finish</text>
<text text-anchor="middle" x="4065" y="-671.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4065" y="-655.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local atLevel = doc.latest.level</text>
<text text-anchor="middle" x="4065" y="-640.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if atLevel &lt; section.level then</text>
<text text-anchor="middle" x="4065" y="-625.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; add the section under the latest section</text>
<text text-anchor="middle" x="4065" y="-609.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addSection(section, linum, finish)</text>
<text text-anchor="middle" x="4065" y="-594.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4065" y="-578.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local parent = doc:parentOf(section.level)</text>
<text text-anchor="middle" x="4065" y="-563.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if parent.id == &quot;doc&quot; then</text>
<text text-anchor="middle" x="4065" y="-548.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if section.level == 1 and doc.latest.level == 1 then</text>
<text text-anchor="middle" x="4065" y="-532.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc[#doc + 1] = section</text>
<text text-anchor="middle" x="4065" y="-517.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4065" y="-501.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addSection(section, linum, finish)</text>
<text text-anchor="middle" x="4065" y="-486.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4065" y="-471.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4065" y="-455.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;parent:addSection(section, linum, finish)</text>
<text text-anchor="middle" x="4065" y="-440.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4065" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4065" y="-409.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4065" y="-394.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.latest = section</text>
<text text-anchor="middle" x="4065" y="-378.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.lastOf[section.level] = section</text>
<text text-anchor="middle" x="4065" y="-363.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc</text>
<text text-anchor="middle" x="4065" y="-347.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4065" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">function D.addLine(doc, line, linum, finish)</text>
<text text-anchor="middle" x="4065" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if doc.latest then</text>
<text text-anchor="middle" x="4065" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addLine(line)</text>
<text text-anchor="middle" x="4065" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest.last = finish</text>
<text text-anchor="middle" x="4065" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="4065" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; a virtual zero block</text>
<text text-anchor="middle" x="4065" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc[1] = Section(0, linum, 1, #line, doc.str)</text>
<text text-anchor="middle" x="4065" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest = doc[1]</text>
<text text-anchor="middle" x="4065" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest:addLine(line)</text>
<text text-anchor="middle" x="4065" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;doc.latest.last = finish</text>
<text text-anchor="middle" x="4065" y="-146.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4065" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc</text>
<text text-anchor="middle" x="4065" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_48&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>codeblock_48&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3978.5836,-901.1518C3980.9651,-889.157 3984.4182,-871.7651 3988.5897,-850.7546"/>
<polygon fill="#000000" stroke="#000000" points="3992.0411,-851.3431 3990.5556,-840.8529 3985.1751,-849.9798 3992.0411,-851.3431"/>
</g>
<!-- raw_65 -->
<g id="node66" class="node">
<title>raw_65</title>
<ellipse fill="none" stroke="#000000" cx="4402" cy="-465.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="4402" y="-461.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_49&#45;&gt;raw_65 -->
<g id="edge65" class="edge">
<title>prose_49&#45;&gt;raw_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4195.7213,-909.9638C4247.6316,-892.4107 4355.2554,-854.7147 4366,-840.4014 4445.6542,-734.2913 4421.5656,-560.7812 4408.2193,-493.6426"/>
<polygon fill="#000000" stroke="#000000" points="4411.6383,-492.8921 4406.1871,-483.8072 4404.7831,-494.3086 4411.6383,-492.8921"/>
</g>
<!-- raw_67 -->
<g id="node68" class="node">
<title>raw_67</title>
<ellipse fill="none" stroke="#000000" cx="4474" cy="-465.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="4474" y="-461.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_50&#45;&gt;raw_67 -->
<g id="edge67" class="edge">
<title>prose_50&#45;&gt;raw_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4360.2134,-907.5561C4384.652,-894.8047 4420.5152,-871.8975 4438,-840.4014 4501.8159,-725.4475 4487.5322,-559.7268 4478.5133,-494.1488"/>
<polygon fill="#000000" stroke="#000000" points="4481.9634,-493.5509 4477.0704,-484.1537 4475.0352,-494.5512 4481.9634,-493.5509"/>
</g>
<!-- raw_69 -->
<g id="node70" class="node">
<title>raw_69</title>
<ellipse fill="none" stroke="#000000" cx="4546" cy="-465.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="4546" y="-461.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_51&#45;&gt;raw_69 -->
<g id="edge69" class="edge">
<title>prose_51&#45;&gt;raw_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4472.9065,-902.9281C4484.9672,-887.803 4501.7465,-864.101 4510,-840.4014 4552.9493,-717.0752 4550.7707,-557.9569 4547.7563,-494.1754"/>
<polygon fill="#000000" stroke="#000000" points="4551.2465,-493.8939 4547.2334,-484.0885 4544.2559,-494.2564 4551.2465,-493.8939"/>
</g>
<!-- raw_71 -->
<g id="node72" class="node">
<title>raw_71</title>
<ellipse fill="none" stroke="#000000" cx="4618" cy="-465.9007" rx="27" ry="18"/>
<text text-anchor="middle" x="4618" y="-461.7007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_52&#45;&gt;raw_71 -->
<g id="edge71" class="edge">
<title>prose_52&#45;&gt;raw_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4567.4004,-901.2179C4571.9624,-885.3549 4578.324,-861.5379 4582,-840.4014 4604.2773,-712.3111 4613.676,-557.002 4616.7553,-494.2394"/>
<polygon fill="#000000" stroke="#000000" points="4620.265,-494.1159 4617.243,-483.9612 4613.2728,-493.784 4620.265,-494.1159"/>
</g>
<!-- leaf_73 -->
<g id="node74" class="node">
<title>leaf_73</title>
<polygon fill="none" stroke="#c0c0c0" points="4952.5,-585.5015 4663.5,-585.5015 4663.5,-346.3 4952.5,-346.3 4952.5,-585.5015"/>
<text text-anchor="middle" x="4808" y="-570.501" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(str)</text>
<text text-anchor="middle" x="4808" y="-555.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local doc = setmetatable({}, D)</text>
<text text-anchor="middle" x="4808" y="-539.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.str = str</text>
<text text-anchor="middle" x="4808" y="-524.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.first = 1</text>
<text text-anchor="middle" x="4808" y="-508.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.last = #str</text>
<text text-anchor="middle" x="4808" y="-493.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.latest = nil</text>
<text text-anchor="middle" x="4808" y="-478.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.lines = {}</text>
<text text-anchor="middle" x="4808" y="-462.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.lastOf = {}</text>
<text text-anchor="middle" x="4808" y="-447.3007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#45;&#45; for now lets set root to &#39;false&#39;</text>
<text text-anchor="middle" x="4808" y="-431.9007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doc.root = false</text>
<text text-anchor="middle" x="4808" y="-416.5006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return doc:own(str)</text>
<text text-anchor="middle" x="4808" y="-401.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="4808" y="-369.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">D.idEst = new</text>
<text text-anchor="middle" x="4808" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">return new</text>
</g>
<!-- codeblock_53&#45;&gt;leaf_73 -->
<g id="edge73" class="edge">
<title>codeblock_53&#45;&gt;leaf_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4783.0353,-901.1518C4785.9294,-850.693 4794.3018,-704.7241 4800.5582,-595.646"/>
<polygon fill="#000000" stroke="#000000" points="4804.0593,-595.7262 4801.1377,-585.5421 4797.0707,-595.3253 4804.0593,-595.7262"/>
</g>
<!-- leaf_56 -->
<g id="node57" class="node">
<title>leaf_56</title>
<polygon fill="none" stroke="#c0c0c0" points="3217,-47.7 3163,-47.7 3163,-7.7 3217,-7.7 3217,-47.7"/>
</g>
<!-- raw_55&#45;&gt;leaf_56 -->
<g id="edge56" class="edge">
<title>raw_55&#45;&gt;leaf_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3260.5953,-447.8961C3261.9104,-393.0771 3262.2792,-223.8812 3223,-91.4 3219.4676,-79.4859 3213.676,-67.1828 3207.9228,-56.6036"/>
<polygon fill="#000000" stroke="#000000" points="3210.9108,-54.7772 3202.9346,-47.8035 3204.8211,-58.2291 3210.9108,-54.7772"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="3664.5,-55.0004 3235.5,-55.0004 3235.5,-.3996 3664.5,-.3996 3664.5,-55.0004"/>
<text text-anchor="middle" x="3450" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> This function looks at document level and places the block</text>
<text text-anchor="middle" x="3450" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000"> accordingly.</text>
</g>
<!-- raw_58&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>raw_58&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3587.3162,-447.8301C3596.8141,-390.6565 3619.0369,-210.4656 3547,-91.4 3539.7828,-79.4711 3529.3792,-69.3367 3518.0394,-60.8982"/>
<polygon fill="#000000" stroke="#000000" points="3519.8547,-57.8972 3509.649,-55.052 3515.8529,-63.6405 3519.8547,-57.8972"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="3915.5,-55.0004 3682.5,-55.0004 3682.5,-.3996 3915.5,-.3996 3915.5,-55.0004"/>
<text text-anchor="middle" x="3799" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; doc : the document</text>
<text text-anchor="middle" x="3799" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#45; block : block to be appended</text>
</g>
<!-- raw_60&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>raw_60&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3652.4027,-447.699C3642.0609,-390.1362 3617.5303,-208.9169 3692,-91.4 3699.7569,-79.1593 3710.7876,-68.9615 3722.8459,-60.576"/>
<polygon fill="#000000" stroke="#000000" points="3724.8561,-63.4438 3731.3305,-55.0574 3721.0394,-57.5759 3724.8561,-63.4438"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="4104,-55.6015 3934,-55.6015 3934,.2015 4104,.2015 4104,-55.6015"/>
<text text-anchor="middle" x="4019" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> returns: the document</text>
</g>
<!-- raw_62&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>raw_62&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3723.2261,-447.8514C3708.6827,-388.3931 3671.337,-196.4862 3764,-91.4 3812.2073,-36.7297 3853.4226,-73.6105 3924,-55.4 3924.1014,-55.3739 3924.2028,-55.3477 3924.3043,-55.3215"/>
<polygon fill="#000000" stroke="#000000" points="3925.0971,-58.7321 3933.8751,-52.7994 3923.3133,-51.9632 3925.0971,-58.7321"/>
</g>
<!-- leaf_66 -->
<g id="node67" class="node">
<title>leaf_66</title>
<polygon fill="none" stroke="#c0c0c0" points="4355,-47.6021 4199,-47.6021 4199,-7.7979 4355,-7.7979 4355,-47.6021"/>
<text text-anchor="middle" x="4277" y="-16.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> Creates a Doc Node.</text>
</g>
<!-- raw_65&#45;&gt;leaf_66 -->
<g id="edge66" class="edge">
<title>raw_65&#45;&gt;leaf_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4405.1729,-447.9556C4414.2548,-391.1545 4435.456,-211.948 4366,-91.4 4356.9601,-75.7104 4342.3175,-62.8747 4327.4962,-52.9423"/>
<polygon fill="#000000" stroke="#000000" points="4329.1112,-49.8224 4318.7899,-47.4302 4325.3666,-55.7367 4329.1112,-49.8224"/>
</g>
<!-- leaf_68 -->
<g id="node69" class="node">
<title>leaf_68</title>
<polygon fill="none" stroke="#c0c0c0" points="4445,-47.6021 4373,-47.6021 4373,-7.7979 4445,-7.7979 4445,-47.6021"/>
<text text-anchor="middle" x="4409" y="-16.2" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; params</text>
</g>
<!-- raw_67&#45;&gt;leaf_68 -->
<g id="edge68" class="edge">
<title>raw_67&#45;&gt;leaf_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4474.3571,-447.5948C4474.9836,-392.6166 4473.6339,-224.533 4438,-91.4 4434.8489,-79.6272 4429.7156,-67.3016 4424.6369,-56.6633"/>
<polygon fill="#000000" stroke="#000000" points="4427.6331,-54.8279 4420.0466,-47.4322 4421.3652,-57.9447 4427.6331,-54.8279"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4759,-47.6021 4463,-47.6021 4463,-7.7979 4759,-7.7979 4759,-47.6021"/>
<text text-anchor="middle" x="4611" y="-16.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; str: the string representing the doc</text>
</g>
<!-- raw_69&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>raw_69&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4545.6429,-447.5948C4545.0164,-392.6166 4546.3661,-224.533 4582,-91.4 4585.1511,-79.6272 4590.2844,-67.3016 4595.3631,-56.6633"/>
<polygon fill="#000000" stroke="#000000" points="4598.6348,-57.9447 4599.9534,-47.4322 4592.3669,-54.8279 4598.6348,-57.9447"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="5066.5,-47.6021 4777.5,-47.6021 4777.5,-7.7979 5066.5,-7.7979 5066.5,-47.6021"/>
<text text-anchor="middle" x="4922" y="-16.2" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; return: a Doc representing this data.</text>
</g>
<!-- raw_71&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>raw_71&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4613.337,-447.8908C4599.1478,-388.5553 4562.8525,-196.9864 4655,-91.4 4665.413,-79.4684 4736.9991,-62.7532 4803.4233,-49.439"/>
<polygon fill="#000000" stroke="#000000" points="4804.4769,-52.7982 4813.6031,-47.4166 4803.1128,-45.9324 4804.4769,-52.7982"/>
</g>
</g>
</svg>
