<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="2527pt" height="1742pt"
 viewBox="0.00 0.00 2527.30 1742.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1738.4024)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1738.4024 2523.2972,-1738.4024 2523.2972,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="800" cy="-1716.4024" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="800" y="-1712.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 148</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="800" cy="-1644.4024" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="800" y="-1640.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;55</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M800,-1698.2337C800,-1690.5333 800,-1681.3767 800,-1672.819"/>
<polygon fill="#000000" stroke="#000000" points="803.5001,-1672.8156 800,-1662.8156 796.5001,-1672.8157 803.5001,-1672.8156"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="461" cy="-1572.4024" rx="49.5296" ry="18"/>
<text text-anchor="middle" x="461" y="-1568.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Weave</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M746.4772,-1635.8105C689.8539,-1626.3183 598.079,-1609.7843 520,-1590.4024 516.1348,-1589.4429 512.1476,-1588.3824 508.1554,-1587.2704"/>
<polygon fill="#000000" stroke="#000000" points="508.8661,-1583.8328 498.288,-1584.4284 506.9287,-1590.5594 508.8661,-1583.8328"/>
</g>
<!-- block_3 -->
<g id="node4" class="node">
<title>block_3</title>
<ellipse fill="none" stroke="#000000" cx="575" cy="-1572.4024" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="575" y="-1568.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 1&#45;5</text>
</g>
<!-- section_1&#45;&gt;block_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;block_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M758.0498,-1631.189C723.6229,-1620.3183 673.6197,-1604.4677 630,-1590.4024 626.7459,-1589.3531 623.385,-1588.2647 620.0032,-1587.1661"/>
<polygon fill="#000000" stroke="#000000" points="621.0811,-1583.8362 610.4887,-1584.0671 618.9132,-1590.4921 621.0811,-1583.8362"/>
</g>
<!-- block_4 -->
<g id="node5" class="node">
<title>block_4</title>
<ellipse fill="none" stroke="#000000" cx="685" cy="-1572.4024" rx="45.9804" ry="18"/>
<text text-anchor="middle" x="685" y="-1568.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 6&#45;7</text>
</g>
<!-- section_1&#45;&gt;block_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;block_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M773.9047,-1628.0645C757.4265,-1617.7476 735.9845,-1604.3231 718.2867,-1593.2427"/>
<polygon fill="#000000" stroke="#000000" points="719.7525,-1590.0311 709.4193,-1587.691 716.0378,-1595.9642 719.7525,-1590.0311"/>
</g>
<!-- block_5 -->
<g id="node6" class="node">
<title>block_5</title>
<ellipse fill="none" stroke="#000000" cx="800" cy="-1572.4024" rx="50.8172" ry="18"/>
<text text-anchor="middle" x="800" y="-1568.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 8&#45;10</text>
</g>
<!-- section_1&#45;&gt;block_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;block_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M800,-1626.2337C800,-1618.5333 800,-1609.3767 800,-1600.819"/>
<polygon fill="#000000" stroke="#000000" points="803.5001,-1600.8156 800,-1590.8156 796.5001,-1600.8157 803.5001,-1600.8156"/>
</g>
<!-- block_6 -->
<g id="node7" class="node">
<title>block_6</title>
<ellipse fill="none" stroke="#000000" cx="949" cy="-1572.4024" rx="55.3502" ry="18"/>
<text text-anchor="middle" x="949" y="-1568.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 11&#45;48</text>
</g>
<!-- section_1&#45;&gt;block_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;block_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M831.9642,-1628.9566C854.46,-1618.0861 884.7373,-1603.4555 908.8602,-1591.7988"/>
<polygon fill="#000000" stroke="#000000" points="910.6277,-1594.832 918.1087,-1587.3297 907.582,-1588.5293 910.6277,-1594.832"/>
</g>
<!-- block_7 -->
<g id="node8" class="node">
<title>block_7</title>
<ellipse fill="none" stroke="#000000" cx="1113" cy="-1572.4024" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1113" y="-1568.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 49&#45;55</text>
</g>
<!-- section_1&#45;&gt;block_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;block_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M848.2203,-1633.3102C904.7137,-1620.3149 998.1297,-1598.8262 1057.5642,-1585.1544"/>
<polygon fill="#000000" stroke="#000000" points="1058.5635,-1588.516 1067.5244,-1582.8632 1056.9942,-1581.6941 1058.5635,-1588.516"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="1618" cy="-1572.4024" rx="70.655" ry="18"/>
<text text-anchor="middle" x="1618" y="-1568.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 56&#45;148</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M858.5003,-1639.2532C1003.2338,-1626.5138 1378.0904,-1593.5191 1540.7725,-1579.1999"/>
<polygon fill="#000000" stroke="#000000" points="1541.522,-1582.6476 1551.1766,-1578.2841 1540.9082,-1575.6745 1541.522,-1582.6476"/>
</g>
<!-- prose_9 -->
<g id="node10" class="node">
<title>prose_9</title>
<ellipse fill="none" stroke="#000000" cx="562" cy="-1500.4024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="562" y="-1496.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_3&#45;&gt;prose_9 -->
<g id="edge9" class="edge">
<title>block_3&#45;&gt;prose_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M571.7196,-1554.2337C570.3078,-1546.4149 568.625,-1537.0946 567.0595,-1528.4245"/>
<polygon fill="#000000" stroke="#000000" points="570.4556,-1527.5347 565.2344,-1518.3158 563.567,-1528.7786 570.4556,-1527.5347"/>
</g>
<!-- prose_11 -->
<g id="node12" class="node">
<title>prose_11</title>
<ellipse fill="none" stroke="#000000" cx="658" cy="-1500.4024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="658" y="-1496.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_4&#45;&gt;prose_11 -->
<g id="edge11" class="edge">
<title>block_4&#45;&gt;prose_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M678.1868,-1554.2337C675.1902,-1546.243 671.6057,-1536.6842 668.2943,-1527.8538"/>
<polygon fill="#000000" stroke="#000000" points="671.506,-1526.4501 664.7175,-1518.3158 664.9517,-1528.908 671.506,-1526.4501"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="762" cy="-1500.4024" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="762" y="-1496.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_5&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>block_5&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M790.6067,-1554.6046C786.1561,-1546.1719 780.7512,-1535.9309 775.843,-1526.6312"/>
<polygon fill="#000000" stroke="#000000" points="778.9171,-1524.9571 771.1541,-1517.747 772.7264,-1528.2245 778.9171,-1524.9571"/>
</g>
<!-- codeblock_15 -->
<g id="node16" class="node">
<title>codeblock_15</title>
<ellipse fill="none" stroke="#000000" cx="952" cy="-1500.4024" rx="76.6175" ry="18"/>
<text text-anchor="middle" x="952" y="-1496.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 11&#45;47</text>
</g>
<!-- block_6&#45;&gt;codeblock_15 -->
<g id="edge15" class="edge">
<title>block_6&#45;&gt;codeblock_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M949.757,-1554.2337C950.0779,-1546.5333 950.4594,-1537.3767 950.816,-1528.819"/>
<polygon fill="#000000" stroke="#000000" points="954.3133,-1528.9527 951.2328,-1518.8156 947.3194,-1528.6612 954.3133,-1528.9527"/>
</g>
<!-- codeblock_17 -->
<g id="node18" class="node">
<title>codeblock_17</title>
<ellipse fill="none" stroke="#000000" cx="1138" cy="-1500.4024" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1138" y="-1496.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 49&#45;53</text>
</g>
<!-- block_7&#45;&gt;codeblock_17 -->
<g id="edge17" class="edge">
<title>block_7&#45;&gt;codeblock_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1119.3086,-1554.2337C1122.0117,-1546.4487 1125.2316,-1537.1753 1128.231,-1528.5371"/>
<polygon fill="#000000" stroke="#000000" points="1131.6327,-1529.4104 1131.6065,-1518.8156 1125.02,-1527.1143 1131.6327,-1529.4104"/>
</g>
<!-- header_19 -->
<g id="node20" class="node">
<title>header_19</title>
<ellipse fill="none" stroke="#000000" cx="1349" cy="-1500.4024" rx="65.81" ry="18"/>
<text text-anchor="middle" x="1349" y="-1496.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : .dot to .svg</text>
</g>
<!-- section_8&#45;&gt;header_19 -->
<g id="edge19" class="edge">
<title>section_8&#45;&gt;header_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1569.2861,-1559.3637C1523.2516,-1547.0422 1454.2061,-1528.5616 1405.7146,-1515.5825"/>
<polygon fill="#000000" stroke="#000000" points="1406.5642,-1512.1867 1395.9992,-1512.9821 1404.7542,-1518.9487 1406.5642,-1512.1867"/>
</g>
<!-- block_20 -->
<g id="node21" class="node">
<title>block_20</title>
<ellipse fill="none" stroke="#000000" cx="1488" cy="-1500.4024" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1488" y="-1496.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 56&#45;60</text>
</g>
<!-- section_8&#45;&gt;block_20 -->
<g id="edge20" class="edge">
<title>section_8&#45;&gt;block_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1588.1754,-1555.8841C1569.4537,-1545.5152 1545.1607,-1532.0606 1525.1863,-1520.9979"/>
<polygon fill="#000000" stroke="#000000" points="1526.792,-1517.8863 1516.3484,-1516.103 1523.4005,-1524.0098 1526.792,-1517.8863"/>
</g>
<!-- block_21 -->
<g id="node22" class="node">
<title>block_21</title>
<ellipse fill="none" stroke="#000000" cx="1618" cy="-1500.4024" rx="55.6542" ry="18"/>
<text text-anchor="middle" x="1618" y="-1496.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 61&#45;77</text>
</g>
<!-- section_8&#45;&gt;block_21 -->
<g id="edge21" class="edge">
<title>section_8&#45;&gt;block_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1618,-1554.2337C1618,-1546.5333 1618,-1537.3767 1618,-1528.819"/>
<polygon fill="#000000" stroke="#000000" points="1621.5001,-1528.8156 1618,-1518.8156 1614.5001,-1528.8157 1621.5001,-1528.8156"/>
</g>
<!-- block_22 -->
<g id="node23" class="node">
<title>block_22</title>
<ellipse fill="none" stroke="#000000" cx="1773" cy="-1500.4024" rx="60.9913" ry="18"/>
<text text-anchor="middle" x="1773" y="-1496.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 78&#45;136</text>
</g>
<!-- section_8&#45;&gt;block_22 -->
<g id="edge22" class="edge">
<title>section_8&#45;&gt;block_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1652.0154,-1556.6017C1675.2472,-1545.8101 1706.1869,-1531.4381 1730.9623,-1519.9295"/>
<polygon fill="#000000" stroke="#000000" points="1732.5322,-1523.0596 1740.127,-1515.6724 1729.5832,-1516.711 1732.5322,-1523.0596"/>
</g>
<!-- block_23 -->
<g id="node24" class="node">
<title>block_23</title>
<ellipse fill="none" stroke="#000000" cx="2082" cy="-1500.4024" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="2082" y="-1496.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 137&#45;145</text>
</g>
<!-- section_8&#45;&gt;block_23 -->
<g id="edge23" class="edge">
<title>section_8&#45;&gt;block_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1678.6599,-1562.9896C1765.3496,-1549.5378 1924.1531,-1524.8959 2014.4765,-1510.8802"/>
<polygon fill="#000000" stroke="#000000" points="2015.2613,-1514.3003 2024.6063,-1509.3083 2014.1879,-1507.3831 2015.2613,-1514.3003"/>
</g>
<!-- block_24 -->
<g id="node25" class="node">
<title>block_24</title>
<ellipse fill="none" stroke="#000000" cx="2337" cy="-1500.4024" rx="65.8274" ry="18"/>
<text text-anchor="middle" x="2337" y="-1496.2024" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">block 146&#45;148</text>
</g>
<!-- section_8&#45;&gt;block_24 -->
<g id="edge24" class="edge">
<title>section_8&#45;&gt;block_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1683.7125,-1565.822C1818.4866,-1552.3258 2125.2501,-1521.6068 2265.1076,-1507.6016"/>
<polygon fill="#000000" stroke="#000000" points="2265.6871,-1511.0612 2275.2886,-1506.5821 2264.9895,-1504.096 2265.6871,-1511.0612"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="450,-1198.1035 0,-1198.1035 0,-1142.3005 450,-1142.3005 450,-1198.1035"/>
<text text-anchor="middle" x="225" y="-1150.702" font-family="Inconsolata" font-size="14.00" fill="#000000">Our weaver is currently somewhat narrowly focused on markdown.</text>
</g>
<!-- prose_9&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>prose_9&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M535.3654,-1489.8448C513.5194,-1480.4183 482.4791,-1465.211 459,-1446.4024 368.7239,-1374.0839 287.3034,-1262.9866 248.668,-1206.2516"/>
<polygon fill="#000000" stroke="#000000" points="251.5608,-1204.2813 243.0609,-1197.9566 245.7615,-1208.2015 251.5608,-1204.2813"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="659.5,-1188.202 468.5,-1188.202 468.5,-1152.202 659.5,-1152.202 659.5,-1188.202"/>
<text text-anchor="middle" x="564" y="-1166.702" font-family="Inconsolata" font-size="14.00" fill="#000000">This will change in time.</text>
</g>
<!-- prose_11&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>prose_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M652.8123,-1482.179C637.2123,-1427.3799 590.654,-1263.8315 571.929,-1198.0547"/>
<polygon fill="#000000" stroke="#000000" points="575.276,-1197.0286 569.1717,-1188.369 568.5435,-1198.9452 575.276,-1197.0286"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="834,-1190.104 678,-1190.104 678,-1150.2999 834,-1150.2999 834,-1190.104"/>
<text text-anchor="middle" x="756" y="-1174.702" font-family="Inconsolata" font-size="14.00" fill="#000000">Now to activate dot!</text>
</g>
<!-- prose_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>prose_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M761.6689,-1482.179C760.6845,-1428.0049 757.7689,-1267.5482 756.5477,-1200.3433"/>
<polygon fill="#000000" stroke="#000000" points="760.0413,-1199.9555 756.3601,-1190.0208 753.0425,-1200.0828 760.0413,-1199.9555"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1176,-1446.6029 852,-1446.6029 852,-893.801 1176,-893.801 1176,-1446.6029"/>
<text text-anchor="middle" x="1014" y="-1431.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="1014" y="-1399.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_file = require &quot;pl.file&quot;</text>
<text text-anchor="middle" x="1014" y="-1384.4023" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_dir = require &quot;pl.dir&quot;</text>
<text text-anchor="middle" x="1014" y="-1369.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path = require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="1014" y="-1353.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">local getfiles = pl_dir.getfiles</text>
<text text-anchor="middle" x="1014" y="-1338.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">local makepath = pl_dir.makepath</text>
<text text-anchor="middle" x="1014" y="-1322.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">local getdirectories = pl_dir.getdirectories</text>
<text text-anchor="middle" x="1014" y="-1307.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">local extension = pl_path.extension</text>
<text text-anchor="middle" x="1014" y="-1292.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local dirname = pl_path.dirname</text>
<text text-anchor="middle" x="1014" y="-1276.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">local basename = pl_path.basename</text>
<text text-anchor="middle" x="1014" y="-1261.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">local read = pl_file.read</text>
<text text-anchor="middle" x="1014" y="-1245.802" font-family="Inconsolata" font-size="14.00" fill="#000000">local write = pl_file.write</text>
<text text-anchor="middle" x="1014" y="-1230.402" font-family="Inconsolata" font-size="14.00" fill="#000000">local isdir = pl_path.isdir</text>
<text text-anchor="middle" x="1014" y="-1199.002" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="1014" y="-1183.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;lib/ansi&quot;</text>
<text text-anchor="middle" x="1014" y="-1136.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;lib/status&quot;</text>
<text text-anchor="middle" x="1014" y="-1104.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">local Node = require &quot;peg/node&quot;</text>
<text text-anchor="middle" x="1014" y="-1073.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;grym/morphemes&quot;</text>
<text text-anchor="middle" x="1014" y="-1058.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">local walk = require &quot;walk&quot;</text>
<text text-anchor="middle" x="1014" y="-1042.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">local strHas = walk.strHas</text>
<text text-anchor="middle" x="1014" y="-1027.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local endsWith = walk.endsWith</text>
<text text-anchor="middle" x="1014" y="-1011.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">local subLastFor = walk.subLastFor</text>
<text text-anchor="middle" x="1014" y="-996.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">local writeOnChange = walk.writeOnChange</text>
<text text-anchor="middle" x="1014" y="-965.0017" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;peg/epeg&quot;</text>
<text text-anchor="middle" x="1014" y="-933.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">local Doc = require &quot;grym/doc&quot;</text>
<text text-anchor="middle" x="1014" y="-902.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">local W, w = u.inherit(Node)</text>
</g>
<!-- codeblock_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>codeblock_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M955.4217,-1482.179C956.7203,-1475.2632 958.344,-1466.6152 960.2151,-1456.6504"/>
<polygon fill="#000000" stroke="#000000" points="963.6766,-1457.1806 962.0822,-1446.7064 956.7968,-1455.8888 963.6766,-1457.1806"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="1427.5,-1197.4024 1194.5,-1197.4024 1194.5,-1143.0015 1427.5,-1143.0015 1427.5,-1197.4024"/>
<text text-anchor="middle" x="1311" y="-1182.102" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.weaveMd(weaver, doc)</text>
<text text-anchor="middle" x="1311" y="-1166.702" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return doc:toMarkdown()</text>
<text text-anchor="middle" x="1311" y="-1151.302" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>codeblock_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1155.9462,-1482.4722C1165.3684,-1472.4343 1176.6563,-1459.3599 1185,-1446.4024 1236.576,-1366.3066 1278.1337,-1261.6253 1298.1087,-1207.0047"/>
<polygon fill="#000000" stroke="#000000" points="1301.4707,-1207.9998 1301.5849,-1197.4056 1294.889,-1205.6163 1301.4707,-1207.9998"/>
</g>
<!-- prose_25 -->
<g id="node26" class="node">
<title>prose_25</title>
<ellipse fill="none" stroke="#000000" cx="1478" cy="-1170.202" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1478" y="-1166.002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- block_20&#45;&gt;prose_25 -->
<g id="edge25" class="edge">
<title>block_20&#45;&gt;prose_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1487.4481,-1482.179C1485.792,-1427.4926 1480.8559,-1264.504 1478.8558,-1198.4619"/>
<polygon fill="#000000" stroke="#000000" points="1482.3514,-1198.2584 1478.5502,-1188.369 1475.3546,-1198.4704 1482.3514,-1198.2584"/>
</g>
<!-- codeblock_27 -->
<g id="node28" class="node">
<title>codeblock_27</title>
<ellipse fill="none" stroke="#000000" cx="1606" cy="-1170.202" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1606" y="-1166.002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 61&#45;75</text>
</g>
<!-- block_21&#45;&gt;codeblock_27 -->
<g id="edge27" class="edge">
<title>block_21&#45;&gt;codeblock_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1617.3377,-1482.179C1615.3503,-1427.4926 1609.4271,-1264.504 1607.027,-1198.4619"/>
<polygon fill="#000000" stroke="#000000" points="1610.5212,-1198.2353 1606.6602,-1188.369 1603.5258,-1198.4895 1610.5212,-1198.2353"/>
</g>
<!-- codeblock_29 -->
<g id="node30" class="node">
<title>codeblock_29</title>
<ellipse fill="none" stroke="#000000" cx="1784" cy="-1170.202" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="1784" y="-1166.002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 78&#45;134</text>
</g>
<!-- block_22&#45;&gt;codeblock_29 -->
<g id="edge29" class="edge">
<title>block_22&#45;&gt;codeblock_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1773.6071,-1482.179C1775.4288,-1427.4926 1780.8585,-1264.504 1783.0586,-1198.4619"/>
<polygon fill="#000000" stroke="#000000" points="1786.5598,-1198.48 1783.3948,-1188.369 1779.5637,-1198.2469 1786.5598,-1198.48"/>
</g>
<!-- codeblock_31 -->
<g id="node32" class="node">
<title>codeblock_31</title>
<ellipse fill="none" stroke="#000000" cx="2160" cy="-1170.202" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="2160" y="-1166.002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 137&#45;144</text>
</g>
<!-- block_23&#45;&gt;codeblock_31 -->
<g id="edge31" class="edge">
<title>block_23&#45;&gt;codeblock_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2086.3047,-1482.179C2099.2228,-1427.4926 2137.7239,-1264.504 2153.3244,-1198.4619"/>
<polygon fill="#000000" stroke="#000000" points="2156.8158,-1198.9058 2155.7086,-1188.369 2150.0033,-1197.2965 2156.8158,-1198.9058"/>
</g>
<!-- codeblock_33 -->
<g id="node34" class="node">
<title>codeblock_33</title>
<ellipse fill="none" stroke="#000000" cx="2432" cy="-1170.202" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="2432" y="-1166.002" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 146&#45;148</text>
</g>
<!-- block_24&#45;&gt;codeblock_33 -->
<g id="edge33" class="edge">
<title>block_24&#45;&gt;codeblock_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2342.2429,-1482.179C2358.0089,-1427.3799 2405.0624,-1263.8315 2423.9867,-1198.0547"/>
<polygon fill="#000000" stroke="#000000" points="2427.3719,-1198.9469 2426.7733,-1188.369 2420.6448,-1197.0114 2427.3719,-1198.9469"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="995.5,-456.3012 482.5,-456.3012 482.5,-401.7004 995.5,-401.7004 995.5,-456.3012"/>
<text text-anchor="middle" x="739" y="-425.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The sh&#45;lib monkeypatches the global metatable, and all we want is one</text>
<text text-anchor="middle" x="739" y="-409.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">command, so we do something odd here:</text>
</g>
<!-- prose_25&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>prose_25&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1481.8984,-1151.9774C1491.3688,-1102.1667 1509.7126,-962.8808 1436,-894.0016 1365.614,-828.2307 1086.1111,-908.3779 1004,-858.0016 853.4474,-765.6354 775.6003,-552.3886 749.3716,-466.1739"/>
<polygon fill="#000000" stroke="#000000" points="752.7118,-465.127 746.4975,-456.546 746.0042,-467.1293 752.7118,-465.127"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1470.5,-533.3013 1013.5,-533.3013 1013.5,-324.7003 1470.5,-324.7003 1470.5,-533.3013"/>
<text text-anchor="middle" x="1242" y="-518.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local dot_sh = (require &quot;sh&quot;):clear_G().command(&#39;dot&#39;, &#39;&#45;Tsvg&#39;)</text>
<text text-anchor="middle" x="1242" y="-486.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function dotToSvg(dotted, out_file)</text>
<text text-anchor="middle" x="1242" y="-471.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local run_dot = dot_sh({__input = dotted})</text>
<text text-anchor="middle" x="1242" y="-456.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if run_dot.__exitcode == 0 then</text>
<text text-anchor="middle" x="1242" y="-440.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return tostring(run_dot)</text>
<text text-anchor="middle" x="1242" y="-425.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else </text>
<text text-anchor="middle" x="1242" y="-409.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:complain(a.red(&quot;Dot returned &quot;) </text>
<text text-anchor="middle" x="1242" y="-394.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. tostring(run_dot.__exitcode)</text>
<text text-anchor="middle" x="1242" y="-379.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.red(&quot; for &quot; .. out_file ))</text>
<text text-anchor="middle" x="1242" y="-363.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return &quot;&quot;</text>
<text text-anchor="middle" x="1242" y="-348.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1242" y="-332.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_27&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>codeblock_27&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1603.59,-1152.0462C1596.7841,-1105.7914 1574.2039,-981.0318 1519,-894.0016 1506.3648,-874.0818 1494.5733,-876.5505 1480,-858.0016 1402.6735,-759.5801 1335.6983,-632.7905 1292.6708,-542.6329"/>
<polygon fill="#000000" stroke="#000000" points="1295.7739,-541.0083 1288.3229,-533.4762 1289.4506,-544.0109 1295.7739,-541.0083"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="2079,-858.0023 1489,-858.0023 1489,.0008 2079,.0008 2079,-858.0023"/>
<text text-anchor="middle" x="1784" y="-842.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local function weave_dir(weaver, pwd, depth)</text>
<text text-anchor="middle" x="1784" y="-827.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local depth = depth + 1</text>
<text text-anchor="middle" x="1784" y="-812.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for dir in pl_dir.walk(pwd, false, false) do</text>
<text text-anchor="middle" x="1784" y="-796.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not strHas(&quot;.git&quot;, dir) and isdir(dir)</text>
<text text-anchor="middle" x="1784" y="-781.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;and not strHas(&quot;src/lib&quot;, dir) then</text>
<text text-anchor="middle" x="1784" y="-749.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local files = getfiles(dir)</text>
<text text-anchor="middle" x="1784" y="-734.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat((&quot; &#160;&quot;):rep(depth) .. &quot;* &quot; .. dir)</text>
<text text-anchor="middle" x="1784" y="-719.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local subdirs = getdirectories(dir)</text>
<text text-anchor="middle" x="1784" y="-703.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for _, f in ipairs(files) do</text>
<text text-anchor="middle" x="1784" y="-688.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if extension(f) == &quot;.orb&quot; then</text>
<text text-anchor="middle" x="1784" y="-672.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Weave and prepare out directory</text>
<text text-anchor="middle" x="1784" y="-657.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local orb_f = read(f)</text>
<text text-anchor="middle" x="1784" y="-642.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc = Doc(orb_f)</text>
<text text-anchor="middle" x="1784" y="-626.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc_md_dir = subLastFor(&quot;/orb&quot;, &quot;/doc/md&quot;, dirname(f))</text>
<text text-anchor="middle" x="1784" y="-611.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc_dot_dir = subLastFor(&quot;/orb&quot;, &quot;/doc/dot&quot;, dirname(f))</text>
<text text-anchor="middle" x="1784" y="-595.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc_svg_dir = subLastFor(&quot;/orb&quot;, &quot;/doc/svg&quot;, dirname(f))</text>
<text text-anchor="middle" x="1784" y="-580.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;makepath(doc_md_dir)</text>
<text text-anchor="middle" x="1784" y="-565.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;makepath(doc_dot_dir)</text>
<text text-anchor="middle" x="1784" y="-549.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;makepath(doc_svg_dir)</text>
<text text-anchor="middle" x="1784" y="-534.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local bare_name = basename(f):sub(1, &#45;5) &#45;&#45; &#160;== #&quot;.orb&quot;</text>
<text text-anchor="middle" x="1784" y="-518.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local out_md_name = doc_md_dir .. &quot;/&quot; .. bare_name .. &quot;.md&quot;</text>
<text text-anchor="middle" x="1784" y="-503.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local out_dot_name = doc_dot_dir .. &quot;/&quot; .. bare_name .. &quot;.dot&quot;</text>
<text text-anchor="middle" x="1784" y="-488.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local out_svg_name = doc_svg_dir .. &quot;/&quot; .. bare_name .. &quot;.svg&quot;</text>
<text text-anchor="middle" x="1784" y="-472.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local woven_md = weaver:weaveMd(doc) or &quot;&quot;</text>
<text text-anchor="middle" x="1784" y="-457.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local woven_dot = doc:dot() or &quot;&quot;</text>
<text text-anchor="middle" x="1784" y="-441.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local woven_svg = dotToSvg(woven_dot, out_dot_name)</text>
<text text-anchor="middle" x="1784" y="-426.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Compare, report, and write out if necessary</text>
<text text-anchor="middle" x="1784" y="-411.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local last_md = read(out_md_name) or &quot;&quot;</text>
<text text-anchor="middle" x="1784" y="-395.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local last_dot = read(out_dot_name) or &quot;&quot;</text>
<text text-anchor="middle" x="1784" y="-380.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local last_svg = read(out_svg_name) or &quot;&quot;</text>
<text text-anchor="middle" x="1784" y="-364.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;writeOnChange(woven_md, last_md, out_md_name, depth)</text>
<text text-anchor="middle" x="1784" y="-349.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;writeOnChange(woven_dot, last_dot, out_dot_name, depth)</text>
<text text-anchor="middle" x="1784" y="-334.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;writeOnChange(woven_svg, last_svg, out_svg_name, depth)</text>
<text text-anchor="middle" x="1784" y="-318.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1784" y="-303.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1784" y="-287.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1784" y="-272.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1784" y="-241.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="1784" y="-225.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1784" y="-194.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function weave_all(weaver, pwd)</text>
<text text-anchor="middle" x="1784" y="-178.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for dir in pl_dir.walk(pwd, false, false) do</text>
<text text-anchor="middle" x="1784" y="-163.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not strHas(&quot;.git&quot;, dir) and isdir(dir) </text>
<text text-anchor="middle" x="1784" y="-148.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;and endsWith(&quot;orb&quot;, dir) then</text>
<text text-anchor="middle" x="1784" y="-132.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.green(&quot;Weave: &quot; .. dir))</text>
<text text-anchor="middle" x="1784" y="-117.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return weave_dir(weaver, dir, 0)</text>
<text text-anchor="middle" x="1784" y="-101.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1784" y="-86.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1784" y="-55.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="1784" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1784" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">W.weave_all = weave_all</text>
</g>
<!-- codeblock_29&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>codeblock_29&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1784,-1151.88C1784,-1108.5787 1784,-994.0918 1784,-868.6634"/>
<polygon fill="#000000" stroke="#000000" points="1787.5001,-868.4503 1784,-858.4503 1780.5001,-868.4503 1787.5001,-868.4503"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2379,-479.6017 2097,-479.6017 2097,-378.3999 2379,-378.3999 2379,-479.6017"/>
<text text-anchor="middle" x="2238" y="-464.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Weaver, doc)</text>
<text text-anchor="middle" x="2238" y="-449.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local weaver = setmetatable({}, W)</text>
<text text-anchor="middle" x="2238" y="-401.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return weaver</text>
<text text-anchor="middle" x="2238" y="-386.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_31&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>codeblock_31&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2161.9281,-1151.88C2171.6096,-1059.8804 2215.107,-646.5433 2231.6168,-489.6572"/>
<polygon fill="#000000" stroke="#000000" points="2235.0988,-490.0118 2232.6647,-479.7004 2228.1372,-489.2791 2235.0988,-490.0118"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="2469,-447.0008 2397,-447.0008 2397,-411.0008 2469,-411.0008 2469,-447.0008"/>
<text text-anchor="middle" x="2433" y="-425.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">return W</text>
</g>
<!-- codeblock_33&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>codeblock_33&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2432.0247,-1151.88C2432.1587,-1052.546 2432.7982,-578.5968 2432.9618,-457.3178"/>
<polygon fill="#000000" stroke="#000000" points="2436.4621,-457.0174 2432.9757,-447.0126 2429.4621,-457.0078 2436.4621,-457.0174"/>
</g>
</g>
</svg>