<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="3202pt" height="1900pt"
 viewBox="0.00 0.00 3202.00 1899.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1895.8027)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1895.8027 3198,-1895.8027 3198,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="656" cy="-1873.8027" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="656" y="-1869.6027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 161</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="656" cy="-1801.8027" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="656" y="-1797.6027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;56</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M656,-1855.6341C656,-1847.9337 656,-1838.7771 656,-1830.2193"/>
<polygon fill="#000000" stroke="#000000" points="659.5001,-1830.2159 656,-1820.216 652.5001,-1830.216 659.5001,-1830.2159"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="392" cy="-1729.8027" rx="49.5296" ry="18"/>
<text text-anchor="middle" x="392" y="-1725.6027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Weave</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M609.453,-1790.0866C567.8117,-1779.4758 505.1665,-1763.1934 451,-1747.8027 447.3881,-1746.7764 443.6588,-1745.6936 439.912,-1744.589"/>
<polygon fill="#000000" stroke="#000000" points="440.6052,-1741.1434 430.022,-1741.638 438.6037,-1747.8512 440.6052,-1741.1434"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="492" cy="-1729.8027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="492" y="-1725.6027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M621.6202,-1786.7092C593.8097,-1774.4997 554.8158,-1757.3804 526.8739,-1745.1132"/>
<polygon fill="#000000" stroke="#000000" points="528.0513,-1741.8077 517.4879,-1740.9925 525.2374,-1748.2172 528.0513,-1741.8077"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="574" cy="-1729.8027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="574" y="-1725.6027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M636.5671,-1784.7397C625.3006,-1774.8471 610.9965,-1762.2874 598.9098,-1751.6747"/>
<polygon fill="#000000" stroke="#000000" points="601.1653,-1748.9974 591.3415,-1745.0294 596.5466,-1754.2575 601.1653,-1748.9974"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="656" cy="-1729.8027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="656" y="-1725.6027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M656,-1783.6341C656,-1775.9337 656,-1766.7771 656,-1758.2193"/>
<polygon fill="#000000" stroke="#000000" points="659.5001,-1758.2159 656,-1748.216 652.5001,-1758.216 659.5001,-1758.2159"/>
</g>
<!-- codeblock_6 -->
<g id="node7" class="node">
<title>codeblock_6</title>
<ellipse fill="none" stroke="#000000" cx="808" cy="-1729.8027" rx="76.6175" ry="18"/>
<text text-anchor="middle" x="808" y="-1725.6027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 11&#45;48</text>
</g>
<!-- section_1&#45;&gt;codeblock_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;codeblock_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M688.2353,-1786.5334C710.3919,-1776.0381 740.0766,-1761.977 764.3491,-1750.4795"/>
<polygon fill="#000000" stroke="#000000" points="766.1596,-1753.4947 773.6987,-1746.0507 763.163,-1747.1685 766.1596,-1753.4947"/>
</g>
<!-- codeblock_7 -->
<g id="node8" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="1060" cy="-1729.8027" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1060" y="-1725.6027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 50&#45;54</text>
</g>
<!-- section_1&#45;&gt;codeblock_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;codeblock_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M708.4018,-1792.4638C779.8575,-1779.7291 908.1328,-1756.8682 988.4106,-1742.5612"/>
<polygon fill="#000000" stroke="#000000" points="989.2086,-1745.9742 998.4394,-1740.7739 987.9804,-1739.0828 989.2086,-1745.9742"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="1712" cy="-1729.8027" rx="70.655" ry="18"/>
<text text-anchor="middle" x="1712" y="-1725.6027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 57&#45;161</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M715.4188,-1797.7514C894.8124,-1785.5201 1431.0096,-1748.9612 1633.4517,-1735.1583"/>
<polygon fill="#000000" stroke="#000000" points="1633.9662,-1738.6314 1643.705,-1734.4592 1633.49,-1731.6476 1633.9662,-1738.6314"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="424.5,-1410.5023 359.5,-1410.5023 359.5,-1374.5023 424.5,-1374.5023 424.5,-1410.5023"/>
<text text-anchor="middle" x="392" y="-1389.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">* Weave</text>
</g>
<!-- header_2&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>header_2&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M392,-1711.668C392,-1656.19 392,-1488.4453 392,-1421.0183"/>
<polygon fill="#000000" stroke="#000000" points="395.5001,-1420.7266 392,-1410.7267 388.5001,-1420.7267 395.5001,-1420.7266"/>
</g>
<!-- raw_10 -->
<g id="node11" class="node">
<title>raw_10</title>
<ellipse fill="none" stroke="#000000" cx="481" cy="-1392.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="481" y="-1388.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_10 -->
<g id="edge10" class="edge">
<title>prose_3&#45;&gt;raw_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M491.4086,-1711.668C489.5994,-1656.19 484.1289,-1488.4453 481.93,-1421.0183"/>
<polygon fill="#000000" stroke="#000000" points="485.4185,-1420.6072 481.5943,-1410.7267 478.4222,-1420.8355 485.4185,-1420.6072"/>
</g>
<!-- raw_12 -->
<g id="node13" class="node">
<title>raw_12</title>
<ellipse fill="none" stroke="#000000" cx="564" cy="-1392.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="564" y="-1388.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_12 -->
<g id="edge12" class="edge">
<title>prose_4&#45;&gt;raw_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M573.4624,-1711.668C571.8176,-1656.19 566.8444,-1488.4453 564.8454,-1421.0183"/>
<polygon fill="#000000" stroke="#000000" points="568.3352,-1420.6185 564.5403,-1410.7267 561.3383,-1420.826 568.3352,-1420.6185"/>
</g>
<!-- raw_14 -->
<g id="node15" class="node">
<title>raw_14</title>
<ellipse fill="none" stroke="#000000" cx="636" cy="-1392.5023" rx="27" ry="18"/>
<text text-anchor="middle" x="636" y="-1388.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_14 -->
<g id="edge14" class="edge">
<title>prose_5&#45;&gt;raw_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M654.9247,-1711.668C651.6352,-1656.19 641.6889,-1488.4453 637.6908,-1421.0183"/>
<polygon fill="#000000" stroke="#000000" points="641.1665,-1420.5019 637.0806,-1410.7267 634.1787,-1420.9163 641.1665,-1420.5019"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1005,-1675.6033 681,-1675.6033 681,-1109.4012 1005,-1109.4012 1005,-1675.6033"/>
<text text-anchor="middle" x="843" y="-1660.6027" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="843" y="-1629.2027" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_file = require &quot;pl.file&quot;</text>
<text text-anchor="middle" x="843" y="-1613.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_dir = require &quot;pl.dir&quot;</text>
<text text-anchor="middle" x="843" y="-1598.4026" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path = require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="843" y="-1583.0026" font-family="Inconsolata" font-size="14.00" fill="#000000">local getfiles = pl_dir.getfiles</text>
<text text-anchor="middle" x="843" y="-1567.6026" font-family="Inconsolata" font-size="14.00" fill="#000000">local makepath = pl_dir.makepath</text>
<text text-anchor="middle" x="843" y="-1552.2025" font-family="Inconsolata" font-size="14.00" fill="#000000">local getdirectories = pl_dir.getdirectories</text>
<text text-anchor="middle" x="843" y="-1536.8025" font-family="Inconsolata" font-size="14.00" fill="#000000">local extension = pl_path.extension</text>
<text text-anchor="middle" x="843" y="-1521.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">local dirname = pl_path.dirname</text>
<text text-anchor="middle" x="843" y="-1506.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">local basename = pl_path.basename</text>
<text text-anchor="middle" x="843" y="-1490.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">local read = pl_file.read</text>
<text text-anchor="middle" x="843" y="-1475.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">local write = pl_file.write</text>
<text text-anchor="middle" x="843" y="-1459.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">local isdir = pl_path.isdir</text>
<text text-anchor="middle" x="843" y="-1428.4023" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="843" y="-1413.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;lib/ansi&quot;</text>
<text text-anchor="middle" x="843" y="-1365.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;lib/status&quot; ()</text>
<text text-anchor="middle" x="843" y="-1350.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">s.verbose = false</text>
<text text-anchor="middle" x="843" y="-1318.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;Orbit/morphemes&quot;</text>
<text text-anchor="middle" x="843" y="-1303.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">local walk = require &quot;walk&quot;</text>
<text text-anchor="middle" x="843" y="-1288.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local strHas = walk.strHas</text>
<text text-anchor="middle" x="843" y="-1272.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">local endsWith = walk.endsWith</text>
<text text-anchor="middle" x="843" y="-1257.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">local subLastFor = walk.subLastFor</text>
<text text-anchor="middle" x="843" y="-1241.802" font-family="Inconsolata" font-size="14.00" fill="#000000">local writeOnChange = walk.writeOnChange</text>
<text text-anchor="middle" x="843" y="-1226.402" font-family="Inconsolata" font-size="14.00" fill="#000000">local Path = require &quot;walk/path&quot;</text>
<text text-anchor="middle" x="843" y="-1211.002" font-family="Inconsolata" font-size="14.00" fill="#000000">local Dir = require &quot;walk/directory&quot;</text>
<text text-anchor="middle" x="843" y="-1195.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">local File = require &quot;walk/file&quot;</text>
<text text-anchor="middle" x="843" y="-1180.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;epeg&quot;</text>
<text text-anchor="middle" x="843" y="-1148.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">local Doc = require &quot;Orbit/doc&quot;</text>
<text text-anchor="middle" x="843" y="-1117.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">local W, w = u.inherit()</text>
</g>
<!-- codeblock_6&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>codeblock_6&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M809.8818,-1711.668C810.6081,-1704.6684 811.5198,-1695.8818 812.5727,-1685.7349"/>
<polygon fill="#000000" stroke="#000000" points="816.0731,-1685.9116 813.624,-1675.6037 809.1105,-1685.189 816.0731,-1685.9116"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="1256.5,-1419.7027 1023.5,-1419.7027 1023.5,-1365.3018 1256.5,-1365.3018 1256.5,-1419.7027"/>
<text text-anchor="middle" x="1140" y="-1404.4023" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.weaveMd(weaver, doc)</text>
<text text-anchor="middle" x="1140" y="-1389.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return doc:toMarkdown()</text>
<text text-anchor="middle" x="1140" y="-1373.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>codeblock_7&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1064.3011,-1711.668C1076.922,-1658.4553 1114.0398,-1501.9569 1131.1621,-1429.7652"/>
<polygon fill="#000000" stroke="#000000" points="1134.6356,-1430.2858 1133.5379,-1419.748 1127.8246,-1428.6704 1134.6356,-1430.2858"/>
</g>
<!-- header_18 -->
<g id="node19" class="node">
<title>header_18</title>
<ellipse fill="none" stroke="#000000" cx="1340" cy="-1392.5023" rx="65.81" ry="18"/>
<text text-anchor="middle" x="1340" y="-1388.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : .dot to .svg</text>
</g>
<!-- section_8&#45;&gt;header_18 -->
<g id="edge18" class="edge">
<title>section_8&#45;&gt;header_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1642.9931,-1725.6915C1565.838,-1719.681 1447.4291,-1705.7676 1415,-1675.8027 1341.8046,-1608.1692 1336.7107,-1478.1785 1338.3554,-1420.8501"/>
<polygon fill="#000000" stroke="#000000" points="1341.8585,-1420.8331 1338.741,-1410.7074 1334.8636,-1420.5672 1341.8585,-1420.8331"/>
</g>
<!-- prose_19 -->
<g id="node20" class="node">
<title>prose_19</title>
<ellipse fill="none" stroke="#000000" cx="1456" cy="-1392.5023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1456" y="-1388.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_19 -->
<g id="edge19" class="edge">
<title>section_8&#45;&gt;prose_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1648.728,-1721.6664C1593.1312,-1713.1702 1518.0511,-1697.9662 1498,-1675.8027 1432.8174,-1603.7531 1442.6726,-1476.6343 1450.9898,-1420.4943"/>
<polygon fill="#000000" stroke="#000000" points="1454.4561,-1420.9814 1452.5582,-1410.558 1447.5417,-1419.8899 1454.4561,-1420.9814"/>
</g>
<!-- codeblock_20 -->
<g id="node21" class="node">
<title>codeblock_20</title>
<ellipse fill="none" stroke="#000000" cx="1584" cy="-1392.5023" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1584" y="-1388.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 62&#45;64</text>
</g>
<!-- section_8&#45;&gt;codeblock_20 -->
<g id="edge20" class="edge">
<title>section_8&#45;&gt;codeblock_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1695.85,-1711.8976C1687.4856,-1701.8671 1677.6582,-1688.7917 1671,-1675.8027 1625.9876,-1587.9908 1599.5899,-1472.7474 1589.1792,-1420.4588"/>
<polygon fill="#000000" stroke="#000000" points="1592.6019,-1419.724 1587.2542,-1410.5778 1585.7311,-1421.0625 1592.6019,-1419.724"/>
</g>
<!-- prose_21 -->
<g id="node22" class="node">
<title>prose_21</title>
<ellipse fill="none" stroke="#000000" cx="1712" cy="-1392.5023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1712" y="-1388.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_21 -->
<g id="edge21" class="edge">
<title>section_8&#45;&gt;prose_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1712,-1711.668C1712,-1656.19 1712,-1488.4453 1712,-1421.0183"/>
<polygon fill="#000000" stroke="#000000" points="1715.5001,-1420.7266 1712,-1410.7267 1708.5001,-1420.7267 1715.5001,-1420.7266"/>
</g>
<!-- codeblock_22 -->
<g id="node23" class="node">
<title>codeblock_22</title>
<ellipse fill="none" stroke="#000000" cx="1892" cy="-1392.5023" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1892" y="-1388.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 68&#45;80</text>
</g>
<!-- section_8&#45;&gt;codeblock_22 -->
<g id="edge22" class="edge">
<title>section_8&#45;&gt;codeblock_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1726.9561,-1711.9351C1735.1589,-1701.7041 1745.2128,-1688.4254 1753,-1675.8027 1808.1474,-1586.4113 1858.6535,-1472.0206 1880.5404,-1420.2101"/>
<polygon fill="#000000" stroke="#000000" points="1883.8856,-1421.2836 1884.5291,-1410.7083 1877.4312,-1418.5741 1883.8856,-1421.2836"/>
</g>
<!-- codeblock_23 -->
<g id="node24" class="node">
<title>codeblock_23</title>
<ellipse fill="none" stroke="#000000" cx="2279" cy="-1392.5023" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="2279" y="-1388.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 83&#45;146</text>
</g>
<!-- section_8&#45;&gt;codeblock_23 -->
<g id="edge23" class="edge">
<title>section_8&#45;&gt;codeblock_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1774.3318,-1721.1852C1841.4268,-1711.2035 1943.2144,-1693.811 1978,-1675.8027 2104.9932,-1610.0594 2216.6614,-1475.0115 2259.9164,-1418.3869"/>
<polygon fill="#000000" stroke="#000000" points="2262.7875,-1420.3929 2266.0298,-1410.3064 2257.2051,-1416.1695 2262.7875,-1420.3929"/>
</g>
<!-- codeblock_24 -->
<g id="node25" class="node">
<title>codeblock_24</title>
<ellipse fill="none" stroke="#000000" cx="2728" cy="-1392.5023" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="2728" y="-1388.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 149&#45;156</text>
</g>
<!-- section_8&#45;&gt;codeblock_24 -->
<g id="edge24" class="edge">
<title>section_8&#45;&gt;codeblock_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1782.6025,-1729.1417C1929.82,-1726.9342 2264.6391,-1717.3561 2370,-1675.8027 2518.2341,-1617.3406 2654.4364,-1475.9796 2706.0828,-1417.9813"/>
<polygon fill="#000000" stroke="#000000" points="2708.8089,-1420.1818 2712.8016,-1410.3681 2703.5604,-1415.5499 2708.8089,-1420.1818"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="3052" cy="-1392.5023" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3052" y="-1388.3023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 158&#45;160</text>
</g>
<!-- section_8&#45;&gt;codeblock_25 -->
<g id="edge25" class="edge">
<title>section_8&#45;&gt;codeblock_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1782.3775,-1727.9714C2019.5753,-1721.5926 2777.5457,-1699.4484 2824,-1675.8027 2936.1914,-1618.6962 3011.9358,-1478.6747 3039.945,-1419.5499"/>
<polygon fill="#000000" stroke="#000000" points="3043.1311,-1420.9989 3044.1771,-1410.4558 3036.7847,-1418.0455 3043.1311,-1420.9989"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="450,-625.9021 0,-625.9021 0,-554.0998 450,-554.0998 450,-625.9021"/>
<text text-anchor="middle" x="225" y="-562.501" font-family="Inconsolata" font-size="14.00" fill="#000000">Our weaver is currently somewhat narrowly focused on markdown.</text>
</g>
<!-- raw_10&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>raw_10&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M479.2769,-1374.3092C474.6844,-1328.8955 460.579,-1207.1591 433,-1109.2018 382.0288,-928.1585 289.1167,-723.8521 246.9085,-635.1249"/>
<polygon fill="#000000" stroke="#000000" points="249.968,-633.4094 242.5011,-625.8931 243.6509,-636.4253 249.968,-633.4094"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="659.5,-609.903 468.5,-609.903 468.5,-570.0989 659.5,-570.0989 659.5,-609.903"/>
<text text-anchor="middle" x="564" y="-578.501" font-family="Inconsolata" font-size="14.00" fill="#000000">This will change in time.</text>
</g>
<!-- raw_12&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>raw_12&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M564,-1374.2331C564,-1270.0739 564,-751.2842 564,-620.1514"/>
<polygon fill="#000000" stroke="#000000" points="567.5001,-620.0289 564,-610.029 560.5001,-620.029 567.5001,-620.0289"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="834,-617.9024 678,-617.9024 678,-562.0995 834,-562.0995 834,-617.9024"/>
<text text-anchor="middle" x="756" y="-586.501" font-family="Inconsolata" font-size="14.00" fill="#000000">Now to activate dot!</text>
</g>
<!-- raw_14&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>raw_14&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M638.102,-1374.2442C643.3378,-1329.1774 657.5816,-1209.0608 672,-1109.2018 698.0863,-928.5336 734.6551,-713.4192 749.4269,-627.8311"/>
<polygon fill="#000000" stroke="#000000" points="752.9046,-628.2596 751.1591,-617.8096 746.0069,-627.0673 752.9046,-628.2596"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1093,-608.0009 965,-608.0009 965,-572.0009 1093,-572.0009 1093,-608.0009"/>
<text text-anchor="middle" x="1029" y="-586.501" font-family="Inconsolata" font-size="14.00" fill="#000000">*** .dot to .svg</text>
</g>
<!-- header_18&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>header_18&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1341.1181,-1374.4468C1343.1568,-1324.3782 1341.5487,-1182.643 1265,-1109.2018 1211.4642,-1057.8393 1152.6623,-1127.4007 1102,-1073.2018 980.1719,-942.8692 1009.2321,-700.6234 1023.4968,-618.2579"/>
<polygon fill="#000000" stroke="#000000" points="1026.9495,-618.8328 1025.2734,-608.3714 1020.0598,-617.5947 1026.9495,-618.8328"/>
</g>
<!-- raw_27 -->
<g id="node28" class="node">
<title>raw_27</title>
<ellipse fill="none" stroke="#000000" cx="1138" cy="-590.0009" rx="27" ry="18"/>
<text text-anchor="middle" x="1138" y="-585.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_19&#45;&gt;raw_27 -->
<g id="edge27" class="edge">
<title>prose_19&#45;&gt;raw_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1459.8393,-1374.4462C1469.3241,-1324.3759 1488.1013,-1182.637 1415,-1109.2018 1338.5953,-1032.4482 1247.6975,-1152.5584 1174,-1073.2018 1112.4657,-1006.9424 1128.8947,-711.1908 1135.7379,-618.1302"/>
<polygon fill="#000000" stroke="#000000" points="1139.2356,-618.292 1136.5003,-608.0564 1132.2556,-617.7637 1139.2356,-618.292"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1640.5,-608.0009 1183.5,-608.0009 1183.5,-572.0009 1640.5,-572.0009 1640.5,-608.0009"/>
<text text-anchor="middle" x="1412" y="-586.501" font-family="Inconsolata" font-size="14.00" fill="#000000">local dot_sh = (require &quot;sh&quot;):clear_G().command(&#39;dot&#39;, &#39;&#45;Tsvg&#39;)</text>
</g>
<!-- codeblock_20&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>codeblock_20&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1580.0844,-1374.2331C1557.6384,-1269.5066 1445.3539,-745.6206 1418.0103,-618.0434"/>
<polygon fill="#000000" stroke="#000000" points="1421.4276,-617.286 1415.9095,-608.2416 1414.583,-618.753 1421.4276,-617.286"/>
</g>
<!-- raw_30 -->
<g id="node31" class="node">
<title>raw_30</title>
<ellipse fill="none" stroke="#000000" cx="1686" cy="-590.0009" rx="27" ry="18"/>
<text text-anchor="middle" x="1686" y="-585.8009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_21&#45;&gt;raw_30 -->
<g id="edge30" class="edge">
<title>prose_21&#45;&gt;raw_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1711.4081,-1374.2331C1708.0185,-1269.6117 1691.0759,-746.6722 1686.921,-618.4288"/>
<polygon fill="#000000" stroke="#000000" points="1690.413,-618.123 1686.591,-608.2416 1683.4167,-618.3497 1690.413,-618.123"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2104.5,-678.9017 1731.5,-678.9017 1731.5,-501.1001 2104.5,-501.1001 2104.5,-678.9017"/>
<text text-anchor="middle" x="1918" y="-663.5011" font-family="Inconsolata" font-size="14.00" fill="#000000">local function dotToSvg(dotted, out_file)</text>
<text text-anchor="middle" x="1918" y="-648.1011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local run_dot = dot_sh({__input = dotted})</text>
<text text-anchor="middle" x="1918" y="-632.701" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if run_dot.__exitcode == 0 then</text>
<text text-anchor="middle" x="1918" y="-617.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return tostring(run_dot)</text>
<text text-anchor="middle" x="1918" y="-601.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1918" y="-586.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:complain(a.red(&quot;Dot returned &quot;)</text>
<text text-anchor="middle" x="1918" y="-571.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. tostring(run_dot.__exitcode)</text>
<text text-anchor="middle" x="1918" y="-555.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. a.red(&quot; for &quot; .. out_file ))</text>
<text text-anchor="middle" x="1918" y="-540.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return &quot;&quot;</text>
<text text-anchor="middle" x="1918" y="-524.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1918" y="-509.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_22&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>codeblock_22&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1892.5919,-1374.2331C1895.5274,-1283.6277 1908.6278,-879.2791 1914.7839,-689.2671"/>
<polygon fill="#000000" stroke="#000000" points="1918.2908,-689.1082 1915.1165,-679.0001 1911.2945,-688.8815 1918.2908,-689.1082"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2803.5,-1073.4028 2122.5,-1073.4028 2122.5,-106.5991 2803.5,-106.5991 2803.5,-1073.4028"/>
<text text-anchor="middle" x="2463" y="-1058.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">local function weave_dir(weaver, pwd, depth)</text>
<text text-anchor="middle" x="2463" y="-1042.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local depth = depth + 1</text>
<text text-anchor="middle" x="2463" y="-1027.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for dir in pl_dir.walk(pwd, false, false) do</text>
<text text-anchor="middle" x="2463" y="-1011.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local dirObj = Dir(dir)</text>
<text text-anchor="middle" x="2463" y="-996.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not strHas(&quot;.git&quot;, dir) and isdir(dir)</text>
<text text-anchor="middle" x="2463" y="-981.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;and not strHas(&quot;src/lib&quot;, dir) then</text>
<text text-anchor="middle" x="2463" y="-965.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dir = tostring(dir) &#45;&#45; migrate this down</text>
<text text-anchor="middle" x="2463" y="-950.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local files = getfiles(dir)</text>
<text text-anchor="middle" x="2463" y="-934.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb((&quot; &#160;&quot;):rep(depth) .. &quot;* &quot; .. dir)</text>
<text text-anchor="middle" x="2463" y="-919.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local subdirs = getdirectories(dir)</text>
<text text-anchor="middle" x="2463" y="-904.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for _, f in ipairs(files) do</text>
<text text-anchor="middle" x="2463" y="-888.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if extension(f) == &quot;.orb&quot; then</text>
<text text-anchor="middle" x="2463" y="-873.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Weave and prepare out directory</text>
<text text-anchor="middle" x="2463" y="-857.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. f)</text>
<text text-anchor="middle" x="2463" y="-842.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local orb_f = read(f)</text>
<text text-anchor="middle" x="2463" y="-827.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc = Doc(orb_f)</text>
<text text-anchor="middle" x="2463" y="-811.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc_md_dir = subLastFor(&quot;/orb&quot;, &quot;/doc/md&quot;, dirname(f))</text>
<text text-anchor="middle" x="2463" y="-796.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc_dot_dir = subLastFor(&quot;/orb&quot;, &quot;/doc/dot&quot;, dirname(f))</text>
<text text-anchor="middle" x="2463" y="-780.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc_svg_dir = subLastFor(&quot;/orb&quot;, &quot;/doc/svg&quot;, dirname(f))</text>
<text text-anchor="middle" x="2463" y="-765.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;makepath(doc_md_dir)</text>
<text text-anchor="middle" x="2463" y="-750.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;makepath(doc_dot_dir)</text>
<text text-anchor="middle" x="2463" y="-734.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;makepath(doc_svg_dir)</text>
<text text-anchor="middle" x="2463" y="-719.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local bare_name = basename(f):sub(1, &#45;5) &#45;&#45; &#160;== #&quot;.orb&quot;</text>
<text text-anchor="middle" x="2463" y="-703.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local out_md_name = doc_md_dir .. &quot;/&quot; .. bare_name .. &quot;.md&quot;</text>
<text text-anchor="middle" x="2463" y="-688.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local out_dot_name = doc_dot_dir .. &quot;/&quot; .. bare_name .. &quot;.dot&quot;</text>
<text text-anchor="middle" x="2463" y="-673.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local out_svg_name = doc_svg_dir .. &quot;/&quot; .. bare_name .. &quot;.svg&quot;</text>
<text text-anchor="middle" x="2463" y="-657.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local woven_md = weaver:weaveMd(doc) or &quot;&quot;</text>
<text text-anchor="middle" x="2463" y="-626.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Compare, report, and write out if necessary</text>
<text text-anchor="middle" x="2463" y="-610.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local last_md = read(out_md_name) or &quot;&quot;</text>
<text text-anchor="middle" x="2463" y="-595.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local changed_md = writeOnChange(woven_md, last_md, out_md_name, depth)</text>
<text text-anchor="middle" x="2463" y="-580.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local woven_dot = doc:dot() or &quot;&quot;</text>
<text text-anchor="middle" x="2463" y="-564.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local last_dot = read(out_dot_name) or &quot;&quot;</text>
<text text-anchor="middle" x="2463" y="-549.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local changed_dot = writeOnChange(woven_dot, last_dot, out_dot_name, depth)</text>
<text text-anchor="middle" x="2463" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; SVG call is fairly slow and only useful of the dot has changed</text>
<text text-anchor="middle" x="2463" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if changed_dot then</text>
<text text-anchor="middle" x="2463" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local woven_svg = dotToSvg(woven_dot, out_dot_name)</text>
<text text-anchor="middle" x="2463" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local last_svg = read(out_svg_name) or &quot;&quot;</text>
<text text-anchor="middle" x="2463" y="-456.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;writeOnChange(woven_svg, last_svg, out_svg_name, depth)</text>
<text text-anchor="middle" x="2463" y="-440.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2463" y="-425.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2463" y="-410.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2463" y="-394.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2463" y="-379.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2463" y="-347.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="2463" y="-332.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2463" y="-301.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function weave_all(weaver, pwd)</text>
<text text-anchor="middle" x="2463" y="-285.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for dir in pl_dir.walk(pwd, false, false) do</text>
<text text-anchor="middle" x="2463" y="-270.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not strHas(&quot;.git&quot;, dir) and isdir(dir)</text>
<text text-anchor="middle" x="2463" y="-254.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;and endsWith(&quot;orb&quot;, dir) then</text>
<text text-anchor="middle" x="2463" y="-239.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.cyan(&quot;Weave: &quot; .. dir))</text>
<text text-anchor="middle" x="2463" y="-224.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return weave_dir(weaver, dir, 0)</text>
<text text-anchor="middle" x="2463" y="-208.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2463" y="-193.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2463" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="2463" y="-146.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2463" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">W.weave_all = weave_all</text>
</g>
<!-- codeblock_23&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>codeblock_23&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2283.1888,-1374.2331C2293.2153,-1330.5035 2319.9984,-1213.6911 2349.9258,-1083.165"/>
<polygon fill="#000000" stroke="#000000" points="2353.3549,-1083.8702 2352.1783,-1073.3409 2346.5319,-1082.3058 2353.3549,-1083.8702"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="3104,-640.6018 2822,-640.6018 2822,-539.4 3104,-539.4 3104,-640.6018"/>
<text text-anchor="middle" x="2963" y="-625.601" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Weaver, doc)</text>
<text text-anchor="middle" x="2963" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local weaver = setmetatable({}, W)</text>
<text text-anchor="middle" x="2963" y="-562.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return weaver</text>
<text text-anchor="middle" x="2963" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_24&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>codeblock_24&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2733.3498,-1374.2331C2761.869,-1276.8432 2896.5371,-816.965 2945.3101,-650.4101"/>
<polygon fill="#000000" stroke="#000000" points="2948.6696,-651.3916 2948.1211,-640.811 2941.9517,-649.4243 2948.6696,-651.3916"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="3194,-608.0009 3122,-608.0009 3122,-572.0009 3194,-572.0009 3194,-608.0009"/>
<text text-anchor="middle" x="3158" y="-586.501" font-family="Inconsolata" font-size="14.00" fill="#000000">return W</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>codeblock_25&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3056.1254,-1374.2474C3066.9838,-1325.5835 3096.6434,-1188.5899 3113,-1073.2018 3137.4006,-901.0672 3151.7025,-692.4825 3156.3321,-618.0514"/>
<polygon fill="#000000" stroke="#000000" points="3159.8259,-618.2591 3156.9451,-608.0634 3152.839,-617.8303 3159.8259,-618.2591"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1394.5,-70.7004 881.5,-70.7004 881.5,-.0997 1394.5,-.0997 1394.5,-70.7004"/>
<text text-anchor="middle" x="1138" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The sh&#45;lib monkeypatches the global metatable, and all we want is one</text>
<text text-anchor="middle" x="1138" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">command, so we do something odd here:</text>
</g>
<!-- raw_27&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>raw_27&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1138,-571.8637C1138,-495.1968 1138,-196.3718 1138,-81.1039"/>
<polygon fill="#000000" stroke="#000000" points="1141.5001,-80.8574 1138,-70.8574 1134.5001,-80.8575 1141.5001,-80.8574"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1876,-55.3021 1496,-55.3021 1496,-15.4979 1876,-15.4979 1876,-55.3021"/>
<text text-anchor="middle" x="1686" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">Letting us build a helper to make SVG from dotfiles.</text>
</g>
<!-- raw_30&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>raw_30&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1686,-571.8637C1686,-491.35 1686,-165.8252 1686,-65.1907"/>
<polygon fill="#000000" stroke="#000000" points="1689.5001,-65.1086 1686,-55.1086 1682.5001,-65.1087 1689.5001,-65.1086"/>
</g>
</g>
</svg>