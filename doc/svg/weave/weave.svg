<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="3003pt" height="1884pt"
 viewBox="0.00 0.00 3003.00 1884.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1880.4027)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1880.4027 2999,-1880.4027 2999,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="656" cy="-1858.4027" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="656" y="-1854.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 156</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="656" cy="-1786.4027" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="656" y="-1782.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;55</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M656,-1840.234C656,-1832.5336 656,-1823.377 656,-1814.8193"/>
<polygon fill="#000000" stroke="#000000" points="659.5001,-1814.8159 656,-1804.816 652.5001,-1814.816 659.5001,-1814.8159"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="392" cy="-1714.4027" rx="49.5296" ry="18"/>
<text text-anchor="middle" x="392" y="-1710.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Weave</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M609.453,-1774.6866C567.8117,-1764.0758 505.1665,-1747.7933 451,-1732.4027 447.3881,-1731.3764 443.6588,-1730.2936 439.912,-1729.189"/>
<polygon fill="#000000" stroke="#000000" points="440.6052,-1725.7434 430.022,-1726.238 438.6037,-1732.4512 440.6052,-1725.7434"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="492" cy="-1714.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="492" y="-1710.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M621.6202,-1771.3091C593.8097,-1759.0996 554.8158,-1741.9803 526.8739,-1729.7132"/>
<polygon fill="#000000" stroke="#000000" points="528.0513,-1726.4077 517.4879,-1725.5925 525.2374,-1732.8172 528.0513,-1726.4077"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="574" cy="-1714.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="574" y="-1710.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M636.5671,-1769.3397C625.3006,-1759.4471 610.9965,-1746.8874 598.9098,-1736.2747"/>
<polygon fill="#000000" stroke="#000000" points="601.1653,-1733.5974 591.3415,-1729.6294 596.5466,-1738.8575 601.1653,-1733.5974"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="656" cy="-1714.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="656" y="-1710.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M656,-1768.234C656,-1760.5336 656,-1751.377 656,-1742.8193"/>
<polygon fill="#000000" stroke="#000000" points="659.5001,-1742.8159 656,-1732.816 652.5001,-1742.816 659.5001,-1742.8159"/>
</g>
<!-- codeblock_6 -->
<g id="node7" class="node">
<title>codeblock_6</title>
<ellipse fill="none" stroke="#000000" cx="809" cy="-1714.4027" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="809" y="-1710.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 10&#45;47</text>
</g>
<!-- section_1&#45;&gt;codeblock_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;codeblock_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M688.4474,-1771.1333C710.8484,-1760.5917 740.8943,-1746.4524 765.3859,-1734.927"/>
<polygon fill="#000000" stroke="#000000" points="766.9152,-1738.0756 774.473,-1730.6507 763.9345,-1731.7418 766.9152,-1738.0756"/>
</g>
<!-- codeblock_7 -->
<g id="node8" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="1061" cy="-1714.4027" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1061" y="-1710.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 49&#45;53</text>
</g>
<!-- section_1&#45;&gt;codeblock_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;codeblock_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M708.1176,-1777.1373C779.62,-1764.4258 908.4297,-1741.5263 989.072,-1727.1899"/>
<polygon fill="#000000" stroke="#000000" points="989.9136,-1730.5952 999.1466,-1725.3988 988.6883,-1723.7033 989.9136,-1730.5952"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="1602" cy="-1714.4027" rx="70.655" ry="18"/>
<text text-anchor="middle" x="1602" y="-1710.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 56&#45;156</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M715.1765,-1781.8988C879.1341,-1769.42 1339.304,-1734.3965 1523.9193,-1720.3454"/>
<polygon fill="#000000" stroke="#000000" points="1524.3852,-1723.8202 1534.0907,-1719.5713 1523.8539,-1716.8403 1524.3852,-1723.8202"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="424.5,-1395.1022 359.5,-1395.1022 359.5,-1359.1022 424.5,-1359.1022 424.5,-1395.1022"/>
<text text-anchor="middle" x="392" y="-1373.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">* Weave</text>
</g>
<!-- header_2&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>header_2&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M392,-1696.2679C392,-1640.79 392,-1473.0452 392,-1405.6183"/>
<polygon fill="#000000" stroke="#000000" points="395.5001,-1405.3266 392,-1395.3266 388.5001,-1405.3267 395.5001,-1405.3266"/>
</g>
<!-- raw_10 -->
<g id="node11" class="node">
<title>raw_10</title>
<ellipse fill="none" stroke="#000000" cx="481" cy="-1377.1022" rx="27" ry="18"/>
<text text-anchor="middle" x="481" y="-1372.9022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_10 -->
<g id="edge10" class="edge">
<title>prose_3&#45;&gt;raw_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M491.4086,-1696.2679C489.5994,-1640.79 484.1289,-1473.0452 481.93,-1405.6183"/>
<polygon fill="#000000" stroke="#000000" points="485.4185,-1405.2072 481.5943,-1395.3266 478.4222,-1405.4354 485.4185,-1405.2072"/>
</g>
<!-- raw_12 -->
<g id="node13" class="node">
<title>raw_12</title>
<ellipse fill="none" stroke="#000000" cx="564" cy="-1377.1022" rx="27" ry="18"/>
<text text-anchor="middle" x="564" y="-1372.9022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_12 -->
<g id="edge12" class="edge">
<title>prose_4&#45;&gt;raw_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M573.4624,-1696.2679C571.8176,-1640.79 566.8444,-1473.0452 564.8454,-1405.6183"/>
<polygon fill="#000000" stroke="#000000" points="568.3352,-1405.2185 564.5403,-1395.3266 561.3383,-1405.426 568.3352,-1405.2185"/>
</g>
<!-- raw_14 -->
<g id="node15" class="node">
<title>raw_14</title>
<ellipse fill="none" stroke="#000000" cx="636" cy="-1377.1022" rx="27" ry="18"/>
<text text-anchor="middle" x="636" y="-1372.9022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_14 -->
<g id="edge14" class="edge">
<title>prose_5&#45;&gt;raw_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M654.9247,-1696.2679C651.6352,-1640.79 641.6889,-1473.0452 637.6908,-1405.6183"/>
<polygon fill="#000000" stroke="#000000" points="641.1665,-1405.1019 637.0806,-1395.3266 634.1787,-1405.5163 641.1665,-1405.1019"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1005,-1660.2033 681,-1660.2033 681,-1094.0012 1005,-1094.0012 1005,-1660.2033"/>
<text text-anchor="middle" x="843" y="-1645.2027" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="843" y="-1613.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_file = require &quot;pl.file&quot;</text>
<text text-anchor="middle" x="843" y="-1598.4026" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_dir = require &quot;pl.dir&quot;</text>
<text text-anchor="middle" x="843" y="-1583.0026" font-family="Inconsolata" font-size="14.00" fill="#000000">local pl_path = require &quot;pl.path&quot;</text>
<text text-anchor="middle" x="843" y="-1567.6026" font-family="Inconsolata" font-size="14.00" fill="#000000">local getfiles = pl_dir.getfiles</text>
<text text-anchor="middle" x="843" y="-1552.2025" font-family="Inconsolata" font-size="14.00" fill="#000000">local makepath = pl_dir.makepath</text>
<text text-anchor="middle" x="843" y="-1536.8025" font-family="Inconsolata" font-size="14.00" fill="#000000">local getdirectories = pl_dir.getdirectories</text>
<text text-anchor="middle" x="843" y="-1521.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">local extension = pl_path.extension</text>
<text text-anchor="middle" x="843" y="-1506.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">local dirname = pl_path.dirname</text>
<text text-anchor="middle" x="843" y="-1490.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">local basename = pl_path.basename</text>
<text text-anchor="middle" x="843" y="-1475.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">local read = pl_file.read</text>
<text text-anchor="middle" x="843" y="-1459.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">local write = pl_file.write</text>
<text text-anchor="middle" x="843" y="-1444.4023" font-family="Inconsolata" font-size="14.00" fill="#000000">local isdir = pl_path.isdir</text>
<text text-anchor="middle" x="843" y="-1413.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">local u = require &quot;lib/util&quot;</text>
<text text-anchor="middle" x="843" y="-1397.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">local a = require &quot;lib/ansi&quot;</text>
<text text-anchor="middle" x="843" y="-1350.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;lib/status&quot; ()</text>
<text text-anchor="middle" x="843" y="-1334.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">s.verbose = false</text>
<text text-anchor="middle" x="843" y="-1303.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">local m = require &quot;Orbit/morphemes&quot;</text>
<text text-anchor="middle" x="843" y="-1288.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local walk = require &quot;walk&quot;</text>
<text text-anchor="middle" x="843" y="-1272.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">local strHas = walk.strHas</text>
<text text-anchor="middle" x="843" y="-1257.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">local endsWith = walk.endsWith</text>
<text text-anchor="middle" x="843" y="-1241.802" font-family="Inconsolata" font-size="14.00" fill="#000000">local subLastFor = walk.subLastFor</text>
<text text-anchor="middle" x="843" y="-1226.402" font-family="Inconsolata" font-size="14.00" fill="#000000">local writeOnChange = walk.writeOnChange</text>
<text text-anchor="middle" x="843" y="-1211.002" font-family="Inconsolata" font-size="14.00" fill="#000000">local Path = require &quot;walk/path&quot;</text>
<text text-anchor="middle" x="843" y="-1195.6019" font-family="Inconsolata" font-size="14.00" fill="#000000">local Dir = require &quot;walk/directory&quot;</text>
<text text-anchor="middle" x="843" y="-1180.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">local File = require &quot;walk/file&quot;</text>
<text text-anchor="middle" x="843" y="-1164.8019" font-family="Inconsolata" font-size="14.00" fill="#000000">local epeg = require &quot;epeg&quot;</text>
<text text-anchor="middle" x="843" y="-1133.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">local Doc = require &quot;Orbit/doc&quot;</text>
<text text-anchor="middle" x="843" y="-1102.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">local W, w = u.inherit()</text>
</g>
<!-- codeblock_6&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>codeblock_6&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M810.828,-1696.2679C811.5335,-1689.2684 812.4192,-1680.4817 813.442,-1670.3349"/>
<polygon fill="#000000" stroke="#000000" points="816.9426,-1670.5043 814.4633,-1660.2037 809.9779,-1669.8022 816.9426,-1670.5043"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="1256.5,-1404.3027 1023.5,-1404.3027 1023.5,-1349.9018 1256.5,-1349.9018 1256.5,-1404.3027"/>
<text text-anchor="middle" x="1140" y="-1389.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">function W.weaveMd(weaver, doc)</text>
<text text-anchor="middle" x="1140" y="-1373.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return doc:toMarkdown()</text>
<text text-anchor="middle" x="1140" y="-1358.2022" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>codeblock_7&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1065.2474,-1696.2679C1077.7105,-1643.0553 1114.3643,-1486.5569 1131.2725,-1414.3652"/>
<polygon fill="#000000" stroke="#000000" points="1134.746,-1414.8827 1133.6187,-1404.348 1127.9304,-1413.2863 1134.746,-1414.8827"/>
</g>
<!-- header_18 -->
<g id="node19" class="node">
<title>header_18</title>
<ellipse fill="none" stroke="#000000" cx="1340" cy="-1377.1022" rx="65.81" ry="18"/>
<text text-anchor="middle" x="1340" y="-1372.9022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : .dot to .svg</text>
</g>
<!-- section_8&#45;&gt;header_18 -->
<g id="edge18" class="edge">
<title>section_8&#45;&gt;header_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1543.8509,-1704.0934C1495.926,-1694.4609 1433.015,-1678.8244 1415,-1660.4027 1345.6332,-1589.4699 1338.4262,-1462.2235 1338.9302,-1405.61"/>
<polygon fill="#000000" stroke="#000000" points="1342.4357,-1405.3285 1339.1176,-1395.2667 1335.4369,-1405.2016 1342.4357,-1405.3285"/>
</g>
<!-- prose_19 -->
<g id="node20" class="node">
<title>prose_19</title>
<ellipse fill="none" stroke="#000000" cx="1456" cy="-1377.1022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1456" y="-1372.9022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_19 -->
<g id="edge19" class="edge">
<title>section_8&#45;&gt;prose_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1554.5306,-1700.9836C1533.665,-1692.6608 1510.8113,-1679.7588 1497,-1660.4027 1440.9829,-1581.8967 1446.3334,-1459.6161 1452.2015,-1405.0416"/>
<polygon fill="#000000" stroke="#000000" points="1455.6833,-1405.4004 1453.364,-1395.0625 1448.7303,-1404.5903 1455.6833,-1405.4004"/>
</g>
<!-- prose_20 -->
<g id="node21" class="node">
<title>prose_20</title>
<ellipse fill="none" stroke="#000000" cx="1538" cy="-1377.1022" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1538" y="-1372.9022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_20 -->
<g id="edge20" class="edge">
<title>section_8&#45;&gt;prose_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1593.346,-1696.2879C1588.7477,-1685.9795 1583.3657,-1672.7058 1580,-1660.4027 1555.0128,-1569.0623 1543.9586,-1456.8296 1539.936,-1405.3449"/>
<polygon fill="#000000" stroke="#000000" points="1543.4215,-1405.0197 1539.1818,-1395.3101 1536.4412,-1405.5443 1543.4215,-1405.0197"/>
</g>
<!-- codeblock_21 -->
<g id="node22" class="node">
<title>codeblock_21</title>
<ellipse fill="none" stroke="#000000" cx="1666" cy="-1377.1022" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1666" y="-1372.9022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 62&#45;74</text>
</g>
<!-- section_8&#45;&gt;codeblock_21 -->
<g id="edge21" class="edge">
<title>section_8&#45;&gt;codeblock_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1605.4409,-1696.2679C1615.9891,-1640.6756 1647.9269,-1472.353 1660.6682,-1405.2025"/>
<polygon fill="#000000" stroke="#000000" points="1664.1165,-1405.8038 1662.5421,-1395.3266 1657.2392,-1404.4989 1664.1165,-1405.8038"/>
</g>
<!-- codeblock_22 -->
<g id="node23" class="node">
<title>codeblock_22</title>
<ellipse fill="none" stroke="#000000" cx="2054" cy="-1377.1022" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="2054" y="-1372.9022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 78&#45;141</text>
</g>
<!-- section_8&#45;&gt;codeblock_22 -->
<g id="edge22" class="edge">
<title>section_8&#45;&gt;codeblock_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1652.5951,-1701.7944C1682.8204,-1692.9308 1721.198,-1679.2667 1752,-1660.4027 1873.2895,-1586.1216 1987.4804,-1457.4488 2033.1031,-1402.8204"/>
<polygon fill="#000000" stroke="#000000" points="2035.8904,-1404.9422 2039.5788,-1395.0101 2030.5017,-1400.4743 2035.8904,-1404.9422"/>
</g>
<!-- codeblock_23 -->
<g id="node24" class="node">
<title>codeblock_23</title>
<ellipse fill="none" stroke="#000000" cx="2503" cy="-1377.1022" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="2503" y="-1372.9022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 144&#45;151</text>
</g>
<!-- section_8&#45;&gt;codeblock_23 -->
<g id="edge23" class="edge">
<title>section_8&#45;&gt;codeblock_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1672.5221,-1712.3045C1799.4599,-1707.7208 2061.0158,-1694.3646 2145,-1660.4027 2292.7248,-1600.6651 2429.2177,-1460.032 2481.0123,-1402.4049"/>
<polygon fill="#000000" stroke="#000000" points="2483.712,-1404.6362 2487.751,-1394.8415 2478.4855,-1399.9796 2483.712,-1404.6362"/>
</g>
<!-- codeblock_24 -->
<g id="node25" class="node">
<title>codeblock_24</title>
<ellipse fill="none" stroke="#000000" cx="2827" cy="-1377.1022" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="2827" y="-1372.9022" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 153&#45;155</text>
</g>
<!-- section_8&#45;&gt;codeblock_24 -->
<g id="edge24" class="edge">
<title>section_8&#45;&gt;codeblock_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1672.6088,-1713.8827C1886.4184,-1711.8512 2517.1926,-1702.3316 2599,-1660.4027 2710.7653,-1603.1194 2786.5046,-1463.8001 2814.7208,-1404.526"/>
<polygon fill="#000000" stroke="#000000" points="2817.9234,-1405.9398 2818.9894,-1395.3988 2811.5826,-1402.9743 2817.9234,-1405.9398"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="450,-610.5021 0,-610.5021 0,-538.6997 450,-538.6997 450,-610.5021"/>
<text text-anchor="middle" x="225" y="-547.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">Our weaver is currently somewhat narrowly focused on markdown.</text>
</g>
<!-- raw_10&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>raw_10&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M479.2769,-1358.9092C474.6844,-1313.4955 460.579,-1191.759 433,-1093.8018 382.0288,-912.7584 289.1167,-708.4521 246.9085,-619.7249"/>
<polygon fill="#000000" stroke="#000000" points="249.968,-618.0094 242.5011,-610.493 243.6509,-621.0253 249.968,-618.0094"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="659.5,-594.503 468.5,-594.503 468.5,-554.6988 659.5,-554.6988 659.5,-594.503"/>
<text text-anchor="middle" x="564" y="-563.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">This will change in time.</text>
</g>
<!-- raw_12&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>raw_12&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M564,-1358.8331C564,-1254.6739 564,-735.8842 564,-604.7514"/>
<polygon fill="#000000" stroke="#000000" points="567.5001,-604.6289 564,-594.6289 560.5001,-604.629 567.5001,-604.6289"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="834,-594.503 678,-594.503 678,-554.6988 834,-554.6988 834,-594.503"/>
<text text-anchor="middle" x="756" y="-563.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">Now to activate dot!</text>
</g>
<!-- raw_14&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>raw_14&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M638.102,-1358.8441C643.3378,-1313.7773 657.5816,-1193.6608 672,-1093.8018 698.9194,-907.3632 737.0017,-684.2429 750.7745,-604.6319"/>
<polygon fill="#000000" stroke="#000000" points="754.2939,-604.8205 752.5529,-594.3697 747.3967,-603.6252 754.2939,-604.8205"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1265,-592.6009 1137,-592.6009 1137,-556.6009 1265,-556.6009 1265,-592.6009"/>
<text text-anchor="middle" x="1201" y="-571.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">*** .dot to .svg</text>
</g>
<!-- header_18&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>header_18&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1335.8585,-1358.8114C1324.8985,-1310.0594 1294.5689,-1172.8691 1274,-1057.8018 1243.1936,-885.4628 1214.6203,-677.0032 1204.696,-602.6283"/>
<polygon fill="#000000" stroke="#000000" points="1208.1566,-602.0995 1203.369,-592.6481 1201.2177,-603.0222 1208.1566,-602.0995"/>
</g>
<!-- raw_26 -->
<g id="node27" class="node">
<title>raw_26</title>
<ellipse fill="none" stroke="#000000" cx="1310" cy="-574.6009" rx="27" ry="18"/>
<text text-anchor="middle" x="1310" y="-570.4009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_19&#45;&gt;raw_26 -->
<g id="edge26" class="edge">
<title>prose_19&#45;&gt;raw_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1458.6089,-1359.1612C1464.5862,-1311.1541 1474.5053,-1177.7167 1415,-1093.8018 1394.9919,-1065.5862 1365.0178,-1086.6942 1346,-1057.8018 1249.4815,-911.1678 1286.3994,-682.507 1303.3434,-602.9913"/>
<polygon fill="#000000" stroke="#000000" points="1306.8582,-603.3033 1305.5857,-592.7852 1300.0213,-601.8011 1306.8582,-603.3033"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="1382" cy="-574.6009" rx="27" ry="18"/>
<text text-anchor="middle" x="1382" y="-570.4009" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_20&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_20&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1540.8524,-1358.9836C1547.4342,-1310.5356 1558.7205,-1176.1011 1497,-1093.8018 1473.85,-1062.9332 1440.0657,-1089.4545 1418,-1057.8018 1317.3782,-913.4626 1357.1485,-682.4226 1375.0695,-602.7119"/>
<polygon fill="#000000" stroke="#000000" points="1378.5895,-603.0254 1377.4363,-592.4935 1371.77,-601.4458 1378.5895,-603.0254"/>
</g>
<!-- leaf_30 -->
<g id="node31" class="node">
<title>leaf_30</title>
<polygon fill="none" stroke="#c0c0c0" points="1905,-663.5017 1427,-663.5017 1427,-485.7001 1905,-485.7001 1905,-663.5017"/>
<text text-anchor="middle" x="1666" y="-648.1011" font-family="Inconsolata" font-size="14.00" fill="#000000">local popen = io.popen</text>
<text text-anchor="middle" x="1666" y="-632.701" font-family="Inconsolata" font-size="14.00" fill="#000000">local function dotToSvg(dotted, out_file)</text>
<text text-anchor="middle" x="1666" y="-617.301" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local success, svg_file = pcall (popen,</text>
<text text-anchor="middle" x="1666" y="-601.901" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;dot &#45;Tsvg &quot; .. tostring(out_file), &quot;r&quot;)</text>
<text text-anchor="middle" x="1666" y="-586.501" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if success then</text>
<text text-anchor="middle" x="1666" y="-571.1009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return svg_file:read(&quot;*a&quot;)</text>
<text text-anchor="middle" x="1666" y="-555.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1666" y="-540.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; #todo start using %d and format!</text>
<text text-anchor="middle" x="1666" y="-524.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;s:complain(&quot;dotError&quot;, &quot;dot failed with &quot; .. success)</text>
<text text-anchor="middle" x="1666" y="-509.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1666" y="-494.1008" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_21&#45;&gt;leaf_30 -->
<g id="edge30" class="edge">
<title>codeblock_21&#45;&gt;leaf_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1666,-1358.8331C1666,-1268.2276 1666,-863.879 1666,-673.8671"/>
<polygon fill="#000000" stroke="#000000" points="1669.5001,-673.6 1666,-663.6001 1662.5001,-673.6001 1669.5001,-673.6"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="2604.5,-1058.0027 1923.5,-1058.0027 1923.5,-91.1991 2604.5,-91.1991 2604.5,-1058.0027"/>
<text text-anchor="middle" x="2264" y="-1042.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">local function weave_dir(weaver, pwd, depth)</text>
<text text-anchor="middle" x="2264" y="-1027.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local depth = depth + 1</text>
<text text-anchor="middle" x="2264" y="-1011.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for dir_str in pl_dir.walk(pwd, false, false) do</text>
<text text-anchor="middle" x="2264" y="-996.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;local dir = Dir(dir_str)</text>
<text text-anchor="middle" x="2264" y="-981.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not strHas(&quot;.git&quot;, dir.path.str)</text>
<text text-anchor="middle" x="2264" y="-965.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;and not strHas(&quot;src/lib&quot;, dir.path.str) then</text>
<text text-anchor="middle" x="2264" y="-950.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dir = dir.path.str &#45;&#45; migrate this down</text>
<text text-anchor="middle" x="2264" y="-934.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local files = getfiles(dir)</text>
<text text-anchor="middle" x="2264" y="-919.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb((&quot; &#160;&quot;):rep(depth) .. &quot;* &quot; .. dir)</text>
<text text-anchor="middle" x="2264" y="-904.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local subdirs = getdirectories(dir)</text>
<text text-anchor="middle" x="2264" y="-888.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for _, f in ipairs(files) do</text>
<text text-anchor="middle" x="2264" y="-873.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if extension(f) == &quot;.orb&quot; then</text>
<text text-anchor="middle" x="2264" y="-857.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Weave and prepare out directory</text>
<text text-anchor="middle" x="2264" y="-842.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:verb((&quot; &#160;&quot;):rep(depth) .. &quot; &#160;&#45; &quot; .. f)</text>
<text text-anchor="middle" x="2264" y="-827.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local orb_f = read(f)</text>
<text text-anchor="middle" x="2264" y="-811.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc = Doc(orb_f)</text>
<text text-anchor="middle" x="2264" y="-796.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc_md_dir = subLastFor(&quot;/orb&quot;, &quot;/doc/md&quot;, dirname(f))</text>
<text text-anchor="middle" x="2264" y="-780.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc_dot_dir = subLastFor(&quot;/orb&quot;, &quot;/doc/dot&quot;, dirname(f))</text>
<text text-anchor="middle" x="2264" y="-765.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local doc_svg_dir = subLastFor(&quot;/orb&quot;, &quot;/doc/svg&quot;, dirname(f))</text>
<text text-anchor="middle" x="2264" y="-750.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;makepath(doc_md_dir)</text>
<text text-anchor="middle" x="2264" y="-734.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;makepath(doc_dot_dir)</text>
<text text-anchor="middle" x="2264" y="-719.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;makepath(doc_svg_dir)</text>
<text text-anchor="middle" x="2264" y="-703.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local bare_name = basename(f):sub(1, &#45;5) &#45;&#45; &#160;== #&quot;.orb&quot;</text>
<text text-anchor="middle" x="2264" y="-688.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local out_md_name = doc_md_dir .. &quot;/&quot; .. bare_name .. &quot;.md&quot;</text>
<text text-anchor="middle" x="2264" y="-673.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local out_dot_name = doc_dot_dir .. &quot;/&quot; .. bare_name .. &quot;.dot&quot;</text>
<text text-anchor="middle" x="2264" y="-657.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local out_svg_name = doc_svg_dir .. &quot;/&quot; .. bare_name .. &quot;.svg&quot;</text>
<text text-anchor="middle" x="2264" y="-642.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local woven_md = weaver:weaveMd(doc) or &quot;&quot;</text>
<text text-anchor="middle" x="2264" y="-610.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Compare, report, and write out if necessary</text>
<text text-anchor="middle" x="2264" y="-595.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local last_md = read(out_md_name) or &quot;&quot;</text>
<text text-anchor="middle" x="2264" y="-580.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local changed_md = writeOnChange(woven_md, last_md, out_md_name, depth)</text>
<text text-anchor="middle" x="2264" y="-564.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local woven_dot = doc:dot() or &quot;&quot;</text>
<text text-anchor="middle" x="2264" y="-549.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local last_dot = read(out_dot_name) or &quot;&quot;</text>
<text text-anchor="middle" x="2264" y="-533.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local changed_dot = writeOnChange(woven_dot, last_dot, out_dot_name, depth)</text>
<text text-anchor="middle" x="2264" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; SVG call is fairly slow and only useful of the dot has changed</text>
<text text-anchor="middle" x="2264" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if changed_dot then</text>
<text text-anchor="middle" x="2264" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local woven_svg = dotToSvg(woven_dot, out_dot_name)</text>
<text text-anchor="middle" x="2264" y="-456.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local last_svg = read(out_svg_name) or &quot;&quot;</text>
<text text-anchor="middle" x="2264" y="-440.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;writeOnChange(woven_svg, last_svg, out_svg_name, depth)</text>
<text text-anchor="middle" x="2264" y="-425.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2264" y="-410.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2264" y="-394.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2264" y="-379.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2264" y="-363.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2264" y="-332.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="2264" y="-317.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2264" y="-285.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">local function weave_all(weaver, pwd)</text>
<text text-anchor="middle" x="2264" y="-270.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for dir in pl_dir.walk(pwd, false, false) do</text>
<text text-anchor="middle" x="2264" y="-254.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not strHas(&quot;.git&quot;, dir) and isdir(dir)</text>
<text text-anchor="middle" x="2264" y="-239.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;and endsWith(&quot;orb&quot;, dir) then</text>
<text text-anchor="middle" x="2264" y="-224.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:chat(a.cyan(&quot;Weave: &quot; .. dir))</text>
<text text-anchor="middle" x="2264" y="-208.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return weave_dir(weaver, dir, 0)</text>
<text text-anchor="middle" x="2264" y="-193.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2264" y="-177.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2264" y="-146.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="2264" y="-131.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="2264" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">W.weave_all = weave_all</text>
</g>
<!-- codeblock_22&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>codeblock_22&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2058.7807,-1358.8331C2070.2239,-1315.1035 2100.7916,-1198.291 2134.9479,-1067.765"/>
<polygon fill="#000000" stroke="#000000" points="2138.3731,-1068.5012 2137.5187,-1057.9409 2131.6011,-1066.729 2138.3731,-1068.5012"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="2905,-625.2018 2623,-625.2018 2623,-524 2905,-524 2905,-625.2018"/>
<text text-anchor="middle" x="2764" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local function new(Weaver, doc)</text>
<text text-anchor="middle" x="2764" y="-594.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local weaver = setmetatable({}, W)</text>
<text text-anchor="middle" x="2764" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return weaver</text>
<text text-anchor="middle" x="2764" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_23&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>codeblock_23&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2509.5102,-1358.8071C2526.8168,-1310.0446 2575.2216,-1172.8308 2613,-1057.8018 2662.7447,-906.3375 2717.8055,-726.9229 2745.6744,-635.2099"/>
<polygon fill="#000000" stroke="#000000" points="2749.0543,-636.125 2748.6109,-625.5395 2742.3563,-634.091 2749.0543,-636.125"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="2995,-592.6009 2923,-592.6009 2923,-556.6009 2995,-556.6009 2995,-592.6009"/>
<text text-anchor="middle" x="2959" y="-571.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">return W</text>
</g>
<!-- codeblock_24&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>codeblock_24&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2833.1252,-1358.9989C2849.2029,-1310.7061 2892.8248,-1174.5414 2914,-1057.8018 2945.029,-886.7377 2955.2735,-677.4977 2958.0801,-602.7721"/>
<polygon fill="#000000" stroke="#000000" points="2961.5789,-602.8633 2958.4418,-592.7436 2954.5835,-602.611 2961.5789,-602.8633"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1299,-55.6015 1171,-55.6015 1171,.2015 1299,.2015 1299,-55.6015"/>
<text text-anchor="middle" x="1235" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Stripped down:</text>
</g>
<!-- raw_26&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>raw_26&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1311.6479,-556.4712C1316.9328,-491.5259 1330.0115,-265.1381 1274,-91.4 1270.9879,-82.057 1266.3468,-72.6694 1261.3035,-64.0805"/>
<polygon fill="#000000" stroke="#000000" points="1264.1988,-62.108 1255.9538,-55.4544 1258.25,-65.7975 1264.1988,-62.108"/>
</g>
<!-- leaf_29 -->
<g id="node30" class="node">
<title>leaf_29</title>
<polygon fill="none" stroke="#c0c0c0" points="1599,-47.6021 1317,-47.6021 1317,-7.7979 1599,-7.7979 1599,-47.6021"/>
<text text-anchor="middle" x="1458" y="-16.2" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; [ ] #todo add error checking here.</text>
</g>
<!-- raw_28&#45;&gt;leaf_29 -->
<g id="edge29" class="edge">
<title>raw_28&#45;&gt;leaf_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1380.2836,-556.4489C1374.7674,-491.4283 1361.0044,-264.8178 1418,-91.4 1422.0773,-78.9943 1429.0727,-66.5606 1436.0843,-56.0139"/>
<polygon fill="#000000" stroke="#000000" points="1439.0727,-57.8472 1441.9142,-47.6405 1433.3279,-53.8474 1439.0727,-57.8472"/>
</g>
</g>
</svg>
